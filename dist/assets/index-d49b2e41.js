var nD=Object.defineProperty;var rD=(t,e,n)=>e in t?nD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Of=(t,e,n)=>(rD(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jI={exports:{}},Ip={},RI={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),iD=Symbol.for("react.portal"),oD=Symbol.for("react.fragment"),aD=Symbol.for("react.strict_mode"),sD=Symbol.for("react.profiler"),lD=Symbol.for("react.provider"),uD=Symbol.for("react.context"),cD=Symbol.for("react.forward_ref"),fD=Symbol.for("react.suspense"),dD=Symbol.for("react.memo"),hD=Symbol.for("react.lazy"),a1=Symbol.iterator;function pD(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var MI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DI=Object.assign,$I={};function ol(t,e,n){this.props=t,this.context=e,this.refs=$I,this.updater=n||MI}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LI(){}LI.prototype=ol.prototype;function bb(t,e,n){this.props=t,this.context=e,this.refs=$I,this.updater=n||MI}var wb=bb.prototype=new LI;wb.constructor=bb;DI(wb,ol.prototype);wb.isPureReactComponent=!0;var s1=Array.isArray,VI=Object.prototype.hasOwnProperty,_b={current:null},FI={key:!0,ref:!0,__self:!0,__source:!0};function BI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)VI.call(e,r)&&!FI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Vc,type:t,key:o,ref:a,props:i,_owner:_b.current}}function mD(t,e){return{$$typeof:Vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vc}function gD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l1=/\/+/g;function mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gD(""+t.key):e.toString(36)}function vd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vc:case iD:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+mg(a,0):r,s1(i)?(n="",t!=null&&(n=t.replace(l1,"$&/")+"/"),vd(i,e,n,"",function(u){return u})):i!=null&&(xb(i)&&(i=mD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(l1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",s1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+mg(o,s);a+=vd(o,e,n,l,i)}else if(l=pD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+mg(o,s++),a+=vd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nf(t,e,n){if(t==null)return t;var r=[],i=0;return vd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function yD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},bd={transition:null},vD={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:bd,ReactCurrentOwner:_b};function UI(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Nf,forEach:function(t,e,n){Nf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nf(t,function(){e++}),e},toArray:function(t){return Nf(t,function(e){return e})||[]},only:function(t){if(!xb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=ol;Ce.Fragment=oD;Ce.Profiler=sD;Ce.PureComponent=bb;Ce.StrictMode=aD;Ce.Suspense=fD;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;Ce.act=UI;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=_b.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)VI.call(e,l)&&!FI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Vc,type:t.type,key:i,ref:o,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:uD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lD,_context:t},t.Consumer=t};Ce.createElement=BI;Ce.createFactory=function(t){var e=BI.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:cD,render:t}};Ce.isValidElement=xb;Ce.lazy=function(t){return{$$typeof:hD,_payload:{_status:-1,_result:t},_init:yD}};Ce.memo=function(t,e){return{$$typeof:dD,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=bd.transition;bd.transition={};try{t()}finally{bd.transition=e}};Ce.unstable_act=UI;Ce.useCallback=function(t,e){return In.current.useCallback(t,e)};Ce.useContext=function(t){return In.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return In.current.useEffect(t,e)};Ce.useId=function(){return In.current.useId()};Ce.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return In.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Ce.useRef=function(t){return In.current.useRef(t)};Ce.useState=function(t){return In.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return In.current.useTransition()};Ce.version="18.3.1";RI.exports=Ce;var D=RI.exports;const L=rt(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD=D,wD=Symbol.for("react.element"),_D=Symbol.for("react.fragment"),xD=Object.prototype.hasOwnProperty,SD=bD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ED={key:!0,ref:!0,__self:!0,__source:!0};function zI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)xD.call(e,r)&&!ED.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wD,type:t,key:o,ref:a,props:i,_owner:SD.current}}Ip.Fragment=_D;Ip.jsx=zI;Ip.jsxs=zI;jI.exports=Ip;var p=jI.exports,Oy={},WI={exports:{}},Qn={},GI={exports:{}},HI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Q=V.length;V.push(B);e:for(;0<Q;){var ie=Q-1>>>1,X=V[ie];if(0<i(X,B))V[ie]=B,V[Q]=X,Q=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Q=V.pop();if(Q!==B){V[0]=Q;e:for(var ie=0,X=V.length,q=X>>>1;ie<q;){var fe=2*(ie+1)-1,oe=V[fe],we=fe+1,ne=V[we];if(0>i(oe,Q))we<X&&0>i(ne,oe)?(V[ie]=ne,V[we]=Q,ie=we):(V[ie]=oe,V[fe]=Q,ie=fe);else if(we<X&&0>i(ne,Q))V[ie]=ne,V[we]=Q,ie=we;else break e}}return B}function i(V,B){var Q=V.sortIndex-B.sortIndex;return Q!==0?Q:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function k(V){if(v=!1,x(V),!g)if(n(l)!==null)g=!0,$(T);else{var B=n(u);B!==null&&G(k,B.startTime-V)}}function T(V,B){g=!1,v&&(v=!1,b(S),S=-1),m=!0;var Q=h;try{for(x(B),f=n(l);f!==null&&(!(f.expirationTime>B)||V&&!O());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var X=ie(f.expirationTime<=B);B=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x(B)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var fe=n(u);fe!==null&&G(k,fe.startTime-B),q=!1}return q}finally{f=null,h=Q,m=!1}}var P=!1,E=null,S=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function R(){if(E!==null){var V=t.unstable_now();C=V;var B=!0;try{B=E(!0,V)}finally{B?N():(P=!1,E=null)}}else P=!1}var N;if(typeof w=="function")N=function(){w(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=R,N=function(){U.postMessage(null)}}else N=function(){_(R,0)};function $(V){E=V,P||(P=!0,N())}function G(V,B){S=_(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Q=h;h=B;try{return V()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=h;h=V;try{return B()}finally{h=Q}},t.unstable_scheduleCallback=function(V,B,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,V={id:d++,callback:B,priorityLevel:V,startTime:Q,expirationTime:X,sortIndex:-1},Q>ie?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(v?(b(S),S=-1):v=!0,G(k,Q-ie))):(V.sortIndex=X,e(l,V),g||m||(g=!0,$(T))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var B=h;return function(){var Q=h;h=B;try{return V.apply(this,arguments)}finally{h=Q}}}})(HI);GI.exports=HI;var TD=GI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD=D,Yn=TD;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qI=new Set,Nu={};function Sa(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(Nu[t]=e,t=0;t<e.length;t++)qI.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cy=Object.prototype.hasOwnProperty,PD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},c1={};function ID(t){return Cy.call(c1,t)?!0:Cy.call(u1,t)?!1:PD.test(t)?c1[t]=!0:(u1[t]=!0,!1)}function kD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OD(t,e,n,r){if(e===null||typeof e>"u"||kD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function Eb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sb,Eb);nn[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sb,Eb);nn[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sb,Eb);nn[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tb(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OD(e,n,i,r)&&(n=null),r||i===null?ID(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=AD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jf=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),Ab=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),KI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),Pb=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),Ib=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),XI=Symbol.for("react.offscreen"),f1=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=f1&&t[f1]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,gg;function iu(t){if(gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gg=e&&e[1]||""}return`
`+gg+t}var yg=!1;function vg(t,e){if(!t||yg)return"";yg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{yg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?iu(t):""}function CD(t){switch(t.tag){case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return t=vg(t.type,!1),t;case 11:return t=vg(t.type.render,!1),t;case 1:return t=vg(t.type,!0),t;default:return""}}function My(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ga:return"Fragment";case Wa:return"Portal";case Ny:return"Profiler";case Ab:return"StrictMode";case jy:return"Suspense";case Ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YI:return(t.displayName||"Context")+".Consumer";case KI:return(t._context.displayName||"Context")+".Provider";case Pb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ib:return e=t.displayName||null,e!==null?e:My(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return My(t(e))}catch{}}return null}function ND(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return My(e);case 8:return e===Ab?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jD(t){var e=QI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rf(t){t._valueTracker||(t._valueTracker=jD(t))}function JI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dy(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZI(t,e){e=e.checked,e!=null&&Tb(t,"checked",e,!1)}function $y(t,e){ZI(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ly(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ly(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ly(t,e,n){(e!=="number"||Fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ou=Array.isArray;function as(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(ou(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function ek(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mf,nk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RD=["Webkit","ms","Moz","O"];Object.keys(hu).forEach(function(t){RD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hu[e]=hu[t]})});function rk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hu.hasOwnProperty(t)&&hu[t]?(""+e).trim():e+"px"}function ik(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MD=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function By(t,e){if(e){if(MD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function kb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wy=null,ss=null,ls=null;function g1(t){if(t=Uc(t)){if(typeof Wy!="function")throw Error(te(280));var e=t.stateNode;e&&(e=jp(e),Wy(t.stateNode,t.type,e))}}function ok(t){ss?ls?ls.push(t):ls=[t]:ss=t}function ak(){if(ss){var t=ss,e=ls;if(ls=ss=null,g1(t),e)for(t=0;t<e.length;t++)g1(e[t])}}function sk(t,e){return t(e)}function lk(){}var bg=!1;function uk(t,e,n){if(bg)return t(e,n);bg=!0;try{return sk(t,e,n)}finally{bg=!1,(ss!==null||ls!==null)&&(lk(),ak())}}function Ru(t,e){var n=t.stateNode;if(n===null)return null;var r=jp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Gy=!1;if(vi)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Gy=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Gy=!1}function DD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var pu=!1,Bd=null,Ud=!1,Hy=null,$D={onError:function(t){pu=!0,Bd=t}};function LD(t,e,n,r,i,o,a,s,l){pu=!1,Bd=null,DD.apply($D,arguments)}function VD(t,e,n,r,i,o,a,s,l){if(LD.apply(this,arguments),pu){if(pu){var u=Bd;pu=!1,Bd=null}else throw Error(te(198));Ud||(Ud=!0,Hy=u)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ck(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y1(t){if(Ea(t)!==t)throw Error(te(188))}function FD(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return y1(i),t;if(o===r)return y1(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function fk(t){return t=FD(t),t!==null?dk(t):null}function dk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dk(t);if(e!==null)return e;t=t.sibling}return null}var hk=Yn.unstable_scheduleCallback,v1=Yn.unstable_cancelCallback,BD=Yn.unstable_shouldYield,UD=Yn.unstable_requestPaint,Tt=Yn.unstable_now,zD=Yn.unstable_getCurrentPriorityLevel,Ob=Yn.unstable_ImmediatePriority,pk=Yn.unstable_UserBlockingPriority,zd=Yn.unstable_NormalPriority,WD=Yn.unstable_LowPriority,mk=Yn.unstable_IdlePriority,kp=null,Lr=null;function GD(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:KD,HD=Math.log,qD=Math.LN2;function KD(t){return t>>>=0,t===0?32:31-(HD(t)/qD|0)|0}var Df=64,$f=4194304;function au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=au(s):(o&=a,o!==0&&(r=au(o)))}else a=n&~i,a!==0?r=au(a):o!==0&&(r=au(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function YD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=YD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function qy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gk(){var t=Df;return Df<<=1,!(Df&4194240)&&(Df=64),t}function wg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function QD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Cb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function yk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vk,Nb,bk,wk,_k,Ky=!1,Lf=[],to=null,no=null,ro=null,Mu=new Map,Du=new Map,Wi=[],JD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b1(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(e.pointerId)}}function Bl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Uc(e),e!==null&&Nb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZD(t,e,n,r,i){switch(e){case"focusin":return to=Bl(to,t,e,n,r,i),!0;case"dragenter":return no=Bl(no,t,e,n,r,i),!0;case"mouseover":return ro=Bl(ro,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mu.set(o,Bl(Mu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Du.set(o,Bl(Du.get(o)||null,t,e,n,r,i)),!0}return!1}function xk(t){var e=Ho(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=ck(n),e!==null){t.blockedOn=e,_k(t.priority,function(){bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zy=r,n.target.dispatchEvent(r),zy=null}else return e=Uc(n),e!==null&&Nb(e),t.blockedOn=n,!1;e.shift()}return!0}function w1(t,e,n){wd(t)&&n.delete(e)}function e$(){Ky=!1,to!==null&&wd(to)&&(to=null),no!==null&&wd(no)&&(no=null),ro!==null&&wd(ro)&&(ro=null),Mu.forEach(w1),Du.forEach(w1)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Ky||(Ky=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,e$)))}function $u(t){function e(i){return Ul(i,t)}if(0<Lf.length){Ul(Lf[0],t);for(var n=1;n<Lf.length;n++){var r=Lf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&Ul(to,t),no!==null&&Ul(no,t),ro!==null&&Ul(ro,t),Mu.forEach(e),Du.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)xk(n),n.blockedOn===null&&Wi.shift()}var us=Oi.ReactCurrentBatchConfig,Gd=!0;function t$(t,e,n,r){var i=Ke,o=us.transition;us.transition=null;try{Ke=1,jb(t,e,n,r)}finally{Ke=i,us.transition=o}}function n$(t,e,n,r){var i=Ke,o=us.transition;us.transition=null;try{Ke=4,jb(t,e,n,r)}finally{Ke=i,us.transition=o}}function jb(t,e,n,r){if(Gd){var i=Yy(t,e,n,r);if(i===null)Og(t,e,r,Hd,n),b1(t,r);else if(ZD(i,t,e,n,r))r.stopPropagation();else if(b1(t,r),e&4&&-1<JD.indexOf(t)){for(;i!==null;){var o=Uc(i);if(o!==null&&vk(o),o=Yy(t,e,n,r),o===null&&Og(t,e,r,Hd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Og(t,e,r,null,n)}}var Hd=null;function Yy(t,e,n,r){if(Hd=null,t=kb(r),t=Ho(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ck(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hd=t,null}function Sk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zD()){case Ob:return 1;case pk:return 4;case zd:case WD:return 16;case mk:return 536870912;default:return 16}default:return 16}}var Xi=null,Rb=null,_d=null;function Ek(){if(_d)return _d;var t,e=Rb,n=e.length,r,i="value"in Xi?Xi.value:Xi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return _d=i.slice(t,1<r?1-r:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vf(){return!0}function _1(){return!1}function Jn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vf:_1,this.isPropagationStopped=_1,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mb=Jn(al),Bc=vt({},al,{view:0,detail:0}),r$=Jn(Bc),_g,xg,zl,Op=vt({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Db,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(_g=t.screenX-zl.screenX,xg=t.screenY-zl.screenY):xg=_g=0,zl=t),_g)},movementY:function(t){return"movementY"in t?t.movementY:xg}}),x1=Jn(Op),i$=vt({},Op,{dataTransfer:0}),o$=Jn(i$),a$=vt({},Bc,{relatedTarget:0}),Sg=Jn(a$),s$=vt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),l$=Jn(s$),u$=vt({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c$=Jn(u$),f$=vt({},al,{data:0}),S1=Jn(f$),d$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p$[t])?!!e[t]:!1}function Db(){return m$}var g$=vt({},Bc,{key:function(t){if(t.key){var e=d$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Db,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y$=Jn(g$),v$=vt({},Op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E1=Jn(v$),b$=vt({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Db}),w$=Jn(b$),_$=vt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),x$=Jn(_$),S$=vt({},Op,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E$=Jn(S$),T$=[9,13,27,32],$b=vi&&"CompositionEvent"in window,mu=null;vi&&"documentMode"in document&&(mu=document.documentMode);var A$=vi&&"TextEvent"in window&&!mu,Tk=vi&&(!$b||mu&&8<mu&&11>=mu),T1=String.fromCharCode(32),A1=!1;function Ak(t,e){switch(t){case"keyup":return T$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function P$(t,e){switch(t){case"compositionend":return Pk(e);case"keypress":return e.which!==32?null:(A1=!0,T1);case"textInput":return t=e.data,t===T1&&A1?null:t;default:return null}}function I$(t,e){if(Ha)return t==="compositionend"||!$b&&Ak(t,e)?(t=Ek(),_d=Rb=Xi=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var k$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k$[t.type]:e==="textarea"}function Ik(t,e,n,r){ok(r),e=qd(e,"onChange"),0<e.length&&(n=new Mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gu=null,Lu=null;function O$(t){Vk(t,0)}function Cp(t){var e=Ya(t);if(JI(e))return t}function C$(t,e){if(t==="change")return e}var kk=!1;if(vi){var Eg;if(vi){var Tg="oninput"in document;if(!Tg){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Tg=typeof I1.oninput=="function"}Eg=Tg}else Eg=!1;kk=Eg&&(!document.documentMode||9<document.documentMode)}function k1(){gu&&(gu.detachEvent("onpropertychange",Ok),Lu=gu=null)}function Ok(t){if(t.propertyName==="value"&&Cp(Lu)){var e=[];Ik(e,Lu,t,kb(t)),uk(O$,e)}}function N$(t,e,n){t==="focusin"?(k1(),gu=e,Lu=n,gu.attachEvent("onpropertychange",Ok)):t==="focusout"&&k1()}function j$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cp(Lu)}function R$(t,e){if(t==="click")return Cp(e)}function M$(t,e){if(t==="input"||t==="change")return Cp(e)}function D$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:D$;function Vu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cy.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function O1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C1(t,e){var n=O1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function Ck(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ck(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nk(){for(var t=window,e=Fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fd(t.document)}return e}function Lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $$(t){var e=Nk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ck(n.ownerDocument.documentElement,n)){if(r!==null&&Lb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=C1(n,o);var a=C1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L$=vi&&"documentMode"in document&&11>=document.documentMode,qa=null,Xy=null,yu=null,Qy=!1;function N1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qy||qa==null||qa!==Fd(r)||(r=qa,"selectionStart"in r&&Lb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yu&&Vu(yu,r)||(yu=r,r=qd(Xy,"onSelect"),0<r.length&&(e=new Mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function Ff(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},Ag={},jk={};vi&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Np(t){if(Ag[t])return Ag[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jk)return Ag[t]=e[n];return t}var Rk=Np("animationend"),Mk=Np("animationiteration"),Dk=Np("animationstart"),$k=Np("transitionend"),Lk=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){Lk.set(t,e),Sa(e,[t])}for(var Pg=0;Pg<j1.length;Pg++){var Ig=j1[Pg],V$=Ig.toLowerCase(),F$=Ig[0].toUpperCase()+Ig.slice(1);xo(V$,"on"+F$)}xo(Rk,"onAnimationEnd");xo(Mk,"onAnimationIteration");xo(Dk,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo($k,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B$=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function R1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VD(r,e,void 0,t),t.currentTarget=null}function Vk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;R1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;R1(i,s,u),o=l}}}if(Ud)throw t=Hy,Ud=!1,Hy=null,t}function lt(t,e){var n=e[nv];n===void 0&&(n=e[nv]=new Set);var r=t+"__bubble";n.has(r)||(Fk(e,t,2,!1),n.add(r))}function kg(t,e,n){var r=0;e&&(r|=4),Fk(n,t,r,e)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Fu(t){if(!t[Bf]){t[Bf]=!0,qI.forEach(function(n){n!=="selectionchange"&&(B$.has(n)||kg(n,!1,t),kg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bf]||(e[Bf]=!0,kg("selectionchange",!1,e))}}function Fk(t,e,n,r){switch(Sk(e)){case 1:var i=t$;break;case 4:i=n$;break;default:i=jb}n=i.bind(null,e,n,t),i=void 0,!Gy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Og(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ho(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}uk(function(){var u=o,d=kb(n),f=[];e:{var h=Lk.get(t);if(h!==void 0){var m=Mb,g=t;switch(t){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":m=y$;break;case"focusin":g="focus",m=Sg;break;case"focusout":g="blur",m=Sg;break;case"beforeblur":case"afterblur":m=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w$;break;case Rk:case Mk:case Dk:m=l$;break;case $k:m=x$;break;case"scroll":m=r$;break;case"wheel":m=E$;break;case"copy":case"cut":case"paste":m=c$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E1}var v=(e&4)!==0,_=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,x;w!==null;){x=w;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,b!==null&&(k=Ru(w,b),k!=null&&v.push(Bu(w,k,x)))),_)break;w=w.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==zy&&(g=n.relatedTarget||n.fromElement)&&(Ho(g)||g[bi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ho(g):null,g!==null&&(_=Ea(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=x1,k="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=E1,k="onPointerLeave",b="onPointerEnter",w="pointer"),_=m==null?h:Ya(m),x=g==null?h:Ya(g),h=new v(k,w+"leave",m,n,d),h.target=_,h.relatedTarget=x,k=null,Ho(d)===u&&(v=new v(b,w+"enter",g,n,d),v.target=x,v.relatedTarget=_,k=v),_=k,m&&g)t:{for(v=m,b=g,w=0,x=v;x;x=Da(x))w++;for(x=0,k=b;k;k=Da(k))x++;for(;0<w-x;)v=Da(v),w--;for(;0<x-w;)b=Da(b),x--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=Da(v),b=Da(b)}v=null}else v=null;m!==null&&M1(f,h,m,v,!1),g!==null&&_!==null&&M1(f,_,g,v,!0)}}e:{if(h=u?Ya(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=C$;else if(P1(h))if(kk)T=M$;else{T=j$;var P=N$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=R$);if(T&&(T=T(t,u))){Ik(f,T,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ly(h,"number",h.value)}switch(P=u?Ya(u):window,t){case"focusin":(P1(P)||P.contentEditable==="true")&&(qa=P,Xy=u,yu=null);break;case"focusout":yu=Xy=qa=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,N1(f,n,d);break;case"selectionchange":if(L$)break;case"keydown":case"keyup":N1(f,n,d)}var E;if($b)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ha?Ak(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Tk&&n.locale!=="ko"&&(Ha||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ha&&(E=Ek()):(Xi=d,Rb="value"in Xi?Xi.value:Xi.textContent,Ha=!0)),P=qd(u,S),0<P.length&&(S=new S1(S,t,null,n,d),f.push({event:S,listeners:P}),E?S.data=E:(E=Pk(n),E!==null&&(S.data=E)))),(E=A$?P$(t,n):I$(t,n))&&(u=qd(u,"onBeforeInput"),0<u.length&&(d=new S1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Vk(f,e)})}function Bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ru(t,n),o!=null&&r.unshift(Bu(t,o,i)),o=Ru(t,e),o!=null&&r.push(Bu(t,o,i))),t=t.return}return r}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M1(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Ru(n,o),l!=null&&a.unshift(Bu(n,l,s))):i||(l=Ru(n,o),l!=null&&a.push(Bu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var U$=/\r\n?/g,z$=/\u0000|\uFFFD/g;function D1(t){return(typeof t=="string"?t:""+t).replace(U$,`
`).replace(z$,"")}function Uf(t,e,n){if(e=D1(e),D1(t)!==e&&n)throw Error(te(425))}function Kd(){}var Jy=null,Zy=null;function ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tv=typeof setTimeout=="function"?setTimeout:void 0,W$=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,G$=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(t){return $1.resolve(null).then(t).catch(H$)}:tv;function H$(t){setTimeout(function(){throw t})}function Cg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$u(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),Dr="__reactFiber$"+sl,Uu="__reactProps$"+sl,bi="__reactContainer$"+sl,nv="__reactEvents$"+sl,q$="__reactListeners$"+sl,K$="__reactHandles$"+sl;function Ho(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=L1(t);t!==null;){if(n=t[Dr])return n;t=L1(t)}return e}t=n,n=t.parentNode}return null}function Uc(t){return t=t[Dr]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function jp(t){return t[Uu]||null}var rv=[],Xa=-1;function So(t){return{current:t}}function dt(t){0>Xa||(t.current=rv[Xa],rv[Xa]=null,Xa--)}function ot(t,e){Xa++,rv[Xa]=t.current,t.current=e}var vo={},bn=So(vo),Rn=So(!1),la=vo;function _s(t,e){var n=t.type.contextTypes;if(!n)return vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function Yd(){dt(Rn),dt(bn)}function V1(t,e,n){if(bn.current!==vo)throw Error(te(168));ot(bn,e),ot(Rn,n)}function Bk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,ND(t)||"Unknown",i));return vt({},n,r)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vo,la=bn.current,ot(bn,t),ot(Rn,Rn.current),!0}function F1(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=Bk(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,dt(Rn),dt(bn),ot(bn,t)):dt(Rn),ot(Rn,n)}var ti=null,Rp=!1,Ng=!1;function Uk(t){ti===null?ti=[t]:ti.push(t)}function Y$(t){Rp=!0,Uk(t)}function Eo(){if(!Ng&&ti!==null){Ng=!0;var t=0,e=Ke;try{var n=ti;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Rp=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),hk(Ob,Eo),i}finally{Ke=e,Ng=!1}}return null}var Qa=[],Ja=0,Qd=null,Jd=0,nr=[],rr=0,ua=null,ri=1,ii="";function Vo(t,e){Qa[Ja++]=Jd,Qa[Ja++]=Qd,Qd=t,Jd=e}function zk(t,e,n){nr[rr++]=ri,nr[rr++]=ii,nr[rr++]=ua,ua=t;var r=ri;t=ii;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ri=1<<32-Pr(e)+i|n<<i|r,ii=o+t}else ri=1<<o|n<<i|r,ii=t}function Vb(t){t.return!==null&&(Vo(t,1),zk(t,1,0))}function Fb(t){for(;t===Qd;)Qd=Qa[--Ja],Qa[Ja]=null,Jd=Qa[--Ja],Qa[Ja]=null;for(;t===ua;)ua=nr[--rr],nr[rr]=null,ii=nr[--rr],nr[rr]=null,ri=nr[--rr],nr[rr]=null}var Kn=null,Hn=null,ht=!1,xr=null;function Wk(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ua!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ov(t){if(ht){var e=Hn;if(e){var n=e;if(!B1(t,e)){if(iv(t))throw Error(te(418));e=io(n.nextSibling);var r=Kn;e&&B1(t,e)?Wk(r,n):(t.flags=t.flags&-4097|2,ht=!1,Kn=t)}}else{if(iv(t))throw Error(te(418));t.flags=t.flags&-4097|2,ht=!1,Kn=t}}}function U1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function zf(t){if(t!==Kn)return!1;if(!ht)return U1(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ev(t.type,t.memoizedProps)),e&&(e=Hn)){if(iv(t))throw Gk(),Error(te(418));for(;e;)Wk(t,e),e=io(e.nextSibling)}if(U1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?io(t.stateNode.nextSibling):null;return!0}function Gk(){for(var t=Hn;t;)t=io(t.nextSibling)}function xs(){Hn=Kn=null,ht=!1}function Bb(t){xr===null?xr=[t]:xr.push(t)}var X$=Oi.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Wf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z1(t){var e=t._init;return e(t._payload)}function Hk(t){function e(b,w){if(t){var x=b.deletions;x===null?(b.deletions=[w],b.flags|=16):x.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=lo(b,w),b.index=0,b.sibling=null,b}function o(b,w,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<w?(b.flags|=2,w):x):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,w,x,k){return w===null||w.tag!==6?(w=Vg(x,b.mode,k),w.return=b,w):(w=i(w,x),w.return=b,w)}function l(b,w,x,k){var T=x.type;return T===Ga?d(b,w,x.props.children,k,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fi&&z1(T)===w.type)?(k=i(w,x.props),k.ref=Wl(b,w,x),k.return=b,k):(k=kd(x.type,x.key,x.props,null,b.mode,k),k.ref=Wl(b,w,x),k.return=b,k)}function u(b,w,x,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Fg(x,b.mode,k),w.return=b,w):(w=i(w,x.children||[]),w.return=b,w)}function d(b,w,x,k,T){return w===null||w.tag!==7?(w=na(x,b.mode,k,T),w.return=b,w):(w=i(w,x),w.return=b,w)}function f(b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Vg(""+w,b.mode,x),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jf:return x=kd(w.type,w.key,w.props,null,b.mode,x),x.ref=Wl(b,null,w),x.return=b,x;case Wa:return w=Fg(w,b.mode,x),w.return=b,w;case Fi:var k=w._init;return f(b,k(w._payload),x)}if(ou(w)||Vl(w))return w=na(w,b.mode,x,null),w.return=b,w;Wf(b,w)}return null}function h(b,w,x,k){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(b,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jf:return x.key===T?l(b,w,x,k):null;case Wa:return x.key===T?u(b,w,x,k):null;case Fi:return T=x._init,h(b,w,T(x._payload),k)}if(ou(x)||Vl(x))return T!==null?null:d(b,w,x,k,null);Wf(b,x)}return null}function m(b,w,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(x)||null,s(w,b,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case jf:return b=b.get(k.key===null?x:k.key)||null,l(w,b,k,T);case Wa:return b=b.get(k.key===null?x:k.key)||null,u(w,b,k,T);case Fi:var P=k._init;return m(b,w,x,P(k._payload),T)}if(ou(k)||Vl(k))return b=b.get(x)||null,d(w,b,k,T,null);Wf(w,k)}return null}function g(b,w,x,k){for(var T=null,P=null,E=w,S=w=0,I=null;E!==null&&S<x.length;S++){E.index>S?(I=E,E=null):I=E.sibling;var C=h(b,E,x[S],k);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(b,E),w=o(C,w,S),P===null?T=C:P.sibling=C,P=C,E=I}if(S===x.length)return n(b,E),ht&&Vo(b,S),T;if(E===null){for(;S<x.length;S++)E=f(b,x[S],k),E!==null&&(w=o(E,w,S),P===null?T=E:P.sibling=E,P=E);return ht&&Vo(b,S),T}for(E=r(b,E);S<x.length;S++)I=m(E,b,S,x[S],k),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),w=o(I,w,S),P===null?T=I:P.sibling=I,P=I);return t&&E.forEach(function(O){return e(b,O)}),ht&&Vo(b,S),T}function v(b,w,x,k){var T=Vl(x);if(typeof T!="function")throw Error(te(150));if(x=T.call(x),x==null)throw Error(te(151));for(var P=T=null,E=w,S=w=0,I=null,C=x.next();E!==null&&!C.done;S++,C=x.next()){E.index>S?(I=E,E=null):I=E.sibling;var O=h(b,E,C.value,k);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(b,E),w=o(O,w,S),P===null?T=O:P.sibling=O,P=O,E=I}if(C.done)return n(b,E),ht&&Vo(b,S),T;if(E===null){for(;!C.done;S++,C=x.next())C=f(b,C.value,k),C!==null&&(w=o(C,w,S),P===null?T=C:P.sibling=C,P=C);return ht&&Vo(b,S),T}for(E=r(b,E);!C.done;S++,C=x.next())C=m(E,b,S,C.value,k),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?S:C.key),w=o(C,w,S),P===null?T=C:P.sibling=C,P=C);return t&&E.forEach(function(R){return e(b,R)}),ht&&Vo(b,S),T}function _(b,w,x,k){if(typeof x=="object"&&x!==null&&x.type===Ga&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jf:e:{for(var T=x.key,P=w;P!==null;){if(P.key===T){if(T=x.type,T===Ga){if(P.tag===7){n(b,P.sibling),w=i(P,x.props.children),w.return=b,b=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fi&&z1(T)===P.type){n(b,P.sibling),w=i(P,x.props),w.ref=Wl(b,P,x),w.return=b,b=w;break e}n(b,P);break}else e(b,P);P=P.sibling}x.type===Ga?(w=na(x.props.children,b.mode,k,x.key),w.return=b,b=w):(k=kd(x.type,x.key,x.props,null,b.mode,k),k.ref=Wl(b,w,x),k.return=b,b=k)}return a(b);case Wa:e:{for(P=x.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(b,w.sibling),w=i(w,x.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Fg(x,b.mode,k),w.return=b,b=w}return a(b);case Fi:return P=x._init,_(b,w,P(x._payload),k)}if(ou(x))return g(b,w,x,k);if(Vl(x))return v(b,w,x,k);Wf(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,x),w.return=b,b=w):(n(b,w),w=Vg(x,b.mode,k),w.return=b,b=w),a(b)):n(b,w)}return _}var Ss=Hk(!0),qk=Hk(!1),Zd=So(null),eh=null,Za=null,Ub=null;function zb(){Ub=Za=eh=null}function Wb(t){var e=Zd.current;dt(Zd),t._currentValue=e}function av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cs(t,e){eh=t,Ub=Za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(Ub!==t)if(t={context:t,memoizedValue:e,next:null},Za===null){if(eh===null)throw Error(te(308));Za=t,eh.dependencies={lanes:0,firstContext:t}}else Za=Za.next=t;return e}var qo=null;function Gb(t){qo===null?qo=[t]:qo.push(t)}function Kk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gb(e)):(n.next=i.next,i.next=n),e.interleaved=n,wi(t,r)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bi=!1;function Hb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wi(t,n)}return i=r.interleaved,i===null?(e.next=e,Gb(r)):(e.next=i.next,i.next=e),r.interleaved=e,wi(t,n)}function Sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cb(t,n)}}function W1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function th(t,e,n,r){var i=t.updateQueue;Bi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(h=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=vt({},f,h);break e;case 2:Bi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fa|=a,t.lanes=a,t.memoizedState=f}}function G1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var zc={},Vr=So(zc),zu=So(zc),Wu=So(zc);function Ko(t){if(t===zc)throw Error(te(174));return t}function qb(t,e){switch(ot(Wu,e),ot(zu,t),ot(Vr,zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fy(e,t)}dt(Vr),ot(Vr,e)}function Es(){dt(Vr),dt(zu),dt(Wu)}function Xk(t){Ko(Wu.current);var e=Ko(Vr.current),n=Fy(e,t.type);e!==n&&(ot(zu,t),ot(Vr,n))}function Kb(t){zu.current===t&&(dt(Vr),dt(zu))}var gt=So(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jg=[];function Yb(){for(var t=0;t<jg.length;t++)jg[t]._workInProgressVersionPrimary=null;jg.length=0}var Ed=Oi.ReactCurrentDispatcher,Rg=Oi.ReactCurrentBatchConfig,ca=0,yt=null,Rt=null,Wt=null,rh=!1,vu=!1,Gu=0,Q$=0;function cn(){throw Error(te(321))}function Xb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Qb(t,e,n,r,i,o){if(ca=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ed.current=t===null||t.memoizedState===null?tL:nL,t=n(r,i),vu){o=0;do{if(vu=!1,Gu=0,25<=o)throw Error(te(301));o+=1,Wt=Rt=null,e.updateQueue=null,Ed.current=rL,t=n(r,i)}while(vu)}if(Ed.current=ih,e=Rt!==null&&Rt.next!==null,ca=0,Wt=Rt=yt=null,rh=!1,e)throw Error(te(300));return t}function Jb(){var t=Gu!==0;return Gu=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?yt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function fr(){if(Rt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Wt===null?yt.memoizedState:Wt.next;if(e!==null)Wt=e,Rt=t;else{if(t===null)throw Error(te(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Wt===null?yt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Hu(t,e){return typeof e=="function"?e(t):e}function Mg(t){var e=fr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((ca&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,yt.lanes|=d,fa|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Or(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,fa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dg(t){var e=fr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Or(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Qk(){}function Jk(t,e){var n=yt,r=fr(),i=e(),o=!Or(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,Zb(tO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,qu(9,eO.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(te(349));ca&30||Zk(n,e,i)}return i}function Zk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eO(t,e,n,r){e.value=n,e.getSnapshot=r,nO(e)&&rO(t)}function tO(t,e,n){return n(function(){nO(e)&&rO(t)})}function nO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function rO(t){var e=wi(t,1);e!==null&&Ir(e,t,1,-1)}function H1(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:t},e.queue=t,t=t.dispatch=eL.bind(null,yt,t),[e.memoizedState,t]}function qu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iO(){return fr().memoizedState}function Td(t,e,n,r){var i=Rr();yt.flags|=t,i.memoizedState=qu(1|e,n,void 0,r===void 0?null:r)}function Mp(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var a=Rt.memoizedState;if(o=a.destroy,r!==null&&Xb(r,a.deps)){i.memoizedState=qu(e,n,o,r);return}}yt.flags|=t,i.memoizedState=qu(1|e,n,o,r)}function q1(t,e){return Td(8390656,8,t,e)}function Zb(t,e){return Mp(2048,8,t,e)}function oO(t,e){return Mp(4,2,t,e)}function aO(t,e){return Mp(4,4,t,e)}function sO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lO(t,e,n){return n=n!=null?n.concat([t]):null,Mp(4,4,sO.bind(null,e,t),n)}function ew(){}function uO(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cO(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fO(t,e,n){return ca&21?(Or(n,e)||(n=gk(),yt.lanes|=n,fa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function J$(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Rg.transition;Rg.transition={};try{t(!1),e()}finally{Ke=n,Rg.transition=r}}function dO(){return fr().memoizedState}function Z$(t,e,n){var r=so(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hO(t))pO(e,n);else if(n=Kk(t,e,n,r),n!==null){var i=An();Ir(n,t,r,i),mO(n,e,r)}}function eL(t,e,n){var r=so(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hO(t))pO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Or(s,a)){var l=e.interleaved;l===null?(i.next=i,Gb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Kk(t,e,i,r),n!==null&&(i=An(),Ir(n,t,r,i),mO(n,e,r))}}function hO(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function pO(t,e){vu=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cb(t,n)}}var ih={readContext:cr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},tL={readContext:cr,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Td(4194308,4,sO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Td(4194308,4,t,e)},useInsertionEffect:function(t,e){return Td(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z$.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:H1,useDebugValue:ew,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=H1(!1),e=t[0];return t=J$.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Rr();if(ht){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Gt===null)throw Error(te(349));ca&30||Zk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,q1(tO.bind(null,r,o,t),[t]),r.flags|=2048,qu(9,eO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Gt.identifierPrefix;if(ht){var n=ii,r=ri;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nL={readContext:cr,useCallback:uO,useContext:cr,useEffect:Zb,useImperativeHandle:lO,useInsertionEffect:oO,useLayoutEffect:aO,useMemo:cO,useReducer:Mg,useRef:iO,useState:function(){return Mg(Hu)},useDebugValue:ew,useDeferredValue:function(t){var e=fr();return fO(e,Rt.memoizedState,t)},useTransition:function(){var t=Mg(Hu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:dO,unstable_isNewReconciler:!1},rL={readContext:cr,useCallback:uO,useContext:cr,useEffect:Zb,useImperativeHandle:lO,useInsertionEffect:oO,useLayoutEffect:aO,useMemo:cO,useReducer:Dg,useRef:iO,useState:function(){return Dg(Hu)},useDebugValue:ew,useDeferredValue:function(t){var e=fr();return Rt===null?e.memoizedState=t:fO(e,Rt.memoizedState,t)},useTransition:function(){var t=Dg(Hu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:dO,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dp={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=so(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(Ir(e,t,i,r),Sd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=so(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(Ir(e,t,i,r),Sd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=so(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=oo(t,i,r),e!==null&&(Ir(e,t,r,n),Sd(e,t,r))}};function K1(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Vu(n,r)||!Vu(i,o):!0}function gO(t,e,n){var r=!1,i=vo,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=Mn(e)?la:bn.current,r=e.contextTypes,o=(r=r!=null)?_s(t,i):vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dp.enqueueReplaceState(e,e.state,null)}function lv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=Mn(e)?la:bn.current,i.context=_s(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(sv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dp.enqueueReplaceState(i,i.state,null),th(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e){try{var n="",r=e;do n+=CD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $g(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iL=typeof WeakMap=="function"?WeakMap:Map;function yO(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ah||(ah=!0,bv=r),uv(t,e)},n}function vO(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uv(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function X1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vL.bind(null,t,e,n),e.then(t,t))}function Q1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var oL=Oi.ReactCurrentOwner,Nn=!1;function Sn(t,e,n,r){e.child=t===null?qk(e,null,n,r):Ss(e,t.child,n,r)}function Z1(t,e,n,r,i){n=n.render;var o=e.ref;return cs(e,i),r=Qb(t,e,n,r,o,i),n=Jb(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ht&&n&&Vb(e),e.flags|=1,Sn(t,e,r,i),e.child)}function eS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!lw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,bO(t,e,o,r,i)):(t=kd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Vu,n(a,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=lo(o,r),t.ref=e.ref,t.return=e,e.child=t}function bO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Vu(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,_i(t,e,i)}return cv(t,e,n,r,i)}function wO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ts,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(ts,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ot(ts,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ot(ts,zn),zn|=r;return Sn(t,e,i,n),e.child}function _O(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cv(t,e,n,r,i){var o=Mn(n)?la:bn.current;return o=_s(e,o),cs(e,i),n=Qb(t,e,n,r,o,i),r=Jb(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ht&&r&&Vb(e),e.flags|=1,Sn(t,e,n,i),e.child)}function tS(t,e,n,r,i){if(Mn(n)){var o=!0;Xd(e)}else o=!1;if(cs(e,i),e.stateNode===null)Ad(t,e),gO(e,n,r),lv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=Mn(n)?la:bn.current,u=_s(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Y1(e,a,r,u),Bi=!1;var h=e.memoizedState;a.state=h,th(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Rn.current||Bi?(typeof d=="function"&&(sv(e,n,d,r),l=e.memoizedState),(s=Bi||K1(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Yk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:vr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Mn(n)?la:bn.current,l=_s(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Y1(e,a,r,l),Bi=!1,h=e.memoizedState,a.state=h,th(e,r,a,i);var g=e.memoizedState;s!==f||h!==g||Rn.current||Bi?(typeof m=="function"&&(sv(e,n,m,r),g=e.memoizedState),(u=Bi||K1(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fv(t,e,n,r,o,i)}function fv(t,e,n,r,i,o){_O(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&F1(e,n,!1),_i(t,e,o);r=e.stateNode,oL.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ss(e,t.child,null,o),e.child=Ss(e,null,s,o)):Sn(t,e,s,o),e.memoizedState=r.state,i&&F1(e,n,!0),e.child}function xO(t){var e=t.stateNode;e.pendingContext?V1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V1(t,e.context,!1),qb(t,e.containerInfo)}function nS(t,e,n,r,i){return xs(),Bb(i),e.flags|=256,Sn(t,e,n,r),e.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function hv(t){return{baseLanes:t,cachePool:null,transitions:null}}function SO(t,e,n){var r=e.pendingProps,i=gt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(gt,i&1),t===null)return ov(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Vp(a,r,0,null),t=na(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hv(n),e.memoizedState=dv,t):tw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return aL(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=lo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=lo(s,o):(o=na(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?hv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=dv,r}return o=t.child,t=o.sibling,r=lo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tw(t,e){return e=Vp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gf(t,e,n,r){return r!==null&&Bb(r),Ss(e,t.child,null,n),t=tw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aL(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=$g(Error(te(422))),Gf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Vp({mode:"visible",children:r.children},i,0,null),o=na(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ss(e,t.child,null,a),e.child.memoizedState=hv(a),e.memoizedState=dv,o);if(!(e.mode&1))return Gf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=$g(o,r,void 0),Gf(t,e,a,r)}if(s=(a&t.childLanes)!==0,Nn||s){if(r=Gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wi(t,i),Ir(r,t,i,-1))}return sw(),r=$g(Error(te(421))),Gf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=io(i.nextSibling),Kn=e,ht=!0,xr=null,t!==null&&(nr[rr++]=ri,nr[rr++]=ii,nr[rr++]=ua,ri=t.id,ii=t.overflow,ua=e),e=tw(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),av(t.return,e,n)}function Lg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Sn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lg(e,!0,n,null,o);break;case"together":Lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sL(t,e,n){switch(e.tag){case 3:xO(e),xs();break;case 5:Xk(e);break;case 1:Mn(e.type)&&Xd(e);break;case 4:qb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot(Zd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?SO(t,e,n):(ot(gt,gt.current&1),t=_i(t,e,n),t!==null?t.sibling:null);ot(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,wO(t,e,n)}return _i(t,e,n)}var TO,pv,AO,PO;TO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pv=function(){};AO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ko(Vr.current);var o=null;switch(n){case"input":i=Dy(t,i),r=Dy(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Vy(t,i),r=Vy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kd)}By(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};PO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gl(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lL(t,e,n){var r=e.pendingProps;switch(Fb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Mn(e.type)&&Yd(),fn(e),null;case 3:return r=e.stateNode,Es(),dt(Rn),dt(bn),Yb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(xv(xr),xr=null))),pv(t,e),fn(e),null;case 5:Kb(e);var i=Ko(Wu.current);if(n=e.type,t!==null&&e.stateNode!=null)AO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return fn(e),null}if(t=Ko(Vr.current),zf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dr]=e,r[Uu]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<su.length;i++)lt(su[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":d1(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":p1(r,o),lt("invalid",r)}By(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Uf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Uf(r.textContent,s,t),i=["children",""+s]):Nu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&lt("scroll",r)}switch(n){case"input":Rf(r),h1(r,o,!0);break;case"textarea":Rf(r),m1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dr]=e,t[Uu]=r,TO(t,e,!1,!1),e.stateNode=t;e:{switch(a=Uy(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<su.length;i++)lt(su[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":d1(t,r),i=Dy(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":p1(t,r),i=Vy(t,r),lt("invalid",t);break;default:i=r}By(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ik(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ju(t,l):typeof l=="number"&&ju(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",t):l!=null&&Tb(t,o,l,a))}switch(n){case"input":Rf(t),h1(t,r,!1);break;case"textarea":Rf(t),m1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?as(t,!!r.multiple,o,!1):r.defaultValue!=null&&as(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)PO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Ko(Wu.current),Ko(Vr.current),zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return fn(e),null;case 13:if(dt(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Hn!==null&&e.mode&1&&!(e.flags&128))Gk(),xs(),e.flags|=98560,o=!1;else if(o=zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Dr]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),o=!1}else xr!==null&&(xv(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?$t===0&&($t=3):sw())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Es(),pv(t,e),t===null&&Fu(e.stateNode.containerInfo),fn(e),null;case 10:return Wb(e.type._context),fn(e),null;case 17:return Mn(e.type)&&Yd(),fn(e),null;case 19:if(dt(gt),o=e.memoizedState,o===null)return fn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Gl(o,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=nh(t),a!==null){for(e.flags|=128,Gl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>As&&(e.flags|=128,r=!0,Gl(o,!1),e.lanes=4194304)}else{if(!r)if(t=nh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ht)return fn(e),null}else 2*Tt()-o.renderingStartTime>As&&n!==1073741824&&(e.flags|=128,r=!0,Gl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=gt.current,ot(gt,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function uL(t,e){switch(Fb(e),e.tag){case 1:return Mn(e.type)&&Yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),dt(Rn),dt(bn),Yb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kb(e),null;case 13:if(dt(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(gt),null;case 4:return Es(),null;case 10:return Wb(e.type._context),null;case 22:case 23:return aw(),null;case 24:return null;default:return null}}var Hf=!1,mn=!1,cL=typeof WeakSet=="function"?WeakSet:Set,he=null;function es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function mv(t,e,n){try{n()}catch(r){xt(t,e,r)}}var iS=!1;function fL(t,e){if(Jy=Gd,t=Nk(),Lb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zy={focusedElem:t,selectionRange:n},Gd=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:vr(e.type,v),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){xt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return g=iS,iS=!1,g}function bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mv(e,n,o)}i=i.next}while(i!==r)}}function $p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IO(t){var e=t.alternate;e!==null&&(t.alternate=null,IO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Uu],delete e[nv],delete e[q$],delete e[K$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kO(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kd));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var Yt=null,br=!1;function Li(t,e,n){for(n=n.child;n!==null;)OO(t,e,n),n=n.sibling}function OO(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(kp,n)}catch{}switch(n.tag){case 5:mn||es(n,e);case 6:var r=Yt,i=br;Yt=null,Li(t,e,n),Yt=r,br=i,Yt!==null&&(br?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(br?(t=Yt,n=n.stateNode,t.nodeType===8?Cg(t.parentNode,n):t.nodeType===1&&Cg(t,n),$u(t)):Cg(Yt,n.stateNode));break;case 4:r=Yt,i=br,Yt=n.stateNode.containerInfo,br=!0,Li(t,e,n),Yt=r,br=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&mv(n,e,a),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!mn&&(es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xt(n,e,s)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Li(t,e,n),mn=r):Li(t,e,n);break;default:Li(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cL),e.forEach(function(r){var i=wL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Yt=s.stateNode,br=!1;break e;case 3:Yt=s.stateNode.containerInfo,br=!0;break e;case 4:Yt=s.stateNode.containerInfo,br=!0;break e}s=s.return}if(Yt===null)throw Error(te(160));OO(o,a,i),Yt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CO(e,t),e=e.sibling}function CO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),jr(t),r&4){try{bu(3,t,t.return),$p(3,t)}catch(v){xt(t,t.return,v)}try{bu(5,t,t.return)}catch(v){xt(t,t.return,v)}}break;case 1:gr(e,t),jr(t),r&512&&n!==null&&es(n,n.return);break;case 5:if(gr(e,t),jr(t),r&512&&n!==null&&es(n,n.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(v){xt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ZI(i,o),Uy(s,a);var u=Uy(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?ik(i,f):d==="dangerouslySetInnerHTML"?nk(i,f):d==="children"?ju(i,f):Tb(i,d,f,u)}switch(s){case"input":$y(i,o);break;case"textarea":ek(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?as(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?as(i,!!o.multiple,o.defaultValue,!0):as(i,!!o.multiple,o.multiple?[]:"",!1))}i[Uu]=o}catch(v){xt(t,t.return,v)}}break;case 6:if(gr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){xt(t,t.return,v)}}break;case 3:if(gr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$u(e.containerInfo)}catch(v){xt(t,t.return,v)}break;case 4:gr(e,t),jr(t);break;case 13:gr(e,t),jr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(iw=Tt())),r&4&&aS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(u=mn)||d,gr(e,t),mn=u):gr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(h=he,m=h.child,h.tag){case 0:case 11:case 14:case 15:bu(4,h,h.return);break;case 1:es(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){xt(r,n,v)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){lS(f);continue}}m!==null?(m.return=h,he=m):lS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rk("display",a))}catch(v){xt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){xt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(e,t),jr(t),r&4&&aS(t);break;case 21:break;default:gr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kO(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ju(i,""),r.flags&=-33);var o=oS(t);vv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=oS(t);yv(t,s,a);break;default:throw Error(te(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dL(t,e,n){he=t,NO(t)}function NO(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||mn;s=Hf;var u=mn;if(Hf=a,(mn=l)&&!u)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?uS(i):l!==null?(l.return=a,he=l):uS(i);for(;o!==null;)he=o,NO(o),o=o.sibling;he=i,Hf=s,mn=u}sS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):sS(t)}}function sS(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||$p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&G1(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G1(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$u(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}mn||e.flags&512&&gv(e)}catch(h){xt(e,e.return,h)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function lS(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function uS(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$p(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var o=e.return;try{gv(e)}catch(l){xt(e,o,l)}break;case 5:var a=e.return;try{gv(e)}catch(l){xt(e,a,l)}}}catch(l){xt(e,e.return,l)}if(e===t){he=null;break}var s=e.sibling;if(s!==null){s.return=e.return,he=s;break}he=e.return}}var hL=Math.ceil,oh=Oi.ReactCurrentDispatcher,nw=Oi.ReactCurrentOwner,ar=Oi.ReactCurrentBatchConfig,$e=0,Gt=null,kt=null,en=0,zn=0,ts=So(0),$t=0,Ku=null,fa=0,Lp=0,rw=0,wu=null,On=null,iw=0,As=1/0,ei=null,ah=!1,bv=null,ao=null,qf=!1,Qi=null,sh=0,_u=0,wv=null,Pd=-1,Id=0;function An(){return $e&6?Tt():Pd!==-1?Pd:Pd=Tt()}function so(t){return t.mode&1?$e&2&&en!==0?en&-en:X$.transition!==null?(Id===0&&(Id=gk()),Id):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:Sk(t.type)),t):1}function Ir(t,e,n,r){if(50<_u)throw _u=0,wv=null,Error(te(185));Fc(t,n,r),(!($e&2)||t!==Gt)&&(t===Gt&&(!($e&2)&&(Lp|=n),$t===4&&Gi(t,en)),Dn(t,r),n===1&&$e===0&&!(e.mode&1)&&(As=Tt()+500,Rp&&Eo()))}function Dn(t,e){var n=t.callbackNode;XD(t,e);var r=Wd(t,t===Gt?en:0);if(r===0)n!==null&&v1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v1(n),e===1)t.tag===0?Y$(cS.bind(null,t)):Uk(cS.bind(null,t)),G$(function(){!($e&6)&&Eo()}),n=null;else{switch(yk(r)){case 1:n=Ob;break;case 4:n=pk;break;case 16:n=zd;break;case 536870912:n=mk;break;default:n=zd}n=FO(n,jO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jO(t,e){if(Pd=-1,Id=0,$e&6)throw Error(te(327));var n=t.callbackNode;if(fs()&&t.callbackNode!==n)return null;var r=Wd(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lh(t,r);else{e=r;var i=$e;$e|=2;var o=MO();(Gt!==t||en!==e)&&(ei=null,As=Tt()+500,ta(t,e));do try{gL();break}catch(s){RO(t,s)}while(1);zb(),oh.current=o,$e=i,kt!==null?e=0:(Gt=null,en=0,e=$t)}if(e!==0){if(e===2&&(i=qy(t),i!==0&&(r=i,e=_v(t,i))),e===1)throw n=Ku,ta(t,0),Gi(t,r),Dn(t,Tt()),n;if(e===6)Gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!pL(i)&&(e=lh(t,r),e===2&&(o=qy(t),o!==0&&(r=o,e=_v(t,o))),e===1))throw n=Ku,ta(t,0),Gi(t,r),Dn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Fo(t,On,ei);break;case 3:if(Gi(t,r),(r&130023424)===r&&(e=iw+500-Tt(),10<e)){if(Wd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tv(Fo.bind(null,t,On,ei),e);break}Fo(t,On,ei);break;case 4:if(Gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hL(r/1960))-r,10<r){t.timeoutHandle=tv(Fo.bind(null,t,On,ei),r);break}Fo(t,On,ei);break;case 5:Fo(t,On,ei);break;default:throw Error(te(329))}}}return Dn(t,Tt()),t.callbackNode===n?jO.bind(null,t):null}function _v(t,e){var n=wu;return t.current.memoizedState.isDehydrated&&(ta(t,e).flags|=256),t=lh(t,e),t!==2&&(e=On,On=n,e!==null&&xv(e)),t}function xv(t){On===null?On=t:On.push.apply(On,t)}function pL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~rw,e&=~Lp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function cS(t){if($e&6)throw Error(te(327));fs();var e=Wd(t,0);if(!(e&1))return Dn(t,Tt()),null;var n=lh(t,e);if(t.tag!==0&&n===2){var r=qy(t);r!==0&&(e=r,n=_v(t,r))}if(n===1)throw n=Ku,ta(t,0),Gi(t,e),Dn(t,Tt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fo(t,On,ei),Dn(t,Tt()),null}function ow(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(As=Tt()+500,Rp&&Eo())}}function da(t){Qi!==null&&Qi.tag===0&&!($e&6)&&fs();var e=$e;$e|=1;var n=ar.transition,r=Ke;try{if(ar.transition=null,Ke=1,t)return t()}finally{Ke=r,ar.transition=n,$e=e,!($e&6)&&Eo()}}function aw(){zn=ts.current,dt(ts)}function ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W$(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Fb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yd();break;case 3:Es(),dt(Rn),dt(bn),Yb();break;case 5:Kb(r);break;case 4:Es();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:Wb(r.type._context);break;case 22:case 23:aw()}n=n.return}if(Gt=t,kt=t=lo(t.current,null),en=zn=e,$t=0,Ku=null,rw=Lp=fa=0,On=wu=null,qo!==null){for(e=0;e<qo.length;e++)if(n=qo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}qo=null}return t}function RO(t,e){do{var n=kt;try{if(zb(),Ed.current=ih,rh){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rh=!1}if(ca=0,Wt=Rt=yt=null,vu=!1,Gu=0,nw.current=null,n===null||n.return===null){$t=1,Ku=e,kt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=en,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Q1(a);if(m!==null){m.flags&=-257,J1(m,a,s,o,e),m.mode&1&&X1(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){X1(o,u,e),sw();break e}l=Error(te(426))}}else if(ht&&s.mode&1){var _=Q1(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),J1(_,a,s,o,e),Bb(Ts(l,s));break e}}o=l=Ts(l,s),$t!==4&&($t=2),wu===null?wu=[o]:wu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=yO(o,l,e);W1(o,b);break e;case 1:s=l;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ao===null||!ao.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=vO(o,s,e);W1(o,k);break e}}o=o.return}while(o!==null)}$O(n)}catch(T){e=T,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(1)}function MO(){var t=oh.current;return oh.current=ih,t===null?ih:t}function sw(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||!(fa&268435455)&&!(Lp&268435455)||Gi(Gt,en)}function lh(t,e){var n=$e;$e|=2;var r=MO();(Gt!==t||en!==e)&&(ei=null,ta(t,e));do try{mL();break}catch(i){RO(t,i)}while(1);if(zb(),$e=n,oh.current=r,kt!==null)throw Error(te(261));return Gt=null,en=0,$t}function mL(){for(;kt!==null;)DO(kt)}function gL(){for(;kt!==null&&!BD();)DO(kt)}function DO(t){var e=VO(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?$O(t):kt=e,nw.current=null}function $O(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uL(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,kt=null;return}}else if(n=lL(n,e,zn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);$t===0&&($t=5)}function Fo(t,e,n){var r=Ke,i=ar.transition;try{ar.transition=null,Ke=1,yL(t,e,n,r)}finally{ar.transition=i,Ke=r}return null}function yL(t,e,n,r){do fs();while(Qi!==null);if($e&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(QD(t,o),t===Gt&&(kt=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qf||(qf=!0,FO(zd,function(){return fs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var a=Ke;Ke=1;var s=$e;$e|=4,nw.current=null,fL(t,n),CO(n,t),$$(Zy),Gd=!!Jy,Zy=Jy=null,t.current=n,dL(n),UD(),$e=s,Ke=a,ar.transition=o}else t.current=n;if(qf&&(qf=!1,Qi=t,sh=i),o=t.pendingLanes,o===0&&(ao=null),GD(n.stateNode),Dn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,t=bv,bv=null,t;return sh&1&&t.tag!==0&&fs(),o=t.pendingLanes,o&1?t===wv?_u++:(_u=0,wv=t):_u=0,Eo(),null}function fs(){if(Qi!==null){var t=yk(sh),e=ar.transition,n=Ke;try{if(ar.transition=null,Ke=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,sh=0,$e&6)throw Error(te(331));var i=$e;for($e|=4,he=t.current;he!==null;){var o=he,a=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(he=u;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:bu(8,d,o)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var h=d.sibling,m=d.return;if(IO(d),d===u){he=null;break}if(h!==null){h.return=m,he=h;break}he=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}he=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,he=a;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,he=b;break e}he=o.return}}var w=t.current;for(he=w;he!==null;){a=he;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,he=x;else e:for(a=w;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:$p(9,s)}}catch(T){xt(s,s.return,T)}if(s===a){he=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break e}he=s.return}}if($e=i,Eo(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(kp,t)}catch{}r=!0}return r}finally{Ke=n,ar.transition=e}}return!1}function fS(t,e,n){e=Ts(n,e),e=yO(t,e,1),t=oo(t,e,1),e=An(),t!==null&&(Fc(t,1,e),Dn(t,e))}function xt(t,e,n){if(t.tag===3)fS(t,t,n);else for(;e!==null;){if(e.tag===3){fS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=Ts(n,t),t=vO(e,t,1),e=oo(e,t,1),t=An(),e!==null&&(Fc(e,1,t),Dn(e,t));break}}e=e.return}}function vL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>Tt()-iw?ta(t,0):rw|=n),Dn(t,e)}function LO(t,e){e===0&&(t.mode&1?(e=$f,$f<<=1,!($f&130023424)&&($f=4194304)):e=1);var n=An();t=wi(t,e),t!==null&&(Fc(t,e,n),Dn(t,n))}function bL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LO(t,n)}function wL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),LO(t,n)}var VO;VO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,sL(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,ht&&e.flags&1048576&&zk(e,Jd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ad(t,e),t=e.pendingProps;var i=_s(e,bn.current);cs(e,n),i=Qb(null,e,r,t,i,n);var o=Jb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,Xd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hb(e),i.updater=Dp,e.stateNode=i,i._reactInternals=e,lv(e,r,t,n),e=fv(null,e,r,!0,o,n)):(e.tag=0,ht&&o&&Vb(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xL(r),t=vr(r,t),i){case 0:e=cv(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=Z1(null,e,r,t,n);break e;case 14:e=eS(null,e,r,vr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),cv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),tS(t,e,r,i,n);case 3:e:{if(xO(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Yk(t,e),th(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ts(Error(te(423)),e),e=nS(t,e,r,n,i);break e}else if(r!==i){i=Ts(Error(te(424)),e),e=nS(t,e,r,n,i);break e}else for(Hn=io(e.stateNode.containerInfo.firstChild),Kn=e,ht=!0,xr=null,n=qk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===i){e=_i(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return Xk(e),t===null&&ov(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,ev(r,i)?a=null:o!==null&&ev(r,o)&&(e.flags|=32),_O(t,e),Sn(t,e,a,n),e.child;case 6:return t===null&&ov(e),null;case 13:return SO(t,e,n);case 4:return qb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ss(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),Z1(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ot(Zd,r._currentValue),r._currentValue=a,o!==null)if(Or(o.value,a)){if(o.children===i.children&&!Rn.current){e=_i(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),av(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),av(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cs(e,n),i=cr(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),eS(t,e,r,i,n);case 15:return bO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),Ad(t,e),e.tag=1,Mn(r)?(t=!0,Xd(e)):t=!1,cs(e,n),gO(e,r,i),lv(e,r,i,n),fv(null,e,r,!0,t,n);case 19:return EO(t,e,n);case 22:return wO(t,e,n)}throw Error(te(156,e.tag))};function FO(t,e){return hk(t,e)}function _L(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new _L(t,e,n,r)}function lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xL(t){if(typeof t=="function")return lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pb)return 11;if(t===Ib)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")lw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ga:return na(n.children,i,o,e);case Ab:a=8,i|=8;break;case Ny:return t=ir(12,n,e,i|2),t.elementType=Ny,t.lanes=o,t;case jy:return t=ir(13,n,e,i),t.elementType=jy,t.lanes=o,t;case Ry:return t=ir(19,n,e,i),t.elementType=Ry,t.lanes=o,t;case XI:return Vp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KI:a=10;break e;case YI:a=9;break e;case Pb:a=11;break e;case Ib:a=14;break e;case Fi:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function na(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Vp(t,e,n,r){return t=ir(22,t,r,e),t.elementType=XI,t.lanes=n,t.stateNode={isHidden:!1},t}function Vg(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Fg(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uw(t,e,n,r,i,o,a,s,l){return t=new SL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hb(o),t}function EL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BO(t){if(!t)return vo;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Mn(n))return Bk(t,n,e)}return e}function UO(t,e,n,r,i,o,a,s,l){return t=uw(n,r,!0,t,i,o,a,s,l),t.context=BO(null),n=t.current,r=An(),i=so(n),o=di(r,i),o.callback=e??null,oo(n,o,i),t.current.lanes=i,Fc(t,i,r),Dn(t,r),t}function Fp(t,e,n,r){var i=e.current,o=An(),a=so(i);return n=BO(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(i,e,a),t!==null&&(Ir(t,i,a,o),Sd(t,i,a)),a}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cw(t,e){dS(t,e),(t=t.alternate)&&dS(t,e)}function TL(){return null}var zO=typeof reportError=="function"?reportError:function(t){console.error(t)};function fw(t){this._internalRoot=t}Bp.prototype.render=fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Fp(t,e,null,null)};Bp.prototype.unmount=fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;da(function(){Fp(null,t,null,null)}),e[bi]=null}};function Bp(t){this._internalRoot=t}Bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=wk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&xk(t)}};function dw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hS(){}function AL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=uh(a);o.call(u)}}var a=UO(e,r,t,0,null,!1,!1,"",hS);return t._reactRootContainer=a,t[bi]=a.current,Fu(t.nodeType===8?t.parentNode:t),da(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=uh(l);s.call(u)}}var l=uw(t,0,!1,null,null,!1,!1,"",hS);return t._reactRootContainer=l,t[bi]=l.current,Fu(t.nodeType===8?t.parentNode:t),da(function(){Fp(e,l,n,r)}),l}function zp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=uh(a);s.call(l)}}Fp(e,a,t,i)}else a=AL(n,e,t,i,r);return uh(a)}vk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=au(e.pendingLanes);n!==0&&(Cb(e,n|1),Dn(e,Tt()),!($e&6)&&(As=Tt()+500,Eo()))}break;case 13:da(function(){var r=wi(t,1);if(r!==null){var i=An();Ir(r,t,1,i)}}),cw(t,1)}};Nb=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=An();Ir(e,t,134217728,n)}cw(t,134217728)}};bk=function(t){if(t.tag===13){var e=so(t),n=wi(t,e);if(n!==null){var r=An();Ir(n,t,e,r)}cw(t,e)}};wk=function(){return Ke};_k=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Wy=function(t,e,n){switch(e){case"input":if($y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jp(r);if(!i)throw Error(te(90));JI(r),$y(r,i)}}}break;case"textarea":ek(t,n);break;case"select":e=n.value,e!=null&&as(t,!!n.multiple,e,!1)}};sk=ow;lk=da;var PL={usingClientEntryPoint:!1,Events:[Uc,Ya,jp,ok,ak,ow]},Hl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IL={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fk(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||TL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{kp=Kf.inject(IL),Lr=Kf}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dw(e))throw Error(te(200));return EL(t,e,null,n)};Qn.createRoot=function(t,e){if(!dw(t))throw Error(te(299));var n=!1,r="",i=zO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uw(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,Fu(t.nodeType===8?t.parentNode:t),new fw(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=fk(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return da(t)};Qn.hydrate=function(t,e,n){if(!Up(e))throw Error(te(200));return zp(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!dw(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=zO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=UO(e,null,t,1,n??null,i,!1,o,a),t[bi]=e.current,Fu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bp(e)};Qn.render=function(t,e,n){if(!Up(e))throw Error(te(200));return zp(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Up(t))throw Error(te(40));return t._reactRootContainer?(da(function(){zp(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Qn.unstable_batchedUpdates=ow;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Up(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return zp(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function WO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WO)}catch(t){console.error(t)}}WO(),WI.exports=Qn;var kL=WI.exports,pS=kL;Oy.createRoot=pS.createRoot,Oy.hydrateRoot=pS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},HO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,a||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new CL;const h=o<<2|s>>4;if(r.push(h),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(t){const e=GO(t);return HO.encodeByteArray(e,!0)},ch=function(t){return NL(t).replace(/\./g,"")},qO=function(t){try{return HO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=()=>jL().__FIREBASE_DEFAULTS__,ML=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qO(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return RL()||ML()||DL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KO=t=>{var e,n;return(n=(e=Wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$L=t=>{const e=KO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YO=()=>{var t;return(t=Wp())===null||t===void 0?void 0:t.config},XO=t=>{var e;return(e=Wp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[ch(JSON.stringify(n)),ch(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function BL(){var t;const e=(t=Wp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GL(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HL(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qL(){try{return typeof indexedDB=="object"}catch{return!1}}function KL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YL,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?XL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ci(i,s,r)}}function XL(t,e){return t.replace(QL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QL=/\{\$([^}]+)}/g;function JL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(mS(o)&&mS(a)){if(!fh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZL(t,e){const n=new e4(t,e);return n.subscribe.bind(n)}class e4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bg),i.error===void 0&&(i.error=Bg),i.complete===void 0&&(i.complete=Bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i4(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r4(t){return t===Bo?void 0:t}function i4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const a4={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},s4=je.INFO,l4={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},u4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hw{constructor(e){this.name=e,this._logLevel=s4,this._logHandler=u4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const c4=(t,e)=>e.some(n=>t instanceof n);let gS,yS;function f4(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d4(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QO=new WeakMap,Sv=new WeakMap,JO=new WeakMap,Ug=new WeakMap,pw=new WeakMap;function h4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(uo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&QO.set(n,t)}).catch(()=>{}),pw.set(e,t),e}function p4(t){if(Sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Sv.set(t,e)}let Ev={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m4(t){Ev=t(Ev)}function g4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zg(this),e,...n);return JO.set(r,e.sort?e.sort():[e]),uo(r)}:d4().includes(t)?function(...e){return t.apply(zg(this),e),uo(QO.get(this))}:function(...e){return uo(t.apply(zg(this),e))}}function y4(t){return typeof t=="function"?g4(t):(t instanceof IDBTransaction&&p4(t),c4(t,f4())?new Proxy(t,Ev):t)}function uo(t){if(t instanceof IDBRequest)return h4(t);if(Ug.has(t))return Ug.get(t);const e=y4(t);return e!==t&&(Ug.set(t,e),pw.set(e,t)),e}const zg=t=>pw.get(t);function v4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=uo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(uo(a.result),l.oldVersion,l.newVersion,uo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const b4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],Wg=new Map;function vS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Wg.set(e,o),o}m4(t=>({...t,get:(e,n,r)=>vS(e,n)||t.get(e,n,r),has:(e,n)=>!!vS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tv="@firebase/app",bS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new hw("@firebase/app"),S4="@firebase/app-compat",E4="@firebase/analytics-compat",T4="@firebase/analytics",A4="@firebase/app-check-compat",P4="@firebase/app-check",I4="@firebase/auth",k4="@firebase/auth-compat",O4="@firebase/database",C4="@firebase/data-connect",N4="@firebase/database-compat",j4="@firebase/functions",R4="@firebase/functions-compat",M4="@firebase/installations",D4="@firebase/installations-compat",$4="@firebase/messaging",L4="@firebase/messaging-compat",V4="@firebase/performance",F4="@firebase/performance-compat",B4="@firebase/remote-config",U4="@firebase/remote-config-compat",z4="@firebase/storage",W4="@firebase/storage-compat",G4="@firebase/firestore",H4="@firebase/vertexai-preview",q4="@firebase/firestore-compat",K4="firebase",Y4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="[DEFAULT]",X4={[Tv]:"fire-core",[S4]:"fire-core-compat",[T4]:"fire-analytics",[E4]:"fire-analytics-compat",[P4]:"fire-app-check",[A4]:"fire-app-check-compat",[I4]:"fire-auth",[k4]:"fire-auth-compat",[O4]:"fire-rtdb",[C4]:"fire-data-connect",[N4]:"fire-rtdb-compat",[j4]:"fire-fn",[R4]:"fire-fn-compat",[M4]:"fire-iid",[D4]:"fire-iid-compat",[$4]:"fire-fcm",[L4]:"fire-fcm-compat",[V4]:"fire-perf",[F4]:"fire-perf-compat",[B4]:"fire-rc",[U4]:"fire-rc-compat",[z4]:"fire-gcs",[W4]:"fire-gcs-compat",[G4]:"fire-fst",[q4]:"fire-fst-compat",[H4]:"fire-vertex","fire-js":"fire-js",[K4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,Q4=new Map,Pv=new Map;function wS(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){const e=t.name;if(Pv.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Pv.set(e,t);for(const n of dh.values())wS(n,t);for(const n of Q4.values())wS(n,t);return!0}function mw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Wc("app","Firebase",J4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=Y4;function ZO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=YO()),!n)throw co.create("no-options");const o=dh.get(i);if(o){if(fh(n,o.options)&&fh(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const a=new o4(i);for(const l of Pv.values())a.addComponent(l);const s=new Z4(n,r,a);return dh.set(i,s),s}function e2(t=Av){const e=dh.get(t);if(!e&&t===Av&&YO())return ZO();if(!e)throw co.create("no-app",{appName:t});return e}function fo(t,e,n){var r;let i=(r=X4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(s.join(" "));return}Ps(new ha(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebase-heartbeat-database",t3=1,Yu="firebase-heartbeat-store";let Gg=null;function t2(){return Gg||(Gg=v4(e3,t3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function n3(t){try{const n=(await t2()).transaction(Yu),r=await n.objectStore(Yu).get(n2(t));return await n.done,r}catch(e){if(e instanceof Ci)xi.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function _S(t,e){try{const r=(await t2()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,n2(t)),await r.done}catch(n){if(n instanceof Ci)xi.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function n2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=1024,i3=30*24*60*60*1e3;class o3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=i3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xS(),{heartbeatsToSend:r,unsentEntries:i}=a3(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xi.warn(n),""}}}function xS(){return new Date().toISOString().substring(0,10)}function a3(t,e=r3){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),SS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qL()?KL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SS(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){Ps(new ha("platform-logger",e=>new _4(e),"PRIVATE")),Ps(new ha("heartbeat",e=>new o3(e),"PRIVATE")),fo(Tv,bS,t),fo(Tv,bS,"esm2017"),fo("fire-js","")}l3("");var u3="firebase",c3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(u3,c3,"app");var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,r2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function I(){}I.prototype=S.prototype,E.D=S.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(C,O,R){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return S.prototype[O].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,I){I||(I=0);var C=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)C[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;16>O;++O)C[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=E.g[0],I=E.g[1],O=E.g[2];var R=E.g[3],N=S+(R^I&(O^R))+C[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=R+(O^S&(I^O))+C[1]+3905402710&4294967295,R=S+(N<<12&4294967295|N>>>20),N=O+(I^R&(S^I))+C[2]+606105819&4294967295,O=R+(N<<17&4294967295|N>>>15),N=I+(S^O&(R^S))+C[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(R^I&(O^R))+C[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=R+(O^S&(I^O))+C[5]+1200080426&4294967295,R=S+(N<<12&4294967295|N>>>20),N=O+(I^R&(S^I))+C[6]+2821735955&4294967295,O=R+(N<<17&4294967295|N>>>15),N=I+(S^O&(R^S))+C[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(R^I&(O^R))+C[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=R+(O^S&(I^O))+C[9]+2336552879&4294967295,R=S+(N<<12&4294967295|N>>>20),N=O+(I^R&(S^I))+C[10]+4294925233&4294967295,O=R+(N<<17&4294967295|N>>>15),N=I+(S^O&(R^S))+C[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(R^I&(O^R))+C[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=R+(O^S&(I^O))+C[13]+4254626195&4294967295,R=S+(N<<12&4294967295|N>>>20),N=O+(I^R&(S^I))+C[14]+2792965006&4294967295,O=R+(N<<17&4294967295|N>>>15),N=I+(S^O&(R^S))+C[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(O^R&(I^O))+C[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=R+(I^O&(S^I))+C[6]+3225465664&4294967295,R=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(R^S))+C[11]+643717713&4294967295,O=R+(N<<14&4294967295|N>>>18),N=I+(R^S&(O^R))+C[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^R&(I^O))+C[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=R+(I^O&(S^I))+C[10]+38016083&4294967295,R=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(R^S))+C[15]+3634488961&4294967295,O=R+(N<<14&4294967295|N>>>18),N=I+(R^S&(O^R))+C[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^R&(I^O))+C[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=R+(I^O&(S^I))+C[14]+3275163606&4294967295,R=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(R^S))+C[3]+4107603335&4294967295,O=R+(N<<14&4294967295|N>>>18),N=I+(R^S&(O^R))+C[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^R&(I^O))+C[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=R+(I^O&(S^I))+C[2]+4243563512&4294967295,R=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(R^S))+C[7]+1735328473&4294967295,O=R+(N<<14&4294967295|N>>>18),N=I+(R^S&(O^R))+C[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(I^O^R)+C[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=R+(S^I^O)+C[8]+2272392833&4294967295,R=S+(N<<11&4294967295|N>>>21),N=O+(R^S^I)+C[11]+1839030562&4294967295,O=R+(N<<16&4294967295|N>>>16),N=I+(O^R^S)+C[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^R)+C[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=R+(S^I^O)+C[4]+1272893353&4294967295,R=S+(N<<11&4294967295|N>>>21),N=O+(R^S^I)+C[7]+4139469664&4294967295,O=R+(N<<16&4294967295|N>>>16),N=I+(O^R^S)+C[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^R)+C[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=R+(S^I^O)+C[0]+3936430074&4294967295,R=S+(N<<11&4294967295|N>>>21),N=O+(R^S^I)+C[3]+3572445317&4294967295,O=R+(N<<16&4294967295|N>>>16),N=I+(O^R^S)+C[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^R)+C[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=R+(S^I^O)+C[12]+3873151461&4294967295,R=S+(N<<11&4294967295|N>>>21),N=O+(R^S^I)+C[15]+530742520&4294967295,O=R+(N<<16&4294967295|N>>>16),N=I+(O^R^S)+C[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(O^(I|~R))+C[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=R+(I^(S|~O))+C[7]+1126891415&4294967295,R=S+(N<<10&4294967295|N>>>22),N=O+(S^(R|~I))+C[14]+2878612391&4294967295,O=R+(N<<15&4294967295|N>>>17),N=I+(R^(O|~S))+C[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~R))+C[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=R+(I^(S|~O))+C[3]+2399980690&4294967295,R=S+(N<<10&4294967295|N>>>22),N=O+(S^(R|~I))+C[10]+4293915773&4294967295,O=R+(N<<15&4294967295|N>>>17),N=I+(R^(O|~S))+C[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~R))+C[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=R+(I^(S|~O))+C[15]+4264355552&4294967295,R=S+(N<<10&4294967295|N>>>22),N=O+(S^(R|~I))+C[6]+2734768916&4294967295,O=R+(N<<15&4294967295|N>>>17),N=I+(R^(O|~S))+C[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~R))+C[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=R+(I^(S|~O))+C[11]+3174756917&4294967295,R=S+(N<<10&4294967295|N>>>22),N=O+(S^(R|~I))+C[2]+718787259&4294967295,O=R+(N<<15&4294967295|N>>>17),N=I+(R^(O|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+O&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var I=S-this.blockSize,C=this.B,O=this.h,R=0;R<S;){if(O==0)for(;R<=I;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<S;)if(C[O++]=E.charCodeAt(R++),O==this.blockSize){i(this,C),O=0;break}}else for(;R<S;)if(C[O++]=E[R++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var I=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=I&255,I/=256;for(this.u(E),E=Array(16),S=I=0;4>S;++S)for(var C=0;32>C;C+=8)E[I++]=this.g[S]>>>C&255;return E};function o(E,S){var I=s;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=S(E)}function a(E,S){this.h=S;for(var I=[],C=!0,O=E.length-1;0<=O;O--){var R=E[O]|0;C&&R==S||(I[O]=R,C=!1)}this.g=I}var s={};function l(E){return-128<=E&&128>E?o(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return _(u(-E));for(var S=[],I=1,C=0;E>=I;C++)S[C]=E/I|0,I*=4294967296;return new a(S,0)}function d(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return _(d(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),C=f,O=0;O<E.length;O+=8){var R=Math.min(8,E.length-O),N=parseInt(E.substring(O,O+R),S);8>R?(R=u(Math.pow(S,R)),C=C.j(R).add(u(N))):(C=C.j(I),C=C.add(u(N)))}return C}var f=l(0),h=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-_(this).m();for(var E=0,S=1,I=0;I<this.g.length;I++){var C=this.i(I);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(v(this))return"-"+_(this).toString(E);for(var S=u(Math.pow(E,6)),I=this,C="";;){var O=k(I,S).g;I=b(I,O.j(S));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=O,g(I))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function v(E){return E.h==-1}t.l=function(E){return E=b(this,E),v(E)?-1:g(E)?0:1};function _(E){for(var S=E.g.length,I=[],C=0;C<S;C++)I[C]=~E.g[C];return new a(I,~E.h).add(h)}t.abs=function(){return v(this)?_(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0,O=0;O<=S;O++){var R=C+(this.i(O)&65535)+(E.i(O)&65535),N=(R>>>16)+(this.i(O)>>>16)+(E.i(O)>>>16);C=N>>>16,R&=65535,N&=65535,I[O]=N<<16|R}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(E,S){return E.add(_(S))}t.j=function(E){if(g(this)||g(E))return f;if(v(this))return v(E)?_(this).j(_(E)):_(_(this).j(E));if(v(E))return _(this.j(_(E)));if(0>this.l(m)&&0>E.l(m))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,I=[],C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<E.g.length;O++){var R=this.i(C)>>>16,N=this.i(C)&65535,W=E.i(O)>>>16,U=E.i(O)&65535;I[2*C+2*O]+=N*U,w(I,2*C+2*O),I[2*C+2*O+1]+=R*U,w(I,2*C+2*O+1),I[2*C+2*O+1]+=N*W,w(I,2*C+2*O+1),I[2*C+2*O+2]+=R*W,w(I,2*C+2*O+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new a(I,0)};function w(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function k(E,S){if(g(S))throw Error("division by zero");if(g(E))return new x(f,f);if(v(E))return S=k(_(E),S),new x(_(S.g),_(S.h));if(v(S))return S=k(E,_(S)),new x(_(S.g),S.h);if(30<E.g.length){if(v(E)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=h,C=S;0>=C.l(E);)I=T(I),C=T(C);var O=P(I,1),R=P(C,1);for(C=P(C,2),I=P(I,2);!g(C);){var N=R.add(C);0>=N.l(E)&&(O=O.add(I),R=N),C=P(C,1),I=P(I,1)}return S=b(E,O.j(S)),new x(O,S)}for(O=f;0<=E.l(S);){for(I=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(I),N=R.j(S);v(N)||0<N.l(E);)I-=C,R=u(I),N=R.j(S);g(R)&&(R=h),O=O.add(R),E=b(E,N)}return new x(O,E)}t.A=function(E){return k(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)&E.i(C);return new a(I,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)|E.i(C);return new a(I,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)^E.i(C);return new a(I,this.h^E.h)};function T(E){for(var S=E.g.length+1,I=[],C=0;C<S;C++)I[C]=E.i(C)<<1|E.i(C-1)>>>31;return new a(I,E.h)}function P(E,S){var I=S>>5;S%=32;for(var C=E.g.length-I,O=[],R=0;R<C;R++)O[R]=0<S?E.i(R+I)>>>S|E.i(R+I+1)<<32-S:E.i(R+I);return new a(O,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,ra=a}).apply(typeof ES<"u"?ES:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i2,lu,o2,Od,Iv,a2,s2,l2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var j=0;j<c.length-1;j++){var F=c[j];if(!(F in A))break e;A=A[F]}c=c[c.length-1],j=A[c],y=y(j),y!=j&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function o(c,y){c instanceof String&&(c+="");var A=0,j=!1,F={next:function(){if(!j&&A<c.length){var z=A++;return{value:y(z,c[z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function u(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,A){return c.call.apply(c.bind,arguments)}function f(c,y,A){if(!c)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,j),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function h(c,y,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function g(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(j,F,z){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return y.prototype[F].apply(j,ae)}}function v(c){const y=c.length;if(0<y){const A=Array(y);for(let j=0;j<y;j++)A[j]=c[j];return A}return[]}function _(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const F=c.length||0,z=j.length||0;c.length=F+z;for(let ae=0;ae<z;ae++)c[F+ae]=j[ae]}else c.push(j)}}class b{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(c,y,A){for(const j in c)y.call(A,c[j],j,c)}function E(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function S(c){const y={};for(const A in c)y[A]=c[A];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let A,j;for(let F=1;F<arguments.length;F++){j=arguments[F];for(A in j)c[A]=j[A];for(let z=0;z<I.length;z++)A=I[z],Object.prototype.hasOwnProperty.call(j,A)&&(c[A]=j[A])}}function O(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function R(c){s.setTimeout(()=>{throw c},0)}function N(){var c=B;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,A){const j=U.get();j.set(y,A),this.h?this.h.next=j:this.g=j,this.h=j}}var U=new b(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,B=new W,Q=()=>{const c=s.Promise.resolve(void 0);G=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){R(A)}var y=U;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}V=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,y),s.removeEventListener("test",A,y)}catch{}return c}();function oe(c,y){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(T){e:{try{k(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oe.aa.h.call(this)}}g(oe,q);var we={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),me=0;function ee(c,y,A,j,F){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!j,this.ha=F,this.key=++me,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c){this.src=c,this.g={},this.h=0}xe.prototype.add=function(c,y,A,j,F){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var ae=Ve(c,y,j,F);return-1<ae?(y=c[ae],A||(y.fa=!1)):(y=new ee(y,this.src,z,!!j,F),y.fa=A,c.push(y)),y};function Y(c,y){var A=y.type;if(A in c.g){var j=c.g[A],F=Array.prototype.indexOf.call(j,y,void 0),z;(z=0<=F)&&Array.prototype.splice.call(j,F,1),z&&(ve(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function Ve(c,y,A,j){for(var F=0;F<c.length;++F){var z=c[F];if(!z.da&&z.listener==y&&z.capture==!!A&&z.ha==j)return F}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Qe={};function We(c,y,A,j,F){if(j&&j.once)return an(c,y,A,j,F);if(Array.isArray(y)){for(var z=0;z<y.length;z++)We(c,y[z],A,j,F);return null}return A=Me(A),c&&c[ne]?c.K(y,A,u(j)?!!j.capture:!!j,F):at(c,y,A,!1,j,F)}function at(c,y,A,j,F,z){if(!y)throw Error("Invalid event type");var ae=u(F)?!!F.capture:!!F,et=de(c);if(et||(c[ye]=et=new xe(c)),A=et.add(y,A,j,ae,z),A.proxy)return A;if(j=Bt(),A.proxy=j,j.src=c,j.listener=A,c.addEventListener)fe||(F=ae),F===void 0&&(F=!1),c.addEventListener(y.toString(),j,F);else if(c.attachEvent)c.attachEvent(ue(y.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Bt(){function c(A){return y.call(c.src,c.listener,A)}const y=re;return c}function an(c,y,A,j,F){if(Array.isArray(y)){for(var z=0;z<y.length;z++)an(c,y[z],A,j,F);return null}return A=Me(A),c&&c[ne]?c.L(y,A,u(j)?!!j.capture:!!j,F):at(c,y,A,!0,j,F)}function sn(c,y,A,j,F){if(Array.isArray(y))for(var z=0;z<y.length;z++)sn(c,y[z],A,j,F);else j=u(j)?!!j.capture:!!j,A=Me(A),c&&c[ne]?(c=c.i,y=String(y).toString(),y in c.g&&(z=c.g[y],A=Ve(z,A,j,F),-1<A&&(ve(z[A]),Array.prototype.splice.call(z,A,1),z.length==0&&(delete c.g[y],c.h--)))):c&&(c=de(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ve(y,A,j,F)),(A=-1<c?y[c]:null)&&K(A))}function K(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ne])Y(y.i,c);else{var A=c.type,j=c.proxy;y.removeEventListener?y.removeEventListener(A,j,c.capture):y.detachEvent?y.detachEvent(ue(A),j):y.addListener&&y.removeListener&&y.removeListener(j),(A=de(y))?(Y(A,c),A.h==0&&(A.src=null,y[ye]=null)):ve(c)}}}function ue(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function re(c,y){if(c.da)c=!0;else{y=new oe(y,this);var A=c.listener,j=c.ha||c.src;c.fa&&K(c),c=A.call(j,y)}return c}function de(c){return c=c[ye],c instanceof xe?c:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(c){return typeof c=="function"?c:(c[Ae]||(c[Ae]=function(y){return c.handleEvent(y)}),c[Ae])}function Ze(){X.call(this),this.i=new xe(this),this.M=this,this.F=null}g(Ze,X),Ze.prototype[ne]=!0,Ze.prototype.removeEventListener=function(c,y,A,j){sn(this,c,y,A,j)};function wt(c,y){var A,j=c.F;if(j)for(A=[];j;j=j.F)A.push(j);if(c=c.M,j=y.type||y,typeof y=="string")y=new q(y,c);else if(y instanceof q)y.target=y.target||c;else{var F=y;y=new q(j,c),C(y,F)}if(F=!0,A)for(var z=A.length-1;0<=z;z--){var ae=y.g=A[z];F=Nr(ae,j,!0,y)&&F}if(ae=y.g=c,F=Nr(ae,j,!0,y)&&F,F=Nr(ae,j,!1,y)&&F,A)for(z=0;z<A.length;z++)ae=y.g=A[z],F=Nr(ae,j,!1,y)&&F}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],j=0;j<A.length;j++)ve(A[j]);delete c.g[y],c.h--}}this.F=null},Ze.prototype.K=function(c,y,A,j){return this.i.add(String(c),y,!1,A,j)},Ze.prototype.L=function(c,y,A,j){return this.i.add(String(c),y,!0,A,j)};function Nr(c,y,A,j){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,z=0;z<y.length;++z){var ae=y[z];if(ae&&!ae.da&&ae.capture==A){var et=ae.listener,qt=ae.ha||ae.src;ae.fa&&Y(c.i,ae),F=et.call(qt,j)!==!1&&F}}return F&&!j.defaultPrevented}function Ca(c,y,A){if(typeof c=="function")A&&(c=h(c,A));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(c,y||0)}function Tl(c){c.g=Ca(()=>{c.g=null,c.i&&(c.i=!1,Tl(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Al extends X{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){X.call(this),this.h=c,this.g={}}g(Xr,X);var Co=[];function pf(c){P(c.g,function(y,A){this.g.hasOwnProperty(A)&&K(y)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),pf(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=s.JSON.stringify,Ct=s.JSON.parse,ng=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function M(){}M.prototype.h=null;function ce(c){return c.h||(c.h=c.i())}function Ge(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qe(){q.call(this,"d")}g(qe,q);function le(){q.call(this,"c")}g(le,q);var No={},yx=null;function mf(){return yx=yx||new Ze}No.La="serverreachability";function vx(c){q.call(this,No.La,c)}g(vx,q);function Il(c){const y=mf();wt(y,new vx(y))}No.STAT_EVENT="statevent";function bx(c,y){q.call(this,No.STAT_EVENT,c),this.stat=y}g(bx,q);function _n(c){const y=mf();wt(y,new bx(y,c))}No.Ma="timingevent";function wx(c,y){q.call(this,No.Ma,c),this.size=y}g(wx,q);function kl(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},y)}function Ol(){this.g=!0}Ol.prototype.xa=function(){this.g=!1};function jM(c,y,A,j,F,z){c.info(function(){if(c.g)if(z)for(var ae="",et=z.split("&"),qt=0;qt<et.length;qt++){var Fe=et[qt].split("=");if(1<Fe.length){var ln=Fe[0];Fe=Fe[1];var un=ln.split("_");ae=2<=un.length&&un[1]=="type"?ae+(ln+"="+Fe+"&"):ae+(ln+"=redacted&")}}else ae=null;else ae=z;return"XMLHTTP REQ ("+j+") [attempt "+F+"]: "+y+`
`+A+`
`+ae})}function RM(c,y,A,j,F,z,ae){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+F+"]: "+y+`
`+A+`
`+z+" "+ae})}function Na(c,y,A,j){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+DM(c,A)+(j?" "+j:"")})}function MM(c,y){c.info(function(){return"TIMEOUT: "+y})}Ol.prototype.info=function(){};function DM(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var j=A[c];if(!(2>j.length)){var F=j[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ae=1;ae<F.length;ae++)F[ae]=""}}}}return Pl(A)}catch{return y}}var gf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_x={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rg;function yf(){}g(yf,M),yf.prototype.g=function(){return new XMLHttpRequest},yf.prototype.i=function(){return{}},rg=new yf;function Mi(c,y,A,j){this.j=c,this.i=y,this.l=A,this.R=j||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xx}function xx(){this.i=null,this.g="",this.h=!1}var Sx={},ig={};function og(c,y,A){c.L=1,c.v=_f(Qr(y)),c.m=A,c.P=!0,Ex(c,null)}function Ex(c,y){c.F=Date.now(),vf(c),c.A=Qr(c.v);var A=c.A,j=c.R;Array.isArray(j)||(j=[String(j)]),Lx(A.i,"t",j),c.C=0,A=c.j.J,c.h=new xx,c.g=n1(c.j,A?y:null,!c.m),0<c.O&&(c.M=new Al(h(c.Y,c,c.g),c.O)),y=c.U,A=c.g,j=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Co[0]=F.toString()),F=Co);for(var z=0;z<F.length;z++){var ae=We(A,F[z],j||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Il(),jM(c.i,c.u,c.A,c.l,c.R,c.m)}Mi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Jr(c)==3?y.j():this.Y(c)},Mi.prototype.Y=function(c){try{if(c==this.g)e:{const un=Jr(this.g);var y=this.g.Ba();const Ma=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Gx(this.g)))){this.J||un!=4||y==7||(y==8||0>=Ma?Il(3):Il(2)),ag(this);var A=this.g.Z();this.X=A;t:if(Tx(this)){var j=Gx(this.g);c="";var F=j.length,z=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),Cl(this);var ae="";break t}this.h.i=new s.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(j[y],{stream:!(z&&y==F-1)});j.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=A==200,RM(this.i,this.u,this.A,this.l,this.R,un,A),this.o){if(this.T&&!this.K){t:{if(this.g){var et,qt=this.g;if((et=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(et)){var Fe=et;break t}}Fe=null}if(A=Fe)Na(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,A);else{this.o=!1,this.s=3,_n(12),jo(this),Cl(this);break e}}if(this.P){A=!0;let mr;for(;!this.J&&this.C<ae.length;)if(mr=$M(this,ae),mr==ig){un==4&&(this.s=4,_n(14),A=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==Sx){this.s=4,_n(15),Na(this.i,this.l,ae,"[Invalid Chunk]"),A=!1;break}else Na(this.i,this.l,mr,null),sg(this,mr);if(Tx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ae.length!=0||this.h.h||(this.s=1,_n(16),A=!1),this.o=this.o&&A,!A)Na(this.i,this.l,ae,"[Invalid Chunked Response]"),jo(this),Cl(this);else if(0<ae.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),hg(ln),ln.M=!0,_n(11))}}else Na(this.i,this.l,ae,null),sg(this,ae);un==4&&jo(this),this.o&&!this.J&&(un==4?Jx(this.j,this):(this.o=!1,vf(this)))}else eD(this.g),A==400&&0<ae.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),jo(this),Cl(this)}}}catch{}finally{}};function Tx(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $M(c,y){var A=c.C,j=y.indexOf(`
`,A);return j==-1?ig:(A=Number(y.substring(A,j)),isNaN(A)?Sx:(j+=1,j+A>y.length?ig:(y=y.slice(j,j+A),c.C=j+A,y)))}Mi.prototype.cancel=function(){this.J=!0,jo(this)};function vf(c){c.S=Date.now()+c.I,Ax(c,c.I)}function Ax(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kl(h(c.ba,c),y)}function ag(c){c.B&&(s.clearTimeout(c.B),c.B=null)}Mi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(MM(this.i,this.A),this.L!=2&&(Il(),_n(17)),jo(this),this.s=2,Cl(this)):Ax(this,this.S-c)};function Cl(c){c.j.G==0||c.J||Jx(c.j,c)}function jo(c){ag(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,pf(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function sg(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||lg(A.h,c))){if(!c.K&&lg(A.h,c)&&A.G==3){try{var j=A.Da.g.parse(y)}catch{j=null}if(Array.isArray(j)&&j.length==3){var F=j;if(F[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)Pf(A),Tf(A);else break e;dg(A),_n(18)}}else A.za=F[1],0<A.za-A.T&&37500>F[2]&&A.F&&A.v==0&&!A.C&&(A.C=kl(h(A.Za,A),6e3));if(1>=kx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Mo(A,11)}else if((c.K||A.g==c)&&Pf(A),!w(y))for(F=A.Da.g.parse(y),y=0;y<F.length;y++){let Fe=F[y];if(A.T=Fe[0],Fe=Fe[1],A.G==2)if(Fe[0]=="c"){A.K=Fe[1],A.ia=Fe[2];const ln=Fe[3];ln!=null&&(A.la=ln,A.j.info("VER="+A.la));const un=Fe[4];un!=null&&(A.Aa=un,A.j.info("SVER="+A.Aa));const Ma=Fe[5];Ma!=null&&typeof Ma=="number"&&0<Ma&&(j=1.5*Ma,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const mr=c.g;if(mr){const kf=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kf){var z=j.h;z.g||kf.indexOf("spdy")==-1&&kf.indexOf("quic")==-1&&kf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ug(z,z.h),z.h=null))}if(j.D){const pg=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;pg&&(j.ya=pg,st(j.I,j.D,pg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ae=c;if(j.qa=t1(j,j.J?j.ia:null,j.W),ae.K){Ox(j.h,ae);var et=ae,qt=j.L;qt&&(et.I=qt),et.B&&(ag(et),vf(et)),j.g=ae}else Xx(j);0<A.i.length&&Af(A)}else Fe[0]!="stop"&&Fe[0]!="close"||Mo(A,7);else A.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Mo(A,7):fg(A):Fe[0]!="noop"&&A.l&&A.l.ta(Fe),A.v=0)}}Il(4)}catch{}}var LM=class{constructor(c,y){this.g=c,this.map=y}};function Px(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ix(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kx(c){return c.h?1:c.g?c.g.size:0}function lg(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ug(c,y){c.g?c.g.add(y):c.h=y}function Ox(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Px.prototype.cancel=function(){if(this.i=Cx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cx(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return v(c.i)}function VM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,j=0;j<A;j++)y.push(c[j]);return y}y=[],A=0;for(j in c)y[A++]=c[j];return y}function FM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const j in c)y[A++]=j;return y}}}function Nx(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=FM(c),j=VM(c),F=j.length,z=0;z<F;z++)y.call(void 0,j[z],A&&A[z],c)}var jx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BM(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var j=c[A].indexOf("="),F=null;if(0<=j){var z=c[A].substring(0,j);F=c[A].substring(j+1)}else z=c[A];y(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ro(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ro){this.h=c.h,bf(this,c.j),this.o=c.o,this.g=c.g,wf(this,c.s),this.l=c.l;var y=c.i,A=new Rl;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Rx(this,A),this.m=c.m}else c&&(y=String(c).match(jx))?(this.h=!1,bf(this,y[1]||"",!0),this.o=Nl(y[2]||""),this.g=Nl(y[3]||"",!0),wf(this,y[4]),this.l=Nl(y[5]||"",!0),Rx(this,y[6]||"",!0),this.m=Nl(y[7]||"")):(this.h=!1,this.i=new Rl(null,this.h))}Ro.prototype.toString=function(){var c=[],y=this.j;y&&c.push(jl(y,Mx,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(jl(y,Mx,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(jl(A,A.charAt(0)=="/"?WM:zM,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",jl(A,HM)),c.join("")};function Qr(c){return new Ro(c)}function bf(c,y,A){c.j=A?Nl(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wf(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Rx(c,y,A){y instanceof Rl?(c.i=y,qM(c.i,c.h)):(A||(y=jl(y,GM)),c.i=new Rl(y,c.h))}function st(c,y,A){c.i.set(y,A)}function _f(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nl(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jl(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,UM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function UM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mx=/[#\/\?@]/g,zM=/[#\?:]/g,WM=/[#\?]/g,GM=/[#\?@]/g,HM=/#/g;function Rl(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&BM(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=Rl.prototype,t.add=function(c,y){Di(this),this.i=null,c=ja(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function Dx(c,y){Di(c),y=ja(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $x(c,y){return Di(c),y=ja(c,y),c.g.has(y)}t.forEach=function(c,y){Di(this),this.g.forEach(function(A,j){A.forEach(function(F){c.call(y,F,j,this)},this)},this)},t.na=function(){Di(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let j=0;j<y.length;j++){const F=c[j];for(let z=0;z<F.length;z++)A.push(y[j])}return A},t.V=function(c){Di(this);let y=[];if(typeof c=="string")$x(this,c)&&(y=y.concat(this.g.get(ja(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return Di(this),this.i=null,c=ja(this,c),$x(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Lx(c,y,A){Dx(c,y),0<A.length&&(c.i=null,c.g.set(ja(c,y),v(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var j=y[A];const z=encodeURIComponent(String(j)),ae=this.V(j);for(j=0;j<ae.length;j++){var F=z;ae[j]!==""&&(F+="="+encodeURIComponent(String(ae[j]))),c.push(F)}}return this.i=c.join("&")};function ja(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qM(c,y){y&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(A,j){var F=j.toLowerCase();j!=F&&(Dx(this,j),Lx(this,F,A))},c)),c.j=y}function KM(c,y){const A=new Ol;if(s.Image){const j=new Image;j.onload=m($i,A,"TestLoadImage: loaded",!0,y,j),j.onerror=m($i,A,"TestLoadImage: error",!1,y,j),j.onabort=m($i,A,"TestLoadImage: abort",!1,y,j),j.ontimeout=m($i,A,"TestLoadImage: timeout",!1,y,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else y(!1)}function YM(c,y){const A=new Ol,j=new AbortController,F=setTimeout(()=>{j.abort(),$i(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:j.signal}).then(z=>{clearTimeout(F),z.ok?$i(A,"TestPingServer: ok",!0,y):$i(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),$i(A,"TestPingServer: error",!1,y)})}function $i(c,y,A,j,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),j(A)}catch{}}function XM(){this.g=new ng}function QM(c,y,A){const j=A||"";try{Nx(c,function(F,z){let ae=F;u(F)&&(ae=Pl(F)),y.push(j+z+"="+encodeURIComponent(ae))})}catch(F){throw y.push(j+"type="+encodeURIComponent("_badmap")),F}}function xf(c){this.l=c.Ub||null,this.j=c.eb||!1}g(xf,M),xf.prototype.g=function(){return new Sf(this.l,this.j)},xf.prototype.i=function(c){return function(){return c}}({});function Sf(c,y){Ze.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Sf,Ze),t=Sf.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Dl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ml(this):Dl(this),this.readyState==3&&Vx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ml(this))},t.Qa=function(c){this.g&&(this.response=c,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Dl(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function Dl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fx(c){let y="";return P(c,function(A,j){y+=j,y+=":",y+=A,y+=`\r
`}),y}function cg(c,y,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=Fx(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):st(c,y,A))}function _t(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(_t,Ze);var JM=/^https?$/i,ZM=["POST","PUT"];t=_t.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rg.g(),this.v=this.o?ce(this.o):ce(rg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(z){Bx(this,z);return}if(c=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var F in j)A.set(F,j[F]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const z of j.keys())A.set(z,j.get(z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),F=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(ZM,y,void 0))||j||F||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ae]of A)this.g.setRequestHeader(z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wx(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){Bx(this,z)}};function Bx(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ux(c),Ef(c)}function Ux(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Ef(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ef(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zx(this):this.bb())},t.bb=function(){zx(this)};function zx(c){if(c.h&&typeof a<"u"&&(!c.v[1]||Jr(c)!=4||c.Z()!=2)){if(c.u&&Jr(c)==4)Ca(c.Ea,0,c);else if(wt(c,"readystatechange"),Jr(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var j;if(j=ae===0){var F=String(c.D).match(jx)[1]||null;!F&&s.self&&s.self.location&&(F=s.self.location.protocol.slice(0,-1)),j=!JM.test(F?F.toLowerCase():"")}A=j}if(A)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var z=2<Jr(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",Ux(c)}}finally{Ef(c)}}}}function Ef(c,y){if(c.g){Wx(c);const A=c.g,j=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||wt(c,"ready");try{A.onreadystatechange=j}catch{}}}function Wx(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ct(y)}};function Gx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eD(c){const y={};c=(c.g&&2<=Jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(w(c[j]))continue;var A=O(c[j]);const F=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=y[F]||[];y[F]=z,z.push(A)}E(y,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $l(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function Hx(c){this.Aa=0,this.i=[],this.j=new Ol,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$l("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$l("baseRetryDelayMs",5e3,c),this.cb=$l("retryDelaySeedMs",1e4,c),this.Wa=$l("forwardChannelMaxRetries",2,c),this.wa=$l("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Px(c&&c.concurrentRequestLimit),this.Da=new XM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hx.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,j){_n(0),this.W=c,this.H=y||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=t1(this,null,this.W),Af(this)};function fg(c){if(qx(c),c.G==3){var y=c.U++,A=Qr(c.I);if(st(A,"SID",c.K),st(A,"RID",y),st(A,"TYPE","terminate"),Ll(c,A),y=new Mi(c,c.j,y),y.L=2,y.v=_f(Qr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=y.v,A=!0),A||(y.g=n1(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vf(y)}e1(c)}function Tf(c){c.g&&(hg(c),c.g.cancel(),c.g=null)}function qx(c){Tf(c),c.u&&(s.clearTimeout(c.u),c.u=null),Pf(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function Af(c){if(!Ix(c.h)&&!c.s){c.s=!0;var y=c.Ga;G||Q(),V||(G(),V=!0),B.add(y,c),c.B=0}}function tD(c,y){return kx(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kl(h(c.Ga,c,y),Zx(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Mi(this,this.j,c);let z=this.o;if(this.S&&(z?(z=S(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(y+=j,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Yx(this,F,y),A=Qr(this.I),st(A,"RID",c),st(A,"CVER",22),this.D&&st(A,"X-HTTP-Session-Id",this.D),Ll(this,A),z&&(this.O?y="headers="+encodeURIComponent(String(Fx(z)))+"&"+y:this.m&&cg(A,this.m,z)),ug(this.h,F),this.Ua&&st(A,"TYPE","init"),this.P?(st(A,"$req",y),st(A,"SID","null"),F.T=!0,og(F,A,null)):og(F,A,y),this.G=2}}else this.G==3&&(c?Kx(this,c):this.i.length==0||Ix(this.h)||Kx(this))};function Kx(c,y){var A;y?A=y.l:A=c.U++;const j=Qr(c.I);st(j,"SID",c.K),st(j,"RID",A),st(j,"AID",c.T),Ll(c,j),c.m&&c.o&&cg(j,c.m,c.o),A=new Mi(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Yx(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ug(c.h,A),og(A,j,y)}function Ll(c,y){c.H&&P(c.H,function(A,j){st(y,j,A)}),c.l&&Nx({},function(A,j){st(y,j,A)})}function Yx(c,y,A){A=Math.min(c.i.length,A);var j=c.l?h(c.l.Na,c.l,c):null;e:{var F=c.i;let z=-1;for(;;){const ae=["count="+A];z==-1?0<A?(z=F[0].g,ae.push("ofs="+z)):z=0:ae.push("ofs="+z);let et=!0;for(let qt=0;qt<A;qt++){let Fe=F[qt].g;const ln=F[qt].map;if(Fe-=z,0>Fe)z=Math.max(0,F[qt].g-100),et=!1;else try{QM(ln,ae,"req"+Fe+"_")}catch{j&&j(ln)}}if(et){j=ae.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,j}function Xx(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;G||Q(),V||(G(),V=!0),B.add(y,c),c.v=0}}function dg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kl(h(c.Fa,c),Zx(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Qx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),Tf(this),Qx(this))};function hg(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function Qx(c){c.g=new Mi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Qr(c.qa);st(y,"RID","rpc"),st(y,"SID",c.K),st(y,"AID",c.T),st(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(y,"TO",c.ja),st(y,"TYPE","xmlhttp"),Ll(c,y),c.m&&c.o&&cg(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=_f(Qr(y)),A.m=null,A.P=!0,Ex(A,c)}t.Za=function(){this.C!=null&&(this.C=null,Tf(this),dg(this),_n(19))};function Pf(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Jx(c,y){var A=null;if(c.g==y){Pf(c),hg(c),c.g=null;var j=2}else if(lg(c.h,y))A=y.D,Ox(c.h,y),j=1;else return;if(c.G!=0){if(y.o)if(j==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;j=mf(),wt(j,new wx(j,A)),Af(c)}else Xx(c);else if(F=y.s,F==3||F==0&&0<y.X||!(j==1&&tD(c,y)||j==2&&dg(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),F){case 1:Mo(c,5);break;case 4:Mo(c,10);break;case 3:Mo(c,6);break;default:Mo(c,2)}}}function Zx(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function Mo(c,y){if(c.j.info("Error code "+y),y==2){var A=h(c.fb,c),j=c.Xa;const F=!j;j=new Ro(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||bf(j,"https"),_f(j),F?KM(j.toString(),A):YM(j.toString(),A)}else _n(2);c.G=0,c.l&&c.l.sa(y),e1(c),qx(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function e1(c){if(c.G=0,c.ka=[],c.l){const y=Cx(c.h);(y.length!=0||c.i.length!=0)&&(_(c.ka,y),_(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function t1(c,y,A){var j=A instanceof Ro?Qr(A):new Ro(A);if(j.g!="")y&&(j.g=y+"."+j.g),wf(j,j.s);else{var F=s.location;j=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var z=new Ro(null);j&&bf(z,j),y&&(z.g=y),F&&wf(z,F),A&&(z.l=A),j=z}return A=c.D,y=c.ya,A&&y&&st(j,A,y),st(j,"VER",c.la),Ll(c,j),j}function n1(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new _t(new xf({eb:A})):new _t(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r1(){}t=r1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function If(){}If.prototype.g=function(c,y){return new Fn(c,y)};function Fn(c,y){Ze.call(this),this.g=new Hx(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!w(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ra(this)}g(Fn,Ze),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){fg(this.g)},Fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=Pl(c),c=A);y.i.push(new LM(y.Ya++,c)),y.G==3&&Af(y)},Fn.prototype.N=function(){this.g.l=null,delete this.j,fg(this.g),delete this.g,Fn.aa.N.call(this)};function i1(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}g(i1,qe);function o1(){le.call(this),this.status=1}g(o1,le);function Ra(c){this.g=c}g(Ra,r1),Ra.prototype.ua=function(){wt(this.g,"a")},Ra.prototype.ta=function(c){wt(this.g,new i1(c))},Ra.prototype.sa=function(c){wt(this.g,new o1)},Ra.prototype.ra=function(){wt(this.g,"b")},If.prototype.createWebChannel=If.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,l2=function(){return new If},s2=function(){return mf()},a2=No,Iv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gf.NO_ERROR=0,gf.TIMEOUT=8,gf.HTTP_ERROR=6,Od=gf,_x.COMPLETE="complete",o2=_x,Ge.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,lu=Ge,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,i2=_t}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const TS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new hw("@firebase/firestore");function ql(){return pa.logLevel}function ge(t,...e){if(pa.logLevel<=je.DEBUG){const n=e.map(gw);pa.debug(`Firestore (${ul}): ${t}`,...n)}}function Si(t,...e){if(pa.logLevel<=je.ERROR){const n=e.map(gw);pa.error(`Firestore (${ul}): ${t}`,...n)}}function Is(t,...e){if(pa.logLevel<=je.WARN){const n=e.map(gw);pa.warn(`Firestore (${ul}): ${t}`,...n)}}function gw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw Si(e),new Error(e)}function Ye(t,e){t||Te()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class d3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h3{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new u2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new pn(e)}}class p3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class m3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new p3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new g3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Vt(0,0))}static max(){return new Pe(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Xu{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Xu{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return b3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new be(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new be(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new be(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}function w3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new bo(i,_e.empty(),e)}function _3(t){return new bo(t.readTime,t.key,-1)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(Pe.min(),_e.empty(),-1)}static max(){return new bo(Pe.max(),_e.empty(),-1)}}function x3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==S3)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function T3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yw.oe=-1;function Gp(t){return t==null}function hh(t){return t===0&&1/t==-1/0}function A3(t){return typeof t=="number"&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=o??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PS(this.data.getIterator())}getIteratorFrom(e){return new PS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class PS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new qn([])}unionWith(e){let n=new tn(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new d2("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const P3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=P3.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ma(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bw(t){const e=t.mapValue.fields.__previous_value__;return vw(e)?bw(e):e}function Qu(t){const e=wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Ju{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vw(t)?4:O3(t)?9007199254740991:k3(t)?10:11:Te()}function Gr(t,e){if(t===e)return!0;const n=ga(t);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=wo(i.timestampValue),s=wo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ma(i.bytesValue).isEqual(ma(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Et(i.doubleValue),s=Et(o.doubleValue);return a===s?hh(a)===hh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(AS(a)!==AS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Gr(a[l],s[l])))return!1;return!0}(t,e);default:return Te()}}function Zu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Os(t,e){if(t===e)return 0;const n=ga(t),r=ga(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Et(o.integerValue||o.doubleValue),l=Et(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return IS(t.timestampValue,e.timestampValue);case 4:return IS(Qu(t),Qu(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ma(o),l=ma(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=Ue(s[u],l[u]);if(d!==0)return d}return Ue(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ue(Et(o.latitude),Et(a.latitude));return s!==0?s:Ue(Et(o.longitude),Et(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,d;const f=o.fields||{},h=a.fields||{},m=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=Ue(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:kS(m,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Qf.mapValue&&a===Qf.mapValue)return 0;if(o===Qf.mapValue)return 1;if(a===Qf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ue(l[f],d[f]);if(h!==0)return h;const m=Os(s[l[f]],u[d[f]]);if(m!==0)return m}return Ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function IS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=wo(t),r=wo(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function kS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Os(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function Cs(t){return kv(t)}function kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=kv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${kv(n.fields[a])}`;return i+"}"}(t.mapValue):Te()}function Ov(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function OS(t){return!!t&&"nullValue"in t}function CS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function k3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=xu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(xu(this.value))}}function h2(t){const e=[];return Ta(t.fields,(n,r)=>{const i=new Jt([n]);if(Cd(r)){const o=h2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new gn(e,0,Pe.min(),Pe.min(),Pe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,Pe.min(),Pe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Pe.min(),Pe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function NS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(a.referenceValue),n.key):r=Os(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function C3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{}class Dt extends p2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j3(e,n,r):n==="array-contains"?new D3(e,r):n==="in"?new $3(e,r):n==="not-in"?new L3(e,r):n==="array-contains-any"?new V3(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R3(e,r):new M3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends p2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hr(e,n)}matches(e){return m2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m2(t){return t.op==="and"}function g2(t){return N3(t)&&m2(t)}function N3(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function Cv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(g2(t))return t.filters.map(e=>Cv(e)).join(",");{const e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function y2(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&y2(a,i.filters[s]),!0):!1}(t,e):void Te()}function v2(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Cs(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(v2).join(" ,")+"}"}(t):"Filter"}class j3 extends Dt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class R3 extends Dt{constructor(e,n){super(e,"in",n),this.keys=b2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M3 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=b2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class D3 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ww(n)&&Zu(n.arrayValue,this.value)}}class $3 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class L3 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zu(this.value.arrayValue,n)}}class V3 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function RS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new F3(t,e,n,r,i,o,a)}function _w(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ue=n}return e.ue}function xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jS(t.startAt,e.startAt)&&jS(t.endAt,e.endAt)}function Nv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function B3(t,e,n,r,i,o,a,s){return new Hp(t,e,n,r,i,o,a,s)}function qp(t){return new Hp(t)}function MS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U3(t){return t.collectionGroup!==null}function Su(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new tn(Jt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new mh(o,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new mh(Jt.keyField(),r))}return e.ce}function Fr(t){const e=Ie(t);return e.le||(e.le=z3(e,Su(t))),e.le}function z3(t,e){if(t.limitType==="F")return RS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new mh(i.field,o)});const n=t.endAt?new ph(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ph(t.startAt.position,t.startAt.inclusive):null;return RS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e,n){return new Hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return xw(Fr(t),Fr(e))&&t.limitType===e.limitType}function w2(t){return`${_w(Fr(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>v2(i)).join(", ")}]`),Gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Su(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=NS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Su(r),i)||r.endAt&&!function(a,s,l){const u=NS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Su(r),i))}(t,e)}function W3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _2(t){return(e,n)=>{let r=!1;for(const i of Su(t)){const o=G3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function G3(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Os(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return f2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new bt(_e.comparator);function Ei(){return H3}const x2=new bt(_e.comparator);function uu(...t){let e=x2;for(const n of t)e=e.insert(n.key,n);return e}function S2(t){let e=x2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return Eu()}function E2(){return Eu()}function Eu(){return new cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const q3=new bt(_e.comparator),K3=new tn(_e.comparator);function Ne(...t){let e=K3;for(const n of t)e=e.add(n);return e}const Y3=new tn(Ue);function X3(){return Y3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function T2(t){return{integerValue:""+t}}function A2(t,e){return A3(e)?T2(e):Sw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof gh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vw(o)&&(o=bw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ec?I2(t,e):t instanceof tc?k2(t,e):function(i,o){const a=P2(i,o),s=DS(a)+DS(i.Pe);return Ov(a)&&Ov(i.Pe)?T2(s):Sw(i.serializer,s)}(t,e)}function J3(t,e,n){return t instanceof ec?I2(t,e):t instanceof tc?k2(t,e):n}function P2(t,e){return t instanceof nc?function(r){return Ov(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class gh extends Xp{}class ec extends Xp{constructor(e){super(),this.elements=e}}function I2(t,e){const n=O2(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends Xp{constructor(e){super(),this.elements=e}}function k2(t,e){let n=O2(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class nc extends Xp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function DS(t){return Et(t.integerValue||t.doubleValue)}function O2(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.field=e,this.transform=n}}function eV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ec&&i instanceof ec||r instanceof tc&&i instanceof tc?ks(r.elements,i.elements,Gr):r instanceof nc&&i instanceof nc?Gr(r.Pe,i.Pe):r instanceof gh&&i instanceof gh}(t.transform,e.transform)}class tV{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function C2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ew(t.key,sr.none()):new Kc(t.key,t.data,sr.none());{const n=t.data,r=Cn.empty();let i=new tn(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new To(t.key,r,new qn(i.toArray()),sr.none())}}function nV(t,e,n){t instanceof Kc?function(i,o,a){const s=i.value.clone(),l=LS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,o,a){if(!Nd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=LS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(N2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Tu(t,e,n,r){return t instanceof Kc?function(o,a,s,l){if(!Nd(o.precondition,a))return s;const u=o.value.clone(),d=VS(o.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(o,a,s,l){if(!Nd(o.precondition,a))return s;const u=VS(o.fieldTransforms,l,a),d=a.data;return d.setAll(N2(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Nd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function rV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=P2(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function $S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(o,a)=>eV(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends Qp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LS(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,J3(a,s,n[i]))}return r}function VS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Q3(o,a,e))}return r}class Ew extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=C2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>$S(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>$S(n,r))}}class Tw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return q3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Tw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,De;function lV(t){switch(t){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function j2(t){if(t===void 0)return Si("GRPC error has no .code"),J.UNKNOWN;switch(t){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(De=Pt||(Pt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new ra([4294967295,4294967295],0);function FS(t){const e=uV().encode(t),n=new r2;return n.update(e),new Uint8Array(n.digest())}function BS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ra([n,r],0),new ra([i,o],0)]}class Aw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ra.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ra.fromNumber(r)));return i.compare(cV)===1&&(i=new ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=FS(e),[r,i]=BS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Aw(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=FS(e),[r,i]=BS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(Pe.min(),i,new bt(Ue),Ei(),Ne())}}class Yc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yc(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class R2{constructor(e,n){this.targetId=e,this.me=n}}class M2{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class US{constructor(){this.fe=0,this.ge=WS(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Yc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ei(),this.qe=zS(),this.Qe=new bt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Nv(o))if(r===0){const a=new _e(o.path);this.Ue(n,a,gn.newNoDocument(a,Pe.min()))}else Ye(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ma(r).toUint8Array()}catch(l){if(l instanceof d2)return Is("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Aw(a,i,o)}catch(l){return Is(l instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Nv(s.target)){const l=new _e(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,gn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ne();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Jp(e,n,this.Qe,this.ke,r);return this.ke=Ei(),this.qe=zS(),this.Qe=new bt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new US,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new US),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zS(){return new bt(_e.comparator)}function WS(){return new bt(_e.comparator)}const dV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pV=(()=>({and:"AND",or:"OR"}))();class mV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rv(t,e){return t.useProto3Json||Gp(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gV(t,e){return yh(t,e.toTimestamp())}function Br(t){return Ye(!!t),Pe.fromTimestamp(function(n){const r=wo(n);return new Vt(r.seconds,r.nanos)}(t))}function Pw(t,e){return Mv(t,e).canonicalString()}function Mv(t,e){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $2(t){const e=pt.fromString(t);return Ye(U2(e)),e}function Dv(t,e){return Pw(t.databaseId,e.path)}function Hg(t,e){const n=$2(e);if(n.get(1)!==t.databaseId.projectId)throw new be(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(V2(n))}function L2(t,e){return Pw(t.databaseId,e)}function yV(t){const e=$2(t);return e.length===4?pt.emptyPath():V2(e)}function $v(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V2(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GS(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function vV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ye(d===void 0||typeof d=="string"),on.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),on.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?J.UNKNOWN:j2(u.code);return new be(d,u.message||"")}(a);n=new M2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hg(t,r.document.name),o=Br(r.document.updateTime),a=r.document.createTime?Br(r.document.createTime):Pe.min(),s=new Cn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new jd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hg(t,r.document),o=r.readTime?Br(r.readTime):Pe.min(),a=gn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new jd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hg(t,r.document),o=r.removedTargetIds||[];n=new jd([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new sV(i,o),s=r.targetId;n=new R2(s,a)}}return n}function bV(t,e){let n;if(e instanceof Kc)n={update:GS(t,e.key,e.value)};else if(e instanceof Ew)n={delete:Dv(t,e.key)};else if(e instanceof To)n={update:GS(t,e.key,e.data),updateMask:IV(e.fieldMask)};else{if(!(e instanceof iV))return Te();n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof gh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ec)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof tc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof nc)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:gV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function wV(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Br(i.updateTime):Br(o);return a.isEqual(Pe.min())&&(a=Br(o)),new tV(a,i.transformResults||[])}(n,e))):[]}function _V(t,e){return{documents:[L2(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L2(t,i);const o=function(u){if(u.length!==0)return B2(Hr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Ua(h.field),direction:TV(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Rv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function SV(t){let e=yV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=F2(f);return h instanceof Hr&&g2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(g){return new mh(za(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Gp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new ph(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new ph(m,h)}(n.endAt)),B3(e,i,a,o,s,"F",l,u)}function EV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=za(n.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=za(n.unaryFilter.field);return Dt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>F2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function TV(t){return dV[t]}function AV(t){return hV[t]}function PV(t){return pV[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function za(t){return Jt.fromServerFormat(t.fieldPath)}function B2(t){return t instanceof Dt?function(n){if(n.op==="=="){if(CS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(OS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(OS(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:AV(n.op),value:n.value}}}(t):t instanceof Hr?function(n){const r=n.getFilters().map(i=>B2(i));return r.length===1?r[0]:{compositeFilter:{op:PV(n.op),filters:r}}}(t):Te()}function IV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,i,o=Pe.min(),a=Pe.min(),s=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.ct=e}}function OV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.un=new NV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(bo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(pt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ns(0)}static kn(){return new Ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.changes=new cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tu(r.mutation,i,qn.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=uu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Ei();const a=Eu(),s=function(){return Eu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof To)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Tu(d.mutation,u,d.mutation.getFieldMask(),Vt.now())):a.set(u.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new RV(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Eu();let i=new bt((a,s)=>a-s),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||qn.empty();d=s.applyToLocalView(u,d),r.set(l,d);const f=(i.get(s.batchId)||Ne()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=E2();d.forEach(h=>{if(!o.has(h)){const m=C2(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(Yo());let s=-1,l=o;return a.next(u=>Z.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ne())).next(d=>({batchId:s,changes:S2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=uu();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,l=>{const u=function(f,h){return new Hp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,gn.newInvalidDocument(d)))});let s=uu();return a.forEach((l,u)=>{const d=o.get(l);d!==void 0&&Tu(d.mutation,u,qn.empty(),Vt.now()),Yp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:OV(i.bundledQuery),readTime:Br(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.overlays=new bt(_e.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=Yo(),o=n.length+1,a=new _e(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new bt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Yo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=Yo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aV(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ne(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Tr=new tn(Ut.Er),this.dr=new tn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new _e(new pt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new pt([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Ne();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Ut.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oV(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Ut(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ue);return n.forEach(i=>{const o=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const a=new Ut(new _e(o),0);let s=new tn(Ue);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.Mr=e,this.docs=function(){return new bt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ei();const a=n.path,s=new _e(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||x3(_3(d),r)<=0||(i.has(d.key)||Yp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BV(this)}getSize(e){return Z.resolve(this.size)}}class BV extends jV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.persistence=e,this.Nr=new cl(n=>_w(n),xw),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Iw,this.targetCount=0,this.kr=Ns.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yw(0),this.Kr=!1,this.Kr=!0,this.$r=new LV,this.referenceDelegate=e(this),this.Ur=new UV(this),this.indexManager=new CV,this.remoteDocumentCache=function(i){return new FV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kV(n),this.Gr=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new WV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WV extends E3{constructor(e){super(),this.currentSequenceNumber=e}}class kw{constructor(e){this.persistence=e,this.Jr=new Iw,this.Yr=null}static Zr(e){return new kw(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=_e.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ow(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HL()?8:T3(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new GV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ql()<=je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(ql()<=je.DEBUG&&ge("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ql()<=je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):Z.resolve())}Yi(e,n){if(MS(n))return Z.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jv(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ne(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,jv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return MS(n)||i.isEqual(Pe.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(ql()<=je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(n)),this.rs(e,a,n,w3(i,-1)).next(s=>s))})}ts(e,n){let r=new tn(_2(e));return n.forEach((i,o)=>{Yp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ql()<=je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.Ji.getDocumentsMatchingQuery(e,n,bo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt(Ue),this._s=new cl(o=>_w(o),xw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KV(t,e,n,r){return new qV(t,e,n,r)}async function z2(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ne();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function YV(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const f=u.batch,h=f.keys();let m=Z.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(v=>{const _=u.docVersions.get(g);Ye(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ne();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W2(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XV(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(on.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(v,_,b){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&s.push(n.Ur.updateTargetData(o,m))});let l=Ei(),u=Ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(QV(o,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Pe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function QV(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ei();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ge("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function JV(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZV(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ji(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Lv(t,e,n){const r=Ie(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!qc(a))throw a;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function HS(t,e,n){const r=Ie(t);let i=Pe.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=Ie(l),h=f._s.get(d);return h!==void 0?Z.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,a,Fr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Pe.min(),n?o:Ne())).next(s=>(e5(r,W3(e),s),{documents:s,Ts:o})))}function e5(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class qS{constructor(){this.activeTargetIds=X3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t5{constructor(){this.so=new qS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function qg(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class o5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=qg(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(d=>(ge("RestConnection",`Received RPC '${n}' ${s}: `,d),d),d=>{throw Is("RestConnection",`RPC '${n}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=r5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=qg();return new Promise((a,s)=>{const l=new i2;l.setWithCredentials(!0),l.listenOnce(o2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Od.NO_ERROR:const d=l.getResponseJson();ge(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Od.TIMEOUT:ge(dn,`RPC '${e}' ${o} timed out`),s(new be(J.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const f=l.getStatus();if(ge(dn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(b)>=0?b:J.UNKNOWN}(m.status);s(new be(g,m.message))}else s(new be(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new be(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ge(dn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ge(dn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=qg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=l2(),s=s2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ge(dn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,m=!1;const g=new i5({Io:_=>{m?ge(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(ge(dn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ge(dn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,b,w)=>{_.listen(b,x=>{try{w(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,lu.EventType.OPEN,()=>{m||(ge(dn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,lu.EventType.CLOSE,()=>{m||(m=!0,ge(dn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,lu.EventType.ERROR,_=>{m||(m=!0,Is(dn,`RPC '${e}' stream ${i} transport errored:`,_),g.So(new be(J.UNAVAILABLE,"The operation could not be completed")))}),v(f,lu.EventType.MESSAGE,_=>{var b;if(!m){const w=_.data[0];Ye(!!w);const x=w,k=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(k){ge(dn,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let P=function(I){const C=Pt[I];if(C!==void 0)return j2(C)}(T),E=k.message;P===void 0&&(P=J.INTERNAL,E="Unknown error status: "+T+" with message "+k.message),m=!0,g.So(new be(P,E)),f.close()}else ge(dn,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),v(s,a2.STAT_EVENT,_=>{_.stat===Iv.PROXY?ge(dn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Iv.NOPROXY&&ge(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new mV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new G2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new be(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a5 extends H2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?Br(a.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$v(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Nv(l)?{documents:_V(o,l)}:{query:xV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=D2(o,a.resumeToken);const u=Rv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Pe.min())>0){s.readTime=yh(o,a.snapshotVersion.toTimestamp());const u=Rv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=EV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$v(this.serializer),n.removeTarget=e,this.a_(n)}}class s5 extends H2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wV(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$v(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new be(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Mv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Mv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class u5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Aa(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.L_.add(4),await Xc(u),u.q_.set("Unknown"),u.L_.delete(4),await em(u)}(this))})}),this.q_=new u5(r,i)}}async function em(t){if(Aa(t))for(const e of t.B_)await e(!0)}async function Xc(t){for(const e of t.B_)await e(!1)}function q2(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Rw(n)?jw(n):fl(n).r_()&&Nw(n,e))}function Cw(t,e){const n=Ie(t),r=fl(n);n.N_.delete(e),r.r_()&&K2(n,e),n.N_.size===0&&(r.r_()?r.o_():Aa(n)&&n.q_.set("Unknown"))}function Nw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).A_(e)}function K2(t,e){t.Q_.xe(e),fl(t).R_(e)}function jw(t){t.Q_=new fV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.q_.v_()}function Rw(t){return Aa(t)&&!fl(t).n_()&&t.N_.size>0}function Aa(t){return Ie(t).L_.size===0}function Y2(t){t.Q_=void 0}async function f5(t){t.q_.set("Online")}async function d5(t){t.N_.forEach((e,n)=>{Nw(t,e)})}async function h5(t,e){Y2(t),Rw(t)?(t.q_.M_(e),jw(t)):t.q_.set("Unknown")}async function p5(t,e,n){if(t.q_.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof jd?t.Q_.Ke(e):e instanceof R2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await W2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(on.EMPTY_BYTE_STRING,d.snapshotVersion)),K2(o,l);const f=new Ji(d.target,l,u,d.sequenceNumber);Nw(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!qc(e))throw e;t.L_.add(1),await Xc(t),t.q_.set("Offline"),n||(n=()=>W2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await em(t)})}function X2(t,e){return e().catch(n=>vh(t,n,e))}async function tm(t){const e=Ie(t),n=_o(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;m5(e);)try{const i=await JV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g5(e,i)}catch(i){await vh(e,i)}Q2(e)&&J2(e)}function m5(t){return Aa(t)&&t.O_.length<10}function g5(t,e){t.O_.push(e);const n=_o(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Q2(t){return Aa(t)&&!_o(t).n_()&&t.O_.length>0}function J2(t){_o(t).start()}async function y5(t){_o(t).p_()}async function v5(t){const e=_o(t);for(const n of t.O_)e.m_(n.mutations)}async function b5(t,e,n){const r=t.O_.shift(),i=Tw.from(r,e,n);await X2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function w5(t,e){e&&_o(t).V_&&await async function(r,i){if(function(a){return lV(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();_o(r).s_(),await X2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await tm(r)}}(t,e),Q2(t)&&J2(t)}async function YS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Aa(n);n.L_.add(3),await Xc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await em(n)}async function _5(t,e){const n=Ie(t);e?(n.L_.delete(2),await em(n)):e||(n.L_.add(2),await Xc(n),n.q_.set("Unknown"))}function fl(t){return t.K_||(t.K_=function(n,r,i){const o=Ie(n);return o.w_(),new a5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:f5.bind(null,t),Ro:d5.bind(null,t),mo:h5.bind(null,t),d_:p5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Rw(t)?jw(t):t.q_.set("Unknown")):(await t.K_.stop(),Y2(t))})),t.K_}function _o(t){return t.U_||(t.U_=function(n,r,i){const o=Ie(n);return o.w_(),new s5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y5.bind(null,t),mo:w5.bind(null,t),f_:v5.bind(null,t),g_:b5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tm(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Mw(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dw(t,e){if(Si("AsyncQueue",`${e}: ${t}`),qc(t))return new be(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.W_=new bt(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class js{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new js(e,n,ds.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class S5{constructor(){this.queries=QS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),o=i.queries;i.queries=QS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new be(J.ABORTED,"Firestore shutting down"))}}function QS(){return new cl(t=>w2(t),Kp)}async function $w(t,e){const n=Ie(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new x5,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Dw(a,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Vw(n)}async function Lw(t,e){const n=Ie(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E5(t,e){const n=Ie(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Vw(n)}function T5(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Vw(t){t.Y_.forEach(e=>{e.next()})}var Vv,JS;(JS=Vv||(Vv={})).ea="default",JS.Cache="cache";class Fw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class A5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=_2(e),this.Ra=new ds(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new XS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Yp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(s=!0)),_&&(m?(a=a.add(m),o=v?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(m,g){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return v(m)-v(g)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new js(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new XS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new eC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Z2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return js.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I5{constructor(e){this.key=e,this.va=!1}}class k5{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new cl(s=>w2(s),Kp),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(_e.comparator),this.Na=new Map,this.La=new Iw,this.Ba={},this.ka=new Map,this.qa=Ns.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function O5(t,e,n=!0){const r=aC(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await tC(r,e,n,!0),i}async function C5(t,e){const n=aC(t);await tC(n,e,!0,!1)}async function tC(t,e,n,r){const i=await ZV(t.localStore,Fr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await N5(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&q2(t.remoteStore,i),s}async function N5(t,e,n,r,i){t.Ka=(f,h,m)=>async function(v,_,b,w){let x=_.view.ma(b);x.ns&&(x=await HS(v.localStore,_.query,!1).then(({documents:E})=>_.view.ma(E,x)));const k=w&&w.targetChanges.get(_.targetId),T=w&&w.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(x,v.isPrimaryClient,k,T);return eE(v,_.targetId,P.wa),P.snapshot}(t,f,h,m);const o=await HS(t.localStore,e,!0),a=new A5(e,o.Ts),s=a.ma(o.documents),l=Yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);eE(t,n,u.wa);const d=new P5(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function j5(t,e,n){const r=Ie(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Kp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cw(r.remoteStore,i.targetId),Fv(r,i.targetId)}).catch(Hc)):(Fv(r,i.targetId),await Lv(r.localStore,i.targetId,!0))}async function R5(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cw(n.remoteStore,r.targetId))}async function M5(t,e,n){const r=U5(t);try{const i=await function(a,s){const l=Ie(a),u=Vt.now(),d=s.reduce((m,g)=>m.add(g.key),Ne());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Ei(),v=Ne();return l.cs.getEntries(m,d).next(_=>{g=_,g.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(_=>{f=_;const b=[];for(const w of s){const x=rV(w,f.get(w.key).overlayedDocument);x!=null&&b.push(new To(w.key,x,h2(x.value.mapValue),sr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,s)}).next(_=>{h=_;const b=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,b)})}).then(()=>({batchId:h.batchId,changes:S2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new bt(Ue)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Qc(r,i.changes),await tm(r.remoteStore)}catch(i){const o=Dw(i,"Failed to persist write");n.reject(o)}}async function nC(t,e){const n=Ie(t);try{const r=await XV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ye(a.va):i.removedDocuments.size>0&&(Ye(a.va),a.va=!1))}),await Qc(n,r,e)}catch(r){await Hc(r)}}function ZS(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Ie(a);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&Vw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D5(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new bt(_e.comparator);a=a.insert(o,gn.newNoDocument(o,Pe.min()));const s=Ne().add(o),l=new Jp(Pe.min(),new Map,new bt(Ue),a,s);await nC(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Bw(r)}else await Lv(r.localStore,e,!1).then(()=>Fv(r,e,n)).catch(Hc)}async function $5(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await YV(n.localStore,e);iC(n,r,null),rC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(n,i)}catch(i){await Hc(i)}}async function L5(t,e,n){const r=Ie(t);try{const i=await function(a,s){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ye(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);iC(r,e,n),rC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qc(r,i)}catch(i){await Hc(i)}}function rC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function iC(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||oC(t,r)})}function oC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Cw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Bw(t))}function eE(t,e,n){for(const r of n)r instanceof Z2?(t.La.addReference(r.key,e),V5(t,r)):r instanceof eC?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||oC(t,r.key)):Te()}function V5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),Bw(t))}function Bw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(pt.fromString(e)),r=t.qa.next();t.Na.set(r,new I5(n)),t.Oa=t.Oa.insert(n,r),q2(t.remoteStore,new Ji(Fr(qp(n.path)),r,"TargetPurposeLimboResolution",yw.oe))}}async function Qc(t,e,n){const r=Ie(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Ow.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,h=>Z.forEach(h.$i,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>Z.forEach(h.Ui,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!qc(f))throw f;ge("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.os.get(h),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(h,v)}}}(r.localStore,o))}async function F5(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await z2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new be(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(n,r.hs)}}function B5(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let i=Ne();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function aC(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D5.bind(null,e),e.Ca.d_=E5.bind(null,e.eventManager),e.Ca.$a=T5.bind(null,e.eventManager),e}function U5(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L5.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return KV(this.persistence,new HV,e.initialUser,this.serializer)}Ga(e){return new zV(kw.Zr,this.serializer)}Wa(e){return new t5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class Bv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F5.bind(null,this.syncEngine),await _5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S5}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(o){return new o5(o)}(e.databaseInfo);return function(o,a,s,l){return new l5(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new c5(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>ZS(this.syncEngine,n,0),function(){return KS.D()?new KS:new n5}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,d){const f=new k5(i,o,a,s,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ie(i);ge("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Xc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bv.provider={build:()=>new Bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=c2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ge("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ge("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yg(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await z2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W5(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YS(e.remoteStore,i)),t._onlineComponents=e}async function W5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await Yg(t,new bh)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Yg(t,new bh);return t._offlineComponents}async function sC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await tE(t,new Bv))),t._onlineComponents}function G5(t){return sC(t).then(e=>e.syncEngine)}async function wh(t){const e=await sC(t),n=e.eventManager;return n.onListen=O5.bind(null,e.syncEngine),n.onUnlisten=j5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R5.bind(null,e.syncEngine),n}function H5(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Uw({next:h=>{d.Za(),a.enqueueAndForget(()=>Lw(o,f));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new be(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new be(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Fw(qp(s.path),d,{includeMetadataChanges:!0,_a:!0});return $w(o,f)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}function q5(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Uw({next:h=>{d.Za(),a.enqueueAndForget(()=>Lw(o,f)),h.fromCache&&l.source==="server"?u.reject(new be(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Fw(s,d,{includeMetadataChanges:!0,_a:!0});return $w(o,f)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e,n){if(!n)throw new be(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K5(t,e,n,r){if(e===!0&&r===!0)throw new be(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rE(t){if(!_e.isDocumentKey(t))throw new be(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(_e.isDocumentKey(t))throw new be(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zw(t);throw new be(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new f3;switch(r.type){case"firstParty":return new m3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nE.get(n);r&&(ge("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())}(this),Promise.resolve()}}function Y5(t,e,n,r={}){var i;const o=(t=$n(t,nm))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=pn.MOCK_USER;else{s=VL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new be(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(u)}t._authCredentials=new d3(new u2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jc(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class ho extends Jc{constructor(e,n,r){super(e,n,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new _e(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function xn(t,e,...n){if(t=rn(t),uC("collection","path",e),t instanceof nm){const r=pt.fromString(e,...n);return iE(r),new ho(t,null,r)}{if(!(t instanceof Pn||t instanceof ho))throw new be(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return iE(r),new ho(t.firestore,null,r)}}function Mt(t,e,...n){if(t=rn(t),arguments.length===1&&(e=c2.newId()),uC("doc","path",e),t instanceof nm){const r=pt.fromString(e,...n);return rE(r),new Pn(t,null,new _e(r))}{if(!(t instanceof Pn||t instanceof ho))throw new be(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return rE(r),new Pn(t.firestore,t instanceof ho?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new G2(this,"async_queue_retry"),this.Vu=()=>{const r=Kg();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qc(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Mw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ti extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aE(e),this._firestoreClient=void 0,await e}}}function X5(t,e){const n=typeof t=="object"?t:e2(),r=typeof t=="string"?t:e||"(default)",i=mw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$L("firestore");o&&Y5(i,...o)}return i}function rm(t){if(t._terminated)throw new be(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q5(t),t._firestoreClient}function Q5(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,d){return new I3(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(on.fromBase64String(e))}catch(n){throw new be(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=/^__.*__$/;class Z5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Hw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Hw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fC(this.Cu)&&J5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class eF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Qu(e,n,r,i=!1){return new Hw({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qw(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new eF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Yw("Data must be an object, but it was:",a,r);const s=hC(r,a);let l,u;if(o.merge)l=new qn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Uv(e,f,n);if(!a.contains(h))throw new be(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);mC(d,h)||d.push(h)}l=new qn(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new Z5(new Cn(s),l,u)}class am extends om{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}class Kw extends om{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new nc(e.serializer,A2(e.serializer,this.$u));return new Z3(e.path,n)}isEqual(e){return e instanceof Kw&&this.$u===e.$u}}function tF(t,e,n,r){const i=t.Qu(1,e,n);Yw("Data must be an object, but it was:",i,r);const o=[],a=Cn.empty();Ta(r,(l,u)=>{const d=Xw(e,l,n);u=rn(u);const f=i.Nu(d);if(u instanceof am)o.push(d);else{const h=sm(u,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new qn(o);return new cC(a,s,i.fieldTransforms)}function nF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Uv(e,r,n)],l=[i];if(o.length%2!=0)throw new be(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Uv(e,o[h])),l.push(o[h+1]);const u=[],d=Cn.empty();for(let h=s.length-1;h>=0;--h)if(!mC(u,s[h])){const m=s[h];let g=l[h];g=rn(g);const v=a.Nu(m);if(g instanceof am)u.push(m);else{const _=sm(g,v);_!=null&&(u.push(m),d.set(m,_))}}const f=new qn(u);return new cC(d,f,a.fieldTransforms)}function sm(t,e){if(pC(t=rn(t)))return Yw("Unsupported field value:",e,t),hC(t,e);if(t instanceof om)return function(r,i){if(!fC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=sm(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:yh(i.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(i.serializer,o)}}if(r instanceof Ww)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:D2(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return Sw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zw(r)}`)}(t,e)}function hC(t,e){const n={};return f2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{const o=sm(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function pC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Ww||t instanceof Rs||t instanceof Pn||t instanceof om||t instanceof Gw)}function Yw(t,e,n){if(!pC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Uv(t,e,n){if((e=rn(e))instanceof im)return e._internalPath;if(typeof e=="string")return Xw(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const rF=new RegExp("[~\\*/\\[\\]]");function Xw(t,e,n){if(e.search(rF)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new be(J.INVALID_ARGUMENT,s+t+l)}function mC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iF extends gC{data(){return super.data()}}function yC(t,e){return typeof e=="string"?Xw(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oF{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Et(a.doubleValue));return new Gw(o)}convertGeoPoint(e){return new Ww(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);Ye(U2(r));const i=new Ju(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wC extends gC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rd extends wC{data(e={}){return super.data(e)}}class _C{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rd(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Rd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new fu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Rd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new fu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:aF(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){t=$n(t,Pn);const e=$n(t.firestore,Ti);return H5(rm(e),t._key).then(n=>SC(e,t,n))}class Qw extends oF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Zf(t){t=$n(t,Jc);const e=$n(t.firestore,Ti),n=rm(e),r=new Qw(e);return vC(t._query),q5(n,t._query).then(i=>new _C(e,r,t,i))}function sF(t,e,n){t=$n(t,Pn);const r=$n(t.firestore,Ti),i=bC(t.converter,e,n);return lm(r,[dC(qw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function Sr(t,e,n,...r){t=$n(t,Pn);const i=$n(t.firestore,Ti),o=qw(i);let a;return a=typeof(e=rn(e))=="string"||e instanceof im?nF(o,"updateDoc",t._key,e,n,r):tF(o,"updateDoc",t._key,e),lm(i,[a.toMutation(t._key,sr.exists(!0))])}function ed(t){return lm($n(t.firestore,Ti),[new Ew(t._key,sr.none())])}function Go(t,e){const n=$n(t.firestore,Ti),r=Mt(t),i=bC(t.converter,e);return lm(n,[dC(qw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function ns(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||sE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sE(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Pn)u=$n(t.firestore,Ti),d=qp(t._key.path),l={next:f=>{e[a]&&e[a](SC(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=$n(t,Jc);u=$n(f.firestore,Ti),d=f._query;const h=new Qw(u);l={next:m=>{e[a]&&e[a](new _C(u,h,f,m))},error:e[a+1],complete:e[a+2]},vC(t._query)}return function(h,m,g,v){const _=new Uw(v),b=new Fw(m,_,g);return h.asyncQueue.enqueueAndForget(async()=>$w(await wh(h),b)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>Lw(await wh(h),b))}}(rm(u),d,s,l)}function lm(t,e){return function(r,i){const o=new hi;return r.asyncQueue.enqueueAndForget(async()=>M5(await G5(r),i,o)),o.promise}(rm(t),e)}function SC(t,e,n){const r=n.docs.get(e._key),i=new Qw(t);return new wC(t,i,e._key,r,new fu(n.hasPendingWrites,n.fromCache),e.converter)}function Do(t){return new Kw("increment",t)}(function(e,n=!0){(function(i){ul=i})(ll),Ps(new ha("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Ti(new h3(r.getProvider("auth-internal")),new y3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new be(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),fo(TS,"4.7.3",e),fo(TS,"4.7.3","esm2017")})();function Jw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lF=EC,TC=new Wc("auth","Firebase",EC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new hw("@firebase/auth");function uF(t,...e){xh.logLevel<=je.WARN&&xh.warn(`Auth (${ll}): ${t}`,...e)}function Md(t,...e){xh.logLevel<=je.ERROR&&xh.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw e_(t,...e)}function kr(t,...e){return e_(t,...e)}function Zw(t,e,n){const r=Object.assign(Object.assign({},lF()),{[e]:n});return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function ia(t){return Zw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),Zw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TC.create(t,...e)}function Ee(t,e,...n){if(!t)throw e_(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Md(e),new Error(e)}function Ai(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fF(){return lE()==="http:"||lE()==="https:"}function lE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fF()||zL()||"connection"in navigator)?navigator.onLine:!0}function hF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=FL()||WL()}get(){return dF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new Zc(3e4,6e4);function n_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function dl(t,e,n,r,i={}){return PC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Gc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return UL()||(u.referrerPolicy="no-referrer"),AC.fetch()(IC(t,t.config.apiHost,n,s),u)})}async function PC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pF),e);try{const i=new yF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw td(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw td(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw td(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Zw(t,d,u);qr(t,d)}}catch(i){if(i instanceof Ci)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function gF(t,e,n,r,i={}){const o=await dl(t,e,n,r,i);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function IC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?t_(t.config,i):`${t.config.apiScheme}://${i}`}class yF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),mF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e){return dl(t,"POST","/v1/accounts:delete",e)}async function kC(t,e){return dl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bF(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=r_(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Au(Xg(i.auth_time)),issuedAtTime:Au(Xg(i.iat)),expirationTime:Au(Xg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Xg(t){return Number(t)*1e3}function r_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const i=qO(n);return i?JSON.parse(i):(Md("Failed to decode base64 JWT payload"),null)}catch(i){return Md("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uE(t){const e=r_(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&wF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rc(t,kC(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OC(o.providerUserInfo):[],s=SF(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Wv(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function xF(t){const e=rn(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OC(t){return t.map(e=>{var{providerId:n}=e,r=Jw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e){const n=await PC(t,{},async()=>{const r=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=IC(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",AC.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TF(t,e){return dl(t,"POST","/v2/accounts:revokeToken",n_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await EF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new hs;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _F(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bF(this,e)}reload(){return xF(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await rc(this,vF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:T,providerData:P,stsTokenManager:E}=n;Ee(x&&E,e,"internal-error");const S=hs.fromJSON(this.name,E);Ee(typeof x=="string",e,"internal-error"),Vi(f,e.name),Vi(h,e.name),Ee(typeof k=="boolean",e,"internal-error"),Ee(typeof T=="boolean",e,"internal-error"),Vi(m,e.name),Vi(g,e.name),Vi(v,e.name),Vi(_,e.name),Vi(b,e.name),Vi(w,e.name);const I=new si({uid:x,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:b,lastLoginAt:w});return P&&Array.isArray(P)&&(I.providerData=P.map(C=>Object.assign({},C))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new hs;i.updateFromServerResponse(n);const o=new si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new hs;s.updateFromIdToken(r);const l=new si({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Wv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function li(t){Ai(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CC.type="NONE";const fE=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(li(fE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||li(fE);const a=Dd(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){const f=si._fromJSON(e,d);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ps(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ps(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(LC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||RC(e))&&!e.includes("edge/"))return"Chrome";if(DC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NC(t=wn()){return/firefox\//i.test(t)}function jC(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RC(t=wn()){return/crios\//i.test(t)}function MC(t=wn()){return/iemobile/i.test(t)}function DC(t=wn()){return/android/i.test(t)}function $C(t=wn()){return/blackberry/i.test(t)}function LC(t=wn()){return/webos/i.test(t)}function i_(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AF(t=wn()){var e;return i_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PF(){return GL()&&document.documentMode===10}function VC(t=wn()){return i_(t)||DC(t)||LC(t)||$C(t)||/windows phone/i.test(t)||MC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e=[]){let n;switch(t){case"Browser":n=dE(wn());break;case"Worker":n=`${dE(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e={}){return dl(t,"GET","/v2/passwordPolicy",n_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=6;class CF{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:OF,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new IF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kC(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ia(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kF(this),n=new CF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function um(t){return rn(t)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZL(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jF(t){o_=t}function RF(t){return o_.loadJS(t)}function MF(){return o_.gapiScript}function DF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e){const n=mw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(fh(o,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function LF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VF(t,e,n){const r=um(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=BC(e),{host:a,port:s}=FF(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BF()}function BC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FF(t){const e=BC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:pE(a)}}}function pE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return gF(t,"POST","/v1/accounts:signInWithIdp",n_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="http://localhost";class ya extends UC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Jw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ya(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:UF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends a_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends ef{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends ef{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends ef{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await si._fromIdTokenResponse(e,r,i),a=mE(r);return new Ms({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mE(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Ci{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eh(e,n,r,i)}}function zC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(t,o,e,r):o})}async function zF(t,e,n=!1){const r=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(ia(r));const i="reauthenticate";try{const o=await rc(t,zC(r,i,e,t),n);Ee(o.idToken,r,"internal-error");const a=r_(o.idToken);Ee(a,r,"internal-error");const{sub:s}=a;return Ee(t.uid===s,r,"user-mismatch"),Ms._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e,n=!1){if(oi(t.app))return Promise.reject(ia(t));const r="signIn",i=await zC(t,r,e),o=await Ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function HF(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function qF(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function KF(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function gE(t){return rn(t).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=1e3,XF=10;class GC extends WC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);PF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GC.type="LOCAL";const QF=GC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends WC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HC.type="SESSION";const qC=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await JF(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=s_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function e6(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function t6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r6(){return KC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebaseLocalStorageDb",i6=1,Ah="firebaseLocalStorage",XC="fbase_key";class tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function o6(){const t=indexedDB.deleteDatabase(YC);return new tf(t).toPromise()}function Gv(){const t=indexedDB.open(YC,i6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:XC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await o6(),e(await Gv()))})})}async function yE(t,e,n){const r=fm(t,!0).put({[XC]:e,value:n});return new tf(r).toPromise()}async function a6(t,e){const n=fm(t,!1).get(e),r=await new tf(n).toPromise();return r===void 0?null:r.value}function vE(t,e){const n=fm(t,!0).delete(e);return new tf(n).toPromise()}const s6=800,l6=3;class QC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(r6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t6(),!this.activeServiceWorker)return;this.sender=new ZF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gv();return await yE(e,Th,"1"),await vE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=fm(i,!1).getAll();return new tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QC.type="LOCAL";const u6=QC;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){return e?li(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends UC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c6(t){return GF(t.auth,new l_(t),t.bypassAuthState)}function f6(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),WF(n,new l_(t),t.bypassAuthState)}async function d6(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),zF(n,new l_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c6;case"linkViaPopup":case"linkViaRedirect":return d6;case"reauthViaPopup":case"reauthViaRedirect":return f6;default:qr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new Zc(2e3,1e4);async function p6(t,e,n){if(oi(t.app))return Promise.reject(kr(t,"operation-not-supported-in-this-environment"));const r=um(t);cF(t,e,a_);const i=JC(r,n);return new Xo(r,"signInViaPopup",e,i).executeNotNull()}class Xo extends ZC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=s_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h6.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="pendingRedirect",$d=new Map;class g6 extends ZC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const r=await y6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y6(t,e){const n=w6(e),r=b6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v6(t,e){$d.set(t._key(),e)}function b6(t){return li(t._redirectPersistence)}function w6(t){return Dd(m6,t.config.apiKey,t.name)}async function _6(t,e,n=!1){if(oi(t.app))return Promise.reject(ia(t));const r=um(t),i=JC(r,e),a=await new g6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=10*60*1e3;class S6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x6&&this.cachedEventUids.clear(),this.cachedEventUids.has(bE(e))}saveEventToCache(e){this.cachedEventUids.add(bE(e)),this.lastProcessedEventTime=Date.now()}}function bE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e={}){return dl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P6=/^https?/;async function I6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T6(t);for(const n of e)try{if(k6(n))return}catch{}qr(t,"unauthorized-domain")}function k6(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!P6.test(n))return!1;if(A6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new Zc(3e4,6e4);function wE(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C6(t){return new Promise((e,n)=>{var r,i,o;function a(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(kr(t,"network-request-failed"))},timeout:O6.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ur().gapi)===null||o===void 0)&&o.load)a();else{const s=DF("iframefcb");return Ur()[s]=()=>{gapi.load?a():n(kr(t,"network-request-failed"))},RF(`${MF()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function N6(t){return Ld=Ld||C6(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Zc(5e3,15e3),R6="__/auth/iframe",M6="emulator/auth/iframe",D6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L6(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t_(e,M6):`https://${t.config.authDomain}/${R6}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=$6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gc(r).slice(1)}`}async function V6(t){const e=await N6(t),n=Ur().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:L6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=kr(t,"network-request-failed"),s=Ur().setTimeout(()=>{o(a)},j6.get());function l(){Ur().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B6=500,U6=600,z6="_blank",W6="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G6(t,e,n,r=B6,i=U6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},F6),{width:r.toString(),height:i.toString(),top:o,left:a}),u=wn().toLowerCase();n&&(s=RC(u)?z6:n),NC(u)&&(e=e||W6,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(AF(u)&&s!=="_self")return H6(e||"",s),new _E(null);const f=window.open(e||"",s,d);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new _E(f)}function H6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="__/auth/handler",K6="emulator/auth/handler",Y6=encodeURIComponent("fac");async function xE(t,e,n,r,i,o){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof a_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",JL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof ef){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${Y6}=${encodeURIComponent(l)}`:"";return`${X6(t)}?${Gc(s).slice(1)}${u}`}function X6({config:t}){return t.emulator?t_(t,K6):`https://${t.authDomain}/${q6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class Q6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qC,this._completeRedirectFn=_6,this._overrideRedirectResult=v6}async _openPopup(e,n,r,i){var o;Ai((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await xE(e,n,r,zv(),i);return G6(e,a,s_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await xE(e,n,r,zv(),i);return e6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V6(e),r=new S6(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qg,{type:Qg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Qg];a!==void 0&&n(!!a),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VC()||jC()||i_()}}const J6=Q6;var SE="@firebase/auth",EE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t9(t){Ps(new ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FC(t)},u=new NF(r,i,o,l);return LF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ps(new ha("auth-internal",e=>{const n=um(e.getProvider("auth").getImmediate());return(r=>new Z6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(SE,EE,e9(t)),fo(SE,EE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=5*60,r9=XO("authIdTokenMaxAge")||n9;let TE=null;const i9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r9)return;const i=n==null?void 0:n.token;TE!==i&&(TE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o9(t=e2()){const e=mw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$F(t,{popupRedirectResolver:J6,persistence:[u6,QF,qC]}),r=XO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=i9(o.toString());qF(n,a,()=>a(n.currentUser)),HF(n,s=>a(s))}}const i=KO("auth");return i&&VF(n,`http://${i}`),n}function a9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",a9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t9("Browser");const s9={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},tN=ZO(s9),Be=X5(tN),nd=o9(tN),nN=new ni;nN.setCustomParameters({prompt:"select_account"});const l9=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u9=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]});function c9({teams:t=[],stats:e=[],onSubmit:n,isOnline:r=!0}){const[i,o]=D.useState({teamName:"",opponent:"",location:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[a,s]=D.useState(""),[l,u]=D.useState(!1),[d,f]=D.useState(!r),h=D.useMemo(()=>{const S=new Map;for(const I of t)I&&I.id&&!S.has(I.name.toLowerCase())&&S.set(I.name.toLowerCase(),I);return Array.from(S.values())},[t]),m=D.useMemo(()=>[...new Set(e.map(I=>I.opponent).filter(Boolean))],[e]),g=D.useMemo(()=>[...new Set(e.map(I=>I.location).filter(Boolean))].sort(),[e]);D.useEffect(()=>{r&&h.length>0&&!i.teamName&&!d&&o(S=>({...S,teamName:h[0].name}))},[h,i.teamName,r,d]),D.useEffect(()=>{r||f(!0)},[r]);const v=S=>{const I=S.target.value;o(C=>({...C,opponent:I}))},_=S=>{const I=S.target.value;o(C=>({...C,location:I}))},b=S=>{const I=S.target.value;o(C=>({...C,teamName:I}))},w=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}u(!0),navigator.geolocation.getCurrentPosition(async S=>{try{const{latitude:I,longitude:C}=S.coords,R=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${I}&longitude=${C}&localityLanguage=en`)).json(),N=R.locality||R.city||R.principalSubdivision||`${I.toFixed(4)}, ${C.toFixed(4)}`;o(W=>({...W,location:N})),u(!1)}catch(I){console.error("Error getting location name:",I),o(C=>({...C,location:`${S.coords.latitude.toFixed(4)}, ${S.coords.longitude.toFixed(4)}`})),u(!1)}},S=>{console.error("Error getting location:",S),alert(r?"Unable to get your location. Please enter manually.":"Unable to get your location while offline. Please enter manually."),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},x=m.some(S=>S.toLowerCase()===i.opponent.toLowerCase()),k=m.find(S=>i.opponent.length>=2&&S.toLowerCase().includes(i.opponent.toLowerCase())&&S.toLowerCase()!==i.opponent.toLowerCase()),T=g.filter(S=>i.location.length>=2&&S.toLowerCase().includes(i.location.toLowerCase())&&S.toLowerCase()!==i.location.toLowerCase()).slice(0,3),P=S=>{const{name:I,value:C}=S.target;o(O=>({...O,[I]:C}))},E=S=>{if(!i.teamName||!i.opponent){s("Please enter a team name and opponent name.");return}if(S==="live"&&!r&&!window.confirm("You're offline. This will create a live game that you can score locally. It will sync when you're back online. Continue?"))return;s("");const I=new Date(`${i.date}T${i.time}`).toISOString();typeof n=="function"?n({...i,timestamp:I},S):s("Internal error: Game submit not available.")};return p.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[!r&&p.jsx("div",{className:"mb-6 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:p.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[p.jsx("div",{className:"font-medium mb-1",children:"📱 Offline Mode"}),p.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"You can create games offline, but live sharing requires an internet connection."})]})}),p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"date",name:"date",value:i.date,onChange:P,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),p.jsx("input",{type:"time",name:"time",value:i.time,onChange:P,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),a&&p.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:a}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sahil's Team"}),r&&h.length>0&&p.jsx("button",{type:"button",onClick:()=>{f(!d),o(S=>({...S,teamName:""}))},className:"text-xs text-blue-500 hover:text-blue-600 underline",children:d?"Choose from list":"Enter manually"})]}),d||!r||h.length===0?p.jsx("input",{type:"text",placeholder:"Enter team name (e.g., Sahil's Team)",value:i.teamName,onChange:b,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}):p.jsxs("select",{name:"teamName",value:i.teamName,onChange:P,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[p.jsx("option",{value:"",disabled:!0,children:"Select Team"}),h.map(S=>p.jsx("option",{value:S.name,children:S.name},S.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),p.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:i.opponent,onChange:v,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r&&i.opponent&&p.jsx("div",{className:"mt-2 text-sm",children:x?p.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):k?p.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",p.jsx("button",{type:"button",onClick:()=>o(S=>({...S,opponent:k})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:k}),"?"]}):p.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[p.jsx(l9,{className:"inline w-4 h-4 mr-1"}),"Location"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",name:"location",placeholder:"e.g., Oakland Rec Center, Home Court",value:i.location,onChange:_,className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),p.jsx("button",{type:"button",onClick:w,disabled:l,className:"px-3 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center",title:"Auto-detect location",children:l?p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):p.jsx(u9,{className:"w-4 h-4"})})]}),r&&T.length>0&&p.jsxs("div",{className:"mt-2 text-sm",children:[p.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Previous locations:"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:T.map(S=>p.jsx("button",{type:"button",onClick:()=>o(I=>({...I,location:S})),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:S},S))})]}),i.location&&!g.includes(i.location)&&p.jsx("div",{className:"mt-2 text-sm",children:p.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New location"]})})]}),p.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[p.jsx("button",{onClick:()=>E("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",title:"Start Live Game & Track Stats",children:"Start Live Game & Track Stats"}),p.jsx("button",{onClick:()=>E("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function rN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rN(t))&&(r&&(r+=" "),r+=e);return r}var f9=Array.isArray,Ln=f9,d9=typeof Cf=="object"&&Cf&&Cf.Object===Object&&Cf,iN=d9,h9=iN,p9=typeof self=="object"&&self&&self.Object===Object&&self,m9=h9||p9||Function("return this")(),Yr=m9,g9=Yr,y9=g9.Symbol,nf=y9,AE=nf,oN=Object.prototype,v9=oN.hasOwnProperty,b9=oN.toString,Kl=AE?AE.toStringTag:void 0;function w9(t){var e=v9.call(t,Kl),n=t[Kl];try{t[Kl]=void 0;var r=!0}catch{}var i=b9.call(t);return r&&(e?t[Kl]=n:delete t[Kl]),i}var _9=w9,x9=Object.prototype,S9=x9.toString;function E9(t){return S9.call(t)}var T9=E9,PE=nf,A9=_9,P9=T9,I9="[object Null]",k9="[object Undefined]",IE=PE?PE.toStringTag:void 0;function O9(t){return t==null?t===void 0?k9:I9:IE&&IE in Object(t)?A9(t):P9(t)}var Ni=O9;function C9(t){return t!=null&&typeof t=="object"}var ji=C9,N9=Ni,j9=ji,R9="[object Symbol]";function M9(t){return typeof t=="symbol"||j9(t)&&N9(t)==R9}var hl=M9,D9=Ln,$9=hl,L9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V9=/^\w*$/;function F9(t,e){if(D9(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$9(t)?!0:V9.test(t)||!L9.test(t)||e!=null&&t in Object(e)}var u_=F9;function B9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ao=B9;const pl=rt(Ao);var U9=Ni,z9=Ao,W9="[object AsyncFunction]",G9="[object Function]",H9="[object GeneratorFunction]",q9="[object Proxy]";function K9(t){if(!z9(t))return!1;var e=U9(t);return e==G9||e==H9||e==W9||e==q9}var c_=K9;const ke=rt(c_);var Y9=Yr,X9=Y9["__core-js_shared__"],Q9=X9,Jg=Q9,kE=function(){var t=/[^.]+$/.exec(Jg&&Jg.keys&&Jg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function J9(t){return!!kE&&kE in t}var Z9=J9,eB=Function.prototype,tB=eB.toString;function nB(t){if(t!=null){try{return tB.call(t)}catch{}try{return t+""}catch{}}return""}var aN=nB,rB=c_,iB=Z9,oB=Ao,aB=aN,sB=/[\\^$.*+?()[\]{}|]/g,lB=/^\[object .+?Constructor\]$/,uB=Function.prototype,cB=Object.prototype,fB=uB.toString,dB=cB.hasOwnProperty,hB=RegExp("^"+fB.call(dB).replace(sB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pB(t){if(!oB(t)||iB(t))return!1;var e=rB(t)?hB:lB;return e.test(aB(t))}var mB=pB;function gB(t,e){return t==null?void 0:t[e]}var yB=gB,vB=mB,bB=yB;function wB(t,e){var n=bB(t,e);return vB(n)?n:void 0}var Pa=wB,_B=Pa,xB=_B(Object,"create"),dm=xB,OE=dm;function SB(){this.__data__=OE?OE(null):{},this.size=0}var EB=SB;function TB(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AB=TB,PB=dm,IB="__lodash_hash_undefined__",kB=Object.prototype,OB=kB.hasOwnProperty;function CB(t){var e=this.__data__;if(PB){var n=e[t];return n===IB?void 0:n}return OB.call(e,t)?e[t]:void 0}var NB=CB,jB=dm,RB=Object.prototype,MB=RB.hasOwnProperty;function DB(t){var e=this.__data__;return jB?e[t]!==void 0:MB.call(e,t)}var $B=DB,LB=dm,VB="__lodash_hash_undefined__";function FB(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=LB&&e===void 0?VB:e,this}var BB=FB,UB=EB,zB=AB,WB=NB,GB=$B,HB=BB;function ml(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ml.prototype.clear=UB;ml.prototype.delete=zB;ml.prototype.get=WB;ml.prototype.has=GB;ml.prototype.set=HB;var qB=ml;function KB(){this.__data__=[],this.size=0}var YB=KB;function XB(t,e){return t===e||t!==t&&e!==e}var f_=XB,QB=f_;function JB(t,e){for(var n=t.length;n--;)if(QB(t[n][0],e))return n;return-1}var hm=JB,ZB=hm,eU=Array.prototype,tU=eU.splice;function nU(t){var e=this.__data__,n=ZB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tU.call(e,n,1),--this.size,!0}var rU=nU,iU=hm;function oU(t){var e=this.__data__,n=iU(e,t);return n<0?void 0:e[n][1]}var aU=oU,sU=hm;function lU(t){return sU(this.__data__,t)>-1}var uU=lU,cU=hm;function fU(t,e){var n=this.__data__,r=cU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var dU=fU,hU=YB,pU=rU,mU=aU,gU=uU,yU=dU;function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=hU;gl.prototype.delete=pU;gl.prototype.get=mU;gl.prototype.has=gU;gl.prototype.set=yU;var pm=gl,vU=Pa,bU=Yr,wU=vU(bU,"Map"),d_=wU,CE=qB,_U=pm,xU=d_;function SU(){this.size=0,this.__data__={hash:new CE,map:new(xU||_U),string:new CE}}var EU=SU;function TU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var AU=TU,PU=AU;function IU(t,e){var n=t.__data__;return PU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var mm=IU,kU=mm;function OU(t){var e=kU(this,t).delete(t);return this.size-=e?1:0,e}var CU=OU,NU=mm;function jU(t){return NU(this,t).get(t)}var RU=jU,MU=mm;function DU(t){return MU(this,t).has(t)}var $U=DU,LU=mm;function VU(t,e){var n=LU(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var FU=VU,BU=EU,UU=CU,zU=RU,WU=$U,GU=FU;function yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yl.prototype.clear=BU;yl.prototype.delete=UU;yl.prototype.get=zU;yl.prototype.has=WU;yl.prototype.set=GU;var h_=yl,sN=h_,HU="Expected a function";function p_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(HU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(p_.Cache||sN),n}p_.Cache=sN;var lN=p_;const qU=rt(lN);var KU=lN,YU=500;function XU(t){var e=KU(t,function(r){return n.size===YU&&n.clear(),r}),n=e.cache;return e}var QU=XU,JU=QU,ZU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e8=/\\(\\)?/g,t8=JU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ZU,function(n,r,i,o){e.push(i?o.replace(e8,"$1"):r||n)}),e}),n8=t8;function r8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var m_=r8,NE=nf,i8=m_,o8=Ln,a8=hl,s8=1/0,jE=NE?NE.prototype:void 0,RE=jE?jE.toString:void 0;function uN(t){if(typeof t=="string")return t;if(o8(t))return i8(t,uN)+"";if(a8(t))return RE?RE.call(t):"";var e=t+"";return e=="0"&&1/t==-s8?"-0":e}var l8=uN,u8=l8;function c8(t){return t==null?"":u8(t)}var cN=c8,f8=Ln,d8=u_,h8=n8,p8=cN;function m8(t,e){return f8(t)?t:d8(t,e)?[t]:h8(p8(t))}var fN=m8,g8=hl,y8=1/0;function v8(t){if(typeof t=="string"||g8(t))return t;var e=t+"";return e=="0"&&1/t==-y8?"-0":e}var gm=v8,b8=fN,w8=gm;function _8(t,e){e=b8(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[w8(e[n++])];return n&&n==r?t:void 0}var g_=_8,x8=g_;function S8(t,e,n){var r=t==null?void 0:x8(t,e);return r===void 0?n:r}var dN=S8;const lr=rt(dN);function E8(t){return t==null}var T8=E8;const Oe=rt(T8);var A8=Ni,P8=Ln,I8=ji,k8="[object String]";function O8(t){return typeof t=="string"||!P8(t)&&I8(t)&&A8(t)==k8}var C8=O8;const va=rt(C8);var hN={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=Symbol.for("react.element"),v_=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),N8=Symbol.for("react.server_context"),xm=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),Am=Symbol.for("react.lazy"),j8=Symbol.for("react.offscreen"),pN;pN=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y_:switch(t=t.type,t){case ym:case bm:case vm:case Sm:case Em:return t;default:switch(t=t&&t.$$typeof,t){case N8:case _m:case xm:case Am:case Tm:case wm:return t;default:return e}}case v_:return e}}}Xe.ContextConsumer=_m;Xe.ContextProvider=wm;Xe.Element=y_;Xe.ForwardRef=xm;Xe.Fragment=ym;Xe.Lazy=Am;Xe.Memo=Tm;Xe.Portal=v_;Xe.Profiler=bm;Xe.StrictMode=vm;Xe.Suspense=Sm;Xe.SuspenseList=Em;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return hr(t)===_m};Xe.isContextProvider=function(t){return hr(t)===wm};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y_};Xe.isForwardRef=function(t){return hr(t)===xm};Xe.isFragment=function(t){return hr(t)===ym};Xe.isLazy=function(t){return hr(t)===Am};Xe.isMemo=function(t){return hr(t)===Tm};Xe.isPortal=function(t){return hr(t)===v_};Xe.isProfiler=function(t){return hr(t)===bm};Xe.isStrictMode=function(t){return hr(t)===vm};Xe.isSuspense=function(t){return hr(t)===Sm};Xe.isSuspenseList=function(t){return hr(t)===Em};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ym||t===bm||t===vm||t===Sm||t===Em||t===j8||typeof t=="object"&&t!==null&&(t.$$typeof===Am||t.$$typeof===Tm||t.$$typeof===wm||t.$$typeof===_m||t.$$typeof===xm||t.$$typeof===pN||t.getModuleId!==void 0)};Xe.typeOf=hr;hN.exports=Xe;var R8=hN.exports,M8=Ni,D8=ji,$8="[object Number]";function L8(t){return typeof t=="number"||D8(t)&&M8(t)==$8}var mN=L8;const V8=rt(mN);var F8=mN;function B8(t){return F8(t)&&t!=+t}var U8=B8;const rf=rt(U8);var Ar=function(e){return e===0?0:e>0?1:-1},Qo=function(e){return va(e)&&e.indexOf("%")===e.length-1},se=function(e){return V8(e)&&!rf(e)},z8=function(e){return Oe(e)},Lt=function(e){return se(e)||va(e)},W8=0,of=function(e){var n=++W8;return"".concat(e||"").concat(n)},ba=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(e)&&!va(e))return r;var o;if(Qo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return rf(o)&&(o=r),i&&o>n&&(o=n),o},Yi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},G8=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return se(e)&&se(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ph(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):lr(r,e))===n})}var H8=function(e,n){return se(e)&&se(n)?e-n:va(e)&&va(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}var q8=["viewBox","children"],K8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ME=["points","pathLength"],Zg={svg:q8,polygon:ME,polyline:ME},b_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ih=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!pl(r))return null;var i={};return Object.keys(r).forEach(function(o){b_.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Y8=function(e,n,r){return function(i){return e(n,r,i),null}},kh=function(e,n,r){if(!pl(e)||Hv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];b_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Y8(a,n,r))}),i},X8=["children"],Q8=["children"];function DE(t,e){if(t==null)return{};var n=J8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var $E={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LE=null,ey=null,w_=function t(e){if(e===LE&&Array.isArray(ey))return ey;var n=[];return D.Children.forEach(e,function(r){Oe(r)||(R8.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ey=n,LE=e,n};function ur(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return pi(i)}):r=[pi(e)],w_(t).forEach(function(i){var o=lr(i,"type.displayName")||lr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wn(t,e){var n=ur(t,e);return n&&n[0]}var VE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!se(r)||r<=0||!se(i)||i<=0)},Z8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ez=function(e){return e&&e.type&&va(e.type)&&Z8.indexOf(e.type)>=0},tz=function(e){return e&&qv(e)==="object"&&"clipDot"in e},nz=function(e,n,r,i){var o,a=(o=Zg==null?void 0:Zg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ke(e)&&(i&&a.includes(n)||K8.includes(n))||r&&b_.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!pl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;nz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Kv=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!FE(o,a))return!1}return!0},FE=function(e,n){if(Oe(e)&&Oe(n))return!0;if(!Oe(e)&&!Oe(n)){var r=e.props||{},i=r.children,o=DE(r,X8),a=n.props||{},s=a.children,l=DE(a,Q8);return i&&s?gs(o,l)&&Kv(i,s):!i&&!s?gs(o,l):!1}return!1},BE=function(e,n){var r=[],i={};return w_(e).forEach(function(o,a){if(ez(o))r.push(o);else if(o){var s=pi(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},rz=function(e){var n=e&&e.type;return n&&$E[n]?$E[n]:null},iz=function(e,n){return w_(n).indexOf(e)},oz=["children","width","height","viewBox","className","style","title","desc"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}function az(t,e){if(t==null)return{};var n=sz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=az(t,oz),d=i||{width:n,height:r,x:0,y:0},f=Le("recharts-surface",o);return L.createElement("svg",Yv({},Re(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,s),L.createElement("desc",null,l),e)}var lz=["children","className"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function uz(t,e){if(t==null)return{};var n=cz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var At=L.forwardRef(function(t,e){var n=t.children,r=t.className,i=uz(t,lz),o=Le("recharts-layer",r);return L.createElement("g",Qv({className:o},Re(i,!0),{ref:e}),n)}),mi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function fz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var dz=fz,hz=dz;function pz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hz(t,e,n)}var mz=pz,gz="\\ud800-\\udfff",yz="\\u0300-\\u036f",vz="\\ufe20-\\ufe2f",bz="\\u20d0-\\u20ff",wz=yz+vz+bz,_z="\\ufe0e\\ufe0f",xz="\\u200d",Sz=RegExp("["+xz+gz+wz+_z+"]");function Ez(t){return Sz.test(t)}var gN=Ez;function Tz(t){return t.split("")}var Az=Tz,yN="\\ud800-\\udfff",Pz="\\u0300-\\u036f",Iz="\\ufe20-\\ufe2f",kz="\\u20d0-\\u20ff",Oz=Pz+Iz+kz,Cz="\\ufe0e\\ufe0f",Nz="["+yN+"]",Jv="["+Oz+"]",Zv="\\ud83c[\\udffb-\\udfff]",jz="(?:"+Jv+"|"+Zv+")",vN="[^"+yN+"]",bN="(?:\\ud83c[\\udde6-\\uddff]){2}",wN="[\\ud800-\\udbff][\\udc00-\\udfff]",Rz="\\u200d",_N=jz+"?",xN="["+Cz+"]?",Mz="(?:"+Rz+"(?:"+[vN,bN,wN].join("|")+")"+xN+_N+")*",Dz=xN+_N+Mz,$z="(?:"+[vN+Jv+"?",Jv,bN,wN,Nz].join("|")+")",Lz=RegExp(Zv+"(?="+Zv+")|"+$z+Dz,"g");function Vz(t){return t.match(Lz)||[]}var Fz=Vz,Bz=Az,Uz=gN,zz=Fz;function Wz(t){return Uz(t)?zz(t):Bz(t)}var Gz=Wz,Hz=mz,qz=gN,Kz=Gz,Yz=cN;function Xz(t){return function(e){e=Yz(e);var n=qz(e)?Kz(e):void 0,r=n?n[0]:e.charAt(0),i=n?Hz(n,1).join(""):e.slice(1);return r[t]()+i}}var Qz=Xz,Jz=Qz,Zz=Jz("toUpperCase"),e7=Zz;const Pm=rt(e7);function it(t){return function(){return t}}const SN=Math.cos,Oh=Math.sin,Cr=Math.sqrt,Ch=Math.PI,Im=2*Ch,e0=Math.PI,t0=2*e0,Uo=1e-6,t7=t0-Uo;function EN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function n7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EN:n7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Uo)if(!(Math.abs(f*l-u*d)>Uo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-s,v=l*l+u*u,_=m*m+g*g,b=Math.sqrt(v),w=Math.sqrt(h),x=o*Math.tan((e0-Math.acos((v+h-_)/(2*b*w)))/2),k=x/w,T=x/b;Math.abs(k-1)>Uo&&this._append`L${e+k*d},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*m>d*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Uo||Math.abs(this._y1-d)>Uo)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%t0+t0),h>t7?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Uo&&this._append`A${r},${r},0,${+(h>=e0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function __(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new r7(e)}function x_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TN(t){this._context=t}TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function km(t){return new TN(t)}function AN(t){return t[0]}function PN(t){return t[1]}function IN(t,e){var n=it(!0),r=null,i=km,o=null,a=__(s);t=typeof t=="function"?t:t===void 0?AN:it(t),e=typeof e=="function"?e:e===void 0?PN:it(e);function s(l){var u,d=(l=x_(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function rd(t,e,n){var r=null,i=it(!0),o=null,a=km,s=null,l=__(u);t=typeof t=="function"?t:t===void 0?AN:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?PN:it(+n);function u(f){var h,m,g,v=(f=x_(f)).length,_,b=!1,w,x=new Array(v),k=new Array(v);for(o==null&&(s=a(w=l())),h=0;h<=v;++h){if(!(h<v&&i(_=f[h],h,f))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(x[g],k[g]);s.lineEnd(),s.areaEnd()}b&&(x[h]=+t(_,h,f),k[h]=+e(_,h,f),s.point(r?+r(_,h,f):x[h],n?+n(_,h,f):k[h]))}if(w)return s=null,w+""||null}function d(){return IN().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:it(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class kN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function i7(t){return new kN(t,!0)}function o7(t){return new kN(t,!1)}const S_={draw(t,e){const n=Cr(e/Ch);t.moveTo(n,0),t.arc(0,0,n,0,Im)}},a7={draw(t,e){const n=Cr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ON=Cr(1/3),s7=ON*2,l7={draw(t,e){const n=Cr(e/s7),r=n*ON;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},u7={draw(t,e){const n=Cr(e),r=-n/2;t.rect(r,r,n,n)}},c7=.8908130915292852,CN=Oh(Ch/10)/Oh(7*Ch/10),f7=Oh(Im/10)*CN,d7=-SN(Im/10)*CN,h7={draw(t,e){const n=Cr(e*c7),r=f7*n,i=d7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Im*o/5,s=SN(a),l=Oh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ty=Cr(3),p7={draw(t,e){const n=-Cr(e/(ty*3));t.moveTo(0,n*2),t.lineTo(-ty*n,-n),t.lineTo(ty*n,-n),t.closePath()}},Zn=-.5,er=Cr(3)/2,n0=1/Cr(12),m7=(n0/2+1)*3,g7={draw(t,e){const n=Cr(e/m7),r=n/2,i=n*n0,o=r,a=n*n0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*o-er*a,er*o+Zn*a),t.lineTo(Zn*s-er*l,er*s+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*o+er*a,Zn*a-er*o),t.lineTo(Zn*s+er*l,Zn*l-er*s),t.closePath()}};function y7(t,e){let n=null,r=__(i);t=typeof t=="function"?t:it(t||S_),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:it(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:it(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Nh(){}function jh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function NN(t){this._context=t}NN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v7(t){return new NN(t)}function jN(t){this._context=t}jN.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b7(t){return new jN(t)}function RN(t){this._context=t}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w7(t){return new RN(t)}function MN(t){this._context=t}MN.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _7(t){return new MN(t)}function UE(t){return t<0?-1:1}function zE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(UE(o)+UE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function WE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ny(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Rh(t){this._context=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ny(this,this._t0,WE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ny(this,WE(this,n=zE(this,t,e)),n);break;default:ny(this,this._t0,n=zE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function DN(t){this._context=new $N(t)}(DN.prototype=Object.create(Rh.prototype)).point=function(t,e){Rh.prototype.point.call(this,e,t)};function $N(t){this._context=t}$N.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function x7(t){return new Rh(t)}function S7(t){return new DN(t)}function LN(t){this._context=t}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=GE(t),i=GE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function E7(t){return new LN(t)}function Om(t,e){this._context=t,this._t=e}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function T7(t){return new Om(t,.5)}function A7(t){return new Om(t,0)}function P7(t){return new Om(t,1)}function Ds(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function r0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function I7(t,e){return t[e]}function k7(t){const e=[];return e.key=t,e}function O7(){var t=it([]),e=r0,n=Ds,r=I7;function i(o){var a=Array.from(t.apply(this,arguments),k7),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=x_(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?r0:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ds,i):n},i}function C7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ds(t,e)}}function N7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ds(t,e)}}function j7(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var v=t[e[g]],_=v[r][1]||0,b=v[r-1][1]||0;m+=_-b}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ds(t,e)}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}var R7=["type","size","sizeType"];function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){M7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7(t,e,n){return e=D7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7(t){var e=$7(t,"string");return ic(e)=="symbol"?e:e+""}function $7(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L7(t,e){if(t==null)return{};var n=V7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var VN={symbolCircle:S_,symbolCross:a7,symbolDiamond:l7,symbolSquare:u7,symbolStar:h7,symbolTriangle:p7,symbolWye:g7},F7=Math.PI/180,B7=function(e){var n="symbol".concat(Pm(e));return VN[n]||S_},U7=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*F7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},z7=function(e,n){VN["symbol".concat(Pm(e))]=n},E_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=L7(e,R7),u=qE(qE({},l),{},{type:r,size:o,sizeType:s}),d=function(){var _=B7(r),b=y7().type(_).size(U7(o,s,r));return b()},f=u.className,h=u.cx,m=u.cy,g=Re(u,!0);return h===+h&&m===+m&&o===+o?L.createElement("path",i0({},g,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};E_.registerSymbol=z7;function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){oc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BN(r.key),r)}}function H7(t,e,n){return e&&YE(t.prototype,e),n&&YE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q7(t,e,n){return e=Mh(e),K7(t,FN()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function K7(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7(t)}function Y7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FN=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function X7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a0(t,e)}function a0(t,e){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a0(t,e)}function oc(t,e,n){return e=BN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BN(t){var e=Q7(t,"string");return $s(e)=="symbol"?e:e+""}function Q7(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=32,T_=function(t){function e(){return G7(this,e),q7(this,e,arguments)}return X7(e,t),H7(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=tr/2,a=tr/6,s=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:tr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(tr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var u=W7({},r);return delete u.legendIcon,L.cloneElement(r.legendIcon,u)}return L.createElement(E_,{fill:l,cx:o,cy:o,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:tr,height:tr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var v=m.formatter||l,_=Le(oc(oc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=ke(m.value)?null:m.value;mi(!ke(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return L.createElement("li",o0({className:_,style:f,key:"legend-item-".concat(g)},kh(r.props,m,g)),L.createElement(Xv,{width:a,height:a,viewBox:d,style:h},r.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(b,m,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);oc(T_,"displayName","Legend");oc(T_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var J7=pm;function Z7(){this.__data__=new J7,this.size=0}var eW=Z7;function tW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nW=tW;function rW(t){return this.__data__.get(t)}var iW=rW;function oW(t){return this.__data__.has(t)}var aW=oW,sW=pm,lW=d_,uW=h_,cW=200;function fW(t,e){var n=this.__data__;if(n instanceof sW){var r=n.__data__;if(!lW||r.length<cW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uW(r)}return n.set(t,e),this.size=n.size,this}var dW=fW,hW=pm,pW=eW,mW=nW,gW=iW,yW=aW,vW=dW;function vl(t){var e=this.__data__=new hW(t);this.size=e.size}vl.prototype.clear=pW;vl.prototype.delete=mW;vl.prototype.get=gW;vl.prototype.has=yW;vl.prototype.set=vW;var UN=vl,bW="__lodash_hash_undefined__";function wW(t){return this.__data__.set(t,bW),this}var _W=wW;function xW(t){return this.__data__.has(t)}var SW=xW,EW=h_,TW=_W,AW=SW;function Dh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new EW;++e<n;)this.add(t[e])}Dh.prototype.add=Dh.prototype.push=TW;Dh.prototype.has=AW;var zN=Dh;function PW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var WN=PW;function IW(t,e){return t.has(e)}var GN=IW,kW=zN,OW=WN,CW=GN,NW=1,jW=2;function RW(t,e,n,r,i,o){var a=n&NW,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&jW?new kW:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],v=e[f];if(r)var _=a?r(v,g,f,e,t,o):r(g,v,f,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!OW(e,function(b,w){if(!CW(m,w)&&(g===b||i(g,b,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var HN=RW,MW=Yr,DW=MW.Uint8Array,$W=DW;function LW(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var VW=LW;function FW(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var A_=FW,XE=nf,QE=$W,BW=f_,UW=HN,zW=VW,WW=A_,GW=1,HW=2,qW="[object Boolean]",KW="[object Date]",YW="[object Error]",XW="[object Map]",QW="[object Number]",JW="[object RegExp]",ZW="[object Set]",eG="[object String]",tG="[object Symbol]",nG="[object ArrayBuffer]",rG="[object DataView]",JE=XE?XE.prototype:void 0,ry=JE?JE.valueOf:void 0;function iG(t,e,n,r,i,o,a){switch(n){case rG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nG:return!(t.byteLength!=e.byteLength||!o(new QE(t),new QE(e)));case qW:case KW:case QW:return BW(+t,+e);case YW:return t.name==e.name&&t.message==e.message;case JW:case eG:return t==e+"";case XW:var s=zW;case ZW:var l=r&GW;if(s||(s=WW),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=HW,a.set(t,e);var d=UW(s(t),s(e),r,i,o,a);return a.delete(t),d;case tG:if(ry)return ry.call(t)==ry.call(e)}return!1}var oG=iG;function aG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var qN=aG,sG=qN,lG=Ln;function uG(t,e,n){var r=e(t);return lG(t)?r:sG(r,n(t))}var cG=uG;function fG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var dG=fG;function hG(){return[]}var pG=hG,mG=dG,gG=pG,yG=Object.prototype,vG=yG.propertyIsEnumerable,ZE=Object.getOwnPropertySymbols,bG=ZE?function(t){return t==null?[]:(t=Object(t),mG(ZE(t),function(e){return vG.call(t,e)}))}:gG,wG=bG;function _G(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xG=_G,SG=Ni,EG=ji,TG="[object Arguments]";function AG(t){return EG(t)&&SG(t)==TG}var PG=AG,eT=PG,IG=ji,KN=Object.prototype,kG=KN.hasOwnProperty,OG=KN.propertyIsEnumerable,CG=eT(function(){return arguments}())?eT:function(t){return IG(t)&&kG.call(t,"callee")&&!OG.call(t,"callee")},P_=CG,$h={exports:{}};function NG(){return!1}var jG=NG;$h.exports;(function(t,e){var n=Yr,r=jG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})($h,$h.exports);var YN=$h.exports,RG=9007199254740991,MG=/^(?:0|[1-9]\d*)$/;function DG(t,e){var n=typeof t;return e=e??RG,!!e&&(n=="number"||n!="symbol"&&MG.test(t))&&t>-1&&t%1==0&&t<e}var I_=DG,$G=9007199254740991;function LG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$G}var k_=LG,VG=Ni,FG=k_,BG=ji,UG="[object Arguments]",zG="[object Array]",WG="[object Boolean]",GG="[object Date]",HG="[object Error]",qG="[object Function]",KG="[object Map]",YG="[object Number]",XG="[object Object]",QG="[object RegExp]",JG="[object Set]",ZG="[object String]",eH="[object WeakMap]",tH="[object ArrayBuffer]",nH="[object DataView]",rH="[object Float32Array]",iH="[object Float64Array]",oH="[object Int8Array]",aH="[object Int16Array]",sH="[object Int32Array]",lH="[object Uint8Array]",uH="[object Uint8ClampedArray]",cH="[object Uint16Array]",fH="[object Uint32Array]",ut={};ut[rH]=ut[iH]=ut[oH]=ut[aH]=ut[sH]=ut[lH]=ut[uH]=ut[cH]=ut[fH]=!0;ut[UG]=ut[zG]=ut[tH]=ut[WG]=ut[nH]=ut[GG]=ut[HG]=ut[qG]=ut[KG]=ut[YG]=ut[XG]=ut[QG]=ut[JG]=ut[ZG]=ut[eH]=!1;function dH(t){return BG(t)&&FG(t.length)&&!!ut[VG(t)]}var hH=dH;function pH(t){return function(e){return t(e)}}var XN=pH,Lh={exports:{}};Lh.exports;(function(t,e){var n=iN,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Lh,Lh.exports);var mH=Lh.exports,gH=hH,yH=XN,tT=mH,nT=tT&&tT.isTypedArray,vH=nT?yH(nT):gH,QN=vH,bH=xG,wH=P_,_H=Ln,xH=YN,SH=I_,EH=QN,TH=Object.prototype,AH=TH.hasOwnProperty;function PH(t,e){var n=_H(t),r=!n&&wH(t),i=!n&&!r&&xH(t),o=!n&&!r&&!i&&EH(t),a=n||r||i||o,s=a?bH(t.length,String):[],l=s.length;for(var u in t)(e||AH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||SH(u,l)))&&s.push(u);return s}var IH=PH,kH=Object.prototype;function OH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||kH;return t===n}var CH=OH;function NH(t,e){return function(n){return t(e(n))}}var JN=NH,jH=JN,RH=jH(Object.keys,Object),MH=RH,DH=CH,$H=MH,LH=Object.prototype,VH=LH.hasOwnProperty;function FH(t){if(!DH(t))return $H(t);var e=[];for(var n in Object(t))VH.call(t,n)&&n!="constructor"&&e.push(n);return e}var BH=FH,UH=c_,zH=k_;function WH(t){return t!=null&&zH(t.length)&&!UH(t)}var af=WH,GH=IH,HH=BH,qH=af;function KH(t){return qH(t)?GH(t):HH(t)}var Cm=KH,YH=cG,XH=wG,QH=Cm;function JH(t){return YH(t,QH,XH)}var ZH=JH,rT=ZH,eq=1,tq=Object.prototype,nq=tq.hasOwnProperty;function rq(t,e,n,r,i,o){var a=n&eq,s=rT(t),l=s.length,u=rT(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:nq.call(e,h)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){h=s[f];var b=t[h],w=e[h];if(r)var x=a?r(w,b,h,e,t,o):r(b,w,h,t,e,o);if(!(x===void 0?b===w||i(b,w,n,r,o):x)){v=!1;break}_||(_=h=="constructor")}if(v&&!_){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}var iq=rq,oq=Pa,aq=Yr,sq=oq(aq,"DataView"),lq=sq,uq=Pa,cq=Yr,fq=uq(cq,"Promise"),dq=fq,hq=Pa,pq=Yr,mq=hq(pq,"Set"),ZN=mq,gq=Pa,yq=Yr,vq=gq(yq,"WeakMap"),bq=vq,s0=lq,l0=d_,u0=dq,c0=ZN,f0=bq,ej=Ni,bl=aN,iT="[object Map]",wq="[object Object]",oT="[object Promise]",aT="[object Set]",sT="[object WeakMap]",lT="[object DataView]",_q=bl(s0),xq=bl(l0),Sq=bl(u0),Eq=bl(c0),Tq=bl(f0),zo=ej;(s0&&zo(new s0(new ArrayBuffer(1)))!=lT||l0&&zo(new l0)!=iT||u0&&zo(u0.resolve())!=oT||c0&&zo(new c0)!=aT||f0&&zo(new f0)!=sT)&&(zo=function(t){var e=ej(t),n=e==wq?t.constructor:void 0,r=n?bl(n):"";if(r)switch(r){case _q:return lT;case xq:return iT;case Sq:return oT;case Eq:return aT;case Tq:return sT}return e});var Aq=zo,iy=UN,Pq=HN,Iq=oG,kq=iq,uT=Aq,cT=Ln,fT=YN,Oq=QN,Cq=1,dT="[object Arguments]",hT="[object Array]",id="[object Object]",Nq=Object.prototype,pT=Nq.hasOwnProperty;function jq(t,e,n,r,i,o){var a=cT(t),s=cT(e),l=a?hT:uT(t),u=s?hT:uT(e);l=l==dT?id:l,u=u==dT?id:u;var d=l==id,f=u==id,h=l==u;if(h&&fT(t)){if(!fT(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new iy),a||Oq(t)?Pq(t,e,n,r,i,o):Iq(t,e,l,n,r,i,o);if(!(n&Cq)){var m=d&&pT.call(t,"__wrapped__"),g=f&&pT.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,_=g?e.value():e;return o||(o=new iy),i(v,_,n,r,o)}}return h?(o||(o=new iy),kq(t,e,n,r,i,o)):!1}var Rq=jq,Mq=Rq,mT=ji;function tj(t,e,n,r,i){return t===e?!0:t==null||e==null||!mT(t)&&!mT(e)?t!==t&&e!==e:Mq(t,e,n,r,tj,i)}var O_=tj,Dq=UN,$q=O_,Lq=1,Vq=2;function Fq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Dq;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?$q(d,u,Lq|Vq,r,f):h))return!1}}return!0}var Bq=Fq,Uq=Ao;function zq(t){return t===t&&!Uq(t)}var nj=zq,Wq=nj,Gq=Cm;function Hq(t){for(var e=Gq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wq(i)]}return e}var qq=Hq;function Kq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rj=Kq,Yq=Bq,Xq=qq,Qq=rj;function Jq(t){var e=Xq(t);return e.length==1&&e[0][2]?Qq(e[0][0],e[0][1]):function(n){return n===t||Yq(n,t,e)}}var Zq=Jq;function eK(t,e){return t!=null&&e in Object(t)}var tK=eK,nK=fN,rK=P_,iK=Ln,oK=I_,aK=k_,sK=gm;function lK(t,e,n){e=nK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=sK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&aK(i)&&oK(a,i)&&(iK(t)||rK(t)))}var uK=lK,cK=tK,fK=uK;function dK(t,e){return t!=null&&fK(t,e,cK)}var hK=dK,pK=O_,mK=dN,gK=hK,yK=u_,vK=nj,bK=rj,wK=gm,_K=1,xK=2;function SK(t,e){return yK(t)&&vK(e)?bK(wK(t),e):function(n){var r=mK(n,t);return r===void 0&&r===e?gK(n,t):pK(e,r,_K|xK)}}var EK=SK;function TK(t){return t}var wl=TK;function AK(t){return function(e){return e==null?void 0:e[t]}}var PK=AK,IK=g_;function kK(t){return function(e){return IK(e,t)}}var OK=kK,CK=PK,NK=OK,jK=u_,RK=gm;function MK(t){return jK(t)?CK(RK(t)):NK(t)}var DK=MK,$K=Zq,LK=EK,VK=wl,FK=Ln,BK=DK;function UK(t){return typeof t=="function"?t:t==null?VK:typeof t=="object"?FK(t)?LK(t[0],t[1]):$K(t):BK(t)}var Po=UK;function zK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var ij=zK;function WK(t){return t!==t}var GK=WK;function HK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qK=HK,KK=ij,YK=GK,XK=qK;function QK(t,e,n){return e===e?XK(t,e,n):KK(t,YK,n)}var JK=QK,ZK=JK;function eY(t,e){var n=t==null?0:t.length;return!!n&&ZK(t,e,0)>-1}var tY=eY;function nY(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var rY=nY;function iY(){}var oY=iY,oy=ZN,aY=oY,sY=A_,lY=1/0,uY=oy&&1/sY(new oy([,-0]))[1]==lY?function(t){return new oy(t)}:aY,cY=uY,fY=zN,dY=tY,hY=rY,pY=GN,mY=cY,gY=A_,yY=200;function vY(t,e,n){var r=-1,i=dY,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=hY;else if(o>=yY){var u=e?null:mY(t);if(u)return gY(u);a=!1,i=pY,l=new fY}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var bY=vY,wY=Po,_Y=bY;function xY(t,e){return t&&t.length?_Y(t,wY(e)):[]}var SY=xY;const gT=rt(SY);function oj(t,e,n){return e===!0?gT(t,n):ke(e)?gT(t,e):t}function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}var EY=["ref"];function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(r){Nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sj(r.key),r)}}function AY(t,e,n){return e&&vT(t.prototype,e),n&&vT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PY(t,e,n){return e=Vh(e),IY(t,aj()?Reflect.construct(e,n||[],Vh(t).constructor):e.apply(t,n))}function IY(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(t)}function kY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aj=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(t)}function OY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d0(t,e)}function Nm(t,e,n){return e=sj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t){var e=CY(t,"string");return Ls(e)=="symbol"?e:e+""}function CY(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NY(t,e){if(t==null)return{};var n=jY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RY(t){return t.value}function MY(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=NY(e,EY);return L.createElement(T_,n)}var bT=1,oa=function(t){function e(){var n;TY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=PY(this,e,[].concat(i)),Nm(n,"lastBoundingBox",{width:-1,height:-1}),n}return OY(e,t),AY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bT||Math.abs(i.height-this.lastBoundingBox.height)>bT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zr(Zr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Zr(Zr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},MY(o,Zr(Zr({},this.props),{},{payload:oj(d,u,RY)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Zr(Zr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&se(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Nm(oa,"displayName","Legend");Nm(oa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wT=nf,DY=P_,$Y=Ln,_T=wT?wT.isConcatSpreadable:void 0;function LY(t){return $Y(t)||DY(t)||!!(_T&&t&&t[_T])}var VY=LY,FY=qN,BY=VY;function lj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=BY),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?lj(s,e-1,n,r,i):FY(i,s):r||(i[i.length]=s)}return i}var uj=lj;function UY(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var zY=UY,WY=zY,GY=WY(),HY=GY,qY=HY,KY=Cm;function YY(t,e){return t&&qY(t,e,KY)}var cj=YY,XY=af;function QY(t,e){return function(n,r){if(n==null)return n;if(!XY(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var JY=QY,ZY=cj,eX=JY,tX=eX(ZY),C_=tX,nX=C_,rX=af;function iX(t,e){var n=-1,r=rX(t)?Array(t.length):[];return nX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var fj=iX;function oX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var aX=oX,xT=hl;function sX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=xT(t),a=e!==void 0,s=e===null,l=e===e,u=xT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var lX=sX,uX=lX;function cX(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=uX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var fX=cX,ay=m_,dX=g_,hX=Po,pX=fj,mX=aX,gX=XN,yX=fX,vX=wl,bX=Ln;function wX(t,e,n){e.length?e=ay(e,function(o){return bX(o)?function(a){return dX(a,o.length===1?o[0]:o)}:o}):e=[vX];var r=-1;e=ay(e,gX(hX));var i=pX(t,function(o,a,s){var l=ay(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return mX(i,function(o,a){return yX(o,a,n)})}var _X=wX;function xX(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var SX=xX,EX=SX,ST=Math.max;function TX(t,e,n){return e=ST(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ST(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),EX(t,this,s)}}var AX=TX;function PX(t){return function(){return t}}var IX=PX,kX=Pa,OX=function(){try{var t=kX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dj=OX,CX=IX,ET=dj,NX=wl,jX=ET?function(t,e){return ET(t,"toString",{configurable:!0,enumerable:!1,value:CX(e),writable:!0})}:NX,RX=jX,MX=800,DX=16,$X=Date.now;function LX(t){var e=0,n=0;return function(){var r=$X(),i=DX-(r-n);if(n=r,i>0){if(++e>=MX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var VX=LX,FX=RX,BX=VX,UX=BX(FX),zX=UX,WX=wl,GX=AX,HX=zX;function qX(t,e){return HX(GX(t,e,WX),t+"")}var KX=qX,YX=f_,XX=af,QX=I_,JX=Ao;function ZX(t,e,n){if(!JX(n))return!1;var r=typeof e;return(r=="number"?XX(n)&&QX(e,n.length):r=="string"&&e in n)?YX(n[e],t):!1}var jm=ZX,eQ=uj,tQ=_X,nQ=KX,TT=jm,rQ=nQ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&TT(t,e[0],e[1])?e=[]:n>2&&TT(e[0],e[1],e[2])&&(e=[e[0]]),tQ(t,eQ(e,1),[])}),iQ=rQ;const N_=rt(iQ);function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(this,arguments)}function oQ(t,e){return uQ(t)||lQ(t,e)||sQ(t,e)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(t,e){if(t){if(typeof t=="string")return AT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(t,e)}}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function uQ(t){if(Array.isArray(t))return t}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=dQ(t,"string");return ac(e)=="symbol"?e:e+""}function dQ(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hQ(t){return Array.isArray(t)&&Lt(t[0])&&Lt(t[1])?t.join(" ~ "):t}var pQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,v=e.label,_=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,x=function(){if(d&&d.length){var R={padding:0,margin:0},N=(h?N_(d,h):d).map(function(W,U){if(W.type==="none")return null;var $=sy({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),G=W.formatter||f||hQ,V=W.value,B=W.name,Q=V,ie=B;if(G&&Q!=null&&ie!=null){var X=G(V,B,W,U,d);if(Array.isArray(X)){var q=oQ(X,2);Q=q[0],ie=q[1]}else Q=X}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:$},Lt(ie)?L.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Lt(ie)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},Q),L.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},k=sy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=sy({margin:0},u),P=!Oe(v),E=P?v:"",S=Le("recharts-default-tooltip",m),I=Le("recharts-tooltip-label",g);P&&_&&d!==void 0&&d!==null&&(E=_(v,d));var C=w?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",h0({className:S,style:k},C),L.createElement("p",{className:I,style:T},L.isValidElement(E)?E:"".concat(E)),x())};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function od(t,e,n){return e=mQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=gQ(t,"string");return sc(e)=="symbol"?e:e+""}function gQ(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yl="recharts-tooltip-wrapper",yQ={visibility:"hidden"};function vQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(Yl,od(od(od(od({},"".concat(Yl,"-right"),se(n)&&e&&se(e.x)&&n>=e.x),"".concat(Yl,"-left"),se(n)&&e&&se(e.x)&&n<e.x),"".concat(Yl,"-bottom"),se(r)&&e&&se(e.y)&&r>=e.y),"".concat(Yl,"-top"),se(r)&&e&&se(e.y)&&r<e.y))}function IT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&se(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var g=f+s,v=l[r]+u;return g>v?Math.max(d,l[r]):Math.max(f,l[r])}function bQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=IT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=IT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=bQ({translateX:d,translateY:f,useTranslate3d:s})):u=yQ,{cssProperties:u,cssClasses:vQ({translateX:d,translateY:f,coordinate:n})}}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){m0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pj(r.key),r)}}function xQ(t,e,n){return e&&CT(t.prototype,e),n&&CT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SQ(t,e,n){return e=Fh(e),EQ(t,hj()?Reflect.construct(e,n||[],Fh(t).constructor):e.apply(t,n))}function EQ(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TQ(t)}function TQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hj=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fh(t)}function AQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p0(t,e)}function m0(t,e,n){return e=pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pj(t){var e=PQ(t,"string");return Vs(e)=="symbol"?e:e+""}function PQ(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NT=1,IQ=function(t){function e(){var n;_Q(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=SQ(this,e,[].concat(i)),m0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),m0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return AQ(e,t),xQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NT||Math.abs(r.height-this.state.lastBoundingBox.height)>NT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,v=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,x=wQ({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),k=x.cssClasses,T=x.cssProperties,P=OT(OT({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return L.createElement("div",{tabIndex:-1,className:k,style:P,ref:function(S){r.wrapperNode=S}},u)}}])}(D.PureComponent),kQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gi={isSsr:kQ(),get:function(e){return gi[e]},set:function(e,n){if(typeof e=="string")gi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){gi[i]=e[i]})}}};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gj(r.key),r)}}function CQ(t,e,n){return e&&MT(t.prototype,e),n&&MT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NQ(t,e,n){return e=Bh(e),jQ(t,mj()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function jQ(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(t)}function RQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mj=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function MQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g0(t,e)}function j_(t,e,n){return e=gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gj(t){var e=DQ(t,"string");return Fs(e)=="symbol"?e:e+""}function DQ(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Q(t){return t.dataKey}function LQ(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(pQ,e)}var Mr=function(t){function e(){return OQ(this,e),NQ(this,e,arguments)}return MQ(e,t),CQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,v=i.payloadUniqBy,_=i.position,b=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,T=g??[];f&&T.length&&(T=oj(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,$Q));var P=T.length>0;return L.createElement(IQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:m,position:_,reverseDirection:b,useTranslate3d:w,viewBox:x,wrapperStyle:k},LQ(u,RT(RT({},this.props),{},{payload:T})))}}])}(D.PureComponent);j_(Mr,"displayName","Tooltip");j_(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var VQ=Yr,FQ=function(){return VQ.Date.now()},BQ=FQ,UQ=/\s/;function zQ(t){for(var e=t.length;e--&&UQ.test(t.charAt(e)););return e}var WQ=zQ,GQ=WQ,HQ=/^\s+/;function qQ(t){return t&&t.slice(0,GQ(t)+1).replace(HQ,"")}var KQ=qQ,YQ=KQ,DT=Ao,XQ=hl,$T=0/0,QQ=/^[-+]0x[0-9a-f]+$/i,JQ=/^0b[01]+$/i,ZQ=/^0o[0-7]+$/i,eJ=parseInt;function tJ(t){if(typeof t=="number")return t;if(XQ(t))return $T;if(DT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=DT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YQ(t);var n=JQ.test(t);return n||ZQ.test(t)?eJ(t.slice(2),n?2:8):QQ.test(t)?$T:+t}var yj=tJ,nJ=Ao,ly=BQ,LT=yj,rJ="Expected a function",iJ=Math.max,oJ=Math.min;function aJ(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(rJ);e=LT(e)||0,nJ(n)&&(d=!!n.leading,f="maxWait"in n,o=f?iJ(LT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(P){var E=r,S=i;return r=i=void 0,u=P,a=t.apply(S,E),a}function g(P){return u=P,s=setTimeout(b,e),d?m(P):a}function v(P){var E=P-l,S=P-u,I=e-E;return f?oJ(I,o-S):I}function _(P){var E=P-l,S=P-u;return l===void 0||E>=e||E<0||f&&S>=o}function b(){var P=ly();if(_(P))return w(P);s=setTimeout(b,v(P))}function w(P){return s=void 0,h&&r?m(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?a:w(ly())}function T(){var P=ly(),E=_(P);if(r=arguments,i=this,l=P,E){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=x,T.flush=k,T}var sJ=aJ,lJ=sJ,uJ=Ao,cJ="Expected a function";function fJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cJ);return uJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lJ(t,e,{leading:r,maxWait:e,trailing:i})}var dJ=fJ;const vj=rt(dJ);function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return lc(e)=="symbol"?e:e+""}function mJ(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gJ(t,e){return wJ(t)||bJ(t,e)||vJ(t,e)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wJ(t){if(Array.isArray(t))return t}var _J=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,v=g===void 0?0:g,_=t.id,b=t.className,w=t.onResize,x=t.style,k=x===void 0?{}:x,T=D.useRef(null),P=D.useRef();P.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=D.useState({containerWidth:i.width,containerHeight:i.height}),S=gJ(E,2),I=S[0],C=S[1],O=D.useCallback(function(N,W){C(function(U){var $=Math.round(N),G=Math.round(W);return U.containerWidth===$&&U.containerHeight===G?U:{containerWidth:$,containerHeight:G}})},[]);D.useEffect(function(){var N=function(B){var Q,ie=B[0].contentRect,X=ie.width,q=ie.height;O(X,q),(Q=P.current)===null||Q===void 0||Q.call(P,X,q)};v>0&&(N=vj(N,v,{trailing:!0,leading:!1}));var W=new ResizeObserver(N),U=T.current.getBoundingClientRect(),$=U.width,G=U.height;return O($,G),W.observe(T.current),function(){W.disconnect()}},[O,v]);var R=D.useMemo(function(){var N=I.containerWidth,W=I.containerHeight;if(N<0||W<0)return null;mi(Qo(a)||Qo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),mi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Qo(a)?N:a,$=Qo(l)?W:l;n&&n>0&&(U?$=U/n:$&&(U=$*n),h&&$>h&&($=h)),mi(U>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,$,a,l,d,f,n);var G=!Array.isArray(m)&&pi(m.type).endsWith("Chart");return L.Children.map(m,function(V){return L.isValidElement(V)?D.cloneElement(V,ad({width:U,height:$},G?{style:ad({height:"100%",width:"100%",maxHeight:$,maxWidth:U},V.props.style)}:{})):V})},[n,m,l,h,f,d,I,a]);return L.createElement("div",{id:_?"".concat(_):void 0,className:Le("recharts-responsive-container",b),style:ad(ad({},k),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:T},R)}),bj=function(e){return null};bj.displayName="Cell";function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=EJ(t,"string");return uc(e)=="symbol"?e:e+""}function EJ(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $a={widthCache:{},cacheCount:0},TJ=2e3,AJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UT="recharts_measurement_span";function PJ(t){var e=y0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Pu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gi.isSsr)return{width:0,height:0};var r=PJ(n),i=JSON.stringify({text:e,copyStyle:r});if($a.widthCache[i])return $a.widthCache[i];try{var o=document.getElementById(UT);o||(o=document.createElement("span"),o.setAttribute("id",UT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=y0(y0({},AJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return $a.widthCache[i]=l,++$a.cacheCount>TJ&&($a.cacheCount=0,$a.widthCache={}),l}catch{return{width:0,height:0}}},IJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Uh(t,e){return NJ(t)||CJ(t,e)||OJ(t,e)||kJ()}function kJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(t,e){if(t){if(typeof t=="string")return zT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(t,e)}}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function NJ(t){if(Array.isArray(t))return t}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MJ(r.key),r)}}function RJ(t,e,n){return e&&WT(t.prototype,e),n&&WT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MJ(t){var e=DJ(t,"string");return cc(e)=="symbol"?e:e+""}function DJ(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$J=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VJ=Object.keys(wj),rs="NaN";function FJ(t,e){return t*wj[e]}var sd=function(){function t(e,n){jJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$J.test(n)&&(this.num=NaN,this.unit=""),VJ.includes(n)&&(this.num=FJ(e,n),this.unit="px")}return RJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=LJ.exec(n))!==null&&r!==void 0?r:[],o=Uh(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function _j(t){if(t.includes(rs))return rs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=GT.exec(e))!==null&&n!==void 0?n:[],i=Uh(r,4),o=i[1],a=i[2],s=i[3],l=sd.parse(o??""),u=sd.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return rs;e=e.replace(GT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=HT.exec(e))!==null&&f!==void 0?f:[],m=Uh(h,4),g=m[1],v=m[2],_=m[3],b=sd.parse(g??""),w=sd.parse(_??""),x=v==="+"?b.add(w):b.subtract(w);if(x.isNaN())return rs;e=e.replace(HT,x.toString())}return e}var qT=/\(([^()]*)\)/;function BJ(t){for(var e=t;e.includes("(");){var n=qT.exec(e),r=Uh(n,2),i=r[1];e=e.replace(qT,_j(i))}return e}function UJ(t){var e=t.replace(/\s+/g,"");return e=BJ(e),e=_j(e),e}function zJ(t){try{return UJ(t)}catch{return rs}}function uy(t){var e=zJ(t.slice(5,-1));return e===rs?"":e}var WJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GJ=["dx","dy","angle","className","breakAll"];function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function KT(t,e){if(t==null)return{};var n=HJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YT(t,e){return XJ(t)||YJ(t,e)||KJ(t,e)||qJ()}function qJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t,e){if(t){if(typeof t=="string")return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function XJ(t){if(Array.isArray(t))return t}var xj=/[ \f\n\r\t\v\u2028\u2029]+/,Sj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Oe(n)||(r?o=n.toString().split(""):o=n.toString().split(xj));var a=o.map(function(l){return{word:l,width:Pu(l,i).width}}),s=r?0:Pu(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},QJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=se(a),f=s,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function($,G){var V=G.word,B=G.width,Q=$[$.length-1];if(Q&&(i==null||o||Q.width+B+r<Number(i)))Q.words.push(V),Q.width+=B+r;else{var ie={words:[V],width:B};$.push(ie)}return $},[])},m=h(n),g=function(U){return U.reduce(function($,G){return $.width>G.width?$:G})};if(!d)return m;for(var v="…",_=function(U){var $=f.slice(0,U),G=Sj({breakAll:u,style:l,children:$+v}).wordsWithComputedWidth,V=h(G),B=V.length>a||g(V).width>Number(i);return[B,V]},b=0,w=f.length-1,x=0,k;b<=w&&x<=f.length-1;){var T=Math.floor((b+w)/2),P=T-1,E=_(P),S=YT(E,2),I=S[0],C=S[1],O=_(T),R=YT(O,1),N=R[0];if(!I&&!N&&(b=T+1),I&&N&&(w=T-1),!I&&N){k=C;break}x++}return k||m},QT=function(e){var n=Oe(e)?[]:e.toString().split(xj);return[{words:n}]},JJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!gi.isSsr){var l,u,d=Sj({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return QT(i);return QJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return QT(i)},JT="#808080",zh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,_=e.fill,b=_===void 0?JT:_,w=KT(e,WJ),x=D.useMemo(function(){return JJ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),k=w.dx,T=w.dy,P=w.angle,E=w.className,S=w.breakAll,I=KT(w,GJ);if(!Lt(r)||!Lt(o))return null;var C=r+(se(k)?k:0),O=o+(se(T)?T:0),R;switch(v){case"start":R=uy("calc(".concat(u,")"));break;case"middle":R=uy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=uy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var W=x[0].width,U=w.width;N.push("scale(".concat((se(U)?U/W:1)/W,")"))}return P&&N.push("rotate(".concat(P,", ").concat(C,", ").concat(O,")")),N.length&&(I.transform=N.join(" ")),L.createElement("text",v0({},Re(I,!0),{x:C,y:O,className:Le("recharts-text",E),textAnchor:m,fill:b.includes("url")?JT:b}),x.map(function($,G){var V=$.words.join(S?"":" ");return L.createElement("tspan",{x:C,dy:G===0?R:s,key:"".concat(V,"-").concat(G)},V)}))};function po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R_(t){let e,n,r;t.length!==2?(e=po,n=(s,l)=>po(t(s),l),r=(s,l)=>t(s)-l):(e=t===po||t===ZJ?t:eZ,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function eZ(){return 0}function Ej(t){return t===null?NaN:+t}function*tZ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const nZ=R_(po),rZ=nZ.right;R_(Ej).center;const sf=rZ;class ZT extends Map{constructor(e,n=aZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(eA(this,e))}has(e){return super.has(eA(this,e))}set(e,n){return super.set(iZ(this,e),n)}delete(e){return super.delete(oZ(this,e))}}function eA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sZ(t=po){if(t===po)return Tj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Tj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lZ=Math.sqrt(50),uZ=Math.sqrt(10),cZ=Math.sqrt(2);function Wh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=lZ?10:o>=uZ?5:o>=cZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Wh(t,e,n*2):[s,l,u]}function b0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Wh(e,t,n):Wh(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function w0(t,e,n){return e=+e,t=+t,n=+n,Wh(t,e,n)[2]}function _0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?w0(e,t,n):w0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function tA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function nA(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Aj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Tj:sZ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));Aj(t,e,m,g,i)}const o=t[e];let a=n,s=r;for(Xl(t,n,e),i(t[r],o)>0&&Xl(t,n,r);a<s;){for(Xl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Xl(t,n,s):(++s,Xl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Xl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fZ(t,e,n){if(t=Float64Array.from(tZ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return nA(t);if(e>=1)return tA(t);var r,i=(r-1)*e,o=Math.floor(i),a=tA(Aj(t,o).subarray(0,o+1)),s=nA(t.subarray(o+1));return a+(s-a)*(i-o)}}function dZ(t,e,n=Ej){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function hZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ri(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x0=Symbol("implicit");function M_(){var t=new ZT,e=[],n=[],r=x0;function i(o){let a=t.get(o);if(a===void 0){if(r!==x0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ZT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return M_(e,n).unknown(r)},pr.apply(i,arguments),i}function fc(){var t=M_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,g=m?i:r,v=m?r:i;o=(v-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(v-g-o*(h-l))*d,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var _=hZ(h).map(function(b){return g+o*b});return n(m?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return fc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},pr.apply(f(),arguments)}function Pj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Pj(e())},t}function Iu(){return Pj(fc.apply(null,arguments).paddingInner(1))}function D_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ij(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lf(){}var dc=.7,Gh=1/dc,ys="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pZ=/^#([0-9a-f]{3,8})$/,mZ=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),gZ=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),yZ=new RegExp(`^rgba\\(${ys},${ys},${ys},${hc}\\)$`),vZ=new RegExp(`^rgba\\(${zr},${zr},${zr},${hc}\\)$`),bZ=new RegExp(`^hsl\\(${hc},${zr},${zr}\\)$`),wZ=new RegExp(`^hsla\\(${hc},${zr},${zr},${hc}\\)$`),rA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D_(lf,pc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iA,formatHex:iA,formatHex8:_Z,formatHsl:xZ,formatRgb:oA,toString:oA});function iA(){return this.rgb().formatHex()}function _Z(){return this.rgb().formatHex8()}function xZ(){return kj(this).formatHsl()}function oA(){return this.rgb().formatRgb()}function pc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aA(e):n===3?new jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ld(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ld(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mZ.exec(t))?new jn(e[1],e[2],e[3],1):(e=gZ.exec(t))?new jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yZ.exec(t))?ld(e[1],e[2],e[3],e[4]):(e=vZ.exec(t))?ld(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bZ.exec(t))?uA(e[1],e[2]/100,e[3]/100,1):(e=wZ.exec(t))?uA(e[1],e[2]/100,e[3]/100,e[4]):rA.hasOwnProperty(t)?aA(rA[t]):t==="transparent"?new jn(NaN,NaN,NaN,0):null}function aA(t){return new jn(t>>16&255,t>>8&255,t&255,1)}function ld(t,e,n,r){return r<=0&&(t=e=n=NaN),new jn(t,e,n,r)}function SZ(t){return t instanceof lf||(t=pc(t)),t?(t=t.rgb(),new jn(t.r,t.g,t.b,t.opacity)):new jn}function S0(t,e,n,r){return arguments.length===1?SZ(t):new jn(t,e,n,r??1)}function jn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}D_(jn,S0,Ij(lf,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jn(aa(this.r),aa(this.g),aa(this.b),Hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sA,formatHex:sA,formatHex8:EZ,formatRgb:lA,toString:lA}));function sA(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}`}function EZ(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}${Jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function lA(){const t=Hh(this.opacity);return`${t===1?"rgb(":"rgba("}${aa(this.r)}, ${aa(this.g)}, ${aa(this.b)}${t===1?")":`, ${t})`}`}function Hh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function aa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jo(t){return t=aa(t),(t<16?"0":"")+t.toString(16)}function uA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tr(t,e,n,r)}function kj(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof lf||(t=pc(t)),!t)return new Tr;if(t instanceof Tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tr(a,s,l,t.opacity)}function TZ(t,e,n,r){return arguments.length===1?kj(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}D_(Tr,TZ,Ij(lf,{brighter(t){return t=t==null?Gh:Math.pow(Gh,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jn(cy(t>=240?t-240:t+120,i,r),cy(t,i,r),cy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tr(cA(this.h),ud(this.s),ud(this.l),Hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hh(this.opacity);return`${t===1?"hsl(":"hsla("}${cA(this.h)}, ${ud(this.s)*100}%, ${ud(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cA(t){return t=(t||0)%360,t<0?t+360:t}function ud(t){return Math.max(0,Math.min(1,t||0))}function cy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $_=t=>()=>t;function AZ(t,e){return function(n){return t+n*e}}function PZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function IZ(t){return(t=+t)==1?Oj:function(e,n){return n-e?PZ(e,n,t):$_(isNaN(e)?n:e)}}function Oj(t,e){var n=e-t;return n?AZ(t,n):$_(isNaN(t)?e:t)}const fA=function t(e){var n=IZ(e);function r(i,o){var a=n((i=S0(i)).r,(o=S0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Oj(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function kZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function OZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=_l(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function NZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function qh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function jZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_l(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var E0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fy=new RegExp(E0.source,"g");function RZ(t){return function(){return t}}function MZ(t){return function(e){return t(e)+""}}function DZ(t,e){var n=E0.lastIndex=fy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=E0.exec(t))&&(i=fy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:qh(r,i)})),n=fy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?MZ(l[0].x):RZ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function _l(t,e){var n=typeof e,r;return e==null||n==="boolean"?$_(e):(n==="number"?qh:n==="string"?(r=pc(e))?(e=r,fA):DZ:e instanceof pc?fA:e instanceof Date?NZ:OZ(e)?kZ:Array.isArray(e)?CZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jZ:qh)(t,e)}function L_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $Z(t,e){e===void 0&&(e=t,t=_l);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function LZ(t){return function(){return t}}function Kh(t){return+t}var dA=[0,1];function Tn(t){return t}function T0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:LZ(isNaN(e)?NaN:.5)}function VZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function FZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=T0(i,r),o=n(a,o)):(r=T0(r,i),o=n(o,a)),function(s){return o(r(s))}}function BZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=T0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=sf(t,s,1,r)-1;return o[l](i[l](s))}}function uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rm(){var t=dA,e=dA,n=_l,r,i,o,a=Tn,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==Tn&&(a=VZ(t[0],t[h-1])),s=h>2?BZ:FZ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),qh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Kh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=L_,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Tn,d()):a!==Tn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function V_(){return Rm()(Tn,Tn)}function UZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bs(t){return t=Yh(Math.abs(t)),t?t[1]:NaN}function zZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function WZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var GZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(t){if(!(e=GZ.exec(t)))throw new Error("invalid format: "+t);var e;return new F_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mc.prototype=F_.prototype;function F_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Cj;function qZ(t,e){var n=Yh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Cj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yh(t,Math.max(0,e+o-1))[0]}function hA(t,e){var n=Yh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hA(t*100,e),r:hA,s:qZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mA(t){return t}var gA=Array.prototype.map,yA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KZ(t){var e=t.grouping===void 0||t.thousands===void 0?mA:zZ(gA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?mA:WZ(gA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=mc(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,_=f.zero,b=f.width,w=f.comma,x=f.precision,k=f.trim,T=f.type;T==="n"?(w=!0,T="g"):pA[T]||(x===void 0&&(x=12),k=!0,T="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=v==="$"?r:/[%p]/.test(T)?a:"",S=pA[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(O){var R=P,N=E,W,U,$;if(T==="c")N=S(O)+N,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:S(Math.abs(O),x),k&&(O=HZ(O)),G&&+O==0&&g!=="+"&&(G=!1),R=(G?g==="("?g:s:g==="-"||g==="("?"":g)+R,N=(T==="s"?yA[8+Cj/3]:"")+N+(G&&g==="("?")":""),I){for(W=-1,U=O.length;++W<U;)if($=O.charCodeAt(W),48>$||$>57){N=($===46?i+O.slice(W+1):O.slice(W))+N,O=O.slice(0,W);break}}}w&&!_&&(O=e(O,1/0));var V=R.length+O.length+N.length,B=V<b?new Array(b-V+1).join(h):"";switch(w&&_&&(O=e(B+O,B.length?b-N.length:1/0),B=""),m){case"<":O=R+O+N+B;break;case"=":O=R+B+O+N;break;case"^":O=B.slice(0,V=B.length>>1)+R+O+N+B.slice(V);break;default:O=B+R+O+N;break}return o(O)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=mc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Bs(h)/3)))*3,v=Math.pow(10,-g),_=yA[8+g/3];return function(b){return m(v*b)+_}}return{format:u,formatPrefix:d}}var cd,B_,Nj;YZ({thousands:",",grouping:[3],currency:["$",""]});function YZ(t){return cd=KZ(t),B_=cd.format,Nj=cd.formatPrefix,cd}function XZ(t){return Math.max(0,-Bs(Math.abs(t)))}function QZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bs(e)/3)))*3-Bs(Math.abs(t)))}function JZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bs(e)-Bs(t))+1}function jj(t,e,n,r){var i=_0(t,e,n),o;switch(r=mc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=QZ(i,a))&&(r.precision=o),Nj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=JZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=XZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return B_(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return b0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=w0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Xh(){var t=V_();return t.copy=function(){return uf(t,Xh())},pr.apply(t,arguments),Io(t)}function Rj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Kh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Rj(t).unknown(e)},t=arguments.length?Array.from(t,Kh):[0,1],Io(n)}function Mj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function vA(t){return Math.log(t)}function bA(t){return Math.exp(t)}function ZZ(t){return-Math.log(-t)}function eee(t){return-Math.exp(-t)}function tee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nee(t){return t===10?tee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ree(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wA(t){return(e,n)=>-t(-e,n)}function U_(t){const e=t(vA,bA),n=e.domain;let r=10,i,o;function a(){return i=ree(r),o=nee(r),n()[0]<0?(i=wA(i),o=wA(o),t(ZZ,eee)):t(vA,bA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,v;const _=s==null?10:+s;let b=[];if(!(r%1)&&m-h<_){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(v=h<0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;b.push(v)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;b.push(v)}b.length*2<_&&(b=b0(u,d,_))}else b=b0(h,m,Math.min(m-h,_)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=mc(l)).precision==null&&(l.trim=!0),l=B_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(Mj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Dj(){const t=U_(Rm()).domain([1,10]);return t.copy=()=>uf(t,Dj()).base(t.base()),pr.apply(t,arguments),t}function _A(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function z_(t){var e=1,n=t(_A(e),xA(e));return n.constant=function(r){return arguments.length?t(_A(e=+r),xA(e)):e},Io(n)}function $j(){var t=z_(Rm());return t.copy=function(){return uf(t,$j()).constant(t.constant())},pr.apply(t,arguments)}function SA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oee(t){return t<0?-t*t:t*t}function W_(t){var e=t(Tn,Tn),n=1;function r(){return n===1?t(Tn,Tn):n===.5?t(iee,oee):t(SA(n),SA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Io(e)}function G_(){var t=W_(Rm());return t.copy=function(){return uf(t,G_()).exponent(t.exponent())},pr.apply(t,arguments),t}function aee(){return G_.apply(null,arguments).exponent(.5)}function EA(t){return Math.sign(t)*t*t}function see(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Lj(){var t=V_(),e=[0,1],n=!1,r;function i(o){var a=see(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(EA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Kh)).map(EA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Io(i)}function Vj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=dZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[sf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(po),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Vj().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function Fj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[sf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Fj().domain([t,e]).range(i).unknown(o)},pr.apply(Io(a),arguments)}function Bj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[sf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Bj().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const dy=new Date,hy=new Date;function Ft(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ft(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(dy.setTime(+o),hy.setTime(+a),t(dy),t(hy),Math.floor(n(dy,hy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Qh=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qh);Qh.range;const ui=1e3,or=ui*60,ci=or*60,Pi=ci*24,H_=Pi*7,TA=Pi*30,py=Pi*365,Zo=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCSeconds());Zo.range;const q_=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());q_.range;const K_=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());K_.range;const Y_=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getHours());Y_.range;const X_=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCHours());X_.range;const cf=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Pi,t=>t.getDate()-1);cf.range;const Mm=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>t.getUTCDate()-1);Mm.range;const Uj=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>Math.floor(t/Pi));Uj.range;function Ia(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/H_)}const Dm=Ia(0),Jh=Ia(1),lee=Ia(2),uee=Ia(3),Us=Ia(4),cee=Ia(5),fee=Ia(6);Dm.range;Jh.range;lee.range;uee.range;Us.range;cee.range;fee.range;function ka(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/H_)}const $m=ka(0),Zh=ka(1),dee=ka(2),hee=ka(3),zs=ka(4),pee=ka(5),mee=ka(6);$m.range;Zh.range;dee.range;hee.range;zs.range;pee.range;mee.range;const Q_=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Q_.range;const J_=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J_.range;const Ii=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ii.range;const ki=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ki.range;function zj(t,e,n,r,i,o){const a=[[Zo,1,ui],[Zo,5,5*ui],[Zo,15,15*ui],[Zo,30,30*ui],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,ci],[i,3,3*ci],[i,6,6*ci],[i,12,12*ci],[r,1,Pi],[r,2,2*Pi],[n,1,H_],[e,1,TA],[e,3,3*TA],[t,1,py]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,m=R_(([,,_])=>_).right(a,h);if(m===a.length)return t.every(_0(u/py,d/py,f));if(m===0)return Qh.every(Math.max(_0(u,d,f),1));const[g,v]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(v)}return[s,l]}const[gee,yee]=zj(ki,J_,$m,Uj,X_,K_),[vee,bee]=zj(Ii,Q_,Dm,cf,Y_,q_);function my(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Jl(i),d=Zl(i),f=Jl(o),h=Zl(o),m=Jl(a),g=Zl(a),v=Jl(s),_=Zl(s),b=Jl(l),w=Zl(l),x={a:G,A:V,b:B,B:Q,c:null,d:CA,e:CA,f:zee,g:Zee,G:tte,H:Fee,I:Bee,j:Uee,L:Wj,m:Wee,M:Gee,p:ie,q:X,Q:RA,s:MA,S:Hee,u:qee,U:Kee,V:Yee,w:Xee,W:Qee,x:null,X:null,y:Jee,Y:ete,Z:nte,"%":jA},k={a:q,A:fe,b:oe,B:we,c:null,d:NA,e:NA,f:ate,g:gte,G:vte,H:rte,I:ite,j:ote,L:Hj,m:ste,M:lte,p:ne,q:me,Q:RA,s:MA,S:ute,u:cte,U:fte,V:dte,w:hte,W:pte,x:null,X:null,y:mte,Y:yte,Z:bte,"%":jA},T={a:C,A:O,b:R,B:N,c:W,d:kA,e:kA,f:Dee,g:IA,G:PA,H:OA,I:OA,j:Nee,L:Mee,m:Cee,M:jee,p:I,q:Oee,Q:Lee,s:Vee,S:Ree,u:Tee,U:Aee,V:Pee,w:Eee,W:Iee,x:U,X:$,y:IA,Y:PA,Z:kee,"%":$ee};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),k.x=P(n,k),k.X=P(r,k),k.c=P(e,k);function P(ee,ve){return function(xe){var Y=[],Ve=-1,ye=0,Qe=ee.length,We,at,Bt;for(xe instanceof Date||(xe=new Date(+xe));++Ve<Qe;)ee.charCodeAt(Ve)===37&&(Y.push(ee.slice(ye,Ve)),(at=AA[We=ee.charAt(++Ve)])!=null?We=ee.charAt(++Ve):at=We==="e"?" ":"0",(Bt=ve[We])&&(We=Bt(xe,at)),Y.push(We),ye=Ve+1);return Y.push(ee.slice(ye,Ve)),Y.join("")}}function E(ee,ve){return function(xe){var Y=Ql(1900,void 0,1),Ve=S(Y,ee,xe+="",0),ye,Qe;if(Ve!=xe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ve&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ye=gy(Ql(Y.y,0,1)),Qe=ye.getUTCDay(),ye=Qe>4||Qe===0?Zh.ceil(ye):Zh(ye),ye=Mm.offset(ye,(Y.V-1)*7),Y.y=ye.getUTCFullYear(),Y.m=ye.getUTCMonth(),Y.d=ye.getUTCDate()+(Y.w+6)%7):(ye=my(Ql(Y.y,0,1)),Qe=ye.getDay(),ye=Qe>4||Qe===0?Jh.ceil(ye):Jh(ye),ye=cf.offset(ye,(Y.V-1)*7),Y.y=ye.getFullYear(),Y.m=ye.getMonth(),Y.d=ye.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Qe="Z"in Y?gy(Ql(Y.y,0,1)).getUTCDay():my(Ql(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Qe+5)%7:Y.w+Y.U*7-(Qe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,gy(Y)):my(Y)}}function S(ee,ve,xe,Y){for(var Ve=0,ye=ve.length,Qe=xe.length,We,at;Ve<ye;){if(Y>=Qe)return-1;if(We=ve.charCodeAt(Ve++),We===37){if(We=ve.charAt(Ve++),at=T[We in AA?ve.charAt(Ve++):We],!at||(Y=at(ee,xe,Y))<0)return-1}else if(We!=xe.charCodeAt(Y++))return-1}return Y}function I(ee,ve,xe){var Y=u.exec(ve.slice(xe));return Y?(ee.p=d.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function C(ee,ve,xe){var Y=m.exec(ve.slice(xe));return Y?(ee.w=g.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function O(ee,ve,xe){var Y=f.exec(ve.slice(xe));return Y?(ee.w=h.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function R(ee,ve,xe){var Y=b.exec(ve.slice(xe));return Y?(ee.m=w.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function N(ee,ve,xe){var Y=v.exec(ve.slice(xe));return Y?(ee.m=_.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function W(ee,ve,xe){return S(ee,e,ve,xe)}function U(ee,ve,xe){return S(ee,n,ve,xe)}function $(ee,ve,xe){return S(ee,r,ve,xe)}function G(ee){return a[ee.getDay()]}function V(ee){return o[ee.getDay()]}function B(ee){return l[ee.getMonth()]}function Q(ee){return s[ee.getMonth()]}function ie(ee){return i[+(ee.getHours()>=12)]}function X(ee){return 1+~~(ee.getMonth()/3)}function q(ee){return a[ee.getUTCDay()]}function fe(ee){return o[ee.getUTCDay()]}function oe(ee){return l[ee.getUTCMonth()]}function we(ee){return s[ee.getUTCMonth()]}function ne(ee){return i[+(ee.getUTCHours()>=12)]}function me(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ve=P(ee+="",x);return ve.toString=function(){return ee},ve},parse:function(ee){var ve=E(ee+="",!1);return ve.toString=function(){return ee},ve},utcFormat:function(ee){var ve=P(ee+="",k);return ve.toString=function(){return ee},ve},utcParse:function(ee){var ve=E(ee+="",!0);return ve.toString=function(){return ee},ve}}}var AA={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,_ee=/^%/,xee=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function See(t){return t.replace(xee,"\\$&")}function Jl(t){return new RegExp("^(?:"+t.map(See).join("|")+")","i")}function Zl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Eee(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Pee(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Iee(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function PA(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Oee(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cee(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nee(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function OA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jee(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ree(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mee(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Dee(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $ee(t,e,n){var r=_ee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lee(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vee(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CA(t,e){return ze(t.getDate(),e,2)}function Fee(t,e){return ze(t.getHours(),e,2)}function Bee(t,e){return ze(t.getHours()%12||12,e,2)}function Uee(t,e){return ze(1+cf.count(Ii(t),t),e,3)}function Wj(t,e){return ze(t.getMilliseconds(),e,3)}function zee(t,e){return Wj(t,e)+"000"}function Wee(t,e){return ze(t.getMonth()+1,e,2)}function Gee(t,e){return ze(t.getMinutes(),e,2)}function Hee(t,e){return ze(t.getSeconds(),e,2)}function qee(t){var e=t.getDay();return e===0?7:e}function Kee(t,e){return ze(Dm.count(Ii(t)-1,t),e,2)}function Gj(t){var e=t.getDay();return e>=4||e===0?Us(t):Us.ceil(t)}function Yee(t,e){return t=Gj(t),ze(Us.count(Ii(t),t)+(Ii(t).getDay()===4),e,2)}function Xee(t){return t.getDay()}function Qee(t,e){return ze(Jh.count(Ii(t)-1,t),e,2)}function Jee(t,e){return ze(t.getFullYear()%100,e,2)}function Zee(t,e){return t=Gj(t),ze(t.getFullYear()%100,e,2)}function ete(t,e){return ze(t.getFullYear()%1e4,e,4)}function tte(t,e){var n=t.getDay();return t=n>=4||n===0?Us(t):Us.ceil(t),ze(t.getFullYear()%1e4,e,4)}function nte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function NA(t,e){return ze(t.getUTCDate(),e,2)}function rte(t,e){return ze(t.getUTCHours(),e,2)}function ite(t,e){return ze(t.getUTCHours()%12||12,e,2)}function ote(t,e){return ze(1+Mm.count(ki(t),t),e,3)}function Hj(t,e){return ze(t.getUTCMilliseconds(),e,3)}function ate(t,e){return Hj(t,e)+"000"}function ste(t,e){return ze(t.getUTCMonth()+1,e,2)}function lte(t,e){return ze(t.getUTCMinutes(),e,2)}function ute(t,e){return ze(t.getUTCSeconds(),e,2)}function cte(t){var e=t.getUTCDay();return e===0?7:e}function fte(t,e){return ze($m.count(ki(t)-1,t),e,2)}function qj(t){var e=t.getUTCDay();return e>=4||e===0?zs(t):zs.ceil(t)}function dte(t,e){return t=qj(t),ze(zs.count(ki(t),t)+(ki(t).getUTCDay()===4),e,2)}function hte(t){return t.getUTCDay()}function pte(t,e){return ze(Zh.count(ki(t)-1,t),e,2)}function mte(t,e){return ze(t.getUTCFullYear()%100,e,2)}function gte(t,e){return t=qj(t),ze(t.getUTCFullYear()%100,e,2)}function yte(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function vte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zs(t):zs.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function bte(){return"+0000"}function jA(){return"%"}function RA(t){return+t}function MA(t){return Math.floor(+t/1e3)}var La,Kj,Yj;wte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wte(t){return La=wee(t),Kj=La.format,La.parse,Yj=La.utcFormat,La.utcParse,La}function _te(t){return new Date(t)}function xte(t){return t instanceof Date?+t:+new Date(+t)}function Z_(t,e,n,r,i,o,a,s,l,u){var d=V_(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),_=u("%I %p"),b=u("%a %d"),w=u("%b %d"),x=u("%B"),k=u("%Y");function T(P){return(l(P)<P?m:s(P)<P?g:a(P)<P?v:o(P)<P?_:r(P)<P?i(P)<P?b:w:n(P)<P?x:k)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,xte)):h().map(_te)},d.ticks=function(P){var E=h();return t(E[0],E[E.length-1],P??10)},d.tickFormat=function(P,E){return E==null?T:u(E)},d.nice=function(P){var E=h();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?h(Mj(E,P)):d},d.copy=function(){return uf(d,Z_(t,e,n,r,i,o,a,s,l,u))},d}function Ste(){return pr.apply(Z_(vee,bee,Ii,Q_,Dm,cf,Y_,q_,Zo,Kj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ete(){return pr.apply(Z_(gee,yee,ki,J_,$m,Mm,X_,K_,Zo,Yj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lm(){var t=0,e=1,n,r,i,o,a=Tn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(_l),u.rangeRound=d(L_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ko(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Xj(){var t=Io(Lm()(Tn));return t.copy=function(){return ko(t,Xj())},Ri.apply(t,arguments)}function Qj(){var t=U_(Lm()).domain([1,10]);return t.copy=function(){return ko(t,Qj()).base(t.base())},Ri.apply(t,arguments)}function Jj(){var t=z_(Lm());return t.copy=function(){return ko(t,Jj()).constant(t.constant())},Ri.apply(t,arguments)}function ex(){var t=W_(Lm());return t.copy=function(){return ko(t,ex()).exponent(t.exponent())},Ri.apply(t,arguments)}function Tte(){return ex.apply(null,arguments).exponent(.5)}function Zj(){var t=[],e=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((sf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fZ(t,o/r))},n.copy=function(){return Zj(e).domain(t)},Ri.apply(n,arguments)}function Vm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Tn,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(_){var b,w,x;return arguments.length?([b,w,x]=_,u=$Z(v,[b,w,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(_l),m.rangeRound=g(L_),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function eR(){var t=Io(Vm()(Tn));return t.copy=function(){return ko(t,eR())},Ri.apply(t,arguments)}function tR(){var t=U_(Vm()).domain([.1,1,10]);return t.copy=function(){return ko(t,tR()).base(t.base())},Ri.apply(t,arguments)}function nR(){var t=z_(Vm());return t.copy=function(){return ko(t,nR()).constant(t.constant())},Ri.apply(t,arguments)}function tx(){var t=W_(Vm());return t.copy=function(){return ko(t,tx()).exponent(t.exponent())},Ri.apply(t,arguments)}function Ate(){return tx.apply(null,arguments).exponent(.5)}const DA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fc,scaleDiverging:eR,scaleDivergingLog:tR,scaleDivergingPow:tx,scaleDivergingSqrt:Ate,scaleDivergingSymlog:nR,scaleIdentity:Rj,scaleImplicit:x0,scaleLinear:Xh,scaleLog:Dj,scaleOrdinal:M_,scalePoint:Iu,scalePow:G_,scaleQuantile:Vj,scaleQuantize:Fj,scaleRadial:Lj,scaleSequential:Xj,scaleSequentialLog:Qj,scaleSequentialPow:ex,scaleSequentialQuantile:Zj,scaleSequentialSqrt:Tte,scaleSequentialSymlog:Jj,scaleSqrt:aee,scaleSymlog:$j,scaleThreshold:Bj,scaleTime:Ste,scaleUtc:Ete,tickFormat:jj},Symbol.toStringTag,{value:"Module"}));var Pte=hl;function Ite(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Pte(a):n(a,s)))var s=a,l=o}return l}var rR=Ite;function kte(t,e){return t>e}var Ote=kte,Cte=rR,Nte=Ote,jte=wl;function Rte(t){return t&&t.length?Cte(t,jte,Nte):void 0}var Mte=Rte;const Fm=rt(Mte);function Dte(t,e){return t<e}var $te=Dte,Lte=rR,Vte=$te,Fte=wl;function Bte(t){return t&&t.length?Lte(t,Fte,Vte):void 0}var Ute=Bte;const Bm=rt(Ute);var zte=m_,Wte=Po,Gte=fj,Hte=Ln;function qte(t,e){var n=Hte(t)?zte:Gte;return n(t,Wte(e))}var Kte=qte,Yte=uj,Xte=Kte;function Qte(t,e){return Yte(Xte(t,e),1)}var Jte=Qte;const Zte=rt(Jte);var ene=O_;function tne(t,e){return ene(t,e)}var nne=tne;const Um=rt(nne);var xl=1e9,rne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rx,mt=!0,dr="[DecimalError] ",sa=dr+"Invalid argument: ",nx=dr+"Exponent out of range: ",Sl=Math.floor,Wo=Math.pow,ine=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,zt=1e7,ft=7,iR=9007199254740991,ep=Sl(iR/ft),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return yi(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return nt(yi(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return Ot(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Gn)?new r(0):(mt=!1,e=yi(gc(n,o),gc(t,o),o),mt=!0,nt(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sR(e,t):oR(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(mt=!1,e=yi(n,t,0,1).times(t),mt=!0,n.minus(e)):nt(new r(n),i)};pe.naturalExponential=pe.exp=function(){return aR(this)};pe.naturalLogarithm=pe.ln=function(){return gc(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oR(e,t):sR(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sa+t);if(e=Ot(i)+1,r=i.d.length-1,n=r*ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(dr+"NaN")}for(t=Ot(s),mt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=$r(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(yi(s,o,a+2)).times(.5),$r(o.d).slice(0,a)===(e=$r(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(nt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return mt=!0,nt(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%zt|0,e=s/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,mt?nt(t,f.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Kr(t,0,xl),e===void 0?e=r.rounding:Kr(e,0,8),nt(n,t+Ot(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wa(r,!0):(Kr(t,0,xl),e===void 0?e=i.rounding:Kr(e,0,8),r=nt(new i(r),t+1,e),n=wa(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?wa(i):(Kr(t,0,xl),e===void 0?e=o.rounding:Kr(e,0,8),r=nt(new o(i),t+Ot(i)+1,e),n=wa(r.abs(),!1,t+Ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return nt(new e(t),Ot(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Gn);if(s=new l(s),!s.s){if(t.s<1)throw Error(dr+"Infinity");return s}if(s.eq(Gn))return s;if(r=l.precision,t.eq(Gn))return nt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=iR){for(i=new l(Gn),e=Math.ceil(r/ft+4),mt=!1;n%2&&(i=i.times(s),LA(i.d,e)),n=Sl(n/2),n!==0;)s=s.times(s),LA(s.d,e);return mt=!0,t.s<0?new l(Gn).div(i):nt(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,mt=!1,i=t.times(gc(s,r+u)),mt=!0,i=aR(i),i.s=o,i};pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ot(i),r=wa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kr(t,1,xl),e===void 0?e=o.rounding:Kr(e,0,8),i=nt(new o(i),t,e),n=Ot(i),r=wa(i,t<=n||n<=o.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Kr(t,1,xl),e===void 0?e=r.rounding:Kr(e,0,8)),nt(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return wa(t,e<=n.toExpNeg||e>=n.toExpPos)};function oR(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),mt?nt(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ft),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/zt|0,l[o]%=zt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,mt?nt(e,f):e}function Kr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sa+t)}function $r(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ft-r.length,n&&(o+=Ui(n)),o+=r;a=t[e],r=a+"",n=ft-r.length,n&&(o+=Ui(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var yi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%zt|0,a=o/zt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*zt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,m,g,v,_,b,w,x,k,T,P,E,S,I=r.constructor,C=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,E=R.length,T=O.length,m=new I(C),g=m.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--l,o==null?w=o=I.precision:a?w=o+(Ot(r)-Ot(i))+1:w=o,w<0)return new I(0);if(w=w/ft+2|0,u=0,E==1)for(d=0,R=R[0],w++;(u<T||d)&&w--;u++)x=d*zt+(O[u]||0),g[u]=x/R|0,d=x%R|0;else{for(d=zt/(R[0]+1)|0,d>1&&(R=t(R,d),O=t(O,d),E=R.length,T=O.length),k=E,v=O.slice(0,E),_=v.length;_<E;)v[_++]=0;S=R.slice(),S.unshift(0),P=R[0],R[1]>=zt/2&&++P;do d=0,s=e(R,v,E,_),s<0?(b=v[0],E!=_&&(b=b*zt+(v[1]||0)),d=b/P|0,d>1?(d>=zt&&(d=zt-1),f=t(R,d),h=f.length,_=v.length,s=e(f,v,h,_),s==1&&(d--,n(f,E<h?S:R,h))):(d==0&&(s=d=1),f=R.slice()),h=f.length,h<_&&f.unshift(0),n(v,f,_),s==-1&&(_=v.length,s=e(R,v,E,_),s<1&&(d++,n(v,E<_?S:R,_))),_=v.length):s===0&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[_++]=O[k]||0:(v=[O[k]],_=1);while((k++<T||v[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,nt(m,a?o+Ot(m)+1:o)}}();function aR(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(Ot(t)>16)throw Error(nx+Ot(t));if(!t.s)return new d(Gn);for(e==null?(mt=!1,s=f):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Wo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Gn),d.precision=s;;){if(i=nt(i.times(t),s),n=n.times(++l),a=o.plus(yi(i,n,s)),$r(a.d).slice(0,s)===$r(o.d).slice(0,s)){for(;u--;)o=nt(o.times(o),s);return d.precision=f,e==null?(mt=!0,nt(o,f)):o}o=a}}function Ot(t){for(var e=t.e*ft,n=t.d[0];n>=10;n/=10)e++;return e}function yy(t,e,n){if(e>t.LN10.sd())throw mt=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return nt(new t(t.LN10),e)}function Ui(t){for(var e="";t--;)e+="0";return e}function gc(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,m=t,g=m.d,v=m.constructor,_=v.precision;if(m.s<1)throw Error(dr+(m.s?"NaN":"-Infinity"));if(m.eq(Gn))return new v(0);if(e==null?(mt=!1,u=_):u=e,m.eq(10))return e==null&&(mt=!0),yy(v,u);if(u+=h,v.precision=u,n=$r(g),r=n.charAt(0),o=Ot(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=$r(m.d),r=n.charAt(0),f++;o=Ot(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1))}else return l=yy(v,u+2,_).times(o+""),m=gc(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=_,e==null?(mt=!0,nt(m,_)):m;for(s=a=m=yi(m.minus(Gn),m.plus(Gn),u),d=nt(m.times(m),u),i=3;;){if(a=nt(a.times(d),u),l=s.plus(yi(a,new v(i),u)),$r(l.d).slice(0,u)===$r(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(yy(v,u+2,_).times(o+""))),s=yi(s,new v(f),u),v.precision=_,e==null?(mt=!0,nt(s,_)):s;s=l,i+=2}}function $A(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sl(n/ft),t.d=[],r=(n+1)%ft,n<0&&(r+=ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ft;r<i;)t.d.push(+e.slice(r,r+=ft));e=e.slice(r),r=ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mt&&(t.e>ep||t.e<-ep))throw Error(nx+n)}else t.s=0,t.e=0,t.d=[0];return t}function nt(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ft,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ft),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=ft,i=r-ft+a}if(n!==void 0&&(o=Wo(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Wo(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Ot(t),f.length=1,e=e-o-1,f[0]=Wo(10,(ft-e%ft)%ft),t.e=Sl(-e/ft)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Wo(10,ft-r),f[d]=i>0?(u/Wo(10,a-i)%Wo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==zt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=zt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(mt&&(t.e>ep||t.e<-ep))throw Error(nx+Ot(t));return t}function sR(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),mt?nt(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/ft),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=zt-1;--l[o],l[i]+=zt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,mt?nt(e,m):e):new h(0)}function wa(t,e,n){var r,i=Ot(t),o=$r(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ui(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ui(-i-1)+o,n&&(r=n-a)>0&&(o+=Ui(r))):i>=a?(o+=Ui(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ui(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ui(r))),t.s<0?"-"+o:o}function LA(t,e){if(t.length>e)return t.length=e,!0}function lR(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return $A(a,o.toString())}else if(typeof o!="string")throw Error(sa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ine.test(o))$A(a,o);else throw Error(sa+o)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lR,i.config=i.set=one,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function one(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(sa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sa+n+": "+r);return this}var rx=lR(rne);Gn=new rx(1);const Je=rx;function ane(t){return cne(t)||une(t)||lne(t)||sne()}function sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lne(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function une(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cne(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fne=function(e){return e},uR={"@@functional/placeholder":!0},cR=function(e){return e===uR},VA=function(e){return function n(){return arguments.length===0||arguments.length===1&&cR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dne=function t(e,n){return e===1?n:VA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==uR}).length;return a>=e?n.apply(void 0,i):t(e-a,VA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return cR(f)?l.shift():f});return n.apply(void 0,ane(d).concat(l))}))})},zm=function(e){return dne(e.length,e)},P0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},hne=zm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),pne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},I0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function mne(t){var e;return t===0?e=1:e=Math.floor(new Je(t).abs().log(10).toNumber())+1,e}function gne(t,e,n){for(var r=new Je(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var yne=zm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),vne=zm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),bne=zm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Wm={rangeStep:gne,getDigitCount:mne,interpolateNumber:yne,uninterpolateNumber:vne,uninterpolateTruncation:bne};function k0(t){return xne(t)||_ne(t)||dR(t)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xne(t){if(Array.isArray(t))return O0(t)}function yc(t,e){return Tne(t)||Ene(t,e)||dR(t,e)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dR(t,e){if(t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ene(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Tne(t){if(Array.isArray(t))return t}function hR(t){var e=yc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pR(t,e,n){if(t.lte(0))return new Je(0);var r=Wm.getDigitCount(t.toNumber()),i=new Je(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Je(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Je(Math.ceil(l))}function Ane(t,e,n){var r=1,i=new Je(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Je(10).pow(Wm.getDigitCount(t)-1),i=new Je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Je(Math.floor(t)))}else t===0?i=new Je(Math.floor((e-1)/2)):n||(i=new Je(Math.floor(t)));var a=Math.floor((e-1)/2),s=pne(hne(function(l){return i.add(new Je(l-a).mul(r)).toNumber()}),P0);return s(0,e)}function mR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var o=pR(new Je(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Je(0):(a=new Je(t).add(e).div(2),a=a.sub(new Je(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Je(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?mR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Je(s).mul(o)),tickMax:a.add(new Je(l).mul(o))})}function Pne(t){var e=yc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=hR([n,r]),l=yc(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k0(P0(0,i-1).map(function(){return 1/0}))):[].concat(k0(P0(0,i-1).map(function(){return-1/0})),[d]);return n>r?I0(f):f}if(u===d)return Ane(u,i,o);var h=mR(u,d,a,o),m=h.step,g=h.tickMin,v=h.tickMax,_=Wm.rangeStep(g,v.add(new Je(.1).mul(m)),m);return n>r?I0(_):_}function Ine(t,e){var n=yc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hR([r,i]),s=yc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=pR(new Je(u).sub(l).div(d-1),o,0),h=[].concat(k0(Wm.rangeStep(new Je(l),new Je(u).sub(new Je(.99).mul(f)),f)),[u]);return r>i?I0(h):h}var kne=fR(Pne),One=fR(Ine),Cne=!0,vy="Invariant failed";function _a(t,e){if(!t){if(Cne)throw new Error(vy);var n=typeof e=="function"?e():e,r=n?"".concat(vy,": ").concat(n):vy;throw new Error(r)}}var Nne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function jne(t,e){return $ne(t)||Dne(t,e)||Mne(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return FA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FA(t,e)}}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $ne(t){if(Array.isArray(t))return t}function Lne(t,e){if(t==null)return{};var n=Vne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vR(r.key),r)}}function Bne(t,e,n){return e&&BA(t.prototype,e),n&&BA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,n){return e=np(e),zne(t,gR()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function zne(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wne(t)}function Wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C0(t,e)}function yR(t,e,n){return e=vR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vR(t){var e=Hne(t,"string");return Ws(e)=="symbol"?e:e+""}function Hne(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ff=function(t){function e(){return Fne(this,e),Une(this,e,arguments)}return Gne(e,t),Bne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Lne(r,Nne),m=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&_a(!1);var g=l.map(function(v){var _=u(v,s),b=_.x,w=_.y,x=_.value,k=_.errorVal;if(!k)return null;var T=[],P,E;if(Array.isArray(k)){var S=jne(k,2);P=S[0],E=S[1]}else P=E=k;if(o==="vertical"){var I=d.scale,C=w+i,O=C+a,R=C-a,N=I(x-P),W=I(x+E);T.push({x1:W,y1:O,x2:W,y2:R}),T.push({x1:N,y1:C,x2:W,y2:C}),T.push({x1:N,y1:O,x2:N,y2:R})}else if(o==="horizontal"){var U=f.scale,$=b+i,G=$-a,V=$+a,B=U(x-P),Q=U(x+E);T.push({x1:G,y1:Q,x2:V,y2:Q}),T.push({x1:$,y1:B,x2:$,y2:Q}),T.push({x1:G,y1:B,x2:V,y2:B})}return L.createElement(At,tp({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},m),T.map(function(ie){return L.createElement("line",tp({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return L.createElement(At,{className:"recharts-errorBars"},g)}}])}(L.Component);yR(ff,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yR(ff,"displayName","ErrorBar");function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Yne(t,"string");return vc(e)=="symbol"?e:e+""}function Yne(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Wn(n,oa);if(!a)return null;var s=oa.defaultProps,l=s!==void 0?$o($o({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?$o($o({},h),f.props):{},g=m.dataKey,v=m.name,_=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||_||"square",color:ix(f),value:v||g,payload:m}}),$o($o($o({},l),oa.getWithHeight(a,i)),{},{payload:u,item:a})};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function zA(t){return Zne(t)||Jne(t)||Qne(t)||Xne()}function Xne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qne(t,e){if(t){if(typeof t=="string")return N0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(t,e)}}function Jne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zne(t){if(Array.isArray(t))return N0(t)}function N0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vs(t,e,n){return e=ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return bc(e)=="symbol"?e:e+""}function tre(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return Oe(t)||Oe(e)?n:Lt(e)?lr(t,e,n):ke(e)?e(t):n}function ku(t,e,n,r){var i=Zte(t,function(s){return Xn(s,e)});if(n==="number"){var o=i.filter(function(s){return se(s)||parseFloat(s)});return o.length?[Bm(o),Fm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Oe(s)}):i;return a.map(function(s){return Lt(s)||s instanceof Date?s:""})}var nre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ar(f-d)!==Ar(h-f)){var g=[];if(Ar(h-f)===Ar(l[1]-l[0])){m=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{m=d;var _=h+l[1]-l[0];g[0]=Math.min(f,(_+f)/2),g[1]=Math.max(f,(_+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(d,h),x=Math.max(d,h);if(e>(w+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},ix=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},rre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],v=g.items,_=g.cateAxisId,b=v.filter(function(E){return pi(E.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,x=w!==void 0?St(St({},w),b[0].props):b[0].props,k=x.barSize,T=x[_];a[T]||(a[T]=[]);var P=Oe(k)?n:k;a[T].push({item:b[0],stackList:b.slice(1),barSize:Oe(P)?void 0:ba(P,r,0)})}}return a},ire=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ba(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var v=(i-g)/2>>0,_={offset:v-u,size:0};d=a.reduce(function(k,T){var P={item:T.item,position:{offset:_.offset+_.size+u,size:h?m:T.barSize}},E=[].concat(zA(k),[P]);return _=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:_})}),E},f)}else{var b=ba(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var w=(i-2*b-(l-1)*u)/l;w>1&&(w>>=0);var x=s===+s?Math.min(w,s):w;d=a.reduce(function(k,T,P){var E=[].concat(zA(k),[{item:T.item,position:{offset:b+(w+u)*P+(w-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return d},ore=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=bR({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&m!=="center"&&se(e[m]))return St(St({},e),{},vs({},m,e[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&g!=="middle"&&se(e[g]))return St(St({},e),{},vs({},g,e[g]+(h||0)))}return e},are=function(e,n,r){return Oe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},wR=function(e,n,r,i,o){var a=n.props.children,s=ur(a,ff).filter(function(u){return are(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Xn(d,r);if(Oe(f))return u;var h=Array.isArray(f)?[Bm(f),Fm(f)]:[f,f],m=l.reduce(function(g,v){var _=Xn(d,v,0),b=h[0]-Math.abs(Array.isArray(_)?_[0]:_),w=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},sre=function(e,n,r,i,o){var a=n.map(function(s){return wR(e,s,r,o,i)}).filter(function(s){return!Oe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},_R=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&wR(e,l,u,i)||ku(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},xR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},fi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!rf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},by=new WeakMap,fd=function(e,n){if(typeof n!="function")return e;by.has(e)||by.set(e,new WeakMap);var r=by.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},lre=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:fc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Xh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Iu(),realScaleType:"point"}:o==="category"?{scale:fc(),realScaleType:"band"}:{scale:Xh(),realScaleType:"linear"};if(va(i)){var l="scale".concat(Pm(i));return{scale:(DA[l]||Iu)(),realScaleType:DA[l]?l:"point"}}return ke(i)?{scale:i}:{scale:Iu(),realScaleType:"point"}},GA=1e-4,ure=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-GA,a=Math.max(i[0],i[1])+GA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},cre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},fre=function(e,n){if(!n||n.length!==2||!se(n[0])||!se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(o[0]=r),(!se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},dre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=rf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},hre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=rf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},pre={sign:dre,expand:C7,none:Ds,silhouette:N7,wiggle:j7,positive:hre},mre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=pre[r],a=O7().keys(i).value(function(s,l){return+Xn(s,l,0)}).order(r0).offset(o);return a(e)},gre=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?St(St({},h.type.defaultProps),h.props):h.props,v=g.stackId,_=g.hide;if(_)return f;var b=g[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(Lt(v)){var x=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),w.hasStack=!0,w.stackGroups[v]=x}else w.stackGroups[of("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return St(St({},f),{},vs({},b,w))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,_){var b=m.stackGroups[_];return St(St({},v),{},vs({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:mre(e,b.items,o)}))},g)}return St(St({},f),{},vs({},h,m))},d)},yre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=kne(u,o,s);return e.domain([Bm(d),Fm(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=One(f,o,s);return{niceTicks:h}}return null};function HA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var s=Ph(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Xn(i,Oe(a)?e.dataKey:a);return Oe(l)?null:e.scale(l)}var qA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Xn(a,n.dataKey,n.domain[s]);return Oe(l)?null:n.scale(l)-o/2+i},vre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},bre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Lt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},wre=function(e){return e.reduce(function(n,r){return[Bm(r.concat([n[0]]).filter(se)),Fm(r.concat([n[1]]).filter(se))]},[1/0,-1/0])},ER=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=wre(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j0=function(e,n,r){if(ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(KA.test(e[0])){var o=+KA.exec(e[0])[1];i[0]=n[0]-o}else ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(YA.test(e[1])){var a=+YA.exec(e[1])[1];i[1]=n[1]+a}else ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},rp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=N_(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},XA=function(e,n,r){return!e||!e.length||Um(e,lr(r,"type.defaultProps.domain"))?n:e},TR=function(e,n){var r=e.type.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return St(St({},Re(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:ix(e),value:Xn(n,i),type:l,payload:n,chartType:u,hide:d})};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=Sre(t,"string");return wc(e)=="symbol"?e:e+""}function Sre(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ip=Math.PI/180,Ere=function(e){return e*180/Math.PI},Zt=function(e,n,r,i){return{x:e+Math.cos(-ip*i)*r,y:n+Math.sin(-ip*i)*r}},Tre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Are=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Tre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Ere(u),angleInRadian:u}},Pre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Ire=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},ZA=function(e,n){var r=e.x,i=e.y,o=Are({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=Pre(n),f=d.startAngle,h=d.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?JA(JA({},n),{},{radius:a,angle:Ire(m,n)}):null};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}var kre=["offset"];function Ore(t){return Rre(t)||jre(t)||Nre(t)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return R0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R0(t,e)}}function jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rre(t){if(Array.isArray(t))return R0(t)}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mre(t,e){if(t==null)return{};var n=Dre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Vre(t,"string");return _c(e)=="symbol"?e:e+""}function Vre(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}var Fre=function(e){var n=e.value,r=e.formatter,i=Oe(e.children)?n:e.children;return ke(r)?r(i):i},Bre=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ure=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,v=l.clockWise,_=(f+h)/2,b=Bre(m,g),w=b>=0?1:-1,x,k;i==="insideStart"?(x=m+w*a,k=v):i==="insideEnd"?(x=g-w*a,k=!v):i==="end"&&(x=g+w*a,k=v),k=b<=0?k:!k;var T=Zt(u,d,_,x),P=Zt(u,d,_,x+(k?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Oe(e.id)?of("recharts-radial-line-"):e.id;return L.createElement("text",xc({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:S,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(S)},n))},zre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Zt(a,s,u+r,h),g=m.x,v=m.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,b=Zt(a,s,_,h),w=b.x,x=b.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Wre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,_=v*i,b=v>0?"end":"start",w=v>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return jt(jt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var k={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return jt(jt({},k),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var T={x:s-_,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return jt(jt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:s+u+_,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return jt(jt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return o==="insideLeft"?jt({x:s+_,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideRight"?jt({x:s+u-_,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):o==="insideTop"?jt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?jt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},E):o==="insideTopLeft"?jt({x:s+_,y:l+h,textAnchor:w,verticalAnchor:g},E):o==="insideTopRight"?jt({x:s+u-_,y:l+h,textAnchor:b,verticalAnchor:g},E):o==="insideBottomLeft"?jt({x:s+_,y:l+d-h,textAnchor:w,verticalAnchor:m},E):o==="insideBottomRight"?jt({x:s+u-_,y:l+d-h,textAnchor:b,verticalAnchor:m},E):pl(o)&&(se(o.x)||Qo(o.x))&&(se(o.y)||Qo(o.y))?jt({x:s+ba(o.x,u),y:l+ba(o.y,d),textAnchor:"end",verticalAnchor:"end"},E):jt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Gre=function(e){return"cx"in e&&se(e.cx)};function yn(t){var e=t.offset,n=e===void 0?5:e,r=Mre(t,kre),i=jt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Oe(s)&&Oe(l)&&!D.isValidElement(u)&&!ke(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var m;if(ke(u)){if(m=D.createElement(u,i),D.isValidElement(m))return m}else m=Fre(i);var g=Gre(o),v=Re(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ure(i,m,v);var _=g?zre(i):Wre(i);return L.createElement(zh,xc({className:Le("recharts-label",f)},v,_,{breakAll:h}),m)}yn.displayName="Label";var AR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,g=e.left,v=e.width,_=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(se(v)&&se(_)){if(se(f)&&se(h))return{x:f,y:h,width:v,height:_};if(se(m)&&se(g))return{x:m,y:g,width:v,height:_}}return se(f)&&se(h)?{x:f,y:h,width:0,height:0}:se(n)&&se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Hre=function(e,n){return e?e===!0?L.createElement(yn,{key:"label-implicit",viewBox:n}):Lt(e)?L.createElement(yn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===yn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):ke(e)?L.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):pl(e)?L.createElement(yn,xc({viewBox:n},e,{key:"label-implicit"})):null:null},qre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=AR(e),a=ur(i,yn).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Hre(e.label,n||o);return[s].concat(Ore(a))};yn.parseViewBox=AR;yn.renderCallByParent=qre;function Kre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Yre=Kre;const Xre=rt(Yre);function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var Qre=["valueAccessor"],Jre=["data","dataKey","clockWise","id","textBreakAll"];function Zre(t){return rie(t)||nie(t)||tie(t)||eie()}function eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return M0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M0(t,e)}}function nie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rie(t){if(Array.isArray(t))return M0(t)}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return Sc(e)=="symbol"?e:e+""}function aie(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rP(t,e){if(t==null)return{};var n=sie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lie=function(e){return Array.isArray(e.value)?Xre(e.value):e.value};function mo(t){var e=t.valueAccessor,n=e===void 0?lie:e,r=rP(t,Qre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=rP(r,Jre);return!i||!i.length?null:L.createElement(At,{className:"recharts-label-list"},i.map(function(d,f){var h=Oe(o)?n(d,f):Xn(d&&d.payload,o),m=Oe(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(yn,op({},Re(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:yn.parseViewBox(Oe(a)?d:nP(nP({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}mo.displayName="LabelList";function uie(t,e){return t?t===!0?L.createElement(mo,{key:"labelList-implicit",data:e}):L.isValidElement(t)||ke(t)?L.createElement(mo,{key:"labelList-implicit",data:e,content:t}):pl(t)?L.createElement(mo,op({data:e},t,{key:"labelList-implicit"})):null:null}function cie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ur(r,mo).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=uie(t.label,e);return[o].concat(Zre(i))}mo.renderCallByParent=cie;function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(this,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=hie(t,"string");return Ec(e)=="symbol"?e:e+""}function hie(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pie=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},dd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/ip,h=u?o:o+a*f,m=Zt(n,r,d,h),g=Zt(n,r,i,h),v=u?o-a*f:o,_=Zt(n,r,d*Math.cos(f*ip),v);return{center:m,circleTangency:g,lineTangency:_,theta:f}},PR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=pie(a,s),u=a+l,d=Zt(n,r,o,a),f=Zt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Zt(n,r,i,a),g=Zt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ar(d-u),h=dd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,v=h.theta,_=dd({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=_.circleTangency,w=_.lineTangency,x=_.theta,k=l?Math.abs(u-d):Math.abs(u-d)-v-x;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):PR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=dd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=P.circleTangency,S=P.lineTangency,I=P.theta,C=dd({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=C.circleTangency,R=C.lineTangency,N=C.theta,W=l?Math.abs(u-d):Math.abs(u-d)-I-N;if(W<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},gie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IR=function(e){var n=oP(oP({},gie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var m=Le("recharts-sector",h),g=a-o,v=ba(s,g,0,!0),_;return v>0&&Math.abs(d-f)<360?_=mie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):_=PR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),L.createElement("path",D0({},Re(n,!0),{className:m,d:_,role:"img"}))};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return e=vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=bie(t,"string");return Tc(e)=="symbol"?e:e+""}function bie(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lP={curveBasisClosed:b7,curveBasisOpen:w7,curveBasis:v7,curveBumpX:i7,curveBumpY:o7,curveLinearClosed:_7,curveLinear:km,curveMonotoneX:x7,curveMonotoneY:S7,curveNatural:E7,curveStep:T7,curveStepAfter:P7,curveStepBefore:A7},hd=function(e){return e.x===+e.x&&e.y===+e.y},eu=function(e){return e.x},tu=function(e){return e.y},wie=function(e,n){if(ke(e))return e;var r="curve".concat(Pm(e));return(r==="curveMonotone"||r==="curveBump")&&n?lP["".concat(r).concat(n==="vertical"?"Y":"X")]:lP[r]||km},_ie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=wie(r,s),f=u?o.filter(function(v){return hd(v)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(v){return hd(v)}):a,g=f.map(function(v,_){return sP(sP({},v),{},{base:m[_]})});return s==="vertical"?h=rd().y(tu).x1(eu).x0(function(v){return v.base.x}):h=rd().x(eu).y1(tu).y0(function(v){return v.base.y}),h.defined(hd).curve(d),h(g)}return s==="vertical"&&se(a)?h=rd().y(tu).x1(eu).x0(a):se(a)?h=rd().x(eu).y1(tu).y0(a):h=IN().x(eu).y(tu),h.defined(hd).curve(d),h(f)},L0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?_ie(e):i;return D.createElement("path",$0({},Re(e,!1),Ih(e),{className:Le("recharts-curve",n),d:a,ref:o}))},kR={exports:{}},xie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sie=xie,Eie=Sie;function OR(){}function CR(){}CR.resetWarningCache=OR;var Tie=function(){function t(r,i,o,a,s,l){if(l!==Eie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CR,resetWarningCache:OR};return n.PropTypes=n,n};kR.exports=Tie();var Aie=kR.exports;const He=rt(Aie);var Pie=Object.getOwnPropertyNames,Iie=Object.getOwnPropertySymbols,kie=Object.prototype.hasOwnProperty;function uP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function pd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function cP(t){return Pie(t).concat(Iie(t))}var Oie=Object.hasOwn||function(t,e){return kie.call(t,e)};function Oa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Cie="__v",Nie="__o",jie="_owner",fP=Object.getOwnPropertyDescriptor,dP=Object.keys;function Rie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mie(t,e){return Oa(t.getTime(),e.getTime())}function Die(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $ie(t,e){return t===e}function hP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Lie=Oa;function Vie(t,e,n){var r=dP(t),i=r.length;if(dP(e).length!==i)return!1;for(;i-- >0;)if(!NR(t,e,n,r[i]))return!1;return!0}function nu(t,e,n){var r=cP(t),i=r.length;if(cP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!NR(t,e,n,o)||(a=fP(t,o),s=fP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Fie(t,e){return Oa(t.valueOf(),e.valueOf())}function Bie(t,e){return t.source===e.source&&t.flags===e.flags}function pP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Uie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NR(t,e,n,r){return(r===jie||r===Nie||r===Cie)&&(t.$$typeof||e.$$typeof)?!0:Oie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Wie="[object Arguments]",Gie="[object Boolean]",Hie="[object Date]",qie="[object Error]",Kie="[object Map]",Yie="[object Number]",Xie="[object Object]",Qie="[object RegExp]",Jie="[object Set]",Zie="[object String]",eoe="[object URL]",toe=Array.isArray,mP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gP=Object.assign,noe=Object.prototype.toString.call.bind(Object.prototype.toString);function roe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,v,_){if(g===v)return!0;if(g==null||v==null)return!1;var b=typeof g;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?a(g,v,_):b==="function"?i(g,v,_):!1;var w=g.constructor;if(w!==v.constructor)return!1;if(w===Object)return s(g,v,_);if(toe(g))return e(g,v,_);if(mP!=null&&mP(g))return f(g,v,_);if(w===Date)return n(g,v,_);if(w===RegExp)return u(g,v,_);if(w===Map)return o(g,v,_);if(w===Set)return d(g,v,_);var x=noe(g);return x===Hie?n(g,v,_):x===Qie?u(g,v,_):x===Kie?o(g,v,_):x===Jie?d(g,v,_):x===Xie?typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,_):x===eoe?h(g,v,_):x===qie?r(g,v,_):x===Wie?s(g,v,_):x===Gie||x===Yie||x===Zie?l(g,v,_):!1}}function ioe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nu:Rie,areDatesEqual:Mie,areErrorsEqual:Die,areFunctionsEqual:$ie,areMapsEqual:r?uP(hP,nu):hP,areNumbersEqual:Lie,areObjectsEqual:r?nu:Vie,arePrimitiveWrappersEqual:Fie,areRegExpsEqual:Bie,areSetsEqual:r?uP(pP,nu):pP,areTypedArraysEqual:r?nu:Uie,areUrlsEqual:zie};if(n&&(i=gP({},i,n(i))),e){var o=pd(i.areArraysEqual),a=pd(i.areMapsEqual),s=pd(i.areObjectsEqual),l=pd(i.areSetsEqual);i=gP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function ooe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function aoe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var soe=Oo();Oo({strict:!0});Oo({circular:!0});Oo({circular:!0,strict:!0});Oo({createInternalComparator:function(){return Oa}});Oo({strict:!0,createInternalComparator:function(){return Oa}});Oo({circular:!0,createInternalComparator:function(){return Oa}});Oo({circular:!0,createInternalComparator:function(){return Oa},strict:!0});function Oo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=ioe(t),l=roe(s),u=r?r(l):ooe(l);return aoe({circular:n,comparator:l,createState:i,equals:u,strict:a})}function loe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):loe(i)};requestAnimationFrame(r)}function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function uoe(t){return hoe(t)||doe(t)||foe(t)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(t,e){if(t){if(typeof t=="string")return vP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(t,e)}}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function doe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hoe(t){if(Array.isArray(t))return t}function poe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=uoe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){yP(i.bind(null,u),l);return}i(l),yP(i.bind(null,u));return}V0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){jR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jR(t,e,n){return e=moe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=goe(t,"string");return Ac(e)==="symbol"?e:String(e)}function goe(t,e){if(Ac(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yoe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},voe=function(e){return e},boe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ou=function(e,n){return Object.keys(n).reduce(function(r,i){return wP(wP({},r),{},jR({},i,e(i,n[i])))},{})},_P=function(e,n,r){return e.map(function(i){return"".concat(boe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function woe(t,e){return Soe(t)||xoe(t,e)||RR(t,e)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Soe(t){if(Array.isArray(t))return t}function Eoe(t){return Poe(t)||Aoe(t)||RR(t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(t,e){if(t){if(typeof t=="string")return F0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F0(t,e)}}function Aoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Poe(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ap=1e-4,MR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},DR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xP=function(e,n){return function(r){var i=MR(e,n);return DR(i,r)}},Ioe=function(e,n){return function(r){var i=MR(e,n),o=[].concat(Eoe(i.map(function(a,s){return a*s}).slice(1)),[0]);return DR(o,r)}},SP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=woe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=xP(i,a),h=xP(o,s),m=Ioe(i,a),g=function(b){return b>1?1:b<0?0:b},v=function(b){for(var w=b>1?1:b,x=w,k=0;k<8;++k){var T=f(x)-w,P=m(x);if(Math.abs(T-w)<ap||P<ap)return h(x);x=g(x-T/P)}return h(x)};return v.isStepper=!1,v},koe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var m=-(d-f)*r,g=h*o,v=h+(m-g)*s/1e3,_=h*s/1e3+d;return Math.abs(_-f)<ap&&Math.abs(v)<ap?[f,0]:[_,v]};return l.isStepper=!0,l.dt=s,l},Ooe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SP(i);case"spring":return koe();default:if(i.split("(")[0]==="cubic-bezier")return SP(i)}return typeof i=="function"?i:null};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function EP(t){return joe(t)||Noe(t)||$R(t)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return U0(t)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0(t,e,n){return e=Roe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Moe(t,"string");return Pc(e)==="symbol"?e:String(e)}function Moe(t,e){if(Pc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t,e){return Voe(t)||Loe(t,e)||$R(t,e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $R(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Loe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Voe(t){if(Array.isArray(t))return t}var sp=function(e,n,r){return e+(n-e)*r},z0=function(e){var n=e.from,r=e.to;return n!==r},Foe=function t(e,n,r){var i=Ou(function(o,a){if(z0(a)){var s=e(a.from,a.to,a.velocity),l=Doe(s,2),u=l[0],d=l[1];return Kt(Kt({},a),{},{from:u,velocity:d})}return a},n);return r<1?Ou(function(o,a){return z0(a)?Kt(Kt({},a),{},{velocity:sp(a.velocity,i[o].velocity,r),from:sp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Boe=function(t,e,n,r,i){var o=yoe(t,e),a=o.reduce(function(_,b){return Kt(Kt({},_),{},B0({},b,[t[b],e[b]]))},{}),s=o.reduce(function(_,b){return Kt(Kt({},_),{},B0({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Ou(function(b,w){return w.from},s)},m=function(){return!Object.values(s).filter(z0).length},g=function(b){u||(u=b);var w=b-u,x=w/n.dt;s=Foe(n,s,x),i(Kt(Kt(Kt({},t),e),h())),u=b,m()||(l=requestAnimationFrame(f))},v=function(b){d||(d=b);var w=(b-d)/r,x=Ou(function(T,P){return sp.apply(void 0,EP(P).concat([n(w)]))},a);if(i(Kt(Kt(Kt({},t),e),x)),w<1)l=requestAnimationFrame(f);else{var k=Ou(function(T,P){return sp.apply(void 0,EP(P).concat([n(1)]))},a);i(Kt(Kt(Kt({},t),e),k))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}var Uoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zoe(t,e){if(t==null)return{};var n=Woe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Woe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wy(t){return Koe(t)||qoe(t)||Hoe(t)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hoe(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W0(t,e)}}function qoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Koe(t){if(Array.isArray(t))return W0(t)}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){du(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function du(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function Xoe(t,e,n){return e&&PP(t.prototype,e),n&&PP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LR(t){var e=Qoe(t,"string");return Gs(e)==="symbol"?e:String(e)}function Qoe(t,e){if(Gs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function Zoe(t){var e=eae();return function(){var r=lp(t),i;if(e){var o=lp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return H0(this,i)}}function H0(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0(t)}function q0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}var Gm=function(t){Joe(n,t);var e=Zoe(n);function n(r,i){var o;Yoe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(q0(o)),o.changeStyle=o.changeStyle.bind(q0(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),H0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},H0(o);o.state={style:l?du({},l,u):u}}else o.state={style:{}};return o}return Xoe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?du({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(soe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var _={style:l?du({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(_)}this.runAnimation(yr(yr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=Boe(a,s,Ooe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(v,_,b){if(b===0)return v;var w=_.duration,x=_.easing,k=x===void 0?"ease":x,T=_.style,P=_.properties,E=_.onAnimationEnd,S=b>0?a[b-1]:_,I=P||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(wy(v),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:w,easing:k}),w]);var C=_P(I,w,k),O=yr(yr(yr({},S.style),T),{},{transition:C});return[].concat(wy(v),[O,w,E]).filter(voe)};return this.manager.start([l].concat(wy(a.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=poe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?du({},s,l):l,_=_P(Object.keys(v),a,u);g.start([d,o,yr(yr({},v),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=zoe(i,Uoe),u=D.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(m){var g=m.props,v=g.style,_=v===void 0?{}:v,b=g.className,w=D.cloneElement(m,yr(yr({},l),{},{style:yr(yr({},_),d),className:b}));return w};return u===1?f(D.Children.only(o)):L.createElement("div",null,D.Children.map(o,function(h){return f(h)}))}}]),n}(D.PureComponent);Gm.displayName="Animate";Gm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gm.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};const Hs=Gm;function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function tae(t,e){return oae(t)||iae(t,e)||rae(t,e)||nae()}function nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return IP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(t,e)}}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oae(t){if(Array.isArray(t))return t}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return e=sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=lae(t,"string");return Ic(e)=="symbol"?e:e+""}function lae(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);d="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},uae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},cae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ox=function(e){var n=OP(OP({},cae),e),r=D.useRef(),i=D.useState(-1),o=tae(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,v=n.animationDuration,_=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Le("recharts-rectangle",m);return w?L.createElement(Hs,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:w},function(k){var T=k.width,P=k.height,E=k.x,S=k.y;return L.createElement(Hs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,isActive:b,easing:g},L.createElement("path",up({},Re(n,!0),{className:x,d:CP(E,S,T,P,h),ref:r})))}):L.createElement("path",up({},Re(n,!0),{className:x,d:CP(l,u,d,f,h)}))};function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}var ax=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Le("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",K0({},Re(e,!1),Ih(e),{className:a,cx:n,cy:r,r:i})):null};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}var fae=["x","y","top","left","width","height","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return e=pae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pae(t){var e=mae(t,"string");return kc(e)=="symbol"?e:e+""}function mae(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gae(t,e){if(t==null)return{};var n=yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},bae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,g=e.className,v=gae(e,fae),_=dae({x:r,y:o,top:s,left:u,width:f,height:m},v);return!se(r)||!se(o)||!se(f)||!se(m)||!se(s)||!se(u)?null:L.createElement("path",Y0({},Re(_,!0),{className:Le("recharts-cross",g),d:vae(r,o,f,m,s,u)}))},wae=JN,_ae=wae(Object.getPrototypeOf,Object),xae=_ae,Sae=Ni,Eae=xae,Tae=ji,Aae="[object Object]",Pae=Function.prototype,Iae=Object.prototype,VR=Pae.toString,kae=Iae.hasOwnProperty,Oae=VR.call(Object);function Cae(t){if(!Tae(t)||Sae(t)!=Aae)return!1;var e=Eae(t);if(e===null)return!0;var n=kae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&VR.call(n)==Oae}var Nae=Cae;const jae=rt(Nae);var Rae=Ni,Mae=ji,Dae="[object Boolean]";function $ae(t){return t===!0||t===!1||Mae(t)&&Rae(t)==Dae}var Lae=$ae;const Vae=rt(Lae);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function Fae(t,e){return Wae(t)||zae(t,e)||Uae(t,e)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wae(t){if(Array.isArray(t))return t}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=qae(t,"string");return Oc(e)=="symbol"?e:e+""}function qae(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yae=function(e){var n=MP(MP({},Kae),e),r=D.useRef(),i=D.useState(-1),o=Fae(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,v=n.animationDuration,_=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Le("recharts-trapezoid",m);return b?L.createElement(Hs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:b},function(x){var k=x.upperWidth,T=x.lowerWidth,P=x.height,E=x.x,S=x.y;return L.createElement(Hs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,easing:g},L.createElement("path",cp({},Re(n,!0),{className:w,d:DP(E,S,k,T,P),ref:r})))}):L.createElement("g",null,L.createElement("path",cp({},Re(n,!0),{className:w,d:DP(l,u,d,f,h)})))},Xae=["option","shapeType","propTransformer","activeClassName","isActive"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Qae(t,e){if(t==null)return{};var n=Jae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return e=ese(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ese(t){var e=tse(t,"string");return Cc(e)=="symbol"?e:e+""}function tse(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nse(t,e){return fp(fp({},e),t)}function rse(t,e){return t==="symbols"}function LP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(ox,n);case"trapezoid":return L.createElement(Yae,n);case"sector":return L.createElement(IR,n);case"symbols":if(rse(e))return L.createElement(E_,n);break;default:return null}}function ise(t){return D.isValidElement(t)?t.props:t}function ose(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?nse:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Qae(t,Xae),u;if(D.isValidElement(e))u=D.cloneElement(e,fp(fp({},l),ise(e)));else if(ke(e))u=e(l);else if(jae(e)&&!Vae(e)){var d=i(e,l);u=L.createElement(LP,{shapeType:n,elementProps:d})}else{var f=l;u=L.createElement(LP,{shapeType:n,elementProps:f})}return s?L.createElement(At,{className:a},u):u}function Hm(t,e){return e!=null&&"trapezoids"in t.props}function qm(t,e){return e!=null&&"sectors"in t.props}function Nc(t,e){return e!=null&&"points"in t.props}function ase(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function sse(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function lse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function use(t,e){var n;return Hm(t,e)?n=ase:qm(t,e)?n=sse:Nc(t,e)&&(n=lse),n}function cse(t,e){var n;return Hm(t,e)?n="trapezoids":qm(t,e)?n="sectors":Nc(t,e)&&(n="points"),n}function fse(t,e){if(Hm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Nc(t,e)?e.payload:{}}function dse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=cse(n,e),o=fse(n,e),a=r.filter(function(l,u){var d=Um(o,l),f=n.props[i].filter(function(g){var v=use(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var hse=Math.ceil,pse=Math.max;function mse(t,e,n,r){for(var i=-1,o=pse(hse((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var gse=mse,yse=yj,VP=1/0,vse=17976931348623157e292;function bse(t){if(!t)return t===0?t:0;if(t=yse(t),t===VP||t===-VP){var e=t<0?-1:1;return e*vse}return t===t?t:0}var FR=bse,wse=gse,_se=jm,_y=FR;function xse(t){return function(e,n,r){return r&&typeof r!="number"&&_se(e,n,r)&&(n=r=void 0),e=_y(e),n===void 0?(n=e,e=0):n=_y(n),r=r===void 0?e<n?1:-1:_y(r),wse(e,n,r,t)}}var Sse=xse,Ese=Sse,Tse=Ese(),Ase=Tse;const dp=rt(Ase);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){BR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BR(t,e,n){return e=Pse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=Ise(t,"string");return jc(e)=="symbol"?e:e+""}function Ise(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kse=["Webkit","Moz","O","ms"],Ose=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=kse.reduce(function(o,a){return BP(BP({},o),{},BR({},a+r,n))},{});return i[e]=n,i};function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zR(r.key),r)}}function Nse(t,e,n){return e&&zP(t.prototype,e),n&&zP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jse(t,e,n){return e=pp(e),Rse(t,UR()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function Rse(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mse(t)}function Mse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function Dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X0(t,e)}function Un(t,e,n){return e=zR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zR(t){var e=$se(t,"string");return qs(e)=="symbol"?e:e+""}function $se(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Iu().domain(dp(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},WP=function(e){return e.changedTouches&&!!e.changedTouches.length},Ks=function(t){function e(n){var r;return Cse(this,e),r=jse(this,e,[n]),Un(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Un(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Un(r,"handleSlideDragStart",function(i){var o=WP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dse(e,t),Nse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Xn(o[r],s,r);return ke(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+d-f-s,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-s));var _=this.getIndex({startX:a+v,endX:s+v});(_.startIndex!==h||_.endIndex!==m)&&g&&g(_),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=WP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,v=d.gap,_=d.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),b[a]=u+w;var x=this.getIndex(b),k=x.startIndex,T=x.endIndex,P=function(){var S=_.length-1;return a==="startX"&&(s>l?k%v===0:T%v===0)||s<l&&T===S||a==="endX"&&(s>l?T%v===0:k%v===0)||s>l&&T===S};this.setState(Un(Un({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&P()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Un({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return L.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?L.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,v=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),w=xy(xy({},Re(this.props,!1)),{},{x:b,y:u,width:d,height:f}),x=m||"Min value: ".concat((o=g[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[_])===null||a===void 0?void 0:a.name);return L.createElement(At,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return L.createElement(At,{className:"recharts-brush-texts"},L.createElement(zh,hp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},g),this.getTextOfTick(i)),L.createElement(zh,hp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,v=h.isTextActive,_=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!se(s)||!se(l)||!se(u)||!se(d)||u<=0||d<=0)return null;var x=Le("recharts-brush",o),k=L.Children.count(a)===1,T=Ose("userSelect","none");return L.createElement(At,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(v||_||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):ke(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return xy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Lse({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);Un(Ks,"displayName","Brush");Un(Ks,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vse=C_;function Fse(t,e){var n;return Vse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Bse=Fse,Use=WN,zse=Po,Wse=Bse,Gse=Ln,Hse=jm;function qse(t,e,n){var r=Gse(t)?Use:Wse;return n&&Hse(t,e,n)&&(e=void 0),r(t,zse(e))}var Kse=qse;const Yse=rt(Kse);var Wr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GP=dj;function Xse(t,e,n){e=="__proto__"&&GP?GP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qse=Xse,Jse=Qse,Zse=cj,ele=Po;function tle(t,e){var n={};return e=ele(e),Zse(t,function(r,i,o){Jse(n,i,e(r,i,o))}),n}var nle=tle;const rle=rt(nle);function ile(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ole=ile,ale=C_;function sle(t,e){var n=!0;return ale(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var lle=sle,ule=ole,cle=lle,fle=Po,dle=Ln,hle=jm;function ple(t,e,n){var r=dle(t)?ule:cle;return n&&hle(t,e,n)&&(e=void 0),r(t,fle(e))}var mle=ple;const WR=rt(mle);var gle=["x","y"];function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return e=vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=ble(t,"string");return Rc(e)=="symbol"?e:e+""}function ble(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wle(t,e){if(t==null)return{};var n=_le(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xle(t,e){var n=t.x,r=t.y,i=wle(t,gle),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ru(ru(ru(ru(ru({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function qP(t){return L.createElement(ose,Q0({shapeType:"rectangle",propTransformer:xle,activeClassName:"recharts-active-bar"},t))}var Sle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=se(r)||z8(r);return o?e(r,i):(o||_a(!1),n)}},Ele=["value","background"],GR;function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Tle(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function Ile(t,e,n){return e&&YP(t.prototype,e),n&&YP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kle(t,e,n){return e=gp(e),Ole(t,HR()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Ole(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(t)}function Cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function Zi(t,e,n){return e=qR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=jle(t,"string");return Ys(e)=="symbol"?e:e+""}function jle(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var df=function(t){function e(){var n;Ple(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kle(this,e,[].concat(i)),Zi(n,"state",{isAnimationFinished:!1}),Zi(n,"id",of("recharts-bar-")),Zi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Zi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Nle(e,t),Ile(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Re(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:a,v=It(It(It({},d),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(At,mp({className:"recharts-bar-rectangle"},kh(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(qP,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(Hs,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,v=o.map(function(_,b){var w=h&&h[b];if(w){var x=Er(w.x,_.x),k=Er(w.y,_.y),T=Er(w.width,_.width),P=Er(w.height,_.height);return It(It({},_),{},{x:x(g),y:k(g),width:T(g),height:P(g)})}if(a==="horizontal"){var E=Er(0,_.height),S=E(g);return It(It({},_),{},{y:_.y+_.height-S,height:S})}var I=Er(0,_.width),C=I(g);return It(It({},_),{},{width:C})});return L.createElement(At,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Um(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Re(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=Tle(u,Ele);if(!f)return null;var m=It(It(It(It(It({},h),{},{fill:"#eee"},f),l),kh(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(qP,mp({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=ur(d,ff);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(_,b){var w=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:w,errorVal:Xn(_,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(At,g,f.map(function(v){return L.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,v=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,b=Le("recharts-bar",a),w=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,k=w||x,T=Oe(v)?this.id:v;return L.createElement(At,{className:b},w||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(T)},L.createElement("rect",{x:w?u:u-f/2,y:x?d:d-h/2,width:w?f:f*2,height:x?h:h*2}))):null,L.createElement(At,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!m||_)&&mo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);GR=df;Zi(df,"displayName","Bar");Zi(df,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zi(df,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=cre(r,n);if(!m)return null;var g=e.layout,v=n.type.defaultProps,_=v!==void 0?It(It({},v),n.props):n.props,b=_.dataKey,w=_.children,x=_.minPointSize,k=g==="horizontal"?a:o,T=u?k.scale.domain():null,P=vre({numericAxis:k}),E=ur(w,bj),S=f.map(function(I,C){var O,R,N,W,U,$;u?O=fre(u[d+C],T):(O=Xn(I,b),Array.isArray(O)||(O=[P,O]));var G=Sle(x,GR.defaultProps.minPointSize)(O[1],C);if(g==="horizontal"){var V,B=[a.scale(O[0]),a.scale(O[1])],Q=B[0],ie=B[1];R=qA({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:I,index:C}),N=(V=ie??Q)!==null&&V!==void 0?V:void 0,W=m.size;var X=Q-ie;if(U=Number.isNaN(X)?0:X,$={x:R,y:a.y,width:W,height:a.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var q=Ar(U||G)*(Math.abs(G)-Math.abs(U));N-=q,U+=q}}else{var fe=[o.scale(O[0]),o.scale(O[1])],oe=fe[0],we=fe[1];if(R=oe,N=qA({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:I,index:C}),W=we-oe,U=m.size,$={x:o.x,y:N,width:o.width,height:U},Math.abs(G)>0&&Math.abs(W)<Math.abs(G)){var ne=Ar(W||G)*(Math.abs(G)-Math.abs(W));W+=ne}}return It(It(It({},I),{},{x:R,y:N,width:W,height:U,value:u?O:O[1],payload:I,background:$},E&&E[C]&&E[C].props),{},{tooltipPayload:[TR(n,I)],tooltipPosition:{x:R+W/2,y:N+U/2}})});return It({data:S,layout:g},h)});function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KR(r.key),r)}}function Mle(t,e,n){return e&&XP(t.prototype,e),n&&XP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Km(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){var e=Dle(t,"string");return Mc(e)=="symbol"?e:e+""}function Dle(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Wn(u,df);return d.reduce(function(m,g){var v=n[g],_=v.orientation,b=v.domain,w=v.padding,x=w===void 0?{}:w,k=v.mirror,T=v.reversed,P="".concat(_).concat(k?"Mirror":""),E,S,I,C,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=b[1]-b[0],N=1/0,W=v.categoricalDomain.sort(H8);if(W.forEach(function(fe,oe){oe>0&&(N=Math.min((fe||0)-(W[oe-1]||0),N))}),Number.isFinite(N)){var U=N/R,$=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=U*$/2),v.padding==="no-gap"){var G=ba(e.barCategoryGap,U*$),V=U*$/2;E=V-G-(V-G)/$*G}}}i==="xAxis"?S=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:S=v.range,T&&(S=[S[1],S[0]]);var B=lre(v,o,h),Q=B.scale,ie=B.realScaleType;Q.domain(b).range(S),ure(Q);var X=yre(Q,wr(wr({},v),{},{realScaleType:ie}));i==="xAxis"?(O=_==="top"&&!k||_==="bottom"&&k,I=r.left,C=f[P]-O*v.height):i==="yAxis"&&(O=_==="left"&&!k||_==="right"&&k,I=f[P]-O*v.width,C=r.top);var q=wr(wr(wr({},v),X),{},{realScaleType:ie,x:I,y:C,scale:Q,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return q.bandSize=rp(q,X),!v.hide&&i==="xAxis"?f[P]+=(O?-1:1)*q.height:v.hide||(f[P]+=(O?-1:1)*q.width),wr(wr({},m),{},Km({},g,q))},{})},YR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Lle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return YR({x:n,y:r},{x:i,y:o})},XR=function(){function t(e){Rle(this,t),this.scale=e}return Mle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Km(XR,"EPS",1e-4);var sx=function(e){var n=Object.keys(e).reduce(function(r,i){return wr(wr({},r),{},Km({},i,XR.create(e[i])))},{});return wr(wr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return rle(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return WR(i,function(o,a){return n[a].isInRange(o)})}})};function Vle(t){return(t%180+180)%180}var Fle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Vle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ble=Po,Ule=af,zle=Cm;function Wle(t){return function(e,n,r){var i=Object(e);if(!Ule(e)){var o=Ble(n);e=zle(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Gle=Wle,Hle=FR;function qle(t){var e=Hle(t),n=e%1;return e===e?n?e-n:e:0}var Kle=qle,Yle=ij,Xle=Po,Qle=Kle,Jle=Math.max;function Zle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qle(n);return i<0&&(i=Jle(r+i,0)),Yle(t,Xle(e),i)}var eue=Zle,tue=Gle,nue=eue,rue=tue(nue),iue=rue;const oue=rt(iue);var aue=qU(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lx=D.createContext(void 0),ux=D.createContext(void 0),QR=D.createContext(void 0),JR=D.createContext({}),ZR=D.createContext(void 0),eM=D.createContext(0),tM=D.createContext(0),JP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=aue(o);return L.createElement(lx.Provider,{value:r},L.createElement(ux.Provider,{value:i},L.createElement(JR.Provider,{value:o},L.createElement(QR.Provider,{value:d},L.createElement(ZR.Provider,{value:a},L.createElement(eM.Provider,{value:u},L.createElement(tM.Provider,{value:l},s)))))))},sue=function(){return D.useContext(ZR)},nM=function(e){var n=D.useContext(lx);n==null&&_a(!1);var r=n[e];return r==null&&_a(!1),r},lue=function(){var e=D.useContext(lx);return Yi(e)},uue=function(){var e=D.useContext(ux),n=oue(e,function(r){return WR(r.domain,Number.isFinite)});return n||Yi(e)},rM=function(e){var n=D.useContext(ux);n==null&&_a(!1);var r=n[e];return r==null&&_a(!1),r},cue=function(){var e=D.useContext(QR);return e},fue=function(){return D.useContext(JR)},cx=function(){return D.useContext(tM)},fx=function(){return D.useContext(eM)};function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function hue(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=yp(e),mue(t,iM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function mue(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(t)}function gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t){var e=vue(t,"string");return Xs(e)=="symbol"?e:e+""}function vue(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t,e){return Sue(t)||xue(t,e)||_ue(t,e)||wue()}function wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(t,e){if(t){if(typeof t=="string")return nI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(t,e)}}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Sue(t){if(Array.isArray(t))return t}function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}var Eue=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):ke(e)?r=e(n):r=L.createElement("line",eb({},n,{className:"recharts-reference-line-line"})),r},Tue=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Wr(u,"discard")&&!e.y.isInRange(v))return null;var _=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?_.reverse():_}if(n){var b=u.x,w=e.x.apply(b,{position:a});if(Wr(u,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:f+m},{x:w,y:f}];return s==="top"?x.reverse():x}if(i){var k=u.segment,T=k.map(function(P){return e.apply(P,{position:a})});return Wr(u,"discard")&&Yse(T,function(P){return!e.isInRange(P)})?null:T}return null};function Aue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=sue(),d=nM(i),f=rM(o),h=cue();if(!u||!h)return null;mi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sx({x:d.scale,y:f.scale}),g=Lt(e),v=Lt(n),_=r&&r.length===2,b=Tue(m,g,v,_,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=bue(b,2),x=w[0],k=x.x,T=x.y,P=w[1],E=P.x,S=P.y,I=Wr(t,"hidden")?"url(#".concat(u,")"):void 0,C=tI(tI({clipPath:I},Re(t,!0)),{},{x1:k,y1:T,x2:E,y2:S});return L.createElement(At,{className:Le("recharts-reference-line",s)},Eue(a,C),yn.renderCallByParent(t,Lle({x1:k,y1:T,x2:E,y2:S})))}var hx=function(t){function e(){return due(this,e),pue(this,e,arguments)}return yue(e,t),hue(e,[{key:"render",value:function(){return L.createElement(Aue,this.props)}}])}(L.Component);dx(hx,"displayName","ReferenceLine");dx(hx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sM(r.key),r)}}function Iue(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,n){return e=vp(e),Oue(t,aM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function Ym(t,e,n){return e=sM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sM(t){var e=jue(t,"string");return Qs(e)=="symbol"?e:e+""}function jue(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=sx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Wr(e,"discard")&&!a.isInRange(s)?null:s},Xm=function(t){function e(){return Pue(this,e),kue(this,e,arguments)}return Nue(e,t),Iue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Lt(i),d=Lt(o);if(mi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Rue(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,v=g.shape,_=g.className,b=Wr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=iI(iI({clipPath:b},Re(this.props,!0)),{},{cx:h,cy:m});return L.createElement(At,{className:Le("recharts-reference-dot",_)},e.renderDot(v,w),yn.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(L.Component);Ym(Xm,"displayName","ReferenceDot");Ym(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ym(Xm,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):ke(t)?n=t(e):n=L.createElement(ax,tb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function Due(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,n){return e=bp(e),Lue(t,lM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function Lue(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(t)}function Vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Qm(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Bue(t,"string");return Js(e)=="symbol"?e:e+""}function Bue(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=sx({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Wr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:YR(m,g)},Jm=function(t){function e(){return Mue(this,e),$ue(this,e,arguments)}return Fue(e,t),Due(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lt(i),h=Lt(o),m=Lt(a),g=Lt(s),v=this.props.shape;if(!f&&!h&&!m&&!g&&!v)return null;var _=Uue(f,h,m,g,this.props);if(!_&&!v)return null;var b=Wr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(At,{className:Le("recharts-reference-area",l)},e.renderRect(v,sI(sI({clipPath:b},Re(this.props,!0)),_)),yn.renderCallByParent(this.props,_))}}])}(L.Component);Qm(Jm,"displayName","ReferenceArea");Qm(Jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qm(Jm,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):ke(t)?n=t(e):n=L.createElement(ox,rb({},e,{className:"recharts-reference-area-rect"})),n});function cM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function zue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fle(r,n)}function Wue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function wp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Gue(t,e){return cM(t,e+1)}function Hue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:cM(r,u)};var v=l,_,b=function(){return _===void 0&&(_=n(g,v)),_},w=g.coordinate,x=l===0||wp(t,w,b,d,s);x||(l=0,d=a,u+=1),x&&(d=w+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kue(t){var e=Yue(t,"string");return Dc(e)=="symbol"?e:e+""}function Yue(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],g,v=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var _=t*(m.coordinate+t*v()/2-l);o[h]=m=hn(hn({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate})}else o[h]=m=hn(hn({},m),{},{tickCoord:m.coordinate});var b=wp(t,m.tickCoord,v,s,l);b&&(l=m.tickCoord-t*(v()/2+i),o[h]=hn(hn({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function Que(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=hn(hn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=wp(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),a[s-1]=hn(hn({},d),{},{isShow:!0}))}for(var g=o?s-1:s,v=function(w){var x=a[w],k,T=function(){return k===void 0&&(k=n(x,w)),k};if(w===0){var P=t*(x.coordinate-t*T()/2-l);a[w]=x=hn(hn({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[w]=x=hn(hn({},x),{},{tickCoord:x.coordinate});var E=wp(t,x.tickCoord,T,l,u);E&&(l=x.tickCoord+t*(T()/2+i),a[w]=hn(hn({},x),{},{isShow:!0}))},_=0;_<g;_++)v(_);return a}function px(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(se(l)||gi.isSsr)return Gue(i,typeof l=="number"&&se(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?Pu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(x,k){var T=ke(u)?u(x.value,k):x.value;return m==="width"?zue(Pu(T,{fontSize:e,letterSpacing:n}),g,f):Pu(T,{fontSize:e,letterSpacing:n})[m]},_=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,b=Wue(o,_,m);return l==="equidistantPreserveStart"?Hue(_,b,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Que(_,b,v,i,a,l==="preserveStartEnd"):h=Xue(_,b,v,i,a),h.filter(function(w){return w.isShow}))}var Jue=["viewBox"],Zue=["viewBox"],ece=["ticks"];function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},is.apply(this,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(t,e){if(t==null)return{};var n=tce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dM(r.key),r)}}function rce(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ice(t,e,n){return e=_p(e),oce(t,fM()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function oce(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ace(t)}function ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function mx(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t){var e=lce(t,"string");return Zs(e)=="symbol"?e:e+""}function lce(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var El=function(t){function e(n){var r;return nce(this,e),r=ice(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return sce(e,t),rce(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Sy(r,Jue),s=this.props,l=s.viewBox,u=Sy(s,Zue);return!gs(o,l)||!gs(a,u)||!gs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,v,_,b,w,x=f?-1:1,k=r.tickSize||d,T=se(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,_=a+ +!f*l,v=_-x*k,w=v-x*h,b=T;break;case"left":v=_=r.coordinate,g=o+ +!f*s,m=g-x*k,b=m-x*h,w=T;break;case"right":v=_=r.coordinate,g=o+ +f*s,m=g+x*k,b=m+x*h,w=T;break;default:m=g=r.coordinate,_=a+ +f*l,v=_+x*k,w=v+x*h,b=T;break}return{line:{x1:m,y1:v,x2:g,y2:_},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=Nt(Nt(Nt({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Nt(Nt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Nt(Nt({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return L.createElement("line",is({},f,{className:Le("recharts-cartesian-axis-line",lr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=px(Nt(Nt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),_=Re(this.props,!1),b=Re(d,!1),w=Nt(Nt({},_),{},{fill:"none"},Re(l,!1)),x=m.map(function(k,T){var P=a.getTickLineCoord(k),E=P.line,S=P.tick,I=Nt(Nt(Nt(Nt({textAnchor:g,verticalAnchor:v},_),{},{stroke:"none",fill:u},b),S),{},{index:T,payload:k,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(At,is({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},kh(a.props,k,T)),l&&L.createElement("line",is({},w,E,{className:Le("recharts-cartesian-axis-tick-line",lr(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(ke(f)?f(k.value,T):k.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Sy(f,ece),g=h;return ke(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:L.createElement(At,{className:Le("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Le(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(r)?a=L.cloneElement(r,Nt(Nt({},i),{},{className:s})):ke(r)?a=r(Nt(Nt({},i),{},{className:s})):a=L.createElement(zh,is({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);mx(El,"displayName","CartesianAxis");mx(El,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uce=["x1","y1","x2","y2","key"],cce=["offset"];function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return e=dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=hce(t,"string");return xa(e)=="symbol"?e:e+""}function hce(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function hI(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return L.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hM(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=hI(e,uce),u=Re(l,!1);u.offset;var d=hI(u,cce);n=L.createElement("line",ea({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function gce(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return hM(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function yce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return hM(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function vce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?i+a-h:d[m+1]-h;if(v<=0)return null;var _=m%e.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:v,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?o+s-h:d[m+1]-h;if(v<=0)return null;var _=m%r.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:v,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return SR(px(vn(vn(vn({},El.defaultProps),r),{},{ticks:fi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},_ce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return SR(px(vn(vn(vn({},El.defaultProps),r),{},{ticks:fi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Va={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pM(t){var e,n,r,i,o,a,s=cx(),l=fx(),u=fue(),d=vn(vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Va.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Va.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Va.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Va.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Va.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Va.verticalFill,x:se(t.x)?t.x:u.left,y:se(t.y)?t.y:u.top,width:se(t.width)?t.width:u.width,height:se(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,v=d.syncWithTicks,_=d.horizontalValues,b=d.verticalValues,w=lue(),x=uue();if(!se(m)||m<=0||!se(g)||g<=0||!se(f)||f!==+f||!se(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||wce,T=d.horizontalCoordinatesGenerator||_ce,P=d.horizontalPoints,E=d.verticalPoints;if((!P||!P.length)&&ke(T)){var S=_&&_.length,I=T({yAxis:x?vn(vn({},x),{},{ticks:S?_:x.ticks}):void 0,width:s,height:l,offset:u},S?!0:v);mi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xa(I),"]")),Array.isArray(I)&&(P=I)}if((!E||!E.length)&&ke(k)){var C=b&&b.length,O=k({xAxis:w?vn(vn({},w),{},{ticks:C?b:w.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);mi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xa(O),"]")),Array.isArray(O)&&(E=O)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(mce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(gce,ea({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:x})),L.createElement(yce,ea({},d,{offset:u,verticalPoints:E,xAxis:w,yAxis:x})),L.createElement(vce,ea({},d,{horizontalPoints:P})),L.createElement(bce,ea({},d,{verticalPoints:E})))}pM.displayName="CartesianGrid";var xce=["type","layout","connectNulls","ref"],Sce=["key"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function pI(t,e){if(t==null)return{};var n=Ece(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fa(t){return Ice(t)||Pce(t)||Ace(t)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ace(t,e){if(t){if(typeof t=="string")return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function Pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gM(r.key),r)}}function Oce(t,e,n){return e&&gI(t.prototype,e),n&&gI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cce(t,e,n){return e=xp(e),Nce(t,mM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function Nce(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function Rce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function _r(t,e,n){return e=gM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gM(t){var e=Mce(t,"string");return el(e)=="symbol"?e:e+""}function Mce(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hf=function(t){function e(){var n;kce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Cce(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),_r(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,m=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){m=[].concat(Fa(l.slice(0,g)),[f-v]);break}var _=m.length%2===0?[0,h]:[h];return[].concat(Fa(e.repeat(l,d)),Fa(m),_).map(function(b){return"".concat(b,"px")}).join(", ")}),_r(n,"id",of("recharts-line-")),_r(n,"pathRef",function(a){n.mainCurve=a}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Rce(e,t),Oce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=ur(d,ff);if(!f)return null;var h=function(v,_){return{x:v.x,y:v.y,value:v.value,errorVal:Xn(v.payload,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(At,m,f.map(function(g){return L.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Re(this.props,!1),h=Re(l,!0),m=u.map(function(v,_){var b=Bn(Bn(Bn({key:"dot-".concat(_),r:3},f),h),{},{index:_,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(l,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return L.createElement(At,Cu({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=pI(s,xce),h=Bn(Bn(Bn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return L.createElement(L0,Cu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,g=a.animateNewValues,v=a.width,_=a.height,b=this.state,w=b.prevPoints,x=b.totalLength;return L.createElement(Hs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var T=k.t;if(w){var P=w.length/s.length,E=s.map(function(R,N){var W=Math.floor(N*P);if(w[W]){var U=w[W],$=Er(U.x,R.x),G=Er(U.y,R.y);return Bn(Bn({},R),{},{x:$(T),y:G(T)})}if(g){var V=Er(v*2,R.x),B=Er(_/2,R.y);return Bn(Bn({},R),{},{x:V(T),y:B(T)})}return Bn(Bn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(E,r,i)}var S=Er(0,x),I=S(T),C;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});C=o.getStrokeDasharray(I,x,O)}else C=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!Um(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,g=i.height,v=i.isAnimationActive,_=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,x=Le("recharts-line",l),k=u&&u.allowDataOverflow,T=d&&d.allowDataOverflow,P=k||T,E=Oe(_)?this.id:_,S=(r=Re(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=S.r,C=I===void 0?3:I,O=S.strokeWidth,R=O===void 0?2:O,N=tz(a)?a:{},W=N.clipDot,U=W===void 0?!0:W,$=C*2+R;return L.createElement(At,{className:x},k||T?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:k?h:h-m/2,y:T?f:f-g/2,width:k?m:m*2,height:T?g:g*2})),!U&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-$/2,y:f-$/2,width:m+$,height:g+$}))):null,!w&&this.renderCurve(P,E),this.renderErrorBar(P,E),(w||a)&&this.renderDots(P,U,E),(!v||b)&&mo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Fa(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Fa(a),Fa(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(L.isValidElement(r))o=L.cloneElement(r,i);else if(ke(r))o=r(i);else{var a=i.key,s=pI(i,Sce),l=Le("recharts-line-dot",typeof r!="boolean"?r.className:"");o=L.createElement(ax,Cu({key:a},s,{className:l}))}return o}}])}(D.PureComponent);_r(hf,"displayName","Line");_r(hf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(hf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var g=Xn(h,a);return d==="horizontal"?{x:HA({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Oe(g)?null:r.scale(g),value:g,payload:h}:{x:Oe(g)?null:n.scale(g),y:HA({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:g,payload:h}});return Bn({points:f,layout:d},u)});function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bM(r.key),r)}}function $ce(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lce(t,e,n){return e=Sp(e),Vce(t,yM()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function vM(t,e,n){return e=bM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bM(t){var e=Uce(t,"string");return tl(e)=="symbol"?e:e+""}function Uce(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function zce(t){var e=t.xAxisId,n=cx(),r=fx(),i=nM(e);return i==null?null:D.createElement(El,ub({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return fi(a,!0)}}))}var Zm=function(t){function e(){return Dce(this,e),Lce(this,e,arguments)}return Bce(e,t),$ce(e,[{key:"render",value:function(){return D.createElement(zce,this.props)}}])}(D.Component);vM(Zm,"displayName","XAxis");vM(Zm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xM(r.key),r)}}function Gce(t,e,n){return e&&vI(t.prototype,e),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t,e,n){return e=Ep(e),qce(t,wM()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function qce(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kce(t)}function Kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function Yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function _M(t,e,n){return e=xM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xM(t){var e=Xce(t,"string");return nl(e)=="symbol"?e:e+""}function Xce(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}var Qce=function(e){var n=e.yAxisId,r=cx(),i=fx(),o=rM(n);return o==null?null:D.createElement(El,fb({},o,{className:Le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return fi(s,!0)}}))},eg=function(t){function e(){return Wce(this,e),Hce(this,e,arguments)}return Yce(e,t),Gce(e,[{key:"render",value:function(){return D.createElement(Qce,this.props)}}])}(D.Component);_M(eg,"displayName","YAxis");_M(eg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bI(t){return tfe(t)||efe(t)||Zce(t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(t,e){if(t){if(typeof t=="string")return db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(t,e)}}function efe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tfe(t){if(Array.isArray(t))return db(t)}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hb=function(e,n,r,i,o){var a=ur(e,hx),s=ur(e,Xm),l=[].concat(bI(a),bI(s)),u=ur(e,Jm),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,_){if(_.props[d]===r&&Wr(_.props,"extendDomain")&&se(_.props[f])){var b=_.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,_){if(_.props[d]===r&&Wr(_.props,"extendDomain")&&se(_.props[m])&&se(_.props[g])){var b=_.props[m],w=_.props[g];return[Math.min(v[0],b,w),Math.max(v[1],b,w)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,_){return se(_)?[Math.min(v[0],_),Math.max(v[1],_)]:v},h)),h},SM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var _=this._events[v],b=arguments.length,w,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,f),!0;case 4:return _.fn.call(_.context,d,f,h),!0;case 5:return _.fn.call(_.context,d,f,h,m),!0;case 6:return _.fn.call(_.context,d,f,h,m,g),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];_.fn.apply(_.context,w)}else{var k=_.length,T;for(x=0;x<k;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),b){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,d);break;case 3:_[x].fn.call(_[x].context,d,f);break;case 4:_[x].fn.call(_[x].context,d,f,h);break;default:if(!w)for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];_[x].fn.apply(_[x].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var v=0,_=[],b=g.length;v<b;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&_.push(g[v]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(SM);var nfe=SM.exports;const rfe=rt(nfe);var Ey=new rfe,Ty="recharts.syncMouseEvents";function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function ife(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EM(r.key),r)}}function ofe(t,e,n){return e&&wI(t.prototype,e),n&&wI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ay(t,e,n){return e=EM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EM(t){var e=afe(t,"string");return $c(e)=="symbol"?e:e+""}function afe(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sfe=function(){function t(){ife(this,t),Ay(this,"activeIndex",0),Ay(this,"coordinateList",[]),Ay(this,"layout","horizontal")}return ofe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&se(r)&&se(i))return!0}return!1}function ufe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function TM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Zt(e,n,r,i),s=Zt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function cfe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Zt(s,l,u,f),m=Zt(s,l,d,f);r=h.x,i=h.y,o=m.x,a=m.y}else return TM(e);return[{x:r,y:i},{x:o,y:a}]}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return e=dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=hfe(t,"string");return Lc(e)=="symbol"?e:e+""}function hfe(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=L0;if(h==="ScatterChart")g=a,v=bae;else if(h==="BarChart")g=ufe(f,a,l,d),v=ox;else if(f==="radial"){var _=TM(a),b=_.cx,w=_.cy,x=_.radius,k=_.startAngle,T=_.endAngle;g={cx:b,cy:w,startAngle:k,endAngle:T,innerRadius:x,outerRadius:x},v=IR}else g={points:cfe(f,a,l)},v=L0;var P=md(md(md(md({stroke:"#ccc",pointerEvents:"none"},l),g),Re(m,!1)),{},{payload:s,payloadIndex:u,className:Le("recharts-tooltip-cursor",m.className)});return D.isValidElement(m)?D.cloneElement(m,P):D.createElement(v,P)}var mfe=["item"],gfe=["children","className","width","height","style","compact","title","desc"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}function xI(t,e){return bfe(t)||vfe(t,e)||PM(t,e)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bfe(t){if(Array.isArray(t))return t}function SI(t,e){if(t==null)return{};var n=wfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IM(r.key),r)}}function xfe(t,e,n){return e&&EI(t.prototype,e),n&&EI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,n){return e=Tp(e),Efe(t,AM()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function Efe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AM=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function il(t){return kfe(t)||Ife(t)||PM(t)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PM(t,e){if(t){if(typeof t=="string")return mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(t,e)}}function Ife(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return mb(t)}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=IM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IM(t){var e=Ofe(t,"string");return rl(e)=="symbol"?e:e+""}function Ofe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cfe={xAxis:["bottom","top"],yAxis:["left","right"]},Nfe={width:"100%",height:"100%"},kM={x:0,y:0};function gd(t){return t}var jfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Rfe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),Zt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return kM},tg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(il(s),il(u)):s},[]);return a.length>0?a:e&&e.length&&se(i)&&se(o)?e.slice(i,o+1):[]};function OM(t){return t==="number"?[0,"auto"]:void 0}var gb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=tg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=Ph(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(il(l),[TR(u,h)]):l},[])},AI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=jfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=nre(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=gb(e,n,d,f),m=Rfe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Mfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=xR(d,o);return r.reduce(function(g,v){var _,b=v.type.defaultProps!==void 0?H(H({},v.type.defaultProps),v.props):v.props,w=b.type,x=b.dataKey,k=b.allowDataOverflow,T=b.allowDuplicatedCategory,P=b.scale,E=b.ticks,S=b.includeHidden,I=b[a];if(g[I])return g;var C=tg(e.data,{graphicalItems:i.filter(function(X){var q,fe=a in X.props?X.props[a]:(q=X.type.defaultProps)===null||q===void 0?void 0:q[a];return fe===I}),dataStartIndex:l,dataEndIndex:u}),O=C.length,R,N,W;lfe(b.domain,k,w)&&(R=j0(b.domain,null,k),m&&(w==="number"||P!=="auto")&&(W=ku(C,x,"category")));var U=OM(w);if(!R||R.length===0){var $,G=($=b.domain)!==null&&$!==void 0?$:U;if(x){if(R=ku(C,x,w),w==="category"&&m){var V=G8(R);T&&V?(N=R,R=dp(0,O)):T||(R=XA(G,R,v).reduce(function(X,q){return X.indexOf(q)>=0?X:[].concat(il(X),[q])},[]))}else if(w==="category")T?R=R.filter(function(X){return X!==""&&!Oe(X)}):R=XA(G,R,v).reduce(function(X,q){return X.indexOf(q)>=0||q===""||Oe(q)?X:[].concat(il(X),[q])},[]);else if(w==="number"){var B=sre(C,i.filter(function(X){var q,fe,oe=a in X.props?X.props[a]:(q=X.type.defaultProps)===null||q===void 0?void 0:q[a],we="hide"in X.props?X.props.hide:(fe=X.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return oe===I&&(S||!we)}),x,o,d);B&&(R=B)}m&&(w==="number"||P!=="auto")&&(W=ku(C,x,"category"))}else m?R=dp(0,O):s&&s[I]&&s[I].hasStack&&w==="number"?R=h==="expand"?[0,1]:ER(s[I].stackGroups,l,u):R=_R(C,i.filter(function(X){var q=a in X.props?X.props[a]:X.type.defaultProps[a],fe="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return q===I&&(S||!fe)}),w,d,!0);if(w==="number")R=hb(f,R,I,o,E),G&&(R=j0(G,R,k));else if(w==="category"&&G){var Q=G,ie=R.every(function(X){return Q.indexOf(X)>=0});ie&&(R=Q)}}return H(H({},g),{},Se({},I,H(H({},b),{},{axisType:o,domain:R,categoricalDomain:W,duplicateDomain:N,originalDomain:(_=b.domain)!==null&&_!==void 0?_:U,isCategorical:m,layout:d})))},{})},Dfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=tg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=xR(d,o),v=-1;return r.reduce(function(_,b){var w=b.type.defaultProps!==void 0?H(H({},b.type.defaultProps),b.props):b.props,x=w[a],k=OM("number");if(!_[x]){v++;var T;return g?T=dp(0,m):s&&s[x]&&s[x].hasStack?(T=ER(s[x].stackGroups,l,u),T=hb(f,T,x,o)):(T=j0(k,_R(h,r.filter(function(P){var E,S,I=a in P.props?P.props[a]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[a],C="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===x&&!C}),"number",d),i.defaultProps.allowDataOverflow),T=hb(f,T,x,o)),H(H({},_),{},Se({},x,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:lr(Cfe,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:k,isCategorical:g,layout:d})))}return _},{})},$fe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ur(d,o),m={};return h&&h.length?m=Mfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Dfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Lfe=function(e){var n=Yi(e),r=fi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:N_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:rp(n,r)}},PI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wn(n,Ks),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Vfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=pi(n&&n.type);return r&&r.indexOf("Bar")>=0})},II=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ffe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Wn(f,Ks),g=Wn(f,oa),v=Object.keys(l).reduce(function(T,P){var E=l[P],S=E.orientation;return!E.mirror&&!E.hide?H(H({},T),{},Se({},S,T[S]+E.width)):T},{left:h.left||0,right:h.right||0}),_=Object.keys(a).reduce(function(T,P){var E=a[P],S=E.orientation;return!E.mirror&&!E.hide?H(H({},T),{},Se({},S,lr(T,"".concat(S))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),b=H(H({},_),v),w=b.bottom;m&&(b.bottom+=m.props.height||Ks.defaultProps.height),g&&n&&(b=ore(b,i,r,n));var x=u-b.left-b.right,k=d-b.top-b.bottom;return H(H({brushBottom:w},b),{},{width:Math.max(x,0),height:Math.max(k,0)})},Bfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ufe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,w){var x=w.graphicalItems,k=w.stackGroups,T=w.offset,P=w.updateId,E=w.dataStartIndex,S=w.dataEndIndex,I=b.barSize,C=b.layout,O=b.barGap,R=b.barCategoryGap,N=b.maxBarSize,W=II(C),U=W.numericAxisName,$=W.cateAxisName,G=Vfe(x),V=[];return x.forEach(function(B,Q){var ie=tg(b.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:S}),X=B.type.defaultProps!==void 0?H(H({},B.type.defaultProps),B.props):B.props,q=X.dataKey,fe=X.maxBarSize,oe=X["".concat(U,"Id")],we=X["".concat($,"Id")],ne={},me=l.reduce(function(K,ue){var re=w["".concat(ue.axisType,"Map")],de=X["".concat(ue.axisType,"Id")];re&&re[de]||ue.axisType==="zAxis"||_a(!1);var Ae=re[de];return H(H({},K),{},Se(Se({},ue.axisType,Ae),"".concat(ue.axisType,"Ticks"),fi(Ae)))},ne),ee=me[$],ve=me["".concat($,"Ticks")],xe=k&&k[oe]&&k[oe].hasStack&&bre(B,k[oe].stackGroups),Y=pi(B.type).indexOf("Bar")>=0,Ve=rp(ee,ve),ye=[],Qe=G&&rre({barSize:I,stackGroups:k,totalSize:Bfe(me,$)});if(Y){var We,at,Bt=Oe(fe)?N:fe,an=(We=(at=rp(ee,ve,!0))!==null&&at!==void 0?at:Bt)!==null&&We!==void 0?We:0;ye=ire({barGap:O,barCategoryGap:R,bandSize:an!==Ve?an:Ve,sizeList:Qe[we],maxBarSize:Bt}),an!==Ve&&(ye=ye.map(function(K){return H(H({},K),{},{position:H(H({},K.position),{},{offset:K.position.offset-an/2})})}))}var sn=B&&B.type&&B.type.getComposedData;sn&&V.push({props:H(H({},sn(H(H({},me),{},{displayedData:ie,props:b,dataKey:q,item:B,bandSize:Ve,barPosition:ye,offset:T,stackedData:xe,layout:C,dataStartIndex:E,dataEndIndex:S}))),{},Se(Se(Se({key:B.key||"item-".concat(Q)},U,me[U]),$,me[$]),"animationId",P)),childIndex:iz(B,b.children),item:B})}),V},m=function(b,w){var x=b.props,k=b.dataStartIndex,T=b.dataEndIndex,P=b.updateId;if(!VE({props:x}))return null;var E=x.children,S=x.layout,I=x.stackOffset,C=x.data,O=x.reverseStackOrder,R=II(S),N=R.numericAxisName,W=R.cateAxisName,U=ur(E,r),$=gre(C,U,"".concat(N,"Id"),"".concat(W,"Id"),I,O),G=l.reduce(function(X,q){var fe="".concat(q.axisType,"Map");return H(H({},X),{},Se({},fe,$fe(x,H(H({},q),{},{graphicalItems:U,stackGroups:q.axisType===N&&$,dataStartIndex:k,dataEndIndex:T}))))},{}),V=Ffe(H(H({},G),{},{props:x,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(G).forEach(function(X){G[X]=d(x,G[X],V,X.replace("Map",""),n)});var B=G["".concat(W,"Map")],Q=Lfe(B),ie=h(x,H(H({},G),{},{dataStartIndex:k,dataEndIndex:T,updateId:P,graphicalItems:U,stackGroups:$,offset:V}));return H(H({formattedGraphicalItems:ie,graphicalItems:U,offset:V,stackGroups:$},Q),G)},g=function(_){function b(w){var x,k,T;return _fe(this,b),T=Sfe(this,b,[w]),Se(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(T,"accessibilityManager",new sfe),Se(T,"handleLegendBBoxUpdate",function(P){if(P){var E=T.state,S=E.dataStartIndex,I=E.dataEndIndex,C=E.updateId;T.setState(H({legendBBox:P},m({props:T.props,dataStartIndex:S,dataEndIndex:I,updateId:C},H(H({},T.state),{},{legendBBox:P}))))}}),Se(T,"handleReceiveSyncEvent",function(P,E,S){if(T.props.syncId===P){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),Se(T,"handleBrushChange",function(P){var E=P.startIndex,S=P.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return H({dataStartIndex:E,dataEndIndex:S},m({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),Se(T,"handleMouseEnter",function(P){var E=T.getMouseInfo(P);if(E){var S=H(H({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseEnter;ke(I)&&I(S,P)}}),Se(T,"triggeredAfterMouseMove",function(P){var E=T.getMouseInfo(P),S=E?H(H({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseMove;ke(I)&&I(S,P)}),Se(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Se(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Se(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),Se(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;ke(S)&&S(E,P)}),Se(T,"handleOuterEvent",function(P){var E=rz(P),S=lr(T.props,"".concat(E));if(E&&ke(S)){var I,C;/.*touch.*/i.test(E)?C=T.getMouseInfo(P.changedTouches[0]):C=T.getMouseInfo(P),S((I=C)!==null&&I!==void 0?I:{},P)}}),Se(T,"handleClick",function(P){var E=T.getMouseInfo(P);if(E){var S=H(H({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onClick;ke(I)&&I(S,P)}}),Se(T,"handleMouseDown",function(P){var E=T.props.onMouseDown;if(ke(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleMouseUp",function(P){var E=T.props.onMouseUp;if(ke(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Se(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),Se(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),Se(T,"handleDoubleClick",function(P){var E=T.props.onDoubleClick;if(ke(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleContextMenu",function(P){var E=T.props.onContextMenu;if(ke(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&Ey.emit(Ty,T.props.syncId,P,T.eventEmitterSymbol)}),Se(T,"applySyncEvent",function(P){var E=T.props,S=E.layout,I=E.syncMethod,C=T.state.updateId,O=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(H({dataStartIndex:O,dataEndIndex:R},m({props:T.props,dataStartIndex:O,dataEndIndex:R,updateId:C},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,W=P.chartY,U=P.activeTooltipIndex,$=T.state,G=$.offset,V=$.tooltipTicks;if(!G)return;if(typeof I=="function")U=I(V,P);else if(I==="value"){U=-1;for(var B=0;B<V.length;B++)if(V[B].value===P.activeLabel){U=B;break}}var Q=H(H({},G),{},{x:G.left,y:G.top}),ie=Math.min(N,Q.x+Q.width),X=Math.min(W,Q.y+Q.height),q=V[U]&&V[U].value,fe=gb(T.state,T.props.data,U),oe=V[U]?{x:S==="horizontal"?V[U].coordinate:ie,y:S==="horizontal"?X:V[U].coordinate}:kM;T.setState(H(H({},P),{},{activeLabel:q,activeCoordinate:oe,activePayload:fe,activeTooltipIndex:U}))}else T.setState(P)}),Se(T,"renderCursor",function(P){var E,S=T.state,I=S.isTooltipActive,C=S.activeCoordinate,O=S.activePayload,R=S.offset,N=S.activeTooltipIndex,W=S.tooltipAxisBandSize,U=T.getTooltipEventType(),$=(E=P.props.active)!==null&&E!==void 0?E:I,G=T.props.layout,V=P.key||"_recharts-cursor";return L.createElement(pfe,{key:V,activeCoordinate:C,activePayload:O,activeTooltipIndex:N,chartName:n,element:P,isActive:$,layout:G,offset:R,tooltipAxisBandSize:W,tooltipEventType:U})}),Se(T,"renderPolarAxis",function(P,E,S){var I=lr(P,"type.axisType"),C=lr(T.state,"".concat(I,"Map")),O=P.type.defaultProps,R=O!==void 0?H(H({},O),P.props):P.props,N=C&&C[R["".concat(I,"Id")]];return D.cloneElement(P,H(H({},N),{},{className:Le(I,N.className),key:P.key||"".concat(E,"-").concat(S),ticks:fi(N,!0)}))}),Se(T,"renderPolarGrid",function(P){var E=P.props,S=E.radialLines,I=E.polarAngles,C=E.polarRadius,O=T.state,R=O.radiusAxisMap,N=O.angleAxisMap,W=Yi(R),U=Yi(N),$=U.cx,G=U.cy,V=U.innerRadius,B=U.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(I)?I:fi(U,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(C)?C:fi(W,!0).map(function(Q){return Q.coordinate}),cx:$,cy:G,innerRadius:V,outerRadius:B,key:P.key||"polar-grid",radialLines:S})}),Se(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,E=T.props,S=E.children,I=E.width,C=E.height,O=T.props.margin||{},R=I-(O.left||0)-(O.right||0),N=bR({children:S,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!N)return null;var W=N.item,U=SI(N,mfe);return D.cloneElement(W,H(H({},U),{},{chartWidth:I,chartHeight:C,margin:O,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Se(T,"renderTooltip",function(){var P,E=T.props,S=E.children,I=E.accessibilityLayer,C=Wn(S,Mr);if(!C)return null;var O=T.state,R=O.isTooltipActive,N=O.activeCoordinate,W=O.activePayload,U=O.activeLabel,$=O.offset,G=(P=C.props.active)!==null&&P!==void 0?P:R;return D.cloneElement(C,{viewBox:H(H({},$),{},{x:$.left,y:$.top}),active:G,label:U,payload:G?W:[],coordinate:N,accessibilityLayer:I})}),Se(T,"renderBrush",function(P){var E=T.props,S=E.margin,I=E.data,C=T.state,O=C.offset,R=C.dataStartIndex,N=C.dataEndIndex,W=C.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:fd(T.handleBrushChange,P.props.onChange),data:I,x:se(P.props.x)?P.props.x:O.left,y:se(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:se(P.props.width)?P.props.width:O.width,startIndex:R,endIndex:N,updateId:"brush-".concat(W)})}),Se(T,"renderReferenceElement",function(P,E,S){if(!P)return null;var I=T,C=I.clipPathId,O=T.state,R=O.xAxisMap,N=O.yAxisMap,W=O.offset,U=P.type.defaultProps||{},$=P.props,G=$.xAxisId,V=G===void 0?U.xAxisId:G,B=$.yAxisId,Q=B===void 0?U.yAxisId:B;return D.cloneElement(P,{key:P.key||"".concat(E,"-").concat(S),xAxis:R[V],yAxis:N[Q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:C})}),Se(T,"renderActivePoints",function(P){var E=P.item,S=P.activePoint,I=P.basePoint,C=P.childIndex,O=P.isRange,R=[],N=E.props.key,W=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,U=W.activeDot,$=W.dataKey,G=H(H({index:C,dataKey:$,cx:S.x,cy:S.y,r:4,fill:ix(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Re(U,!1)),Ih(U));return R.push(b.renderActiveDot(U,G,"".concat(N,"-activePoint-").concat(C))),I?R.push(b.renderActiveDot(U,H(H({},G),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(C))):O&&R.push(null),R}),Se(T,"renderGraphicChild",function(P,E,S){var I=T.filterFormatItem(P,E,S);if(!I)return null;var C=T.getTooltipEventType(),O=T.state,R=O.isTooltipActive,N=O.tooltipAxis,W=O.activeTooltipIndex,U=O.activeLabel,$=T.props.children,G=Wn($,Mr),V=I.props,B=V.points,Q=V.isRange,ie=V.baseLine,X=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,q=X.activeDot,fe=X.hide,oe=X.activeBar,we=X.activeShape,ne=!!(!fe&&R&&G&&(q||oe||we)),me={};C!=="axis"&&G&&G.props.trigger==="click"?me={onClick:fd(T.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(me={onMouseLeave:fd(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:fd(T.handleItemMouseEnter,P.props.onMouseEnter)});var ee=D.cloneElement(P,H(H({},I.props),me));function ve(ue){return typeof N.dataKey=="function"?N.dataKey(ue.payload):null}if(ne)if(W>=0){var xe,Y;if(N.dataKey&&!N.allowDuplicatedCategory){var Ve=typeof N.dataKey=="function"?ve:"payload.".concat(N.dataKey.toString());xe=Ph(B,Ve,U),Y=Q&&ie&&Ph(ie,Ve,U)}else xe=B==null?void 0:B[W],Y=Q&&ie&&ie[W];if(we||oe){var ye=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[D.cloneElement(P,H(H(H({},I.props),me),{},{activeIndex:ye})),null,null]}if(!Oe(xe))return[ee].concat(il(T.renderActivePoints({item:I,activePoint:xe,basePoint:Y,childIndex:W,isRange:Q})))}else{var Qe,We=(Qe=T.getItemByXY(T.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:ee},at=We.graphicalItem,Bt=at.item,an=Bt===void 0?P:Bt,sn=at.childIndex,K=H(H(H({},I.props),me),{},{activeIndex:sn});return[D.cloneElement(an,K),null,null]}return Q?[ee,null,null]:[ee,null]}),Se(T,"renderCustomized",function(P,E,S){return D.cloneElement(P,H(H({key:"recharts-customized-".concat(S)},T.props),T.state))}),Se(T,"renderMap",{CartesianGrid:{handler:gd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:gd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:gd},YAxis:{handler:gd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:of("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=vj(T.triggeredAfterMouseMove,(k=w.throttleDelay)!==null&&k!==void 0?k:1e3/60),T.state={},T}return Afe(b,_),xfe(b,[{key:"componentDidMount",value:function(){var x,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,k=x.children,T=x.data,P=x.height,E=x.layout,S=Wn(k,Mr);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=gb(this.state,T,I,C),R=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,W=E==="horizontal",U=W?{x:R,y:N}:{y:R,x:N},$=this.state.formattedGraphicalItems.find(function(V){var B=V.item;return B.type.name==="Scatter"});$&&(U=H(H({},U),$.props.points[I].tooltipPosition),O=$.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:O,activeCoordinate:U};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){Kv([Wn(x.children,Mr)],[Wn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Wn(this.props.children,Mr);if(x&&typeof x.props.shared=="boolean"){var k=x.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var k=this.container,T=k.getBoundingClientRect(),P=IJ(T),E={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},S=T.width/k.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,S);if(!I)return null;var C=this.state,O=C.xAxisMap,R=C.yAxisMap,N=this.getTooltipEventType(),W=AI(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&O&&R){var U=Yi(O).scale,$=Yi(R).scale,G=U&&U.invert?U.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return H(H({},E),{},{xValue:G,yValue:V},W)}return W?H(H({},E),W):null}},{key:"inRange",value:function(x,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=x/T,S=k/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,C=E>=I.left&&E<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return C?{x:E,y:S}:null}var O=this.state,R=O.angleAxisMap,N=O.radiusAxisMap;if(R&&N){var W=Yi(R);return ZA({x:E,y:S},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,k=this.getTooltipEventType(),T=Wn(x,Mr),P={};T&&k==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Ih(this.props,this.handleOuterEvent);return H(H({},E),P)}},{key:"addListener",value:function(){Ey.on(Ty,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ey.removeListener(Ty,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,k,T){for(var P=this.state.formattedGraphicalItems,E=0,S=P.length;E<S;E++){var I=P[E];if(I.item===x||I.props.key===x.key||k===pi(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,k=this.state.offset,T=k.left,P=k.top,E=k.height,S=k.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:T,y:P,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(k,T){var P=xI(T,2),E=P[0],S=P[1];return H(H({},k),{},Se({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(k,T){var P=xI(T,2),E=P[0],S=P[1];return H(H({},k),{},Se({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(x){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(x){var k=this.state,T=k.formattedGraphicalItems,P=k.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var I=T[E],C=I.props,O=I.item,R=O.type.defaultProps!==void 0?H(H({},O.type.defaultProps),O.props):O.props,N=pi(O.type);if(N==="Bar"){var W=(C.data||[]).find(function(V){return uae(x,V)});if(W)return{graphicalItem:I,payload:W}}else if(N==="RadialBar"){var U=(C.data||[]).find(function(V){return ZA(x,V)});if(U)return{graphicalItem:I,payload:U}}else if(Hm(I,P)||qm(I,P)||Nc(I,P)){var $=dse({graphicalItem:I,activeTooltipItem:P,itemData:R.data}),G=R.activeIndex===void 0?$:R.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:G}),payload:Nc(I,P)?R.data[$]:I.props.data[$]}}}return null}},{key:"render",value:function(){var x=this;if(!VE(this))return null;var k=this.props,T=k.children,P=k.className,E=k.width,S=k.height,I=k.style,C=k.compact,O=k.title,R=k.desc,N=SI(k,gfe),W=Re(N,!1);if(C)return L.createElement(JP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Xv,os({},W,{width:E,height:S,title:O,desc:R}),this.renderClipPath(),BE(T,this.renderMap)));if(this.props.accessibilityLayer){var U,$;W.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,W.role=($=this.props.role)!==null&&$!==void 0?$:"application",W.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},W.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return L.createElement(JP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",os({className:Le("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:E,height:S},I)},G,{ref:function(B){x.container=B}}),L.createElement(Xv,os({},W,{width:E,height:S,title:O,desc:R,style:Nfe}),this.renderClipPath(),BE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Se(g,"displayName",n),Se(g,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(g,"getDerivedStateFromProps",function(_,b){var w=_.dataKey,x=_.data,k=_.children,T=_.width,P=_.height,E=_.layout,S=_.stackOffset,I=_.margin,C=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var R=PI(_);return H(H(H({},R),{},{updateId:0},m(H(H({props:_},R),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:k})}if(w!==b.prevDataKey||x!==b.prevData||T!==b.prevWidth||P!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!gs(I,b.prevMargin)){var N=PI(_),W={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=H(H({},AI(b,x,E)),{},{updateId:b.updateId+1}),$=H(H(H({},N),W),U);return H(H(H({},$),m(H({props:_},$),b)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:k})}if(!Kv(k,b.prevChildren)){var G,V,B,Q,ie=Wn(k,Ks),X=ie&&(G=(V=ie.props)===null||V===void 0?void 0:V.startIndex)!==null&&G!==void 0?G:C,q=ie&&(B=(Q=ie.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&B!==void 0?B:O,fe=X!==C||q!==O,oe=!Oe(x),we=oe&&!fe?b.updateId:b.updateId+1;return H(H({updateId:we},m(H(H({props:_},b),{},{updateId:we,dataStartIndex:X,dataEndIndex:q}),b)),{},{prevChildren:k,dataStartIndex:X,dataEndIndex:q})}return null}),Se(g,"renderActiveDot",function(_,b,w){var x;return D.isValidElement(_)?x=D.cloneElement(_,b):ke(_)?x=_(b):x=L.createElement(ax,b),L.createElement(At,{className:"recharts-active-dot",key:w},x)});var v=D.forwardRef(function(b,w){return L.createElement(g,os({},b,{ref:w}))});return v.displayName=g.displayName,v},zfe=Ufe({chartName:"LineChart",GraphicalChild:hf,axisComponents:[{axisType:"xAxis",AxisComp:Zm},{axisType:"yAxis",AxisComp:eg}],formatAxisMap:$le});const Wfe=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),Gfe=({className:t=""})=>p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"12",r:"3"}),p.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Hfe=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"8",r:"4"}),p.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),CM=({className:t=""})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),qfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[p.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),p.jsx("polyline",{points:"16 6 12 2 8 6"}),p.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Kfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Yfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[p.jsx("circle",{cx:"12",cy:"12",r:"5"}),p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),p.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),p.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),p.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),p.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),p.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Xfe=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:p.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Qfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[p.jsx("path",{d:"M3 3v18h18"}),p.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Jfe=({className:t=""})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:p.jsx("polyline",{points:"9 18 15 12 9 6"})}),Ap=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Zfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function ede({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return p.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),p.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:p.jsx(Zfe,{})})]}),p.jsx("div",{style:{width:"100%",height:300},children:p.jsx(_J,{children:p.jsxs(zfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[p.jsx(pM,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(Zm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),p.jsx(eg,{stroke:"#6b7280"}),p.jsx(Mr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return p.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&p.jsxs("div",{children:[p.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),p.jsxs("div",{children:[p.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),p.jsx(oa,{wrapperStyle:{color:"#e2e8f0"}}),p.jsx(hf,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const tde={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"🏀",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"🔥",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"💯",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"🎯",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"🎯",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"🤝",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"🛡️",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"💪",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"⭐",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"✨",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"🎪",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},nde=t=>{const e=[];return Object.values(tde).forEach(n=>{n.check(t)&&e.push(n)}),e},rde=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return p.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[p.jsx("span",{children:t.emoji}),p.jsx("span",{className:"hidden sm:inline",children:t.name})]})},ide=({badges:t})=>t.length===0?null:p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"🏆"}),p.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),p.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>p.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&p.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),ode=({badges:t})=>t.length===0?p.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):p.jsxs("div",{className:"mt-3",children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"🏆 Achievements"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>p.jsx(rde,{badge:e,size:"sm"},e.id))})]}),ade=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),sde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),lde=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=D.useState(!1),[o,a]=D.useState(""),[s,l]=D.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),h={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(`⚠️ iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
• Google Photos (shareable links)
• iCloud Shared Albums
• Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const m=[...e,h];n(t,m),a(""),l(""),i(!1)}catch(m){console.error("Error adding photo:",m),alert("Error adding photo. Please try again.")}},d=f=>{const h=e.filter(m=>m.id!==f);n(t,h)};return p.jsxs("div",{className:"mt-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"📸 Game Photos"}),p.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[p.jsx(sde,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&p.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[p.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),p.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),p.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),p.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",p.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",p.jsx("br",{}),"📱 ",p.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&p.jsx("div",{className:"space-y-2",children:e.map(f=>p.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[p.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:h=>{h.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:"☁️"})]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),p.jsx("button",{onClick:()=>d(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:"×"})]},f.id))}),e.length===0&&!r&&p.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},ude=({photos:t=[]})=>t.length===0?null:p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx(ade,{className:"w-3 h-3 text-gray-500"}),p.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),p.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>p.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&p.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),cde=lde,fde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function dde({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=D.useRef(null);D.useEffect(()=>{const f=h=>{o.current&&!o.current.contains(h.target)&&(h.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:f.date?f.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},d=(f,h)=>{const m={...e,[f]:h};n(m),setTimeout(()=>r&&r(),400)};return p.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&p.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[p.jsx(fde,{className:"w-3 h-3"}),"Clear"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),p.jsxs("select",{value:e.searchTerm||"",onChange:f=>d("searchTerm",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All opponents"}),a.map((f,h)=>p.jsx("option",{value:f,children:f},h))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),p.jsxs("select",{value:e.dateFilter||"",onChange:f=>d("dateFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All dates"}),s.map((f,h)=>p.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},h))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),p.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>d("outcomeFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All games"}),p.jsx("option",{value:"W",children:"Wins"}),p.jsx("option",{value:"L",children:"Losses"}),p.jsx("option",{value:"T",children:"Ties"})]})]}),l&&p.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&p.jsxs("span",{className:"block",children:["• Opponent: ",e.searchTerm]}),e.dateFilter&&p.jsxs("span",{className:"block",children:["• Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&p.jsxs("span",{className:"block",children:["• Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const hde=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],go=t=>!t||!t.email||t.isAnonymous?!1:hde.includes(t.email.toLowerCase()),zi=t=>go(t),Pp=t=>go(t),pde=t=>go(t),Py=t=>go(t),mde=t=>!t||t.isAnonymous?"guest":go(t)?"admin":"viewer",Xt=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},NM=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),yb=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),Vd=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),Iy=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),gde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),yde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),vde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),bde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),wde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),vb=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m6 0l-3-3m3 3l-3 3"})]}),_de=({isExpanded:t,className:e=""})=>p.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),xde=({game:t})=>t.isOffline||t.tempId?p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-full font-medium",title:"Saved offline, will sync when online",children:[p.jsx(vb,{className:"w-3 h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Offline"})]}):t.isOfflineUpdated?p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full font-medium",title:"Updated offline, will sync when online",children:[p.jsx(wde,{className:"w-3 h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Updated"})]}):null,tt=({label:t,value:e,onClick:n,clickable:r,onEdit:i,editable:o,isEditing:a,editValue:s,onEditChange:l,onSave:u,onCancel:d,gameId:f})=>p.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""} ${a?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-600":""}`,onClick:r?n:void 0,children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx("span",{className:"text-xs text-orange-500",children:t}),o&&!a&&p.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-0.5 text-gray-400 hover:text-blue-500 transition",title:`Edit ${t}`,children:p.jsx(NM,{className:"w-2 h-2"})})]}),a?p.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[p.jsx("input",{type:"number",value:s===0?"":s,onChange:h=>l(h.target.value===""?0:parseInt(h.target.value)||0),className:"w-full text-center text-sm px-1 py-0.5 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0",onClick:h=>h.stopPropagation(),onFocus:h=>h.target.select(),onKeyDown:h=>{h.key==="Enter"&&(h.stopPropagation(),u()),h.key==="Escape"&&(h.stopPropagation(),d())},autoFocus:!0}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:"p-0.5 text-green-500 hover:text-green-600 bg-green-50 dark:bg-green-900/20 rounded",title:"Save",children:p.jsx(yb,{className:"w-3 h-3"})}),p.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"p-0.5 text-gray-500 hover:text-gray-600 bg-gray-50 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(Vd,{className:"w-3 h-3"})})]})]}):p.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function Sde(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function Ede({user:t,stats:e=[],teams:n=[],onDeleteGame:r,onUpdateGamePhotos:i,onUpdateGame:o,onDeleteTeam:a,onAddTeam:s,externalFilters:l={},isUserAdmin:u=!1,isOnline:d=!0,onManualSync:f,syncInProgress:h=!1}){D.useState("");const[m,g]=D.useState(null),[v,_]=D.useState(""),[b,w]=D.useState(""),[x,k]=D.useState(""),[T,P]=D.useState(!1),[E,S]=D.useState([]),[I,C]=D.useState(!0),[O,R]=D.useState(1),[N,W]=D.useState(null),[U,$]=D.useState(null);D.useState(!1);const[G,V]=D.useState([]),[B,Q]=D.useState(!1),[ie,X]=D.useState(!1),[q,fe]=D.useState(null),[oe,we]=D.useState(null),[ne,me]=D.useState({}),[ee,ve]=D.useState(null),xe=4,Y=D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ce=>{ce.opponent&&M.add(ce.opponent.trim())}),Array.from(M)},[e]);D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ce=>{ce.location&&M.add(ce.location.trim())}),Array.from(M)},[e]),D.useMemo(()=>{const M=new Map;for(const ce of n)ce&&ce.id&&!M.has(ce.name.toLowerCase())&&M.set(ce.name.toLowerCase(),ce);return Array.from(M.values())},[n]),D.useMemo(()=>v?Y.filter(M=>M.toLowerCase().includes(v.toLowerCase())).slice(0,7):[],[Y,v]);const Ve=(e||[]).filter(M=>M.isOffline||M.tempId||M.isOfflineUpdated).length,ye=(e||[]).filter(M=>!M.isOffline&&!M.tempId).reduce((M,ce)=>(M.points=(M.points||0)+(parseInt(ce.points,10)||0),M.fg2m=(M.fg2m||0)+(parseInt(ce.fg2m,10)||0),M.fg2a=(M.fg2a||0)+(parseInt(ce.fg2a,10)||0),M.fg3m=(M.fg3m||0)+(parseInt(ce.fg3m,10)||0),M.fg3a=(M.fg3a||0)+(parseInt(ce.fg3a,10)||0),M.ftm=(M.ftm||0)+(parseInt(ce.ftm,10)||0),M.fta=(M.fta||0)+(parseInt(ce.fta,10)||0),M.rebounds=(M.rebounds||0)+(parseInt(ce.rebounds,10)||0),M.assists=(M.assists||0)+(parseInt(ce.assists,10)||0),M.steals=(M.steals||0)+(parseInt(ce.steals,10)||0),M.blocks=(M.blocks||0)+(parseInt(ce.blocks,10)||0),M.fouls=(M.fouls||0)+(parseInt(ce.fouls,10)||0),M.turnovers=(M.turnovers||0)+(parseInt(ce.turnovers,10)||0),M.gamesPlayed=(M.gamesPlayed||0)+1,M),{}),Qe=(ye.fg2m||0)+(ye.fg3m||0),We=(ye.fg2a||0)+(ye.fg3a||0),at=(M,ce)=>!ce||ce===0?"0%":`${Math.round(M/ce*100)}%`,Bt=(M,ce)=>!ce||ce===0?M>0?`${M.toFixed(1)}`:"0.0":(M/ce).toFixed(2),an=D.useMemo(()=>{let M=[...e||[]];return v&&(M=M.filter(ce=>(ce.opponent||"").toLowerCase().includes(v.toLowerCase()))),b&&(M=M.filter(ce=>{let Ge="";return ce.timestamp?Ge=new Date(ce.timestamp).toISOString().split("T")[0]:ce.date&&(Ge=ce.date),Ge===b})),x&&(M=M.filter(ce=>ce.outcome===x)),M.sort((ce,Ge)=>ce.timestamp<Ge.timestamp?1:ce.timestamp>Ge.timestamp?-1:0),M},[e,v,b,x]),sn=D.useMemo(()=>{const M=(O-1)*xe;return an.slice(M,M+xe)},[an,O]),K=Math.ceil(an.length/xe),ue=(M,ce,Ge={})=>{if(!zi(t)){Xt("edit games");return}fe(M),we(ce),me(Ge),ve(null)},re=(M,ce,Ge)=>{if(!zi(t)){Xt("edit stats");return}fe(M),we("stats"),ve(ce),me({[ce]:Ge})},de=()=>{fe(null),we(null),me({}),ve(null)},Ae=async()=>{if(!(!q||!o))try{if(oe==="stats"){const M={...ne};if(["fg2m","fg3m","ftm"].some(ce=>ce in M)){const ce=e.find(Ge=>Ge.id===q);if(ce){const Ge={...ce,...M};M.points=Ge.fg2m*2+Ge.fg3m*3+Ge.ftm}}await o(q,M)}else await o(q,ne);de()}catch(M){console.error("Error updating game:",M),alert("Failed to update game. Please try again.")}},Me=(M,ce)=>{const Ge=e.filter(Vn=>!Vn.isOffline&&!Vn.tempId);if(M==="gamesPlayed")g({statKey:M,statName:"Games Played per Age",data:Sde(Ge)});else{const Vn=[...Ge].sort((qe,le)=>(qe.timestamp||0)-(le.timestamp||0)).map(qe=>({value:M==="assistTurnoverRatio"?qe.turnovers?(qe.assists/qe.turnovers).toFixed(2):"0.00":qe[M]||0,date:new Date(qe.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:qe.teamName,opponent:qe.opponent}));g({statKey:M,statName:ce,data:Vn})}},Ze=()=>{if(!u){Xt("select and delete games");return}Q(!B),V([])},wt=M=>{u&&V(ce=>ce.includes(M)?ce.filter(Ge=>Ge!==M):[...ce,M])},Nr=()=>{if(!u)return;const M=sn.map(ce=>ce.id);V(M)},Ca=()=>{V([])},Tl=()=>{if(!Pp(t)){Xt("delete games");return}X(!0)},Al=()=>{G.forEach(M=>{r(M)}),V([]),Q(!1),X(!1)},Xr=M=>{if(!Pp(t)){Xt("delete games");return}W(M)},Co=()=>{N&&(r(N),W(null))},pf=()=>{U&&(a(U),$(null))},Pl=M=>{B||S(ce=>ce.includes(M)?ce.filter(Ge=>Ge!==M):[...ce,M])},Ct=M=>M==null||M===""?0:M,ng=M=>{if(!M)return"No date";const ce=new Date(M);return ce.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+ce.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return p.jsxs("div",{children:[m&&p.jsx(ede,{graphData:m,onClose:()=>g(null)}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-1 space-y-6",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),Ve>0&&p.jsx("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded text-xs text-blue-800 dark:text-blue-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(vb,{className:"w-3 h-3"}),p.jsxs("span",{children:[Ve," game",Ve!==1?"s":""," saved offline"]})]}),p.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:"Use settings to sync →"})]})}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[p.jsx(tt,{label:"Games Played",value:ye.gamesPlayed||0}),p.jsx(tt,{label:"Points",value:ye.points||0,clickable:!0,onClick:()=>Me("points","Points")}),p.jsx(tt,{label:"Rebounds",value:ye.rebounds||0,clickable:!0,onClick:()=>Me("rebounds","Rebounds")}),p.jsx(tt,{label:"Assists",value:ye.assists||0,clickable:!0,onClick:()=>Me("assists","Assists")}),p.jsx(tt,{label:"Steals",value:ye.steals||0,clickable:!0,onClick:()=>Me("steals","Steals")}),p.jsx(tt,{label:"Blocks",value:ye.blocks||0,clickable:!0,onClick:()=>Me("blocks","Blocks")}),p.jsx(tt,{label:"Fouls",value:ye.fouls||0,clickable:!0,onClick:()=>Me("fouls","Fouls")}),p.jsx(tt,{label:"Turnovers",value:ye.turnovers||0,clickable:!0,onClick:()=>Me("turnovers","Turnovers")}),p.jsx(tt,{label:"A/T Ratio",value:Bt(ye.assists,ye.turnovers)})]}),p.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),p.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[p.jsx(tt,{label:"FG%",value:at(Qe,We)}),p.jsx(tt,{label:"FT%",value:at(ye.ftm,ye.fta)}),p.jsx(tt,{label:"2-Point %",value:at(ye.fg2m,ye.fg2a)}),p.jsx(tt,{label:"3-Point %",value:at(ye.fg3m,ye.fg3a)})]})]})}),p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>C(!I),children:[p.jsx(_de,{isExpanded:I}),p.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(v||b||x)&&p.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",an.length," of ",(e||[]).length," games",v&&p.jsxs("span",{className:"block text-xs",children:["• Opponent: ",v]}),b&&p.jsxs("span",{className:"block text-xs",children:["• Date: ",new Date(b).toLocaleDateString()]}),x&&p.jsxs("span",{className:"block text-xs",children:["• Result: ",x==="W"?"Wins":x==="L"?"Losses":"Ties"]})]})]}),I&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"flex items-center gap-2",children:u&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:Ze,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${B?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:B?"Cancel selection":"Select multiple games",children:[B?p.jsx(Vd,{className:"h-4 w-4 sm:h-3 sm:w-3"}):p.jsx(gde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:B?"Cancel":"Select"}),p.jsx("span",{className:"hidden sm:inline",children:B?"Cancel":"Select"})]}),B&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:Nr,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[p.jsx(yde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"All"}),p.jsx("span",{className:"hidden sm:inline",children:"All"})]}),p.jsxs("button",{onClick:Ca,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[p.jsx(vde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Clear"}),p.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[u&&B&&G.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[G.length," selected"]}),p.jsxs("button",{onClick:Tl,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[p.jsx(Ap,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Delete"}),p.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{"data-filter-button":"true",onClick:M=>{M.stopPropagation(),P(!T)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${v||b||x?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[p.jsx(Wfe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Filter"}),p.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),T&&p.jsx(dde,{games:e,filters:{searchTerm:v,dateFilter:b,outcomeFilter:x},onFiltersChange:M=>{_(M.searchTerm||""),w(M.dateFilter||""),k(M.outcomeFilter||""),R(1)},onClose:()=>P(!1)})]})]})]}),p.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:sn.length>0?sn.map(M=>{const ce=E.includes(M.id),Ge=G.includes(M.id),Vn=nde(M),qe=q===M.id;return p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[p.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>B&&u?wt(M.id):Pl(M.id),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[B&&u&&p.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Ge?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:le=>{le.stopPropagation(),wt(M.id)},children:Ge&&p.jsx(bde,{className:"w-3 h-3 text-white"})}),(!B||!u)&&p.jsx(Jfe,{className:`transition-transform duration-200 text-black dark:text-white ${ce?"rotate-90":""}`,style:{minWidth:20}}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:ng(M.timestamp)}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[M.teamName," vs ",M.opponent]})}),M.location&&p.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 italic",children:[p.jsx(Iy,{className:"w-3 h-3"}),p.jsx("span",{children:M.location})]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[M.adminName&&p.jsxs("p",{className:"italic text-xs text-gray-700 dark:text-gray-200",children:["Scored by ",M.adminName]}),p.jsx(xde,{game:M})]}),p.jsx(ide,{badges:Vn}),p.jsx(ude,{photos:M.photos})]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${M.outcome==="W"?"bg-green-100 text-green-800":M.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[M.outcome||"T"," ",Ct(M.myTeamScore),"-",Ct(M.opponentScore)]}),u&&!B&&p.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:le=>{le.stopPropagation(),Xr(M.id)},title:"Delete Game",children:p.jsx(Ap,{className:"w-4 h-4"})})]})]}),ce&&!B&&p.jsxs("div",{className:"p-4 pt-2 relative",children:[(M.isOffline||M.tempId||M.isOfflineUpdated)&&p.jsx("div",{className:"mb-4 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-sm",children:p.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[p.jsx(vb,{className:"w-4 h-4"}),p.jsx("span",{children:M.isOffline||M.tempId?"This game was created offline and will sync when online.":"This game has offline updates that will sync when online."})]})}),u&&p.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-600",children:p.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[qe&&oe==="score"?p.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg border border-orange-200 dark:border-orange-600",children:[p.jsx("input",{type:"number",value:ne.myTeamScore===0?"":ne.myTeamScore,onChange:le=>me({...ne,myTeamScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),autoFocus:!0}),p.jsx("span",{className:"text-sm font-bold",children:"-"}),p.jsx("input",{type:"number",value:ne.opponentScore===0?"":ne.opponentScore,onChange:le=>me({...ne,opponentScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),Ae()),le.key==="Escape"&&(le.stopPropagation(),de())}}),p.jsx("button",{onClick:le=>{le.stopPropagation(),Ae()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:p.jsx(yb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:le=>{le.stopPropagation(),de()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(Vd,{className:"w-4 h-4"})})]}):p.jsxs("button",{onClick:le=>{le.stopPropagation(),ue(M.id,"score",{myTeamScore:M.myTeamScore||0,opponentScore:M.opponentScore||0})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Score",children:[p.jsx(NM,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),qe&&oe==="location"?p.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/30 p-2 rounded-lg border border-green-200 dark:border-green-600",children:[p.jsx("input",{type:"text",value:ne.location||"",onChange:le=>me({...ne,location:le.target.value}),className:"text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[120px]",onClick:le=>le.stopPropagation(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),Ae()),le.key==="Escape"&&(le.stopPropagation(),de())},onFocus:le=>le.target.select(),placeholder:"Location",autoFocus:!0}),p.jsx("button",{onClick:le=>{le.stopPropagation(),Ae()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:p.jsx(yb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:le=>{le.stopPropagation(),de()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(Vd,{className:"w-4 h-4"})})]}):M.location?p.jsxs("button",{onClick:le=>{le.stopPropagation(),ue(M.id,"location",{location:M.location})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Location",children:[p.jsx(Iy,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Location"})]}):p.jsxs("button",{onClick:le=>{le.stopPropagation(),ue(M.id,"location",{location:""})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Add Location",children:[p.jsx(Iy,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[p.jsx(tt,{label:"Points",value:Ct(M.points),editable:u,isEditing:qe&&oe==="stats"&&ee==="points",editValue:ne.points,onEdit:()=>re(M.id,"points",M.points||0),onEditChange:le=>me({...ne,points:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"2PT Made",value:Ct(M.fg2m),editable:u,isEditing:qe&&oe==="stats"&&ee==="fg2m",editValue:ne.fg2m,onEdit:()=>re(M.id,"fg2m",M.fg2m||0),onEditChange:le=>me({...ne,fg2m:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"2PT Att",value:Ct(M.fg2a),editable:u,isEditing:qe&&oe==="stats"&&ee==="fg2a",editValue:ne.fg2a,onEdit:()=>re(M.id,"fg2a",M.fg2a||0),onEditChange:le=>me({...ne,fg2a:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"3PT Made",value:Ct(M.fg3m),editable:u,isEditing:qe&&oe==="stats"&&ee==="fg3m",editValue:ne.fg3m,onEdit:()=>re(M.id,"fg3m",M.fg3m||0),onEditChange:le=>me({...ne,fg3m:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"3PT Att",value:Ct(M.fg3a),editable:u,isEditing:qe&&oe==="stats"&&ee==="fg3a",editValue:ne.fg3a,onEdit:()=>re(M.id,"fg3a",M.fg3a||0),onEditChange:le=>me({...ne,fg3a:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"FT Made",value:Ct(M.ftm),editable:u,isEditing:qe&&oe==="stats"&&ee==="ftm",editValue:ne.ftm,onEdit:()=>re(M.id,"ftm",M.ftm||0),onEditChange:le=>me({...ne,ftm:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"FT Att",value:Ct(M.fta),editable:u,isEditing:qe&&oe==="stats"&&ee==="fta",editValue:ne.fta,onEdit:()=>re(M.id,"fta",M.fta||0),onEditChange:le=>me({...ne,fta:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Rebounds",value:Ct(M.rebounds),editable:u,isEditing:qe&&oe==="stats"&&ee==="rebounds",editValue:ne.rebounds,onEdit:()=>re(M.id,"rebounds",M.rebounds||0),onEditChange:le=>me({...ne,rebounds:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Assists",value:Ct(M.assists),editable:u,isEditing:qe&&oe==="stats"&&ee==="assists",editValue:ne.assists,onEdit:()=>re(M.id,"assists",M.assists||0),onEditChange:le=>me({...ne,assists:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Steals",value:Ct(M.steals),editable:u,isEditing:qe&&oe==="stats"&&ee==="steals",editValue:ne.steals,onEdit:()=>re(M.id,"steals",M.steals||0),onEditChange:le=>me({...ne,steals:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Blocks",value:Ct(M.blocks),editable:u,isEditing:qe&&oe==="stats"&&ee==="blocks",editValue:ne.blocks,onEdit:()=>re(M.id,"blocks",M.blocks||0),onEditChange:le=>me({...ne,blocks:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Fouls",value:Ct(M.fouls),editable:u,isEditing:qe&&oe==="stats"&&ee==="fouls",editValue:ne.fouls,onEdit:()=>re(M.id,"fouls",M.fouls||0),onEditChange:le=>me({...ne,fouls:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"Turnovers",value:Ct(M.turnovers),editable:u,isEditing:qe&&oe==="stats"&&ee==="turnovers",editValue:ne.turnovers,onEdit:()=>re(M.id,"turnovers",M.turnovers||0),onEditChange:le=>me({...ne,turnovers:le}),onSave:Ae,onCancel:de,gameId:M.id}),p.jsx(tt,{label:"A/T Ratio",value:Bt(Ct(M.assists),Ct(M.turnovers)),editable:!1})]}),p.jsx(ode,{badges:Vn}),u&&p.jsx(cde,{gameId:M.id,photos:M.photos||[],onPhotosUpdate:i||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},M.id)}):p.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),K>1&&p.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[p.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>R(M=>Math.max(1,M-1)),disabled:O===1,children:"Prev"}),p.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",O," of ",K]}),p.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>R(M=>Math.min(K,M+1)),disabled:O===K,children:"Next"})]})]})]})]}),u&&ie&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",G.length," Games?"]}),p.jsxs("p",{className:"mb-6 text-gray-900 dark:text-white",children:["Are you sure you want to delete ",G.length," selected game",G.length!==1?"s":"","? This cannot be undone."]}),p.jsxs("div",{className:"flex gap-4 justify-end",children:[p.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white",onClick:()=>X(!1),children:"Cancel"}),p.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Al,children:["Delete ",G.length," Game",G.length!==1?"s":""]})]})]})}),u&&N&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),p.jsx("p",{className:"mb-6 text-gray-900 dark:text-white",children:"Are you sure you want to delete this game? This cannot be undone."}),p.jsxs("div",{className:"flex gap-4 justify-end",children:[p.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>W(null),children:"Cancel"}),p.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Co,children:"Delete"})]})]})}),u&&U&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),p.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),p.jsx("div",{className:"flex gap-4 justify-end",children:p.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:pf,children:"Delete"})})]})})]})}var ky;let ct=(ky=class{static savePendingGame(e){const n=this.getPendingGames(),r={...e,tempId:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,offlineCreatedAt:new Date().toISOString()};return n.push(r),localStorage.setItem(this.KEYS.PENDING_GAMES,JSON.stringify(n)),r.tempId}static getPendingGames(){const e=localStorage.getItem(this.KEYS.PENDING_GAMES);return e?JSON.parse(e):[]}static removePendingGame(e){const r=this.getPendingGames().filter(i=>i.tempId!==e);localStorage.setItem(this.KEYS.PENDING_GAMES,JSON.stringify(r))}static savePendingUpdate(e,n){const r=this.getPendingUpdates();r[e]={...r[e],...n,timestamp:Date.now(),offlineModifiedAt:new Date().toISOString()},localStorage.setItem(this.KEYS.PENDING_UPDATES,JSON.stringify(r))}static getPendingUpdates(){const e=localStorage.getItem(this.KEYS.PENDING_UPDATES);return e?JSON.parse(e):{}}static clearPendingUpdate(e){const n=this.getPendingUpdates();delete n[e],localStorage.setItem(this.KEYS.PENDING_UPDATES,JSON.stringify(n))}static savePendingLiveUpdate(e,n){const r=this.getPendingLiveUpdates();r[e]||(r[e]=[]),r[e].push({...n,timestamp:Date.now(),offlineModifiedAt:new Date().toISOString()}),localStorage.setItem(this.KEYS.PENDING_LIVE_UPDATES,JSON.stringify(r))}static getPendingLiveUpdates(){const e=localStorage.getItem(this.KEYS.PENDING_LIVE_UPDATES);return e?JSON.parse(e):{}}static clearPendingLiveUpdates(e){const n=this.getPendingLiveUpdates();delete n[e],localStorage.setItem(this.KEYS.PENDING_LIVE_UPDATES,JSON.stringify(n))}static getPendingCount(){const e=this.getPendingGames().length,n=Object.keys(this.getPendingUpdates()).length,r=Object.keys(this.getPendingLiveUpdates()).length;return e+n+r}static cacheData(e,n){const r=this.getCachedData();r[e]={data:n,cachedAt:new Date().toISOString()},localStorage.setItem(this.KEYS.CACHED_DATA,JSON.stringify(r))}static getCachedData(e=null){var i;const n=localStorage.getItem(this.KEYS.CACHED_DATA),r=n?JSON.parse(n):{};return e?(i=r[e])==null?void 0:i.data:r}static clearCache(){localStorage.removeItem(this.KEYS.CACHED_DATA)}static getSyncStatus(){return localStorage.getItem(this.KEYS.SYNC_STATUS)||"online"}static setSyncStatus(e){localStorage.setItem(this.KEYS.SYNC_STATUS,e)}static clearAllOfflineData(){Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)})}static getOfflineSummary(){return{pendingGames:this.getPendingGames().length,pendingUpdates:Object.keys(this.getPendingUpdates()).length,pendingLiveUpdates:Object.keys(this.getPendingLiveUpdates()).length,totalPending:this.getPendingCount(),cacheKeys:Object.keys(this.getCachedData()),syncStatus:this.getSyncStatus()}}static savePendingTeam(e){const n=this.getPendingTeams(),r={...e,tempId:`temp_team_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,offlineCreatedAt:new Date().toISOString()};return n.push(r),localStorage.setItem("sahil_stats_pending_teams",JSON.stringify(n)),r.tempId}static getPendingTeams(){const e=localStorage.getItem("sahil_stats_pending_teams");return e?JSON.parse(e):[]}static removePendingTeam(e){const r=this.getPendingTeams().filter(i=>i.tempId!==e);localStorage.setItem("sahil_stats_pending_teams",JSON.stringify(r))}},Of(ky,"KEYS",{PENDING_GAMES:"sahil_stats_pending_games",PENDING_UPDATES:"sahil_stats_pending_updates",PENDING_LIVE_UPDATES:"sahil_stats_pending_live_updates",CACHED_DATA:"sahil_stats_cached_data",SYNC_STATUS:"sahil_stats_sync_status"}),ky);class eo{static addSyncCallback(e){this.syncCallbacks.push(e)}static removeSyncCallback(e){this.syncCallbacks=this.syncCallbacks.filter(n=>n!==e)}static notifyCallbacks(e,n=null,r=null){this.syncCallbacks.forEach(i=>{try{i({status:e,progress:n,error:r})}catch(o){console.error("Sync callback error:",o)}})}static async syncAllOfflineData(e){if(this.syncInProgress)return console.log("Sync already in progress"),{success:!1,message:"Sync already in progress"};if(!e)return console.log("No user provided for sync"),{success:!1,message:"No user provided"};this.syncInProgress=!0,this.notifyCallbacks("started");const n={games:{synced:0,failed:0},updates:{synced:0,failed:0},liveUpdates:{synced:0,failed:0}};try{await this.syncPendingGames(n),await this.syncPendingUpdates(n),await this.syncPendingLiveUpdates(n);const r=n.games.synced+n.updates.synced+n.liveUpdates.synced,i=n.games.failed+n.updates.failed+n.liveUpdates.failed;return this.notifyCallbacks("completed",n),{success:i===0,results:n,message:`Synced ${r} items${i>0?`, ${i} failed`:""}`}}catch(r){return console.error("Sync failed:",r),this.notifyCallbacks("error",null,r),{success:!1,message:"Sync failed: "+r.message,error:r}}finally{this.syncInProgress=!1}}static async syncPendingTeams(e){const n=ct.getPendingTeams();for(let r=0;r<n.length;r++){const i=n[r];try{this.notifyCallbacks("syncing",{type:"teams",current:r+1,total:n.length,item:i.name});const{tempId:o,offlineCreatedAt:a,...s}=i,l=await Go(xn(Be,"teams"),s);ct.removePendingTeam(o),e.teams=e.teams||{synced:0,failed:0},e.teams.synced++,console.log(`Synced team: ${i.name} (${o} -> ${l.id})`)}catch(o){console.error(`Failed to sync team ${i.tempId}:`,o),e.teams=e.teams||{synced:0,failed:0},e.teams.failed++}}}static async syncPendingGames(e){const n=ct.getPendingGames();for(let r=0;r<n.length;r++){const i=n[r];try{this.notifyCallbacks("syncing",{type:"games",current:r+1,total:n.length,item:`${i.teamName} vs ${i.opponent}`});const{tempId:o,offlineCreatedAt:a,...s}=i,l=await Go(xn(Be,"games"),s);ct.removePendingGame(o),e.games.synced++,console.log(`Synced game: ${i.teamName} vs ${i.opponent} (${o} -> ${l.id})`)}catch(o){console.error(`Failed to sync game ${i.tempId}:`,o),e.games.failed++}}}static async syncPendingUpdates(e){const n=ct.getPendingUpdates(),r=Object.keys(n);for(let i=0;i<r.length;i++){const o=r[i],a=n[o];try{this.notifyCallbacks("syncing",{type:"updates",current:i+1,total:r.length,item:`Game ${o}`});const{timestamp:s,offlineModifiedAt:l,...u}=a;await Sr(Mt(Be,"games",o),u),ct.clearPendingUpdate(o),e.updates.synced++,console.log(`Synced update for game: ${o}`)}catch(s){console.error(`Failed to sync update for game ${o}:`,s),e.updates.failed++}}}static async syncPendingLiveUpdates(e){const n=ct.getPendingLiveUpdates(),r=Object.keys(n);for(let i=0;i<r.length;i++){const o=r[i],a=n[o];try{this.notifyCallbacks("syncing",{type:"liveUpdates",current:i+1,total:r.length,item:`Live Game ${o}`});const s=a.sort((l,u)=>l.timestamp-u.timestamp);for(const l of s){const{timestamp:u,offlineModifiedAt:d,...f}=l;await Sr(Mt(Be,"liveGames",o),f)}ct.clearPendingLiveUpdates(o),e.liveUpdates.synced++,console.log(`Synced ${a.length} live updates for game: ${o}`)}catch(s){console.error(`Failed to sync live updates for game ${o}:`,s),e.liveUpdates.failed++}}}static async forceSyncNow(e){return console.log("Force sync triggered"),await this.syncAllOfflineData(e)}static isSyncing(){return this.syncInProgress}static getPendingCount(){return ct.getPendingCount()}}Of(eo,"syncInProgress",!1),Of(eo,"syncCallbacks",[]);const kI=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),Tde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.5 8.5a5 5 0 017 0M5 12.5a9 9 0 0114 0M12 21l0-8.5m-7-2.5a13 13 0 0114 0"})}),OI=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Ade=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});function Pde({isOnline:t,user:e,size:n="sm",showText:r=!0,onClick:i=null}){const[o,a]=D.useState(null),[s,l]=D.useState(0),[u,d]=D.useState(null),f={xs:{icon:"w-3 h-3",text:"text-xs",padding:"px-1 py-0.5"},sm:{icon:"w-4 h-4",text:"text-xs",padding:"px-2 py-1"},md:{icon:"w-5 h-5",text:"text-sm",padding:"px-3 py-1.5"},lg:{icon:"w-6 h-6",text:"text-base",padding:"px-4 py-2"}},h=f[n]||f.sm;D.useEffect(()=>{const g=()=>{l(ct.getPendingCount())};g();const v=setInterval(g,1e3);return()=>clearInterval(v)},[]),D.useEffect(()=>{const g=({status:v,progress:_,error:b})=>{a(v),d(_),(v==="completed"||v==="error")&&setTimeout(()=>{a(null),d(null)},3e3)};return eo.addSyncCallback(g),()=>{eo.removeSyncCallback(g)}},[]);const m=async()=>{if(!(!e||eo.isSyncing()||s===0))try{const g=await eo.forceSyncNow(e);console.log("Manual sync result:",g)}catch(g){console.error("Manual sync failed:",g)}};if(o==="started"||o==="syncing")return p.jsxs("div",{className:`flex items-center gap-1 text-blue-500 ${h.padding} rounded-md bg-blue-50 dark:bg-blue-900/20`,children:[p.jsx(kI,{className:`${h.icon} animate-spin`}),r&&p.jsx("span",{className:h.text,children:u?`Syncing ${u.item}...`:"Syncing..."})]});if(o==="completed")return p.jsxs("div",{className:`flex items-center gap-1 text-green-500 ${h.padding} rounded-md bg-green-50 dark:bg-green-900/20`,children:[p.jsx(OI,{className:h.icon}),r&&p.jsx("span",{className:h.text,children:"Synced!"})]});if(o==="error")return p.jsxs("div",{className:`flex items-center gap-1 text-red-500 ${h.padding} rounded-md bg-red-50 dark:bg-red-900/20`,children:[p.jsx(Ade,{className:h.icon}),r&&p.jsx("span",{className:h.text,children:"Sync failed"})]});if(!t)return p.jsxs("div",{className:`flex items-center gap-1 text-orange-500 ${h.padding} rounded-md bg-orange-50 dark:bg-orange-900/20`,children:[p.jsx(Tde,{className:h.icon}),r&&p.jsxs("span",{className:h.text,children:["Offline",s>0&&` (${s})`]})]});if(s>0){const g=i?"button":"div";return p.jsxs(g,{className:`flex items-center gap-1 text-amber-600 dark:text-amber-400 ${h.padding} rounded-md bg-amber-50 dark:bg-amber-900/20 ${i?"hover:bg-amber-100 dark:hover:bg-amber-800/30 cursor-pointer transition-colors":""}`,onClick:i||m,title:i?void 0:"Click to sync now",children:[p.jsx(kI,{className:h.icon}),r&&p.jsxs("span",{className:h.text,children:[s," pending"]})]})}return n==="xs"||!r?null:p.jsxs("div",{className:`flex items-center gap-1 text-green-500 ${h.padding}`,children:[p.jsx(OI,{className:h.icon}),r&&p.jsx("span",{className:h.text,children:"Online"})]})}const Ide=({active:t})=>p.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}}),kde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),Ode=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.5 8.5a5 5 0 007 0M5 12.5a9 9 0 0014 0M12 21l0-8.5m-7-2.5a13 13 0 0014 0"})}),CI=({className:t="",spinning:e=!1})=>p.jsx("svg",{className:`${t} ${e?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})});function yd({user:t,onSignOut:e,setPage:n,theme:r,toggleTheme:i,page:o,liveGameId:a,goToLiveGame:s,openSettingsModal:l,onSignIn:u,isUserAdmin:d=!1,isOnline:f=!0,onManualSync:h,syncInProgress:m=!1}){const[g,v]=D.useState(0),_=!!a;D.useEffect(()=>{const P=()=>{v(ct.getPendingCount())};P();const E=setInterval(P,2e3);return()=>clearInterval(E)},[]);const b=()=>d?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80",w=()=>{_&&(o==="live_admin"&&d?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&s():s())},x=p.jsxs("button",{disabled:!_,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${_?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:w,title:_?"Watch Live Game":"No Live Game In Progress",children:[p.jsx(Ide,{active:_}),p.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),k=()=>{if(!d){alert("Access denied. Only administrators can access settings.");return}l()},T=()=>{!d||m||g===0||h()};return p.jsx("header",{className:`${b()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,children:p.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:`flex items-center gap-2 cursor-pointer group relative ${d?"p-1 sm:p-3 rounded-lg sm:rounded-xl bg-white dark:bg-gray-800 shadow-lg sm:shadow-xl border border-orange-200 dark:border-orange-700 hover:shadow-xl sm:hover:shadow-2xl transition-all duration-300":""}`,onClick:()=>{n(d?"game_setup":"dashboard")},children:[p.jsx("div",{className:`flex items-center justify-center text-lg ${d?"w-10 h-10":""}`,children:p.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:"🏀"})}),p.jsx("div",{className:"hidden sm:flex flex-col",children:p.jsx("span",{className:`text-lg font-bold ${d?"text-orange-600 dark:text-orange-400":"bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent"}`,children:"Sahil's Stats"})})]}),x,p.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all ${f?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300 shadow-md":"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 shadow-md"}`,children:[f?p.jsx(kde,{className:"w-3 h-3"}):p.jsx(Ode,{className:"w-3 h-3"}),p.jsx("span",{className:"font-bold tracking-wide",children:f?"ONLINE":"OFFLINE"}),!f&&g>0&&p.jsx("span",{className:"bg-red-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold ml-1",children:g})]}),f&&g>0&&d&&p.jsxs("button",{onClick:T,disabled:m,className:"flex items-center gap-2 px-3 py-2 bg-orange-100 dark:bg-orange-900/30 hover:bg-orange-200 dark:hover:bg-orange-800/40 text-orange-700 dark:text-orange-300 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 shadow-sm",title:`Sync ${g} offline items to Firebase`,children:[p.jsx(CI,{className:"w-4 h-4",spinning:m}),p.jsx("span",{className:"hidden sm:inline",children:m?"Syncing...":`Sync ${g}`}),p.jsx("span",{className:"sm:hidden",children:m?"...":g})]})]}),p.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[p.jsx("button",{onClick:k,disabled:!d,className:`flex items-center justify-center rounded-lg p-2 transition-all ${d?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:d?"Settings":"Settings (Admin Only)",children:p.jsx(Gfe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),p.jsx("button",{onClick:()=>n("dashboard"),className:`flex items-center justify-center rounded-lg p-2 transition-all ${d?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200"}`,title:"Dashboard",children:p.jsx(Qfe,{className:"h-5 w-5"})}),d&&p.jsx("div",{className:"hidden lg:block",children:p.jsx(Pde,{isOnline:f,user:t,size:"xs",showText:!1,onClick:!m&&g>0?T:void 0})}),t&&!t.isAnonymous?p.jsx("button",{onClick:e,className:`rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all ${d?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-red-500 hover:bg-red-600 text-white"}`,title:"Sign Out",children:p.jsx(Kfe,{className:"h-5 w-5"})}):u&&p.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:p.jsx(Hfe,{className:"h-5 w-5"})})]})]}),!f&&d&&g>0&&p.jsx("div",{className:"mt-2 lg:hidden flex justify-center",children:p.jsxs("button",{onClick:T,disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-400 text-yellow-900 rounded-full text-xs font-medium transition-colors",children:[p.jsx(CI,{className:"w-3 h-3",spinning:m}),m?"Syncing...":`Sync ${g} items`]})})]})})}function Cde({onSignIn:t}){return p.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx(CM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),p.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),p.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:p.jsx("strong",{children:"🏀 Welcome to Sahil's Stats!"})}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"• Anyone can view games and stats • Family admins can sign in to create and manage games • Click the basketball logo above to view the dashboard"})]}),p.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[p.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[p.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),p.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),p.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),p.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),p.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function En({label:t,value:e,onIncrement:n,onDecrement:r}){return p.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:"−"}),p.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),p.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function bs({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),p.jsx("div",{className:"flex justify-center items-center gap-4",children:a?p.jsx(En,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):p.jsxs(p.Fragment,{children:[p.jsx(En,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),p.jsx(En,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function gx({status:t}){return t==="saving"?p.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const Nde=({isExpanded:t,className:e=""})=>p.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function jde({db:t,gameId:e,user:n,onEndGame:r,isOnline:i}){var ie,X;const[o,a]=D.useState(null),[s,l]=D.useState(""),[u,d]=D.useState(!1),[f,h]=D.useState(null),[m,g]=D.useState(0),[v,_]=D.useState(0),b=D.useRef(null),w=D.useRef(null);D.useEffect(()=>{const q=ns(Mt(t,"liveGames",e),fe=>{if(fe.exists()){const oe={id:fe.id,...fe.data()};w.current=oe.period,a(oe);const we=Date.now();if(oe.isRunning&&oe.clockStartTime){const ne=we-oe.clockStartTime,me=Math.floor(ne/1e3),ee=Math.max(0,oe.clockAtStart-me),ve=Math.max(0,oe.clockAtStart*1e3-ne)/100;g(ee),_(ve)}else g(oe.clock||0),_((oe.clock||0)*10)}else a(null),g(0)});return()=>{q(),b.current&&(clearInterval(b.current),b.current=null)}},[t,e]),D.useEffect(()=>{if(o){if(o.isRunning&&o.clockStartTime){const q=m<=60?100:1e3;b.current=setInterval(()=>{const oe=Date.now()-o.clockStartTime,we=Math.floor(oe/1e3),ne=Math.max(0,o.clockAtStart-we),me=Math.max(0,o.clockAtStart*1e3-oe)/100;g(ne),_(me),ne<=0&&o.isRunning&&x()},q)}else b.current&&(clearInterval(b.current),b.current=null);return()=>{b.current&&(clearInterval(b.current),b.current=null)}}},[o==null?void 0:o.isRunning,o==null?void 0:o.clockStartTime,o==null?void 0:o.clockAtStart,o==null?void 0:o.period,o==null?void 0:o.gameFormat,m,e]);const x=()=>{if(!o)return;const fe=o.gameFormat==="halves"?2:4;o.period===fe?Sr(Mt(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Sr(Mt(t,"liveGames",e),{isRunning:!1,period:o.period+1,clock:o.periodLength*60,clockStartTime:null,clockAtStart:o.periodLength*60})},k=(q,fe)=>{if(!o)return;const oe=q==="home"?"homeScore":"awayScore";if(fe<0&&o[oe]<=0)return;const we={[oe]:Do(fe)};if(!o.isRunning){const me=Date.now();we.isRunning=!0,we.clockStartTime=me,we.clockAtStart=o.clock||o.periodLength*60}let ne;i?ne=Sr(Mt(t,"liveGames",e),we):(OfflineStorage.savePendingLiveUpdate(e,we),ne=Promise.resolve(),a(me=>({...me,[oe]:me[oe]+fe}))),P(ne)},T=(q,fe)=>{const oe=Mt(t,"liveGames",e),we=o.playerStats,ne=Math.max(0,we[q]+fe),me={[`playerStats.${q}`]:ne};if(!o.isRunning){const ve=Date.now();me.isRunning=!0,me.clockStartTime=ve,me.clockAtStart=o.clock||o.periodLength*60}fe>0?(q==="fg2m"&&(me.homeScore=Do(2)),q==="fg3m"&&(me.homeScore=Do(3)),q==="ftm"&&(me.homeScore=Do(1))):fe<0&&(q==="fg2m"&&we.fg2m>0&&(me.homeScore=Do(-2)),q==="fg3m"&&we.fg3m>0&&(me.homeScore=Do(-3)),q==="ftm"&&we.ftm>0&&(me.homeScore=Do(-1))),q==="fg2m"&&fe>0&&ne>we.fg2a&&(me["playerStats.fg2a"]=ne),q==="fg2a"&&fe<0&&ne<we.fg2m&&(me["playerStats.fg2m"]=ne),q==="fg3m"&&fe>0&&ne>we.fg3a&&(me["playerStats.fg3a"]=ne),q==="fg3a"&&fe<0&&ne<we.fg3m&&(me["playerStats.fg3m"]=ne),q==="ftm"&&fe>0&&ne>we.fta&&(me["playerStats.fta"]=ne),q==="fta"&&fe<0&&ne<we.ftm&&(me["playerStats.ftm"]=ne);const ee=Sr(oe,me);P(ee)},P=async q=>{h("saving");try{await q,h("success")}catch{h("error")}finally{setTimeout(()=>{h(null)},1200)}},E=()=>{if(!o)return;const q=Date.now();let fe;if(o.isRunning){const we=o.clockStartTime?Math.floor((q-o.clockStartTime)/1e3):0,ne=Math.max(0,o.clockAtStart-we);fe={isRunning:!1,clock:ne,clockStartTime:null,clockAtStart:ne}}else fe={isRunning:!0,clockStartTime:q,clockAtStart:o.clock||o.periodLength*60};const oe=Sr(Mt(t,"liveGames",e),fe);P(oe)},S=()=>{const q=Mt(t,"liveGames",e),oe=o.gameFormat==="halves"?2:4;o.period===oe?typeof r=="function"&&r(e):Sr(q,{isRunning:!1,period:o.period+1,clock:o.periodLength*60,clockStartTime:null,clockAtStart:o.periodLength*60})},I=()=>{const q=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(q),l("Copied!"),setTimeout(()=>l(""),2e3)};if(!o)return p.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const C=(q,fe)=>{if(q<=59){const oe=Math.floor(fe/10),we=Math.floor(fe%10);return`${oe}.${we}`}else return`${String(Math.floor(q/60)).padStart(2,"0")}:${String(q%60).padStart(2,"0")}`},O=o.playerStats||{},R=o.gameFormat==="halves"?"Half":"Period",W=o.gameFormat==="halves"?2:4,U=o.period===W,$=U&&m===0&&!o.isRunning,G=$||U?"End Game":"Next",V=m<=120||U&&m===0,B=m<=60&&m>0,Q=Math.max(((ie=o.teamName)==null?void 0:ie.length)||1,((X=o.opponent)==null?void 0:X.length)||1);return p.jsxs("div",{className:"h-screen flex flex-col",children:[$&&p.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[p.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),p.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[p.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx(gx,{status:f})}),p.jsx("div",{className:"flex justify-center items-center text-center mb-4 text-gray-900 dark:text-white",children:p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${B?"text-red-500 animate-pulse scale-110 font-bold":V?"text-red-500 animate-pulse":""}`,children:C(m,v)}),p.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[R," ",o.period]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(Q,6)))}px`},children:o.teamName}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[p.jsx("button",{onClick:()=>k("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:o.homeScore<=0,children:"−"}),p.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:o.homeScore}),p.jsx("button",{onClick:()=>k("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(Q,6)))}px`},children:o.opponent}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[p.jsx("button",{onClick:()=>k("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:o.awayScore<=0,children:"−"}),p.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:o.awayScore}),p.jsx("button",{onClick:()=>k("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:p.jsxs("button",{onClick:()=>d(!u),className:"flex flex-col items-center gap-2 w-full",children:[p.jsx(Nde,{isExpanded:!u}),p.jsx("h3",{className:"text-lg font-bold text-orange-500",children:u?"Stats Collapsed":"Live Stats"})]})}),!u&&p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(bs,{label:"2-Pointers",madeValue:O.fg2m,attValue:O.fg2a,onStatChange:T,madeKey:"fg2m",attKey:"fg2a"}),p.jsx(bs,{label:"3-Pointers",madeValue:O.fg3m,attValue:O.fg3a,onStatChange:T,madeKey:"fg3m",attKey:"fg3a"}),p.jsx(bs,{label:"Free Throws",madeValue:O.ftm,attValue:O.fta,onStatChange:T,madeKey:"ftm",attKey:"fta"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx(En,{label:"Rebounds",value:O.rebounds,onIncrement:()=>T("rebounds",1),onDecrement:()=>T("rebounds",-1)}),p.jsx(En,{label:"Assists",value:O.assists,onIncrement:()=>T("assists",1),onDecrement:()=>T("assists",-1)}),p.jsx(En,{label:"Steals",value:O.steals,onIncrement:()=>T("steals",1),onDecrement:()=>T("steals",-1)}),p.jsx(En,{label:"Blocks",value:O.blocks,onIncrement:()=>T("blocks",1),onDecrement:()=>T("blocks",-1)}),p.jsx(En,{label:"Fouls",value:O.fouls,onIncrement:()=>T("fouls",1),onDecrement:()=>T("fouls",-1)}),p.jsx(En,{label:"Turnovers",value:O.turnovers,onIncrement:()=>T("turnovers",1),onDecrement:()=>T("turnovers",-1)})]})]})]}),p.jsx("div",{className:"h-20"})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:p.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsxs("button",{onClick:i?I:null,disabled:!i,className:`w-full py-3 rounded-lg font-bold text-lg flex items-center justify-center ${i?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,title:i?"Share live game link":"Share unavailable offline",children:[s||p.jsx(qfe,{}),!i&&p.jsx("span",{className:"ml-2 text-sm",children:"(Offline)"})]}),p.jsx("button",{onClick:E,className:`w-full py-3 rounded-lg font-bold text-lg ${o.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:$,children:o.isRunning?"Pause":"Start"}),p.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg text-white transition-all duration-300 transform hover:scale-105 ${U?"bg-red-600 hover:bg-red-700 shadow-red-500/50 shadow-lg hover:shadow-red-500/70 hover:shadow-xl animate-pulse":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/50 shadow-lg hover:shadow-orange-500/70 hover:shadow-xl"}`,style:{boxShadow:U?"0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2)":"0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2)"},children:G})]})})})]})]})}function NI({db:t,gameId:e,user:n}){const[r,i]=D.useState(null),[o,a]=D.useState(null),[s,l]=D.useState(0),[u,d]=D.useState(0),f=D.useRef(null);if(D.useEffect(()=>{if(!t||!e)return;const x=Mt(t,"liveGames",e),k=ns(x,T=>{if(T.exists()){const P=T.data();i(P);const E=Date.now();if(P.isRunning&&P.clockStartTime){const S=E-P.clockStartTime,I=Math.floor(S/1e3),C=Math.max(0,P.clockAtStart-I),O=Math.max(0,P.clockAtStart*1e3-S)/100;l(C),d(O)}else l(P.clock||0),d((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{k(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),D.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const x=s<=60?100:1e3;f.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),E=Math.max(0,r.clockAtStart-P),S=Math.max(0,r.clockAtStart*1e3-T)/100;l(E),d(S)},x)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return p.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[p.jsx(CM,{className:"hover:animate-spin-slow transition-transform"}),p.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return p.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const h=r.playerStats||r.sahilStats||{},g=[{label:"Points",value:(Number(h.fg2m)||0)*2+(Number(h.fg3m)||0)*3+(Number(h.ftm)||0)},{label:"2PT Made",value:h.fg2m??0},{label:"2PT Attempted",value:h.fg2a??0},{label:"3PT Made",value:h.fg3m??0},{label:"3PT Attempted",value:h.fg3a??0},{label:"FT Made",value:h.ftm??0},{label:"FT Attempted",value:h.fta??0},{label:"Assists",value:h.assists??0},{label:"Rebounds",value:h.rebounds??0},{label:"Steals",value:h.steals??0},{label:"Fouls",value:h.fouls??0}],v=(x,k)=>{if(x<=59){const T=Math.floor(k/10),P=Math.floor(k%10);return`${T}.${P}`}else return`${String(Math.floor(x/60)).padStart(2,"0")}:${String(x%60).padStart(2,"0")}`},_=r.gameFormat==="halves"?"Half":"Period",b=s<=120,w=s<=60&&s>0;return p.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:p.jsxs("div",{className:"flex justify-around items-center text-center",children:[p.jsxs("div",{className:"w-1/3",children:[p.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.teamName}),p.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.homeScore})]}),p.jsx("div",{className:"w-1/3",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:`text-4xl font-mono tracking-wider  text-gray-900 dark:text-white transition-all duration-300  ${w?"text-red-500 animate-pulse scale-110 font-bold":b?"text-red-500 animate-pulse":""}`,children:v(s,u)}),p.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[_," ",r.period]})]})}),p.jsxs("div",{className:"w-1/3",children:[p.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.opponent}),p.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.awayScore})]})]})}),p.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:p.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[p.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:p.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:g.map(x=>p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[p.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:x.label}),p.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.value})]},x.label))})]})]})}function Rde({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=D.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});D.useEffect(()=>{var m,g,v,_,b,w,x,k,T,P,E,S;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((m=t.playerStats)==null?void 0:m.fg2m)||0,fg2a:t.fg2a||((g=t.playerStats)==null?void 0:g.fg2a)||0,fg3m:t.fg3m||((v=t.playerStats)==null?void 0:v.fg3m)||0,fg3a:t.fg3a||((_=t.playerStats)==null?void 0:_.fg3a)||0,ftm:t.ftm||((b=t.playerStats)==null?void 0:b.ftm)||0,fta:t.fta||((w=t.playerStats)==null?void 0:w.fta)||0,rebounds:t.rebounds||((x=t.playerStats)==null?void 0:x.rebounds)||0,assists:t.assists||((k=t.playerStats)==null?void 0:k.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((E=t.playerStats)==null?void 0:E.fouls)||0,turnovers:t.turnovers||((S=t.playerStats)==null?void 0:S.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,d=(m,g)=>{const v=m==="home"?"myTeamScore":"opponentScore";l(_=>({..._,[v]:Math.max(0,_[v]+g)}))},f=(m,g)=>{l(v=>{const _={...v},b=Math.max(0,v[m]+g);return _[m]=b,m==="fg2m"&&b>v.fg2a&&(_.fg2a=b),m==="fg2a"&&b<v.fg2m&&(_.fg2m=b),m==="fg3m"&&b>v.fg3a&&(_.fg3a=b),m==="fg3a"&&b<v.fg3m&&(_.fg3m=b),m==="ftm"&&b>v.fta&&(_.fta=b),m==="fta"&&b<v.ftm&&(_.ftm=b),_})},h=()=>{n(s)};return t?p.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:o&&p.jsx(gx,{status:o})}),p.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[p.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[p.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),p.jsx("div",{className:"flex items-center",children:p.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),p.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),p.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[p.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),p.jsx("div",{className:"flex items-center",children:p.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[p.jsx("button",{onClick:()=>d("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),p.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),p.jsx("button",{onClick:()=>d("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[p.jsx("button",{onClick:()=>d("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),p.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),p.jsx("button",{onClick:()=>d("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(bs,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),p.jsx(bs,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),p.jsx(bs,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx(En,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),p.jsx(En,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),p.jsx(En,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),p.jsx(En,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),p.jsx(En,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),p.jsx(En,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:p.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[p.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),p.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):p.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:p.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}const Mde=({className:t="",spinning:e=!1})=>p.jsx("svg",{className:`${t} ${e?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),Dde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),$de=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.5 8.5a5 5 0 007 0M5 12.5a9 9 0 0014 0M12 21l0-8.5m-7-2.5a13 13 0 0014 0"})}),Lde=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),p.jsx("path",{d:"M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"}),p.jsx("path",{d:"M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"})]});function Vde({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:d,onDeleteAllLiveGames:f,isOnline:h=!0,pendingCount:m=0,onManualSync:g,syncInProgress:v=!1,isUserAdmin:_=!1}){const[b,w]=D.useState(""),[x,k]=D.useState(""),[T,P]=D.useState(u.toString());D.useEffect(()=>{P(u.toString())},[u]);const E=Array.from(new Map(n.map($=>[$.id,$])).values()),S=async $=>{const G=$.trim();if(!G||n.some(V=>V.name.toLowerCase()===G.toLowerCase())){k("error"),setTimeout(()=>k(""),1200);return}k("saving");try{if(h)await r(G);else{const V=ct.savePendingTeam({name:G});setTeams(B=>[...B,{id:V,name:G,isOffline:!0}]),alert("Team saved offline. Will sync when online.")}k("success"),w("")}catch{k("error")}setTimeout(()=>k(""),1200)},I=async $=>{k("saving");try{await i($),k("success")}catch{k("error")}setTimeout(()=>k(""),1200)},C=async $=>{k("saving");try{await a($),k("success")}catch(G){console.error("Error updating game format:",G),k("error")}setTimeout(()=>k(""),1200)},O=async $=>{P($);const G=parseInt($)||0;if(G>0){k("saving");try{await d(G),k("success")}catch(V){console.error("Error updating period length:",V),k("error")}setTimeout(()=>k(""),1200)}},R=()=>{const $=parseInt(T)||10;$!==u&&(P($.toString()),O($.toString()))},N=()=>{l(),k("success"),setTimeout(()=>k(""),1200)},W=async()=>{k("saving");try{await f(),k("success"),setTimeout(()=>{k(""),e()},300)}catch{k("error"),setTimeout(()=>k(""),1200)}},U=async()=>{if(!g){console.warn("onManualSync prop not provided to SettingsModal");return}k("saving");try{await g(),k("success")}catch($){console.error("Sync failed:",$),k("error")}setTimeout(()=>k(""),2e3)};return t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative max-h-[90vh] overflow-y-auto",children:[p.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:"×"}),p.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",p.jsx(gx,{status:x})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[p.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:b,onChange:$=>w($.target.value),onKeyDown:$=>{$.key==="Enter"&&b.trim()&&S(b.trim())}}),p.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>S(b),disabled:!b.trim(),children:"Add"})]}),p.jsx("ul",{className:"space-y-2",children:E.map($=>p.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[p.jsx("span",{children:$.name}),p.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>I($.id),title:"Delete Team",children:p.jsx(Ap,{className:"h-5 w-5"})})]},$.id))})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),p.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[p.jsxs("label",{children:[p.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>C("periods")}),"Periods"]}),p.jsxs("label",{children:[p.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>C("halves")}),"Halves"]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),p.jsx("input",{type:"text",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24 text-gray-900 dark:text-white",value:T,onChange:$=>{P($.target.value)},onBlur:R,onKeyDown:$=>{$.key==="Enter"&&R()},placeholder:"10"})]})]}),p.jsxs("div",{className:"flex items-center justify-between mt-4",children:[_&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[h?p.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:p.jsx(Dde,{className:"w-5 h-5 text-green-600 dark:text-green-400",title:"Online"})}):p.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:p.jsx($de,{className:"w-5 h-5 text-red-600 dark:text-red-400",title:"Offline"})}),m>0&&p.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:m})]}),m>0&&p.jsx("button",{onClick:U,disabled:v||!h,className:"p-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 text-white rounded transition-colors",title:`Sync ${m} items`,children:p.jsx(Mde,{className:`w-6 h-6 ${v?"animate-spin":""}`})}),p.jsx("button",{onClick:()=>{window.confirm("Clear all cached offline data? This cannot be undone.")&&(ct.clearAllOfflineData(),alert("Offline data cleared"),k("success"),setTimeout(()=>k(""),1200))},className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-600 hover:text-red-700",title:"Clear All Offline Data",children:p.jsx(Lde,{className:"w-4 h-4"})}),p.jsx("button",{onClick:W,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-600 hover:text-red-700",title:"Delete All Live Games",children:p.jsx(Ap,{className:"w-6 h-6"})})]}),p.jsx("button",{onClick:N,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:s==="dark"?p.jsx(Yfe,{className:"h-6 w-6"}):p.jsx(Xfe,{className:"h-6 w-6"})})]})]})}):null}const Fde=()=>{const[t,e]=D.useState(navigator.onLine),[n,r]=D.useState(!1),[i,o]=D.useState(!0),[a,s]=D.useState(Date.now()),l=D.useCallback(async()=>{if(!navigator.onLine)return o(!1),!1;try{const u=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:AbortSignal.timeout(3e3)});return o(!0),s(Date.now()),!0}catch{return o(!1),s(Date.now()),!1}},[]);return D.useEffect(()=>{const u=()=>{e(!0),r(!1),l()},d=()=>{e(!1),o(!1),r(!0)};window.addEventListener("online",u),window.addEventListener("offline",d);const f=setInterval(()=>{navigator.onLine&&Date.now()-a>3e4&&l()},3e4);return navigator.onLine&&l(),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",d),clearInterval(f)}},[l,a]),{isOnline:t&&i,isConnected:i,wasOffline:n,browserOnline:navigator.onLine,checkConnectivity:l}},Lo={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Bde=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||Lo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||Lo.periodLength};try{const e=Mt(Be,"userSettings",t.uid),n=await xC(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...Lo,gameFormat:r||Lo.gameFormat,periodLength:i?parseInt(i):Lo.periodLength};return await sF(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||Lo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||Lo.periodLength}}},Ude=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=Mt(Be,"userSettings",t.uid);return await Sr(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function zde(){const[t,e]=D.useState(null),[n,r]=D.useState(!1),[i,o]=D.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=D.useState(!0),[l,u]=D.useState(!0),[d,f]=D.useState("game_setup"),[h,m]=D.useState([]),[g,v]=D.useState([]),[_,b]=D.useState([]),[w,x]=D.useState(null),[k,T]=D.useState(null),[P,E]=D.useState(!1),[S,I]=D.useState("halves"),[C,O]=D.useState(20),[R,N]=D.useState(2),[W,U]=D.useState(!1),{isOnline:$,wasOffline:G}=Fde(),[V,B]=D.useState(!1),[Q,ie]=D.useState(null),[X,q]=D.useState(null);D.useEffect(()=>{if($&&G&&t&&!V){const K=ct.getPendingCount();K>0&&(console.log(`Coming back online with ${K} pending items`),fe())}},[$,G,t,V]);const fe=D.useCallback(async()=>{if(!(!t||V)){B(!0),ie(Date.now());try{const K=await eo.syncAllOfflineData(t);if(console.log("Auto-sync result:",K),q(K),K.success){const ue=xn(Be,"games"),re=await Zf(ue);v(re.docs.map(de=>({id:de.id,...de.data()})))}}catch(K){console.error("Auto-sync failed:",K)}finally{B(!1)}}},[t,V]),oe=D.useCallback(async()=>{if(!(!t||V)){B(!0),ie(Date.now());try{const K=await eo.forceSyncNow(t);if(console.log("Manual sync result:",K),q(K),K.success&&K.results){const{games:ue,updates:re}=K.results,de=ue.synced+re.synced;if(de>0){alert(`Successfully synced ${de} items!`);const Ae=xn(Be,"games"),Me=await Zf(Ae);v(Me.docs.map(Ze=>({id:Ze.id,...Ze.data()})))}else alert("No items to sync.")}else K.error&&alert(`Sync failed: ${K.message}`)}catch(K){console.error("Manual sync failed:",K),alert("Sync failed. Please try again.")}finally{B(!1)}}},[t,V]);D.useEffect(()=>KF(nd,async ue=>{if(e(ue),r(go(ue)),ue&&go(ue))try{const re=await Bde(ue);I(re.gameFormat),O(re.periodLength),N(re.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",re)}catch(re){console.error("Error loading user settings:",re),I(localStorage.getItem("gameFormat")||"halves"),O(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else I(localStorage.getItem("gameFormat")||"halves"),O(parseInt(localStorage.getItem("periodLength"))||20),N(2);U(!0),s(!1)}),[]);const we=D.useCallback(async K=>{if(!n||!t){K.gameFormat&&(localStorage.setItem("gameFormat",K.gameFormat),I(K.gameFormat),N(K.gameFormat==="halves"?2:4)),K.periodLength&&(localStorage.setItem("periodLength",K.periodLength.toString()),O(K.periodLength));return}try{await Ude(t,K),K.gameFormat&&(I(K.gameFormat),N(K.gameFormat==="halves"?2:4)),K.periodLength&&O(K.periodLength),console.log("Settings updated successfully across devices")}catch(ue){console.error("Error updating settings:",ue),alert("Failed to save settings. Please try again.")}},[t,n]);D.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const ne=D.useCallback(()=>o(K=>K==="dark"?"light":"dark"),[]);D.useEffect(()=>{if(!t)return;const K=xn(Be,"teams");return ns(K,re=>{m(re.docs.map(de=>({id:de.id,...de.data()}))),ct.cacheData("teams",re.docs.map(de=>({id:de.id,...de.data()})))},re=>{if(console.error("Error loading teams:",re),!$){const de=ct.getCachedData("teams")||[];m(de)}})},[t,$]),D.useEffect(()=>{if(!t)return;const K=xn(Be,"games");return ns(K,re=>{const de=re.docs.map(Ae=>({id:Ae.id,...Ae.data()}));v(de),ct.cacheData("games",de)},re=>{if(console.error("Error loading games:",re),!$){const de=ct.getCachedData("games")||[];v(de)}})},[t,$]),D.useEffect(()=>{if(!t)return;const K=xn(Be,"stats");return ns(K,re=>{const de=re.docs.map(Ae=>({id:Ae.id,...Ae.data()}));b(de),ct.cacheData("stats",de)},re=>{if(console.error("Error loading stats:",re),!$){const de=ct.getCachedData("stats")||[];b(de)}})},[t,$]),D.useEffect(()=>{u(!0);const K=xn(Be,"liveGames"),ue=ns(K,re=>{re.empty?x(null):x(re.docs[0].id),u(!1)},re=>{console.error("Error loading live games:",re),u(!1)});return()=>ue()},[d]),D.useEffect(()=>{!t&&w&&d!=="live_viewer"&&f("live_viewer")},[t,w,d]);const me=async(K,ue)=>{if(!zi(t)){Xt("update game photos");return}try{$?await Sr(Mt(Be,"games",K),{photos:ue}):(ct.savePendingUpdate(K,{photos:ue}),alert("Photo update saved offline. Will sync when online.")),v(re=>re.map(de=>de.id===K?{...de,photos:ue}:de))}catch(re){console.error("Error updating game photos:",re)}},ee=D.useCallback(async K=>{if(!Pp(t)){Xt("delete teams");return}if(!$){alert("Cannot delete items while offline. Please try again when online.");return}await ed(Mt(Be,"teams",K)),m(ue=>ue.filter(re=>re.id!==K))},[t,$]),ve=async K=>{if(!zi(t))return Xt("add teams"),null;if(h.some(re=>re.name.toLowerCase()===K.toLowerCase()))return null;try{if($){const re=await Go(xn(Be,"teams"),{name:K});return m(de=>[...de,{name:K,id:re.id}]),{name:K,id:re.id}}else return alert("Cannot add teams while offline. Please try again when online."),null}catch(re){return console.error("Error adding team:",re),alert("Failed to add team. Please try again."),null}},xe=D.useCallback(async K=>{if(!zi(t)){Xt("add games");return}try{if($){const ue=await Go(xn(Be,"games"),K);v(re=>[...re,{...K,id:ue.id}])}else alert("Cannot add games while offline. Please try again when online.")}catch(ue){console.error("Error adding game:",ue),alert("Failed to add game. Please try again.")}},[t,$]),Y=D.useCallback(async K=>{if(!zi(t)){Xt("add statistics");return}const ue=K.fg2m*2+K.fg3m*3+K.ftm;let re="T";K.myTeamScore>K.opponentScore?re="W":K.myTeamScore<K.opponentScore&&(re="L");const de={...k,...K,points:ue,outcome:re,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""};try{if($){const Ae=await Go(xn(Be,"games"),de);v(Me=>[...Me,{...de,id:Ae.id}]),console.log("Game saved online:",Ae.id)}else throw new Error("Offline mode")}catch(Ae){console.log("Saving offline:",Ae.message);const Me=ct.savePendingGame(de);v(Ze=>[...Ze,{...de,id:Me,isOffline:!0,tempId:Me}]),alert("Game saved offline. Will sync when connection is restored.")}T(null),f("dashboard")},[k,t,$]),Ve=D.useCallback(async K=>{if(!Pp(t)){Xt("delete games");return}if(!$){alert("Cannot delete items while offline. Please try again when online.");return}if(K.startsWith("temp_")){ct.removePendingGame(K),v(ue=>ue.filter(re=>re.id!==K));return}await ed(Mt(Be,"games",K)),v(ue=>ue.filter(re=>re.id!==K)),b(ue=>ue.filter(re=>re.gameId!==K))},[t,$]),ye=D.useCallback(async(K,ue)=>{if(!zi(t)){Xt("update games");return}try{if(ue.myTeamScore!==void 0&&ue.opponentScore!==void 0){let re="T";ue.myTeamScore>ue.opponentScore?re="W":ue.myTeamScore<ue.opponentScore&&(re="L"),ue.outcome=re}ue.editedAt=new Date().toISOString(),ue.editedBy=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",$?await Sr(Mt(Be,"games",K),ue):(ct.savePendingUpdate(K,ue),alert("Changes saved offline. Will sync when online.")),v(re=>re.map(de=>de.id===K?{...de,...ue,isOfflineUpdated:!$}:de))}catch(re){throw console.error("Error updating game:",re),re}},[t,$]),Qe=async K=>{if(!Py(t)){Xt("manage live games");return}if(!$){alert("Cannot end games while offline. Please try again when online.");return}try{const ue=Mt(Be,"liveGames",K),re=await xC(ue);if(!re.exists()){console.log("Live game not found for endGame, id:",K);return}const de=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",Ae=re.data(),Me=Ae.playerStats||{},Ze=Ae.homeScore??0,wt=Ae.awayScore??0;let Nr="T";Ze>wt?Nr="W":Ze<wt&&(Nr="L");const Ca={...Ae,myTeamScore:Ze,opponentScore:wt,outcome:Nr,points:(Me.fg2m??0)*2+(Me.fg3m??0)*3+(Me.ftm??0)*1,fg2m:Me.fg2m??0,fg2a:Me.fg2a??0,fg3m:Me.fg3m??0,fg3a:Me.fg3a??0,ftm:Me.ftm??0,fta:Me.fta??0,rebounds:Me.rebounds??0,assists:Me.assists??0,steals:Me.steals??0,blocks:Me.blocks??0,fouls:Me.fouls??0,turnovers:Me.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:de,isRunning:!1},Tl=await Go(xn(Be,"games"),Ca);await ed(ue),x(null),f("game_setup");const Al=xn(Be,"games"),Xr=await Zf(Al);v(Xr.docs.map(Co=>({id:Co.id,...Co.data()})))}catch(ue){console.error("Failed to save/end game:",ue)}},We=async()=>{if(!Py(t)){Xt("delete live games");return}if(!$){alert("Cannot delete live games while offline. Please try again when online.");return}const K=await Zf(xn(Be,"liveGames"));for(let ue of K.docs)await ed(Mt(Be,"liveGames",ue.id));x(null)},at=async()=>{try{const ue=(await p6(nd,nN)).user;if(!go(ue)){await gE(nd),alert(`Access denied. Only family administrators can sign in.

Your email: ${ue.email}

To view games, you can browse without signing in.`);return}}catch(K){if(console.error("Sign in error:",K),K.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},Bt=async()=>{try{d==="live_admin"&&w&&n&&await Qe(w),await gE(nd),e(null),r(!1),f("game_setup"),x(null),v([]),b([])}catch(K){console.error("Error signing out:",K)}},an=async(K,ue)=>{if(!zi(t)){Xt("create games");return}const re={...K,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:ue==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:C?C*60:600,period:1,gameFormat:S||"halves",periodLength:C||20,numPeriods:S==="halves"?2:4};if(ue==="live"){if(!Py(t)){Xt("start live games");return}try{const de=await Go(xn(Be,"liveGames"),re);x(de.id),f("live_admin")}catch{const Ae=`temp_live_${Date.now()}`;x(Ae),f("live_admin"),console.log("Created offline live game")}}},sn=()=>{if(!pde(t)){Xt("access settings");return}E(!0)};return a||l||!W?p.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[p.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:"🏀"}),p.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&d==="live_viewer"?w?p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(yd,{user:null,db:Be,onSignOut:Bt,setPage:f,theme:i,toggleTheme:ne,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:We,openSettingsModal:sn,onSignIn:at,isUserAdmin:!1,isOnline:$,onManualSync:oe,syncInProgress:V}),p.jsx("main",{className:"flex-1",children:p.jsx(NI,{db:Be,user:null,gameId:w,setPage:f,teams:h,stats:_,games:g})})]}):p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(yd,{user:null,db:Be,onSignOut:Bt,setPage:f,theme:i,toggleTheme:ne,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:We,openSettingsModal:sn,isUserAdmin:!1,isOnline:$,onManualSync:oe,syncInProgress:V}),p.jsx("main",{className:"flex-1 flex items-center justify-center",children:p.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&d!=="live_viewer"?p.jsx(Cde,{onSignIn:at}):t&&!n&&(d==="game_setup"||d==="add_stat"||d==="live_admin")?p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(yd,{user:t,db:Be,onSignOut:Bt,setPage:f,theme:i,toggleTheme:ne,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:We,openSettingsModal:sn,isUserAdmin:n,isOnline:$,onManualSync:oe,syncInProgress:V}),p.jsx("main",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",p.jsx("span",{className:"font-medium",children:mde(t)})]}),p.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(yd,{user:t,db:Be,onSignOut:Bt,setPage:f,theme:i,toggleTheme:ne,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:We,openSettingsModal:sn,isUserAdmin:n,isOnline:$,onManualSync:oe,syncInProgress:V}),p.jsx(Vde,{open:P,onClose:()=>E(!1),teams:h,onAddTeam:ve,onDeleteTeam:ee,gameFormat:S,setGameFormat:K=>we({gameFormat:K}),periodLength:C,setPeriodLength:K=>we({periodLength:K}),theme:i,toggleTheme:ne,setPage:f,onDeleteAllLiveGames:We,isOnline:$,pendingCount:ct.getPendingCount(),onManualSync:oe,syncInProgress:V,isUserAdmin:n}),p.jsxs("main",{className:"flex-1",children:[t&&n&&d==="game_setup"&&p.jsx(c9,{user:t,teams:h,stats:g,onAddTeam:ve,setPage:f,games:g,onAddGame:xe,setLiveGameId:x,onSubmit:an,gameFormat:S,periodLength:C,numPeriods:R,isOnline:$}),t&&d==="dashboard"&&p.jsx(Ede,{user:t,teams:h,games:g,stats:g,onDeleteGame:Ve,onDeleteTeam:ee,onAddTeam:ve,onUpdateGamePhotos:me,onUpdateGame:ye,isUserAdmin:n,isOnline:$,onManualSync:oe,syncInProgress:V}),t&&n&&d==="add_stat"&&k&&p.jsx(Rde,{gameConfig:k,isLive:!1,onSave:Y,onCancel:()=>{T(null),f("game_setup")},isOnline:$}),t&&n&&d==="live_admin"&&w&&p.jsx(jde,{user:t,db:Be,gameId:w,setPage:f,teams:h,stats:_,games:g,onEndGame:Qe,isOnline:$}),t&&d==="live_viewer"&&w&&p.jsx(NI,{db:Be,user:t,gameId:w,setPage:f,teams:h,stats:_,games:g})]})]})}Oy.createRoot(document.getElementById("root")).render(p.jsx(L.StrictMode,{children:p.jsx(zde,{})}));
