(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EI={exports:{}},bp={},TI={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=Symbol.for("react.element"),qM=Symbol.for("react.portal"),KM=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),YM=Symbol.for("react.profiler"),QM=Symbol.for("react.provider"),JM=Symbol.for("react.context"),ZM=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),nD=Symbol.for("react.lazy"),Z1=Symbol.iterator;function rD(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var AI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PI=Object.assign,II={};function Js(t,e,n){this.props=t,this.context=e,this.refs=II,this.updater=n||AI}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OI(){}OI.prototype=Js.prototype;function cb(t,e,n){this.props=t,this.context=e,this.refs=II,this.updater=n||AI}var fb=cb.prototype=new OI;fb.constructor=cb;PI(fb,Js.prototype);fb.isPureReactComponent=!0;var ex=Array.isArray,kI=Object.prototype.hasOwnProperty,db={current:null},CI={key:!0,ref:!0,__self:!0,__source:!0};function NI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)kI.call(e,r)&&!CI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Nc,type:t,key:o,ref:a,props:i,_owner:db.current}}function iD(t,e){return{$$typeof:Nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nc}function oD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tx=/\/+/g;function lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oD(""+t.key):e.toString(36)}function ud(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nc:case qM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+lg(a,0):r,ex(i)?(n="",t!=null&&(n=t.replace(tx,"$&/")+"/"),ud(i,e,n,"",function(u){return u})):i!=null&&(hb(i)&&(i=iD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",ex(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+lg(o,s);a+=ud(o,e,n,l,i)}else if(l=rD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+lg(o,s++),a+=ud(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ef(t,e,n){if(t==null)return t;var r=[],i=0;return ud(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},cd={transition:null},sD={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:cd,ReactCurrentOwner:db};function jI(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Ef,forEach:function(t,e,n){Ef(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ef(t,function(){e++}),e},toArray:function(t){return Ef(t,function(e){return e})||[]},only:function(t){if(!hb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Js;Oe.Fragment=KM;Oe.Profiler=YM;Oe.PureComponent=cb;Oe.StrictMode=XM;Oe.Suspense=eD;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sD;Oe.act=jI;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=db.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)kI.call(e,l)&&!CI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Nc,type:t.type,key:i,ref:o,props:r,_owner:a}};Oe.createContext=function(t){return t={$$typeof:JM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QM,_context:t},t.Consumer=t};Oe.createElement=NI;Oe.createFactory=function(t){var e=NI.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:ZM,render:t}};Oe.isValidElement=hb;Oe.lazy=function(t){return{$$typeof:nD,_payload:{_status:-1,_result:t},_init:aD}};Oe.memo=function(t,e){return{$$typeof:tD,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};Oe.unstable_act=jI;Oe.useCallback=function(t,e){return xn.current.useCallback(t,e)};Oe.useContext=function(t){return xn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return xn.current.useEffect(t,e)};Oe.useId=function(){return xn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return xn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Oe.useRef=function(t){return xn.current.useRef(t)};Oe.useState=function(t){return xn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return xn.current.useTransition()};Oe.version="18.3.1";TI.exports=Oe;var $=TI.exports;const D=Qe($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD=$,uD=Symbol.for("react.element"),cD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,dD=lD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hD={key:!0,ref:!0,__self:!0,__source:!0};function RI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fD.call(e,r)&&!hD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uD,type:t,key:o,ref:a,props:i,_owner:dD.current}}bp.Fragment=cD;bp.jsx=RI;bp.jsxs=RI;EI.exports=bp;var m=EI.exports,xy={},MI={exports:{}},Gn={},DI={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,G){var Y=F.length;F.push(G);e:for(;0<Y;){var te=Y-1>>>1,L=F[te];if(0<i(L,G))F[te]=G,F[Y]=L,Y=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],Y=F.pop();if(Y!==G){F[0]=Y;e:for(var te=0,L=F.length,K=L>>>1;te<K;){var se=2*(te+1)-1,he=F[se],pe=se+1,be=F[pe];if(0>i(he,Y))pe<L&&0>i(be,he)?(F[te]=be,F[pe]=Y,te=pe):(F[te]=he,F[se]=Y,te=se);else if(pe<L&&0>i(be,Y))F[te]=be,F[pe]=Y,te=pe;else break e}}return G}function i(F,G){var Y=F.sortIndex-G.sortIndex;return Y!==0?Y:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=F)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function I(F){if(y=!1,x(F),!v)if(n(l)!==null)v=!0,q(E);else{var G=n(u);G!==null&&Q(I,G.startTime-F)}}function E(F,G){v=!1,y&&(y=!1,_(T),T=-1),p=!0;var Y=h;try{for(x(G),f=n(l);f!==null&&(!(f.expirationTime>G)||F&&!C());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var L=te(f.expirationTime<=G);G=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(l)&&r(l),x(G)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var se=n(u);se!==null&&Q(I,se.startTime-G),K=!1}return K}finally{f=null,h=Y,p=!1}}var P=!1,S=null,T=-1,O=5,k=-1;function C(){return!(t.unstable_now()-k<O)}function R(){if(S!==null){var F=t.unstable_now();k=F;var G=!0;try{G=S(!0,F)}finally{G?N():(P=!1,S=null)}}else P=!1}var N;if(typeof b=="function")N=function(){b(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=R,N=function(){W.postMessage(null)}}else N=function(){w(R,0)};function q(F){S=F,P||(P=!0,N())}function Q(F,G){T=w(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,q(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var Y=h;h=G;try{return F()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=h;h=F;try{return G()}finally{h=Y}},t.unstable_scheduleCallback=function(F,G,Y){var te=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Y+L,F={id:d++,callback:G,priorityLevel:F,startTime:Y,expirationTime:L,sortIndex:-1},Y>te?(F.sortIndex=Y,e(u,F),n(l)===null&&F===n(u)&&(y?(_(T),T=-1):y=!0,Q(I,Y-te))):(F.sortIndex=L,e(l,F),v||p||(v=!0,q(E))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var G=h;return function(){var Y=h;h=G;try{return F.apply(this,arguments)}finally{h=Y}}}})($I);DI.exports=$I;var pD=DI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=$,zn=pD;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LI=new Set,Tu={};function ga(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(Tu[t]=e,t=0;t<e.length;t++)LI.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sy=Object.prototype.hasOwnProperty,gD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nx={},rx={};function yD(t){return Sy.call(rx,t)?!0:Sy.call(nx,t)?!1:gD.test(t)?rx[t]=!0:(nx[t]=!0,!1)}function vD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bD(t,e,n,r){if(e===null||typeof e>"u"||vD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pb=/[\-:]([a-z])/g;function mb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pb,mb);Qt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pb,mb);Qt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pb,mb);Qt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gb(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bD(e,n,i,r)&&(n=null),r||i===null?yD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tf=Symbol.for("react.element"),$a=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),yb=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),VI=Symbol.for("react.provider"),FI=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),Ty=Symbol.for("react.suspense"),Ay=Symbol.for("react.suspense_list"),bb=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),BI=Symbol.for("react.offscreen"),ix=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,ug;function Ql(t){if(ug===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ug=e&&e[1]||""}return`
`+ug+t}var cg=!1;function fg(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ql(t):""}function _D(t){switch(t.tag){case 5:return Ql(t.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return t=fg(t.type,!1),t;case 11:return t=fg(t.type.render,!1),t;case 1:return t=fg(t.type,!0),t;default:return""}}function Py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case $a:return"Portal";case Ey:return"Profiler";case yb:return"StrictMode";case Ty:return"Suspense";case Ay:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FI:return(t.displayName||"Context")+".Consumer";case VI:return(t._context.displayName||"Context")+".Provider";case vb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bb:return e=t.displayName||null,e!==null?e:Py(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return Py(t(e))}catch{}}return null}function wD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Py(e);case 8:return e===yb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xD(t){var e=UI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Af(t){t._valueTracker||(t._valueTracker=xD(t))}function zI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iy(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ox(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WI(t,e){e=e.checked,e!=null&&gb(t,"checked",e,!1)}function Oy(t,e){WI(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ky(t,e.type,n):e.hasOwnProperty("defaultValue")&&ky(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ax(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ky(t,e,n){(e!=="number"||Cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function Za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Jl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function GI(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pf,qI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pf=Pf||document.createElement("div"),Pf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SD=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){SD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function KI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function XI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ED=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(t,e){if(e){if(ED[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function _b(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dy=null,es=null,ts=null;function ux(t){if(t=Mc(t)){if(typeof Dy!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Ep(e),Dy(t.stateNode,t.type,e))}}function YI(t){es?ts?ts.push(t):ts=[t]:es=t}function QI(){if(es){var t=es,e=ts;if(ts=es=null,ux(t),e)for(t=0;t<e.length;t++)ux(e[t])}}function JI(t,e){return t(e)}function ZI(){}var dg=!1;function eO(t,e,n){if(dg)return t(e,n);dg=!0;try{return JI(t,e,n)}finally{dg=!1,(es!==null||ts!==null)&&(ZI(),QI())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ep(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var $y=!1;if(hi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){$y=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{$y=!1}function TD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var su=!1,Nd=null,jd=!1,Ly=null,AD={onError:function(t){su=!0,Nd=t}};function PD(t,e,n,r,i,o,a,s,l){su=!1,Nd=null,TD.apply(AD,arguments)}function ID(t,e,n,r,i,o,a,s,l){if(PD.apply(this,arguments),su){if(su){var u=Nd;su=!1,Nd=null}else throw Error(ee(198));jd||(jd=!0,Ly=u)}}function ya(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cx(t){if(ya(t)!==t)throw Error(ee(188))}function OD(t){var e=t.alternate;if(!e){if(e=ya(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cx(i),t;if(o===r)return cx(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function nO(t){return t=OD(t),t!==null?rO(t):null}function rO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rO(t);if(e!==null)return e;t=t.sibling}return null}var iO=zn.unstable_scheduleCallback,fx=zn.unstable_cancelCallback,kD=zn.unstable_shouldYield,CD=zn.unstable_requestPaint,vt=zn.unstable_now,ND=zn.unstable_getCurrentPriorityLevel,wb=zn.unstable_ImmediatePriority,oO=zn.unstable_UserBlockingPriority,Rd=zn.unstable_NormalPriority,jD=zn.unstable_LowPriority,aO=zn.unstable_IdlePriority,_p=null,Nr=null;function RD(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(_p,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:$D,MD=Math.log,DD=Math.LN2;function $D(t){return t>>>=0,t===0?32:31-(MD(t)/DD|0)|0}var If=64,Of=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Zl(s):(o&=a,o!==0&&(r=Zl(o)))}else a=n&~i,a!==0?r=Zl(a):o!==0&&(r=Zl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function LD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-xr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Vy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sO(){var t=If;return If<<=1,!(If&4194240)&&(If=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function FD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function xb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function lO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uO,Sb,cO,fO,dO,Fy=!1,kf=[],Yi=null,Qi=null,Ji=null,Iu=new Map,Ou=new Map,Fi=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dx(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function jl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mc(e),e!==null&&Sb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UD(t,e,n,r,i){switch(e){case"focusin":return Yi=jl(Yi,t,e,n,r,i),!0;case"dragenter":return Qi=jl(Qi,t,e,n,r,i),!0;case"mouseover":return Ji=jl(Ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Iu.set(o,jl(Iu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ou.set(o,jl(Ou.get(o)||null,t,e,n,r,i)),!0}return!1}function hO(t){var e=Vo(t.target);if(e!==null){var n=ya(e);if(n!==null){if(e=n.tag,e===13){if(e=tO(n),e!==null){t.blockedOn=e,dO(t.priority,function(){cO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=By(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);My=r,n.target.dispatchEvent(r),My=null}else return e=Mc(n),e!==null&&Sb(e),t.blockedOn=n,!1;e.shift()}return!0}function hx(t,e,n){fd(t)&&n.delete(e)}function zD(){Fy=!1,Yi!==null&&fd(Yi)&&(Yi=null),Qi!==null&&fd(Qi)&&(Qi=null),Ji!==null&&fd(Ji)&&(Ji=null),Iu.forEach(hx),Ou.forEach(hx)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Fy||(Fy=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,zD)))}function ku(t){function e(i){return Rl(i,t)}if(0<kf.length){Rl(kf[0],t);for(var n=1;n<kf.length;n++){var r=kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&Rl(Yi,t),Qi!==null&&Rl(Qi,t),Ji!==null&&Rl(Ji,t),Iu.forEach(e),Ou.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)hO(n),n.blockedOn===null&&Fi.shift()}var ns=Ti.ReactCurrentBatchConfig,Dd=!0;function WD(t,e,n,r){var i=We,o=ns.transition;ns.transition=null;try{We=1,Eb(t,e,n,r)}finally{We=i,ns.transition=o}}function GD(t,e,n,r){var i=We,o=ns.transition;ns.transition=null;try{We=4,Eb(t,e,n,r)}finally{We=i,ns.transition=o}}function Eb(t,e,n,r){if(Dd){var i=By(t,e,n,r);if(i===null)Sg(t,e,r,$d,n),dx(t,r);else if(UD(i,t,e,n,r))r.stopPropagation();else if(dx(t,r),e&4&&-1<BD.indexOf(t)){for(;i!==null;){var o=Mc(i);if(o!==null&&uO(o),o=By(t,e,n,r),o===null&&Sg(t,e,r,$d,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sg(t,e,r,null,n)}}var $d=null;function By(t,e,n,r){if($d=null,t=_b(r),t=Vo(t),t!==null)if(e=ya(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function pO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ND()){case wb:return 1;case oO:return 4;case Rd:case jD:return 16;case aO:return 536870912;default:return 16}default:return 16}}var Hi=null,Tb=null,dd=null;function mO(){if(dd)return dd;var t,e=Tb,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return dd=i.slice(t,1<r?1-r:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cf(){return!0}function px(){return!1}function Hn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cf:px,this.isPropagationStopped=px,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),e}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ab=Hn(Zs),Rc=ft({},Zs,{view:0,detail:0}),HD=Hn(Rc),pg,mg,Ml,wp=ft({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(pg=t.screenX-Ml.screenX,mg=t.screenY-Ml.screenY):mg=pg=0,Ml=t),pg)},movementY:function(t){return"movementY"in t?t.movementY:mg}}),mx=Hn(wp),qD=ft({},wp,{dataTransfer:0}),KD=Hn(qD),XD=ft({},Rc,{relatedTarget:0}),gg=Hn(XD),YD=ft({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),QD=Hn(YD),JD=ft({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZD=Hn(JD),e$=ft({},Zs,{data:0}),gx=Hn(e$),t$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=r$[t])?!!e[t]:!1}function Pb(){return i$}var o$=ft({},Rc,{key:function(t){if(t.key){var e=t$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pb,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a$=Hn(o$),s$=ft({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yx=Hn(s$),l$=ft({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pb}),u$=Hn(l$),c$=ft({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),f$=Hn(c$),d$=ft({},wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h$=Hn(d$),p$=[9,13,27,32],Ib=hi&&"CompositionEvent"in window,lu=null;hi&&"documentMode"in document&&(lu=document.documentMode);var m$=hi&&"TextEvent"in window&&!lu,gO=hi&&(!Ib||lu&&8<lu&&11>=lu),vx=String.fromCharCode(32),bx=!1;function yO(t,e){switch(t){case"keyup":return p$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function g$(t,e){switch(t){case"compositionend":return vO(e);case"keypress":return e.which!==32?null:(bx=!0,vx);case"textInput":return t=e.data,t===vx&&bx?null:t;default:return null}}function y$(t,e){if(Va)return t==="compositionend"||!Ib&&yO(t,e)?(t=mO(),dd=Tb=Hi=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gO&&e.locale!=="ko"?null:e.data;default:return null}}var v$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v$[t.type]:e==="textarea"}function bO(t,e,n,r){YI(r),e=Ld(e,"onChange"),0<e.length&&(n=new Ab("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uu=null,Cu=null;function b$(t){kO(t,0)}function xp(t){var e=Ua(t);if(zI(e))return t}function _$(t,e){if(t==="change")return e}var _O=!1;if(hi){var yg;if(hi){var vg="oninput"in document;if(!vg){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),vg=typeof wx.oninput=="function"}yg=vg}else yg=!1;_O=yg&&(!document.documentMode||9<document.documentMode)}function xx(){uu&&(uu.detachEvent("onpropertychange",wO),Cu=uu=null)}function wO(t){if(t.propertyName==="value"&&xp(Cu)){var e=[];bO(e,Cu,t,_b(t)),eO(b$,e)}}function w$(t,e,n){t==="focusin"?(xx(),uu=e,Cu=n,uu.attachEvent("onpropertychange",wO)):t==="focusout"&&xx()}function x$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(Cu)}function S$(t,e){if(t==="click")return xp(e)}function E$(t,e){if(t==="input"||t==="change")return xp(e)}function T$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:T$;function Nu(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sy.call(e,i)||!Tr(t[i],e[i]))return!1}return!0}function Sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ex(t,e){var n=Sx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sx(n)}}function xO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SO(){for(var t=window,e=Cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cd(t.document)}return e}function Ob(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A$(t){var e=SO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xO(n.ownerDocument.documentElement,n)){if(r!==null&&Ob(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ex(n,o);var a=Ex(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P$=hi&&"documentMode"in document&&11>=document.documentMode,Fa=null,Uy=null,cu=null,zy=!1;function Tx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zy||Fa==null||Fa!==Cd(r)||(r=Fa,"selectionStart"in r&&Ob(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cu&&Nu(cu,r)||(cu=r,r=Ld(Uy,"onSelect"),0<r.length&&(e=new Ab("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fa)))}function Nf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ba={animationend:Nf("Animation","AnimationEnd"),animationiteration:Nf("Animation","AnimationIteration"),animationstart:Nf("Animation","AnimationStart"),transitionend:Nf("Transition","TransitionEnd")},bg={},EO={};hi&&(EO=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Sp(t){if(bg[t])return bg[t];if(!Ba[t])return t;var e=Ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EO)return bg[t]=e[n];return t}var TO=Sp("animationend"),AO=Sp("animationiteration"),PO=Sp("animationstart"),IO=Sp("transitionend"),OO=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(t,e){OO.set(t,e),ga(e,[t])}for(var _g=0;_g<Ax.length;_g++){var wg=Ax[_g],I$=wg.toLowerCase(),O$=wg[0].toUpperCase()+wg.slice(1);yo(I$,"on"+O$)}yo(TO,"onAnimationEnd");yo(AO,"onAnimationIteration");yo(PO,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(IO,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k$=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function Px(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ID(r,e,void 0,t),t.currentTarget=null}function kO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Px(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Px(i,s,u),o=l}}}if(jd)throw t=Ly,jd=!1,Ly=null,t}function nt(t,e){var n=e[Ky];n===void 0&&(n=e[Ky]=new Set);var r=t+"__bubble";n.has(r)||(CO(e,t,2,!1),n.add(r))}function xg(t,e,n){var r=0;e&&(r|=4),CO(n,t,r,e)}var jf="_reactListening"+Math.random().toString(36).slice(2);function ju(t){if(!t[jf]){t[jf]=!0,LI.forEach(function(n){n!=="selectionchange"&&(k$.has(n)||xg(n,!1,t),xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jf]||(e[jf]=!0,xg("selectionchange",!1,e))}}function CO(t,e,n,r){switch(pO(e)){case 1:var i=WD;break;case 4:i=GD;break;default:i=Eb}n=i.bind(null,e,n,t),i=void 0,!$y||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Vo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}eO(function(){var u=o,d=_b(n),f=[];e:{var h=OO.get(t);if(h!==void 0){var p=Ab,v=t;switch(t){case"keypress":if(hd(n)===0)break e;case"keydown":case"keyup":p=a$;break;case"focusin":v="focus",p=gg;break;case"focusout":v="blur",p=gg;break;case"beforeblur":case"afterblur":p=gg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=u$;break;case TO:case AO:case PO:p=QD;break;case IO:p=f$;break;case"scroll":p=HD;break;case"wheel":p=h$;break;case"copy":case"cut":case"paste":p=ZD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yx}var y=(e&4)!==0,w=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,x;b!==null;){x=b;var I=x.stateNode;if(x.tag===5&&I!==null&&(x=I,_!==null&&(I=Pu(b,_),I!=null&&y.push(Ru(b,I,x)))),w)break;b=b.return}0<y.length&&(h=new p(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==My&&(v=n.relatedTarget||n.fromElement)&&(Vo(v)||v[pi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Vo(v):null,v!==null&&(w=ya(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=mx,I="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=yx,I="onPointerLeave",_="onPointerEnter",b="pointer"),w=p==null?h:Ua(p),x=v==null?h:Ua(v),h=new y(I,b+"leave",p,n,d),h.target=w,h.relatedTarget=x,I=null,Vo(d)===u&&(y=new y(_,b+"enter",v,n,d),y.target=x,y.relatedTarget=w,I=y),w=I,p&&v)t:{for(y=p,_=v,b=0,x=y;x;x=Oa(x))b++;for(x=0,I=_;I;I=Oa(I))x++;for(;0<b-x;)y=Oa(y),b--;for(;0<x-b;)_=Oa(_),x--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Oa(y),_=Oa(_)}y=null}else y=null;p!==null&&Ix(f,h,p,y,!1),v!==null&&w!==null&&Ix(f,w,v,y,!0)}}e:{if(h=u?Ua(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=_$;else if(_x(h))if(_O)E=E$;else{E=x$;var P=w$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=S$);if(E&&(E=E(t,u))){bO(f,E,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&ky(h,"number",h.value)}switch(P=u?Ua(u):window,t){case"focusin":(_x(P)||P.contentEditable==="true")&&(Fa=P,Uy=u,cu=null);break;case"focusout":cu=Uy=Fa=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,Tx(f,n,d);break;case"selectionchange":if(P$)break;case"keydown":case"keyup":Tx(f,n,d)}var S;if(Ib)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Va?yO(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(gO&&n.locale!=="ko"&&(Va||T!=="onCompositionStart"?T==="onCompositionEnd"&&Va&&(S=mO()):(Hi=d,Tb="value"in Hi?Hi.value:Hi.textContent,Va=!0)),P=Ld(u,T),0<P.length&&(T=new gx(T,t,null,n,d),f.push({event:T,listeners:P}),S?T.data=S:(S=vO(n),S!==null&&(T.data=S)))),(S=m$?g$(t,n):y$(t,n))&&(u=Ld(u,"onBeforeInput"),0<u.length&&(d=new gx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}kO(f,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pu(t,n),o!=null&&r.unshift(Ru(t,o,i)),o=Pu(t,e),o!=null&&r.push(Ru(t,o,i))),t=t.return}return r}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ix(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Pu(n,o),l!=null&&a.unshift(Ru(n,l,s))):i||(l=Pu(n,o),l!=null&&a.push(Ru(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var C$=/\r\n?/g,N$=/\u0000|\uFFFD/g;function Ox(t){return(typeof t=="string"?t:""+t).replace(C$,`
`).replace(N$,"")}function Rf(t,e,n){if(e=Ox(e),Ox(t)!==e&&n)throw Error(ee(425))}function Vd(){}var Wy=null,Gy=null;function Hy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,j$=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,R$=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(t){return kx.resolve(null).then(t).catch(M$)}:qy;function M$(t){setTimeout(function(){throw t})}function Eg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ku(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var el=Math.random().toString(36).slice(2),kr="__reactFiber$"+el,Mu="__reactProps$"+el,pi="__reactContainer$"+el,Ky="__reactEvents$"+el,D$="__reactListeners$"+el,$$="__reactHandles$"+el;function Vo(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cx(t);t!==null;){if(n=t[kr])return n;t=Cx(t)}return e}t=n,n=t.parentNode}return null}function Mc(t){return t=t[kr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Ep(t){return t[Mu]||null}var Xy=[],za=-1;function vo(t){return{current:t}}function ot(t){0>za||(t.current=Xy[za],Xy[za]=null,za--)}function et(t,e){za++,Xy[za]=t.current,t.current=e}var ho={},dn=vo(ho),On=vo(!1),ta=ho;function ps(t,e){var n=t.type.contextTypes;if(!n)return ho;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Fd(){ot(On),ot(dn)}function Nx(t,e,n){if(dn.current!==ho)throw Error(ee(168));et(dn,e),et(On,n)}function NO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,wD(t)||"Unknown",i));return ft({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ho,ta=dn.current,et(dn,t),et(On,On.current),!0}function jx(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=NO(t,e,ta),r.__reactInternalMemoizedMergedChildContext=t,ot(On),ot(dn),et(dn,t)):ot(On),et(On,n)}var Xr=null,Tp=!1,Tg=!1;function jO(t){Xr===null?Xr=[t]:Xr.push(t)}function L$(t){Tp=!0,jO(t)}function bo(){if(!Tg&&Xr!==null){Tg=!0;var t=0,e=We;try{var n=Xr;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,Tp=!1}catch(i){throw Xr!==null&&(Xr=Xr.slice(t+1)),iO(wb,bo),i}finally{We=e,Tg=!1}}return null}var Wa=[],Ga=0,Ud=null,zd=0,Yn=[],Qn=0,na=null,Jr=1,Zr="";function jo(t,e){Wa[Ga++]=zd,Wa[Ga++]=Ud,Ud=t,zd=e}function RO(t,e,n){Yn[Qn++]=Jr,Yn[Qn++]=Zr,Yn[Qn++]=na,na=t;var r=Jr;t=Zr;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var o=32-xr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-xr(e)+i|n<<i|r,Zr=o+t}else Jr=1<<o|n<<i|r,Zr=t}function kb(t){t.return!==null&&(jo(t,1),RO(t,1,0))}function Cb(t){for(;t===Ud;)Ud=Wa[--Ga],Wa[Ga]=null,zd=Wa[--Ga],Wa[Ga]=null;for(;t===na;)na=Yn[--Qn],Yn[Qn]=null,Zr=Yn[--Qn],Yn[Qn]=null,Jr=Yn[--Qn],Yn[Qn]=null}var Un=null,Fn=null,at=!1,vr=null;function MO(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Fn=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=na!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Fn=null,!0):!1;default:return!1}}function Yy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qy(t){if(at){var e=Fn;if(e){var n=e;if(!Rx(t,e)){if(Yy(t))throw Error(ee(418));e=Zi(n.nextSibling);var r=Un;e&&Rx(t,e)?MO(r,n):(t.flags=t.flags&-4097|2,at=!1,Un=t)}}else{if(Yy(t))throw Error(ee(418));t.flags=t.flags&-4097|2,at=!1,Un=t}}}function Mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Mf(t){if(t!==Un)return!1;if(!at)return Mx(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hy(t.type,t.memoizedProps)),e&&(e=Fn)){if(Yy(t))throw DO(),Error(ee(418));for(;e;)MO(t,e),e=Zi(e.nextSibling)}if(Mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Un?Zi(t.stateNode.nextSibling):null;return!0}function DO(){for(var t=Fn;t;)t=Zi(t.nextSibling)}function ms(){Fn=Un=null,at=!1}function Nb(t){vr===null?vr=[t]:vr.push(t)}var V$=Ti.ReactCurrentBatchConfig;function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Df(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dx(t){var e=t._init;return e(t._payload)}function $O(t){function e(_,b){if(t){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=ro(_,b),_.index=0,_.sibling=null,_}function o(_,b,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,b,x,I){return b===null||b.tag!==6?(b=Ng(x,_.mode,I),b.return=_,b):(b=i(b,x),b.return=_,b)}function l(_,b,x,I){var E=x.type;return E===La?d(_,b,x.props.children,I,x.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Di&&Dx(E)===b.type)?(I=i(b,x.props),I.ref=Dl(_,b,x),I.return=_,I):(I=_d(x.type,x.key,x.props,null,_.mode,I),I.ref=Dl(_,b,x),I.return=_,I)}function u(_,b,x,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=jg(x,_.mode,I),b.return=_,b):(b=i(b,x.children||[]),b.return=_,b)}function d(_,b,x,I,E){return b===null||b.tag!==7?(b=Xo(x,_.mode,I,E),b.return=_,b):(b=i(b,x),b.return=_,b)}function f(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ng(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tf:return x=_d(b.type,b.key,b.props,null,_.mode,x),x.ref=Dl(_,null,b),x.return=_,x;case $a:return b=jg(b,_.mode,x),b.return=_,b;case Di:var I=b._init;return f(_,I(b._payload),x)}if(Jl(b)||Cl(b))return b=Xo(b,_.mode,x,null),b.return=_,b;Df(_,b)}return null}function h(_,b,x,I){var E=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:s(_,b,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tf:return x.key===E?l(_,b,x,I):null;case $a:return x.key===E?u(_,b,x,I):null;case Di:return E=x._init,h(_,b,E(x._payload),I)}if(Jl(x)||Cl(x))return E!==null?null:d(_,b,x,I,null);Df(_,x)}return null}function p(_,b,x,I,E){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(x)||null,s(b,_,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Tf:return _=_.get(I.key===null?x:I.key)||null,l(b,_,I,E);case $a:return _=_.get(I.key===null?x:I.key)||null,u(b,_,I,E);case Di:var P=I._init;return p(_,b,x,P(I._payload),E)}if(Jl(I)||Cl(I))return _=_.get(x)||null,d(b,_,I,E,null);Df(b,I)}return null}function v(_,b,x,I){for(var E=null,P=null,S=b,T=b=0,O=null;S!==null&&T<x.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var k=h(_,S,x[T],I);if(k===null){S===null&&(S=O);break}t&&S&&k.alternate===null&&e(_,S),b=o(k,b,T),P===null?E=k:P.sibling=k,P=k,S=O}if(T===x.length)return n(_,S),at&&jo(_,T),E;if(S===null){for(;T<x.length;T++)S=f(_,x[T],I),S!==null&&(b=o(S,b,T),P===null?E=S:P.sibling=S,P=S);return at&&jo(_,T),E}for(S=r(_,S);T<x.length;T++)O=p(S,_,T,x[T],I),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),b=o(O,b,T),P===null?E=O:P.sibling=O,P=O);return t&&S.forEach(function(C){return e(_,C)}),at&&jo(_,T),E}function y(_,b,x,I){var E=Cl(x);if(typeof E!="function")throw Error(ee(150));if(x=E.call(x),x==null)throw Error(ee(151));for(var P=E=null,S=b,T=b=0,O=null,k=x.next();S!==null&&!k.done;T++,k=x.next()){S.index>T?(O=S,S=null):O=S.sibling;var C=h(_,S,k.value,I);if(C===null){S===null&&(S=O);break}t&&S&&C.alternate===null&&e(_,S),b=o(C,b,T),P===null?E=C:P.sibling=C,P=C,S=O}if(k.done)return n(_,S),at&&jo(_,T),E;if(S===null){for(;!k.done;T++,k=x.next())k=f(_,k.value,I),k!==null&&(b=o(k,b,T),P===null?E=k:P.sibling=k,P=k);return at&&jo(_,T),E}for(S=r(_,S);!k.done;T++,k=x.next())k=p(S,_,T,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),b=o(k,b,T),P===null?E=k:P.sibling=k,P=k);return t&&S.forEach(function(R){return e(_,R)}),at&&jo(_,T),E}function w(_,b,x,I){if(typeof x=="object"&&x!==null&&x.type===La&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Tf:e:{for(var E=x.key,P=b;P!==null;){if(P.key===E){if(E=x.type,E===La){if(P.tag===7){n(_,P.sibling),b=i(P,x.props.children),b.return=_,_=b;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Di&&Dx(E)===P.type){n(_,P.sibling),b=i(P,x.props),b.ref=Dl(_,P,x),b.return=_,_=b;break e}n(_,P);break}else e(_,P);P=P.sibling}x.type===La?(b=Xo(x.props.children,_.mode,I,x.key),b.return=_,_=b):(I=_d(x.type,x.key,x.props,null,_.mode,I),I.ref=Dl(_,b,x),I.return=_,_=I)}return a(_);case $a:e:{for(P=x.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(_,b.sibling),b=i(b,x.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=jg(x,_.mode,I),b.return=_,_=b}return a(_);case Di:return P=x._init,w(_,b,P(x._payload),I)}if(Jl(x))return v(_,b,x,I);if(Cl(x))return y(_,b,x,I);Df(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,x),b.return=_,_=b):(n(_,b),b=Ng(x,_.mode,I),b.return=_,_=b),a(_)):n(_,b)}return w}var gs=$O(!0),LO=$O(!1),Wd=vo(null),Gd=null,Ha=null,jb=null;function Rb(){jb=Ha=Gd=null}function Mb(t){var e=Wd.current;ot(Wd),t._currentValue=e}function Jy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){Gd=t,jb=Ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(jb!==t)if(t={context:t,memoizedValue:e,next:null},Ha===null){if(Gd===null)throw Error(ee(308));Ha=t,Gd.dependencies={lanes:0,firstContext:t}}else Ha=Ha.next=t;return e}var Fo=null;function Db(t){Fo===null?Fo=[t]:Fo.push(t)}function VO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Db(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function $b(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,Db(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xb(t,n)}}function $x(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=ft({},f,h);break e;case 2:$i=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ia|=a,t.lanes=a,t.memoizedState=f}}function Lx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Dc={},jr=vo(Dc),Du=vo(Dc),$u=vo(Dc);function Bo(t){if(t===Dc)throw Error(ee(174));return t}function Lb(t,e){switch(et($u,e),et(Du,t),et(jr,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ny(e,t)}ot(jr),et(jr,e)}function ys(){ot(jr),ot(Du),ot($u)}function BO(t){Bo($u.current);var e=Bo(jr.current),n=Ny(e,t.type);e!==n&&(et(Du,t),et(jr,n))}function Vb(t){Du.current===t&&(ot(jr),ot(Du))}var ut=vo(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ag=[];function Fb(){for(var t=0;t<Ag.length;t++)Ag[t]._workInProgressVersionPrimary=null;Ag.length=0}var md=Ti.ReactCurrentDispatcher,Pg=Ti.ReactCurrentBatchConfig,ra=0,ct=null,Pt=null,Dt=null,Kd=!1,fu=!1,Lu=0,F$=0;function nn(){throw Error(ee(321))}function Bb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function Ub(t,e,n,r,i,o){if(ra=o,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?W$:G$,t=n(r,i),fu){o=0;do{if(fu=!1,Lu=0,25<=o)throw Error(ee(301));o+=1,Dt=Pt=null,e.updateQueue=null,md.current=H$,t=n(r,i)}while(fu)}if(md.current=Xd,e=Pt!==null&&Pt.next!==null,ra=0,Dt=Pt=ct=null,Kd=!1,e)throw Error(ee(300));return t}function zb(){var t=Lu!==0;return Lu=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ct.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function or(){if(Pt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Dt===null?ct.memoizedState:Dt.next;if(e!==null)Dt=e,Pt=t;else{if(t===null)throw Error(ee(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?ct.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Vu(t,e){return typeof e=="function"?e(t):e}function Ig(t){var e=or(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((ra&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ct.lanes|=d,ia|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Tr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ct.lanes|=o,ia|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Og(t){var e=or(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Tr(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function UO(){}function zO(t,e){var n=ct,r=or(),i=e(),o=!Tr(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,Wb(HO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Fu(9,GO.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(ee(349));ra&30||WO(n,e,i)}return i}function WO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GO(t,e,n,r){e.value=n,e.getSnapshot=r,qO(e)&&KO(t)}function HO(t,e,n){return n(function(){qO(e)&&KO(t)})}function qO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function KO(t){var e=mi(t,1);e!==null&&Sr(e,t,1,-1)}function Vx(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=z$.bind(null,ct,t),[e.memoizedState,t]}function Fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XO(){return or().memoizedState}function gd(t,e,n,r){var i=Ir();ct.flags|=t,i.memoizedState=Fu(1|e,n,void 0,r===void 0?null:r)}function Ap(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var a=Pt.memoizedState;if(o=a.destroy,r!==null&&Bb(r,a.deps)){i.memoizedState=Fu(e,n,o,r);return}}ct.flags|=t,i.memoizedState=Fu(1|e,n,o,r)}function Fx(t,e){return gd(8390656,8,t,e)}function Wb(t,e){return Ap(2048,8,t,e)}function YO(t,e){return Ap(4,2,t,e)}function QO(t,e){return Ap(4,4,t,e)}function JO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZO(t,e,n){return n=n!=null?n.concat([t]):null,Ap(4,4,JO.bind(null,e,t),n)}function Gb(){}function ek(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tk(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nk(t,e,n){return ra&21?(Tr(n,e)||(n=sO(),ct.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function B$(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Pg.transition;Pg.transition={};try{t(!1),e()}finally{We=n,Pg.transition=r}}function rk(){return or().memoizedState}function U$(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ik(t))ok(e,n);else if(n=VO(t,e,n,r),n!==null){var i=_n();Sr(n,t,r,i),ak(n,e,r)}}function z$(t,e,n){var r=no(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ik(t))ok(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Tr(s,a)){var l=e.interleaved;l===null?(i.next=i,Db(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VO(t,e,i,r),n!==null&&(i=_n(),Sr(n,t,r,i),ak(n,e,r))}}function ik(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function ok(t,e){fu=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ak(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xb(t,n)}}var Xd={readContext:ir,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},W$={readContext:ir,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:Fx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,JO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=U$.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:Vx,useDebugValue:Gb,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=Vx(!1),e=t[0];return t=B$.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=Ir();if(at){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),$t===null)throw Error(ee(349));ra&30||WO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fx(HO.bind(null,r,o,t),[t]),r.flags|=2048,Fu(9,GO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=$t.identifierPrefix;if(at){var n=Zr,r=Jr;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G$={readContext:ir,useCallback:ek,useContext:ir,useEffect:Wb,useImperativeHandle:ZO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:tk,useReducer:Ig,useRef:XO,useState:function(){return Ig(Vu)},useDebugValue:Gb,useDeferredValue:function(t){var e=or();return nk(e,Pt.memoizedState,t)},useTransition:function(){var t=Ig(Vu)[0],e=or().memoizedState;return[t,e]},useMutableSource:UO,useSyncExternalStore:zO,useId:rk,unstable_isNewReconciler:!1},H$={readContext:ir,useCallback:ek,useContext:ir,useEffect:Wb,useImperativeHandle:ZO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:tk,useReducer:Og,useRef:XO,useState:function(){return Og(Vu)},useDebugValue:Gb,useDeferredValue:function(t){var e=or();return Pt===null?e.memoizedState=t:nk(e,Pt.memoizedState,t)},useTransition:function(){var t=Og(Vu)[0],e=or().memoizedState;return[t,e]},useMutableSource:UO,useSyncExternalStore:zO,useId:rk,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pp={isMounted:function(t){return(t=t._reactInternals)?ya(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=no(t),o=si(r,i);o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Sr(e,t,i,r),pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=no(t),o=si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Sr(e,t,i,r),pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=no(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,r),e!==null&&(Sr(e,t,r,n),pd(e,t,r))}};function Bx(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Nu(n,r)||!Nu(i,o):!0}function sk(t,e,n){var r=!1,i=ho,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=kn(e)?ta:dn.current,r=e.contextTypes,o=(r=r!=null)?ps(t,i):ho),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ux(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pp.enqueueReplaceState(e,e.state,null)}function ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$b(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=kn(e)?ta:dn.current,i.context=ps(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pp.enqueueReplaceState(i,i.state,null),Hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,e){try{var n="",r=e;do n+=_D(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function kg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q$=typeof WeakMap=="function"?WeakMap:Map;function lk(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qd||(Qd=!0,fv=r),tv(t,e)},n}function uk(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tv(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new q$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sL.bind(null,t,e,n),e.then(t,t))}function Wx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var K$=Ti.ReactCurrentOwner,Pn=!1;function yn(t,e,n,r){e.child=t===null?LO(e,null,n,r):gs(e,t.child,n,r)}function Hx(t,e,n,r,i){n=n.render;var o=e.ref;return rs(e,i),r=Ub(t,e,n,r,o,i),n=zb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(at&&n&&kb(e),e.flags|=1,yn(t,e,r,i),e.child)}function qx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Zb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ck(t,e,o,r,i)):(t=_d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nu,n(a,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ro(o,r),t.ref=e.ref,t.return=e,e.child=t}function ck(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Nu(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return nv(t,e,n,r,i)}function fk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ka,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Ka,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Ka,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Ka,$n),$n|=r;return yn(t,e,i,n),e.child}function dk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nv(t,e,n,r,i){var o=kn(n)?ta:dn.current;return o=ps(e,o),rs(e,i),n=Ub(t,e,n,r,o,i),r=zb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(at&&r&&kb(e),e.flags|=1,yn(t,e,n,i),e.child)}function Kx(t,e,n,r,i){if(kn(n)){var o=!0;Bd(e)}else o=!1;if(rs(e,i),e.stateNode===null)yd(t,e),sk(e,n,r),ev(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=kn(n)?ta:dn.current,u=ps(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Ux(e,a,r,u),$i=!1;var h=e.memoizedState;a.state=h,Hd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||On.current||$i?(typeof d=="function"&&(Zy(e,n,d,r),l=e.memoizedState),(s=$i||Bx(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,FO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:pr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=kn(n)?ta:dn.current,l=ps(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Ux(e,a,r,l),$i=!1,h=e.memoizedState,a.state=h,Hd(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||On.current||$i?(typeof p=="function"&&(Zy(e,n,p,r),v=e.memoizedState),(u=$i||Bx(e,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return rv(t,e,n,r,o,i)}function rv(t,e,n,r,i,o){dk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&jx(e,n,!1),gi(t,e,o);r=e.stateNode,K$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gs(e,t.child,null,o),e.child=gs(e,null,s,o)):yn(t,e,s,o),e.memoizedState=r.state,i&&jx(e,n,!0),e.child}function hk(t){var e=t.stateNode;e.pendingContext?Nx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nx(t,e.context,!1),Lb(t,e.containerInfo)}function Xx(t,e,n,r,i){return ms(),Nb(i),e.flags|=256,yn(t,e,n,r),e.child}var iv={dehydrated:null,treeContext:null,retryLane:0};function ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function pk(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ut,i&1),t===null)return Qy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=kp(a,r,0,null),t=Xo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ov(n),e.memoizedState=iv,t):Hb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return X$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ro(s,o):(o=Xo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?ov(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=iv,r}return o=t.child,t=o.sibling,r=ro(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hb(t,e){return e=kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $f(t,e,n,r){return r!==null&&Nb(r),gs(e,t.child,null,n),t=Hb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=kg(Error(ee(422))),$f(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kp({mode:"visible",children:r.children},i,0,null),o=Xo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&gs(e,t.child,null,a),e.child.memoizedState=ov(a),e.memoizedState=iv,o);if(!(e.mode&1))return $f(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=kg(o,r,void 0),$f(t,e,a,r)}if(s=(a&t.childLanes)!==0,Pn||s){if(r=$t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mi(t,i),Sr(r,t,i,-1))}return Jb(),r=kg(Error(ee(421))),$f(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=Zi(i.nextSibling),Un=e,at=!0,vr=null,t!==null&&(Yn[Qn++]=Jr,Yn[Qn++]=Zr,Yn[Qn++]=na,Jr=t.id,Zr=t.overflow,na=e),e=Hb(e,r.children),e.flags|=4096,e)}function Yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jy(t.return,e,n)}function Cg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yx(t,n,e);else if(t.tag===19)Yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cg(e,!0,n,null,o);break;case"together":Cg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y$(t,e,n){switch(e.tag){case 3:hk(e),ms();break;case 5:BO(e);break;case 1:kn(e.type)&&Bd(e);break;case 4:Lb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?pk(t,e,n):(et(ut,ut.current&1),t=gi(t,e,n),t!==null?t.sibling:null);et(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,fk(t,e,n)}return gi(t,e,n)}var gk,av,yk,vk;gk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};av=function(){};yk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bo(jr.current);var o=null;switch(n){case"input":i=Iy(t,i),r=Iy(t,r),o=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),o=[];break;case"textarea":i=Cy(t,i),r=Cy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}jy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};vk=function(t,e,n,r){n!==r&&(e.flags|=4)};function $l(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q$(t,e,n){var r=e.pendingProps;switch(Cb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return kn(e.type)&&Fd(),rn(e),null;case 3:return r=e.stateNode,ys(),ot(On),ot(dn),Fb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(pv(vr),vr=null))),av(t,e),rn(e),null;case 5:Vb(e);var i=Bo($u.current);if(n=e.type,t!==null&&e.stateNode!=null)yk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return rn(e),null}if(t=Bo(jr.current),Mf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kr]=e,r[Mu]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<eu.length;i++)nt(eu[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":ox(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":sx(r,o),nt("invalid",r)}jy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Rf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Rf(r.textContent,s,t),i=["children",""+s]):Tu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":Af(r),ax(r,o,!0);break;case"textarea":Af(r),lx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[kr]=e,t[Mu]=r,gk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ry(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<eu.length;i++)nt(eu[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":ox(t,r),i=Iy(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),nt("invalid",t);break;case"textarea":sx(t,r),i=Cy(t,r),nt("invalid",t);break;default:i=r}jy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?XI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Au(t,l):typeof l=="number"&&Au(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&gb(t,o,l,a))}switch(n){case"input":Af(t),ax(t,r,!1);break;case"textarea":Af(t),lx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Za(t,!!r.multiple,o,!1):r.defaultValue!=null&&Za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)vk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Bo($u.current),Bo(jr.current),Mf(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:Rf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return rn(e),null;case 13:if(ot(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Fn!==null&&e.mode&1&&!(e.flags&128))DO(),ms(),e.flags|=98560,o=!1;else if(o=Mf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[kr]=e}else ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else vr!==null&&(pv(vr),vr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Ot===0&&(Ot=3):Jb())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return ys(),av(t,e),t===null&&ju(e.stateNode.containerInfo),rn(e),null;case 10:return Mb(e.type._context),rn(e),null;case 17:return kn(e.type)&&Fd(),rn(e),null;case 19:if(ot(ut),o=e.memoizedState,o===null)return rn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)$l(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qd(t),a!==null){for(e.flags|=128,$l(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>bs&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304)}else{if(!r)if(t=qd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!at)return rn(e),null}else 2*vt()-o.renderingStartTime>bs&&n!==1073741824&&(e.flags|=128,r=!0,$l(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=ut.current,et(ut,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return Qb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function J$(t,e){switch(Cb(e),e.tag){case 1:return kn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),ot(On),ot(dn),Fb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vb(e),null;case 13:if(ot(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ut),null;case 4:return ys(),null;case 10:return Mb(e.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var Lf=!1,ln=!1,Z$=typeof WeakSet=="function"?WeakSet:Set,ce=null;function qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function sv(t,e,n){try{n()}catch(r){pt(t,e,r)}}var Qx=!1;function eL(t,e){if(Wy=Dd,t=SO(),Ob(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gy={focusedElem:t,selectionRange:n},Dd=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:pr(e.type,y),w);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(I){pt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return v=Qx,Qx=!1,v}function du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sv(e,n,o)}i=i.next}while(i!==r)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bk(t){var e=t.alternate;e!==null&&(t.alternate=null,bk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Mu],delete e[Ky],delete e[D$],delete e[$$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _k(t){return t.tag===5||t.tag===3||t.tag===4}function Jx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}var zt=null,mr=!1;function Ri(t,e,n){for(n=n.child;n!==null;)wk(t,e,n),n=n.sibling}function wk(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(_p,n)}catch{}switch(n.tag){case 5:ln||qa(n,e);case 6:var r=zt,i=mr;zt=null,Ri(t,e,n),zt=r,mr=i,zt!==null&&(mr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(mr?(t=zt,n=n.stateNode,t.nodeType===8?Eg(t.parentNode,n):t.nodeType===1&&Eg(t,n),ku(t)):Eg(zt,n.stateNode));break;case 4:r=zt,i=mr,zt=n.stateNode.containerInfo,mr=!0,Ri(t,e,n),zt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&sv(n,e,a),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!ln&&(qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){pt(n,e,s)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Ri(t,e,n),ln=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function Zx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z$),e.forEach(function(r){var i=uL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:zt=s.stateNode,mr=!1;break e;case 3:zt=s.stateNode.containerInfo,mr=!0;break e;case 4:zt=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(zt===null)throw Error(ee(160));wk(o,a,i),zt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xk(e,t),e=e.sibling}function xk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Pr(t),r&4){try{du(3,t,t.return),Ip(3,t)}catch(y){pt(t,t.return,y)}try{du(5,t,t.return)}catch(y){pt(t,t.return,y)}}break;case 1:fr(e,t),Pr(t),r&512&&n!==null&&qa(n,n.return);break;case 5:if(fr(e,t),Pr(t),r&512&&n!==null&&qa(n,n.return),t.flags&32){var i=t.stateNode;try{Au(i,"")}catch(y){pt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&WI(i,o),Ry(s,a);var u=Ry(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?XI(i,f):d==="dangerouslySetInnerHTML"?qI(i,f):d==="children"?Au(i,f):gb(i,d,f,u)}switch(s){case"input":Oy(i,o);break;case"textarea":GI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Za(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Za(i,!!o.multiple,o.defaultValue,!0):Za(i,!!o.multiple,o.multiple?[]:"",!1))}i[Mu]=o}catch(y){pt(t,t.return,y)}}break;case 6:if(fr(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){pt(t,t.return,y)}}break;case 3:if(fr(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(y){pt(t,t.return,y)}break;case 4:fr(e,t),Pr(t);break;case 13:fr(e,t),Pr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xb=vt())),r&4&&Zx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||d,fr(e,t),ln=u):fr(e,t),Pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:du(4,h,h.return);break;case 1:qa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:qa(h,h.return);break;case 22:if(h.memoizedState!==null){tS(f);continue}}p!==null?(p.return=h,ce=p):tS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KI("display",a))}catch(y){pt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){pt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fr(e,t),Pr(t),r&4&&Zx(t);break;case 21:break;default:fr(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_k(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Au(i,""),r.flags&=-33);var o=Jx(t);cv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Jx(t);uv(t,s,a);break;default:throw Error(ee(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tL(t,e,n){ce=t,Sk(t)}function Sk(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ln;s=Lf;var u=ln;if(Lf=a,(ln=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?nS(i):l!==null?(l.return=a,ce=l):nS(i);for(;o!==null;)ce=o,Sk(o),o=o.sibling;ce=i,Lf=s,ln=u}eS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):eS(t)}}function eS(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Lx(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lx(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ku(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}ln||e.flags&512&&lv(e)}catch(h){pt(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function tS(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function nS(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ip(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var o=e.return;try{lv(e)}catch(l){pt(e,o,l)}break;case 5:var a=e.return;try{lv(e)}catch(l){pt(e,a,l)}}}catch(l){pt(e,e.return,l)}if(e===t){ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ce=s;break}ce=e.return}}var nL=Math.ceil,Yd=Ti.ReactCurrentDispatcher,qb=Ti.ReactCurrentOwner,er=Ti.ReactCurrentBatchConfig,De=0,$t=null,St=null,Xt=0,$n=0,Ka=vo(0),Ot=0,Bu=null,ia=0,Op=0,Kb=0,hu=null,Tn=null,Xb=0,bs=1/0,Kr=null,Qd=!1,fv=null,to=null,Vf=!1,qi=null,Jd=0,pu=0,dv=null,vd=-1,bd=0;function _n(){return De&6?vt():vd!==-1?vd:vd=vt()}function no(t){return t.mode&1?De&2&&Xt!==0?Xt&-Xt:V$.transition!==null?(bd===0&&(bd=sO()),bd):(t=We,t!==0||(t=window.event,t=t===void 0?16:pO(t.type)),t):1}function Sr(t,e,n,r){if(50<pu)throw pu=0,dv=null,Error(ee(185));jc(t,n,r),(!(De&2)||t!==$t)&&(t===$t&&(!(De&2)&&(Op|=n),Ot===4&&Bi(t,Xt)),Cn(t,r),n===1&&De===0&&!(e.mode&1)&&(bs=vt()+500,Tp&&bo()))}function Cn(t,e){var n=t.callbackNode;VD(t,e);var r=Md(t,t===$t?Xt:0);if(r===0)n!==null&&fx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fx(n),e===1)t.tag===0?L$(rS.bind(null,t)):jO(rS.bind(null,t)),R$(function(){!(De&6)&&bo()}),n=null;else{switch(lO(r)){case 1:n=wb;break;case 4:n=oO;break;case 16:n=Rd;break;case 536870912:n=aO;break;default:n=Rd}n=Ck(n,Ek.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ek(t,e){if(vd=-1,bd=0,De&6)throw Error(ee(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var r=Md(t,t===$t?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var i=De;De|=2;var o=Ak();($t!==t||Xt!==e)&&(Kr=null,bs=vt()+500,Ko(t,e));do try{oL();break}catch(s){Tk(t,s)}while(1);Rb(),Yd.current=o,De=i,St!==null?e=0:($t=null,Xt=0,e=Ot)}if(e!==0){if(e===2&&(i=Vy(t),i!==0&&(r=i,e=hv(t,i))),e===1)throw n=Bu,Ko(t,0),Bi(t,r),Cn(t,vt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!rL(i)&&(e=Zd(t,r),e===2&&(o=Vy(t),o!==0&&(r=o,e=hv(t,o))),e===1))throw n=Bu,Ko(t,0),Bi(t,r),Cn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Ro(t,Tn,Kr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Xb+500-vt(),10<e)){if(Md(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qy(Ro.bind(null,t,Tn,Kr),e);break}Ro(t,Tn,Kr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-xr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nL(r/1960))-r,10<r){t.timeoutHandle=qy(Ro.bind(null,t,Tn,Kr),r);break}Ro(t,Tn,Kr);break;case 5:Ro(t,Tn,Kr);break;default:throw Error(ee(329))}}}return Cn(t,vt()),t.callbackNode===n?Ek.bind(null,t):null}function hv(t,e){var n=hu;return t.current.memoizedState.isDehydrated&&(Ko(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&pv(e)),t}function pv(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function rL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Kb,e&=~Op,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function rS(t){if(De&6)throw Error(ee(327));is();var e=Md(t,0);if(!(e&1))return Cn(t,vt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=Vy(t);r!==0&&(e=r,n=hv(t,r))}if(n===1)throw n=Bu,Ko(t,0),Bi(t,e),Cn(t,vt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,Tn,Kr),Cn(t,vt()),null}function Yb(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(bs=vt()+500,Tp&&bo())}}function oa(t){qi!==null&&qi.tag===0&&!(De&6)&&is();var e=De;De|=1;var n=er.transition,r=We;try{if(er.transition=null,We=1,t)return t()}finally{We=r,er.transition=n,De=e,!(De&6)&&bo()}}function Qb(){$n=Ka.current,ot(Ka)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j$(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Cb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:ys(),ot(On),ot(dn),Fb();break;case 5:Vb(r);break;case 4:ys();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:Mb(r.type._context);break;case 22:case 23:Qb()}n=n.return}if($t=t,St=t=ro(t.current,null),Xt=$n=e,Ot=0,Bu=null,Kb=Op=ia=0,Tn=hu=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Fo=null}return t}function Tk(t,e){do{var n=St;try{if(Rb(),md.current=Xd,Kd){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kd=!1}if(ra=0,Dt=Pt=ct=null,fu=!1,Lu=0,qb.current=null,n===null||n.return===null){Ot=1,Bu=e,St=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Xt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Wx(a);if(p!==null){p.flags&=-257,Gx(p,a,s,o,e),p.mode&1&&zx(o,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){zx(o,u,e),Jb();break e}l=Error(ee(426))}}else if(at&&s.mode&1){var w=Wx(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gx(w,a,s,o,e),Nb(vs(l,s));break e}}o=l=vs(l,s),Ot!==4&&(Ot=2),hu===null?hu=[o]:hu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=lk(o,l,e);$x(o,_);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(to===null||!to.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=uk(o,s,e);$x(o,I);break e}}o=o.return}while(o!==null)}Ik(n)}catch(E){e=E,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function Ak(){var t=Yd.current;return Yd.current=Xd,t===null?Xd:t}function Jb(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(ia&268435455)&&!(Op&268435455)||Bi($t,Xt)}function Zd(t,e){var n=De;De|=2;var r=Ak();($t!==t||Xt!==e)&&(Kr=null,Ko(t,e));do try{iL();break}catch(i){Tk(t,i)}while(1);if(Rb(),De=n,Yd.current=r,St!==null)throw Error(ee(261));return $t=null,Xt=0,Ot}function iL(){for(;St!==null;)Pk(St)}function oL(){for(;St!==null&&!kD();)Pk(St)}function Pk(t){var e=kk(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?Ik(t):St=e,qb.current=null}function Ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J$(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,St=null;return}}else if(n=Q$(n,e,$n),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ot===0&&(Ot=5)}function Ro(t,e,n){var r=We,i=er.transition;try{er.transition=null,We=1,aL(t,e,n,r)}finally{er.transition=i,We=r}return null}function aL(t,e,n,r){do is();while(qi!==null);if(De&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FD(t,o),t===$t&&(St=$t=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vf||(Vf=!0,Ck(Rd,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var a=We;We=1;var s=De;De|=4,qb.current=null,eL(t,n),xk(n,t),A$(Gy),Dd=!!Wy,Gy=Wy=null,t.current=n,tL(n),CD(),De=s,We=a,er.transition=o}else t.current=n;if(Vf&&(Vf=!1,qi=t,Jd=i),o=t.pendingLanes,o===0&&(to=null),RD(n.stateNode),Cn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qd)throw Qd=!1,t=fv,fv=null,t;return Jd&1&&t.tag!==0&&is(),o=t.pendingLanes,o&1?t===dv?pu++:(pu=0,dv=t):pu=0,bo(),null}function is(){if(qi!==null){var t=lO(Jd),e=er.transition,n=We;try{if(er.transition=null,We=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,Jd=0,De&6)throw Error(ee(331));var i=De;for(De|=4,ce=t.current;ce!==null;){var o=ce,a=o.child;if(ce.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:du(8,d,o)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,p=d.return;if(bk(d),d===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ce=a;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:du(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ce=_;break e}ce=o.return}}var b=t.current;for(ce=b;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=b;ce!==null;){if(s=ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ip(9,s)}}catch(E){pt(s,s.return,E)}if(s===a){ce=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,ce=I;break e}ce=s.return}}if(De=i,bo(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(_p,t)}catch{}r=!0}return r}finally{We=n,er.transition=e}}return!1}function iS(t,e,n){e=vs(n,e),e=lk(t,e,1),t=eo(t,e,1),e=_n(),t!==null&&(jc(t,1,e),Cn(t,e))}function pt(t,e,n){if(t.tag===3)iS(t,t,n);else for(;e!==null;){if(e.tag===3){iS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=vs(n,t),t=uk(e,t,1),e=eo(e,t,1),t=_n(),e!==null&&(jc(e,1,t),Cn(e,t));break}}e=e.return}}function sL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Xt&n)===n&&(Ot===4||Ot===3&&(Xt&130023424)===Xt&&500>vt()-Xb?Ko(t,0):Kb|=n),Cn(t,e)}function Ok(t,e){e===0&&(t.mode&1?(e=Of,Of<<=1,!(Of&130023424)&&(Of=4194304)):e=1);var n=_n();t=mi(t,e),t!==null&&(jc(t,e,n),Cn(t,n))}function lL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ok(t,n)}function uL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Ok(t,n)}var kk;kk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,Y$(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,at&&e.flags&1048576&&RO(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yd(t,e),t=e.pendingProps;var i=ps(e,dn.current);rs(e,n),i=Ub(null,e,r,t,i,n);var o=zb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(o=!0,Bd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$b(e),i.updater=Pp,e.stateNode=i,i._reactInternals=e,ev(e,r,t,n),e=rv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&kb(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fL(r),t=pr(r,t),i){case 0:e=nv(null,e,r,t,n);break e;case 1:e=Kx(null,e,r,t,n);break e;case 11:e=Hx(null,e,r,t,n);break e;case 14:e=qx(null,e,r,pr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),nv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Kx(t,e,r,i,n);case 3:e:{if(hk(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,FO(t,e),Hd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=vs(Error(ee(423)),e),e=Xx(t,e,r,n,i);break e}else if(r!==i){i=vs(Error(ee(424)),e),e=Xx(t,e,r,n,i);break e}else for(Fn=Zi(e.stateNode.containerInfo.firstChild),Un=e,at=!0,vr=null,n=LO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){e=gi(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return BO(e),t===null&&Qy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Hy(r,i)?a=null:o!==null&&Hy(r,o)&&(e.flags|=32),dk(t,e),yn(t,e,a,n),e.child;case 6:return t===null&&Qy(e),null;case 13:return pk(t,e,n);case 4:return Lb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Hx(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(Wd,r._currentValue),r._currentValue=a,o!==null)if(Tr(o.value,a)){if(o.children===i.children&&!On.current){e=gi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=si(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jy(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Jy(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rs(e,n),i=ir(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),qx(t,e,r,i,n);case 15:return ck(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),yd(t,e),e.tag=1,kn(r)?(t=!0,Bd(e)):t=!1,rs(e,n),sk(e,r,i),ev(e,r,i,n),rv(null,e,r,!0,t,n);case 19:return mk(t,e,n);case 22:return fk(t,e,n)}throw Error(ee(156,e.tag))};function Ck(t,e){return iO(t,e)}function cL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new cL(t,e,n,r)}function Zb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fL(t){if(typeof t=="function")return Zb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vb)return 11;if(t===bb)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Zb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case La:return Xo(n.children,i,o,e);case yb:a=8,i|=8;break;case Ey:return t=Jn(12,n,e,i|2),t.elementType=Ey,t.lanes=o,t;case Ty:return t=Jn(13,n,e,i),t.elementType=Ty,t.lanes=o,t;case Ay:return t=Jn(19,n,e,i),t.elementType=Ay,t.lanes=o,t;case BI:return kp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VI:a=10;break e;case FI:a=9;break e;case vb:a=11;break e;case bb:a=14;break e;case Di:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Jn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function kp(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=BI,t.lanes=n,t.stateNode={isHidden:!1},t}function Ng(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function jg(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e_(t,e,n,r,i,o,a,s,l){return t=new dL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$b(o),t}function hL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nk(t){if(!t)return ho;t=t._reactInternals;e:{if(ya(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(kn(n))return NO(t,n,e)}return e}function jk(t,e,n,r,i,o,a,s,l){return t=e_(n,r,!0,t,i,o,a,s,l),t.context=Nk(null),n=t.current,r=_n(),i=no(n),o=si(r,i),o.callback=e??null,eo(n,o,i),t.current.lanes=i,jc(t,i,r),Cn(t,r),t}function Cp(t,e,n,r){var i=e.current,o=_n(),a=no(i);return n=Nk(n),e.context===null?e.context=n:e.pendingContext=n,e=si(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(i,e,a),t!==null&&(Sr(t,i,a,o),pd(t,i,a)),a}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t_(t,e){oS(t,e),(t=t.alternate)&&oS(t,e)}function pL(){return null}var Rk=typeof reportError=="function"?reportError:function(t){console.error(t)};function n_(t){this._internalRoot=t}Np.prototype.render=n_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Cp(t,e,null,null)};Np.prototype.unmount=n_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oa(function(){Cp(null,t,null,null)}),e[pi]=null}};function Np(t){this._internalRoot=t}Np.prototype.unstable_scheduleHydration=function(t){if(t){var e=fO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&hO(t)}};function r_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aS(){}function mL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=eh(a);o.call(u)}}var a=jk(e,r,t,0,null,!1,!1,"",aS);return t._reactRootContainer=a,t[pi]=a.current,ju(t.nodeType===8?t.parentNode:t),oa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=eh(l);s.call(u)}}var l=e_(t,0,!1,null,null,!1,!1,"",aS);return t._reactRootContainer=l,t[pi]=l.current,ju(t.nodeType===8?t.parentNode:t),oa(function(){Cp(e,l,n,r)}),l}function Rp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=eh(a);s.call(l)}}Cp(e,a,t,i)}else a=mL(n,e,t,i,r);return eh(a)}uO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(xb(e,n|1),Cn(e,vt()),!(De&6)&&(bs=vt()+500,bo()))}break;case 13:oa(function(){var r=mi(t,1);if(r!==null){var i=_n();Sr(r,t,1,i)}}),t_(t,1)}};Sb=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=_n();Sr(e,t,134217728,n)}t_(t,134217728)}};cO=function(t){if(t.tag===13){var e=no(t),n=mi(t,e);if(n!==null){var r=_n();Sr(n,t,e,r)}t_(t,e)}};fO=function(){return We};dO=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Dy=function(t,e,n){switch(e){case"input":if(Oy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ep(r);if(!i)throw Error(ee(90));zI(r),Oy(r,i)}}}break;case"textarea":GI(t,n);break;case"select":e=n.value,e!=null&&Za(t,!!n.multiple,e,!1)}};JI=Yb;ZI=oa;var gL={usingClientEntryPoint:!1,Events:[Mc,Ua,Ep,YI,QI,Yb]},Ll={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yL={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nO(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||pL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{_p=Ff.inject(yL),Nr=Ff}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gL;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r_(e))throw Error(ee(200));return hL(t,e,null,n)};Gn.createRoot=function(t,e){if(!r_(t))throw Error(ee(299));var n=!1,r="",i=Rk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e_(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,ju(t.nodeType===8?t.parentNode:t),new n_(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=nO(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return oa(t)};Gn.hydrate=function(t,e,n){if(!jp(e))throw Error(ee(200));return Rp(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!r_(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Rk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jk(e,null,t,1,n??null,i,!1,o,a),t[pi]=e.current,ju(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Np(e)};Gn.render=function(t,e,n){if(!jp(e))throw Error(ee(200));return Rp(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!jp(t))throw Error(ee(40));return t._reactRootContainer?(oa(function(){Rp(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};Gn.unstable_batchedUpdates=Yb;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jp(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Rp(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function Mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mk)}catch(t){console.error(t)}}Mk(),MI.exports=Gn;var vL=MI.exports,sS=vL;xy.createRoot=sS.createRoot,xy.hydrateRoot=sS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},$k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new _L;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wL=function(t){const e=Dk(t);return $k.encodeByteArray(e,!0)},th=function(t){return wL(t).replace(/\./g,"")},Lk=function(t){try{return $k.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=()=>xL().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lk(t[1]);return e&&JSON.parse(e)},Mp=()=>{try{return SL()||EL()||TL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>{var e,n;return(n=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AL=t=>{const e=Vk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fk=()=>{var t;return(t=Mp())===null||t===void 0?void 0:t.config},Bk=t=>{var e;return(e=Mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[th(JSON.stringify(n)),th(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function kL(){var t;const e=(t=Mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RL(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ML(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DL(){try{return typeof indexedDB=="object"}catch{return!1}}function $L(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LL,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?VL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ai(i,s,r)}}function VL(t,e){return t.replace(FL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FL=/\{\$([^}]+)}/g;function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(lS(o)&&lS(a)){if(!nh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UL(t,e){const n=new zL(t,e);return n.subscribe.bind(n)}class zL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rg),i.error===void 0&&(i.error=Rg),i.complete===void 0&&(i.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qL(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HL(t){return t===Mo?void 0:t}function qL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const XL={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},YL=Ne.INFO,QL={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},JL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i_{constructor(e){this.name=e,this._logLevel=YL,this._logHandler=JL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const ZL=(t,e)=>e.some(n=>t instanceof n);let uS,cS;function e4(){return uS||(uS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t4(){return cS||(cS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uk=new WeakMap,mv=new WeakMap,zk=new WeakMap,Mg=new WeakMap,o_=new WeakMap;function n4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(io(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Uk.set(n,t)}).catch(()=>{}),o_.set(e,t),e}function r4(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});mv.set(t,e)}let gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i4(t){gv=t(gv)}function o4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dg(this),e,...n);return zk.set(r,e.sort?e.sort():[e]),io(r)}:t4().includes(t)?function(...e){return t.apply(Dg(this),e),io(Uk.get(this))}:function(...e){return io(t.apply(Dg(this),e))}}function a4(t){return typeof t=="function"?o4(t):(t instanceof IDBTransaction&&r4(t),ZL(t,e4())?new Proxy(t,gv):t)}function io(t){if(t instanceof IDBRequest)return n4(t);if(Mg.has(t))return Mg.get(t);const e=a4(t);return e!==t&&(Mg.set(t,e),o_.set(e,t)),e}const Dg=t=>o_.get(t);function s4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=io(a);return r&&a.addEventListener("upgradeneeded",l=>{r(io(a.result),l.oldVersion,l.newVersion,io(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const l4=["get","getKey","getAll","getAllKeys","count"],u4=["put","add","delete","clear"],$g=new Map;function fS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return $g.set(e,o),o}i4(t=>({...t,get:(e,n,r)=>fS(e,n)||t.get(e,n,r),has:(e,n)=>!!fS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yv="@firebase/app",dS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new i_("@firebase/app"),d4="@firebase/app-compat",h4="@firebase/analytics-compat",p4="@firebase/analytics",m4="@firebase/app-check-compat",g4="@firebase/app-check",y4="@firebase/auth",v4="@firebase/auth-compat",b4="@firebase/database",_4="@firebase/data-connect",w4="@firebase/database-compat",x4="@firebase/functions",S4="@firebase/functions-compat",E4="@firebase/installations",T4="@firebase/installations-compat",A4="@firebase/messaging",P4="@firebase/messaging-compat",I4="@firebase/performance",O4="@firebase/performance-compat",k4="@firebase/remote-config",C4="@firebase/remote-config-compat",N4="@firebase/storage",j4="@firebase/storage-compat",R4="@firebase/firestore",M4="@firebase/vertexai-preview",D4="@firebase/firestore-compat",$4="firebase",L4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="[DEFAULT]",V4={[yv]:"fire-core",[d4]:"fire-core-compat",[p4]:"fire-analytics",[h4]:"fire-analytics-compat",[g4]:"fire-app-check",[m4]:"fire-app-check-compat",[y4]:"fire-auth",[v4]:"fire-auth-compat",[b4]:"fire-rtdb",[_4]:"fire-data-connect",[w4]:"fire-rtdb-compat",[x4]:"fire-fn",[S4]:"fire-fn-compat",[E4]:"fire-iid",[T4]:"fire-iid-compat",[A4]:"fire-fcm",[P4]:"fire-fcm-compat",[I4]:"fire-perf",[O4]:"fire-perf-compat",[k4]:"fire-rc",[C4]:"fire-rc-compat",[N4]:"fire-gcs",[j4]:"fire-gcs-compat",[R4]:"fire-fst",[D4]:"fire-fst-compat",[M4]:"fire-vertex","fire-js":"fire-js",[$4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,F4=new Map,bv=new Map;function hS(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(bv.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;bv.set(e,t);for(const n of rh.values())hS(n,t);for(const n of F4.values())hS(n,t);return!0}function a_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new $c("app","Firebase",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=L4;function Wk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=Fk()),!n)throw oo.create("no-options");const o=rh.get(i);if(o){if(nh(n,o.options)&&nh(r,o.config))return o;throw oo.create("duplicate-app",{appName:i})}const a=new KL(i);for(const l of bv.values())a.addComponent(l);const s=new U4(n,r,a);return rh.set(i,s),s}function Gk(t=vv){const e=rh.get(t);if(!e&&t===vv&&Fk())return Wk();if(!e)throw oo.create("no-app",{appName:t});return e}function ao(t,e,n){var r;let i=(r=V4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(s.join(" "));return}_s(new aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="firebase-heartbeat-database",W4=1,Uu="firebase-heartbeat-store";let Lg=null;function Hk(){return Lg||(Lg=s4(z4,W4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Lg}async function G4(t){try{const n=(await Hk()).transaction(Uu),r=await n.objectStore(Uu).get(qk(t));return await n.done,r}catch(e){if(e instanceof Ai)yi.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function pS(t,e){try{const r=(await Hk()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,qk(t)),await r.done}catch(n){if(n instanceof Ai)yi.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function qk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1024,q4=30*24*60*60*1e3;class K4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=q4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mS(),{heartbeatsToSend:r,unsentEntries:i}=X4(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yi.warn(n),""}}}function mS(){return new Date().toISOString().substring(0,10)}function X4(t,e=H4){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),gS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DL()?$L().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gS(t){return th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){_s(new aa("platform-logger",e=>new c4(e),"PRIVATE")),_s(new aa("heartbeat",e=>new K4(e),"PRIVATE")),ao(yv,dS,t),ao(yv,dS,"esm2017"),ao("fire-js","")}Q4("");var J4="firebase",Z4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(J4,Z4,"app");var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,Kk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function O(){}O.prototype=T.prototype,S.D=T.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(k,C,R){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return T.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,O){O||(O=0);var k=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)k[C]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(C=0;16>C;++C)k[C]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=S.g[0],O=S.g[1],C=S.g[2];var R=S.g[3],N=T+(R^O&(C^R))+k[0]+3614090360&4294967295;T=O+(N<<7&4294967295|N>>>25),N=R+(C^T&(O^C))+k[1]+3905402710&4294967295,R=T+(N<<12&4294967295|N>>>20),N=C+(O^R&(T^O))+k[2]+606105819&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(T^C&(R^T))+k[3]+3250441966&4294967295,O=C+(N<<22&4294967295|N>>>10),N=T+(R^O&(C^R))+k[4]+4118548399&4294967295,T=O+(N<<7&4294967295|N>>>25),N=R+(C^T&(O^C))+k[5]+1200080426&4294967295,R=T+(N<<12&4294967295|N>>>20),N=C+(O^R&(T^O))+k[6]+2821735955&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(T^C&(R^T))+k[7]+4249261313&4294967295,O=C+(N<<22&4294967295|N>>>10),N=T+(R^O&(C^R))+k[8]+1770035416&4294967295,T=O+(N<<7&4294967295|N>>>25),N=R+(C^T&(O^C))+k[9]+2336552879&4294967295,R=T+(N<<12&4294967295|N>>>20),N=C+(O^R&(T^O))+k[10]+4294925233&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(T^C&(R^T))+k[11]+2304563134&4294967295,O=C+(N<<22&4294967295|N>>>10),N=T+(R^O&(C^R))+k[12]+1804603682&4294967295,T=O+(N<<7&4294967295|N>>>25),N=R+(C^T&(O^C))+k[13]+4254626195&4294967295,R=T+(N<<12&4294967295|N>>>20),N=C+(O^R&(T^O))+k[14]+2792965006&4294967295,C=R+(N<<17&4294967295|N>>>15),N=O+(T^C&(R^T))+k[15]+1236535329&4294967295,O=C+(N<<22&4294967295|N>>>10),N=T+(C^R&(O^C))+k[1]+4129170786&4294967295,T=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(T^O))+k[6]+3225465664&4294967295,R=T+(N<<9&4294967295|N>>>23),N=C+(T^O&(R^T))+k[11]+643717713&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^T&(C^R))+k[0]+3921069994&4294967295,O=C+(N<<20&4294967295|N>>>12),N=T+(C^R&(O^C))+k[5]+3593408605&4294967295,T=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(T^O))+k[10]+38016083&4294967295,R=T+(N<<9&4294967295|N>>>23),N=C+(T^O&(R^T))+k[15]+3634488961&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^T&(C^R))+k[4]+3889429448&4294967295,O=C+(N<<20&4294967295|N>>>12),N=T+(C^R&(O^C))+k[9]+568446438&4294967295,T=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(T^O))+k[14]+3275163606&4294967295,R=T+(N<<9&4294967295|N>>>23),N=C+(T^O&(R^T))+k[3]+4107603335&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^T&(C^R))+k[8]+1163531501&4294967295,O=C+(N<<20&4294967295|N>>>12),N=T+(C^R&(O^C))+k[13]+2850285829&4294967295,T=O+(N<<5&4294967295|N>>>27),N=R+(O^C&(T^O))+k[2]+4243563512&4294967295,R=T+(N<<9&4294967295|N>>>23),N=C+(T^O&(R^T))+k[7]+1735328473&4294967295,C=R+(N<<14&4294967295|N>>>18),N=O+(R^T&(C^R))+k[12]+2368359562&4294967295,O=C+(N<<20&4294967295|N>>>12),N=T+(O^C^R)+k[5]+4294588738&4294967295,T=O+(N<<4&4294967295|N>>>28),N=R+(T^O^C)+k[8]+2272392833&4294967295,R=T+(N<<11&4294967295|N>>>21),N=C+(R^T^O)+k[11]+1839030562&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^T)+k[14]+4259657740&4294967295,O=C+(N<<23&4294967295|N>>>9),N=T+(O^C^R)+k[1]+2763975236&4294967295,T=O+(N<<4&4294967295|N>>>28),N=R+(T^O^C)+k[4]+1272893353&4294967295,R=T+(N<<11&4294967295|N>>>21),N=C+(R^T^O)+k[7]+4139469664&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^T)+k[10]+3200236656&4294967295,O=C+(N<<23&4294967295|N>>>9),N=T+(O^C^R)+k[13]+681279174&4294967295,T=O+(N<<4&4294967295|N>>>28),N=R+(T^O^C)+k[0]+3936430074&4294967295,R=T+(N<<11&4294967295|N>>>21),N=C+(R^T^O)+k[3]+3572445317&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^T)+k[6]+76029189&4294967295,O=C+(N<<23&4294967295|N>>>9),N=T+(O^C^R)+k[9]+3654602809&4294967295,T=O+(N<<4&4294967295|N>>>28),N=R+(T^O^C)+k[12]+3873151461&4294967295,R=T+(N<<11&4294967295|N>>>21),N=C+(R^T^O)+k[15]+530742520&4294967295,C=R+(N<<16&4294967295|N>>>16),N=O+(C^R^T)+k[2]+3299628645&4294967295,O=C+(N<<23&4294967295|N>>>9),N=T+(C^(O|~R))+k[0]+4096336452&4294967295,T=O+(N<<6&4294967295|N>>>26),N=R+(O^(T|~C))+k[7]+1126891415&4294967295,R=T+(N<<10&4294967295|N>>>22),N=C+(T^(R|~O))+k[14]+2878612391&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~T))+k[5]+4237533241&4294967295,O=C+(N<<21&4294967295|N>>>11),N=T+(C^(O|~R))+k[12]+1700485571&4294967295,T=O+(N<<6&4294967295|N>>>26),N=R+(O^(T|~C))+k[3]+2399980690&4294967295,R=T+(N<<10&4294967295|N>>>22),N=C+(T^(R|~O))+k[10]+4293915773&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~T))+k[1]+2240044497&4294967295,O=C+(N<<21&4294967295|N>>>11),N=T+(C^(O|~R))+k[8]+1873313359&4294967295,T=O+(N<<6&4294967295|N>>>26),N=R+(O^(T|~C))+k[15]+4264355552&4294967295,R=T+(N<<10&4294967295|N>>>22),N=C+(T^(R|~O))+k[6]+2734768916&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~T))+k[13]+1309151649&4294967295,O=C+(N<<21&4294967295|N>>>11),N=T+(C^(O|~R))+k[4]+4149444226&4294967295,T=O+(N<<6&4294967295|N>>>26),N=R+(O^(T|~C))+k[11]+3174756917&4294967295,R=T+(N<<10&4294967295|N>>>22),N=C+(T^(R|~O))+k[2]+718787259&4294967295,C=R+(N<<15&4294967295|N>>>17),N=O+(R^(C|~T))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var O=T-this.blockSize,k=this.B,C=this.h,R=0;R<T;){if(C==0)for(;R<=O;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(k[C++]=S.charCodeAt(R++),C==this.blockSize){i(this,k),C=0;break}}else for(;R<T;)if(k[C++]=S[R++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var O=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=O&255,O/=256;for(this.u(S),S=Array(16),T=O=0;4>T;++T)for(var k=0;32>k;k+=8)S[O++]=this.g[T]>>>k&255;return S};function o(S,T){var O=s;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=T(S)}function a(S,T){this.h=T;for(var O=[],k=!0,C=S.length-1;0<=C;C--){var R=S[C]|0;k&&R==T||(O[C]=R,k=!1)}this.g=O}var s={};function l(S){return-128<=S&&128>S?o(S,function(T){return new a([T|0],0>T?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return w(u(-S));for(var T=[],O=1,k=0;S>=O;k++)T[k]=S/O|0,O*=4294967296;return new a(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return w(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(T,8)),k=f,C=0;C<S.length;C+=8){var R=Math.min(8,S.length-C),N=parseInt(S.substring(C,C+R),T);8>R?(R=u(Math.pow(T,R)),k=k.j(R).add(u(N))):(k=k.j(O),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-w(this).m();for(var S=0,T=1,O=0;O<this.g.length;O++){var k=this.i(O);S+=(0<=k?k:4294967296+k)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(y(this))return"-"+w(this).toString(S);for(var T=u(Math.pow(S,6)),O=this,k="";;){var C=I(O,T).g;O=_(O,C.j(T));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=C,v(O))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:v(S)?0:1};function w(S){for(var T=S.g.length,O=[],k=0;k<T;k++)O[k]=~S.g[k];return new a(O,~S.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],k=0,C=0;C<=T;C++){var R=k+(this.i(C)&65535)+(S.i(C)&65535),N=(R>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=N>>>16,R&=65535,N&=65535,O[C]=N<<16|R}return new a(O,O[O.length-1]&-2147483648?-1:0)};function _(S,T){return S.add(w(T))}t.j=function(S){if(v(this)||v(S))return f;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,O=[],k=0;k<2*T;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<S.g.length;C++){var R=this.i(k)>>>16,N=this.i(k)&65535,U=S.i(C)>>>16,W=S.i(C)&65535;O[2*k+2*C]+=N*W,b(O,2*k+2*C),O[2*k+2*C+1]+=R*W,b(O,2*k+2*C+1),O[2*k+2*C+1]+=N*U,b(O,2*k+2*C+1),O[2*k+2*C+2]+=R*U,b(O,2*k+2*C+2)}for(k=0;k<T;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=T;k<2*T;k++)O[k]=0;return new a(O,0)};function b(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function x(S,T){this.g=S,this.h=T}function I(S,T){if(v(T))throw Error("division by zero");if(v(S))return new x(f,f);if(y(S))return T=I(w(S),T),new x(w(T.g),w(T.h));if(y(T))return T=I(S,w(T)),new x(w(T.g),T.h);if(30<S.g.length){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var O=h,k=T;0>=k.l(S);)O=E(O),k=E(k);var C=P(O,1),R=P(k,1);for(k=P(k,2),O=P(O,2);!v(k);){var N=R.add(k);0>=N.l(S)&&(C=C.add(O),R=N),k=P(k,1),O=P(O,1)}return T=_(S,C.j(T)),new x(C,T)}for(C=f;0<=S.l(T);){for(O=Math.max(1,Math.floor(S.m()/T.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(O),N=R.j(T);y(N)||0<N.l(S);)O-=k,R=u(O),N=R.j(T);v(R)&&(R=h),C=C.add(R),S=_(S,N)}return new x(C,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],k=0;k<T;k++)O[k]=this.i(k)&S.i(k);return new a(O,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],k=0;k<T;k++)O[k]=this.i(k)|S.i(k);return new a(O,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],k=0;k<T;k++)O[k]=this.i(k)^S.i(k);return new a(O,this.h^S.h)};function E(S){for(var T=S.g.length+1,O=[],k=0;k<T;k++)O[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(O,S.h)}function P(S,T){var O=T>>5;T%=32;for(var k=S.g.length-O,C=[],R=0;R<k;R++)C[R]=0<T?S.i(R+O)>>>T|S.i(R+O+1)<<32-T:S.i(R+O);return new a(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Yo=a}).apply(typeof yS<"u"?yS:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xk,tu,Yk,wd,_v,Qk,Jk,Zk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,A){return c==Array.prototype||c==Object.prototype||(c[g]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var g=0;g<c.length;++g){var A=c[g];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var A=r;c=c.split(".");for(var j=0;j<c.length-1;j++){var V=c[j];if(!(V in A))break e;A=A[V]}c=c[c.length-1],j=A[c],g=g(j),g!=j&&g!=null&&e(A,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var A=0,j=!1,V={next:function(){if(!j&&A<c.length){var z=A++;return{value:g(z,c[z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return o(this,function(g,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,A){return c.call.apply(c.bind,arguments)}function f(c,g,A){if(!c)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function h(c,g,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(c,g){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function v(c,g){function A(){}A.prototype=g.prototype,c.aa=g.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(j,V,z){for(var re=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)re[Ke-2]=arguments[Ke];return g.prototype[V].apply(j,re)}}function y(c){const g=c.length;if(0<g){const A=Array(g);for(let j=0;j<g;j++)A[j]=c[j];return A}return[]}function w(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const V=c.length||0,z=j.length||0;c.length=V+z;for(let re=0;re<z;re++)c[V+re]=j[re]}else c.push(j)}}class _{constructor(g,A){this.i=g,this.j=A,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var E=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(c,g,A){for(const j in c)g.call(A,c[j],j,c)}function S(c,g){for(const A in c)g.call(void 0,c[A],A,c)}function T(c){const g={};for(const A in c)g[A]=c[A];return g}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,g){let A,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(A in j)c[A]=j[A];for(let z=0;z<O.length;z++)A=O[z],Object.prototype.hasOwnProperty.call(j,A)&&(c[A]=j[A])}}function C(c){var g=1;c=c.split(":");const A=[];for(;0<g&&c.length;)A.push(c.shift()),g--;return c.length&&A.push(c.join(":")),A}function R(c){s.setTimeout(()=>{throw c},0)}function N(){var c=G;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class U{constructor(){this.h=this.g=null}add(g,A){const j=W.get();j.set(g,A),this.h?this.h.next=j:this.g=j,this.h=j}}var W=new _(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(g,A){this.h=g,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,F=!1,G=new U,Y=()=>{const c=s.Promise.resolve(void 0);Q=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){R(A)}var g=W;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}F=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,g),s.removeEventListener("test",A,g)}catch{}return c}();function he(c,g){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(E){e:{try{I(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else A=="mouseover"?g=c.fromElement:A=="mouseout"&&(g=c.toElement);this.relatedTarget=g,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&he.aa.h.call(this)}}v(he,K);var pe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),_e=0;function oe(c,g,A,j,V){this.listener=c,this.proxy=null,this.src=g,this.type=A,this.capture=!!j,this.ha=V,this.key=++_e,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function X(c){this.src=c,this.g={},this.h=0}X.prototype.add=function(c,g,A,j,V){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var re=ne(c,g,j,V);return-1<re?(g=c[re],A||(g.fa=!1)):(g=new oe(g,this.src,z,!!j,V),g.fa=A,c.push(g)),g};function B(c,g){var A=g.type;if(A in c.g){var j=c.g[A],V=Array.prototype.indexOf.call(j,g,void 0),z;(z=0<=V)&&Array.prototype.splice.call(j,V,1),z&&(ge(g),c.g[A].length==0&&(delete c.g[A],c.h--))}}function ne(c,g,A,j){for(var V=0;V<c.length;++V){var z=c[V];if(!z.da&&z.listener==g&&z.capture==!!A&&z.ha==j)return V}return-1}var ue="closure_lm_"+(1e6*Math.random()|0),Pe={};function Se(c,g,A,j,V){if(j&&j.once)return Be(c,g,A,j,V);if(Array.isArray(g)){for(var z=0;z<g.length;z++)Se(c,g[z],A,j,V);return null}return A=vl(A),c&&c[be]?c.K(g,A,u(j)?!!j.capture:!!j,V):Ce(c,g,A,!1,j,V)}function Ce(c,g,A,j,V,z){if(!g)throw Error("Invalid event type");var re=u(V)?!!V.capture:!!V,Ke=ur(c);if(Ke||(c[ue]=Ke=new X(c)),A=Ke.add(g,A,j,re,z),A.proxy)return A;if(j=Me(),A.proxy=j,j.src=c,j.listener=A,c.addEventListener)se||(V=re),V===void 0&&(V=!1),c.addEventListener(g.toString(),j,V);else if(c.attachEvent)c.attachEvent(pn(g.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Me(){function c(A){return g.call(c.src,c.listener,A)}const g=Wr;return c}function Be(c,g,A,j,V){if(Array.isArray(g)){for(var z=0;z<g.length;z++)Be(c,g[z],A,j,V);return null}return A=vl(A),c&&c[be]?c.L(g,A,u(j)?!!j.capture:!!j,V):Ce(c,g,A,!0,j,V)}function Vt(c,g,A,j,V){if(Array.isArray(g))for(var z=0;z<g.length;z++)Vt(c,g[z],A,j,V);else j=u(j)?!!j.capture:!!j,A=vl(A),c&&c[be]?(c=c.i,g=String(g).toString(),g in c.g&&(z=c.g[g],A=ne(z,A,j,V),-1<A&&(ge(z[A]),Array.prototype.splice.call(z,A,1),z.length==0&&(delete c.g[g],c.h--)))):c&&(c=ur(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ne(g,A,j,V)),(A=-1<c?g[c]:null)&&En(A))}function En(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[be])B(g.i,c);else{var A=c.type,j=c.proxy;g.removeEventListener?g.removeEventListener(A,j,c.capture):g.detachEvent?g.detachEvent(pn(A),j):g.addListener&&g.removeListener&&g.removeListener(j),(A=ur(g))?(B(A,c),A.h==0&&(A.src=null,g[ue]=null)):ge(c)}}}function pn(c){return c in Pe?Pe[c]:Pe[c]="on"+c}function Wr(c,g){if(c.da)c=!0;else{g=new he(g,this);var A=c.listener,j=c.ha||c.src;c.fa&&En(c),c=A.call(j,g)}return c}function ur(c){return c=c[ue],c instanceof X?c:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function vl(c){return typeof c=="function"?c:(c[ki]||(c[ki]=function(g){return c.handleEvent(g)}),c[ki])}function jt(){L.call(this),this.i=new X(this),this.M=this,this.F=null}v(jt,L),jt.prototype[be]=!0,jt.prototype.removeEventListener=function(c,g,A,j){Vt(this,c,g,A,j)};function Ft(c,g){var A,j=c.F;if(j)for(A=[];j;j=j.F)A.push(j);if(c=c.M,j=g.type||g,typeof g=="string")g=new K(g,c);else if(g instanceof K)g.target=g.target||c;else{var V=g;g=new K(j,c),k(g,V)}if(V=!0,A)for(var z=A.length-1;0<=z;z--){var re=g.g=A[z];V=Ea(re,j,!0,g)&&V}if(re=g.g=c,V=Ea(re,j,!0,g)&&V,V=Ea(re,j,!1,g)&&V,A)for(z=0;z<A.length;z++)re=g.g=A[z],V=Ea(re,j,!1,g)&&V}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var A=c.g[g],j=0;j<A.length;j++)ge(A[j]);delete c.g[g],c.h--}}this.F=null},jt.prototype.K=function(c,g,A,j){return this.i.add(String(c),g,!1,A,j)},jt.prototype.L=function(c,g,A,j){return this.i.add(String(c),g,!0,A,j)};function Ea(c,g,A,j){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,z=0;z<g.length;++z){var re=g[z];if(re&&!re.da&&re.capture==A){var Ke=re.listener,Bt=re.ha||re.src;re.fa&&B(c.i,re),V=Ke.call(Bt,j)!==!1&&V}}return V&&!j.defaultPrevented}function _t(c,g,A){if(typeof c=="function")A&&(c=h(c,A));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:s.setTimeout(c,g||0)}function sf(c){c.g=_t(()=>{c.g=null,c.i&&(c.i=!1,sf(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class M extends L{constructor(g,A){super(),this.m=g,this.l=A,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:sf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(c){L.call(this),this.h=c,this.g={}}v(ae,L);var ze=[];function mn(c){P(c.g,function(g,A){this.g.hasOwnProperty(A)&&En(g)},c),c.g={}}ae.prototype.N=function(){ae.aa.N.call(this),mn(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=s.JSON.stringify,le=s.JSON.parse,SM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function qm(){}qm.prototype.h=null;function l1(c){return c.h||(c.h=c.i())}function u1(){}var bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Km(){K.call(this,"d")}v(Km,K);function Xm(){K.call(this,"c")}v(Xm,K);var Ao={},c1=null;function lf(){return c1=c1||new jt}Ao.La="serverreachability";function f1(c){K.call(this,Ao.La,c)}v(f1,K);function _l(c){const g=lf();Ft(g,new f1(g))}Ao.STAT_EVENT="statevent";function d1(c,g){K.call(this,Ao.STAT_EVENT,c),this.stat=g}v(d1,K);function gn(c){const g=lf();Ft(g,new d1(g,c))}Ao.Ma="timingevent";function h1(c,g){K.call(this,Ao.Ma,c),this.size=g}v(h1,K);function wl(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},g)}function xl(){this.g=!0}xl.prototype.xa=function(){this.g=!1};function EM(c,g,A,j,V,z){c.info(function(){if(c.g)if(z)for(var re="",Ke=z.split("&"),Bt=0;Bt<Ke.length;Bt++){var Le=Ke[Bt].split("=");if(1<Le.length){var en=Le[0];Le=Le[1];var tn=en.split("_");re=2<=tn.length&&tn[1]=="type"?re+(en+"="+Le+"&"):re+(en+"=redacted&")}}else re=null;else re=z;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+g+`
`+A+`
`+re})}function TM(c,g,A,j,V,z,re){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+g+`
`+A+`
`+z+" "+re})}function Ta(c,g,A,j){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+PM(c,A)+(j?" "+j:"")})}function AM(c,g){c.info(function(){return"TIMEOUT: "+g})}xl.prototype.info=function(){};function PM(c,g){if(!c.g)return g;if(!g)return null;try{var A=JSON.parse(g);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var j=A[c];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return gt(A)}catch{return g}}var uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},p1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ym;function cf(){}v(cf,qm),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},Ym=new cf;function Ci(c,g,A,j){this.j=c,this.i=g,this.l=A,this.R=j||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m1}function m1(){this.i=null,this.g="",this.h=!1}var g1={},Qm={};function Jm(c,g,A){c.L=1,c.v=pf(Gr(g)),c.m=A,c.P=!0,y1(c,null)}function y1(c,g){c.F=Date.now(),ff(c),c.A=Gr(c.v);var A=c.A,j=c.R;Array.isArray(j)||(j=[String(j)]),C1(A.i,"t",j),c.C=0,A=c.j.J,c.h=new m1,c.g=X1(c.j,A?g:null,!c.m),0<c.O&&(c.M=new M(h(c.Y,c,c.g),c.O)),g=c.U,A=c.g,j=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(ze[0]=V.toString()),V=ze);for(var z=0;z<V.length;z++){var re=Se(A,V[z],j||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),_l(),EM(c.i,c.u,c.A,c.l,c.R,c.m)}Ci.prototype.ca=function(c){c=c.target;const g=this.M;g&&Hr(c)==3?g.j():this.Y(c)},Ci.prototype.Y=function(c){try{if(c==this.g)e:{const tn=Hr(this.g);var g=this.g.Ba();const Ia=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||L1(this.g)))){this.J||tn!=4||g==7||(g==8||0>=Ia?_l(3):_l(2)),Zm(this);var A=this.g.Z();this.X=A;t:if(v1(this)){var j=L1(this.g);c="";var V=j.length,z=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),Sl(this);var re="";break t}this.h.i=new s.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(j[g],{stream:!(z&&g==V-1)});j.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=A==200,TM(this.i,this.u,this.A,this.l,this.R,tn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Bt=this.g;if((Ke=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ke)){var Le=Ke;break t}}Le=null}if(A=Le)Ta(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eg(this,A);else{this.o=!1,this.s=3,gn(12),Po(this),Sl(this);break e}}if(this.P){A=!0;let cr;for(;!this.J&&this.C<re.length;)if(cr=IM(this,re),cr==Qm){tn==4&&(this.s=4,gn(14),A=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==g1){this.s=4,gn(15),Ta(this.i,this.l,re,"[Invalid Chunk]"),A=!1;break}else Ta(this.i,this.l,cr,null),eg(this,cr);if(v1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||re.length!=0||this.h.h||(this.s=1,gn(16),A=!1),this.o=this.o&&A,!A)Ta(this.i,this.l,re,"[Invalid Chunked Response]"),Po(this),Sl(this);else if(0<re.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ag(en),en.M=!0,gn(11))}}else Ta(this.i,this.l,re,null),eg(this,re);tn==4&&Po(this),this.o&&!this.J&&(tn==4?G1(this.j,this):(this.o=!1,ff(this)))}else GM(this.g),A==400&&0<re.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Po(this),Sl(this)}}}catch{}finally{}};function v1(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function IM(c,g){var A=c.C,j=g.indexOf(`
`,A);return j==-1?Qm:(A=Number(g.substring(A,j)),isNaN(A)?g1:(j+=1,j+A>g.length?Qm:(g=g.slice(j,j+A),c.C=j+A,g)))}Ci.prototype.cancel=function(){this.J=!0,Po(this)};function ff(c){c.S=Date.now()+c.I,b1(c,c.I)}function b1(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wl(h(c.ba,c),g)}function Zm(c){c.B&&(s.clearTimeout(c.B),c.B=null)}Ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(AM(this.i,this.A),this.L!=2&&(_l(),gn(17)),Po(this),this.s=2,Sl(this)):b1(this,this.S-c)};function Sl(c){c.j.G==0||c.J||G1(c.j,c)}function Po(c){Zm(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,mn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function eg(c,g){try{var A=c.j;if(A.G!=0&&(A.g==c||tg(A.h,c))){if(!c.K&&tg(A.h,c)&&A.G==3){try{var j=A.Da.g.parse(g)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)_f(A),vf(A);else break e;og(A),gn(18)}}else A.za=V[1],0<A.za-A.T&&37500>V[2]&&A.F&&A.v==0&&!A.C&&(A.C=wl(h(A.Za,A),6e3));if(1>=x1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Oo(A,11)}else if((c.K||A.g==c)&&_f(A),!b(g))for(V=A.Da.g.parse(g),g=0;g<V.length;g++){let Le=V[g];if(A.T=Le[0],Le=Le[1],A.G==2)if(Le[0]=="c"){A.K=Le[1],A.ia=Le[2];const en=Le[3];en!=null&&(A.la=en,A.j.info("VER="+A.la));const tn=Le[4];tn!=null&&(A.Aa=tn,A.j.info("SVER="+A.Aa));const Ia=Le[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(j=1.5*Ia,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const cr=c.g;if(cr){const xf=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xf){var z=j.h;z.g||xf.indexOf("spdy")==-1&&xf.indexOf("quic")==-1&&xf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ng(z,z.h),z.h=null))}if(j.D){const sg=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;sg&&(j.ya=sg,tt(j.I,j.D,sg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var re=c;if(j.qa=K1(j,j.J?j.ia:null,j.W),re.K){S1(j.h,re);var Ke=re,Bt=j.L;Bt&&(Ke.I=Bt),Ke.B&&(Zm(Ke),ff(Ke)),j.g=re}else z1(j);0<A.i.length&&bf(A)}else Le[0]!="stop"&&Le[0]!="close"||Oo(A,7);else A.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Oo(A,7):ig(A):Le[0]!="noop"&&A.l&&A.l.ta(Le),A.v=0)}}_l(4)}catch{}}var OM=class{constructor(c,g){this.g=c,this.map=g}};function _1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function x1(c){return c.h?1:c.g?c.g.size:0}function tg(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ng(c,g){c.g?c.g.add(g):c.h=g}function S1(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}_1.prototype.cancel=function(){if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function E1(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const A of c.g.values())g=g.concat(A.D);return g}return y(c.i)}function kM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],A=c.length,j=0;j<A;j++)g.push(c[j]);return g}g=[],A=0;for(j in c)g[A++]=c[j];return g}function CM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var A=0;A<c;A++)g.push(A);return g}g=[],A=0;for(const j in c)g[A++]=j;return g}}}function T1(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var A=CM(c),j=kM(c),V=j.length,z=0;z<V;z++)g.call(void 0,j[z],A&&A[z],c)}var A1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NM(c,g){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var j=c[A].indexOf("="),V=null;if(0<=j){var z=c[A].substring(0,j);V=c[A].substring(j+1)}else z=c[A];g(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Io(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Io){this.h=c.h,df(this,c.j),this.o=c.o,this.g=c.g,hf(this,c.s),this.l=c.l;var g=c.i,A=new Al;A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),P1(this,A),this.m=c.m}else c&&(g=String(c).match(A1))?(this.h=!1,df(this,g[1]||"",!0),this.o=El(g[2]||""),this.g=El(g[3]||"",!0),hf(this,g[4]),this.l=El(g[5]||"",!0),P1(this,g[6]||"",!0),this.m=El(g[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Io.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Tl(g,I1,!0),":");var A=this.g;return(A||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Tl(g,I1,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Tl(A,A.charAt(0)=="/"?MM:RM,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Tl(A,$M)),c.join("")};function Gr(c){return new Io(c)}function df(c,g,A){c.j=A?El(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hf(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function P1(c,g,A){g instanceof Al?(c.i=g,LM(c.i,c.h)):(A||(g=Tl(g,DM)),c.i=new Al(g,c.h))}function tt(c,g,A){c.i.set(g,A)}function pf(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function El(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tl(c,g,A){return typeof c=="string"?(c=encodeURI(c).replace(g,jM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var I1=/[#\/\?@]/g,RM=/[#\?:]/g,MM=/[#\?]/g,DM=/[#\?@]/g,$M=/#/g;function Al(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&NM(c.i,function(g,A){c.add(decodeURIComponent(g.replace(/\+/g," ")),A)}))}t=Al.prototype,t.add=function(c,g){Ni(this),this.i=null,c=Aa(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(g),this.h+=1,this};function O1(c,g){Ni(c),g=Aa(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function k1(c,g){return Ni(c),g=Aa(c,g),c.g.has(g)}t.forEach=function(c,g){Ni(this),this.g.forEach(function(A,j){A.forEach(function(V){c.call(g,V,j,this)},this)},this)},t.na=function(){Ni(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),A=[];for(let j=0;j<g.length;j++){const V=c[j];for(let z=0;z<V.length;z++)A.push(g[j])}return A},t.V=function(c){Ni(this);let g=[];if(typeof c=="string")k1(this,c)&&(g=g.concat(this.g.get(Aa(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)g=g.concat(c[A])}return g},t.set=function(c,g){return Ni(this),this.i=null,c=Aa(this,c),k1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function C1(c,g,A){O1(c,g),0<A.length&&(c.i=null,c.g.set(Aa(c,g),y(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var A=0;A<g.length;A++){var j=g[A];const z=encodeURIComponent(String(j)),re=this.V(j);for(j=0;j<re.length;j++){var V=z;re[j]!==""&&(V+="="+encodeURIComponent(String(re[j]))),c.push(V)}}return this.i=c.join("&")};function Aa(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function LM(c,g){g&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(A,j){var V=j.toLowerCase();j!=V&&(O1(this,j),C1(this,V,A))},c)),c.j=g}function VM(c,g){const A=new xl;if(s.Image){const j=new Image;j.onload=p(ji,A,"TestLoadImage: loaded",!0,g,j),j.onerror=p(ji,A,"TestLoadImage: error",!1,g,j),j.onabort=p(ji,A,"TestLoadImage: abort",!1,g,j),j.ontimeout=p(ji,A,"TestLoadImage: timeout",!1,g,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else g(!1)}function FM(c,g){const A=new xl,j=new AbortController,V=setTimeout(()=>{j.abort(),ji(A,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:j.signal}).then(z=>{clearTimeout(V),z.ok?ji(A,"TestPingServer: ok",!0,g):ji(A,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ji(A,"TestPingServer: error",!1,g)})}function ji(c,g,A,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(A)}catch{}}function BM(){this.g=new SM}function UM(c,g,A){const j=A||"";try{T1(c,function(V,z){let re=V;u(V)&&(re=gt(V)),g.push(j+z+"="+encodeURIComponent(re))})}catch(V){throw g.push(j+"type="+encodeURIComponent("_badmap")),V}}function mf(c){this.l=c.Ub||null,this.j=c.eb||!1}v(mf,qm),mf.prototype.g=function(){return new gf(this.l,this.j)},mf.prototype.i=function(c){return function(){return c}}({});function gf(c,g){jt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(gf,jt),t=gf.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||s).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function N1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Pl(this):Il(this),this.readyState==3&&N1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Pl(this))},t.Qa=function(c){this.g&&(this.response=c,Pl(this))},t.ga=function(){this.g&&Pl(this)};function Pl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Il(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var A=g.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=g.next();return c.join(`\r
`)};function Il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function j1(c){let g="";return P(c,function(A,j){g+=j,g+=":",g+=A,g+=`\r
`}),g}function rg(c,g,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=j1(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):tt(c,g,A))}function ht(c){jt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ht,jt);var zM=/^https?$/i,WM=["POST","PUT"];t=ht.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ym.g(),this.v=this.o?l1(this.o):l1(Ym),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(z){R1(this,z);return}if(c=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)A.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const z of j.keys())A.set(z,j.get(z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),V=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(WM,g,void 0))||j||V||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,re]of A)this.g.setRequestHeader(z,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$1(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){R1(this,z)}};function R1(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,M1(c),yf(c)}function M1(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),yf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yf(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D1(this):this.bb())},t.bb=function(){D1(this)};function D1(c){if(c.h&&typeof a<"u"&&(!c.v[1]||Hr(c)!=4||c.Z()!=2)){if(c.u&&Hr(c)==4)_t(c.Ea,0,c);else if(Ft(c,"readystatechange"),Hr(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var A;if(!(A=g)){var j;if(j=re===0){var V=String(c.D).match(A1)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),j=!zM.test(V?V.toLowerCase():"")}A=j}if(A)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var z=2<Hr(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",M1(c)}}finally{yf(c)}}}}function yf(c,g){if(c.g){$1(c);const A=c.g,j=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ft(c,"ready");try{A.onreadystatechange=j}catch{}}}function $1(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),le(g)}};function L1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function GM(c){const g={};c=(c.g&&2<=Hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(b(c[j]))continue;var A=C(c[j]);const V=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=g[V]||[];g[V]=z,z.push(A)}S(g,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(c,g,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||g}function V1(c){this.Aa=0,this.i=[],this.j=new xl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ol("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ol("baseRetryDelayMs",5e3,c),this.cb=Ol("retryDelaySeedMs",1e4,c),this.Wa=Ol("forwardChannelMaxRetries",2,c),this.wa=Ol("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _1(c&&c.concurrentRequestLimit),this.Da=new BM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=V1.prototype,t.la=8,t.G=1,t.connect=function(c,g,A,j){gn(0),this.W=c,this.H=g||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=K1(this,null,this.W),bf(this)};function ig(c){if(F1(c),c.G==3){var g=c.U++,A=Gr(c.I);if(tt(A,"SID",c.K),tt(A,"RID",g),tt(A,"TYPE","terminate"),kl(c,A),g=new Ci(c,c.j,g),g.L=2,g.v=pf(Gr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(g.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=g.v,A=!0),A||(g.g=X1(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ff(g)}q1(c)}function vf(c){c.g&&(ag(c),c.g.cancel(),c.g=null)}function F1(c){vf(c),c.u&&(s.clearTimeout(c.u),c.u=null),_f(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function bf(c){if(!w1(c.h)&&!c.s){c.s=!0;var g=c.Ga;Q||Y(),F||(Q(),F=!0),G.add(g,c),c.B=0}}function HM(c,g){return x1(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wl(h(c.Ga,c,g),H1(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Ci(this,this.j,c);let z=this.o;if(this.S&&(z?(z=T(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var g=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(g+=j,4096<g){g=A;break e}if(g===4096||A===this.i.length-1){g=A+1;break e}}g=1e3}else g=1e3;g=U1(this,V,g),A=Gr(this.I),tt(A,"RID",c),tt(A,"CVER",22),this.D&&tt(A,"X-HTTP-Session-Id",this.D),kl(this,A),z&&(this.O?g="headers="+encodeURIComponent(String(j1(z)))+"&"+g:this.m&&rg(A,this.m,z)),ng(this.h,V),this.Ua&&tt(A,"TYPE","init"),this.P?(tt(A,"$req",g),tt(A,"SID","null"),V.T=!0,Jm(V,A,null)):Jm(V,A,g),this.G=2}}else this.G==3&&(c?B1(this,c):this.i.length==0||w1(this.h)||B1(this))};function B1(c,g){var A;g?A=g.l:A=c.U++;const j=Gr(c.I);tt(j,"SID",c.K),tt(j,"RID",A),tt(j,"AID",c.T),kl(c,j),c.m&&c.o&&rg(j,c.m,c.o),A=new Ci(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),g&&(c.i=g.D.concat(c.i)),g=U1(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ng(c.h,A),Jm(A,j,g)}function kl(c,g){c.H&&P(c.H,function(A,j){tt(g,j,A)}),c.l&&T1({},function(A,j){tt(g,j,A)})}function U1(c,g,A){A=Math.min(c.i.length,A);var j=c.l?h(c.l.Na,c.l,c):null;e:{var V=c.i;let z=-1;for(;;){const re=["count="+A];z==-1?0<A?(z=V[0].g,re.push("ofs="+z)):z=0:re.push("ofs="+z);let Ke=!0;for(let Bt=0;Bt<A;Bt++){let Le=V[Bt].g;const en=V[Bt].map;if(Le-=z,0>Le)z=Math.max(0,V[Bt].g-100),Ke=!1;else try{UM(en,re,"req"+Le+"_")}catch{j&&j(en)}}if(Ke){j=re.join("&");break e}}}return c=c.i.splice(0,A),g.D=c,j}function z1(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Q||Y(),F||(Q(),F=!0),G.add(g,c),c.v=0}}function og(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wl(h(c.Fa,c),H1(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,W1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),vf(this),W1(this))};function ag(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function W1(c){c.g=new Ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Gr(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),kl(c,g),c.m&&c.o&&rg(g,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=pf(Gr(g)),A.m=null,A.P=!0,y1(A,c)}t.Za=function(){this.C!=null&&(this.C=null,vf(this),og(this),gn(19))};function _f(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function G1(c,g){var A=null;if(c.g==g){_f(c),ag(c),c.g=null;var j=2}else if(tg(c.h,g))A=g.D,S1(c.h,g),j=1;else return;if(c.G!=0){if(g.o)if(j==1){A=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;j=lf(),Ft(j,new h1(j,A)),bf(c)}else z1(c);else if(V=g.s,V==3||V==0&&0<g.X||!(j==1&&HM(c,g)||j==2&&og(c)))switch(A&&0<A.length&&(g=c.h,g.i=g.i.concat(A)),V){case 1:Oo(c,5);break;case 4:Oo(c,10);break;case 3:Oo(c,6);break;default:Oo(c,2)}}}function H1(c,g){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*g}function Oo(c,g){if(c.j.info("Error code "+g),g==2){var A=h(c.fb,c),j=c.Xa;const V=!j;j=new Io(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||df(j,"https"),pf(j),V?VM(j.toString(),A):FM(j.toString(),A)}else gn(2);c.G=0,c.l&&c.l.sa(g),q1(c),F1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function q1(c){if(c.G=0,c.ka=[],c.l){const g=E1(c.h);(g.length!=0||c.i.length!=0)&&(w(c.ka,g),w(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function K1(c,g,A){var j=A instanceof Io?Gr(A):new Io(A);if(j.g!="")g&&(j.g=g+"."+j.g),hf(j,j.s);else{var V=s.location;j=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var z=new Io(null);j&&df(z,j),g&&(z.g=g),V&&hf(z,V),A&&(z.l=A),j=z}return A=c.D,g=c.ya,A&&g&&tt(j,A,g),tt(j,"VER",c.la),kl(c,j),j}function X1(c,g,A){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new ht(new mf({eb:A})):new ht(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y1(){}t=Y1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wf(){}wf.prototype.g=function(c,g){return new Rn(c,g)};function Rn(c,g){jt.call(this),this.g=new V1(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!b(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Pa(this)}v(Rn,jt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){ig(this.g)},Rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=gt(c),c=A);g.i.push(new OM(g.Ya++,c)),g.G==3&&bf(g)},Rn.prototype.N=function(){this.g.l=null,delete this.j,ig(this.g),delete this.g,Rn.aa.N.call(this)};function Q1(c){Km.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const A in g){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}v(Q1,Km);function J1(){Xm.call(this),this.status=1}v(J1,Xm);function Pa(c){this.g=c}v(Pa,Y1),Pa.prototype.ua=function(){Ft(this.g,"a")},Pa.prototype.ta=function(c){Ft(this.g,new Q1(c))},Pa.prototype.sa=function(c){Ft(this.g,new J1)},Pa.prototype.ra=function(){Ft(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Zk=function(){return new wf},Jk=function(){return lf()},Qk=Ao,_v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uf.NO_ERROR=0,uf.TIMEOUT=8,uf.HTTP_ERROR=6,wd=uf,p1.COMPLETE="complete",Yk=p1,u1.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",jt.prototype.listen=jt.prototype.K,tu=u1,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Xk=ht}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const vS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new i_("@firebase/firestore");function Vl(){return sa.logLevel}function de(t,...e){if(sa.logLevel<=Ne.DEBUG){const n=e.map(s_);sa.debug(`Firestore (${nl}): ${t}`,...n)}}function vi(t,...e){if(sa.logLevel<=Ne.ERROR){const n=e.map(s_);sa.error(`Firestore (${nl}): ${t}`,...n)}}function ws(t,...e){if(sa.logLevel<=Ne.WARN){const n=e.map(s_);sa.warn(`Firestore (${nl}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function Ge(t,e){t||xe()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class t3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n3{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new li;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new li,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new e2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new sn(e)}}class r3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new r3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new o3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ct(0,0))}static max(){return new Ee(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends zu{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const l3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends zu{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return l3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function u3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new po(i,ye.empty(),e)}function c3(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(Ee.min(),ye.empty(),-1)}static max(){return new po(Ee.max(),ye.empty(),-1)}}function f3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==d3)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function p3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}l_.oe=-1;function Dp(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function m3(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uf(this.root,e,this.comparator,!0)}}class Uf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=o??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _S(this.data.getIterator())}getIteratorFrom(e){return new _S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class _S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Yt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new r2("Invalid base64 string: "+o):o}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const g3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=g3.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c_(t){const e=t.mapValue.fields.__previous_value__;return u_(e)?c_(e):e}function Wu(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Gu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:b3(t)?9007199254740991:v3(t)?10:11:xe()}function Vr(t,e){if(t===e)return!0;const n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=mo(i.timestampValue),s=mo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return la(i.bytesValue).isEqual(la(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return yt(i.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yt(i.integerValue)===yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=yt(i.doubleValue),s=yt(o.doubleValue);return a===s?ih(a)===ih(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return xs(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(bS(a)!==bS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Vr(a[l],s[l])))return!1;return!0}(t,e);default:return xe()}}function Hu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Ss(t,e){if(t===e)return 0;const n=ua(t),r=ua(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=yt(o.integerValue||o.doubleValue),l=yt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return wS(t.timestampValue,e.timestampValue);case 4:return wS(Wu(t),Wu(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(o,a){const s=la(o),l=la(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=Ve(s[u],l[u]);if(d!==0)return d}return Ve(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ve(yt(o.latitude),yt(a.latitude));return s!==0?s:Ve(yt(o.longitude),yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,d;const f=o.fields||{},h=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Ve(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:xS(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===zf.mapValue&&a===zf.mapValue)return 0;if(o===zf.mapValue)return 1;if(a===zf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ve(l[f],d[f]);if(h!==0)return h;const p=Ss(s[l[f]],u[d[f]]);if(p!==0)return p}return Ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe()}}function wS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=mo(t),r=mo(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function xS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ss(n[i],r[i]);if(o)return o}return Ve(n.length,r.length)}function Es(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return la(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=wv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${wv(n.fields[a])}`;return i+"}"}(t.mapValue):xe()}function xv(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function SS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function v3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=mu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){va(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new An(mu(this.value))}}function i2(t){const e=[];return va(t.fields,(n,r)=>{const i=new qt([n]);if(xd(r)){const o=i2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new un(e,0,Ee.min(),Ee.min(),Ee.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,Ee.min(),Ee.min(),An.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ee.min(),Ee.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function TS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Ss(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function _3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class It extends o2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x3(e,n,r):n==="array-contains"?new T3(e,r):n==="in"?new A3(e,r):n==="not-in"?new P3(e,r):n==="array-contains-any"?new I3(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S3(e,r):new E3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ss(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends o2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return a2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a2(t){return t.op==="and"}function s2(t){return w3(t)&&a2(t)}function w3(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function Sv(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+Es(t.value);if(s2(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function l2(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&l2(a,i.filters[s]),!0):!1}(t,e):void xe()}function u2(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${Es(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"}(t):"Filter"}class x3 extends It{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class S3 extends It{constructor(e,n){super(e,"in",n),this.keys=c2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E3 extends It{constructor(e,n){super(e,"not-in",n),this.keys=c2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class T3 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f_(n)&&Hu(n.arrayValue,this.value)}}class A3 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class P3 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hu(this.value.arrayValue,n)}}class I3 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function PS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new O3(t,e,n,r,i,o,a)}function d_(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Es(r)).join(",")),e.ue=n}return e.ue}function h_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AS(t.startAt,e.startAt)&&AS(t.endAt,e.endAt)}function Ev(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k3(t,e,n,r,i,o,a,s){return new $p(t,e,n,r,i,o,a,s)}function Lp(t){return new $p(t)}function IS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C3(t){return t.collectionGroup!==null}function gu(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Yt(qt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ah(o,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new ah(qt.keyField(),r))}return e.ce}function Rr(t){const e=Te(t);return e.le||(e.le=N3(e,gu(t))),e.le}function N3(t,e){if(t.limitType==="F")return PS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ah(i.field,o)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return PS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tv(t,e,n){return new $p(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vp(t,e){return h_(Rr(t),Rr(e))&&t.limitType===e.limitType}function f2(t){return`${d_(Rr(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u2(i)).join(", ")}]`),Dp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Es(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Fp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of gu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=TS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,gu(r),i)||r.endAt&&!function(a,s,l){const u=TS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,gu(r),i))}(t,e)}function j3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d2(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const o=R3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function R3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ss(l,u):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return n2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new dt(ye.comparator);function bi(){return M3}const h2=new dt(ye.comparator);function nu(...t){let e=h2;for(const n of t)e=e.insert(n.key,n);return e}function p2(t){let e=h2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Uo(){return yu()}function m2(){return yu()}function yu(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const D3=new dt(ye.comparator),$3=new Yt(ye.comparator);function ke(...t){let e=$3;for(const n of t)e=e.add(n);return e}const L3=new Yt(Ve);function V3(){return L3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function g2(t){return{integerValue:""+t}}function y2(t,e){return m3(e)?g2(e):p_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this._=void 0}}function F3(t,e,n){return t instanceof sh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&u_(o)&&(o=c_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof qu?b2(t,e):t instanceof Ku?_2(t,e):function(i,o){const a=v2(i,o),s=OS(a)+OS(i.Pe);return xv(a)&&xv(i.Pe)?g2(s):p_(i.serializer,s)}(t,e)}function B3(t,e,n){return t instanceof qu?b2(t,e):t instanceof Ku?_2(t,e):n}function v2(t,e){return t instanceof Xu?function(r){return xv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sh extends Bp{}class qu extends Bp{constructor(e){super(),this.elements=e}}function b2(t,e){const n=w2(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ku extends Bp{constructor(e){super(),this.elements=e}}function _2(t,e){let n=w2(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class Xu extends Bp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function OS(t){return yt(t.integerValue||t.doubleValue)}function w2(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.field=e,this.transform=n}}function z3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof Ku&&i instanceof Ku?xs(r.elements,i.elements,Vr):r instanceof Xu&&i instanceof Xu?Vr(r.Pe,i.Pe):r instanceof sh&&i instanceof sh}(t.transform,e.transform)}class W3{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Up{}function x2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m_(t.key,tr.none()):new Bc(t.key,t.data,tr.none());{const n=t.data,r=An.empty();let i=new Yt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new _o(t.key,r,new Bn(i.toArray()),tr.none())}}function G3(t,e,n){t instanceof Bc?function(i,o,a){const s=i.value.clone(),l=CS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,o,a){if(!Sd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=CS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(S2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function vu(t,e,n,r){return t instanceof Bc?function(o,a,s,l){if(!Sd(o.precondition,a))return s;const u=o.value.clone(),d=NS(o.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(o,a,s,l){if(!Sd(o.precondition,a))return s;const u=NS(o.fieldTransforms,l,a),d=a.data;return d.setAll(S2(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Sd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function H3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=v2(r.transform,i||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function kS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(o,a)=>z3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends Up{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _o extends Up{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function S2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CS(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,B3(a,s,n[i]))}return r}function NS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,F3(o,a,e))}return r}class m_ extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q3 extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&G3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=m2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=x2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,r)=>kS(n,r))&&xs(this.baseMutations,e.baseMutations,(n,r)=>kS(n,r))}}class g_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return D3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new g_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Re;function Q3(t){switch(t){default:return xe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function E2(t){if(t===void 0)return vi("GRPC error has no .code"),J.UNKNOWN;switch(t){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return xe()}}(Re=wt||(wt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Yo([4294967295,4294967295],0);function jS(t){const e=J3().encode(t),n=new Kk;return n.update(e),new Uint8Array(n.digest())}function RS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,o],0)]}class y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(Z3)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jS(e),[r,i]=RS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new y_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=jS(e),[r,i]=RS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zp(Ee.min(),i,new dt(Ve),bi(),ke())}}class Uc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uc(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class T2{constructor(e,n){this.targetId=e,this.me=n}}class A2{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MS{constructor(){this.fe=0,this.ge=$S(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Uc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$S()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eV{constructor(e){this.Le=e,this.Be=new Map,this.ke=bi(),this.qe=DS(),this.Qe=new dt(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ev(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,un.newNoDocument(a,Ee.min()))}else Ge(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=la(r).toUint8Array()}catch(l){if(l instanceof r2)return ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new y_(a,i,o)}catch(l){return ws(l instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Ev(s.target)){const l=new ye(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,un.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=ke();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new zp(e,n,this.Qe,this.ke,r);return this.ke=bi(),this.qe=DS(),this.Qe=new dt(Ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new MS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DS(){return new dt(ye.comparator)}function $S(){return new dt(ye.comparator)}const tV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rV=(()=>({and:"AND",or:"OR"}))();class iV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Av(t,e){return t.useProto3Json||Dp(e)?e:{value:e}}function lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oV(t,e){return lh(t,e.toTimestamp())}function Mr(t){return Ge(!!t),Ee.fromTimestamp(function(n){const r=mo(n);return new Ct(r.seconds,r.nanos)}(t))}function v_(t,e){return Pv(t,e).canonicalString()}function Pv(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function I2(t){const e=st.fromString(t);return Ge(j2(e)),e}function Iv(t,e){return v_(t.databaseId,e.path)}function Vg(t,e){const n=I2(e);if(n.get(1)!==t.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(k2(n))}function O2(t,e){return v_(t.databaseId,e)}function aV(t){const e=I2(t);return e.length===4?st.emptyPath():k2(e)}function Ov(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k2(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LS(t,e,n){return{name:Iv(t,e),fields:n.value.mapValue.fields}}function sV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string"),Zt.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?J.UNKNOWN:E2(u.code);return new me(d,u.message||"")}(a);n=new A2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vg(t,r.document.name),o=Mr(r.document.updateTime),a=r.document.createTime?Mr(r.document.createTime):Ee.min(),s=new An({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ed(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vg(t,r.document),o=r.readTime?Mr(r.readTime):Ee.min(),a=un.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ed([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vg(t,r.document),o=r.removedTargetIds||[];n=new Ed([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Y3(i,o),s=r.targetId;n=new T2(s,a)}}return n}function lV(t,e){let n;if(e instanceof Bc)n={update:LS(t,e.key,e.value)};else if(e instanceof m_)n={delete:Iv(t,e.key)};else if(e instanceof _o)n={update:LS(t,e.key,e.data),updateMask:yV(e.fieldMask)};else{if(!(e instanceof q3))return xe();n={verify:Iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof sh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof qu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ku)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Xu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(t,e.precondition)),n}function uV(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Mr(i.updateTime):Mr(o);return a.isEqual(Ee.min())&&(a=Mr(o)),new W3(a,i.transformResults||[])}(n,e))):[]}function cV(t,e){return{documents:[O2(t,e.path)]}}function fV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O2(t,i);const o=function(u){if(u.length!==0)return N2(Fr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Ma(h.field),direction:pV(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Av(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function dV(t){let e=aV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=C2(f);return h instanceof Fr&&s2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(v){return new ah(Da(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Dp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new oh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new oh(p,h)}(n.endAt)),k3(e,i,a,o,s,"F",l,u)}function hV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Da(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Da(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Da(n.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Da(n.unaryFilter.field);return It.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return It.create(Da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>C2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function pV(t){return tV[t]}function mV(t){return nV[t]}function gV(t){return rV[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function Da(t){return qt.fromServerFormat(t.fieldPath)}function N2(t){return t instanceof It?function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(SS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(SS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:mV(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>N2(i));return r.length===1?r[0]:{compositeFilter:{op:gV(n.op),filters:r}}}(t):xe()}function yV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,i,o=Ee.min(),a=Ee.min(),s=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.ct=e}}function bV(t){const e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.un=new wV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(po.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class wV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ts(0)}static kn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vu(r.mutation,i,Bn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=nu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=bi();const a=yu(),s=function(){return yu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _o)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),vu(d.mutation,u,d.mutation.getFieldMask(),Ct.now())):a.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new SV(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=yu();let i=new dt((a,s)=>a-s),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Bn.empty();d=s.applyToLocalView(u,d),r.set(l,d);const f=(i.get(s.batchId)||ke()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=m2();d.forEach(h=>{if(!o.has(h)){const p=x2(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(Uo());let s=-1,l=o;return a.next(u=>Z.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ke())).next(d=>({batchId:s,changes:p2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=nu();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,l=>{const u=function(f,h){return new $p(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,un.newInvalidDocument(d)))});let s=nu();return a.forEach((l,u)=>{const d=o.get(l);d!==void 0&&vu(d.mutation,u,Bn.empty(),Ct.now()),Fp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:bV(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.overlays=new dt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=Uo(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Uo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=Uo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new X3(n,r));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Tr=new Yt(Rt.Er),this.dr=new Yt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new st([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new st([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=ke();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yt(Rt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new K3(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Rt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Ve);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new ye(o),0);let s=new Yt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.Mr=e,this.docs=function(){return new dt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=bi();const a=n.path,s=new ye(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||f3(c3(d),r)<=0||(i.has(d.key)||Fp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kV(this)}getSize(e){return Z.resolve(this.size)}}class kV extends xV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.persistence=e,this.Nr=new rl(n=>d_(n),h_),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new b_,this.targetCount=0,this.kr=Ts.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ts(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new l_(0),this.Kr=!1,this.Kr=!0,this.$r=new PV,this.referenceDelegate=e(this),this.Ur=new CV(this),this.indexManager=new _V,this.remoteDocumentCache=function(i){return new OV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vV(n),this.Gr=new TV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new IV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new jV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jV extends h3{constructor(e){super(),this.currentSequenceNumber=e}}class __{constructor(e){this.persistence=e,this.Jr=new b_,this.Yr=null}static Zr(e){return new __(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new w_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ML()?8:p3(hn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new RV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vl()<=Ne.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Vl()<=Ne.DEBUG&&de("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vl()<=Ne.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):Z.resolve())}Yi(e,n){if(IS(n))return Z.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tv(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ke(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Tv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return IS(n)||i.isEqual(Ee.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(Vl()<=Ne.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.rs(e,a,n,u3(i,-1)).next(s=>s))})}ts(e,n){let r=new Yt(d2(e));return n.forEach((i,o)=>{Fp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Vl()<=Ne.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.Ji.getDocumentsMatchingQuery(e,n,po.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(Ve),this._s=new rl(o=>d_(o),h_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function $V(t,e,n,r){return new DV(t,e,n,r)}async function R2(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=ke();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function LV(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const f=u.batch,h=f.keys();let p=Z.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(l,v)).next(y=>{const w=u.docVersions.get(v);Ge(w!==null),y.version.compareTo(w)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ke();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M2(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VV(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Zt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,d)&&s.push(n.Ur.updateTargetData(o,p))});let l=bi(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(FV(o,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function FV(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=bi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):de("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function BV(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UV(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ki(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kv(t,e,n){const r=Te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Fc(a))throw a;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function VS(t,e,n){const r=Te(t);let i=Ee.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=Te(l),h=f._s.get(d);return h!==void 0?Z.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,a,Rr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ee.min(),n?o:ke())).next(s=>(zV(r,j3(e),s),{documents:s,Ts:o})))}function zV(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class FS{constructor(){this.activeTargetIds=V3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WV{constructor(){this.so=new FS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new FS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=null;function Fg(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class KV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Fg(),l=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(d=>(de("RestConnection",`Received RPC '${n}' ${s}: `,d),d),d=>{throw ws("RestConnection",`RPC '${n}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=HV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Fg();return new Promise((a,s)=>{const l=new Xk;l.setWithCredentials(!0),l.listenOnce(Yk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wd.NO_ERROR:const d=l.getResponseJson();de(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case wd.TIMEOUT:de(on,`RPC '${e}' ${o} timed out`),s(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const f=l.getStatus();if(de(on,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(p.status);s(new me(v,p.message))}else s(new me(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new me(J.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(on,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);de(on,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Fg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zk(),s=Jk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");de(on,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,p=!1;const v=new qV({Io:w=>{p?de(on,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(de(on,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),de(on,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),y=(w,_,b)=>{w.listen(_,x=>{try{b(x)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,tu.EventType.OPEN,()=>{p||(de(on,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),y(f,tu.EventType.CLOSE,()=>{p||(p=!0,de(on,`RPC '${e}' stream ${i} transport closed`),v.So())}),y(f,tu.EventType.ERROR,w=>{p||(p=!0,ws(on,`RPC '${e}' stream ${i} transport errored:`,w),v.So(new me(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,tu.EventType.MESSAGE,w=>{var _;if(!p){const b=w.data[0];Ge(!!b);const x=b,I=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(I){de(on,`RPC '${e}' stream ${i} received error:`,I);const E=I.status;let P=function(O){const k=wt[O];if(k!==void 0)return E2(k)}(E),S=I.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+E+" with message "+I.message),p=!0,v.So(new me(P,S)),f.close()}else de(on,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),y(s,Qk.STAT_EVENT,w=>{w.stat===_v.PROXY?de(on,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===_v.NOPROXY&&de(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return new iV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new me(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XV extends $2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ee.min():a.readTime?Mr(a.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ov(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Ev(l)?{documents:cV(o,l)}:{query:fV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=P2(o,a.resumeToken);const u=Av(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ee.min())>0){s.readTime=lh(o,a.snapshotVersion.toTimestamp());const u=Av(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=hV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.a_(n)}}class YV extends $2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=uV(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ov(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Pv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Pv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ba(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.L_.add(4),await zc(u),u.q_.set("Unknown"),u.L_.delete(4),await Gp(u)}(this))})}),this.q_=new JV(r,i)}}async function Gp(t){if(ba(t))for(const e of t.B_)await e(!0)}async function zc(t){for(const e of t.B_)await e(!1)}function L2(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),T_(n)?E_(n):il(n).r_()&&S_(n,e))}function x_(t,e){const n=Te(t),r=il(n);n.N_.delete(e),r.r_()&&V2(n,e),n.N_.size===0&&(r.r_()?r.o_():ba(n)&&n.q_.set("Unknown"))}function S_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).A_(e)}function V2(t,e){t.Q_.xe(e),il(t).R_(e)}function E_(t){t.Q_=new eV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),il(t).start(),t.q_.v_()}function T_(t){return ba(t)&&!il(t).n_()&&t.N_.size>0}function ba(t){return Te(t).L_.size===0}function F2(t){t.Q_=void 0}async function eF(t){t.q_.set("Online")}async function tF(t){t.N_.forEach((e,n)=>{S_(t,e)})}async function nF(t,e){F2(t),T_(t)?(t.q_.M_(e),E_(t)):t.q_.set("Unknown")}async function rF(t,e,n){if(t.q_.set("Online"),e instanceof A2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uh(t,r)}else if(e instanceof Ed?t.Q_.Ke(e):e instanceof T2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await M2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),V2(o,l);const f=new Ki(d.target,l,u,d.sequenceNumber);S_(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await uh(t,r)}}async function uh(t,e,n){if(!Fc(e))throw e;t.L_.add(1),await zc(t),t.q_.set("Offline"),n||(n=()=>M2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gp(t)})}function B2(t,e){return e().catch(n=>uh(t,n,e))}async function Hp(t){const e=Te(t),n=go(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iF(e);)try{const i=await BV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,oF(e,i)}catch(i){await uh(e,i)}U2(e)&&z2(e)}function iF(t){return ba(t)&&t.O_.length<10}function oF(t,e){t.O_.push(e);const n=go(t);n.r_()&&n.V_&&n.m_(e.mutations)}function U2(t){return ba(t)&&!go(t).n_()&&t.O_.length>0}function z2(t){go(t).start()}async function aF(t){go(t).p_()}async function sF(t){const e=go(t);for(const n of t.O_)e.m_(n.mutations)}async function lF(t,e,n){const r=t.O_.shift(),i=g_.from(r,e,n);await B2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hp(t)}async function uF(t,e){e&&go(t).V_&&await async function(r,i){if(function(a){return Q3(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();go(r).s_(),await B2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hp(r)}}(t,e),U2(t)&&z2(t)}async function US(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=ba(n);n.L_.add(3),await zc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gp(n)}async function cF(t,e){const n=Te(t);e?(n.L_.delete(2),await Gp(n)):e||(n.L_.add(2),await zc(n),n.q_.set("Unknown"))}function il(t){return t.K_||(t.K_=function(n,r,i){const o=Te(n);return o.w_(),new XV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:eF.bind(null,t),Ro:tF.bind(null,t),mo:nF.bind(null,t),d_:rF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),T_(t)?E_(t):t.q_.set("Unknown")):(await t.K_.stop(),F2(t))})),t.K_}function go(t){return t.U_||(t.U_=function(n,r,i){const o=Te(n);return o.w_(),new YV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aF.bind(null,t),mo:uF.bind(null,t),f_:sF.bind(null,t),g_:lF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hp(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new A_(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Fc(t))return new me(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new os(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new os;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.W_=new dt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class As{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new As(e,n,os.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dF{constructor(){this.queries=WS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),o=i.queries;i.queries=WS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function WS(){return new rl(t=>f2(t),Vp)}async function I_(t,e){const n=Te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=P_(a,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&k_(n)}async function O_(t,e){const n=Te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hF(t,e){const n=Te(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&k_(n)}function pF(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function k_(t){t.Y_.forEach(e=>{e.next()})}var Cv,GS;(GS=Cv||(Cv={})).ea="default",GS.Cache="cache";class C_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.key=e}}class G2{constructor(e){this.key=e}}class mF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=d2(e),this.Ra=new os(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=Fp(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),w=!0):this.ga(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(s=!0)),w&&(p?(a=a.add(p),o=y?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(p,v){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return y(p)-y(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new As(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new G2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new W2(r))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return As.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yF{constructor(e){this.key=e,this.va=!1}}class vF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new rl(s=>f2(s),Vp),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(ye.comparator),this.Na=new Map,this.La=new b_,this.Ba={},this.ka=new Map,this.qa=Ts.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bF(t,e,n=!0){const r=Q2(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await H2(r,e,n,!0),i}async function _F(t,e){const n=Q2(t);await H2(n,e,!0,!1)}async function H2(t,e,n,r){const i=await UV(t.localStore,Rr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await wF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&L2(t.remoteStore,i),s}async function wF(t,e,n,r,i){t.Ka=(f,h,p)=>async function(y,w,_,b){let x=w.view.ma(_);x.ns&&(x=await VS(y.localStore,w.query,!1).then(({documents:S})=>w.view.ma(S,x)));const I=b&&b.targetChanges.get(w.targetId),E=b&&b.targetMismatches.get(w.targetId)!=null,P=w.view.applyChanges(x,y.isPrimaryClient,I,E);return qS(y,w.targetId,P.wa),P.snapshot}(t,f,h,p);const o=await VS(t.localStore,e,!0),a=new mF(e,o.Ts),s=a.ma(o.documents),l=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);qS(t,n,u.wa);const d=new gF(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function xF(t,e,n){const r=Te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Vp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x_(r.remoteStore,i.targetId),Nv(r,i.targetId)}).catch(Vc)):(Nv(r,i.targetId),await kv(r.localStore,i.targetId,!0))}async function SF(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x_(n.remoteStore,r.targetId))}async function EF(t,e,n){const r=CF(t);try{const i=await function(a,s){const l=Te(a),u=Ct.now(),d=s.reduce((p,v)=>p.add(v.key),ke());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=bi(),y=ke();return l.cs.getEntries(p,d).next(w=>{v=w,v.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(w=>{f=w;const _=[];for(const b of s){const x=H3(b,f.get(b.key).overlayedDocument);x!=null&&_.push(new _o(b.key,x,i2(x.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:p2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new dt(Ve)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Wc(r,i.changes),await Hp(r.remoteStore)}catch(i){const o=P_(i,"Failed to persist write");n.reject(o)}}async function q2(t,e){const n=Te(t);try{const r=await VV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ge(a.va):i.removedDocuments.size>0&&(Ge(a.va),a.va=!1))}),await Wc(n,r,e)}catch(r){await Vc(r)}}function HS(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Te(a);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&k_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TF(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new dt(ye.comparator);a=a.insert(o,un.newNoDocument(o,Ee.min()));const s=ke().add(o),l=new zp(Ee.min(),new Map,new dt(Ve),a,s);await q2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),N_(r)}else await kv(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(Vc)}async function AF(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await LV(n.localStore,e);X2(n,r,null),K2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(n,i)}catch(i){await Vc(i)}}async function PF(t,e,n){const r=Te(t);try{const i=await function(a,s){const l=Te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ge(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);X2(r,e,n),K2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wc(r,i)}catch(i){await Vc(i)}}function K2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function X2(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Y2(t,r)})}function Y2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(x_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),N_(t))}function qS(t,e,n){for(const r of n)r instanceof W2?(t.La.addReference(r.key,e),IF(t,r)):r instanceof G2?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Y2(t,r.key)):xe()}function IF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),N_(t))}function N_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(st.fromString(e)),r=t.qa.next();t.Na.set(r,new yF(n)),t.Oa=t.Oa.insert(n,r),L2(t.remoteStore,new Ki(Rr(Lp(n.path)),r,"TargetPurposeLimboResolution",l_.oe))}}async function Wc(t,e,n){const r=Te(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=w_.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=Te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,h=>Z.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Z.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Fc(f))throw f;de("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,y)}}}(r.localStore,o))}async function OF(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await R2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new me(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wc(n,r.hs)}}function kF(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function Q2(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TF.bind(null,e),e.Ca.d_=hF.bind(null,e.eventManager),e.Ca.$a=pF.bind(null,e.eventManager),e}function CF(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PF.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return $V(this.persistence,new MV,e.initialUser,this.serializer)}Ga(e){return new NV(__.Zr,this.serializer)}Wa(e){return new WV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class jv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OF.bind(null,this.syncEngine),await cF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dF}()}createDatastore(e){const n=Wp(e.databaseInfo.databaseId),r=function(o){return new KV(o)}(e.databaseInfo);return function(o,a,s,l){return new QV(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new ZV(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>HS(this.syncEngine,n,0),function(){return BS.D()?new BS:new GV}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,d){const f=new vF(i,o,a,s,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Te(i);de("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await zc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=t2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{de("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(de("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await R2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jF(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>US(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>US(e.remoteStore,i)),t._onlineComponents=e}async function jF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),await Ug(t,new ch)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Ug(t,new ch);return t._offlineComponents}async function J2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await KS(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await KS(t,new jv))),t._onlineComponents}function RF(t){return J2(t).then(e=>e.syncEngine)}async function fh(t){const e=await J2(t),n=e.eventManager;return n.onListen=bF.bind(null,e.syncEngine),n.onUnlisten=xF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_F.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SF.bind(null,e.syncEngine),n}function MF(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new j_({next:h=>{d.Za(),a.enqueueAndForget(()=>O_(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new C_(Lp(s.path),d,{includeMetadataChanges:!0,_a:!0});return I_(o,f)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}function DF(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new j_({next:h=>{d.Za(),a.enqueueAndForget(()=>O_(o,f)),h.fromCache&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new C_(s,d,{includeMetadataChanges:!0,_a:!0});return I_(o,f)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e,n){if(!n)throw new me(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $F(t,e,n,r){if(e===!0&&r===!0)throw new me(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YS(t){if(!ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){if(ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=R_(t);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$F("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XS.get(n);r&&(de("ComponentProvider","Removing Datastore"),XS.delete(n),r.terminate())}(this),Promise.resolve()}}function LF(t,e,n,r={}){var i;const o=(t=Nn(t,qp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=sn.MOCK_USER;else{s=IL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(u)}t._authCredentials=new t3(new e2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gc(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class so extends Gc{constructor(e,n,r){super(e,n,Lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ye(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function dr(t,e,...n){if(t=Jt(t),eC("collection","path",e),t instanceof qp){const r=st.fromString(e,...n);return QS(r),new so(t,null,r)}{if(!(t instanceof wn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return QS(r),new so(t.firestore,null,r)}}function Ht(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=t2.newId()),eC("doc","path",e),t instanceof qp){const r=st.fromString(e,...n);return YS(r),new wn(t,null,new ye(r))}{if(!(t instanceof wn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return YS(r),new wn(t.firestore,t instanceof so?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new D2(this,"async_queue_retry"),this.Vu=()=>{const r=Bg();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=A_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class _i extends qp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZS(e),this._firestoreClient=void 0,await e}}}function VF(t,e){const n=typeof t=="object"?t:Gk(),r=typeof t=="string"?t:e||"(default)",i=a_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=AL("firestore");o&&LF(i,...o)}return i}function Kp(t){if(t._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FF(t),t._firestoreClient}function FF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,d){return new y3(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Z2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(Zt.fromBase64String(e))}catch(n){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ps(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^__.*__$/;class UF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}class tC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class $_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nC(this.Cu)&&BF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class zF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wp(e)}Qu(e,n,r,i=!1){return new $_({Cu:e,methodName:n,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L_(t){const e=t._freezeSettings(),n=Wp(t._databaseId);return new zF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);F_("Data must be an object, but it was:",a,r);const s=iC(r,a);let l,u;if(o.merge)l=new Bn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Rv(e,f,n);if(!a.contains(h))throw new me(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);aC(d,h)||d.push(h)}l=new Bn(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new UF(new An(s),l,u)}class Qp extends Yp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}class V_ extends Yp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Xu(e.serializer,y2(e.serializer,this.$u));return new U3(e.path,n)}isEqual(e){return e instanceof V_&&this.$u===e.$u}}function WF(t,e,n,r){const i=t.Qu(1,e,n);F_("Data must be an object, but it was:",i,r);const o=[],a=An.empty();va(r,(l,u)=>{const d=B_(e,l,n);u=Jt(u);const f=i.Nu(d);if(u instanceof Qp)o.push(d);else{const h=Jp(u,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new Bn(o);return new tC(a,s,i.fieldTransforms)}function GF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Rv(e,r,n)],l=[i];if(o.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Rv(e,o[h])),l.push(o[h+1]);const u=[],d=An.empty();for(let h=s.length-1;h>=0;--h)if(!aC(u,s[h])){const p=s[h];let v=l[h];v=Jt(v);const y=a.Nu(p);if(v instanceof Qp)u.push(p);else{const w=Jp(v,y);w!=null&&(u.push(p),d.set(p,w))}}const f=new Bn(u);return new tC(d,f,a.fieldTransforms)}function Jp(t,e){if(oC(t=Jt(t)))return F_("Unsupported field value:",e,t),iC(t,e);if(t instanceof Yp)return function(r,i){if(!nC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Jp(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:lh(i.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,o)}}if(r instanceof M_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ps)return{bytesValue:P2(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof D_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return p_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${R_(r)}`)}(t,e)}function iC(t,e){const n={};return n2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,i)=>{const o=Jp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof M_||t instanceof Ps||t instanceof wn||t instanceof Yp||t instanceof D_)}function F_(t,e,n){if(!oC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=R_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Rv(t,e,n){if((e=Jt(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return B_(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const HF=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(HF)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new me(J.INVALID_ARGUMENT,s+t+l)}function aC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qF extends sC{data(){return super.data()}}function lC(t,e){return typeof e=="string"?B_(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KF{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>yt(a.doubleValue));return new D_(o)}convertGeoPoint(e){return new M_(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=mo(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ge(j2(r));const i=new Gu(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fC extends sC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Td extends fC{data(e={}){return super.data(e)}}class dC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Td(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Td(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:XF(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){t=Nn(t,wn);const e=Nn(t.firestore,_i);return MF(Kp(e),t._key).then(n=>pC(e,t,n))}class U_ extends KF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function tE(t){t=Nn(t,Gc);const e=Nn(t.firestore,_i),n=Kp(e),r=new U_(e);return uC(t._query),DF(n,t._query).then(i=>new dC(e,r,t,i))}function YF(t,e,n){t=Nn(t,wn);const r=Nn(t.firestore,_i),i=cC(t.converter,e,n);return Zp(r,[rC(L_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function Yr(t,e,n,...r){t=Nn(t,wn);const i=Nn(t.firestore,_i),o=L_(i);let a;return a=typeof(e=Jt(e))=="string"||e instanceof Xp?GF(o,"updateDoc",t._key,e,n,r):WF(o,"updateDoc",t._key,e),Zp(i,[a.toMutation(t._key,tr.exists(!0))])}function Gf(t){return Zp(Nn(t.firestore,_i),[new m_(t._key,tr.none())])}function Fl(t,e){const n=Nn(t.firestore,_i),r=Ht(t),i=cC(t.converter,e);return Zp(n,[rC(L_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function Xa(t,...e){var n,r,i;t=Jt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||eE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eE(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof wn)u=Nn(t.firestore,_i),d=Lp(t._key.path),l={next:f=>{e[a]&&e[a](pC(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Nn(t,Gc);u=Nn(f.firestore,_i),d=f._query;const h=new U_(u);l={next:p=>{e[a]&&e[a](new dC(u,h,f,p))},error:e[a+1],complete:e[a+2]},uC(t._query)}return function(h,p,v,y){const w=new j_(y),_=new C_(p,w,v);return h.asyncQueue.enqueueAndForget(async()=>I_(await fh(h),_)),()=>{w.Za(),h.asyncQueue.enqueueAndForget(async()=>O_(await fh(h),_))}}(Kp(u),d,s,l)}function Zp(t,e){return function(r,i){const o=new li;return r.asyncQueue.enqueueAndForget(async()=>EF(await RF(r),i,o)),o.promise}(Kp(t),e)}function pC(t,e,n){const r=n.docs.get(e._key),i=new U_(t);return new fC(t,i,e._key,r,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function ko(t){return new V_("increment",t)}(function(e,n=!0){(function(i){nl=i})(tl),_s(new aa("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new _i(new n3(r.getProvider("auth-internal")),new a3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ao(vS,"4.7.3",e),ao(vS,"4.7.3","esm2017")})();function z_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QF=mC,gC=new $c("auth","Firebase",mC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new i_("@firebase/auth");function JF(t,...e){hh.logLevel<=Ne.WARN&&hh.warn(`Auth (${tl}): ${t}`,...e)}function Ad(t,...e){hh.logLevel<=Ne.ERROR&&hh.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw G_(t,...e)}function Er(t,...e){return G_(t,...e)}function W_(t,e,n){const r=Object.assign(Object.assign({},QF()),{[e]:n});return new $c("auth","Firebase",r).create(e,{appName:t.name})}function Qo(t){return W_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(t,"argument-error"),W_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gC.create(t,...e)}function we(t,e,...n){if(!t)throw G_(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function wi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e6(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e6()||NL()||"connection"in navigator)?navigator.onLine:!0}function n6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=OL()||jL()}get(){return t6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new Hc(3e4,6e4);function q_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ol(t,e,n,r,i={}){return vC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Lc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return CL()||(u.referrerPolicy="no-referrer"),yC.fetch()(bC(t,t.config.apiHost,n,s),u)})}async function vC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r6),e);try{const i=new a6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Hf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Hf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Hf(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw W_(t,d,u);Br(t,d)}}catch(i){if(i instanceof Ai)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function o6(t,e,n,r,i={}){const o=await ol(t,e,n,r,i);return"mfaPendingCredential"in o&&Br(t,"multi-factor-auth-required",{_serverResponse:o}),o}function bC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?H_(t.config,i):`${t.config.apiScheme}://${i}`}class a6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),i6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function _C(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l6(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=K_(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:bu(zg(i.auth_time)),issuedAtTime:bu(zg(i.iat)),expirationTime:bu(zg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zg(t){return Number(t)*1e3}function K_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lk(n);return i?JSON.parse(i):(Ad("Failed to decode base64 JWT payload"),null)}catch(i){return Ad("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rE(t){const e=K_(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&u6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yu(t,_C(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wC(o.providerUserInfo):[],s=d6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Dv(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function f6(t){const e=Jt(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wC(t){return t.map(e=>{var{providerId:n}=e,r=z_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){const n=await vC(t,{},async()=>{const r=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=bC(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",yC.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p6(t,e){return ol(t,"POST","/v2/accounts:revokeToken",q_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await h6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new as;return r&&(we(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new as,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=z_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l6(this,e)}reload(){return f6(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Qo(this.auth));const e=await this.getIdToken();return await Yu(this,s6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:I,isAnonymous:E,providerData:P,stsTokenManager:S}=n;we(x&&S,e,"internal-error");const T=as.fromJSON(this.name,S);we(typeof x=="string",e,"internal-error"),Mi(f,e.name),Mi(h,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),Mi(p,e.name),Mi(v,e.name),Mi(y,e.name),Mi(w,e.name),Mi(_,e.name),Mi(b,e.name);const O=new ni({uid:x,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:T,createdAt:_,lastLoginAt:b});return P&&Array.isArray(P)&&(O.providerData=P.map(k=>Object.assign({},k))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new as;i.updateFromServerResponse(n);const o=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?wC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new as;s.updateFromIdToken(r);const l=new ni({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function ri(t){wi(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xC.type="NONE";const oE=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e,n){return`firebase:${t}:${e}:${n}`}class ss{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Pd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ss(ri(oE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ri(oE);const a=Pd(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){const f=ni._fromJSON(e,d);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ss(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ss(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IC(e))return"Blackberry";if(OC(e))return"Webos";if(EC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(PC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SC(t=hn()){return/firefox\//i.test(t)}function EC(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(t=hn()){return/crios\//i.test(t)}function AC(t=hn()){return/iemobile/i.test(t)}function PC(t=hn()){return/android/i.test(t)}function IC(t=hn()){return/blackberry/i.test(t)}function OC(t=hn()){return/webos/i.test(t)}function X_(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m6(t=hn()){var e;return X_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g6(){return RL()&&document.documentMode===10}function kC(t=hn()){return X_(t)||PC(t)||OC(t)||IC(t)||/windows phone/i.test(t)||AC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e=[]){let n;switch(t){case"Browser":n=aE(hn());break;case"Worker":n=`${aE(hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e={}){return ol(t,"GET","/v2/passwordPolicy",q_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=6;class _6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:b6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ss.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _C(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Qo(this));const n=e?Jt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v6(this),n=new _6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ss.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function em(t){return Jt(t)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=UL(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x6(t){Y_=t}function S6(t){return Y_.loadJS(t)}function E6(){return Y_.gapiScript}function T6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e){const n=a_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(nh(o,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function P6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I6(t,e,n){const r=em(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=NC(e),{host:a,port:s}=O6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||k6()}function NC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O6(t){const e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:lE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:lE(a)}}}function lE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return o6(t,"POST","/v1/accounts:signInWithIdp",q_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="http://localhost";class ca extends jC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=z_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ca(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ls(e,n)}buildRequest(){const e={requestUri:C6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends qc{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends qc{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends qc{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ni._fromIdTokenResponse(e,r,i),a=uE(r);return new Is({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uE(r);return new Is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function RC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,o,e,r):o})}async function N6(t,e,n=!1){const r=await Yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e,n=!1){const{auth:r}=t;if(ei(r.app))return Promise.reject(Qo(r));const i="reauthenticate";try{const o=await Yu(t,RC(r,i,e,t),n);we(o.idToken,r,"internal-error");const a=K_(o.idToken);we(a,r,"internal-error");const{sub:s}=a;return we(t.uid===s,r,"user-mismatch"),Is._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e,n=!1){if(ei(t.app))return Promise.reject(Qo(t));const r="signIn",i=await RC(t,r,e),o=await Is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function M6(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function D6(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function $6(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function cE(t){return Jt(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=1e3,V6=10;class DC extends MC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);g6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,V6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DC.type="LOCAL";const F6=DC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends MC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$C.type="SESSION";const LC=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await B6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=J_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function z6(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function W6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H6(){return VC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebaseLocalStorageDb",q6=1,yh="firebaseLocalStorage",BC="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function K6(){const t=indexedDB.deleteDatabase(FC);return new Kc(t).toPromise()}function $v(){const t=indexedDB.open(FC,q6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:BC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await K6(),e(await $v()))})})}async function fE(t,e,n){const r=nm(t,!0).put({[BC]:e,value:n});return new Kc(r).toPromise()}async function X6(t,e){const n=nm(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=nm(t,!0).delete(e);return new Kc(n).toPromise()}const Y6=800,Q6=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $v(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(H6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await W6(),!this.activeServiceWorker)return;this.sender=new U6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $v();return await fE(e,gh,"1"),await dE(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nm(i,!1).getAll();return new Kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const J6=UC;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){return e?ri(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends jC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z6(t){return R6(t.auth,new Z_(t),t.bypassAuthState)}function e5(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),j6(n,new Z_(t),t.bypassAuthState)}async function t5(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),N6(n,new Z_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z6;case"linkViaPopup":case"linkViaRedirect":return t5;case"reauthViaPopup":case"reauthViaRedirect":return e5;default:Br(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Hc(2e3,1e4);async function r5(t,e,n){if(ei(t.app))return Promise.reject(Er(t,"operation-not-supported-in-this-environment"));const r=em(t);ZF(t,e,Q_);const i=zC(r,n);return new zo(r,"signInViaPopup",e,i).executeNotNull()}class zo extends WC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=J_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n5.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="pendingRedirect",Id=new Map;class o5 extends WC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await a5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a5(t,e){const n=u5(e),r=l5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s5(t,e){Id.set(t._key(),e)}function l5(t){return ri(t._redirectPersistence)}function u5(t){return Pd(i5,t.config.apiKey,t.name)}async function c5(t,e,n=!1){if(ei(t.app))return Promise.reject(Qo(t));const r=em(t),i=zC(r,e),a=await new o5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=10*60*1e3;class d5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g5=/^https?/;async function y5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p5(t);for(const n of e)try{if(v5(n))return}catch{}Br(t,"unauthorized-domain")}function v5(t){const e=Mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!g5.test(n))return!1;if(m5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new Hc(3e4,6e4);function pE(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _5(t){return new Promise((e,n)=>{var r,i,o;function a(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Er(t,"network-request-failed"))},timeout:b5.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)a();else{const s=T6("iframefcb");return Dr()[s]=()=>{gapi.load?a():n(Er(t,"network-request-failed"))},S6(`${E6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Od=null,e})}let Od=null;function w5(t){return Od=Od||_5(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Hc(5e3,15e3),S5="__/auth/iframe",E5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P5(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H_(e,E5):`https://${t.config.authDomain}/${S5}`,r={apiKey:e.apiKey,appName:t.name,v:tl},i=A5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Lc(r).slice(1)}`}async function I5(t){const e=await w5(t),n=Dr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:P5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),s=Dr().setTimeout(()=>{o(a)},x5.get());function l(){Dr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k5=500,C5=600,N5="_blank",j5="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R5(t,e,n,r=k5,i=C5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},O5),{width:r.toString(),height:i.toString(),top:o,left:a}),u=hn().toLowerCase();n&&(s=TC(u)?N5:n),SC(u)&&(e=e||j5,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(m6(u)&&s!=="_self")return M5(e||"",s),new mE(null);const f=window.open(e||"",s,d);we(f,t,"popup-blocked");try{f.focus()}catch{}return new mE(f)}function M5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="__/auth/handler",$5="emulator/auth/handler",L5=encodeURIComponent("fac");async function gE(t,e,n,r,i,o){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:i};if(e instanceof Q_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof qc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${L5}=${encodeURIComponent(l)}`:"";return`${V5(t)}?${Lc(s).slice(1)}${u}`}function V5({config:t}){return t.emulator?H_(t,$5):`https://${t.authDomain}/${D5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class F5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LC,this._completeRedirectFn=c5,this._overrideRedirectResult=s5}async _openPopup(e,n,r,i){var o;wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await gE(e,n,r,Mv(),i);return R5(e,a,J_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await gE(e,n,r,Mv(),i);return z6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I5(e),r=new d5(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Wg];a!==void 0&&n(!!a),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kC()||EC()||X_()}}const B5=F5;var yE="@firebase/auth",vE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W5(t){_s(new aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;we(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CC(t)},u=new w6(r,i,o,l);return P6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new aa("auth-internal",e=>{const n=em(e.getProvider("auth").getImmediate());return(r=>new U5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ao(yE,vE,z5(t)),ao(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=5*60,H5=Bk("authIdTokenMaxAge")||G5;let bE=null;const q5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H5)return;const i=n==null?void 0:n.token;bE!==i&&(bE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K5(t=Gk()){const e=a_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A6(t,{popupRedirectResolver:B5,persistence:[J6,F6,LC]}),r=Bk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=q5(o.toString());D6(n,a,()=>a(n.currentUser)),M6(n,s=>a(s))}}const i=Vk("auth");return i&&I6(n,`http://${i}`),n}function X5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W5("Browser");const Y5={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},HC=Wk(Y5),Je=VF(HC),qf=K5(HC),Q5=new Qr,J5=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Z5=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]});function eB({teams:t=[],stats:e=[],onSubmit:n}){const[r,i]=$.useState({teamName:"",opponent:"",location:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[o,a]=$.useState(""),[s,l]=$.useState(!1),u=$.useMemo(()=>{const I=new Map;for(const E of t)E&&E.id&&!I.has(E.name.toLowerCase())&&I.set(E.name.toLowerCase(),E);return Array.from(I.values())},[t]),d=$.useMemo(()=>[...new Set(e.map(E=>E.opponent).filter(Boolean))],[e]),f=$.useMemo(()=>[...new Set(e.map(E=>E.location).filter(Boolean))].sort(),[e]);$.useEffect(()=>{u.length>0&&!r.teamName&&i(I=>({...I,teamName:u[0].name}))},[u,r.teamName]);const h=I=>{const E=I.target.value;i(P=>({...P,opponent:E}))},p=I=>{const E=I.target.value;i(P=>({...P,location:E}))},v=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}l(!0),navigator.geolocation.getCurrentPosition(async I=>{try{const{latitude:E,longitude:P}=I.coords,T=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${E}&longitude=${P}&localityLanguage=en`)).json(),O=T.locality||T.city||T.principalSubdivision||`${E.toFixed(4)}, ${P.toFixed(4)}`;i(k=>({...k,location:O})),l(!1)}catch(E){console.error("Error getting location name:",E),i(P=>({...P,location:`${I.coords.latitude.toFixed(4)}, ${I.coords.longitude.toFixed(4)}`})),l(!1)}},I=>{console.error("Error getting location:",I),alert("Unable to get your location. Please enter manually."),l(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},y=d.some(I=>I.toLowerCase()===r.opponent.toLowerCase()),w=d.find(I=>r.opponent.length>=2&&I.toLowerCase().includes(r.opponent.toLowerCase())&&I.toLowerCase()!==r.opponent.toLowerCase()),_=f.filter(I=>r.location.length>=2&&I.toLowerCase().includes(r.location.toLowerCase())&&I.toLowerCase()!==r.location.toLowerCase()).slice(0,3),b=I=>{const{name:E,value:P}=I.target;i(S=>({...S,[E]:P}))},x=I=>{if(!r.teamName||!r.opponent){a("Please select a team and enter an opponent name.");return}a("");const E=new Date(`${r.date}T${r.time}`).toISOString();typeof n=="function"?n({...r,timestamp:E},I):a("Internal error: Game submit not available.")};return m.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"flex items-center justify-center mb-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",name:"date",value:r.date,onChange:b,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),m.jsx("input",{type:"time",name:"time",value:r.time,onChange:b,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),o&&m.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:o}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sahil's Team"}),m.jsxs("select",{name:"teamName",value:r.teamName,onChange:b,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[m.jsx("option",{value:"",disabled:!0,children:"Select Team"}),u.map(I=>m.jsx("option",{value:I.name,children:I.name},I.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),m.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:r.opponent,onChange:h,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r.opponent&&m.jsx("div",{className:"mt-2 text-sm",children:y?m.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):w?m.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",m.jsx("button",{type:"button",onClick:()=>i(I=>({...I,opponent:w})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:w}),"?"]}):m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[m.jsx(J5,{className:"inline w-4 h-4 mr-1"}),"Location"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",name:"location",placeholder:"e.g., Oakland Rec Center, Home Court",value:r.location,onChange:p,className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),m.jsx("button",{type:"button",onClick:v,disabled:s,className:"px-3 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center",title:"Auto-detect location",children:s?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(Z5,{className:"w-4 h-4"})})]}),_.length>0&&m.jsxs("div",{className:"mt-2 text-sm",children:[m.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Previous locations:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(I=>m.jsx("button",{type:"button",onClick:()=>i(E=>({...E,location:I})),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:I},I))})]}),r.location&&!f.includes(r.location)&&m.jsx("div",{className:"mt-2 text-sm",children:m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New location"]})})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[m.jsx("button",{onClick:()=>x("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",children:"Start Live Game & Track Stats"}),m.jsx("button",{onClick:()=>x("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function qC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qC(t))&&(r&&(r+=" "),r+=e);return r}var tB=Array.isArray,jn=tB,nB=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf,KC=nB,rB=KC,iB=typeof self=="object"&&self&&self.Object===Object&&self,oB=rB||iB||Function("return this")(),zr=oB,aB=zr,sB=aB.Symbol,Xc=sB,_E=Xc,XC=Object.prototype,lB=XC.hasOwnProperty,uB=XC.toString,Bl=_E?_E.toStringTag:void 0;function cB(t){var e=lB.call(t,Bl),n=t[Bl];try{t[Bl]=void 0;var r=!0}catch{}var i=uB.call(t);return r&&(e?t[Bl]=n:delete t[Bl]),i}var fB=cB,dB=Object.prototype,hB=dB.toString;function pB(t){return hB.call(t)}var mB=pB,wE=Xc,gB=fB,yB=mB,vB="[object Null]",bB="[object Undefined]",xE=wE?wE.toStringTag:void 0;function _B(t){return t==null?t===void 0?bB:vB:xE&&xE in Object(t)?gB(t):yB(t)}var Pi=_B;function wB(t){return t!=null&&typeof t=="object"}var Ii=wB,xB=Pi,SB=Ii,EB="[object Symbol]";function TB(t){return typeof t=="symbol"||SB(t)&&xB(t)==EB}var al=TB,AB=jn,PB=al,IB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OB=/^\w*$/;function kB(t,e){if(AB(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PB(t)?!0:OB.test(t)||!IB.test(t)||e!=null&&t in Object(e)}var ew=kB;function CB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wo=CB;const sl=Qe(wo);var NB=Pi,jB=wo,RB="[object AsyncFunction]",MB="[object Function]",DB="[object GeneratorFunction]",$B="[object Proxy]";function LB(t){if(!jB(t))return!1;var e=NB(t);return e==MB||e==DB||e==RB||e==$B}var tw=LB;const Ae=Qe(tw);var VB=zr,FB=VB["__core-js_shared__"],BB=FB,Gg=BB,SE=function(){var t=/[^.]+$/.exec(Gg&&Gg.keys&&Gg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UB(t){return!!SE&&SE in t}var zB=UB,WB=Function.prototype,GB=WB.toString;function HB(t){if(t!=null){try{return GB.call(t)}catch{}try{return t+""}catch{}}return""}var YC=HB,qB=tw,KB=zB,XB=wo,YB=YC,QB=/[\\^$.*+?()[\]{}|]/g,JB=/^\[object .+?Constructor\]$/,ZB=Function.prototype,e9=Object.prototype,t9=ZB.toString,n9=e9.hasOwnProperty,r9=RegExp("^"+t9.call(n9).replace(QB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i9(t){if(!XB(t)||KB(t))return!1;var e=qB(t)?r9:JB;return e.test(YB(t))}var o9=i9;function a9(t,e){return t==null?void 0:t[e]}var s9=a9,l9=o9,u9=s9;function c9(t,e){var n=u9(t,e);return l9(n)?n:void 0}var _a=c9,f9=_a,d9=f9(Object,"create"),rm=d9,EE=rm;function h9(){this.__data__=EE?EE(null):{},this.size=0}var p9=h9;function m9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g9=m9,y9=rm,v9="__lodash_hash_undefined__",b9=Object.prototype,_9=b9.hasOwnProperty;function w9(t){var e=this.__data__;if(y9){var n=e[t];return n===v9?void 0:n}return _9.call(e,t)?e[t]:void 0}var x9=w9,S9=rm,E9=Object.prototype,T9=E9.hasOwnProperty;function A9(t){var e=this.__data__;return S9?e[t]!==void 0:T9.call(e,t)}var P9=A9,I9=rm,O9="__lodash_hash_undefined__";function k9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=I9&&e===void 0?O9:e,this}var C9=k9,N9=p9,j9=g9,R9=x9,M9=P9,D9=C9;function ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ll.prototype.clear=N9;ll.prototype.delete=j9;ll.prototype.get=R9;ll.prototype.has=M9;ll.prototype.set=D9;var $9=ll;function L9(){this.__data__=[],this.size=0}var V9=L9;function F9(t,e){return t===e||t!==t&&e!==e}var nw=F9,B9=nw;function U9(t,e){for(var n=t.length;n--;)if(B9(t[n][0],e))return n;return-1}var im=U9,z9=im,W9=Array.prototype,G9=W9.splice;function H9(t){var e=this.__data__,n=z9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():G9.call(e,n,1),--this.size,!0}var q9=H9,K9=im;function X9(t){var e=this.__data__,n=K9(e,t);return n<0?void 0:e[n][1]}var Y9=X9,Q9=im;function J9(t){return Q9(this.__data__,t)>-1}var Z9=J9,eU=im;function tU(t,e){var n=this.__data__,r=eU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nU=tU,rU=V9,iU=q9,oU=Y9,aU=Z9,sU=nU;function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=rU;ul.prototype.delete=iU;ul.prototype.get=oU;ul.prototype.has=aU;ul.prototype.set=sU;var om=ul,lU=_a,uU=zr,cU=lU(uU,"Map"),rw=cU,TE=$9,fU=om,dU=rw;function hU(){this.size=0,this.__data__={hash:new TE,map:new(dU||fU),string:new TE}}var pU=hU;function mU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gU=mU,yU=gU;function vU(t,e){var n=t.__data__;return yU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var am=vU,bU=am;function _U(t){var e=bU(this,t).delete(t);return this.size-=e?1:0,e}var wU=_U,xU=am;function SU(t){return xU(this,t).get(t)}var EU=SU,TU=am;function AU(t){return TU(this,t).has(t)}var PU=AU,IU=am;function OU(t,e){var n=IU(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kU=OU,CU=pU,NU=wU,jU=EU,RU=PU,MU=kU;function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=CU;cl.prototype.delete=NU;cl.prototype.get=jU;cl.prototype.has=RU;cl.prototype.set=MU;var iw=cl,QC=iw,DU="Expected a function";function ow(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ow.Cache||QC),n}ow.Cache=QC;var JC=ow;const $U=Qe(JC);var LU=JC,VU=500;function FU(t){var e=LU(t,function(r){return n.size===VU&&n.clear(),r}),n=e.cache;return e}var BU=FU,UU=BU,zU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WU=/\\(\\)?/g,GU=UU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zU,function(n,r,i,o){e.push(i?o.replace(WU,"$1"):r||n)}),e}),HU=GU;function qU(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var aw=qU,AE=Xc,KU=aw,XU=jn,YU=al,QU=1/0,PE=AE?AE.prototype:void 0,IE=PE?PE.toString:void 0;function ZC(t){if(typeof t=="string")return t;if(XU(t))return KU(t,ZC)+"";if(YU(t))return IE?IE.call(t):"";var e=t+"";return e=="0"&&1/t==-QU?"-0":e}var JU=ZC,ZU=JU;function ez(t){return t==null?"":ZU(t)}var eN=ez,tz=jn,nz=ew,rz=HU,iz=eN;function oz(t,e){return tz(t)?t:nz(t,e)?[t]:rz(iz(t))}var tN=oz,az=al,sz=1/0;function lz(t){if(typeof t=="string"||az(t))return t;var e=t+"";return e=="0"&&1/t==-sz?"-0":e}var sm=lz,uz=tN,cz=sm;function fz(t,e){e=uz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cz(e[n++])];return n&&n==r?t:void 0}var sw=fz,dz=sw;function hz(t,e,n){var r=t==null?void 0:dz(t,e);return r===void 0?n:r}var nN=hz;const nr=Qe(nN);function pz(t){return t==null}var mz=pz;const Ie=Qe(mz);var gz=Pi,yz=jn,vz=Ii,bz="[object String]";function _z(t){return typeof t=="string"||!yz(t)&&vz(t)&&gz(t)==bz}var wz=_z;const fa=Qe(wz);var rN={exports:{}},He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=Symbol.for("react.element"),uw=Symbol.for("react.portal"),lm=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),xz=Symbol.for("react.server_context"),hm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),Sz=Symbol.for("react.offscreen"),iN;iN=Symbol.for("react.module.reference");function sr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lw:switch(t=t.type,t){case lm:case cm:case um:case pm:case mm:return t;default:switch(t=t&&t.$$typeof,t){case xz:case dm:case hm:case ym:case gm:case fm:return t;default:return e}}case uw:return e}}}He.ContextConsumer=dm;He.ContextProvider=fm;He.Element=lw;He.ForwardRef=hm;He.Fragment=lm;He.Lazy=ym;He.Memo=gm;He.Portal=uw;He.Profiler=cm;He.StrictMode=um;He.Suspense=pm;He.SuspenseList=mm;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(t){return sr(t)===dm};He.isContextProvider=function(t){return sr(t)===fm};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lw};He.isForwardRef=function(t){return sr(t)===hm};He.isFragment=function(t){return sr(t)===lm};He.isLazy=function(t){return sr(t)===ym};He.isMemo=function(t){return sr(t)===gm};He.isPortal=function(t){return sr(t)===uw};He.isProfiler=function(t){return sr(t)===cm};He.isStrictMode=function(t){return sr(t)===um};He.isSuspense=function(t){return sr(t)===pm};He.isSuspenseList=function(t){return sr(t)===mm};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lm||t===cm||t===um||t===pm||t===mm||t===Sz||typeof t=="object"&&t!==null&&(t.$$typeof===ym||t.$$typeof===gm||t.$$typeof===fm||t.$$typeof===dm||t.$$typeof===hm||t.$$typeof===iN||t.getModuleId!==void 0)};He.typeOf=sr;rN.exports=He;var Ez=rN.exports,Tz=Pi,Az=Ii,Pz="[object Number]";function Iz(t){return typeof t=="number"||Az(t)&&Tz(t)==Pz}var oN=Iz;const Oz=Qe(oN);var kz=oN;function Cz(t){return kz(t)&&t!=+t}var Nz=Cz;const Yc=Qe(Nz);var wr=function(e){return e===0?0:e>0?1:-1},Wo=function(e){return fa(e)&&e.indexOf("%")===e.length-1},ie=function(e){return Oz(e)&&!Yc(e)},jz=function(e){return Ie(e)},kt=function(e){return ie(e)||fa(e)},Rz=0,Qc=function(e){var n=++Rz;return"".concat(e||"").concat(n)},da=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!fa(e))return r;var o;if(Wo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Yc(o)&&(o=r),i&&o>n&&(o=n),o},Gi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},br=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function vh(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}var Dz=function(e,n){return ie(e)&&ie(n)?e-n:fa(e)&&fa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function us(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}var $z=["viewBox","children"],Lz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OE=["points","pathLength"],Hg={svg:$z,polygon:OE,polyline:OE},cw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!sl(r))return null;var i={};return Object.keys(r).forEach(function(o){cw.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Vz=function(e,n,r){return function(i){return e(n,r,i),null}},_h=function(e,n,r){if(!sl(e)||Lv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];cw.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Vz(a,n,r))}),i},Fz=["children"],Bz=["children"];function kE(t,e){if(t==null)return{};var n=Uz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}var CE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ui=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},NE=null,qg=null,fw=function t(e){if(e===NE&&Array.isArray(qg))return qg;var n=[];return $.Children.forEach(e,function(r){Ie(r)||(Ez.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),qg=n,NE=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ui(i)}):r=[ui(e)],fw(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ln(t,e){var n=rr(t,e);return n&&n[0]}var jE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},zz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wz=function(e){return e&&e.type&&fa(e.type)&&zz.indexOf(e.type)>=0},Gz=function(e){return e&&Vv(e)==="object"&&"clipDot"in e},Hz=function(e,n,r,i){var o,a=(o=Hg==null?void 0:Hg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ae(e)&&(i&&a.includes(n)||Lz.includes(n))||r&&cw.includes(n)},je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!sl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Hz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Fv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!RE(o,a))return!1}return!0},RE=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=kE(r,Fz),a=n.props||{},s=a.children,l=kE(a,Bz);return i&&s?us(o,l)&&Fv(i,s):!i&&!s?us(o,l):!1}return!1},ME=function(e,n){var r=[],i={};return fw(e).forEach(function(o,a){if(Wz(o))r.push(o);else if(o){var s=ui(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},qz=function(e){var n=e&&e.type;return n&&CE[n]?CE[n]:null},Kz=function(e,n){return fw(n).indexOf(e)},Xz=["children","width","height","viewBox","className","style","title","desc"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function Yz(t,e){if(t==null)return{};var n=Qz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Yz(t,Xz),d=i||{width:n,height:r,x:0,y:0},f=$e("recharts-surface",o);return D.createElement("svg",Bv({},je(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var Jz=["children","className"];function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function Zz(t,e){if(t==null)return{};var n=e8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=Zz(t,Jz),o=$e("recharts-layer",r);return D.createElement("g",zv({className:o},je(i,!0),{ref:e}),n)}),ci=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function t8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var n8=t8,r8=n8;function i8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:r8(t,e,n)}var o8=i8,a8="\\ud800-\\udfff",s8="\\u0300-\\u036f",l8="\\ufe20-\\ufe2f",u8="\\u20d0-\\u20ff",c8=s8+l8+u8,f8="\\ufe0e\\ufe0f",d8="\\u200d",h8=RegExp("["+d8+a8+c8+f8+"]");function p8(t){return h8.test(t)}var aN=p8;function m8(t){return t.split("")}var g8=m8,sN="\\ud800-\\udfff",y8="\\u0300-\\u036f",v8="\\ufe20-\\ufe2f",b8="\\u20d0-\\u20ff",_8=y8+v8+b8,w8="\\ufe0e\\ufe0f",x8="["+sN+"]",Wv="["+_8+"]",Gv="\\ud83c[\\udffb-\\udfff]",S8="(?:"+Wv+"|"+Gv+")",lN="[^"+sN+"]",uN="(?:\\ud83c[\\udde6-\\uddff]){2}",cN="[\\ud800-\\udbff][\\udc00-\\udfff]",E8="\\u200d",fN=S8+"?",dN="["+w8+"]?",T8="(?:"+E8+"(?:"+[lN,uN,cN].join("|")+")"+dN+fN+")*",A8=dN+fN+T8,P8="(?:"+[lN+Wv+"?",Wv,uN,cN,x8].join("|")+")",I8=RegExp(Gv+"(?="+Gv+")|"+P8+A8,"g");function O8(t){return t.match(I8)||[]}var k8=O8,C8=g8,N8=aN,j8=k8;function R8(t){return N8(t)?j8(t):C8(t)}var M8=R8,D8=o8,$8=aN,L8=M8,V8=eN;function F8(t){return function(e){e=V8(e);var n=$8(e)?L8(e):void 0,r=n?n[0]:e.charAt(0),i=n?D8(n,1).join(""):e.slice(1);return r[t]()+i}}var B8=F8,U8=B8,z8=U8("toUpperCase"),W8=z8;const vm=Qe(W8);function Ze(t){return function(){return t}}const hN=Math.cos,wh=Math.sin,Ar=Math.sqrt,xh=Math.PI,bm=2*xh,Hv=Math.PI,qv=2*Hv,Do=1e-6,G8=qv-Do;function pN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class q8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pN:H8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Do)if(!(Math.abs(f*l-u*d)>Do)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-s,y=l*l+u*u,w=p*p+v*v,_=Math.sqrt(y),b=Math.sqrt(h),x=o*Math.tan((Hv-Math.acos((y+h-w)/(2*_*b)))/2),I=x/b,E=x/_;Math.abs(I-1)>Do&&this._append`L${e+I*d},${n+I*f}`,this._append`A${o},${o},0,0,${+(f*p>d*v)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Do||Math.abs(this._y1-d)>Do)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%qv+qv),h>G8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Do&&this._append`A${r},${r},0,${+(h>=Hv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new q8(e)}function hw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mN(t){this._context=t}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _m(t){return new mN(t)}function gN(t){return t[0]}function yN(t){return t[1]}function vN(t,e){var n=Ze(!0),r=null,i=_m,o=null,a=dw(s);t=typeof t=="function"?t:t===void 0?gN:Ze(t),e=typeof e=="function"?e:e===void 0?yN:Ze(e);function s(l){var u,d=(l=hw(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Kf(t,e,n){var r=null,i=Ze(!0),o=null,a=_m,s=null,l=dw(u);t=typeof t=="function"?t:t===void 0?gN:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yN:Ze(+n);function u(f){var h,p,v,y=(f=hw(f)).length,w,_=!1,b,x=new Array(y),I=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(x[v],I[v]);s.lineEnd(),s.areaEnd()}_&&(x[h]=+t(w,h,f),I[h]=+e(w,h,f),s.point(r?+r(w,h,f):x[h],n?+n(w,h,f):I[h]))}if(b)return s=null,b+""||null}function d(){return vN().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ze(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class bN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function K8(t){return new bN(t,!0)}function X8(t){return new bN(t,!1)}const pw={draw(t,e){const n=Ar(e/xh);t.moveTo(n,0),t.arc(0,0,n,0,bm)}},Y8={draw(t,e){const n=Ar(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_N=Ar(1/3),Q8=_N*2,J8={draw(t,e){const n=Ar(e/Q8),r=n*_N;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Z8={draw(t,e){const n=Ar(e),r=-n/2;t.rect(r,r,n,n)}},eW=.8908130915292852,wN=wh(xh/10)/wh(7*xh/10),tW=wh(bm/10)*wN,nW=-hN(bm/10)*wN,rW={draw(t,e){const n=Ar(e*eW),r=tW*n,i=nW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=bm*o/5,s=hN(a),l=wh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Kg=Ar(3),iW={draw(t,e){const n=-Ar(e/(Kg*3));t.moveTo(0,n*2),t.lineTo(-Kg*n,-n),t.lineTo(Kg*n,-n),t.closePath()}},qn=-.5,Kn=Ar(3)/2,Kv=1/Ar(12),oW=(Kv/2+1)*3,aW={draw(t,e){const n=Ar(e/oW),r=n/2,i=n*Kv,o=r,a=n*Kv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(qn*r-Kn*i,Kn*r+qn*i),t.lineTo(qn*o-Kn*a,Kn*o+qn*a),t.lineTo(qn*s-Kn*l,Kn*s+qn*l),t.lineTo(qn*r+Kn*i,qn*i-Kn*r),t.lineTo(qn*o+Kn*a,qn*a-Kn*o),t.lineTo(qn*s+Kn*l,qn*l-Kn*s),t.closePath()}};function sW(t,e){let n=null,r=dw(i);t=typeof t=="function"?t:Ze(t||pw),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Sh(){}function Eh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xN(t){this._context=t}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lW(t){return new xN(t)}function SN(t){this._context=t}SN.prototype={areaStart:Sh,areaEnd:Sh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uW(t){return new SN(t)}function EN(t){this._context=t}EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new EN(t)}function TN(t){this._context=t}TN.prototype={areaStart:Sh,areaEnd:Sh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fW(t){return new TN(t)}function DE(t){return t<0?-1:1}function $E(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(DE(o)+DE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function LE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Th(t){this._context=t}Th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xg(this,this._t0,LE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xg(this,LE(this,n=$E(this,t,e)),n);break;default:Xg(this,this._t0,n=$E(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AN(t){this._context=new PN(t)}(AN.prototype=Object.create(Th.prototype)).point=function(t,e){Th.prototype.point.call(this,e,t)};function PN(t){this._context=t}PN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function dW(t){return new Th(t)}function hW(t){return new AN(t)}function IN(t){this._context=t}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VE(t),i=VE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function pW(t){return new IN(t)}function wm(t,e){this._context=t,this._t=e}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mW(t){return new wm(t,.5)}function gW(t){return new wm(t,0)}function yW(t){return new wm(t,1)}function Os(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vW(t,e){return t[e]}function bW(t){const e=[];return e.key=t,e}function _W(){var t=Ze([]),e=Xv,n=Os,r=vW;function i(o){var a=Array.from(t.apply(this,arguments),bW),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=hw(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Xv:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Os,i):n},i}function wW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Os(t,e)}}function xW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Os(t,e)}}function SW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],w=y[r][1]||0,_=y[r-1][1]||0;p+=w-_}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Os(t,e)}}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}var EW=["type","size","sizeType"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return e=AW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=PW(t,"string");return Qu(e)=="symbol"?e:e+""}function PW(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IW(t,e){if(t==null)return{};var n=OW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ON={symbolCircle:pw,symbolCross:Y8,symbolDiamond:J8,symbolSquare:Z8,symbolStar:rW,symbolTriangle:iW,symbolWye:aW},kW=Math.PI/180,CW=function(e){var n="symbol".concat(vm(e));return ON[n]||pw},NW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jW=function(e,n){ON["symbol".concat(vm(e))]=n},mw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=IW(e,EW),u=BE(BE({},l),{},{type:r,size:o,sizeType:s}),d=function(){var w=CW(r),_=sW().type(w).size(NW(o,s,r));return _()},f=u.className,h=u.cx,p=u.cy,v=je(u,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",Yv({},v,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};mw.registerSymbol=jW;function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CN(r.key),r)}}function DW(t,e,n){return e&&zE(t.prototype,e),n&&zE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $W(t,e,n){return e=Ah(e),LW(t,kN()?Reflect.construct(e,n||[],Ah(t).constructor):e.apply(t,n))}function LW(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VW(t)}function VW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kN=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ah(t)}function FW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(t,e)}function Ju(t,e,n){return e=CN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CN(t){var e=BW(t,"string");return ks(e)=="symbol"?e:e+""}function BW(t,e){if(ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xn=32,gw=function(t){function e(){return MW(this,e),$W(this,e,arguments)}return FW(e,t),DW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Xn/2,a=Xn/6,s=Xn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Xn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Xn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=RW({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(mw,{fill:l,cx:o,cy:o,size:Xn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var y=p.formatter||l,w=$e(Ju(Ju({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Ae(p.value)?null:p.value;ci(!Ae(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return D.createElement("li",Qv({className:w,style:f,key:"legend-item-".concat(v)},_h(r.props,p,v)),D.createElement(Uv,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(_,p,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);Ju(gw,"displayName","Legend");Ju(gw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var UW=om;function zW(){this.__data__=new UW,this.size=0}var WW=zW;function GW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var HW=GW;function qW(t){return this.__data__.get(t)}var KW=qW;function XW(t){return this.__data__.has(t)}var YW=XW,QW=om,JW=rw,ZW=iw,e7=200;function t7(t,e){var n=this.__data__;if(n instanceof QW){var r=n.__data__;if(!JW||r.length<e7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ZW(r)}return n.set(t,e),this.size=n.size,this}var n7=t7,r7=om,i7=WW,o7=HW,a7=KW,s7=YW,l7=n7;function fl(t){var e=this.__data__=new r7(t);this.size=e.size}fl.prototype.clear=i7;fl.prototype.delete=o7;fl.prototype.get=a7;fl.prototype.has=s7;fl.prototype.set=l7;var NN=fl,u7="__lodash_hash_undefined__";function c7(t){return this.__data__.set(t,u7),this}var f7=c7;function d7(t){return this.__data__.has(t)}var h7=d7,p7=iw,m7=f7,g7=h7;function Ph(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new p7;++e<n;)this.add(t[e])}Ph.prototype.add=Ph.prototype.push=m7;Ph.prototype.has=g7;var jN=Ph;function y7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var RN=y7;function v7(t,e){return t.has(e)}var MN=v7,b7=jN,_7=RN,w7=MN,x7=1,S7=2;function E7(t,e,n,r,i,o){var a=n&x7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&S7?new b7:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var w=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!_7(e,function(_,b){if(!w7(p,b)&&(v===_||i(v,_,n,r,o)))return p.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var DN=E7,T7=zr,A7=T7.Uint8Array,P7=A7;function I7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var O7=I7;function k7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var yw=k7,WE=Xc,GE=P7,C7=nw,N7=DN,j7=O7,R7=yw,M7=1,D7=2,$7="[object Boolean]",L7="[object Date]",V7="[object Error]",F7="[object Map]",B7="[object Number]",U7="[object RegExp]",z7="[object Set]",W7="[object String]",G7="[object Symbol]",H7="[object ArrayBuffer]",q7="[object DataView]",HE=WE?WE.prototype:void 0,Yg=HE?HE.valueOf:void 0;function K7(t,e,n,r,i,o,a){switch(n){case q7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H7:return!(t.byteLength!=e.byteLength||!o(new GE(t),new GE(e)));case $7:case L7:case B7:return C7(+t,+e);case V7:return t.name==e.name&&t.message==e.message;case U7:case W7:return t==e+"";case F7:var s=j7;case z7:var l=r&M7;if(s||(s=R7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=D7,a.set(t,e);var d=N7(s(t),s(e),r,i,o,a);return a.delete(t),d;case G7:if(Yg)return Yg.call(t)==Yg.call(e)}return!1}var X7=K7;function Y7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $N=Y7,Q7=$N,J7=jn;function Z7(t,e,n){var r=e(t);return J7(t)?r:Q7(r,n(t))}var eG=Z7;function tG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var nG=tG;function rG(){return[]}var iG=rG,oG=nG,aG=iG,sG=Object.prototype,lG=sG.propertyIsEnumerable,qE=Object.getOwnPropertySymbols,uG=qE?function(t){return t==null?[]:(t=Object(t),oG(qE(t),function(e){return lG.call(t,e)}))}:aG,cG=uG;function fG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dG=fG,hG=Pi,pG=Ii,mG="[object Arguments]";function gG(t){return pG(t)&&hG(t)==mG}var yG=gG,KE=yG,vG=Ii,LN=Object.prototype,bG=LN.hasOwnProperty,_G=LN.propertyIsEnumerable,wG=KE(function(){return arguments}())?KE:function(t){return vG(t)&&bG.call(t,"callee")&&!_G.call(t,"callee")},vw=wG,Ih={exports:{}};function xG(){return!1}var SG=xG;Ih.exports;(function(t,e){var n=zr,r=SG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ih,Ih.exports);var VN=Ih.exports,EG=9007199254740991,TG=/^(?:0|[1-9]\d*)$/;function AG(t,e){var n=typeof t;return e=e??EG,!!e&&(n=="number"||n!="symbol"&&TG.test(t))&&t>-1&&t%1==0&&t<e}var bw=AG,PG=9007199254740991;function IG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PG}var _w=IG,OG=Pi,kG=_w,CG=Ii,NG="[object Arguments]",jG="[object Array]",RG="[object Boolean]",MG="[object Date]",DG="[object Error]",$G="[object Function]",LG="[object Map]",VG="[object Number]",FG="[object Object]",BG="[object RegExp]",UG="[object Set]",zG="[object String]",WG="[object WeakMap]",GG="[object ArrayBuffer]",HG="[object DataView]",qG="[object Float32Array]",KG="[object Float64Array]",XG="[object Int8Array]",YG="[object Int16Array]",QG="[object Int32Array]",JG="[object Uint8Array]",ZG="[object Uint8ClampedArray]",eH="[object Uint16Array]",tH="[object Uint32Array]",rt={};rt[qG]=rt[KG]=rt[XG]=rt[YG]=rt[QG]=rt[JG]=rt[ZG]=rt[eH]=rt[tH]=!0;rt[NG]=rt[jG]=rt[GG]=rt[RG]=rt[HG]=rt[MG]=rt[DG]=rt[$G]=rt[LG]=rt[VG]=rt[FG]=rt[BG]=rt[UG]=rt[zG]=rt[WG]=!1;function nH(t){return CG(t)&&kG(t.length)&&!!rt[OG(t)]}var rH=nH;function iH(t){return function(e){return t(e)}}var FN=iH,Oh={exports:{}};Oh.exports;(function(t,e){var n=KC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Oh,Oh.exports);var oH=Oh.exports,aH=rH,sH=FN,XE=oH,YE=XE&&XE.isTypedArray,lH=YE?sH(YE):aH,BN=lH,uH=dG,cH=vw,fH=jn,dH=VN,hH=bw,pH=BN,mH=Object.prototype,gH=mH.hasOwnProperty;function yH(t,e){var n=fH(t),r=!n&&cH(t),i=!n&&!r&&dH(t),o=!n&&!r&&!i&&pH(t),a=n||r||i||o,s=a?uH(t.length,String):[],l=s.length;for(var u in t)(e||gH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hH(u,l)))&&s.push(u);return s}var vH=yH,bH=Object.prototype;function _H(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bH;return t===n}var wH=_H;function xH(t,e){return function(n){return t(e(n))}}var UN=xH,SH=UN,EH=SH(Object.keys,Object),TH=EH,AH=wH,PH=TH,IH=Object.prototype,OH=IH.hasOwnProperty;function kH(t){if(!AH(t))return PH(t);var e=[];for(var n in Object(t))OH.call(t,n)&&n!="constructor"&&e.push(n);return e}var CH=kH,NH=tw,jH=_w;function RH(t){return t!=null&&jH(t.length)&&!NH(t)}var Jc=RH,MH=vH,DH=CH,$H=Jc;function LH(t){return $H(t)?MH(t):DH(t)}var xm=LH,VH=eG,FH=cG,BH=xm;function UH(t){return VH(t,BH,FH)}var zH=UH,QE=zH,WH=1,GH=Object.prototype,HH=GH.hasOwnProperty;function qH(t,e,n,r,i,o){var a=n&WH,s=QE(t),l=s.length,u=QE(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:HH.call(e,h)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=s[f];var _=t[h],b=e[h];if(r)var x=a?r(b,_,h,e,t,o):r(_,b,h,t,e,o);if(!(x===void 0?_===b||i(_,b,n,r,o):x)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var I=t.constructor,E=e.constructor;I!=E&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof E=="function"&&E instanceof E)&&(y=!1)}return o.delete(t),o.delete(e),y}var KH=qH,XH=_a,YH=zr,QH=XH(YH,"DataView"),JH=QH,ZH=_a,eq=zr,tq=ZH(eq,"Promise"),nq=tq,rq=_a,iq=zr,oq=rq(iq,"Set"),zN=oq,aq=_a,sq=zr,lq=aq(sq,"WeakMap"),uq=lq,Zv=JH,e0=rw,t0=nq,n0=zN,r0=uq,WN=Pi,dl=YC,JE="[object Map]",cq="[object Object]",ZE="[object Promise]",eT="[object Set]",tT="[object WeakMap]",nT="[object DataView]",fq=dl(Zv),dq=dl(e0),hq=dl(t0),pq=dl(n0),mq=dl(r0),$o=WN;(Zv&&$o(new Zv(new ArrayBuffer(1)))!=nT||e0&&$o(new e0)!=JE||t0&&$o(t0.resolve())!=ZE||n0&&$o(new n0)!=eT||r0&&$o(new r0)!=tT)&&($o=function(t){var e=WN(t),n=e==cq?t.constructor:void 0,r=n?dl(n):"";if(r)switch(r){case fq:return nT;case dq:return JE;case hq:return ZE;case pq:return eT;case mq:return tT}return e});var gq=$o,Qg=NN,yq=DN,vq=X7,bq=KH,rT=gq,iT=jn,oT=VN,_q=BN,wq=1,aT="[object Arguments]",sT="[object Array]",Xf="[object Object]",xq=Object.prototype,lT=xq.hasOwnProperty;function Sq(t,e,n,r,i,o){var a=iT(t),s=iT(e),l=a?sT:rT(t),u=s?sT:rT(e);l=l==aT?Xf:l,u=u==aT?Xf:u;var d=l==Xf,f=u==Xf,h=l==u;if(h&&oT(t)){if(!oT(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Qg),a||_q(t)?yq(t,e,n,r,i,o):vq(t,e,l,n,r,i,o);if(!(n&wq)){var p=d&&lT.call(t,"__wrapped__"),v=f&&lT.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,w=v?e.value():e;return o||(o=new Qg),i(y,w,n,r,o)}}return h?(o||(o=new Qg),bq(t,e,n,r,i,o)):!1}var Eq=Sq,Tq=Eq,uT=Ii;function GN(t,e,n,r,i){return t===e?!0:t==null||e==null||!uT(t)&&!uT(e)?t!==t&&e!==e:Tq(t,e,n,r,GN,i)}var ww=GN,Aq=NN,Pq=ww,Iq=1,Oq=2;function kq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Aq;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Pq(d,u,Iq|Oq,r,f):h))return!1}}return!0}var Cq=kq,Nq=wo;function jq(t){return t===t&&!Nq(t)}var HN=jq,Rq=HN,Mq=xm;function Dq(t){for(var e=Mq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rq(i)]}return e}var $q=Dq;function Lq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var qN=Lq,Vq=Cq,Fq=$q,Bq=qN;function Uq(t){var e=Fq(t);return e.length==1&&e[0][2]?Bq(e[0][0],e[0][1]):function(n){return n===t||Vq(n,t,e)}}var zq=Uq;function Wq(t,e){return t!=null&&e in Object(t)}var Gq=Wq,Hq=tN,qq=vw,Kq=jn,Xq=bw,Yq=_w,Qq=sm;function Jq(t,e,n){e=Hq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Qq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Yq(i)&&Xq(a,i)&&(Kq(t)||qq(t)))}var Zq=Jq,eK=Gq,tK=Zq;function nK(t,e){return t!=null&&tK(t,e,eK)}var rK=nK,iK=ww,oK=nN,aK=rK,sK=ew,lK=HN,uK=qN,cK=sm,fK=1,dK=2;function hK(t,e){return sK(t)&&lK(e)?uK(cK(t),e):function(n){var r=oK(n,t);return r===void 0&&r===e?aK(n,t):iK(e,r,fK|dK)}}var pK=hK;function mK(t){return t}var hl=mK;function gK(t){return function(e){return e==null?void 0:e[t]}}var yK=gK,vK=sw;function bK(t){return function(e){return vK(e,t)}}var _K=bK,wK=yK,xK=_K,SK=ew,EK=sm;function TK(t){return SK(t)?wK(EK(t)):xK(t)}var AK=TK,PK=zq,IK=pK,OK=hl,kK=jn,CK=AK;function NK(t){return typeof t=="function"?t:t==null?OK:typeof t=="object"?kK(t)?IK(t[0],t[1]):PK(t):CK(t)}var xo=NK;function jK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var KN=jK;function RK(t){return t!==t}var MK=RK;function DK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var $K=DK,LK=KN,VK=MK,FK=$K;function BK(t,e,n){return e===e?FK(t,e,n):LK(t,VK,n)}var UK=BK,zK=UK;function WK(t,e){var n=t==null?0:t.length;return!!n&&zK(t,e,0)>-1}var GK=WK;function HK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qK=HK;function KK(){}var XK=KK,Jg=zN,YK=XK,QK=yw,JK=1/0,ZK=Jg&&1/QK(new Jg([,-0]))[1]==JK?function(t){return new Jg(t)}:YK,eX=ZK,tX=jN,nX=GK,rX=qK,iX=MN,oX=eX,aX=yw,sX=200;function lX(t,e,n){var r=-1,i=nX,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=rX;else if(o>=sX){var u=e?null:oX(t);if(u)return aX(u);a=!1,i=iX,l=new tX}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var uX=lX,cX=xo,fX=uX;function dX(t,e){return t&&t.length?fX(t,cX(e)):[]}var hX=dX;const cT=Qe(hX);function XN(t,e,n){return e===!0?cT(t,n):Ae(e)?cT(t,e):t}function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}var pX=["ref"];function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){Sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QN(r.key),r)}}function gX(t,e,n){return e&&dT(t.prototype,e),n&&dT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yX(t,e,n){return e=kh(e),vX(t,YN()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YN=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function _X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i0(t,e)}function i0(t,e){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i0(t,e)}function Sm(t,e,n){return e=QN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QN(t){var e=wX(t,"string");return Cs(e)=="symbol"?e:e+""}function wX(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xX(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EX(t){return t.value}function TX(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=xX(e,pX);return D.createElement(gw,n)}var hT=1,Jo=function(t){function e(){var n;mX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yX(this,e,[].concat(i)),Sm(n,"lastBoundingBox",{width:-1,height:-1}),n}return _X(e,t),gX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hT||Math.abs(i.height-this.lastBoundingBox.height)>hT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qr(qr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=qr(qr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},TX(o,qr(qr({},this.props),{},{payload:XN(d,u,EX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=qr(qr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ie(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Sm(Jo,"displayName","Legend");Sm(Jo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pT=Xc,AX=vw,PX=jn,mT=pT?pT.isConcatSpreadable:void 0;function IX(t){return PX(t)||AX(t)||!!(mT&&t&&t[mT])}var OX=IX,kX=$N,CX=OX;function JN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=CX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?JN(s,e-1,n,r,i):kX(i,s):r||(i[i.length]=s)}return i}var ZN=JN;function NX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var jX=NX,RX=jX,MX=RX(),DX=MX,$X=DX,LX=xm;function VX(t,e){return t&&$X(t,e,LX)}var ej=VX,FX=Jc;function BX(t,e){return function(n,r){if(n==null)return n;if(!FX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var UX=BX,zX=ej,WX=UX,GX=WX(zX),xw=GX,HX=xw,qX=Jc;function KX(t,e){var n=-1,r=qX(t)?Array(t.length):[];return HX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var tj=KX;function XX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var YX=XX,gT=al;function QX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=gT(t),a=e!==void 0,s=e===null,l=e===e,u=gT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var JX=QX,ZX=JX;function eY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ZX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var tY=eY,Zg=aw,nY=sw,rY=xo,iY=tj,oY=YX,aY=FN,sY=tY,lY=hl,uY=jn;function cY(t,e,n){e.length?e=Zg(e,function(o){return uY(o)?function(a){return nY(a,o.length===1?o[0]:o)}:o}):e=[lY];var r=-1;e=Zg(e,aY(rY));var i=iY(t,function(o,a,s){var l=Zg(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return oY(i,function(o,a){return sY(o,a,n)})}var fY=cY;function dY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hY=dY,pY=hY,yT=Math.max;function mY(t,e,n){return e=yT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=yT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),pY(t,this,s)}}var gY=mY;function yY(t){return function(){return t}}var vY=yY,bY=_a,_Y=function(){try{var t=bY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),nj=_Y,wY=vY,vT=nj,xY=hl,SY=vT?function(t,e){return vT(t,"toString",{configurable:!0,enumerable:!1,value:wY(e),writable:!0})}:xY,EY=SY,TY=800,AY=16,PY=Date.now;function IY(t){var e=0,n=0;return function(){var r=PY(),i=AY-(r-n);if(n=r,i>0){if(++e>=TY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var OY=IY,kY=EY,CY=OY,NY=CY(kY),jY=NY,RY=hl,MY=gY,DY=jY;function $Y(t,e){return DY(MY(t,e,RY),t+"")}var LY=$Y,VY=nw,FY=Jc,BY=bw,UY=wo;function zY(t,e,n){if(!UY(n))return!1;var r=typeof e;return(r=="number"?FY(n)&&BY(e,n.length):r=="string"&&e in n)?VY(n[e],t):!1}var Em=zY,WY=ZN,GY=fY,HY=LY,bT=Em,qY=HY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bT(t,e[0],e[1])?e=[]:n>2&&bT(e[0],e[1],e[2])&&(e=[e[0]]),GY(t,WY(e,1),[])}),KY=qY;const Sw=Qe(KY);function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function XY(t,e){return ZY(t)||JY(t,e)||QY(t,e)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(t,e){if(t){if(typeof t=="string")return _T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(t,e)}}function _T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZY(t){if(Array.isArray(t))return t}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return Zu(e)=="symbol"?e:e+""}function nQ(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rQ(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var iQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,y=e.label,w=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,x=function(){if(d&&d.length){var R={padding:0,margin:0},N=(h?Sw(d,h):d).map(function(U,W){if(U.type==="none")return null;var q=ey({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),Q=U.formatter||f||rQ,F=U.value,G=U.name,Y=F,te=G;if(Q&&Y!=null&&te!=null){var L=Q(F,G,U,W,d);if(Array.isArray(L)){var K=XY(L,2);Y=K[0],te=K[1]}else Y=L}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:q},kt(te)?D.createElement("span",{className:"recharts-tooltip-item-name"},te):null,kt(te)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Y),D.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},I=ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=ey({margin:0},u),P=!Ie(y),S=P?y:"",T=$e("recharts-default-tooltip",p),O=$e("recharts-tooltip-label",v);P&&w&&d!==void 0&&d!==null&&(S=w(y,d));var k=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",o0({className:T,style:I},k),D.createElement("p",{className:O,style:E},D.isValidElement(S)?S:"".concat(S)),x())};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Yf(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=aQ(t,"string");return ec(e)=="symbol"?e:e+""}function aQ(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul="recharts-tooltip-wrapper",sQ={visibility:"hidden"};function lQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return $e(Ul,Yf(Yf(Yf(Yf({},"".concat(Ul,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(Ul,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(Ul,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(Ul,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function xT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function uQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=xT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=xT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=uQ({translateX:d,translateY:f,useTranslate3d:s})):u=sQ,{cssProperties:u,cssClasses:lQ({translateX:d,translateY:f,coordinate:n})}}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function ST(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ET(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(n),!0).forEach(function(r){s0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ij(r.key),r)}}function dQ(t,e,n){return e&&TT(t.prototype,e),n&&TT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,n){return e=Ch(e),pQ(t,rj()?Reflect.construct(e,n||[],Ch(t).constructor):e.apply(t,n))}function pQ(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(t)}function mQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rj=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a0(t,e)}function a0(t,e){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a0(t,e)}function s0(t,e,n){return e=ij(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ij(t){var e=yQ(t,"string");return Ns(e)=="symbol"?e:e+""}function yQ(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AT=1,vQ=function(t){function e(){var n;fQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hQ(this,e,[].concat(i)),s0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),s0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return gQ(e,t),dQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AT||Math.abs(r.height-this.state.lastBoundingBox.height)>AT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,x=cQ({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:_}),I=x.cssClasses,E=x.cssProperties,P=ET(ET({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:I,style:P,ref:function(T){r.wrapperNode=T}},u)}}])}($.PureComponent),bQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:bQ(),get:function(e){return fi[e]},set:function(e,n){if(typeof e=="string")fi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){fi[i]=e[i]})}}};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function wQ(t,e,n){return e&&OT(t.prototype,e),n&&OT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e,n){return e=Nh(e),SQ(t,oj()?Reflect.construct(e,n||[],Nh(t).constructor):e.apply(t,n))}function SQ(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l0(t,e)}function Ew(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=AQ(t,"string");return js(e)=="symbol"?e:e+""}function AQ(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PQ(t){return t.dataKey}function IQ(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(iQ,e)}var Or=function(t){function e(){return _Q(this,e),xQ(this,e,arguments)}return TQ(e,t),wQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,y=i.payloadUniqBy,w=i.position,_=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,I=i.wrapperStyle,E=v??[];f&&E.length&&(E=XN(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,PQ));var P=E.length>0;return D.createElement(vQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:p,position:w,reverseDirection:_,useTranslate3d:b,viewBox:x,wrapperStyle:I},IQ(u,IT(IT({},this.props),{},{payload:E})))}}])}($.PureComponent);Ew(Or,"displayName","Tooltip");Ew(Or,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OQ=zr,kQ=function(){return OQ.Date.now()},CQ=kQ,NQ=/\s/;function jQ(t){for(var e=t.length;e--&&NQ.test(t.charAt(e)););return e}var RQ=jQ,MQ=RQ,DQ=/^\s+/;function $Q(t){return t&&t.slice(0,MQ(t)+1).replace(DQ,"")}var LQ=$Q,VQ=LQ,kT=wo,FQ=al,CT=0/0,BQ=/^[-+]0x[0-9a-f]+$/i,UQ=/^0b[01]+$/i,zQ=/^0o[0-7]+$/i,WQ=parseInt;function GQ(t){if(typeof t=="number")return t;if(FQ(t))return CT;if(kT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VQ(t);var n=UQ.test(t);return n||zQ.test(t)?WQ(t.slice(2),n?2:8):BQ.test(t)?CT:+t}var sj=GQ,HQ=wo,ty=CQ,NT=sj,qQ="Expected a function",KQ=Math.max,XQ=Math.min;function YQ(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(qQ);e=NT(e)||0,HQ(n)&&(d=!!n.leading,f="maxWait"in n,o=f?KQ(NT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var S=r,T=i;return r=i=void 0,u=P,a=t.apply(T,S),a}function v(P){return u=P,s=setTimeout(_,e),d?p(P):a}function y(P){var S=P-l,T=P-u,O=e-S;return f?XQ(O,o-T):O}function w(P){var S=P-l,T=P-u;return l===void 0||S>=e||S<0||f&&T>=o}function _(){var P=ty();if(w(P))return b(P);s=setTimeout(_,y(P))}function b(P){return s=void 0,h&&r?p(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?a:b(ty())}function E(){var P=ty(),S=w(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),a}return E.cancel=x,E.flush=I,E}var QQ=YQ,JQ=QQ,ZQ=wo,eJ="Expected a function";function tJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(eJ);return ZQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),JQ(t,e,{leading:r,maxWait:e,trailing:i})}var nJ=tJ;const lj=Qe(nJ);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return tc(e)=="symbol"?e:e+""}function oJ(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aJ(t,e){return cJ(t)||uJ(t,e)||lJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return RT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RT(t,e)}}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cJ(t){if(Array.isArray(t))return t}var fJ=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,y=v===void 0?0:v,w=t.id,_=t.className,b=t.onResize,x=t.style,I=x===void 0?{}:x,E=$.useRef(null),P=$.useRef();P.current=b,$.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),T=aJ(S,2),O=T[0],k=T[1],C=$.useCallback(function(N,U){k(function(W){var q=Math.round(N),Q=Math.round(U);return W.containerWidth===q&&W.containerHeight===Q?W:{containerWidth:q,containerHeight:Q}})},[]);$.useEffect(function(){var N=function(G){var Y,te=G[0].contentRect,L=te.width,K=te.height;C(L,K),(Y=P.current)===null||Y===void 0||Y.call(P,L,K)};y>0&&(N=lj(N,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),W=E.current.getBoundingClientRect(),q=W.width,Q=W.height;return C(q,Q),U.observe(E.current),function(){U.disconnect()}},[C,y]);var R=$.useMemo(function(){var N=O.containerWidth,U=O.containerHeight;if(N<0||U<0)return null;ci(Wo(a)||Wo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ci(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Wo(a)?N:a,q=Wo(l)?U:l;n&&n>0&&(W?q=W/n:q&&(W=q*n),h&&q>h&&(q=h)),ci(W>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,q,a,l,d,f,n);var Q=!Array.isArray(p)&&ui(p.type).endsWith("Chart");return D.Children.map(p,function(F){return D.isValidElement(F)?$.cloneElement(F,Qf({width:W,height:q},Q?{style:Qf({height:"100%",width:"100%",maxHeight:q,maxWidth:W},F.props.style)}:{})):F})},[n,p,l,h,f,d,O,a]);return D.createElement("div",{id:w?"".concat(w):void 0,className:$e("recharts-responsive-container",_),style:Qf(Qf({},I),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),uj=function(e){return null};uj.displayName="Cell";function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return nc(e)=="symbol"?e:e+""}function pJ(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ka={widthCache:{},cacheCount:0},mJ=2e3,gJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DT="recharts_measurement_span";function yJ(t){var e=u0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _u=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fi.isSsr)return{width:0,height:0};var r=yJ(n),i=JSON.stringify({text:e,copyStyle:r});if(ka.widthCache[i])return ka.widthCache[i];try{var o=document.getElementById(DT);o||(o=document.createElement("span"),o.setAttribute("id",DT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=u0(u0({},gJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ka.widthCache[i]=l,++ka.cacheCount>mJ&&(ka.cacheCount=0,ka.widthCache={}),l}catch{return{width:0,height:0}}},vJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function jh(t,e){return xJ(t)||wJ(t,e)||_J(t,e)||bJ()}function bJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xJ(t){if(Array.isArray(t))return t}function SJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function EJ(t,e,n){return e&&LT(t.prototype,e),n&&LT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t){var e=AJ(t,"string");return rc(e)=="symbol"?e:e+""}function AJ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OJ=Object.keys(cj),Ya="NaN";function kJ(t,e){return t*cj[e]}var Jf=function(){function t(e,n){SJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!PJ.test(n)&&(this.num=NaN,this.unit=""),OJ.includes(n)&&(this.num=kJ(e,n),this.unit="px")}return EJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=IJ.exec(n))!==null&&r!==void 0?r:[],o=jh(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function fj(t){if(t.includes(Ya))return Ya;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=VT.exec(e))!==null&&n!==void 0?n:[],i=jh(r,4),o=i[1],a=i[2],s=i[3],l=Jf.parse(o??""),u=Jf.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ya;e=e.replace(VT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=FT.exec(e))!==null&&f!==void 0?f:[],p=jh(h,4),v=p[1],y=p[2],w=p[3],_=Jf.parse(v??""),b=Jf.parse(w??""),x=y==="+"?_.add(b):_.subtract(b);if(x.isNaN())return Ya;e=e.replace(FT,x.toString())}return e}var BT=/\(([^()]*)\)/;function CJ(t){for(var e=t;e.includes("(");){var n=BT.exec(e),r=jh(n,2),i=r[1];e=e.replace(BT,fj(i))}return e}function NJ(t){var e=t.replace(/\s+/g,"");return e=CJ(e),e=fj(e),e}function jJ(t){try{return NJ(t)}catch{return Ya}}function ny(t){var e=jJ(t.slice(5,-1));return e===Ya?"":e}var RJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MJ=["dx","dy","angle","className","breakAll"];function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function UT(t,e){if(t==null)return{};var n=DJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zT(t,e){return FJ(t)||VJ(t,e)||LJ(t,e)||$J()}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t,e){if(t){if(typeof t=="string")return WT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WT(t,e)}}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function FJ(t){if(Array.isArray(t))return t}var dj=/[ \f\n\r\t\v\u2028\u2029]+/,hj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(dj));var a=o.map(function(l){return{word:l,width:_u(l,i).width}}),s=r?0:_u(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},BJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ie(a),f=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(q,Q){var F=Q.word,G=Q.width,Y=q[q.length-1];if(Y&&(i==null||o||Y.width+G+r<Number(i)))Y.words.push(F),Y.width+=G+r;else{var te={words:[F],width:G};q.push(te)}return q},[])},p=h(n),v=function(W){return W.reduce(function(q,Q){return q.width>Q.width?q:Q})};if(!d)return p;for(var y="…",w=function(W){var q=f.slice(0,W),Q=hj({breakAll:u,style:l,children:q+y}).wordsWithComputedWidth,F=h(Q),G=F.length>a||v(F).width>Number(i);return[G,F]},_=0,b=f.length-1,x=0,I;_<=b&&x<=f.length-1;){var E=Math.floor((_+b)/2),P=E-1,S=w(P),T=zT(S,2),O=T[0],k=T[1],C=w(E),R=zT(C,1),N=R[0];if(!O&&!N&&(_=E+1),O&&N&&(b=E-1),!O&&N){I=k;break}x++}return I||p},GT=function(e){var n=Ie(e)?[]:e.toString().split(dj);return[{words:n}]},UJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!fi.isSsr){var l,u,d=hj({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return GT(i);return BJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return GT(i)},HT="#808080",Rh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,w=e.fill,_=w===void 0?HT:w,b=UT(e,RJ),x=$.useMemo(function(){return UJ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),I=b.dx,E=b.dy,P=b.angle,S=b.className,T=b.breakAll,O=UT(b,MJ);if(!kt(r)||!kt(o))return null;var k=r+(ie(I)?I:0),C=o+(ie(E)?E:0),R;switch(y){case"start":R=ny("calc(".concat(u,")"));break;case"middle":R=ny("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=ny("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=x[0].width,W=b.width;N.push("scale(".concat((ie(W)?W/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(k,", ").concat(C,")")),N.length&&(O.transform=N.join(" ")),D.createElement("text",c0({},je(O,!0),{x:k,y:C,className:$e("recharts-text",S),textAnchor:p,fill:_.includes("url")?HT:_}),x.map(function(q,Q){var F=q.words.join(T?"":" ");return D.createElement("tspan",{x:k,dy:Q===0?R:s,key:"".concat(F,"-").concat(Q)},F)}))};function lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tw(t){let e,n,r;t.length!==2?(e=lo,n=(s,l)=>lo(t(s),l),r=(s,l)=>t(s)-l):(e=t===lo||t===zJ?t:WJ,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function WJ(){return 0}function pj(t){return t===null?NaN:+t}function*GJ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const HJ=Tw(lo),qJ=HJ.right;Tw(pj).center;const Zc=qJ;class qT extends Map{constructor(e,n=YJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KT(this,e))}has(e){return super.has(KT(this,e))}set(e,n){return super.set(KJ(this,e),n)}delete(e){return super.delete(XJ(this,e))}}function KT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function KJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function YJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QJ(t=lo){if(t===lo)return mj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const JJ=Math.sqrt(50),ZJ=Math.sqrt(10),eZ=Math.sqrt(2);function Mh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=JJ?10:o>=ZJ?5:o>=eZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Mh(t,e,n*2):[s,l,u]}function f0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Mh(e,t,n):Mh(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function d0(t,e,n){return e=+e,t=+t,n=+n,Mh(t,e,n)[2]}function h0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?d0(e,t,n):d0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function YT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function gj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mj:QJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));gj(t,e,p,v,i)}const o=t[e];let a=n,s=r;for(zl(t,n,e),i(t[r],o)>0&&zl(t,n,r);a<s;){for(zl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?zl(t,n,s):(++s,zl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function zl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tZ(t,e,n){if(t=Float64Array.from(GJ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YT(t);if(e>=1)return XT(t);var r,i=(r-1)*e,o=Math.floor(i),a=XT(gj(t,o).subarray(0,o+1)),s=YT(t.subarray(o+1));return a+(s-a)*(i-o)}}function nZ(t,e,n=pj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function rZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const p0=Symbol("implicit");function Aw(){var t=new qT,e=[],n=[],r=p0;function i(o){let a=t.get(o);if(a===void 0){if(r!==p0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Aw(e,n).unknown(r)},lr.apply(i,arguments),i}function ic(){var t=Aw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,v=p?i:r,y=p?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=rZ(h).map(function(_){return v+o*_});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ic(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},lr.apply(f(),arguments)}function yj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yj(e())},t}function wu(){return yj(ic.apply(null,arguments).paddingInner(1))}function Pw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ef(){}var oc=.7,Dh=1/oc,cs="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iZ=/^#([0-9a-f]{3,8})$/,oZ=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),aZ=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),sZ=new RegExp(`^rgba\\(${cs},${cs},${cs},${ac}\\)$`),lZ=new RegExp(`^rgba\\(${$r},${$r},${$r},${ac}\\)$`),uZ=new RegExp(`^hsl\\(${ac},${$r},${$r}\\)$`),cZ=new RegExp(`^hsla\\(${ac},${$r},${$r},${ac}\\)$`),QT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pw(ef,sc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JT,formatHex:JT,formatHex8:fZ,formatHsl:dZ,formatRgb:ZT,toString:ZT});function JT(){return this.rgb().formatHex()}function fZ(){return this.rgb().formatHex8()}function dZ(){return bj(this).formatHsl()}function ZT(){return this.rgb().formatRgb()}function sc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eA(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oZ.exec(t))?new In(e[1],e[2],e[3],1):(e=aZ.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sZ.exec(t))?Zf(e[1],e[2],e[3],e[4]):(e=lZ.exec(t))?Zf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uZ.exec(t))?rA(e[1],e[2]/100,e[3]/100,1):(e=cZ.exec(t))?rA(e[1],e[2]/100,e[3]/100,e[4]):QT.hasOwnProperty(t)?eA(QT[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function eA(t){return new In(t>>16&255,t>>8&255,t&255,1)}function Zf(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function hZ(t){return t instanceof ef||(t=sc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function m0(t,e,n,r){return arguments.length===1?hZ(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Pw(In,m0,vj(ef,{brighter(t){return t=t==null?Dh:Math.pow(Dh,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oc:Math.pow(oc,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(Zo(this.r),Zo(this.g),Zo(this.b),$h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tA,formatHex:tA,formatHex8:pZ,formatRgb:nA,toString:nA}));function tA(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function pZ(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function nA(){const t=$h(this.opacity);return`${t===1?"rgb(":"rgba("}${Zo(this.r)}, ${Zo(this.g)}, ${Zo(this.b)}${t===1?")":`, ${t})`}`}function $h(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Go(t){return t=Zo(t),(t<16?"0":"")+t.toString(16)}function rA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _r(t,e,n,r)}function bj(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof ef||(t=sc(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new _r(a,s,l,t.opacity)}function mZ(t,e,n,r){return arguments.length===1?bj(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Pw(_r,mZ,vj(ef,{brighter(t){return t=t==null?Dh:Math.pow(Dh,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oc:Math.pow(oc,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(ry(t>=240?t-240:t+120,i,r),ry(t,i,r),ry(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _r(iA(this.h),ed(this.s),ed(this.l),$h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$h(this.opacity);return`${t===1?"hsl(":"hsla("}${iA(this.h)}, ${ed(this.s)*100}%, ${ed(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iA(t){return t=(t||0)%360,t<0?t+360:t}function ed(t){return Math.max(0,Math.min(1,t||0))}function ry(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Iw=t=>()=>t;function gZ(t,e){return function(n){return t+n*e}}function yZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vZ(t){return(t=+t)==1?_j:function(e,n){return n-e?yZ(e,n,t):Iw(isNaN(e)?n:e)}}function _j(t,e){var n=e-t;return n?gZ(t,n):Iw(isNaN(t)?e:t)}const oA=function t(e){var n=vZ(e);function r(i,o){var a=n((i=m0(i)).r,(o=m0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=_j(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function bZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _Z(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=pl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function xZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var g0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iy=new RegExp(g0.source,"g");function EZ(t){return function(){return t}}function TZ(t){return function(e){return t(e)+""}}function AZ(t,e){var n=g0.lastIndex=iy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=g0.exec(t))&&(i=iy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Lh(r,i)})),n=iy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?TZ(l[0].x):EZ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Iw(e):(n==="number"?Lh:n==="string"?(r=sc(e))?(e=r,oA):AZ:e instanceof sc?oA:e instanceof Date?xZ:_Z(e)?bZ:Array.isArray(e)?wZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SZ:Lh)(t,e)}function Ow(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function PZ(t,e){e===void 0&&(e=t,t=pl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function IZ(t){return function(){return t}}function Vh(t){return+t}var aA=[0,1];function bn(t){return t}function y0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IZ(isNaN(e)?NaN:.5)}function OZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=y0(i,r),o=n(a,o)):(r=y0(r,i),o=n(o,a)),function(s){return o(r(s))}}function CZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=y0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Zc(t,s,1,r)-1;return o[l](i[l](s))}}function tf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tm(){var t=aA,e=aA,n=pl,r,i,o,a=bn,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==bn&&(a=OZ(t[0],t[h-1])),s=h>2?CZ:kZ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Lh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Vh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Ow,d()},f.clamp=function(h){return arguments.length?(a=h?!0:bn,d()):a!==bn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,d()}}function kw(){return Tm()(bn,bn)}function NZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rs(t){return t=Fh(Math.abs(t)),t?t[1]:NaN}function jZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function RZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lc(t){if(!(e=MZ.exec(t)))throw new Error("invalid format: "+t);var e;return new Cw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lc.prototype=Cw.prototype;function Cw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wj;function $Z(t,e){var n=Fh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fh(t,Math.max(0,e+o-1))[0]}function sA(t,e){var n=Fh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:NZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sA(t*100,e),r:sA,s:$Z,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uA(t){return t}var cA=Array.prototype.map,fA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LZ(t){var e=t.grouping===void 0||t.thousands===void 0?uA:jZ(cA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?uA:RZ(cA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=lc(f);var h=f.fill,p=f.align,v=f.sign,y=f.symbol,w=f.zero,_=f.width,b=f.comma,x=f.precision,I=f.trim,E=f.type;E==="n"?(b=!0,E="g"):lA[E]||(x===void 0&&(x=12),I=!0,E="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var P=y==="$"?n:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=y==="$"?r:/[%p]/.test(E)?a:"",T=lA[E],O=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var R=P,N=S,U,W,q;if(E==="c")N=T(C)+N,C="";else{C=+C;var Q=C<0||1/C<0;if(C=isNaN(C)?l:T(Math.abs(C),x),I&&(C=DZ(C)),Q&&+C==0&&v!=="+"&&(Q=!1),R=(Q?v==="("?v:s:v==="-"||v==="("?"":v)+R,N=(E==="s"?fA[8+wj/3]:"")+N+(Q&&v==="("?")":""),O){for(U=-1,W=C.length;++U<W;)if(q=C.charCodeAt(U),48>q||q>57){N=(q===46?i+C.slice(U+1):C.slice(U))+N,C=C.slice(0,U);break}}}b&&!w&&(C=e(C,1/0));var F=R.length+C.length+N.length,G=F<_?new Array(_-F+1).join(h):"";switch(b&&w&&(C=e(G+C,G.length?_-N.length:1/0),G=""),p){case"<":C=R+C+N+G;break;case"=":C=R+G+C+N;break;case"^":C=G.slice(0,F=G.length>>1)+R+C+N+G.slice(F);break;default:C=G+R+C+N;break}return o(C)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=lc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Rs(h)/3)))*3,y=Math.pow(10,-v),w=fA[8+v/3];return function(_){return p(y*_)+w}}return{format:u,formatPrefix:d}}var td,Nw,xj;VZ({thousands:",",grouping:[3],currency:["$",""]});function VZ(t){return td=LZ(t),Nw=td.format,xj=td.formatPrefix,td}function FZ(t){return Math.max(0,-Rs(Math.abs(t)))}function BZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rs(e)/3)))*3-Rs(Math.abs(t)))}function UZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rs(e)-Rs(t))+1}function Sj(t,e,n,r){var i=h0(t,e,n),o;switch(r=lc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=BZ(i,a))&&(r.precision=o),xj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=UZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=FZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Nw(r)}function So(t){var e=t.domain;return t.ticks=function(n){var r=e();return f0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Sj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=d0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Bh(){var t=kw();return t.copy=function(){return tf(t,Bh())},lr.apply(t,arguments),So(t)}function Ej(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ej(t).unknown(e)},t=arguments.length?Array.from(t,Vh):[0,1],So(n)}function Tj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function dA(t){return Math.log(t)}function hA(t){return Math.exp(t)}function zZ(t){return-Math.log(-t)}function WZ(t){return-Math.exp(-t)}function GZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HZ(t){return t===10?GZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pA(t){return(e,n)=>-t(-e,n)}function jw(t){const e=t(dA,hA),n=e.domain;let r=10,i,o;function a(){return i=qZ(r),o=HZ(r),n()[0]<0?(i=pA(i),o=pA(o),t(zZ,WZ)):t(dA,hA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,y;const w=s==null?10:+s;let _=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;_.push(y)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;_.push(y)}_.length*2<w&&(_=f0(u,d,w))}else _=f0(h,p,Math.min(p-h,w)).map(o);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lc(l)).precision==null&&(l.trim=!0),l=Nw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(Tj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Aj(){const t=jw(Tm()).domain([1,10]);return t.copy=()=>tf(t,Aj()).base(t.base()),lr.apply(t,arguments),t}function mA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Rw(t){var e=1,n=t(mA(e),gA(e));return n.constant=function(r){return arguments.length?t(mA(e=+r),gA(e)):e},So(n)}function Pj(){var t=Rw(Tm());return t.copy=function(){return tf(t,Pj()).constant(t.constant())},lr.apply(t,arguments)}function yA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XZ(t){return t<0?-t*t:t*t}function Mw(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(KZ,XZ):t(yA(n),yA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},So(e)}function Dw(){var t=Mw(Tm());return t.copy=function(){return tf(t,Dw()).exponent(t.exponent())},lr.apply(t,arguments),t}function YZ(){return Dw.apply(null,arguments).exponent(.5)}function vA(t){return Math.sign(t)*t*t}function QZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ij(){var t=kw(),e=[0,1],n=!1,r;function i(o){var a=QZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(vA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Vh)).map(vA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ij(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},lr.apply(i,arguments),So(i)}function Oj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=nZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Zc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(lo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Oj().domain(t).range(e).unknown(r)},lr.apply(o,arguments)}function kj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Zc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return kj().domain([t,e]).range(i).unknown(o)},lr.apply(So(a),arguments)}function Cj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Zc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Cj().domain(t).range(e).unknown(n)},lr.apply(i,arguments)}const oy=new Date,ay=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Nt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(oy.setTime(+o),ay.setTime(+a),t(oy),t(ay),Math.floor(n(oy,ay))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Uh=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uh);Uh.range;const ii=1e3,Zn=ii*60,oi=Zn*60,xi=oi*24,$w=xi*7,bA=xi*30,sy=xi*365,Ho=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCSeconds());Ho.range;const Lw=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());Lw.range;const Vw=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());Vw.range;const Fw=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());Fw.range;const Bw=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());Bw.range;const nf=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/xi,t=>t.getDate()-1);nf.range;const Am=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>t.getUTCDate()-1);Am.range;const Nj=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>Math.floor(t/xi));Nj.range;function wa(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/$w)}const Pm=wa(0),zh=wa(1),JZ=wa(2),ZZ=wa(3),Ms=wa(4),eee=wa(5),tee=wa(6);Pm.range;zh.range;JZ.range;ZZ.range;Ms.range;eee.range;tee.range;function xa(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/$w)}const Im=xa(0),Wh=xa(1),nee=xa(2),ree=xa(3),Ds=xa(4),iee=xa(5),oee=xa(6);Im.range;Wh.range;nee.range;ree.range;Ds.range;iee.range;oee.range;const Uw=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Uw.range;const zw=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zw.range;const Si=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Si.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Si.range;const Ei=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ei.range;function jj(t,e,n,r,i,o){const a=[[Ho,1,ii],[Ho,5,5*ii],[Ho,15,15*ii],[Ho,30,30*ii],[o,1,Zn],[o,5,5*Zn],[o,15,15*Zn],[o,30,30*Zn],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[r,1,xi],[r,2,2*xi],[n,1,$w],[e,1,bA],[e,3,3*bA],[t,1,sy]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=Tw(([,,w])=>w).right(a,h);if(p===a.length)return t.every(h0(u/sy,d/sy,f));if(p===0)return Uh.every(Math.max(h0(u,d,f),1));const[v,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return v.every(y)}return[s,l]}const[aee,see]=jj(Ei,zw,Im,Nj,Bw,Vw),[lee,uee]=jj(Si,Uw,Pm,nf,Fw,Lw);function ly(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Gl(i),d=Hl(i),f=Gl(o),h=Hl(o),p=Gl(a),v=Hl(a),y=Gl(s),w=Hl(s),_=Gl(l),b=Hl(l),x={a:Q,A:F,b:G,B:Y,c:null,d:TA,e:TA,f:jee,g:zee,G:Gee,H:kee,I:Cee,j:Nee,L:Rj,m:Ree,M:Mee,p:te,q:L,Q:IA,s:OA,S:Dee,u:$ee,U:Lee,V:Vee,w:Fee,W:Bee,x:null,X:null,y:Uee,Y:Wee,Z:Hee,"%":PA},I={a:K,A:se,b:he,B:pe,c:null,d:AA,e:AA,f:Yee,g:ate,G:lte,H:qee,I:Kee,j:Xee,L:Dj,m:Qee,M:Jee,p:be,q:_e,Q:IA,s:OA,S:Zee,u:ete,U:tte,V:nte,w:rte,W:ite,x:null,X:null,y:ote,Y:ste,Z:ute,"%":PA},E={a:k,A:C,b:R,B:N,c:U,d:SA,e:SA,f:Aee,g:xA,G:wA,H:EA,I:EA,j:xee,L:Tee,m:wee,M:See,p:O,q:_ee,Q:Iee,s:Oee,S:Eee,u:mee,U:gee,V:yee,w:pee,W:vee,x:W,X:q,y:xA,Y:wA,Z:bee,"%":Pee};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),I.x=P(n,I),I.X=P(r,I),I.c=P(e,I);function P(oe,ge){return function(X){var B=[],ne=-1,ue=0,Pe=oe.length,Se,Ce,Me;for(X instanceof Date||(X=new Date(+X));++ne<Pe;)oe.charCodeAt(ne)===37&&(B.push(oe.slice(ue,ne)),(Ce=_A[Se=oe.charAt(++ne)])!=null?Se=oe.charAt(++ne):Ce=Se==="e"?" ":"0",(Me=ge[Se])&&(Se=Me(X,Ce)),B.push(Se),ue=ne+1);return B.push(oe.slice(ue,ne)),B.join("")}}function S(oe,ge){return function(X){var B=Wl(1900,void 0,1),ne=T(B,oe,X+="",0),ue,Pe;if(ne!=X.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ge&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ue=uy(Wl(B.y,0,1)),Pe=ue.getUTCDay(),ue=Pe>4||Pe===0?Wh.ceil(ue):Wh(ue),ue=Am.offset(ue,(B.V-1)*7),B.y=ue.getUTCFullYear(),B.m=ue.getUTCMonth(),B.d=ue.getUTCDate()+(B.w+6)%7):(ue=ly(Wl(B.y,0,1)),Pe=ue.getDay(),ue=Pe>4||Pe===0?zh.ceil(ue):zh(ue),ue=nf.offset(ue,(B.V-1)*7),B.y=ue.getFullYear(),B.m=ue.getMonth(),B.d=ue.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Pe="Z"in B?uy(Wl(B.y,0,1)).getUTCDay():ly(Wl(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Pe+5)%7:B.w+B.U*7-(Pe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,uy(B)):ly(B)}}function T(oe,ge,X,B){for(var ne=0,ue=ge.length,Pe=X.length,Se,Ce;ne<ue;){if(B>=Pe)return-1;if(Se=ge.charCodeAt(ne++),Se===37){if(Se=ge.charAt(ne++),Ce=E[Se in _A?ge.charAt(ne++):Se],!Ce||(B=Ce(oe,X,B))<0)return-1}else if(Se!=X.charCodeAt(B++))return-1}return B}function O(oe,ge,X){var B=u.exec(ge.slice(X));return B?(oe.p=d.get(B[0].toLowerCase()),X+B[0].length):-1}function k(oe,ge,X){var B=p.exec(ge.slice(X));return B?(oe.w=v.get(B[0].toLowerCase()),X+B[0].length):-1}function C(oe,ge,X){var B=f.exec(ge.slice(X));return B?(oe.w=h.get(B[0].toLowerCase()),X+B[0].length):-1}function R(oe,ge,X){var B=_.exec(ge.slice(X));return B?(oe.m=b.get(B[0].toLowerCase()),X+B[0].length):-1}function N(oe,ge,X){var B=y.exec(ge.slice(X));return B?(oe.m=w.get(B[0].toLowerCase()),X+B[0].length):-1}function U(oe,ge,X){return T(oe,e,ge,X)}function W(oe,ge,X){return T(oe,n,ge,X)}function q(oe,ge,X){return T(oe,r,ge,X)}function Q(oe){return a[oe.getDay()]}function F(oe){return o[oe.getDay()]}function G(oe){return l[oe.getMonth()]}function Y(oe){return s[oe.getMonth()]}function te(oe){return i[+(oe.getHours()>=12)]}function L(oe){return 1+~~(oe.getMonth()/3)}function K(oe){return a[oe.getUTCDay()]}function se(oe){return o[oe.getUTCDay()]}function he(oe){return l[oe.getUTCMonth()]}function pe(oe){return s[oe.getUTCMonth()]}function be(oe){return i[+(oe.getUTCHours()>=12)]}function _e(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ge=P(oe+="",x);return ge.toString=function(){return oe},ge},parse:function(oe){var ge=S(oe+="",!1);return ge.toString=function(){return oe},ge},utcFormat:function(oe){var ge=P(oe+="",I);return ge.toString=function(){return oe},ge},utcParse:function(oe){var ge=S(oe+="",!0);return ge.toString=function(){return oe},ge}}}var _A={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,fee=/^%/,dee=/[\\^$*+?|[\]().{}]/g;function Fe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hee(t){return t.replace(dee,"\\$&")}function Gl(t){return new RegExp("^(?:"+t.map(hee).join("|")+")","i")}function Hl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function pee(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mee(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wA(t,e,n){var r=Lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xA(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ee(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wee(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SA(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xee(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EA(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pee(t,e,n){var r=fee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Iee(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TA(t,e){return Fe(t.getDate(),e,2)}function kee(t,e){return Fe(t.getHours(),e,2)}function Cee(t,e){return Fe(t.getHours()%12||12,e,2)}function Nee(t,e){return Fe(1+nf.count(Si(t),t),e,3)}function Rj(t,e){return Fe(t.getMilliseconds(),e,3)}function jee(t,e){return Rj(t,e)+"000"}function Ree(t,e){return Fe(t.getMonth()+1,e,2)}function Mee(t,e){return Fe(t.getMinutes(),e,2)}function Dee(t,e){return Fe(t.getSeconds(),e,2)}function $ee(t){var e=t.getDay();return e===0?7:e}function Lee(t,e){return Fe(Pm.count(Si(t)-1,t),e,2)}function Mj(t){var e=t.getDay();return e>=4||e===0?Ms(t):Ms.ceil(t)}function Vee(t,e){return t=Mj(t),Fe(Ms.count(Si(t),t)+(Si(t).getDay()===4),e,2)}function Fee(t){return t.getDay()}function Bee(t,e){return Fe(zh.count(Si(t)-1,t),e,2)}function Uee(t,e){return Fe(t.getFullYear()%100,e,2)}function zee(t,e){return t=Mj(t),Fe(t.getFullYear()%100,e,2)}function Wee(t,e){return Fe(t.getFullYear()%1e4,e,4)}function Gee(t,e){var n=t.getDay();return t=n>=4||n===0?Ms(t):Ms.ceil(t),Fe(t.getFullYear()%1e4,e,4)}function Hee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fe(e/60|0,"0",2)+Fe(e%60,"0",2)}function AA(t,e){return Fe(t.getUTCDate(),e,2)}function qee(t,e){return Fe(t.getUTCHours(),e,2)}function Kee(t,e){return Fe(t.getUTCHours()%12||12,e,2)}function Xee(t,e){return Fe(1+Am.count(Ei(t),t),e,3)}function Dj(t,e){return Fe(t.getUTCMilliseconds(),e,3)}function Yee(t,e){return Dj(t,e)+"000"}function Qee(t,e){return Fe(t.getUTCMonth()+1,e,2)}function Jee(t,e){return Fe(t.getUTCMinutes(),e,2)}function Zee(t,e){return Fe(t.getUTCSeconds(),e,2)}function ete(t){var e=t.getUTCDay();return e===0?7:e}function tte(t,e){return Fe(Im.count(Ei(t)-1,t),e,2)}function $j(t){var e=t.getUTCDay();return e>=4||e===0?Ds(t):Ds.ceil(t)}function nte(t,e){return t=$j(t),Fe(Ds.count(Ei(t),t)+(Ei(t).getUTCDay()===4),e,2)}function rte(t){return t.getUTCDay()}function ite(t,e){return Fe(Wh.count(Ei(t)-1,t),e,2)}function ote(t,e){return Fe(t.getUTCFullYear()%100,e,2)}function ate(t,e){return t=$j(t),Fe(t.getUTCFullYear()%100,e,2)}function ste(t,e){return Fe(t.getUTCFullYear()%1e4,e,4)}function lte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ds(t):Ds.ceil(t),Fe(t.getUTCFullYear()%1e4,e,4)}function ute(){return"+0000"}function PA(){return"%"}function IA(t){return+t}function OA(t){return Math.floor(+t/1e3)}var Ca,Lj,Vj;cte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cte(t){return Ca=cee(t),Lj=Ca.format,Ca.parse,Vj=Ca.utcFormat,Ca.utcParse,Ca}function fte(t){return new Date(t)}function dte(t){return t instanceof Date?+t:+new Date(+t)}function Ww(t,e,n,r,i,o,a,s,l,u){var d=kw(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),b=u("%b %d"),x=u("%B"),I=u("%Y");function E(P){return(l(P)<P?p:s(P)<P?v:a(P)<P?y:o(P)<P?w:r(P)<P?i(P)<P?_:b:n(P)<P?x:I)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,dte)):h().map(fte)},d.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},d.tickFormat=function(P,S){return S==null?E:u(S)},d.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(Tj(S,P)):d},d.copy=function(){return tf(d,Ww(t,e,n,r,i,o,a,s,l,u))},d}function hte(){return lr.apply(Ww(lee,uee,Si,Uw,Pm,nf,Fw,Lw,Ho,Lj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pte(){return lr.apply(Ww(aee,see,Ei,zw,Im,Am,Bw,Vw,Ho,Vj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Om(){var t=0,e=1,n,r,i,o,a=bn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,a=f(p,v),u):[a(0),a(1)]}}return u.range=d(pl),u.rangeRound=d(Ow),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Fj(){var t=So(Om()(bn));return t.copy=function(){return Eo(t,Fj())},Oi.apply(t,arguments)}function Bj(){var t=jw(Om()).domain([1,10]);return t.copy=function(){return Eo(t,Bj()).base(t.base())},Oi.apply(t,arguments)}function Uj(){var t=Rw(Om());return t.copy=function(){return Eo(t,Uj()).constant(t.constant())},Oi.apply(t,arguments)}function Gw(){var t=Mw(Om());return t.copy=function(){return Eo(t,Gw()).exponent(t.exponent())},Oi.apply(t,arguments)}function mte(){return Gw.apply(null,arguments).exponent(.5)}function zj(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Zc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>tZ(t,o/r))},n.copy=function(){return zj(e).domain(t)},Oi.apply(n,arguments)}function km(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=bn,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function v(y){return function(w){var _,b,x;return arguments.length?([_,b,x]=w,u=PZ(y,[_,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=v(pl),p.rangeRound=v(Ow),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Wj(){var t=So(km()(bn));return t.copy=function(){return Eo(t,Wj())},Oi.apply(t,arguments)}function Gj(){var t=jw(km()).domain([.1,1,10]);return t.copy=function(){return Eo(t,Gj()).base(t.base())},Oi.apply(t,arguments)}function Hj(){var t=Rw(km());return t.copy=function(){return Eo(t,Hj()).constant(t.constant())},Oi.apply(t,arguments)}function Hw(){var t=Mw(km());return t.copy=function(){return Eo(t,Hw()).exponent(t.exponent())},Oi.apply(t,arguments)}function gte(){return Hw.apply(null,arguments).exponent(.5)}const kA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ic,scaleDiverging:Wj,scaleDivergingLog:Gj,scaleDivergingPow:Hw,scaleDivergingSqrt:gte,scaleDivergingSymlog:Hj,scaleIdentity:Ej,scaleImplicit:p0,scaleLinear:Bh,scaleLog:Aj,scaleOrdinal:Aw,scalePoint:wu,scalePow:Dw,scaleQuantile:Oj,scaleQuantize:kj,scaleRadial:Ij,scaleSequential:Fj,scaleSequentialLog:Bj,scaleSequentialPow:Gw,scaleSequentialQuantile:zj,scaleSequentialSqrt:mte,scaleSequentialSymlog:Uj,scaleSqrt:YZ,scaleSymlog:Pj,scaleThreshold:Cj,scaleTime:hte,scaleUtc:pte,tickFormat:Sj},Symbol.toStringTag,{value:"Module"}));var yte=al;function vte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!yte(a):n(a,s)))var s=a,l=o}return l}var qj=vte;function bte(t,e){return t>e}var _te=bte,wte=qj,xte=_te,Ste=hl;function Ete(t){return t&&t.length?wte(t,Ste,xte):void 0}var Tte=Ete;const Cm=Qe(Tte);function Ate(t,e){return t<e}var Pte=Ate,Ite=qj,Ote=Pte,kte=hl;function Cte(t){return t&&t.length?Ite(t,kte,Ote):void 0}var Nte=Cte;const Nm=Qe(Nte);var jte=aw,Rte=xo,Mte=tj,Dte=jn;function $te(t,e){var n=Dte(t)?jte:Mte;return n(t,Rte(e))}var Lte=$te,Vte=ZN,Fte=Lte;function Bte(t,e){return Vte(Fte(t,e),1)}var Ute=Bte;const zte=Qe(Ute);var Wte=ww;function Gte(t,e){return Wte(t,e)}var Hte=Gte;const jm=Qe(Hte);var ml=1e9,qte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Kw,lt=!0,ar="[DecimalError] ",ea=ar+"Invalid argument: ",qw=ar+"Exponent out of range: ",gl=Math.floor,Lo=Math.pow,Kte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Mt=1e7,it=7,Kj=9007199254740991,Gh=gl(Kj/it),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return di(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return Ye(di(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Et(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(ar+"NaN");if(n.s<1)throw Error(ar+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(lt=!1,e=di(uc(n,o),uc(t,o),o),lt=!0,Ye(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qj(e,t):Xj(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ar+"NaN");return n.s?(lt=!1,e=di(n,t,0,1).times(t),lt=!0,n.minus(e)):Ye(new r(n),i)};fe.naturalExponential=fe.exp=function(){return Yj(this)};fe.naturalLogarithm=fe.ln=function(){return uc(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xj(e,t):Qj(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ea+t);if(e=Et(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ar+"NaN")}for(t=Et(s),lt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Cr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(di(s,o,a+2)).times(.5),Cr(o.d).slice(0,a)===(e=Cr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return lt=!0,Ye(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Mt|0,e=s/Mt|0;o[i]=(o[i]+e)%Mt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,lt?Ye(t,f.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ur(t,0,ml),e===void 0?e=r.rounding:Ur(e,0,8),Ye(n,t+Et(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ha(r,!0):(Ur(t,0,ml),e===void 0?e=i.rounding:Ur(e,0,8),r=Ye(new i(r),t+1,e),n=ha(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ha(i):(Ur(t,0,ml),e===void 0?e=o.rounding:Ur(e,0,8),r=Ye(new o(i),t+Et(i)+1,e),n=ha(r.abs(),!1,t+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),Et(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(ar+"Infinity");return s}if(s.eq(Vn))return s;if(r=l.precision,t.eq(Vn))return Ye(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=Kj){for(i=new l(Vn),e=Math.ceil(r/it+4),lt=!1;n%2&&(i=i.times(s),NA(i.d,e)),n=gl(n/2),n!==0;)s=s.times(s),NA(s.d,e);return lt=!0,t.s<0?new l(Vn).div(i):Ye(i,r)}}else if(o<0)throw Error(ar+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,lt=!1,i=t.times(uc(s,r+u)),lt=!0,i=Yj(i),i.s=o,i};fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Et(i),r=ha(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ur(t,1,ml),e===void 0?e=o.rounding:Ur(e,0,8),i=Ye(new o(i),t,e),n=Et(i),r=ha(i,t<=n||n<=o.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ur(t,1,ml),e===void 0?e=r.rounding:Ur(e,0,8)),Ye(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Et(t),n=t.constructor;return ha(t,e<=n.toExpNeg||e>=n.toExpPos)};function Xj(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),lt?Ye(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/it),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Mt|0,l[o]%=Mt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,lt?Ye(e,f):e}function Ur(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ea+t)}function Cr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=Li(n)),o+=r;a=t[e],r=a+"",n=it-r.length,n&&(o+=Li(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var di=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Mt|0,a=o/Mt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Mt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,p,v,y,w,_,b,x,I,E,P,S,T,O=r.constructor,k=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ar+"Division by zero");for(l=r.e-i.e,S=R.length,E=C.length,p=new O(k),v=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?b=o=O.precision:a?b=o+(Et(r)-Et(i))+1:b=o,b<0)return new O(0);if(b=b/it+2|0,u=0,S==1)for(d=0,R=R[0],b++;(u<E||d)&&b--;u++)x=d*Mt+(C[u]||0),v[u]=x/R|0,d=x%R|0;else{for(d=Mt/(R[0]+1)|0,d>1&&(R=t(R,d),C=t(C,d),S=R.length,E=C.length),I=S,y=C.slice(0,S),w=y.length;w<S;)y[w++]=0;T=R.slice(),T.unshift(0),P=R[0],R[1]>=Mt/2&&++P;do d=0,s=e(R,y,S,w),s<0?(_=y[0],S!=w&&(_=_*Mt+(y[1]||0)),d=_/P|0,d>1?(d>=Mt&&(d=Mt-1),f=t(R,d),h=f.length,w=y.length,s=e(f,y,h,w),s==1&&(d--,n(f,S<h?T:R,h))):(d==0&&(s=d=1),f=R.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),s==-1&&(w=y.length,s=e(R,y,S,w),s<1&&(d++,n(y,S<w?T:R,w))),w=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[w++]=C[I]||0:(y=[C[I]],w=1);while((I++<E||y[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=l,Ye(p,a?o+Et(p)+1:o)}}();function Yj(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(Et(t)>16)throw Error(qw+Et(t));if(!t.s)return new d(Vn);for(e==null?(lt=!1,s=f):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Lo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Vn),d.precision=s;;){if(i=Ye(i.times(t),s),n=n.times(++l),a=o.plus(di(i,n,s)),Cr(a.d).slice(0,s)===Cr(o.d).slice(0,s)){for(;u--;)o=Ye(o.times(o),s);return d.precision=f,e==null?(lt=!0,Ye(o,f)):o}o=a}}function Et(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function cy(t,e,n){if(e>t.LN10.sd())throw lt=!0,n&&(t.precision=n),Error(ar+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Li(t){for(var e="";t--;)e+="0";return e}function uc(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,p=t,v=p.d,y=p.constructor,w=y.precision;if(p.s<1)throw Error(ar+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new y(0);if(e==null?(lt=!1,u=w):u=e,p.eq(10))return e==null&&(lt=!0),cy(y,u);if(u+=h,y.precision=u,n=Cr(v),r=n.charAt(0),o=Et(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Cr(p.d),r=n.charAt(0),f++;o=Et(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=cy(y,u+2,w).times(o+""),p=uc(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(lt=!0,Ye(p,w)):p;for(s=a=p=di(p.minus(Vn),p.plus(Vn),u),d=Ye(p.times(p),u),i=3;;){if(a=Ye(a.times(d),u),l=s.plus(di(a,new y(i),u)),Cr(l.d).slice(0,u)===Cr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(cy(y,u+2,w).times(o+""))),s=di(s,new y(f),u),y.precision=w,e==null?(lt=!0,Ye(s,w)):s;s=l,i+=2}}function CA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gl(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lt&&(t.e>Gh||t.e<-Gh))throw Error(qw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=it,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/it),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=it,i=r-it+a}if(n!==void 0&&(o=Lo(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Lo(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Et(t),f.length=1,e=e-o-1,f[0]=Lo(10,(it-e%it)%it),t.e=gl(-e/it)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Lo(10,it-r),f[d]=i>0?(u/Lo(10,a-i)%Lo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Mt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Mt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(lt&&(t.e>Gh||t.e<-Gh))throw Error(qw+Et(t));return t}function Qj(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),lt?Ye(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Mt-1;--l[o],l[i]+=Mt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,lt?Ye(e,p):e):new h(0)}function ha(t,e,n){var r,i=Et(t),o=Cr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Li(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Li(-i-1)+o,n&&(r=n-a)>0&&(o+=Li(r))):i>=a?(o+=Li(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Li(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Li(r))),t.s<0?"-"+o:o}function NA(t,e){if(t.length>e)return t.length=e,!0}function Jj(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ea+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return CA(a,o.toString())}else if(typeof o!="string")throw Error(ea+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Kte.test(o))CA(a,o);else throw Error(ea+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Jj,i.config=i.set=Xte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xte(t){if(!t||typeof t!="object")throw Error(ar+"Object expected");var e,n,r,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ea+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ea+n+": "+r);return this}var Kw=Jj(qte);Vn=new Kw(1);const qe=Kw;function Yte(t){return ene(t)||Zte(t)||Jte(t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return v0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v0(t,e)}}function Zte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ene(t){if(Array.isArray(t))return v0(t)}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tne=function(e){return e},Zj={"@@functional/placeholder":!0},eR=function(e){return e===Zj},jA=function(e){return function n(){return arguments.length===0||arguments.length===1&&eR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nne=function t(e,n){return e===1?n:jA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Zj}).length;return a>=e?n.apply(void 0,i):t(e-a,jA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return eR(f)?l.shift():f});return n.apply(void 0,Yte(d).concat(l))}))})},Rm=function(e){return nne(e.length,e)},b0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rne=Rm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ine=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},_0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function one(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function ane(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var sne=Rm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lne=Rm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),une=Rm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Mm={rangeStep:ane,getDigitCount:one,interpolateNumber:sne,uninterpolateNumber:lne,uninterpolateTruncation:une};function w0(t){return dne(t)||fne(t)||nR(t)||cne()}function cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dne(t){if(Array.isArray(t))return x0(t)}function cc(t,e){return mne(t)||pne(t,e)||nR(t,e)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nR(t,e){if(t){if(typeof t=="string")return x0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x0(t,e)}}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function mne(t){if(Array.isArray(t))return t}function rR(t){var e=cc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iR(t,e,n){if(t.lte(0))return new qe(0);var r=Mm.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function gne(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(Mm.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=ine(rne(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),b0);return s(0,e)}function oR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=iR(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?oR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function yne(t){var e=cc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=rR([n,r]),l=cc(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(w0(b0(0,i-1).map(function(){return 1/0}))):[].concat(w0(b0(0,i-1).map(function(){return-1/0})),[d]);return n>r?_0(f):f}if(u===d)return gne(u,i,o);var h=oR(u,d,a,o),p=h.step,v=h.tickMin,y=h.tickMax,w=Mm.rangeStep(v,y.add(new qe(.1).mul(p)),p);return n>r?_0(w):w}function vne(t,e){var n=cc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=rR([r,i]),s=cc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=iR(new qe(u).sub(l).div(d-1),o,0),h=[].concat(w0(Mm.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(f)),f)),[u]);return r>i?_0(h):h}var bne=tR(yne),_ne=tR(vne),wne=!0,fy="Invariant failed";function pa(t,e){if(!t){if(wne)throw new Error(fy);var n=typeof e=="function"?e():e,r=n?"".concat(fy,": ").concat(n):fy;throw new Error(r)}}var xne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}function Sne(t,e){return Pne(t)||Ane(t,e)||Tne(t,e)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ane(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Pne(t){if(Array.isArray(t))return t}function Ine(t,e){if(t==null)return{};var n=One(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function One(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lR(r.key),r)}}function Cne(t,e,n){return e&&MA(t.prototype,e),n&&MA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=qh(e),jne(t,aR()?Reflect.construct(e,n||[],qh(t).constructor):e.apply(t,n))}function jne(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S0(t,e)}function sR(t,e,n){return e=lR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lR(t){var e=Dne(t,"string");return $s(e)=="symbol"?e:e+""}function Dne(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rf=function(t){function e(){return kne(this,e),Nne(this,e,arguments)}return Mne(e,t),Cne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Ine(r,xne),p=je(h,!1);this.props.direction==="x"&&d.type!=="number"&&pa(!1);var v=l.map(function(y){var w=u(y,s),_=w.x,b=w.y,x=w.value,I=w.errorVal;if(!I)return null;var E=[],P,S;if(Array.isArray(I)){var T=Sne(I,2);P=T[0],S=T[1]}else P=S=I;if(o==="vertical"){var O=d.scale,k=b+i,C=k+a,R=k-a,N=O(x-P),U=O(x+S);E.push({x1:U,y1:C,x2:U,y2:R}),E.push({x1:N,y1:k,x2:U,y2:k}),E.push({x1:N,y1:C,x2:N,y2:R})}else if(o==="horizontal"){var W=f.scale,q=_+i,Q=q-a,F=q+a,G=W(x-P),Y=W(x+S);E.push({x1:Q,y1:Y,x2:F,y2:Y}),E.push({x1:q,y1:G,x2:q,y2:Y}),E.push({x1:Q,y1:G,x2:F,y2:G})}return D.createElement(bt,Hh({className:"recharts-errorBar",key:"bar-".concat(E.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),E.map(function(te){return D.createElement("line",Hh({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return D.createElement(bt,{className:"recharts-errorBars"},v)}}])}(D.Component);sR(rf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sR(rf,"displayName","ErrorBar");function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return fc(e)=="symbol"?e:e+""}function Vne(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ln(n,Jo);if(!a)return null;var s=Jo.defaultProps,l=s!==void 0?Co(Co({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Co(Co({},h),f.props):{},v=p.dataKey,y=p.name,w=p.legendType,_=p.hide;return{inactive:_,dataKey:v,type:l.iconType||w||"square",color:Xw(f),value:y||v,payload:p}}),Co(Co(Co({},l),Jo.getWithHeight(a,i)),{},{payload:u,item:a})};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function $A(t){return zne(t)||Une(t)||Bne(t)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return E0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E0(t,e)}}function Une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zne(t){if(Array.isArray(t))return E0(t)}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){fs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fs(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Gne(t,"string");return dc(e)=="symbol"?e:e+""}function Gne(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return Ie(t)||Ie(e)?n:kt(e)?nr(t,e,n):Ae(e)?e(t):n}function xu(t,e,n,r){var i=zte(t,function(s){return Wn(s,e)});if(n==="number"){var o=i.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[Nm(o),Cm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ie(s)}):i;return a.map(function(s){return kt(s)||s instanceof Date?s:""})}var Hne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(wr(f-d)!==wr(h-f)){var v=[];if(wr(h-f)===wr(l[1]-l[0])){p=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{p=d;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(e>(b+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},Xw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},qne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],y=v.items,w=v.cateAxisId,_=y.filter(function(S){return ui(S.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,x=b!==void 0?mt(mt({},b),_[0].props):_[0].props,I=x.barSize,E=x[w];a[E]||(a[E]=[]);var P=Ie(I)?n:I;a[E].push({item:_[0],stackList:_.slice(1),barSize:Ie(P)?void 0:da(P,r,0)})}}return a},Kne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=da(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,v=a.reduce(function(I,E){return I+E.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var y=(i-v)/2>>0,w={offset:y-u,size:0};d=a.reduce(function(I,E){var P={item:E.item,position:{offset:w.offset+w.size+u,size:h?p:E.barSize}},S=[].concat($A(I),[P]);return w=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:w})}),S},f)}else{var _=da(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var b=(i-2*_-(l-1)*u)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=a.reduce(function(I,E,P){var S=[].concat($A(I),[{item:E.item,position:{offset:_+(b+u)*P+(b-x)/2,size:x}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},Xne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=uR({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&p!=="center"&&ie(e[p]))return mt(mt({},e),{},fs({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&v!=="middle"&&ie(e[v]))return mt(mt({},e),{},fs({},v,e[v]+(h||0)))}return e},Yne=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cR=function(e,n,r,i,o){var a=n.props.children,s=rr(a,rf).filter(function(u){return Yne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Wn(d,r);if(Ie(f))return u;var h=Array.isArray(f)?[Nm(f),Cm(f)]:[f,f],p=l.reduce(function(v,y){var w=Wn(d,y,0),_=h[0]-Math.abs(Array.isArray(w)?w[0]:w),b=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(_,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Qne=function(e,n,r,i,o){var a=n.map(function(s){return cR(e,s,r,o,i)}).filter(function(s){return!Ie(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&cR(e,l,u,i)||xu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},dR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ai=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?wr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Yc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},dy=new WeakMap,nd=function(e,n){if(typeof n!="function")return e;dy.has(e)||dy.set(e,new WeakMap);var r=dy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:ic(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Bh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wu(),realScaleType:"point"}:o==="category"?{scale:ic(),realScaleType:"band"}:{scale:Bh(),realScaleType:"linear"};if(fa(i)){var l="scale".concat(vm(i));return{scale:(kA[l]||wu)(),realScaleType:kA[l]?l:"point"}}return Ae(i)?{scale:i}:{scale:wu(),realScaleType:"point"}},VA=1e-4,Zne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-VA,a=Math.max(i[0],i[1])+VA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ere=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tre=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Yc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},rre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Yc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ire={sign:nre,expand:wW,none:Os,silhouette:xW,wiggle:SW,positive:rre},ore=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ire[r],a=_W().keys(i).value(function(s,l){return+Wn(s,l,0)}).order(Xv).offset(o);return a(e)},are=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mt(mt({},h.type.defaultProps),h.props):h.props,y=v.stackId,w=v.hide;if(w)return f;var _=v[r],b=f[_]||{hasStack:!1,stackGroups:{}};if(kt(y)){var x=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[Qc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return mt(mt({},f),{},fs({},_,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,w){var _=p.stackGroups[w];return mt(mt({},y),{},fs({},w,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:ore(e,_.items,o)}))},v)}return mt(mt({},f),{},fs({},h,p))},d)},sre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=bne(u,o,s);return e.domain([Nm(d),Cm(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=_ne(f,o,s);return{niceTicks:h}}return null};function FA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var s=vh(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Wn(i,Ie(a)?e.dataKey:a);return Ie(l)?null:e.scale(l)}var BA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Wn(a,n.dataKey,n.domain[s]);return Ie(l)?null:n.scale(l)-o/2+i},lre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ure=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(kt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},cre=function(e){return e.reduce(function(n,r){return[Nm(r.concat([n[0]]).filter(ie)),Cm(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},pR=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=cre(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T0=function(e,n,r){if(Ae(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(UA.test(e[0])){var o=+UA.exec(e[0])[1];i[0]=n[0]-o}else Ae(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zA.test(e[1])){var a=+zA.exec(e[1])[1];i[1]=n[1]+a}else Ae(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Kh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Sw(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},WA=function(e,n,r){return!e||!e.length||jm(e,nr(r,"type.defaultProps.domain"))?n:e},mR=function(e,n){var r=e.type.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return mt(mt({},je(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Xw(e),value:Wn(n,i),type:l,payload:n,chartType:u,hide:d})};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=hre(t,"string");return hc(e)=="symbol"?e:e+""}function hre(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xh=Math.PI/180,pre=function(e){return e*180/Math.PI},Kt=function(e,n,r,i){return{x:e+Math.cos(-Xh*i)*r,y:n+Math.sin(-Xh*i)*r}},mre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},gre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=mre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:pre(u),angleInRadian:u}},yre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},vre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},qA=function(e,n){var r=e.x,i=e.y,o=gre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=yre(n),f=d.startAngle,h=d.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?HA(HA({},n),{},{radius:a,angle:vre(p,n)}):null};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var bre=["offset"];function _re(t){return Ere(t)||Sre(t)||xre(t)||wre()}function wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function Sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ere(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tre(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return pc(e)=="symbol"?e:e+""}function Ore(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var kre=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return Ae(r)?r(i):i},Cre=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Nre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,y=l.clockWise,w=(f+h)/2,_=Cre(p,v),b=_>=0?1:-1,x,I;i==="insideStart"?(x=p+b*a,I=y):i==="insideEnd"?(x=v-b*a,I=!y):i==="end"&&(x=v+b*a,I=y),I=_<=0?I:!I;var E=Kt(u,d,w,x),P=Kt(u,d,w,x+(I?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Ie(e.id)?Qc("recharts-radial-line-"):e.id;return D.createElement("text",mc({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:T,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(T)},n))},jre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var p=Kt(a,s,u+r,h),v=p.x,y=p.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,_=Kt(a,s,w,h),b=_.x,x=_.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,w=y*i,_=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return At(At({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return At(At({},I),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var E={x:s-w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return At(At({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:s+u+w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return At(At({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return o==="insideLeft"?At({x:s+w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?At({x:s+u-w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideTop"?At({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?At({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?At({x:s+w,y:l+h,textAnchor:b,verticalAnchor:v},S):o==="insideTopRight"?At({x:s+u-w,y:l+h,textAnchor:_,verticalAnchor:v},S):o==="insideBottomLeft"?At({x:s+w,y:l+d-h,textAnchor:b,verticalAnchor:p},S):o==="insideBottomRight"?At({x:s+u-w,y:l+d-h,textAnchor:_,verticalAnchor:p},S):sl(o)&&(ie(o.x)||Wo(o.x))&&(ie(o.y)||Wo(o.y))?At({x:s+da(o.x,u),y:l+da(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):At({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Mre=function(e){return"cx"in e&&ie(e.cx)};function cn(t){var e=t.offset,n=e===void 0?5:e,r=Tre(t,bre),i=At({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Ie(s)&&Ie(l)&&!$.isValidElement(u)&&!Ae(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(Ae(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=kre(i);var v=Mre(o),y=je(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Nre(i,p,y);var w=v?jre(i):Rre(i);return D.createElement(Rh,mc({className:$e("recharts-label",f)},y,w,{breakAll:h}),p)}cn.displayName="Label";var gR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,y=e.width,w=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(ie(y)&&ie(w)){if(ie(f)&&ie(h))return{x:f,y:h,width:y,height:w};if(ie(p)&&ie(v))return{x:p,y:v,width:y,height:w}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Dre=function(e,n){return e?e===!0?D.createElement(cn,{key:"label-implicit",viewBox:n}):kt(e)?D.createElement(cn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===cn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):Ae(e)?D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):sl(e)?D.createElement(cn,mc({viewBox:n},e,{key:"label-implicit"})):null:null},$re=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=gR(e),a=rr(i,cn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Dre(e.label,n||o);return[s].concat(_re(a))};cn.parseViewBox=gR;cn.renderCallByParent=$re;function Lre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vre=Lre;const Fre=Qe(Vre);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}var Bre=["valueAccessor"],Ure=["data","dataKey","clockWise","id","textBreakAll"];function zre(t){return qre(t)||Hre(t)||Gre(t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return P0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P0(t,e)}}function Hre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qre(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Yre(t,"string");return gc(e)=="symbol"?e:e+""}function Yre(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QA(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jre=function(e){return Array.isArray(e.value)?Fre(e.value):e.value};function uo(t){var e=t.valueAccessor,n=e===void 0?Jre:e,r=QA(t,Bre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=QA(r,Ure);return!i||!i.length?null:D.createElement(bt,{className:"recharts-label-list"},i.map(function(d,f){var h=Ie(o)?n(d,f):Wn(d&&d.payload,o),p=Ie(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(cn,Yh({},je(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:cn.parseViewBox(Ie(a)?d:YA(YA({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}uo.displayName="LabelList";function Zre(t,e){return t?t===!0?D.createElement(uo,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Ae(t)?D.createElement(uo,{key:"labelList-implicit",data:e,content:t}):sl(t)?D.createElement(uo,Yh({data:e},t,{key:"labelList-implicit"})):null:null}function eie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,uo).map(function(a,s){return $.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Zre(t.label,e);return[o].concat(zre(i))}uo.renderCallByParent=eie;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return yc(e)=="symbol"?e:e+""}function rie(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Xh,h=u?o:o+a*f,p=Kt(n,r,d,h),v=Kt(n,r,i,h),y=u?o-a*f:o,w=Kt(n,r,d*Math.cos(f*Xh),y);return{center:p,circleTangency:v,lineTangency:w,theta:f}},yR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=iie(a,s),u=a+l,d=Kt(n,r,o,a),f=Kt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Kt(n,r,i,a),v=Kt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},oie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=wr(d-u),h=rd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,y=h.theta,w=rd({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=w.circleTangency,b=w.lineTangency,x=w.theta,I=l?Math.abs(u-d):Math.abs(u-d)-y-x;if(I<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):yR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=rd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,T=P.lineTangency,O=P.theta,k=rd({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,R=k.lineTangency,N=k.theta,U=l?Math.abs(u-d):Math.abs(u-d)-O-N;if(U<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},aie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vR=function(e){var n=ZA(ZA({},aie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var p=$e("recharts-sector",h),v=a-o,y=da(s,v,0,!0),w;return y>0&&Math.abs(d-f)<360?w=oie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=yR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),D.createElement("path",I0({},je(n,!0),{className:p,d:w,role:"img"}))};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return vc(e)=="symbol"?e:e+""}function uie(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nP={curveBasisClosed:uW,curveBasisOpen:cW,curveBasis:lW,curveBumpX:K8,curveBumpY:X8,curveLinearClosed:fW,curveLinear:_m,curveMonotoneX:dW,curveMonotoneY:hW,curveNatural:pW,curveStep:mW,curveStepAfter:yW,curveStepBefore:gW},id=function(e){return e.x===+e.x&&e.y===+e.y},ql=function(e){return e.x},Kl=function(e){return e.y},cie=function(e,n){if(Ae(e))return e;var r="curve".concat(vm(e));return(r==="curveMonotone"||r==="curveBump")&&n?nP["".concat(r).concat(n==="vertical"?"Y":"X")]:nP[r]||_m},fie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=cie(r,s),f=u?o.filter(function(y){return id(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return id(y)}):a,v=f.map(function(y,w){return tP(tP({},y),{},{base:p[w]})});return s==="vertical"?h=Kf().y(Kl).x1(ql).x0(function(y){return y.base.x}):h=Kf().x(ql).y1(Kl).y0(function(y){return y.base.y}),h.defined(id).curve(d),h(v)}return s==="vertical"&&ie(a)?h=Kf().y(Kl).x1(ql).x0(a):ie(a)?h=Kf().x(ql).y1(Kl).y0(a):h=vN().x(ql).y(Kl),h.defined(id).curve(d),h(f)},k0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?fie(e):i;return $.createElement("path",O0({},je(e,!1),bh(e),{className:$e("recharts-curve",n),d:a,ref:o}))},bR={exports:{}},die="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hie=die,pie=hie;function _R(){}function wR(){}wR.resetWarningCache=_R;var mie=function(){function t(r,i,o,a,s,l){if(l!==pie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wR,resetWarningCache:_R};return n.PropTypes=n,n};bR.exports=mie();var gie=bR.exports;const Ue=Qe(gie);var yie=Object.getOwnPropertyNames,vie=Object.getOwnPropertySymbols,bie=Object.prototype.hasOwnProperty;function rP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function od(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function iP(t){return yie(t).concat(vie(t))}var _ie=Object.hasOwn||function(t,e){return bie.call(t,e)};function Sa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wie="__v",xie="__o",Sie="_owner",oP=Object.getOwnPropertyDescriptor,aP=Object.keys;function Eie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Tie(t,e){return Sa(t.getTime(),e.getTime())}function Aie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Pie(t,e){return t===e}function sP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Iie=Sa;function Oie(t,e,n){var r=aP(t),i=r.length;if(aP(e).length!==i)return!1;for(;i-- >0;)if(!xR(t,e,n,r[i]))return!1;return!0}function Xl(t,e,n){var r=iP(t),i=r.length;if(iP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!xR(t,e,n,o)||(a=oP(t,o),s=oP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function kie(t,e){return Sa(t.valueOf(),e.valueOf())}function Cie(t,e){return t.source===e.source&&t.flags===e.flags}function lP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Nie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xR(t,e,n,r){return(r===Sie||r===xie||r===wie)&&(t.$$typeof||e.$$typeof)?!0:_ie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Rie="[object Arguments]",Mie="[object Boolean]",Die="[object Date]",$ie="[object Error]",Lie="[object Map]",Vie="[object Number]",Fie="[object Object]",Bie="[object RegExp]",Uie="[object Set]",zie="[object String]",Wie="[object URL]",Gie=Array.isArray,uP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cP=Object.assign,Hie=Object.prototype.toString.call.bind(Object.prototype.toString);function qie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,y,w){if(v===y)return!0;if(v==null||y==null)return!1;var _=typeof v;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?a(v,y,w):_==="function"?i(v,y,w):!1;var b=v.constructor;if(b!==y.constructor)return!1;if(b===Object)return s(v,y,w);if(Gie(v))return e(v,y,w);if(uP!=null&&uP(v))return f(v,y,w);if(b===Date)return n(v,y,w);if(b===RegExp)return u(v,y,w);if(b===Map)return o(v,y,w);if(b===Set)return d(v,y,w);var x=Hie(v);return x===Die?n(v,y,w):x===Bie?u(v,y,w):x===Lie?o(v,y,w):x===Uie?d(v,y,w):x===Fie?typeof v.then!="function"&&typeof y.then!="function"&&s(v,y,w):x===Wie?h(v,y,w):x===$ie?r(v,y,w):x===Rie?s(v,y,w):x===Mie||x===Vie||x===zie?l(v,y,w):!1}}function Kie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Xl:Eie,areDatesEqual:Tie,areErrorsEqual:Aie,areFunctionsEqual:Pie,areMapsEqual:r?rP(sP,Xl):sP,areNumbersEqual:Iie,areObjectsEqual:r?Xl:Oie,arePrimitiveWrappersEqual:kie,areRegExpsEqual:Cie,areSetsEqual:r?rP(lP,Xl):lP,areTypedArraysEqual:r?Xl:Nie,areUrlsEqual:jie};if(n&&(i=cP({},i,n(i))),e){var o=od(i.areArraysEqual),a=od(i.areMapsEqual),s=od(i.areObjectsEqual),l=od(i.areSetsEqual);i=cP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Xie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Yie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Qie=To();To({strict:!0});To({circular:!0});To({circular:!0,strict:!0});To({createInternalComparator:function(){return Sa}});To({strict:!0,createInternalComparator:function(){return Sa}});To({circular:!0,createInternalComparator:function(){return Sa}});To({circular:!0,createInternalComparator:function(){return Sa},strict:!0});function To(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Kie(t),l=qie(s),u=r?r(l):Xie(l);return Yie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Jie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Jie(i)};requestAnimationFrame(r)}function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function Zie(t){return roe(t)||noe(t)||toe(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function roe(t){if(Array.isArray(t))return t}function ioe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Zie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){fP(i.bind(null,u),l);return}i(l),fP(i.bind(null,u));return}C0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){SR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SR(t,e,n){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=aoe(t,"string");return bc(e)==="symbol"?e:String(e)}function aoe(t,e){if(bc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var soe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},loe=function(e){return e},uoe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Su=function(e,n){return Object.keys(n).reduce(function(r,i){return pP(pP({},r),{},SR({},i,e(i,n[i])))},{})},mP=function(e,n,r){return e.map(function(i){return"".concat(uoe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function coe(t,e){return hoe(t)||doe(t,e)||ER(t,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hoe(t){if(Array.isArray(t))return t}function poe(t){return yoe(t)||goe(t)||ER(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ER(t,e){if(t){if(typeof t=="string")return N0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(t,e)}}function goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yoe(t){if(Array.isArray(t))return N0(t)}function N0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qh=1e-4,TR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},AR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},gP=function(e,n){return function(r){var i=TR(e,n);return AR(i,r)}},voe=function(e,n){return function(r){var i=TR(e,n),o=[].concat(poe(i.map(function(a,s){return a*s}).slice(1)),[0]);return AR(o,r)}},yP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=coe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=gP(i,a),h=gP(o,s),p=voe(i,a),v=function(_){return _>1?1:_<0?0:_},y=function(_){for(var b=_>1?1:_,x=b,I=0;I<8;++I){var E=f(x)-b,P=p(x);if(Math.abs(E-b)<Qh||P<Qh)return h(x);x=v(x-E/P)}return h(x)};return y.isStepper=!1,y},boe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var p=-(d-f)*r,v=h*o,y=h+(p-v)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<Qh&&Math.abs(y)<Qh?[f,0]:[w,y]};return l.isStepper=!0,l.dt=s,l},_oe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yP(i);case"spring":return boe();default:if(i.split("(")[0]==="cubic-bezier")return yP(i)}return typeof i=="function"?i:null};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function vP(t){return Soe(t)||xoe(t)||PR(t)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Soe(t){if(Array.isArray(t))return R0(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){j0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0(t,e,n){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Toe(t,"string");return _c(e)==="symbol"?e:String(e)}function Toe(t,e){if(_c(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){return Ooe(t)||Ioe(t,e)||PR(t,e)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PR(t,e){if(t){if(typeof t=="string")return R0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R0(t,e)}}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ioe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ooe(t){if(Array.isArray(t))return t}var Jh=function(e,n,r){return e+(n-e)*r},M0=function(e){var n=e.from,r=e.to;return n!==r},koe=function t(e,n,r){var i=Su(function(o,a){if(M0(a)){var s=e(a.from,a.to,a.velocity),l=Aoe(s,2),u=l[0],d=l[1];return Ut(Ut({},a),{},{from:u,velocity:d})}return a},n);return r<1?Su(function(o,a){return M0(a)?Ut(Ut({},a),{},{velocity:Jh(a.velocity,i[o].velocity,r),from:Jh(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Coe=function(t,e,n,r,i){var o=soe(t,e),a=o.reduce(function(w,_){return Ut(Ut({},w),{},j0({},_,[t[_],e[_]]))},{}),s=o.reduce(function(w,_){return Ut(Ut({},w),{},j0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Su(function(_,b){return b.from},s)},p=function(){return!Object.values(s).filter(M0).length},v=function(_){u||(u=_);var b=_-u,x=b/n.dt;s=koe(n,s,x),i(Ut(Ut(Ut({},t),e),h())),u=_,p()||(l=requestAnimationFrame(f))},y=function(_){d||(d=_);var b=(_-d)/r,x=Su(function(E,P){return Jh.apply(void 0,vP(P).concat([n(b)]))},a);if(i(Ut(Ut(Ut({},t),e),x)),b<1)l=requestAnimationFrame(f);else{var I=Su(function(E,P){return Jh.apply(void 0,vP(P).concat([n(1)]))},a);i(Ut(Ut(Ut({},t),e),I))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}var Noe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function joe(t,e){if(t==null)return{};var n=Roe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Roe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hy(t){return Loe(t)||$oe(t)||Doe(t)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Doe(t,e){if(t){if(typeof t=="string")return D0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D0(t,e)}}function $oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Loe(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ou(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function Foe(t,e,n){return e&&wP(t.prototype,e),n&&wP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IR(t){var e=Boe(t,"string");return Ls(e)==="symbol"?e:String(e)}function Boe(t,e){if(Ls(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function zoe(t){var e=Woe();return function(){var r=Zh(t),i;if(e){var o=Zh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return L0(this,i)}}function L0(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0(t)}function V0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Woe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}var Dm=function(t){Uoe(n,t);var e=zoe(n);function n(r,i){var o;Voe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(V0(o)),o.changeStyle=o.changeStyle.bind(V0(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),L0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},L0(o);o.state={style:l?ou({},l,u):u}}else o.state={style:{}};return o}return Foe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?ou({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Qie(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var w={style:l?ou({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(hr(hr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Coe(a,s,_oe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,w,_){if(_===0)return y;var b=w.duration,x=w.easing,I=x===void 0?"ease":x,E=w.style,P=w.properties,S=w.onAnimationEnd,T=_>0?a[_-1]:w,O=P||Object.keys(E);if(typeof I=="function"||I==="spring")return[].concat(hy(y),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:b,easing:I}),b]);var k=mP(O,b,I),C=hr(hr(hr({},T.style),E),{},{transition:k});return[].concat(hy(y),[C,b,S]).filter(loe)};return this.manager.start([l].concat(hy(a.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ioe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?ou({},s,l):l,w=mP(Object.keys(y),a,u);v.start([d,o,hr(hr({},y),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=joe(i,Noe),u=$.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(p){var v=p.props,y=v.style,w=y===void 0?{}:y,_=v.className,b=$.cloneElement(p,hr(hr({},l),{},{style:hr(hr({},w),d),className:_}));return b};return u===1?f($.Children.only(o)):D.createElement("div",null,$.Children.map(o,function(h){return f(h)}))}}]),n}($.PureComponent);Dm.displayName="Animate";Dm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Dm.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};const Vs=Dm;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function Goe(t,e){return Xoe(t)||Koe(t,e)||qoe(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return xP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Koe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xoe(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return e=Qoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Joe(t,"string");return wc(e)=="symbol"?e:e+""}function Joe(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Zoe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},eae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yw=function(e){var n=EP(EP({},eae),e),r=$.useRef(),i=$.useState(-1),o=Goe(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,_=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=$e("recharts-rectangle",p);return b?D.createElement(Vs,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:b},function(I){var E=I.width,P=I.height,S=I.x,T=I.y;return D.createElement(Vs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:_,easing:v},D.createElement("path",ep({},je(n,!0),{className:x,d:TP(S,T,E,P,h),ref:r})))}):D.createElement("path",ep({},je(n,!0),{className:x,d:TP(l,u,d,f,h)}))};function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}var Qw=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=$e("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",F0({},je(e,!1),bh(e),{className:a,cx:n,cy:r,r:i})):null};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}var tae=["x","y","top","left","width","height","className"];function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=oae(t,"string");return xc(e)=="symbol"?e:e+""}function oae(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var n=sae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},uae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,y=aae(e,tae),w=nae({x:r,y:o,top:s,left:u,width:f,height:p},y);return!ie(r)||!ie(o)||!ie(f)||!ie(p)||!ie(s)||!ie(u)?null:D.createElement("path",B0({},je(w,!0),{className:$e("recharts-cross",v),d:lae(r,o,f,p,s,u)}))},cae=UN,fae=cae(Object.getPrototypeOf,Object),dae=fae,hae=Pi,pae=dae,mae=Ii,gae="[object Object]",yae=Function.prototype,vae=Object.prototype,OR=yae.toString,bae=vae.hasOwnProperty,_ae=OR.call(Object);function wae(t){if(!mae(t)||hae(t)!=gae)return!1;var e=pae(t);if(e===null)return!0;var n=bae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&OR.call(n)==_ae}var xae=wae;const Sae=Qe(xae);var Eae=Pi,Tae=Ii,Aae="[object Boolean]";function Pae(t){return t===!0||t===!1||Tae(t)&&Eae(t)==Aae}var Iae=Pae;const Oae=Qe(Iae);function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function kae(t,e){return Rae(t)||jae(t,e)||Nae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rae(t){if(Array.isArray(t))return t}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return e=Dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=$ae(t,"string");return Sc(e)=="symbol"?e:e+""}function $ae(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Lae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vae=function(e){var n=OP(OP({},Lae),e),r=$.useRef(),i=$.useState(-1),o=kae(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=$e("recharts-trapezoid",p);return _?D.createElement(Vs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:_},function(x){var I=x.upperWidth,E=x.lowerWidth,P=x.height,S=x.x,T=x.y;return D.createElement(Vs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},D.createElement("path",tp({},je(n,!0),{className:b,d:kP(S,T,I,E,P),ref:r})))}):D.createElement("g",null,D.createElement("path",tp({},je(n,!0),{className:b,d:kP(l,u,d,f,h)})))},Fae=["option","shapeType","propTransformer","activeClassName","isActive"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Bae(t,e){if(t==null)return{};var n=Uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return e=Wae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Gae(t,"string");return Ec(e)=="symbol"?e:e+""}function Gae(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hae(t,e){return np(np({},e),t)}function qae(t,e){return t==="symbols"}function NP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(Yw,n);case"trapezoid":return D.createElement(Vae,n);case"sector":return D.createElement(vR,n);case"symbols":if(qae(e))return D.createElement(mw,n);break;default:return null}}function Kae(t){return $.isValidElement(t)?t.props:t}function Xae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Hae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Bae(t,Fae),u;if($.isValidElement(e))u=$.cloneElement(e,np(np({},l),Kae(e)));else if(Ae(e))u=e(l);else if(Sae(e)&&!Oae(e)){var d=i(e,l);u=D.createElement(NP,{shapeType:n,elementProps:d})}else{var f=l;u=D.createElement(NP,{shapeType:n,elementProps:f})}return s?D.createElement(bt,{className:a},u):u}function $m(t,e){return e!=null&&"trapezoids"in t.props}function Lm(t,e){return e!=null&&"sectors"in t.props}function Tc(t,e){return e!=null&&"points"in t.props}function Yae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Qae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Zae(t,e){var n;return $m(t,e)?n=Yae:Lm(t,e)?n=Qae:Tc(t,e)&&(n=Jae),n}function ese(t,e){var n;return $m(t,e)?n="trapezoids":Lm(t,e)?n="sectors":Tc(t,e)&&(n="points"),n}function tse(t,e){if($m(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Tc(t,e)?e.payload:{}}function nse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ese(n,e),o=tse(n,e),a=r.filter(function(l,u){var d=jm(o,l),f=n.props[i].filter(function(v){var y=Zae(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=r.indexOf(a[a.length-1]);return s}var rse=Math.ceil,ise=Math.max;function ose(t,e,n,r){for(var i=-1,o=ise(rse((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ase=ose,sse=sj,jP=1/0,lse=17976931348623157e292;function use(t){if(!t)return t===0?t:0;if(t=sse(t),t===jP||t===-jP){var e=t<0?-1:1;return e*lse}return t===t?t:0}var kR=use,cse=ase,fse=Em,py=kR;function dse(t){return function(e,n,r){return r&&typeof r!="number"&&fse(e,n,r)&&(n=r=void 0),e=py(e),n===void 0?(n=e,e=0):n=py(n),r=r===void 0?e<n?1:-1:py(r),cse(e,n,r,t)}}var hse=dse,pse=hse,mse=pse(),gse=mse;const rp=Qe(gse);function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){CR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CR(t,e,n){return e=yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=vse(t,"string");return Ac(e)=="symbol"?e:e+""}function vse(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bse=["Webkit","Moz","O","ms"],_se=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=bse.reduce(function(o,a){return MP(MP({},o),{},CR({},a+r,n))},{});return i[e]=n,i};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function xse(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,n){return e=op(e),Ese(t,NR()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U0(t,e)}function Dn(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=Pse(t,"string");return Fs(e)=="symbol"?e:e+""}function Pse(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ise=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wu().domain(rp(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},LP=function(e){return e.changedTouches&&!!e.changedTouches.length},Bs=function(t){function e(n){var r;return wse(this,e),r=Sse(this,e,[n]),Dn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Dn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dn(r,"handleSlideDragStart",function(i){var o=LP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ase(e,t),xse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Wn(o[r],s,r);return Ae(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+d-f-s,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-s));var w=this.getIndex({startX:a+y,endX:s+y});(w.startIndex!==h||w.endIndex!==p)&&v&&v(w),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=LP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,y=d.gap,w=d.data,_={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),_[a]=u+b;var x=this.getIndex(_),I=x.startIndex,E=x.endIndex,P=function(){var T=w.length-1;return a==="startX"&&(s>l?I%y===0:E%y===0)||s<l&&E===T||a==="endX"&&(s>l?E%y===0:I%y===0)||s>l&&E===T};this.setState(Dn(Dn({},a,u+b),"brushMoveStartX",r.pageX),function(){v&&P()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Dn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=$.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,y=l.startIndex,w=l.endIndex,_=Math.max(r,this.props.x),b=my(my({},je(this.props,!1)),{},{x:_,y:u,width:d,height:f}),x=p||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return D.createElement(bt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return D.createElement(bt,{className:"recharts-brush-texts"},D.createElement(Rh,ip({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},v),this.getTextOfTick(i)),D.createElement(Rh,ip({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,y=h.isTextActive,w=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ie(s)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var x=$e("recharts-brush",o),I=D.Children.count(a)===1,E=_se("userSelect","none");return D.createElement(bt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(y||w||_||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):Ae(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return my({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ise({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}($.PureComponent);Dn(Bs,"displayName","Brush");Dn(Bs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ose=xw;function kse(t,e){var n;return Ose(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Cse=kse,Nse=RN,jse=xo,Rse=Cse,Mse=jn,Dse=Em;function $se(t,e,n){var r=Mse(t)?Nse:Rse;return n&&Dse(t,e,n)&&(e=void 0),r(t,jse(e))}var Lse=$se;const Vse=Qe(Lse);var Lr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},VP=nj;function Fse(t,e,n){e=="__proto__"&&VP?VP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Bse=Fse,Use=Bse,zse=ej,Wse=xo;function Gse(t,e){var n={};return e=Wse(e),zse(t,function(r,i,o){Use(n,i,e(r,i,o))}),n}var Hse=Gse;const qse=Qe(Hse);function Kse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Xse=Kse,Yse=xw;function Qse(t,e){var n=!0;return Yse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Jse=Qse,Zse=Xse,ele=Jse,tle=xo,nle=jn,rle=Em;function ile(t,e,n){var r=nle(t)?Zse:ele;return n&&rle(t,e,n)&&(e=void 0),r(t,tle(e))}var ole=ile;const RR=Qe(ole);var ale=["x","y"];function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return e=lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=ule(t,"string");return Pc(e)=="symbol"?e:e+""}function ule(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dle(t,e){var n=t.x,r=t.y,i=cle(t,ale),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Yl(Yl(Yl(Yl(Yl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function BP(t){return D.createElement(Xae,z0({shapeType:"rectangle",propTransformer:dle,activeClassName:"recharts-active-bar"},t))}var hle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||jz(r);return o?e(r,i):(o||pa(!1),n)}},ple=["value","background"],MR;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function mle(t,e){if(t==null)return{};var n=gle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function vle(t,e,n){return e&&zP(t.prototype,e),n&&zP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ble(t,e,n){return e=sp(e),_le(t,DR()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function _le(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wle(t)}function wle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W0(t,e)}function Xi(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=Sle(t,"string");return Us(e)=="symbol"?e:e+""}function Sle(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of=function(t){function e(){var n;yle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ble(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!1}),Xi(n,"id",Qc("recharts-bar-")),Xi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Xi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return xle(e,t),vle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=je(this.props,!1);return r&&r.map(function(f,h){var p=h===l,v=p?u:a,y=xt(xt(xt({},d),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(bt,ap({className:"recharts-bar-rectangle"},_h(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(BP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(Vs,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,y=o.map(function(w,_){var b=h&&h[_];if(b){var x=br(b.x,w.x),I=br(b.y,w.y),E=br(b.width,w.width),P=br(b.height,w.height);return xt(xt({},w),{},{x:x(v),y:I(v),width:E(v),height:P(v)})}if(a==="horizontal"){var S=br(0,w.height),T=S(v);return xt(xt({},w),{},{y:w.y+w.height-T,height:T})}var O=br(0,w.width),k=O(v);return xt(xt({},w),{},{width:k})});return D.createElement(bt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!jm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=je(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=mle(u,ple);if(!f)return null;var p=xt(xt(xt(xt(xt({},h),{},{fill:"#eee"},f),l),_h(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(BP,ap({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=rr(d,rf);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(w,_){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:Wn(w,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(bt,v,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=$e("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,I=b||x,E=Ie(y)?this.id:y;return D.createElement(bt,{className:_},b||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:b?u:u-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,D.createElement(bt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,E),(!p||w)&&uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);MR=of;Xi(of,"displayName","Bar");Xi(of,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xi(of,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=ere(r,n);if(!p)return null;var v=e.layout,y=n.type.defaultProps,w=y!==void 0?xt(xt({},y),n.props):n.props,_=w.dataKey,b=w.children,x=w.minPointSize,I=v==="horizontal"?a:o,E=u?I.scale.domain():null,P=lre({numericAxis:I}),S=rr(b,uj),T=f.map(function(O,k){var C,R,N,U,W,q;u?C=tre(u[d+k],E):(C=Wn(O,_),Array.isArray(C)||(C=[P,C]));var Q=hle(x,MR.defaultProps.minPointSize)(C[1],k);if(v==="horizontal"){var F,G=[a.scale(C[0]),a.scale(C[1])],Y=G[0],te=G[1];R=BA({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:k}),N=(F=te??Y)!==null&&F!==void 0?F:void 0,U=p.size;var L=Y-te;if(W=Number.isNaN(L)?0:L,q={x:R,y:a.y,width:U,height:a.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var K=wr(W||Q)*(Math.abs(Q)-Math.abs(W));N-=K,W+=K}}else{var se=[o.scale(C[0]),o.scale(C[1])],he=se[0],pe=se[1];if(R=he,N=BA({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:k}),U=pe-he,W=p.size,q={x:o.x,y:N,width:o.width,height:W},Math.abs(Q)>0&&Math.abs(U)<Math.abs(Q)){var be=wr(U||Q)*(Math.abs(Q)-Math.abs(U));U+=be}}return xt(xt(xt({},O),{},{x:R,y:N,width:U,height:W,value:u?C:C[1],payload:O,background:q},S&&S[k]&&S[k].props),{},{tooltipPayload:[mR(n,O)],tooltipPosition:{x:R+U/2,y:N+W/2}})});return xt({data:T,layout:v},h)});function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function Tle(t,e,n){return e&&WP(t.prototype,e),n&&WP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=Ale(t,"string");return Ic(e)=="symbol"?e:e+""}function Ale(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ln(u,of);return d.reduce(function(p,v){var y=n[v],w=y.orientation,_=y.domain,b=y.padding,x=b===void 0?{}:b,I=y.mirror,E=y.reversed,P="".concat(w).concat(I?"Mirror":""),S,T,O,k,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=_[1]-_[0],N=1/0,U=y.categoricalDomain.sort(Dz);if(U.forEach(function(se,he){he>0&&(N=Math.min((se||0)-(U[he-1]||0),N))}),Number.isFinite(N)){var W=N/R,q=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=W*q/2),y.padding==="no-gap"){var Q=da(e.barCategoryGap,W*q),F=W*q/2;S=F-Q-(F-Q)/q*Q}}}i==="xAxis"?T=[r.left+(x.left||0)+(S||0),r.left+r.width-(x.right||0)-(S||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(S||0),r.top+r.height-(x.bottom||0)-(S||0)]:T=y.range,E&&(T=[T[1],T[0]]);var G=Jne(y,o,h),Y=G.scale,te=G.realScaleType;Y.domain(_).range(T),Zne(Y);var L=sre(Y,gr(gr({},y),{},{realScaleType:te}));i==="xAxis"?(C=w==="top"&&!I||w==="bottom"&&I,O=r.left,k=f[P]-C*y.height):i==="yAxis"&&(C=w==="left"&&!I||w==="right"&&I,O=f[P]-C*y.width,k=r.top);var K=gr(gr(gr({},y),L),{},{realScaleType:te,x:O,y:k,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return K.bandSize=Kh(K,L),!y.hide&&i==="xAxis"?f[P]+=(C?-1:1)*K.height:y.hide||(f[P]+=(C?-1:1)*K.width),gr(gr({},p),{},Vm({},v,K))},{})},VR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ile=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return VR({x:n,y:r},{x:i,y:o})},FR=function(){function t(e){Ele(this,t),this.scale=e}return Tle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Vm(FR,"EPS",1e-4);var Jw=function(e){var n=Object.keys(e).reduce(function(r,i){return gr(gr({},r),{},Vm({},i,FR.create(e[i])))},{});return gr(gr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return qse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return RR(i,function(o,a){return n[a].isInRange(o)})}})};function Ole(t){return(t%180+180)%180}var kle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ole(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Cle=xo,Nle=Jc,jle=xm;function Rle(t){return function(e,n,r){var i=Object(e);if(!Nle(e)){var o=Cle(n);e=jle(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Mle=Rle,Dle=kR;function $le(t){var e=Dle(t),n=e%1;return e===e?n?e-n:e:0}var Lle=$le,Vle=KN,Fle=xo,Ble=Lle,Ule=Math.max;function zle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ble(n);return i<0&&(i=Ule(r+i,0)),Vle(t,Fle(e),i)}var Wle=zle,Gle=Mle,Hle=Wle,qle=Gle(Hle),Kle=qle;const Xle=Qe(Kle);var Yle=$U(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Zw=$.createContext(void 0),e1=$.createContext(void 0),BR=$.createContext(void 0),UR=$.createContext({}),zR=$.createContext(void 0),WR=$.createContext(0),GR=$.createContext(0),HP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Yle(o);return D.createElement(Zw.Provider,{value:r},D.createElement(e1.Provider,{value:i},D.createElement(UR.Provider,{value:o},D.createElement(BR.Provider,{value:d},D.createElement(zR.Provider,{value:a},D.createElement(WR.Provider,{value:u},D.createElement(GR.Provider,{value:l},s)))))))},Qle=function(){return $.useContext(zR)},HR=function(e){var n=$.useContext(Zw);n==null&&pa(!1);var r=n[e];return r==null&&pa(!1),r},Jle=function(){var e=$.useContext(Zw);return Gi(e)},Zle=function(){var e=$.useContext(e1),n=Xle(e,function(r){return RR(r.domain,Number.isFinite)});return n||Gi(e)},qR=function(e){var n=$.useContext(e1);n==null&&pa(!1);var r=n[e];return r==null&&pa(!1),r},eue=function(){var e=$.useContext(BR);return e},tue=function(){return $.useContext(UR)},t1=function(){return $.useContext(GR)},n1=function(){return $.useContext(WR)};function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function rue(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iue(t,e,n){return e=lp(e),oue(t,KR()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function oue(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KR=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){r1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=lue(t,"string");return zs(e)=="symbol"?e:e+""}function lue(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uue(t,e){return hue(t)||due(t,e)||fue(t,e)||cue()}function cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function due(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hue(t){if(Array.isArray(t))return t}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}var pue=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Ae(e)?r=e(n):r=D.createElement("line",H0({},n,{className:"recharts-reference-line-line"})),r},mue=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(Lr(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:d+h,y},{x:d,y}];return l==="left"?w.reverse():w}if(n){var _=u.x,b=e.x.apply(_,{position:a});if(Lr(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var I=u.segment,E=I.map(function(P){return e.apply(P,{position:a})});return Lr(u,"discard")&&Vse(E,function(P){return!e.isInRange(P)})?null:E}return null};function gue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Qle(),d=HR(i),f=qR(o),h=eue();if(!u||!h)return null;ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Jw({x:d.scale,y:f.scale}),v=kt(e),y=kt(n),w=r&&r.length===2,_=mue(p,v,y,w,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var b=uue(_,2),x=b[0],I=x.x,E=x.y,P=b[1],S=P.x,T=P.y,O=Lr(t,"hidden")?"url(#".concat(u,")"):void 0,k=XP(XP({clipPath:O},je(t,!0)),{},{x1:I,y1:E,x2:S,y2:T});return D.createElement(bt,{className:$e("recharts-reference-line",s)},pue(a,k),cn.renderCallByParent(t,Ile({x1:I,y1:E,x2:S,y2:T})))}var i1=function(t){function e(){return nue(this,e),iue(this,e,arguments)}return sue(e,t),rue(e,[{key:"render",value:function(){return D.createElement(gue,this.props)}}])}(D.Component);r1(i1,"displayName","ReferenceLine");r1(i1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QR(r.key),r)}}function vue(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,n){return e=up(e),_ue(t,YR()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function _ue(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function Fm(t,e,n){return e=QR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QR(t){var e=Sue(t,"string");return Ws(e)=="symbol"?e:e+""}function Sue(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Jw({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Lr(e,"discard")&&!a.isInRange(s)?null:s},Bm=function(t){function e(){return yue(this,e),bue(this,e,arguments)}return xue(e,t),vue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=kt(i),d=kt(o);if(ci(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Eue(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,y=v.shape,w=v.className,_=Lr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=JP(JP({clipPath:_},je(this.props,!0)),{},{cx:h,cy:p});return D.createElement(bt,{className:$e("recharts-reference-dot",w)},e.renderDot(y,b),cn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);Fm(Bm,"displayName","ReferenceDot");Fm(Bm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fm(Bm,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Ae(t)?n=t(e):n=D.createElement(Qw,q0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function Aue(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,n){return e=cp(e),Iue(t,JR()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y0(t,e)}function Um(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Cue(t,"string");return Gs(e)=="symbol"?e:e+""}function Cue(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Jw({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Lr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:VR(p,v)},zm=function(t){function e(){return Tue(this,e),Pue(this,e,arguments)}return kue(e,t),Aue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=kt(i),h=kt(o),p=kt(a),v=kt(s),y=this.props.shape;if(!f&&!h&&!p&&!v&&!y)return null;var w=Nue(f,h,p,v,this.props);if(!w&&!y)return null;var _=Lr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(bt,{className:$e("recharts-reference-area",l)},e.renderRect(y,tI(tI({clipPath:_},je(this.props,!0)),w)),cn.renderCallByParent(this.props,w))}}])}(D.Component);Um(zm,"displayName","ReferenceArea");Um(zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Um(zm,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Ae(t)?n=t(e):n=D.createElement(Yw,X0({},e,{className:"recharts-reference-area-rect"})),n});function eM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function jue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return kle(r,n)}function Rue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function fp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Mue(t,e){return eM(t,e+1)}function Due(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:eM(r,u)};var y=l,w,_=function(){return w===void 0&&(w=n(v,y)),w},b=v.coordinate,x=l===0||fp(t,b,_,d,s);x||(l=0,d=a,u+=1),x&&(d=b+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Vue(t,"string");return Oc(e)=="symbol"?e:e+""}function Vue(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],v,y=function(){return v===void 0&&(v=n(p,h)),v};if(h===a-1){var w=t*(p.coordinate+t*y()/2-l);o[h]=p=an(an({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else o[h]=p=an(an({},p),{},{tickCoord:p.coordinate});var _=fp(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),o[h]=an(an({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function Bue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=an(an({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=fp(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),a[s-1]=an(an({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(b){var x=a[b],I,E=function(){return I===void 0&&(I=n(x,b)),I};if(b===0){var P=t*(x.coordinate-t*E()/2-l);a[b]=x=an(an({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[b]=x=an(an({},x),{},{tickCoord:x.coordinate});var S=fp(t,x.tickCoord,E,l,u);S&&(l=x.tickCoord+t*(E()/2+i),a[b]=an(an({},x),{},{isShow:!0}))},w=0;w<v;w++)y(w);return a}function o1(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||fi.isSsr)return Mue(i,typeof l=="number"&&ie(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=d&&p==="width"?_u(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,I){var E=Ae(u)?u(x.value,I):x.value;return p==="width"?jue(_u(E,{fontSize:e,letterSpacing:n}),v,f):_u(E,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?wr(i[1].coordinate-i[0].coordinate):1,_=Rue(o,w,p);return l==="equidistantPreserveStart"?Due(w,_,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Bue(w,_,y,i,a,l==="preserveStartEnd"):h=Fue(w,_,y,i,a),h.filter(function(b){return b.isShow}))}var Uue=["viewBox"],zue=["viewBox"],Wue=["ticks"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){a1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gy(t,e){if(t==null)return{};var n=Gue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nM(r.key),r)}}function que(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=dp(e),Xue(t,tM()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Xue(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q0(t,e)}function a1(t,e,n){return e=nM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t){var e=Jue(t,"string");return Hs(e)=="symbol"?e:e+""}function Jue(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl=function(t){function e(n){var r;return Hue(this,e),r=Kue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Que(e,t),que(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=gy(r,Uue),s=this.props,l=s.viewBox,u=gy(s,zue);return!us(o,l)||!us(a,u)||!us(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,y,w,_,b,x=f?-1:1,I=r.tickSize||d,E=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,w=a+ +!f*l,y=w-x*I,b=y-x*h,_=E;break;case"left":y=w=r.coordinate,v=o+ +!f*s,p=v-x*I,_=p-x*h,b=E;break;case"right":y=w=r.coordinate,v=o+ +f*s,p=v+x*I,_=p+x*h,b=E;break;default:p=v=r.coordinate,w=a+ +f*l,y=w+x*I,b=y+x*h,_=E;break}return{line:{x1:p,y1:y,x2:v,y2:w},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=Tt(Tt(Tt({},je(this.props,!1)),je(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Tt(Tt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Tt(Tt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",Qa({},f,{className:$e("recharts-cartesian-axis-line",nr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=o1(Tt(Tt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=je(this.props,!1),_=je(d,!1),b=Tt(Tt({},w),{},{fill:"none"},je(l,!1)),x=p.map(function(I,E){var P=a.getTickLineCoord(I),S=P.line,T=P.tick,O=Tt(Tt(Tt(Tt({textAnchor:v,verticalAnchor:y},w),{},{stroke:"none",fill:u},_),T),{},{index:E,payload:I,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(bt,Qa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},_h(a.props,I,E)),l&&D.createElement("line",Qa({},b,S,{className:$e("recharts-cartesian-axis-tick-line",nr(l,"className"))})),d&&e.renderTickItem(d,O,"".concat(Ae(f)?f(I.value,E):I.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=gy(f,Wue),v=h;return Ae(l)&&(v=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!v||!v.length?null:D.createElement(bt,{className:$e("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=$e(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,Tt(Tt({},i),{},{className:s})):Ae(r)?a=r(Tt(Tt({},i),{},{className:s})):a=D.createElement(Rh,Qa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}($.Component);a1(yl,"displayName","CartesianAxis");a1(yl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zue=["x1","y1","x2","y2","key"],ece=["offset"];function ma(t){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return e=nce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return ma(e)=="symbol"?e:e+""}function rce(t,e){if(ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function sI(t,e){if(t==null)return{};var n=ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rM(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Ae(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=sI(e,Zue),u=je(l,!1);u.offset;var d=sI(u,ece);n=D.createElement("line",qo({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ace(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=fn(fn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return rM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function sce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=fn(fn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return rM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function lce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?i+a-h:d[p+1]-h;if(y<=0)return null;var w=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?o+s-h:d[p+1]-h;if(y<=0)return null;var w=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return hR(o1(fn(fn(fn({},yl.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},fce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return hR(o1(fn(fn(fn({},yl.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Na={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iM(t){var e,n,r,i,o,a,s=t1(),l=n1(),u=tue(),d=fn(fn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Na.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Na.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Na.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Na.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Na.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Na.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,y=d.syncWithTicks,w=d.horizontalValues,_=d.verticalValues,b=Jle(),x=Zle();if(!ie(p)||p<=0||!ie(v)||v<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var I=d.verticalCoordinatesGenerator||cce,E=d.horizontalCoordinatesGenerator||fce,P=d.horizontalPoints,S=d.verticalPoints;if((!P||!P.length)&&Ae(E)){var T=w&&w.length,O=E({yAxis:x?fn(fn({},x),{},{ticks:T?w:x.ticks}):void 0,width:s,height:l,offset:u},T?!0:y);ci(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ma(O),"]")),Array.isArray(O)&&(P=O)}if((!S||!S.length)&&Ae(I)){var k=_&&_.length,C=I({xAxis:b?fn(fn({},b),{},{ticks:k?_:b.ticks}):void 0,width:s,height:l,offset:u},k?!0:y);ci(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ma(C),"]")),Array.isArray(C)&&(S=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(oce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(ace,qo({},d,{offset:u,horizontalPoints:P,xAxis:b,yAxis:x})),D.createElement(sce,qo({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:x})),D.createElement(lce,qo({},d,{horizontalPoints:P})),D.createElement(uce,qo({},d,{verticalPoints:S})))}iM.displayName="CartesianGrid";var dce=["type","layout","connectNulls","ref"],hce=["key"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function lI(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ja(t){return vce(t)||yce(t)||gce(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return J0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J0(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aM(r.key),r)}}function _ce(t,e,n){return e&&cI(t.prototype,e),n&&cI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wce(t,e,n){return e=hp(e),xce(t,oM()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function xce(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(t)}function Sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function Ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function yr(t,e,n){return e=aM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aM(t){var e=Tce(t,"string");return qs(e)=="symbol"?e:e+""}function Tce(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var af=function(t){function e(){var n;bce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wce(this,e,[].concat(i)),yr(n,"state",{isAnimationFinished:!0,totalLength:0}),yr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),yr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,p=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){p=[].concat(ja(l.slice(0,v)),[f-y]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(ja(e.repeat(l,d)),ja(p),w).map(function(_){return"".concat(_,"px")}).join(", ")}),yr(n,"id",Qc("recharts-line-")),yr(n,"pathRef",function(a){n.mainCurve=a}),yr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),yr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ece(e,t),_ce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=rr(d,rf);if(!f)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:Wn(y.payload,w)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(bt,p,f.map(function(v){return D.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=je(this.props,!1),h=je(l,!0),p=u.map(function(y,w){var _=Mn(Mn(Mn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(l,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(bt,Eu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=lI(s,dce),h=Mn(Mn(Mn({},je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return D.createElement(k0,Eu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,v=a.animateNewValues,y=a.width,w=a.height,_=this.state,b=_.prevPoints,x=_.totalLength;return D.createElement(Vs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var E=I.t;if(b){var P=b.length/s.length,S=s.map(function(R,N){var U=Math.floor(N*P);if(b[U]){var W=b[U],q=br(W.x,R.x),Q=br(W.y,R.y);return Mn(Mn({},R),{},{x:q(E),y:Q(E)})}if(v){var F=br(y*2,R.x),G=br(w/2,R.y);return Mn(Mn({},R),{},{x:F(E),y:G(E)})}return Mn(Mn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(S,r,i)}var T=br(0,x),O=T(E),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(O,x,C)}else k=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!jm(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,x=$e("recharts-line",l),I=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=I||E,S=Ie(w)?this.id:w,T=(r=je(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=T.r,k=O===void 0?3:O,C=T.strokeWidth,R=C===void 0?2:C,N=Gz(a)?a:{},U=N.clipDot,W=U===void 0?!0:U,q=k*2+R;return D.createElement(bt,{className:x},I||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:I?h:h-p/2,y:E?f:f-v/2,width:I?p:p*2,height:E?v:v*2})),!W&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:h-q/2,y:f-q/2,width:p+q,height:v+q}))):null,!b&&this.renderCurve(P,S),this.renderErrorBar(P,S),(b||a)&&this.renderDots(P,W,S),(!y||_)&&uo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ja(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(ja(a),ja(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(Ae(r))o=r(i);else{var a=i.key,s=lI(i,hce),l=$e("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(Qw,Eu({key:a},s,{className:l}))}return o}}])}($.PureComponent);yr(af,"displayName","Line");yr(af,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yr(af,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var v=Wn(h,a);return d==="horizontal"?{x:FA({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:Ie(v)?null:r.scale(v),value:v,payload:h}:{x:Ie(v)?null:n.scale(v),y:FA({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:v,payload:h}});return Mn({points:f,layout:d},u)});function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function Pce(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,n){return e=pp(e),Oce(t,sM()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(t)}function kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function Cce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function lM(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Nce(t,"string");return Ks(e)=="symbol"?e:e+""}function Nce(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function jce(t){var e=t.xAxisId,n=t1(),r=n1(),i=HR(e);return i==null?null:$.createElement(yl,tb({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ai(a,!0)}}))}var Wm=function(t){function e(){return Ace(this,e),Ice(this,e,arguments)}return Cce(e,t),Pce(e,[{key:"render",value:function(){return $.createElement(jce,this.props)}}])}($.Component);lM(Wm,"displayName","XAxis");lM(Wm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dM(r.key),r)}}function Mce(t,e,n){return e&&dI(t.prototype,e),n&&dI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=mp(e),$ce(t,cM()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function fM(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t){var e=Fce(t,"string");return Xs(e)=="symbol"?e:e+""}function Fce(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}var Bce=function(e){var n=e.yAxisId,r=t1(),i=n1(),o=qR(n);return o==null?null:$.createElement(yl,rb({},o,{className:$e("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}}))},Gm=function(t){function e(){return Rce(this,e),Dce(this,e,arguments)}return Vce(e,t),Mce(e,[{key:"render",value:function(){return $.createElement(Bce,this.props)}}])}($.Component);fM(Gm,"displayName","YAxis");fM(Gm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hI(t){return Gce(t)||Wce(t)||zce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gce(t){if(Array.isArray(t))return ib(t)}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ob=function(e,n,r,i,o){var a=rr(e,i1),s=rr(e,Bm),l=[].concat(hI(a),hI(s)),u=rr(e,zm),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[d]===r&&Lr(w.props,"extendDomain")&&ie(w.props[f])){var _=w.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,w){if(w.props[d]===r&&Lr(w.props,"extendDomain")&&ie(w.props[p])&&ie(w.props[v])){var _=w.props[p],b=w.props[v];return[Math.min(y[0],_,b),Math.max(y[1],_,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return ie(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},hM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,v){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],_=arguments.length,b,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,v),!0}for(x=1,b=new Array(_-1);x<_;x++)b[x-1]=arguments[x];w.fn.apply(w.context,b)}else{var I=w.length,E;for(x=0;x<I;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),_){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,f);break;case 4:w[x].fn.call(w[x].context,d,f,h);break;default:if(!b)for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];w[x].fn.apply(w[x].context,b)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var y=0,w=[],_=v.length;y<_;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&w.push(v[y]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(hM);var Hce=hM.exports;const qce=Qe(Hce);var yy=new qce,vy="recharts.syncMouseEvents";function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function Xce(t,e,n){return e&&pI(t.prototype,e),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function by(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=Yce(t,"string");return kc(e)=="symbol"?e:e+""}function Yce(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce=function(){function t(){Kce(this,t),by(this,"activeIndex",0),by(this,"coordinateList",[]),by(this,"layout","horizontal")}return Xce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Jce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function Zce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function mM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Kt(e,n,r,i),s=Kt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function efe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Kt(s,l,u,f),p=Kt(s,l,d,f);r=h.x,i=h.y,o=p.x,a=p.y}else return mM(e);return[{x:r,y:i},{x:o,y:a}]}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return Cc(e)=="symbol"?e:e+""}function rfe(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=k0;if(h==="ScatterChart")v=a,y=uae;else if(h==="BarChart")v=Zce(f,a,l,d),y=Yw;else if(f==="radial"){var w=mM(a),_=w.cx,b=w.cy,x=w.radius,I=w.startAngle,E=w.endAngle;v={cx:_,cy:b,startAngle:I,endAngle:E,innerRadius:x,outerRadius:x},y=vR}else v={points:efe(f,a,l)},y=k0;var P=ad(ad(ad(ad({stroke:"#ccc",pointerEvents:"none"},l),v),je(p,!1)),{},{payload:s,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,P):$.createElement(y,P)}var ofe=["item"],afe=["children","className","width","height","style","compact","title","desc"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}function gI(t,e){return ufe(t)||lfe(t,e)||yM(t,e)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ufe(t){if(Array.isArray(t))return t}function yI(t,e){if(t==null)return{};var n=cfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vM(r.key),r)}}function dfe(t,e,n){return e&&vI(t.prototype,e),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hfe(t,e,n){return e=gp(e),pfe(t,gM()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function pfe(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mfe(t)}function mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function Qs(t){return bfe(t)||vfe(t)||yM(t)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yM(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function vfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bfe(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=vM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vM(t){var e=_fe(t,"string");return Ys(e)=="symbol"?e:e+""}function _fe(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wfe={xAxis:["bottom","top"],yAxis:["left","right"]},xfe={width:"100%",height:"100%"},bM={x:0,y:0};function sd(t){return t}var Sfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Efe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),Kt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Kt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return bM},Hm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Qs(s),Qs(u)):s},[]);return a.length>0?a:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function _M(t){return t==="number"?[0,"auto"]:void 0}var lb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Hm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=vh(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Qs(l),[mR(u,h)]):l},[])},_I=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Sfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Hne(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=lb(e,n,d,f),p=Efe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Tfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=dR(d,o);return r.reduce(function(v,y){var w,_=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,b=_.type,x=_.dataKey,I=_.allowDataOverflow,E=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,T=_.includeHidden,O=_[a];if(v[O])return v;var k=Hm(e.data,{graphicalItems:i.filter(function(L){var K,se=a in L.props?L.props[a]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[a];return se===O}),dataStartIndex:l,dataEndIndex:u}),C=k.length,R,N,U;Jce(_.domain,I,b)&&(R=T0(_.domain,null,I),p&&(b==="number"||P!=="auto")&&(U=xu(k,x,"category")));var W=_M(b);if(!R||R.length===0){var q,Q=(q=_.domain)!==null&&q!==void 0?q:W;if(x){if(R=xu(k,x,b),b==="category"&&p){var F=Mz(R);E&&F?(N=R,R=rp(0,C)):E||(R=WA(Q,R,y).reduce(function(L,K){return L.indexOf(K)>=0?L:[].concat(Qs(L),[K])},[]))}else if(b==="category")E?R=R.filter(function(L){return L!==""&&!Ie(L)}):R=WA(Q,R,y).reduce(function(L,K){return L.indexOf(K)>=0||K===""||Ie(K)?L:[].concat(Qs(L),[K])},[]);else if(b==="number"){var G=Qne(k,i.filter(function(L){var K,se,he=a in L.props?L.props[a]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[a],pe="hide"in L.props?L.props.hide:(se=L.type.defaultProps)===null||se===void 0?void 0:se.hide;return he===O&&(T||!pe)}),x,o,d);G&&(R=G)}p&&(b==="number"||P!=="auto")&&(U=xu(k,x,"category"))}else p?R=rp(0,C):s&&s[O]&&s[O].hasStack&&b==="number"?R=h==="expand"?[0,1]:pR(s[O].stackGroups,l,u):R=fR(k,i.filter(function(L){var K=a in L.props?L.props[a]:L.type.defaultProps[a],se="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return K===O&&(T||!se)}),b,d,!0);if(b==="number")R=ob(f,R,O,o,S),Q&&(R=T0(Q,R,I));else if(b==="category"&&Q){var Y=Q,te=R.every(function(L){return Y.indexOf(L)>=0});te&&(R=Y)}}return H(H({},v),{},ve({},O,H(H({},_),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:N,originalDomain:(w=_.domain)!==null&&w!==void 0?w:W,isCategorical:p,layout:d})))},{})},Afe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Hm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=dR(d,o),y=-1;return r.reduce(function(w,_){var b=_.type.defaultProps!==void 0?H(H({},_.type.defaultProps),_.props):_.props,x=b[a],I=_M("number");if(!w[x]){y++;var E;return v?E=rp(0,p):s&&s[x]&&s[x].hasStack?(E=pR(s[x].stackGroups,l,u),E=ob(f,E,x,o)):(E=T0(I,fR(h,r.filter(function(P){var S,T,O=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],k="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return O===x&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=ob(f,E,x,o)),H(H({},w),{},ve({},x,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(wfe,"".concat(o,".").concat(y%2),null),domain:E,originalDomain:I,isCategorical:v,layout:d})))}return w},{})},Pfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=rr(d,o),p={};return h&&h.length?p=Tfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Afe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Ife=function(e){var n=Gi(e),r=ai(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Sw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kh(n,r)}},wI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,Bs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Ofe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ui(n&&n.type);return r&&r.indexOf("Bar")>=0})},xI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Ln(f,Bs),v=Ln(f,Jo),y=Object.keys(l).reduce(function(E,P){var S=l[P],T=S.orientation;return!S.mirror&&!S.hide?H(H({},E),{},ve({},T,E[T]+S.width)):E},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(E,P){var S=a[P],T=S.orientation;return!S.mirror&&!S.hide?H(H({},E),{},ve({},T,nr(E,"".concat(T))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),_=H(H({},w),y),b=_.bottom;p&&(_.bottom+=p.props.height||Bs.defaultProps.height),v&&n&&(_=Xne(_,i,r,n));var x=u-_.left-_.right,I=d-_.top-_.bottom;return H(H({brushBottom:b},_),{},{width:Math.max(x,0),height:Math.max(I,0)})},Cfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Nfe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,b){var x=b.graphicalItems,I=b.stackGroups,E=b.offset,P=b.updateId,S=b.dataStartIndex,T=b.dataEndIndex,O=_.barSize,k=_.layout,C=_.barGap,R=_.barCategoryGap,N=_.maxBarSize,U=xI(k),W=U.numericAxisName,q=U.cateAxisName,Q=Ofe(x),F=[];return x.forEach(function(G,Y){var te=Hm(_.data,{graphicalItems:[G],dataStartIndex:S,dataEndIndex:T}),L=G.type.defaultProps!==void 0?H(H({},G.type.defaultProps),G.props):G.props,K=L.dataKey,se=L.maxBarSize,he=L["".concat(W,"Id")],pe=L["".concat(q,"Id")],be={},_e=l.reduce(function(En,pn){var Wr=b["".concat(pn.axisType,"Map")],ur=L["".concat(pn.axisType,"Id")];Wr&&Wr[ur]||pn.axisType==="zAxis"||pa(!1);var ki=Wr[ur];return H(H({},En),{},ve(ve({},pn.axisType,ki),"".concat(pn.axisType,"Ticks"),ai(ki)))},be),oe=_e[q],ge=_e["".concat(q,"Ticks")],X=I&&I[he]&&I[he].hasStack&&ure(G,I[he].stackGroups),B=ui(G.type).indexOf("Bar")>=0,ne=Kh(oe,ge),ue=[],Pe=Q&&qne({barSize:O,stackGroups:I,totalSize:Cfe(_e,q)});if(B){var Se,Ce,Me=Ie(se)?N:se,Be=(Se=(Ce=Kh(oe,ge,!0))!==null&&Ce!==void 0?Ce:Me)!==null&&Se!==void 0?Se:0;ue=Kne({barGap:C,barCategoryGap:R,bandSize:Be!==ne?Be:ne,sizeList:Pe[pe],maxBarSize:Me}),Be!==ne&&(ue=ue.map(function(En){return H(H({},En),{},{position:H(H({},En.position),{},{offset:En.position.offset-Be/2})})}))}var Vt=G&&G.type&&G.type.getComposedData;Vt&&F.push({props:H(H({},Vt(H(H({},_e),{},{displayedData:te,props:_,dataKey:K,item:G,bandSize:ne,barPosition:ue,offset:E,stackedData:X,layout:k,dataStartIndex:S,dataEndIndex:T}))),{},ve(ve(ve({key:G.key||"item-".concat(Y)},W,_e[W]),q,_e[q]),"animationId",P)),childIndex:Kz(G,_.children),item:G})}),F},p=function(_,b){var x=_.props,I=_.dataStartIndex,E=_.dataEndIndex,P=_.updateId;if(!jE({props:x}))return null;var S=x.children,T=x.layout,O=x.stackOffset,k=x.data,C=x.reverseStackOrder,R=xI(T),N=R.numericAxisName,U=R.cateAxisName,W=rr(S,r),q=are(k,W,"".concat(N,"Id"),"".concat(U,"Id"),O,C),Q=l.reduce(function(L,K){var se="".concat(K.axisType,"Map");return H(H({},L),{},ve({},se,Pfe(x,H(H({},K),{},{graphicalItems:W,stackGroups:K.axisType===N&&q,dataStartIndex:I,dataEndIndex:E}))))},{}),F=kfe(H(H({},Q),{},{props:x,graphicalItems:W}),b==null?void 0:b.legendBBox);Object.keys(Q).forEach(function(L){Q[L]=d(x,Q[L],F,L.replace("Map",""),n)});var G=Q["".concat(U,"Map")],Y=Ife(G),te=h(x,H(H({},Q),{},{dataStartIndex:I,dataEndIndex:E,updateId:P,graphicalItems:W,stackGroups:q,offset:F}));return H(H({formattedGraphicalItems:te,graphicalItems:W,offset:F,stackGroups:q},Y),Q)},v=function(w){function _(b){var x,I,E;return ffe(this,_),E=hfe(this,_,[b]),ve(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(E,"accessibilityManager",new Qce),ve(E,"handleLegendBBoxUpdate",function(P){if(P){var S=E.state,T=S.dataStartIndex,O=S.dataEndIndex,k=S.updateId;E.setState(H({legendBBox:P},p({props:E.props,dataStartIndex:T,dataEndIndex:O,updateId:k},H(H({},E.state),{},{legendBBox:P}))))}}),ve(E,"handleReceiveSyncEvent",function(P,S,T){if(E.props.syncId===P){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),ve(E,"handleBrushChange",function(P){var S=P.startIndex,T=P.endIndex;if(S!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return H({dataStartIndex:S,dataEndIndex:T},p({props:E.props,dataStartIndex:S,dataEndIndex:T,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),ve(E,"handleMouseEnter",function(P){var S=E.getMouseInfo(P);if(S){var T=H(H({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseEnter;Ae(O)&&O(T,P)}}),ve(E,"triggeredAfterMouseMove",function(P){var S=E.getMouseInfo(P),T=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseMove;Ae(O)&&O(T,P)}),ve(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ve(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ve(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),ve(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var T=E.props.onMouseLeave;Ae(T)&&T(S,P)}),ve(E,"handleOuterEvent",function(P){var S=qz(P),T=nr(E.props,"".concat(S));if(S&&Ae(T)){var O,k;/.*touch.*/i.test(S)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),T((O=k)!==null&&O!==void 0?O:{},P)}}),ve(E,"handleClick",function(P){var S=E.getMouseInfo(P);if(S){var T=H(H({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var O=E.props.onClick;Ae(O)&&O(T,P)}}),ve(E,"handleMouseDown",function(P){var S=E.props.onMouseDown;if(Ae(S)){var T=E.getMouseInfo(P);S(T,P)}}),ve(E,"handleMouseUp",function(P){var S=E.props.onMouseUp;if(Ae(S)){var T=E.getMouseInfo(P);S(T,P)}}),ve(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ve(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),ve(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),ve(E,"handleDoubleClick",function(P){var S=E.props.onDoubleClick;if(Ae(S)){var T=E.getMouseInfo(P);S(T,P)}}),ve(E,"handleContextMenu",function(P){var S=E.props.onContextMenu;if(Ae(S)){var T=E.getMouseInfo(P);S(T,P)}}),ve(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&yy.emit(vy,E.props.syncId,P,E.eventEmitterSymbol)}),ve(E,"applySyncEvent",function(P){var S=E.props,T=S.layout,O=S.syncMethod,k=E.state.updateId,C=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(H({dataStartIndex:C,dataEndIndex:R},p({props:E.props,dataStartIndex:C,dataEndIndex:R,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,W=P.activeTooltipIndex,q=E.state,Q=q.offset,F=q.tooltipTicks;if(!Q)return;if(typeof O=="function")W=O(F,P);else if(O==="value"){W=-1;for(var G=0;G<F.length;G++)if(F[G].value===P.activeLabel){W=G;break}}var Y=H(H({},Q),{},{x:Q.left,y:Q.top}),te=Math.min(N,Y.x+Y.width),L=Math.min(U,Y.y+Y.height),K=F[W]&&F[W].value,se=lb(E.state,E.props.data,W),he=F[W]?{x:T==="horizontal"?F[W].coordinate:te,y:T==="horizontal"?L:F[W].coordinate}:bM;E.setState(H(H({},P),{},{activeLabel:K,activeCoordinate:he,activePayload:se,activeTooltipIndex:W}))}else E.setState(P)}),ve(E,"renderCursor",function(P){var S,T=E.state,O=T.isTooltipActive,k=T.activeCoordinate,C=T.activePayload,R=T.offset,N=T.activeTooltipIndex,U=T.tooltipAxisBandSize,W=E.getTooltipEventType(),q=(S=P.props.active)!==null&&S!==void 0?S:O,Q=E.props.layout,F=P.key||"_recharts-cursor";return D.createElement(ife,{key:F,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:q,layout:Q,offset:R,tooltipAxisBandSize:U,tooltipEventType:W})}),ve(E,"renderPolarAxis",function(P,S,T){var O=nr(P,"type.axisType"),k=nr(E.state,"".concat(O,"Map")),C=P.type.defaultProps,R=C!==void 0?H(H({},C),P.props):P.props,N=k&&k[R["".concat(O,"Id")]];return $.cloneElement(P,H(H({},N),{},{className:$e(O,N.className),key:P.key||"".concat(S,"-").concat(T),ticks:ai(N,!0)}))}),ve(E,"renderPolarGrid",function(P){var S=P.props,T=S.radialLines,O=S.polarAngles,k=S.polarRadius,C=E.state,R=C.radiusAxisMap,N=C.angleAxisMap,U=Gi(R),W=Gi(N),q=W.cx,Q=W.cy,F=W.innerRadius,G=W.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(O)?O:ai(W,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(k)?k:ai(U,!0).map(function(Y){return Y.coordinate}),cx:q,cy:Q,innerRadius:F,outerRadius:G,key:P.key||"polar-grid",radialLines:T})}),ve(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,S=E.props,T=S.children,O=S.width,k=S.height,C=E.props.margin||{},R=O-(C.left||0)-(C.right||0),N=uR({children:T,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!N)return null;var U=N.item,W=yI(N,ofe);return $.cloneElement(U,H(H({},W),{},{chartWidth:O,chartHeight:k,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ve(E,"renderTooltip",function(){var P,S=E.props,T=S.children,O=S.accessibilityLayer,k=Ln(T,Or);if(!k)return null;var C=E.state,R=C.isTooltipActive,N=C.activeCoordinate,U=C.activePayload,W=C.activeLabel,q=C.offset,Q=(P=k.props.active)!==null&&P!==void 0?P:R;return $.cloneElement(k,{viewBox:H(H({},q),{},{x:q.left,y:q.top}),active:Q,label:W,payload:Q?U:[],coordinate:N,accessibilityLayer:O})}),ve(E,"renderBrush",function(P){var S=E.props,T=S.margin,O=S.data,k=E.state,C=k.offset,R=k.dataStartIndex,N=k.dataEndIndex,U=k.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:nd(E.handleBrushChange,P.props.onChange),data:O,x:ie(P.props.x)?P.props.x:C.left,y:ie(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ie(P.props.width)?P.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(U)})}),ve(E,"renderReferenceElement",function(P,S,T){if(!P)return null;var O=E,k=O.clipPathId,C=E.state,R=C.xAxisMap,N=C.yAxisMap,U=C.offset,W=P.type.defaultProps||{},q=P.props,Q=q.xAxisId,F=Q===void 0?W.xAxisId:Q,G=q.yAxisId,Y=G===void 0?W.yAxisId:G;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(T),xAxis:R[F],yAxis:N[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),ve(E,"renderActivePoints",function(P){var S=P.item,T=P.activePoint,O=P.basePoint,k=P.childIndex,C=P.isRange,R=[],N=S.props.key,U=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,W=U.activeDot,q=U.dataKey,Q=H(H({index:k,dataKey:q,cx:T.x,cy:T.y,r:4,fill:Xw(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},je(W,!1)),bh(W));return R.push(_.renderActiveDot(W,Q,"".concat(N,"-activePoint-").concat(k))),O?R.push(_.renderActiveDot(W,H(H({},Q),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(k))):C&&R.push(null),R}),ve(E,"renderGraphicChild",function(P,S,T){var O=E.filterFormatItem(P,S,T);if(!O)return null;var k=E.getTooltipEventType(),C=E.state,R=C.isTooltipActive,N=C.tooltipAxis,U=C.activeTooltipIndex,W=C.activeLabel,q=E.props.children,Q=Ln(q,Or),F=O.props,G=F.points,Y=F.isRange,te=F.baseLine,L=O.item.type.defaultProps!==void 0?H(H({},O.item.type.defaultProps),O.item.props):O.item.props,K=L.activeDot,se=L.hide,he=L.activeBar,pe=L.activeShape,be=!!(!se&&R&&Q&&(K||he||pe)),_e={};k!=="axis"&&Q&&Q.props.trigger==="click"?_e={onClick:nd(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(_e={onMouseLeave:nd(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:nd(E.handleItemMouseEnter,P.props.onMouseEnter)});var oe=$.cloneElement(P,H(H({},O.props),_e));function ge(pn){return typeof N.dataKey=="function"?N.dataKey(pn.payload):null}if(be)if(U>=0){var X,B;if(N.dataKey&&!N.allowDuplicatedCategory){var ne=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());X=vh(G,ne,W),B=Y&&te&&vh(te,ne,W)}else X=G==null?void 0:G[U],B=Y&&te&&te[U];if(pe||he){var ue=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[$.cloneElement(P,H(H(H({},O.props),_e),{},{activeIndex:ue})),null,null]}if(!Ie(X))return[oe].concat(Qs(E.renderActivePoints({item:O,activePoint:X,basePoint:B,childIndex:U,isRange:Y})))}else{var Pe,Se=(Pe=E.getItemByXY(E.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:oe},Ce=Se.graphicalItem,Me=Ce.item,Be=Me===void 0?P:Me,Vt=Ce.childIndex,En=H(H(H({},O.props),_e),{},{activeIndex:Vt});return[$.cloneElement(Be,En),null,null]}return Y?[oe,null,null]:[oe,null]}),ve(E,"renderCustomized",function(P,S,T){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(T)},E.props),E.state))}),ve(E,"renderMap",{CartesianGrid:{handler:sd,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:sd},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:sd},YAxis:{handler:sd},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Qc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=lj(E.triggeredAfterMouseMove,(I=b.throttleDelay)!==null&&I!==void 0?I:1e3/60),E.state={},E}return gfe(_,w),dfe(_,[{key:"componentDidMount",value:function(){var x,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,I=x.children,E=x.data,P=x.height,S=x.layout,T=Ln(I,Or);if(T){var O=T.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=lb(this.state,E,O,k),R=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+P)/2,U=S==="horizontal",W=U?{x:R,y:N}:{y:R,x:N},q=this.state.formattedGraphicalItems.find(function(F){var G=F.item;return G.type.name==="Scatter"});q&&(W=H(H({},W),q.props.points[O].tooltipPosition),C=q.props.points[O].tooltipPayload);var Q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:W};this.setState(Q),this.renderCursor(T),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){Fv([Ln(x.children,Or)],[Ln(this.props.children,Or)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ln(this.props.children,Or);if(x&&typeof x.props.shared=="boolean"){var I=x.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var I=this.container,E=I.getBoundingClientRect(),P=vJ(E),S={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},T=E.width/I.offsetWidth||1,O=this.inRange(S.chartX,S.chartY,T);if(!O)return null;var k=this.state,C=k.xAxisMap,R=k.yAxisMap,N=this.getTooltipEventType(),U=_I(this.state,this.props.data,this.props.layout,O);if(N!=="axis"&&C&&R){var W=Gi(C).scale,q=Gi(R).scale,Q=W&&W.invert?W.invert(S.chartX):null,F=q&&q.invert?q.invert(S.chartY):null;return H(H({},S),{},{xValue:Q,yValue:F},U)}return U?H(H({},S),U):null}},{key:"inRange",value:function(x,I){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=x/E,T=I/E;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,k=S>=O.left&&S<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return k?{x:S,y:T}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var U=Gi(R);return qA({x:S,y:T},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,I=this.getTooltipEventType(),E=Ln(x,Or),P={};E&&I==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=bh(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){yy.on(vy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yy.removeListener(vy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,I,E){for(var P=this.state.formattedGraphicalItems,S=0,T=P.length;S<T;S++){var O=P[S];if(O.item===x||O.props.key===x.key||I===ui(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,I=this.state.offset,E=I.left,P=I.top,S=I.height,T=I.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:E,y:P,height:S,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(I,E){var P=gI(E,2),S=P[0],T=P[1];return H(H({},I),{},ve({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(I,E){var P=gI(E,2),S=P[0],T=P[1];return H(H({},I),{},ve({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[x])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(x){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[x])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(x){var I=this.state,E=I.formattedGraphicalItems,P=I.activeItem;if(E&&E.length)for(var S=0,T=E.length;S<T;S++){var O=E[S],k=O.props,C=O.item,R=C.type.defaultProps!==void 0?H(H({},C.type.defaultProps),C.props):C.props,N=ui(C.type);if(N==="Bar"){var U=(k.data||[]).find(function(F){return Zoe(x,F)});if(U)return{graphicalItem:O,payload:U}}else if(N==="RadialBar"){var W=(k.data||[]).find(function(F){return qA(x,F)});if(W)return{graphicalItem:O,payload:W}}else if($m(O,P)||Lm(O,P)||Tc(O,P)){var q=nse({graphicalItem:O,activeTooltipItem:P,itemData:R.data}),Q=R.activeIndex===void 0?q:R.activeIndex;return{graphicalItem:H(H({},O),{},{childIndex:Q}),payload:Tc(O,P)?R.data[q]:O.props.data[q]}}}return null}},{key:"render",value:function(){var x=this;if(!jE(this))return null;var I=this.props,E=I.children,P=I.className,S=I.width,T=I.height,O=I.style,k=I.compact,C=I.title,R=I.desc,N=yI(I,afe),U=je(N,!1);if(k)return D.createElement(HP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Uv,Ja({},U,{width:S,height:T,title:C,desc:R}),this.renderClipPath(),ME(E,this.renderMap)));if(this.props.accessibilityLayer){var W,q;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(q=this.props.role)!==null&&q!==void 0?q:"application",U.onKeyDown=function(F){x.accessibilityManager.keyboardEvent(F)},U.onFocus=function(){x.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return D.createElement(HP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Ja({className:$e("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:T},O)},Q,{ref:function(G){x.container=G}}),D.createElement(Uv,Ja({},U,{width:S,height:T,title:C,desc:R,style:xfe}),this.renderClipPath(),ME(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ve(v,"displayName",n),ve(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(v,"getDerivedStateFromProps",function(w,_){var b=w.dataKey,x=w.data,I=w.children,E=w.width,P=w.height,S=w.layout,T=w.stackOffset,O=w.margin,k=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var R=wI(w);return H(H(H({},R),{},{updateId:0},p(H(H({props:w},R),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:x,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:T,prevMargin:O,prevChildren:I})}if(b!==_.prevDataKey||x!==_.prevData||E!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||T!==_.prevStackOffset||!us(O,_.prevMargin)){var N=wI(w),U={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},W=H(H({},_I(_,x,S)),{},{updateId:_.updateId+1}),q=H(H(H({},N),U),W);return H(H(H({},q),p(H({props:w},q),_)),{},{prevDataKey:b,prevData:x,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:T,prevMargin:O,prevChildren:I})}if(!Fv(I,_.prevChildren)){var Q,F,G,Y,te=Ln(I,Bs),L=te&&(Q=(F=te.props)===null||F===void 0?void 0:F.startIndex)!==null&&Q!==void 0?Q:k,K=te&&(G=(Y=te.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&G!==void 0?G:C,se=L!==k||K!==C,he=!Ie(x),pe=he&&!se?_.updateId:_.updateId+1;return H(H({updateId:pe},p(H(H({props:w},_),{},{updateId:pe,dataStartIndex:L,dataEndIndex:K}),_)),{},{prevChildren:I,dataStartIndex:L,dataEndIndex:K})}return null}),ve(v,"renderActiveDot",function(w,_,b){var x;return $.isValidElement(w)?x=$.cloneElement(w,_):Ae(w)?x=w(_):x=D.createElement(Qw,_),D.createElement(bt,{className:"recharts-active-dot",key:b},x)});var y=$.forwardRef(function(_,b){return D.createElement(v,Ja({},_,{ref:b}))});return y.displayName=v.displayName,y},jfe=Nfe({chartName:"LineChart",GraphicalChild:af,axisComponents:[{axisType:"xAxis",AxisComp:Wm},{axisType:"yAxis",AxisComp:Gm}],formatAxisMap:Ple});const Rfe=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),Mfe=({className:t=""})=>m.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"3"}),m.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Dfe=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"8",r:"4"}),m.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),wM=({className:t=""})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),$fe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Lfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Vfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Ffe=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:m.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Bfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M3 3v18h18"}),m.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Ufe=({className:t=""})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:m.jsx("polyline",{points:"9 18 15 12 9 6"})}),yp=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),zfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Wfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),m.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:m.jsx(zfe,{})})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(fJ,{children:m.jsxs(jfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[m.jsx(iM,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(Wm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),m.jsx(Gm,{stroke:"#6b7280"}),m.jsx(Or,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return m.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&m.jsxs("div",{children:[m.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),m.jsxs("div",{children:[m.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),m.jsx(Jo,{wrapperStyle:{color:"#e2e8f0"}}),m.jsx(af,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const Gfe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"🏀",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"🔥",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"💯",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"🎯",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"🎯",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"🤝",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"🛡️",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"💪",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"⭐",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"✨",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"🎪",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},Hfe=t=>{const e=[];return Object.values(Gfe).forEach(n=>{n.check(t)&&e.push(n)}),e},qfe=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return m.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[m.jsx("span",{children:t.emoji}),m.jsx("span",{className:"hidden sm:inline",children:t.name})]})},Kfe=({badges:t})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"🏆"}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>m.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),Xfe=({badges:t})=>t.length===0?m.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):m.jsxs("div",{className:"mt-3",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"🏆 Achievements"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>m.jsx(qfe,{badge:e,size:"sm"},e.id))})]}),Yfe=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Qfe=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Jfe=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=$.useState(!1),[o,a]=$.useState(""),[s,l]=$.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),h={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(`⚠️ iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
• Google Photos (shareable links)
• iCloud Shared Albums
• Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,h];n(t,p),a(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},d=f=>{const h=e.filter(p=>p.id!==f);n(t,h)};return m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"📸 Game Photos"}),m.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[m.jsx(Qfe,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&m.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[m.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),m.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",m.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",m.jsx("br",{}),"📱 ",m.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&m.jsx("div",{className:"space-y-2",children:e.map(f=>m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[m.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:h=>{h.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&m.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:"☁️"})]}),m.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),m.jsx("button",{onClick:()=>d(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:"×"})]},f.id))}),e.length===0&&!r&&m.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},Zfe=({photos:t=[]})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx(Yfe,{className:"w-3 h-3 text-gray-500"}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>m.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),ede=Jfe,tde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function nde({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=$.useRef(null);$.useEffect(()=>{const f=h=>{o.current&&!o.current.contains(h.target)&&(h.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:f.date?f.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},d=(f,h)=>{const p={...e,[f]:h};n(p),setTimeout(()=>r&&r(),400)};return m.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&m.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[m.jsx(tde,{className:"w-3 h-3"}),"Clear"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),m.jsxs("select",{value:e.searchTerm||"",onChange:f=>d("searchTerm",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All opponents"}),a.map((f,h)=>m.jsx("option",{value:f,children:f},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),m.jsxs("select",{value:e.dateFilter||"",onChange:f=>d("dateFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All dates"}),s.map((f,h)=>m.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),m.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>d("outcomeFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All games"}),m.jsx("option",{value:"W",children:"Wins"}),m.jsx("option",{value:"L",children:"Losses"}),m.jsx("option",{value:"T",children:"Ties"})]})]}),l&&m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&m.jsxs("span",{className:"block",children:["• Opponent: ",e.searchTerm]}),e.dateFilter&&m.jsxs("span",{className:"block",children:["• Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&m.jsxs("span",{className:"block",children:["• Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const rde=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],co=t=>!t||!t.email||t.isAnonymous?!1:rde.includes(t.email.toLowerCase()),Vi=t=>co(t),vp=t=>co(t),ide=t=>co(t),_y=t=>co(t),ode=t=>!t||t.isAnonymous?"guest":co(t)?"admin":"viewer",Wt=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},xM=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),ub=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),kd=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),wy=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ade=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),sde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),lde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ude=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),cde=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),Xe=({label:t,value:e,onClick:n,clickable:r,onEdit:i,editable:o,isEditing:a,editValue:s,onEditChange:l,onSave:u,onCancel:d,gameId:f})=>m.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""} ${a?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-600":""}`,onClick:r?n:void 0,children:[m.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[m.jsx("span",{className:"text-xs text-orange-500",children:t}),o&&!a&&m.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-0.5 text-gray-400 hover:text-blue-500 transition",title:`Edit ${t}`,children:m.jsx(xM,{className:"w-2 h-2"})})]}),a?m.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[m.jsx("input",{type:"number",value:s===0?"":s,onChange:h=>l(h.target.value===""?0:parseInt(h.target.value)||0),className:"w-full text-center text-sm px-1 py-0.5 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0",onClick:h=>h.stopPropagation(),onFocus:h=>h.target.select(),onKeyDown:h=>{h.key==="Enter"&&(h.stopPropagation(),u()),h.key==="Escape"&&(h.stopPropagation(),d())},autoFocus:!0}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:"p-0.5 text-green-500 hover:text-green-600 bg-green-50 dark:bg-green-900/20 rounded",title:"Save",children:m.jsx(ub,{className:"w-3 h-3"})}),m.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"p-0.5 text-gray-500 hover:text-gray-600 bg-gray-50 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(kd,{className:"w-3 h-3"})})]})]}):m.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function fde(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function dde({user:t,stats:e=[],teams:n=[],onDeleteGame:r,onUpdateGamePhotos:i,onUpdateGame:o,externalFilters:a={},isUserAdmin:s=!1}){$.useState("");const[l,u]=$.useState(null),[d,f]=$.useState(""),[h,p]=$.useState(""),[v,y]=$.useState(""),[w,_]=$.useState(!1),[b,x]=$.useState([]),[I,E]=$.useState(!0),[P,S]=$.useState(1),[T,O]=$.useState(null),[k,C]=$.useState(null);$.useState(!1);const[R,N]=$.useState([]),[U,W]=$.useState(!1),[q,Q]=$.useState(!1),[F,G]=$.useState(null),[Y,te]=$.useState(null),[L,K]=$.useState({}),[se,he]=$.useState(null),pe=4,be=$.useMemo(()=>{const M=new Set;return(e||[]).forEach(ae=>{ae.opponent&&M.add(ae.opponent.trim())}),Array.from(M)},[e]);$.useMemo(()=>{const M=new Set;return(e||[]).forEach(ae=>{ae.location&&M.add(ae.location.trim())}),Array.from(M)},[e]),$.useMemo(()=>{const M=new Map;for(const ae of n)ae&&ae.id&&!M.has(ae.name.toLowerCase())&&M.set(ae.name.toLowerCase(),ae);return Array.from(M.values())},[n]),$.useMemo(()=>d?be.filter(M=>M.toLowerCase().includes(d.toLowerCase())).slice(0,7):[],[be,d]);const _e=(e||[]).reduce((M,ae)=>(M.points=(M.points||0)+(parseInt(ae.points,10)||0),M.fg2m=(M.fg2m||0)+(parseInt(ae.fg2m,10)||0),M.fg2a=(M.fg2a||0)+(parseInt(ae.fg2a,10)||0),M.fg3m=(M.fg3m||0)+(parseInt(ae.fg3m,10)||0),M.fg3a=(M.fg3a||0)+(parseInt(ae.fg3a,10)||0),M.ftm=(M.ftm||0)+(parseInt(ae.ftm,10)||0),M.fta=(M.fta||0)+(parseInt(ae.fta,10)||0),M.rebounds=(M.rebounds||0)+(parseInt(ae.rebounds,10)||0),M.assists=(M.assists||0)+(parseInt(ae.assists,10)||0),M.steals=(M.steals||0)+(parseInt(ae.steals,10)||0),M.blocks=(M.blocks||0)+(parseInt(ae.blocks,10)||0),M.fouls=(M.fouls||0)+(parseInt(ae.fouls,10)||0),M.turnovers=(M.turnovers||0)+(parseInt(ae.turnovers,10)||0),M.gamesPlayed=(M.gamesPlayed||0)+1,M),{}),oe=(_e.fg2m||0)+(_e.fg3m||0),ge=(_e.fg2a||0)+(_e.fg3a||0),X=(M,ae)=>!ae||ae===0?"0%":`${Math.round(M/ae*100)}%`,B=(M,ae)=>!ae||ae===0?M>0?`${M.toFixed(1)}`:"0.0":(M/ae).toFixed(2),ne=$.useMemo(()=>{let M=[...e||[]];return d&&(M=M.filter(ae=>(ae.opponent||"").toLowerCase().includes(d.toLowerCase()))),h&&(M=M.filter(ae=>{let ze="";return ae.timestamp?ze=new Date(ae.timestamp).toISOString().split("T")[0]:ae.date&&(ze=ae.date),ze===h})),v&&(M=M.filter(ae=>ae.outcome===v)),M.sort((ae,ze)=>ae.timestamp<ze.timestamp?1:ae.timestamp>ze.timestamp?-1:0),M},[e,d,h,v]),ue=$.useMemo(()=>{const M=(P-1)*pe;return ne.slice(M,M+pe)},[ne,P]),Pe=Math.ceil(ne.length/pe),Se=(M,ae,ze={})=>{if(!Vi(t)){Wt("edit games");return}G(M),te(ae),K(ze),he(null)},Ce=(M,ae,ze)=>{if(!Vi(t)){Wt("edit stats");return}G(M),te("stats"),he(ae),K({[ae]:ze})},Me=()=>{G(null),te(null),K({}),he(null)},Be=async()=>{if(!(!F||!o))try{if(Y==="stats"){const M={...L};if(["fg2m","fg3m","ftm"].some(ae=>ae in M)){const ae=e.find(ze=>ze.id===F);if(ae){const ze={...ae,...M};M.points=ze.fg2m*2+ze.fg3m*3+ze.ftm}}await o(F,M)}else await o(F,L);Me()}catch(M){console.error("Error updating game:",M),alert("Failed to update game. Please try again.")}},Vt=(M,ae)=>{if(M==="gamesPlayed")u({statKey:M,statName:"Games Played per Age",data:fde(e||[])});else{const ze=[...e||[]].sort((mn,gt)=>(mn.timestamp||0)-(gt.timestamp||0)).map(mn=>({value:M==="assistTurnoverRatio"?mn.turnovers?(mn.assists/mn.turnovers).toFixed(2):"0.00":mn[M]||0,date:new Date(mn.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:mn.teamName,opponent:mn.opponent}));u({statKey:M,statName:ae,data:ze})}},En=()=>{if(!s){Wt("select and delete games");return}W(!U),N([])},pn=M=>{s&&N(ae=>ae.includes(M)?ae.filter(ze=>ze!==M):[...ae,M])},Wr=()=>{if(!s)return;const M=ue.map(ae=>ae.id);N(M)},ur=()=>{N([])},ki=()=>{if(!vp(t)){Wt("delete games");return}Q(!0)},vl=()=>{R.forEach(M=>{r(M)}),N([]),W(!1),Q(!1)},jt=M=>{if(!vp(t)){Wt("delete games");return}O(M)},Ft=()=>{k&&(onDeleteTeam(k),C(null))},Ea=M=>{U||x(ae=>ae.includes(M)?ae.filter(ze=>ze!==M):[...ae,M])},_t=M=>M==null||M===""?0:M,sf=M=>{if(!M)return"No date";const ae=new Date(M);return ae.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+ae.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return m.jsxs("div",{children:[l&&m.jsx(Wfe,{graphData:l,onClose:()=>u(null)}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[m.jsx(Xe,{label:"Games Played",value:_e.gamesPlayed||0}),m.jsx(Xe,{label:"Points",value:_e.points||0,clickable:!0,onClick:()=>Vt("points","Points")}),m.jsx(Xe,{label:"Rebounds",value:_e.rebounds||0,clickable:!0,onClick:()=>Vt("rebounds","Rebounds")}),m.jsx(Xe,{label:"Assists",value:_e.assists||0,clickable:!0,onClick:()=>Vt("assists","Assists")}),m.jsx(Xe,{label:"Steals",value:_e.steals||0,clickable:!0,onClick:()=>Vt("steals","Steals")}),m.jsx(Xe,{label:"Blocks",value:_e.blocks||0,clickable:!0,onClick:()=>Vt("blocks","Blocks")}),m.jsx(Xe,{label:"Fouls",value:_e.fouls||0,clickable:!0,onClick:()=>Vt("fouls","Fouls")}),m.jsx(Xe,{label:"Turnovers",value:_e.turnovers||0,clickable:!0,onClick:()=>Vt("turnovers","Turnovers")}),m.jsx(Xe,{label:"A/T Ratio",value:B(_e.assists,_e.turnovers)})]}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),m.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[m.jsx(Xe,{label:"FG%",value:X(oe,ge)}),m.jsx(Xe,{label:"FT%",value:X(_e.ftm,_e.fta)}),m.jsx(Xe,{label:"2-Point %",value:X(_e.fg2m,_e.fg2a)}),m.jsx(Xe,{label:"3-Point %",value:X(_e.fg3m,_e.fg3a)})]})]})}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>E(!I),children:[m.jsx(cde,{isExpanded:I}),m.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(d||h||v)&&m.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",ne.length," of ",(e||[]).length," games",d&&m.jsxs("span",{className:"block text-xs",children:["• Opponent: ",d]}),h&&m.jsxs("span",{className:"block text-xs",children:["• Date: ",new Date(h).toLocaleDateString()]}),v&&m.jsxs("span",{className:"block text-xs",children:["• Result: ",v==="W"?"Wins":v==="L"?"Losses":"Ties"]})]})]}),I&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:s&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:En,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${U?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:U?"Cancel selection":"Select multiple games",children:[U?m.jsx(kd,{className:"h-4 w-4 sm:h-3 sm:w-3"}):m.jsx(ade,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:U?"Cancel":"Select"}),m.jsx("span",{className:"hidden sm:inline",children:U?"Cancel":"Select"})]}),U&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:Wr,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[m.jsx(sde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"All"}),m.jsx("span",{className:"hidden sm:inline",children:"All"})]}),m.jsxs("button",{onClick:ur,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[m.jsx(lde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Clear"}),m.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[s&&U&&R.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[R.length," selected"]}),m.jsxs("button",{onClick:ki,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[m.jsx(yp,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Delete"}),m.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{"data-filter-button":"true",onClick:M=>{M.stopPropagation(),_(!w)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${d||h||v?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[m.jsx(Rfe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Filter"}),m.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),w&&m.jsx(nde,{games:e,filters:{searchTerm:d,dateFilter:h,outcomeFilter:v},onFiltersChange:M=>{f(M.searchTerm||""),p(M.dateFilter||""),y(M.outcomeFilter||""),S(1)},onClose:()=>_(!1)})]})]})]}),m.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:ue.length>0?ue.map(M=>{const ae=b.includes(M.id),ze=R.includes(M.id),mn=Hfe(M),gt=F===M.id;return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>U&&s?pn(M.id):Ea(M.id),children:[m.jsxs("div",{className:"flex items-center gap-2",children:[U&&s&&m.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${ze?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:le=>{le.stopPropagation(),pn(M.id)},children:ze&&m.jsx(ude,{className:"w-3 h-3 text-white"})}),(!U||!s)&&m.jsx(Ufe,{className:`transition-transform duration-200 text-black dark:text-white ${ae?"rotate-90":""}`,style:{minWidth:20}}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:sf(M.timestamp)}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[M.teamName," vs ",M.opponent]})}),M.location&&m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 italic",children:[m.jsx(wy,{className:"w-3 h-3"}),m.jsx("span",{children:M.location})]}),m.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:M.adminName?`Scored by ${M.adminName}`:""}),m.jsx(Kfe,{badges:mn}),m.jsx(Zfe,{photos:M.photos})]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${M.outcome==="W"?"bg-green-100 text-green-800":M.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[M.outcome||"T"," ",_t(M.myTeamScore),"-",_t(M.opponentScore)]}),s&&!U&&m.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:le=>{le.stopPropagation(),jt(M.id)},title:"Delete Game",children:m.jsx(yp,{className:"w-4 h-4"})})]})]}),ae&&!U&&m.jsxs("div",{className:"p-4 pt-2 relative",children:[s&&m.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-600",children:m.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[gt&&Y==="score"?m.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg border border-orange-200 dark:border-orange-600",children:[m.jsx("input",{type:"number",value:L.myTeamScore===0?"":L.myTeamScore,onChange:le=>K({...L,myTeamScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),autoFocus:!0}),m.jsx("span",{className:"text-sm font-bold",children:"-"}),m.jsx("input",{type:"number",value:L.opponentScore===0?"":L.opponentScore,onChange:le=>K({...L,opponentScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),Be()),le.key==="Escape"&&(le.stopPropagation(),Me())}}),m.jsx("button",{onClick:le=>{le.stopPropagation(),Be()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(ub,{className:"w-4 h-4"})}),m.jsx("button",{onClick:le=>{le.stopPropagation(),Me()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(kd,{className:"w-4 h-4"})})]}):m.jsxs("button",{onClick:le=>{le.stopPropagation(),Se(M.id,"score",{myTeamScore:M.myTeamScore||0,opponentScore:M.opponentScore||0})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Score",children:[m.jsx(xM,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),gt&&Y==="location"?m.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/30 p-2 rounded-lg border border-green-200 dark:border-green-600",children:[m.jsx("input",{type:"text",value:L.location||"",onChange:le=>K({...L,location:le.target.value}),className:"text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[120px]",onClick:le=>le.stopPropagation(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),Be()),le.key==="Escape"&&(le.stopPropagation(),Me())},onFocus:le=>le.target.select(),placeholder:"Location",autoFocus:!0}),m.jsx("button",{onClick:le=>{le.stopPropagation(),Be()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(ub,{className:"w-4 h-4"})}),m.jsx("button",{onClick:le=>{le.stopPropagation(),Me()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(kd,{className:"w-4 h-4"})})]}):M.location?m.jsxs("button",{onClick:le=>{le.stopPropagation(),Se(M.id,"location",{location:M.location})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Location",children:[m.jsx(wy,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Location"})]}):m.jsxs("button",{onClick:le=>{le.stopPropagation(),Se(M.id,"location",{location:""})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Add Location",children:[m.jsx(wy,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[m.jsx(Xe,{label:"Points",value:_t(M.points),editable:s,isEditing:gt&&Y==="stats"&&se==="points",editValue:L.points,onEdit:()=>Ce(M.id,"points",M.points||0),onEditChange:le=>K({...L,points:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"2PT Made",value:_t(M.fg2m),editable:s,isEditing:gt&&Y==="stats"&&se==="fg2m",editValue:L.fg2m,onEdit:()=>Ce(M.id,"fg2m",M.fg2m||0),onEditChange:le=>K({...L,fg2m:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"2PT Att",value:_t(M.fg2a),editable:s,isEditing:gt&&Y==="stats"&&se==="fg2a",editValue:L.fg2a,onEdit:()=>Ce(M.id,"fg2a",M.fg2a||0),onEditChange:le=>K({...L,fg2a:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"3PT Made",value:_t(M.fg3m),editable:s,isEditing:gt&&Y==="stats"&&se==="fg3m",editValue:L.fg3m,onEdit:()=>Ce(M.id,"fg3m",M.fg3m||0),onEditChange:le=>K({...L,fg3m:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"3PT Att",value:_t(M.fg3a),editable:s,isEditing:gt&&Y==="stats"&&se==="fg3a",editValue:L.fg3a,onEdit:()=>Ce(M.id,"fg3a",M.fg3a||0),onEditChange:le=>K({...L,fg3a:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"FT Made",value:_t(M.ftm),editable:s,isEditing:gt&&Y==="stats"&&se==="ftm",editValue:L.ftm,onEdit:()=>Ce(M.id,"ftm",M.ftm||0),onEditChange:le=>K({...L,ftm:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"FT Att",value:_t(M.fta),editable:s,isEditing:gt&&Y==="stats"&&se==="fta",editValue:L.fta,onEdit:()=>Ce(M.id,"fta",M.fta||0),onEditChange:le=>K({...L,fta:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Rebounds",value:_t(M.rebounds),editable:s,isEditing:gt&&Y==="stats"&&se==="rebounds",editValue:L.rebounds,onEdit:()=>Ce(M.id,"rebounds",M.rebounds||0),onEditChange:le=>K({...L,rebounds:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Assists",value:_t(M.assists),editable:s,isEditing:gt&&Y==="stats"&&se==="assists",editValue:L.assists,onEdit:()=>Ce(M.id,"assists",M.assists||0),onEditChange:le=>K({...L,assists:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Steals",value:_t(M.steals),editable:s,isEditing:gt&&Y==="stats"&&se==="steals",editValue:L.steals,onEdit:()=>Ce(M.id,"steals",M.steals||0),onEditChange:le=>K({...L,steals:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Blocks",value:_t(M.blocks),editable:s,isEditing:gt&&Y==="stats"&&se==="blocks",editValue:L.blocks,onEdit:()=>Ce(M.id,"blocks",M.blocks||0),onEditChange:le=>K({...L,blocks:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Fouls",value:_t(M.fouls),editable:s,isEditing:gt&&Y==="stats"&&se==="fouls",editValue:L.fouls,onEdit:()=>Ce(M.id,"fouls",M.fouls||0),onEditChange:le=>K({...L,fouls:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"Turnovers",value:_t(M.turnovers),editable:s,isEditing:gt&&Y==="stats"&&se==="turnovers",editValue:L.turnovers,onEdit:()=>Ce(M.id,"turnovers",M.turnovers||0),onEditChange:le=>K({...L,turnovers:le}),onSave:Be,onCancel:Me,gameId:M.id}),m.jsx(Xe,{label:"A/T Ratio",value:B(_t(M.assists),_t(M.turnovers)),editable:!1})]}),m.jsx(Xfe,{badges:mn}),s&&m.jsx(ede,{gameId:M.id,photos:M.photos||[],onPhotosUpdate:i||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},M.id)}):m.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),Pe>1&&m.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>S(M=>Math.max(1,M-1)),disabled:P===1,children:"Prev"}),m.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",P," of ",Pe]}),m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>S(M=>Math.min(Pe,M+1)),disabled:P===Pe,children:"Next"})]})]})]})]}),s&&q&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",R.length," Games?"]}),m.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete ",R.length," selected game",R.length!==1?"s":"","? This cannot be undone."]}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>Q(!1),children:"Cancel"}),m.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:vl,children:["Delete ",R.length," Game",R.length!==1?"s":""]})]})]})}),s&&T&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),m.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this game? This cannot be undone."}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>O(null),children:"Cancel"}),m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{T&&(r(T),O(null))},children:"Delete"})]})]})}),s&&k&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),m.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),m.jsx("div",{className:"flex gap-4 justify-end",children:m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Ft,children:"Delete"})})]})})]})}const hde=({active:t})=>m.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function ld({user:t,onSignOut:e,setPage:n,theme:r,page:i,liveGameId:o,goToLiveGame:a,openSettingsModal:s,onSignIn:l,isUserAdmin:u=!1}){const d=!!o,f=()=>u?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80",h=()=>({}),p=()=>{d&&(i==="live_admin"&&u?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&a():a())},v=m.jsxs("button",{disabled:!d,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${d?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:p,title:d?"Watch Live Game":"No Live Game In Progress",children:[m.jsx(hde,{active:d}),m.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),y=()=>{if(!u){alert("Access denied. Only administrators can access settings.");return}s()};return m.jsx("header",{className:`${f()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,style:h(),children:m.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:`flex items-center gap-2 cursor-pointer group relative ${u?"p-1 sm:p-3 rounded-lg sm:rounded-xl bg-white dark:bg-gray-800 shadow-lg sm:shadow-xl border border-orange-200 dark:border-orange-700 hover:shadow-xl sm:hover:shadow-2xl transition-all duration-300":""}`,onClick:()=>{n(u?"game_setup":"dashboard")},children:[m.jsx("div",{className:`flex items-center justify-center text-lg ${u?"w-10 h-10":""}`,children:m.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:"🏀"})}),m.jsx("div",{className:"hidden sm:flex flex-col",children:m.jsx("span",{className:`text-lg font-bold ${u?"text-orange-600 dark:text-orange-400":"bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent"}`,children:"Sahil's Stats"})})]}),v]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("button",{onClick:y,disabled:!u,className:`flex items-center justify-center rounded-lg p-2 transition-all ${u?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:u?"Settings":"Settings (Admin Only)",children:m.jsx(Mfe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),m.jsx("button",{onClick:()=>n("dashboard"),className:`flex items-center justify-center rounded-lg p-2 transition-all ${u?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200"}`,title:"Dashboard",children:m.jsx(Bfe,{className:"h-5 w-5"})}),t&&!t.isAnonymous?m.jsx("button",{onClick:e,className:`rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all ${u?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-red-500 hover:bg-red-600 text-white"}`,title:"Sign Out",children:m.jsx(Lfe,{className:"h-5 w-5"})}):l&&m.jsx("button",{onClick:l,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:m.jsx(Dfe,{className:"h-5 w-5"})})]})]})})})}function pde({onSignIn:t}){return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:m.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx(wM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),m.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),m.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[m.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:m.jsx("strong",{children:"🏀 Welcome to Sahil's Stats!"})}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"• Anyone can view games and stats • Family admins can sign in to create and manage games • Click the basketball logo above to view the dashboard"})]}),m.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[m.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),m.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),m.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),m.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),m.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function vn({label:t,value:e,onIncrement:n,onDecrement:r}){return m.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:"−"}),m.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),m.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function ds({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),m.jsx("div",{className:"flex justify-center items-center gap-4",children:a?m.jsx(vn,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):m.jsxs(m.Fragment,{children:[m.jsx(vn,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),m.jsx(vn,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function s1({status:t}){return t==="saving"?m.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const mde=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function gde({db:t,gameId:e,user:n,onEndGame:r}){var Y,te;const[i,o]=$.useState(null),[a,s]=$.useState(""),[l,u]=$.useState(!1),[d,f]=$.useState(null),[h,p]=$.useState(0),[v,y]=$.useState(0),w=$.useRef(null),_=$.useRef(null);$.useEffect(()=>{const L=Xa(Ht(t,"liveGames",e),K=>{if(K.exists()){const se={id:K.id,...K.data()};_.current=se.period,o(se);const he=Date.now();if(se.isRunning&&se.clockStartTime){const pe=he-se.clockStartTime,be=Math.floor(pe/1e3),_e=Math.max(0,se.clockAtStart-be),oe=Math.max(0,se.clockAtStart*1e3-pe)/100;p(_e),y(oe)}else p(se.clock||0),y((se.clock||0)*10)}else o(null),p(0)});return()=>{L(),w.current&&(clearInterval(w.current),w.current=null)}},[t,e]),$.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const L=h<=60?100:1e3;w.current=setInterval(()=>{const se=Date.now()-i.clockStartTime,he=Math.floor(se/1e3),pe=Math.max(0,i.clockAtStart-he),be=Math.max(0,i.clockAtStart*1e3-se)/100;p(pe),y(be),pe<=0&&i.isRunning&&b()},L)}else w.current&&(clearInterval(w.current),w.current=null);return()=>{w.current&&(clearInterval(w.current),w.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,h,e]);const b=()=>{if(!i)return;const K=i.gameFormat==="halves"?2:4;i.period===K?Yr(Ht(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Yr(Ht(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},x=(L,K)=>{if(!i)return;const se=L==="home"?"homeScore":"awayScore";if(K<0&&i[se]<=0)return;const he={[se]:ko(K)};if(!i.isRunning){const be=Date.now();he.isRunning=!0,he.clockStartTime=be,he.clockAtStart=i.clock||i.periodLength*60}const pe=Yr(Ht(t,"liveGames",e),he);E(pe)},I=(L,K)=>{const se=Ht(t,"liveGames",e),he=i.playerStats,pe=Math.max(0,he[L]+K),be={[`playerStats.${L}`]:pe};if(!i.isRunning){const oe=Date.now();be.isRunning=!0,be.clockStartTime=oe,be.clockAtStart=i.clock||i.periodLength*60}K>0?(L==="fg2m"&&(be.homeScore=ko(2)),L==="fg3m"&&(be.homeScore=ko(3)),L==="ftm"&&(be.homeScore=ko(1))):K<0&&(L==="fg2m"&&he.fg2m>0&&(be.homeScore=ko(-2)),L==="fg3m"&&he.fg3m>0&&(be.homeScore=ko(-3)),L==="ftm"&&he.ftm>0&&(be.homeScore=ko(-1))),L==="fg2m"&&K>0&&pe>he.fg2a&&(be["playerStats.fg2a"]=pe),L==="fg2a"&&K<0&&pe<he.fg2m&&(be["playerStats.fg2m"]=pe),L==="fg3m"&&K>0&&pe>he.fg3a&&(be["playerStats.fg3a"]=pe),L==="fg3a"&&K<0&&pe<he.fg3m&&(be["playerStats.fg3m"]=pe),L==="ftm"&&K>0&&pe>he.fta&&(be["playerStats.fta"]=pe),L==="fta"&&K<0&&pe<he.ftm&&(be["playerStats.ftm"]=pe);const _e=Yr(se,be);E(_e)},E=async L=>{f("saving");try{await L,f("success")}catch{f("error")}finally{setTimeout(()=>{f(null)},1200)}},P=()=>{if(!i)return;const L=Date.now();let K;if(i.isRunning){const he=i.clockStartTime?Math.floor((L-i.clockStartTime)/1e3):0,pe=Math.max(0,i.clockAtStart-he);K={isRunning:!1,clock:pe,clockStartTime:null,clockAtStart:pe}}else K={isRunning:!0,clockStartTime:L,clockAtStart:i.clock||i.periodLength*60};const se=Yr(Ht(t,"liveGames",e),K);E(se)},S=()=>{const L=Ht(t,"liveGames",e),se=i.gameFormat==="halves"?2:4;i.period===se?typeof r=="function"&&r(e):Yr(L,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},T=()=>{const L=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(L),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const O=(L,K)=>{if(L<=59){const se=Math.floor(K/10),he=Math.floor(K%10);return`${se}.${he}`}else return`${String(Math.floor(L/60)).padStart(2,"0")}:${String(L%60).padStart(2,"0")}`},k=i.playerStats||{},C=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,U=i.period===N,W=U&&h===0&&!i.isRunning,q=W||U?"End Game":"Next",Q=h<=120||U&&h===0,F=h<=60&&h>0,G=Math.max(((Y=i.teamName)==null?void 0:Y.length)||1,((te=i.opponent)==null?void 0:te.length)||1);return m.jsxs("div",{className:"h-screen flex flex-col",children:[W&&m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[m.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),m.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(s1,{status:d})}),m.jsx("div",{className:"flex justify-center items-center text-center mb-4 text-gray-900 dark:text-white",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${F?"text-red-500 animate-pulse scale-110 font-bold":Q?"text-red-500 animate-pulse":""}`,children:O(h,v)}),m.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[C," ",i.period]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.teamName}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>x("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:"−"}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),m.jsx("button",{onClick:()=>x("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.opponent}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>x("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:"−"}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),m.jsx("button",{onClick:()=>x("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[m.jsx(mde,{isExpanded:!l}),m.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(ds,{label:"2-Pointers",madeValue:k.fg2m,attValue:k.fg2a,onStatChange:I,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(ds,{label:"3-Pointers",madeValue:k.fg3m,attValue:k.fg3a,onStatChange:I,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(ds,{label:"Free Throws",madeValue:k.ftm,attValue:k.fta,onStatChange:I,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(vn,{label:"Rebounds",value:k.rebounds,onIncrement:()=>I("rebounds",1),onDecrement:()=>I("rebounds",-1)}),m.jsx(vn,{label:"Assists",value:k.assists,onIncrement:()=>I("assists",1),onDecrement:()=>I("assists",-1)}),m.jsx(vn,{label:"Steals",value:k.steals,onIncrement:()=>I("steals",1),onDecrement:()=>I("steals",-1)}),m.jsx(vn,{label:"Blocks",value:k.blocks,onIncrement:()=>I("blocks",1),onDecrement:()=>I("blocks",-1)}),m.jsx(vn,{label:"Fouls",value:k.fouls,onIncrement:()=>I("fouls",1),onDecrement:()=>I("fouls",-1)}),m.jsx(vn,{label:"Turnovers",value:k.turnovers,onIncrement:()=>I("turnovers",1),onDecrement:()=>I("turnovers",-1)})]})]})]}),m.jsx("div",{className:"h-20"})]})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:m.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx("button",{onClick:T,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:a||m.jsx($fe,{})}),m.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:W,children:i.isRunning?"Pause":"Start"}),m.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg text-white transition-all duration-300 transform hover:scale-105 ${U?"bg-red-600 hover:bg-red-700 shadow-red-500/50 shadow-lg hover:shadow-red-500/70 hover:shadow-xl animate-pulse":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/50 shadow-lg hover:shadow-orange-500/70 hover:shadow-xl"}`,style:{boxShadow:U?"0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2)":"0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2)"},children:q})]})})})]})]})}function SI({db:t,gameId:e,user:n}){const[r,i]=$.useState(null),[o,a]=$.useState(null),[s,l]=$.useState(0),[u,d]=$.useState(0),f=$.useRef(null);if($.useEffect(()=>{if(!t||!e)return;const x=Ht(t,"liveGames",e),I=Xa(x,E=>{if(E.exists()){const P=E.data();i(P);const S=Date.now();if(P.isRunning&&P.clockStartTime){const T=S-P.clockStartTime,O=Math.floor(T/1e3),k=Math.max(0,P.clockAtStart-O),C=Math.max(0,P.clockAtStart*1e3-T)/100;l(k),d(C)}else l(P.clock||0),d((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{I(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),$.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const x=s<=60?100:1e3;f.current=setInterval(()=>{const E=Date.now()-r.clockStartTime,P=Math.floor(E/1e3),S=Math.max(0,r.clockAtStart-P),T=Math.max(0,r.clockAtStart*1e3-E)/100;l(S),d(T)},x)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[m.jsx(wM,{className:"hover:animate-spin-slow transition-transform"}),m.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const h=r.playerStats||r.sahilStats||{},v=[{label:"Points",value:(Number(h.fg2m)||0)*2+(Number(h.fg3m)||0)*3+(Number(h.ftm)||0)},{label:"2PT Made",value:h.fg2m??0},{label:"2PT Attempted",value:h.fg2a??0},{label:"3PT Made",value:h.fg3m??0},{label:"3PT Attempted",value:h.fg3a??0},{label:"FT Made",value:h.ftm??0},{label:"FT Attempted",value:h.fta??0},{label:"Assists",value:h.assists??0},{label:"Rebounds",value:h.rebounds??0},{label:"Steals",value:h.steals??0},{label:"Fouls",value:h.fouls??0}],y=(x,I)=>{if(x<=59){const E=Math.floor(I/10),P=Math.floor(I%10);return`${E}.${P}`}else return`${String(Math.floor(x/60)).padStart(2,"0")}:${String(x%60).padStart(2,"0")}`},w=r.gameFormat==="halves"?"Half":"Period",_=s<=120,b=s<=60&&s>0;return m.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"flex justify-around items-center text-center",children:[m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.teamName}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.homeScore})]}),m.jsx("div",{className:"w-1/3",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("p",{className:`text-4xl font-mono tracking-wider  text-gray-900 dark:text-white transition-all duration-300  ${b?"text-red-500 animate-pulse scale-110 font-bold":_?"text-red-500 animate-pulse":""}`,children:y(s,u)}),m.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[w," ",r.period]})]})}),m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.opponent}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.awayScore})]})]})}),m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:m.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[m.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:m.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:v.map(x=>m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[m.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:x.label}),m.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.value})]},x.label))})]})]})}function yde({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=$.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});$.useEffect(()=>{var p,v,y,w,_,b,x,I,E,P,S,T;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((v=t.playerStats)==null?void 0:v.fg2a)||0,fg3m:t.fg3m||((y=t.playerStats)==null?void 0:y.fg3m)||0,fg3a:t.fg3a||((w=t.playerStats)==null?void 0:w.fg3a)||0,ftm:t.ftm||((_=t.playerStats)==null?void 0:_.ftm)||0,fta:t.fta||((b=t.playerStats)==null?void 0:b.fta)||0,rebounds:t.rebounds||((x=t.playerStats)==null?void 0:x.rebounds)||0,assists:t.assists||((I=t.playerStats)==null?void 0:I.assists)||0,steals:t.steals||((E=t.playerStats)==null?void 0:E.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((S=t.playerStats)==null?void 0:S.fouls)||0,turnovers:t.turnovers||((T=t.playerStats)==null?void 0:T.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,d=(p,v)=>{const y=p==="home"?"myTeamScore":"opponentScore";l(w=>({...w,[y]:Math.max(0,w[y]+v)}))},f=(p,v)=>{l(y=>{const w={...y},_=Math.max(0,y[p]+v);return w[p]=_,p==="fg2m"&&_>y.fg2a&&(w.fg2a=_),p==="fg2a"&&_<y.fg2m&&(w.fg2m=_),p==="fg3m"&&_>y.fg3a&&(w.fg3a=_),p==="fg3a"&&_<y.fg3m&&(w.fg3m=_),p==="ftm"&&_>y.fta&&(w.fta=_),p==="fta"&&_<y.ftm&&(w.ftm=_),w})},h=()=>{n(s)};return t?m.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:o&&m.jsx(s1,{status:o})}),m.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>d("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),m.jsx("button",{onClick:()=>d("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>d("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),m.jsx("button",{onClick:()=>d("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(ds,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(ds,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(ds,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(vn,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),m.jsx(vn,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),m.jsx(vn,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),m.jsx(vn,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),m.jsx(vn,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),m.jsx(vn,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:m.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[m.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),m.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):m.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function vde({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:d,onDeleteAllLiveGames:f}){const[h,p]=$.useState(""),[v,y]=$.useState(""),[w,_]=$.useState(u.toString());$.useEffect(()=>{_(u.toString())},[u]);const b=Array.from(new Map(n.map(k=>[k.id,k])).values()),x=async k=>{const C=k.trim();if(!C||n.some(R=>R.name.toLowerCase()===C.toLowerCase())){y("error"),setTimeout(()=>y(""),1200);return}y("saving");try{await r(C),y("success"),p("")}catch{y("error")}setTimeout(()=>y(""),1200)},I=async k=>{y("saving");try{await i(k),y("success")}catch{y("error")}setTimeout(()=>y(""),1200)},E=async k=>{y("saving");try{await a(k),y("success")}catch(C){console.error("Error updating game format:",C),y("error")}setTimeout(()=>y(""),1200)},P=async k=>{_(k);const C=parseInt(k)||0;if(C>0){y("saving");try{await d(C),y("success")}catch(R){console.error("Error updating period length:",R),y("error")}setTimeout(()=>y(""),1200)}},S=()=>{const k=parseInt(w)||10;k!==u&&(_(k.toString()),P(k.toString()))},T=()=>{l(),y("success"),setTimeout(()=>y(""),1200)},O=async()=>{y("saving");try{await f(),y("success"),setTimeout(()=>{y(""),e()},300)}catch{y("error"),setTimeout(()=>y(""),1200)}};return t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[m.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:"×"}),m.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",m.jsx(s1,{status:v})]}),m.jsx("div",{className:"mb-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:m.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[m.jsx("div",{className:"font-medium mb-1",children:"☁️ Cross-Device Sync"}),m.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Game format and period length are now synced across all your devices automatically."})]})}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:h,onChange:k=>p(k.target.value),onKeyDown:k=>{k.key==="Enter"&&h.trim()&&x(h.trim())}}),m.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>x(h),disabled:!h.trim(),children:"Add"})]}),m.jsx("ul",{className:"space-y-2",children:b.map(k=>m.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[m.jsx("span",{children:k.name}),m.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>I(k.id),title:"Delete Team",children:m.jsx(yp,{className:"h-5 w-5"})})]},k.id))})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),m.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>E("periods")}),"Periods"]}),m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>E("halves")}),"Halves"]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),m.jsx("input",{type:"text",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24 text-gray-900 dark:text-white",value:w,onChange:k=>{_(k.target.value)},onBlur:S,onKeyDown:k=>{k.key==="Enter"&&S()},placeholder:"10"})]})]}),m.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[m.jsx("button",{onClick:T,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:s==="dark"?m.jsx(Vfe,{className:"h-6 w-6"}):m.jsx(Ffe,{className:"h-6 w-6"})}),m.jsx("button",{onClick:O,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:m.jsx(yp,{className:"h-6 w-6"})})]})]})}):null}const No={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},bde=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||No.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||No.periodLength};try{const e=Ht(Je,"userSettings",t.uid),n=await hC(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...No,gameFormat:r||No.gameFormat,periodLength:i?parseInt(i):No.periodLength};return await YF(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||No.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||No.periodLength}}},_de=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=Ht(Je,"userSettings",t.uid);return await Yr(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function wde(){const[t,e]=$.useState(null),[n,r]=$.useState(!1),[i,o]=$.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=$.useState(!0),[l,u]=$.useState(!0),[d,f]=$.useState("game_setup"),[h,p]=$.useState([]),[v,y]=$.useState([]),[w,_]=$.useState([]),[b,x]=$.useState(null),[I,E]=$.useState(null),[P,S]=$.useState(!1),[T,O]=$.useState("halves"),[k,C]=$.useState(20),[R,N]=$.useState(2),[U,W]=$.useState(!1);$.useEffect(()=>$6(qf,async B=>{if(e(B),r(co(B)),B&&co(B))try{const ne=await bde(B);O(ne.gameFormat),C(ne.periodLength),N(ne.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",ne)}catch(ne){console.error("Error loading user settings:",ne),O(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else O(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2);W(!0),s(!1)}),[]);const q=$.useCallback(async X=>{if(!n||!t){X.gameFormat&&(localStorage.setItem("gameFormat",X.gameFormat),O(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&(localStorage.setItem("periodLength",X.periodLength.toString()),C(X.periodLength));return}try{await _de(t,X),X.gameFormat&&(O(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&C(X.periodLength),console.log("Settings updated successfully across devices")}catch(B){console.error("Error updating settings:",B),alert("Failed to save settings. Please try again.")}},[t,n]);$.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const Q=$.useCallback(()=>o(X=>X==="dark"?"light":"dark"),[]);$.useEffect(()=>{if(!t)return;const X=dr(Je,"teams");return Xa(X,ne=>{p(ne.docs.map(ue=>({id:ue.id,...ue.data()})))})},[t]),$.useEffect(()=>{if(!t)return;const X=dr(Je,"games");return Xa(X,ne=>{const ue=ne.docs.map(Pe=>({id:Pe.id,...Pe.data()}));y(ue)})},[t]),$.useEffect(()=>{if(!t)return;const X=dr(Je,"stats");return Xa(X,ne=>{_(ne.docs.map(ue=>({id:ue.id,...ue.data()})))})},[t]),$.useEffect(()=>{u(!0);const X=dr(Je,"liveGames"),B=Xa(X,ne=>{ne.empty?x(null):x(ne.docs[0].id),u(!1)});return()=>B()},[d]),$.useEffect(()=>{!t&&b&&d!=="live_viewer"&&f("live_viewer")},[t,b,d]);const F=async(X,B)=>{if(!Vi(t)){Wt("update game photos");return}try{await Yr(Ht(Je,"games",X),{photos:B}),y(ne=>ne.map(ue=>ue.id===X?{...ue,photos:B}:ue))}catch(ne){console.error("Error updating game photos:",ne)}},G=$.useCallback(async X=>{if(!vp(t)){Wt("delete teams");return}await Gf(Ht(Je,"teams",X)),p(B=>B.filter(ne=>ne.id!==X))},[t]),Y=async X=>{if(!Vi(t))return Wt("add teams"),null;if(h.some(ue=>ue.name.toLowerCase()===X.toLowerCase()))return null;const ne=await Fl(dr(Je,"teams"),{name:X});return p(ue=>[...ue,{name:X,id:ne.id}]),{name:X,id:ne.id}},te=$.useCallback(async X=>{if(!Vi(t)){Wt("add games");return}const B=await Fl(dr(Je,"games"),X);y(ne=>[...ne,{...X,id:B.id}])},[t]),L=$.useCallback(async X=>{if(!Vi(t)){Wt("add statistics");return}const B=X.fg2m*2+X.fg3m*3+X.ftm;let ne="T";X.myTeamScore>X.opponentScore?ne="W":X.myTeamScore<X.opponentScore&&(ne="L");const ue={...I,...X,points:B,outcome:ne,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""},Pe=await Fl(dr(Je,"games"),ue);y(Se=>[...Se,{...ue,id:Pe.id}]),E(null),f("dashboard")},[I,t]),K=$.useCallback(async X=>{if(!vp(t)){Wt("delete games");return}await Gf(Ht(Je,"games",X)),y(B=>B.filter(ne=>ne.id!==X)),_(B=>B.filter(ne=>ne.gameId!==X))},[t]),se=$.useCallback(async(X,B)=>{if(!Vi(t)){Wt("update games");return}try{if(B.myTeamScore!==void 0&&B.opponentScore!==void 0){let ne="T";B.myTeamScore>B.opponentScore?ne="W":B.myTeamScore<B.opponentScore&&(ne="L"),B.outcome=ne}B.editedAt=new Date().toISOString(),B.editedBy=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",await Yr(Ht(Je,"games",X),B),y(ne=>ne.map(ue=>ue.id===X?{...ue,...B}:ue))}catch(ne){throw console.error("Error updating game:",ne),ne}},[t]),he=async X=>{if(!_y(t)){Wt("manage live games");return}try{const B=Ht(Je,"liveGames",X),ne=await hC(B);if(!ne.exists()){console.log("Live game not found for endGame, id:",X);return}const ue=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",Pe=ne.data(),Se=Pe.playerStats||{},Ce=Pe.homeScore??0,Me=Pe.awayScore??0;let Be="T";Ce>Me?Be="W":Ce<Me&&(Be="L");const Vt={...Pe,myTeamScore:Ce,opponentScore:Me,outcome:Be,points:(Se.fg2m??0)*2+(Se.fg3m??0)*3+(Se.ftm??0)*1,fg2m:Se.fg2m??0,fg2a:Se.fg2a??0,fg3m:Se.fg3m??0,fg3a:Se.fg3a??0,ftm:Se.ftm??0,fta:Se.fta??0,rebounds:Se.rebounds??0,assists:Se.assists??0,steals:Se.steals??0,blocks:Se.blocks??0,fouls:Se.fouls??0,turnovers:Se.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:ue,isRunning:!1},En=await Fl(dr(Je,"games"),Vt);await Gf(B),x(null),f("game_setup");const pn=dr(Je,"games"),Wr=await tE(pn);y(Wr.docs.map(ur=>({id:ur.id,...ur.data()})))}catch(B){console.error("Failed to save/end game:",B)}},pe=async()=>{if(!_y(t)){Wt("delete live games");return}const X=await tE(dr(Je,"liveGames"));for(let B of X.docs)await Gf(Ht(Je,"liveGames",B.id));x(null)},be=async()=>{try{const B=(await r5(qf,Q5)).user;if(!co(B)){await cE(qf),alert(`Access denied. Only family administrators can sign in.

Your email: ${B.email}

To view games, you can browse without signing in.`);return}}catch(X){if(console.error("Sign in error:",X),X.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},_e=async()=>{try{d==="live_admin"&&b&&n&&await he(b),await cE(qf),e(null),r(!1),f("game_setup"),x(null),y([]),_([])}catch(X){console.error("Error signing out:",X)}},oe=async(X,B)=>{if(!Vi(t)){Wt("create games");return}const ne={...X,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:B==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:k?k*60:600,period:1,gameFormat:T||"halves",periodLength:k||20,numPeriods:T==="halves"?2:4};if(B==="live"){if(!_y(t)){Wt("start live games");return}const ue=await Fl(dr(Je,"liveGames"),ne);x(ue.id),f("live_admin")}else E(ne),f("add_stat")},ge=()=>{if(!ide(t)){Wt("access settings");return}S(!0)};return a||l||!U?m.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[m.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:"🏀"}),m.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&d==="live_viewer"?b?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(ld,{user:null,db:Je,onSignOut:_e,setPage:f,theme:i,toggleTheme:Q,page:d,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:ge,onSignIn:be,isUserAdmin:!1}),m.jsx("main",{className:"flex-1",children:m.jsx(SI,{db:Je,user:null,gameId:b,setPage:f,teams:h,stats:w,games:v})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(ld,{user:null,db:Je,onSignOut:_e,setPage:f,theme:i,toggleTheme:Q,page:d,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:ge,isUserAdmin:!1}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&d!=="live_viewer"?m.jsx(pde,{onSignIn:be}):t&&!n&&(d==="game_setup"||d==="add_stat"||d==="live_admin")?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(ld,{user:t,db:Je,onSignOut:_e,setPage:f,theme:i,toggleTheme:Q,page:d,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:ge,isUserAdmin:n}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",m.jsx("span",{className:"font-medium",children:ode(t)})]}),m.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(ld,{user:t,db:Je,onSignOut:_e,setPage:f,theme:i,toggleTheme:Q,page:d,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:ge,isUserAdmin:n}),m.jsx(vde,{open:P,onClose:()=>S(!1),teams:h,onAddTeam:Y,onDeleteTeam:G,gameFormat:T,setGameFormat:X=>q({gameFormat:X}),periodLength:k,setPeriodLength:X=>q({periodLength:X}),theme:i,toggleTheme:Q,setPage:f,onDeleteAllLiveGames:pe}),m.jsxs("main",{className:"flex-1",children:[t&&n&&d==="game_setup"&&m.jsx(eB,{user:t,teams:h,stats:v,onAddTeam:Y,setPage:f,games:v,onAddGame:te,setLiveGameId:x,onSubmit:oe,gameFormat:T,periodLength:k,numPeriods:R}),t&&d==="dashboard"&&m.jsx(dde,{user:t,teams:h,games:v,stats:v,onDeleteGame:K,onDeleteTeam:G,onAddTeam:Y,onUpdateGamePhotos:F,onUpdateGame:se,isUserAdmin:n}),t&&n&&d==="add_stat"&&I&&m.jsx(yde,{gameConfig:I,isLive:!1,onSave:L,onCancel:()=>{E(null),f("game_setup")}}),t&&n&&d==="live_admin"&&b&&m.jsx(gde,{user:t,db:Je,gameId:b,setPage:f,teams:h,stats:w,games:v,onEndGame:he}),t&&d==="live_viewer"&&b&&m.jsx(SI,{db:Je,user:t,gameId:b,setPage:f,teams:h,stats:w,games:v})]})]})}xy.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(wde,{})}));
