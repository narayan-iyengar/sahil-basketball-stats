(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TI={exports:{}},xp={},AI={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),KM=Symbol.for("react.portal"),XM=Symbol.for("react.fragment"),YM=Symbol.for("react.strict_mode"),QM=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),ZM=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),tD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),e1=Symbol.iterator;function iD(t){return t===null||typeof t!="object"?null:(t=e1&&t[e1]||t["@@iterator"],typeof t=="function"?t:null)}var PI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},II=Object.assign,OI={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=OI,this.updater=n||PI}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kI(){}kI.prototype=Zs.prototype;function hb(t,e,n){this.props=t,this.context=e,this.refs=OI,this.updater=n||PI}var pb=hb.prototype=new kI;pb.constructor=hb;II(pb,Zs.prototype);pb.isPureReactComponent=!0;var t1=Array.isArray,CI=Object.prototype.hasOwnProperty,mb={current:null},NI={key:!0,ref:!0,__self:!0,__source:!0};function jI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)CI.call(e,r)&&!NI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:jc,type:t,key:o,ref:a,props:i,_owner:mb.current}}function oD(t,e){return{$$typeof:jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gb(t){return typeof t=="object"&&t!==null&&t.$$typeof===jc}function aD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n1=/\/+/g;function fg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aD(""+t.key):e.toString(36)}function dd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jc:case KM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+fg(a,0):r,t1(i)?(n="",t!=null&&(n=t.replace(n1,"$&/")+"/"),dd(i,e,n,"",function(u){return u})):i!=null&&(gb(i)&&(i=oD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(n1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",t1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+fg(o,s);a+=dd(o,e,n,l,i)}else if(l=iD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+fg(o,s++),a+=dd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pf(t,e,n){if(t==null)return t;var r=[],i=0;return dd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},hd={transition:null},lD={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:hd,ReactCurrentOwner:mb};function RI(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Pf,forEach:function(t,e,n){Pf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pf(t,function(){e++}),e},toArray:function(t){return Pf(t,function(e){return e})||[]},only:function(t){if(!gb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Zs;Ie.Fragment=XM;Ie.Profiler=QM;Ie.PureComponent=hb;Ie.StrictMode=YM;Ie.Suspense=tD;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;Ie.act=RI;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=II({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=mb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)CI.call(e,l)&&!NI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:jc,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:ZM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JM,_context:t},t.Consumer=t};Ie.createElement=jI;Ie.createFactory=function(t){var e=jI.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:eD,render:t}};Ie.isValidElement=gb;Ie.lazy=function(t){return{$$typeof:rD,_payload:{_status:-1,_result:t},_init:sD}};Ie.memo=function(t,e){return{$$typeof:nD,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=hd.transition;hd.transition={};try{t()}finally{hd.transition=e}};Ie.unstable_act=RI;Ie.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ie.useContext=function(t){return Sn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ie.useId=function(){return Sn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ie.useRef=function(t){return Sn.current.useRef(t)};Ie.useState=function(t){return Sn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Sn.current.useTransition()};Ie.version="18.3.1";AI.exports=Ie;var D=AI.exports;const $=Qe(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=D,cD=Symbol.for("react.element"),fD=Symbol.for("react.fragment"),dD=Object.prototype.hasOwnProperty,hD=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pD={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dD.call(e,r)&&!pD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cD,type:t,key:o,ref:a,props:i,_owner:hD.current}}xp.Fragment=fD;xp.jsx=MI;xp.jsxs=MI;TI.exports=xp;var m=TI.exports,Ty={},DI={exports:{}},Gn={},$I={exports:{}},LI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var Y=V.length;V.push(q);e:for(;0<Y;){var ne=Y-1>>>1,B=V[ne];if(0<i(B,q))V[ne]=q,V[Y]=B,Y=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],Y=V.pop();if(Y!==q){V[0]=Y;e:for(var ne=0,B=V.length,Q=B>>>1;ne<Q;){var Z=2*(ne+1)-1,le=V[Z],ce=Z+1,be=V[ce];if(0>i(le,Y))ce<B&&0>i(be,le)?(V[ne]=be,V[ce]=Y,ne=ce):(V[ne]=le,V[Z]=Y,ne=Z);else if(ce<B&&0>i(be,Y))V[ne]=be,V[ce]=Y,ne=ce;else break e}}return q}function i(V,q){var Y=V.sortIndex-q.sortIndex;return Y!==0?Y:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function k(V){if(v=!1,x(V),!g)if(n(l)!==null)g=!0,G(T);else{var q=n(u);q!==null&&X(k,q.startTime-V)}}function T(V,q){g=!1,v&&(v=!1,w(E),E=-1),p=!0;var Y=h;try{for(x(q),f=n(l);f!==null&&(!(f.expirationTime>q)||V&&!O());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var B=ne(f.expirationTime<=q);q=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),x(q)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var Z=n(u);Z!==null&&X(k,Z.startTime-q),Q=!1}return Q}finally{f=null,h=Y,p=!1}}var P=!1,S=null,E=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function j(){if(S!==null){var V=t.unstable_now();C=V;var q=!0;try{q=S(!0,V)}finally{q?N():(P=!1,S=null)}}else P=!1}var N;if(typeof _=="function")N=function(){_(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=j,N=function(){z.postMessage(null)}}else N=function(){b(j,0)};function G(V){S=V,P||(P=!0,N())}function X(V,q){E=b(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,G(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var Y=h;h=q;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return q()}finally{h=Y}},t.unstable_scheduleCallback=function(V,q,Y){var ne=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Y+B,V={id:d++,callback:q,priorityLevel:V,startTime:Y,expirationTime:B,sortIndex:-1},Y>ne?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(v?(w(E),E=-1):v=!0,X(k,Y-ne))):(V.sortIndex=B,e(l,V),g||p||(g=!0,G(T))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var q=h;return function(){var Y=h;h=q;try{return V.apply(this,arguments)}finally{h=Y}}}})(LI);$I.exports=LI;var mD=$I.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=D,zn=mD;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VI=new Set,Au={};function ya(t,e){ps(t,e),ps(t+"Capture",e)}function ps(t,e){for(Au[t]=e,t=0;t<e.length;t++)VI.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,yD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},i1={};function vD(t){return Ay.call(i1,t)?!0:Ay.call(r1,t)?!1:yD.test(t)?i1[t]=!0:(r1[t]=!0,!1)}function bD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _D(t,e,n,r){if(e===null||typeof e>"u"||bD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var yb=/[\-:]([a-z])/g;function vb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yb,vb);Zt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yb,vb);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yb,vb);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function bb(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_D(e,n,i,r)&&(n=null),r||i===null?vD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,If=Symbol.for("react.element"),La=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),BI=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),UI=Symbol.for("react.offscreen"),o1=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,dg;function Jl(t){if(dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dg=e&&e[1]||""}return`
`+dg+t}var hg=!1;function pg(t,e){if(!t||hg)return"";hg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{hg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function wD(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=pg(t.type,!1),t;case 11:return t=pg(t.type.render,!1),t;case 1:return t=pg(t.type,!0),t;default:return""}}function ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case La:return"Portal";case Py:return"Profiler";case _b:return"StrictMode";case Iy:return"Suspense";case Oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BI:return(t.displayName||"Context")+".Consumer";case FI:return(t._context.displayName||"Context")+".Provider";case wb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xb:return e=t.displayName||null,e!==null?e:ky(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return ky(t(e))}catch{}}return null}function xD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(e);case 8:return e===_b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SD(t){var e=zI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Of(t){t._valueTracker||(t._valueTracker=SD(t))}function WI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cy(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GI(t,e){e=e.checked,e!=null&&bb(t,"checked",e,!1)}function Ny(t,e){GI(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jy(t,e.type,n):e.hasOwnProperty("defaultValue")&&jy(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jy(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ry(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Zl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function HI(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function My(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,KI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ED=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){ED.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function XI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function YI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TD=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(t,e){if(e){if(TD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function $y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=null;function Sb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vy=null,ts=null,ns=null;function c1(t){if(t=Dc(t)){if(typeof Vy!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Pp(e),Vy(t.stateNode,t.type,e))}}function QI(t){ts?ns?ns.push(t):ns=[t]:ts=t}function JI(){if(ts){var t=ts,e=ns;if(ns=ts=null,c1(t),e)for(t=0;t<e.length;t++)c1(e[t])}}function ZI(t,e){return t(e)}function eO(){}var mg=!1;function tO(t,e,n){if(mg)return t(e,n);mg=!0;try{return ZI(t,e,n)}finally{mg=!1,(ts!==null||ns!==null)&&(eO(),JI())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Pp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Fy=!1;if(pi)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Fy=!1}function AD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var lu=!1,Md=null,Dd=!1,By=null,PD={onError:function(t){lu=!0,Md=t}};function ID(t,e,n,r,i,o,a,s,l){lu=!1,Md=null,AD.apply(PD,arguments)}function OD(t,e,n,r,i,o,a,s,l){if(ID.apply(this,arguments),lu){if(lu){var u=Md;lu=!1,Md=null}else throw Error(te(198));Dd||(Dd=!0,By=u)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f1(t){if(va(t)!==t)throw Error(te(188))}function kD(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return f1(i),t;if(o===r)return f1(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function rO(t){return t=kD(t),t!==null?iO(t):null}function iO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iO(t);if(e!==null)return e;t=t.sibling}return null}var oO=zn.unstable_scheduleCallback,d1=zn.unstable_cancelCallback,CD=zn.unstable_shouldYield,ND=zn.unstable_requestPaint,bt=zn.unstable_now,jD=zn.unstable_getCurrentPriorityLevel,Eb=zn.unstable_ImmediatePriority,aO=zn.unstable_UserBlockingPriority,$d=zn.unstable_NormalPriority,RD=zn.unstable_LowPriority,sO=zn.unstable_IdlePriority,Sp=null,jr=null;function MD(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Sp,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:LD,DD=Math.log,$D=Math.LN2;function LD(t){return t>>>=0,t===0?32:31-(DD(t)/$D|0)|0}var Cf=64,Nf=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=eu(s):(o&=a,o!==0&&(r=eu(o)))}else a=n&~i,a!==0?r=eu(a):o!==0&&(r=eu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),i=1<<n,r|=t[n],e&=~i;return r}function VD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Sr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=VD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Uy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lO(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function gg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function BD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Tb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function uO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cO,Ab,fO,dO,hO,zy=!1,jf=[],Yi=null,Qi=null,Ji=null,Ou=new Map,ku=new Map,Fi=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function Rl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dc(e),e!==null&&Ab(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zD(t,e,n,r,i){switch(e){case"focusin":return Yi=Rl(Yi,t,e,n,r,i),!0;case"dragenter":return Qi=Rl(Qi,t,e,n,r,i),!0;case"mouseover":return Ji=Rl(Ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ou.set(o,Rl(Ou.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ku.set(o,Rl(ku.get(o)||null,t,e,n,r,i)),!0}return!1}function pO(t){var e=Fo(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=nO(n),e!==null){t.blockedOn=e,hO(t.priority,function(){fO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ly=r,n.target.dispatchEvent(r),Ly=null}else return e=Dc(n),e!==null&&Ab(e),t.blockedOn=n,!1;e.shift()}return!0}function p1(t,e,n){pd(t)&&n.delete(e)}function WD(){zy=!1,Yi!==null&&pd(Yi)&&(Yi=null),Qi!==null&&pd(Qi)&&(Qi=null),Ji!==null&&pd(Ji)&&(Ji=null),Ou.forEach(p1),ku.forEach(p1)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,zy||(zy=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,WD)))}function Cu(t){function e(i){return Ml(i,t)}if(0<jf.length){Ml(jf[0],t);for(var n=1;n<jf.length;n++){var r=jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&Ml(Yi,t),Qi!==null&&Ml(Qi,t),Ji!==null&&Ml(Ji,t),Ou.forEach(e),ku.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)pO(n),n.blockedOn===null&&Fi.shift()}var rs=Ai.ReactCurrentBatchConfig,Vd=!0;function GD(t,e,n,r){var i=ze,o=rs.transition;rs.transition=null;try{ze=1,Pb(t,e,n,r)}finally{ze=i,rs.transition=o}}function HD(t,e,n,r){var i=ze,o=rs.transition;rs.transition=null;try{ze=4,Pb(t,e,n,r)}finally{ze=i,rs.transition=o}}function Pb(t,e,n,r){if(Vd){var i=Wy(t,e,n,r);if(i===null)Ag(t,e,r,Fd,n),h1(t,r);else if(zD(i,t,e,n,r))r.stopPropagation();else if(h1(t,r),e&4&&-1<UD.indexOf(t)){for(;i!==null;){var o=Dc(i);if(o!==null&&cO(o),o=Wy(t,e,n,r),o===null&&Ag(t,e,r,Fd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ag(t,e,r,null,n)}}var Fd=null;function Wy(t,e,n,r){if(Fd=null,t=Sb(r),t=Fo(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function mO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jD()){case Eb:return 1;case aO:return 4;case $d:case RD:return 16;case sO:return 536870912;default:return 16}default:return 16}}var Hi=null,Ib=null,md=null;function gO(){if(md)return md;var t,e=Ib,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return md=i.slice(t,1<r?1-r:void 0)}function gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function m1(){return!1}function Hn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rf:m1,this.isPropagationStopped=m1,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ob=Hn(el),Mc=ht({},el,{view:0,detail:0}),qD=Hn(Mc),yg,vg,Dl,Ep=ht({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(yg=t.screenX-Dl.screenX,vg=t.screenY-Dl.screenY):vg=yg=0,Dl=t),yg)},movementY:function(t){return"movementY"in t?t.movementY:vg}}),g1=Hn(Ep),KD=ht({},Ep,{dataTransfer:0}),XD=Hn(KD),YD=ht({},Mc,{relatedTarget:0}),bg=Hn(YD),QD=ht({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=Hn(QD),ZD=ht({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e$=Hn(ZD),t$=ht({},el,{data:0}),y1=Hn(t$),n$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i$[t])?!!e[t]:!1}function kb(){return o$}var a$=ht({},Mc,{key:function(t){if(t.key){var e=n$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(t){return t.type==="keypress"?gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s$=Hn(a$),l$=ht({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=Hn(l$),u$=ht({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),c$=Hn(u$),f$=ht({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),d$=Hn(f$),h$=ht({},Ep,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p$=Hn(h$),m$=[9,13,27,32],Cb=pi&&"CompositionEvent"in window,uu=null;pi&&"documentMode"in document&&(uu=document.documentMode);var g$=pi&&"TextEvent"in window&&!uu,yO=pi&&(!Cb||uu&&8<uu&&11>=uu),b1=String.fromCharCode(32),_1=!1;function vO(t,e){switch(t){case"keyup":return m$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function y$(t,e){switch(t){case"compositionend":return bO(e);case"keypress":return e.which!==32?null:(_1=!0,b1);case"textInput":return t=e.data,t===b1&&_1?null:t;default:return null}}function v$(t,e){if(Fa)return t==="compositionend"||!Cb&&vO(t,e)?(t=gO(),md=Ib=Hi=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yO&&e.locale!=="ko"?null:e.data;default:return null}}var b$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b$[t.type]:e==="textarea"}function _O(t,e,n,r){QI(r),e=Bd(e,"onChange"),0<e.length&&(n=new Ob("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cu=null,Nu=null;function _$(t){CO(t,0)}function Tp(t){var e=za(t);if(WI(e))return t}function w$(t,e){if(t==="change")return e}var wO=!1;if(pi){var _g;if(pi){var wg="oninput"in document;if(!wg){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),wg=typeof x1.oninput=="function"}_g=wg}else _g=!1;wO=_g&&(!document.documentMode||9<document.documentMode)}function S1(){cu&&(cu.detachEvent("onpropertychange",xO),Nu=cu=null)}function xO(t){if(t.propertyName==="value"&&Tp(Nu)){var e=[];_O(e,Nu,t,Sb(t)),tO(_$,e)}}function x$(t,e,n){t==="focusin"?(S1(),cu=e,Nu=n,cu.attachEvent("onpropertychange",xO)):t==="focusout"&&S1()}function S$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tp(Nu)}function E$(t,e){if(t==="click")return Tp(e)}function T$(t,e){if(t==="input"||t==="change")return Tp(e)}function A$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:A$;function ju(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function SO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EO(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P$(t){var e=EO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SO(n.ownerDocument.documentElement,n)){if(r!==null&&Nb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=T1(n,o);var a=T1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I$=pi&&"documentMode"in document&&11>=document.documentMode,Ba=null,Gy=null,fu=null,Hy=!1;function A1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hy||Ba==null||Ba!==Rd(r)||(r=Ba,"selectionStart"in r&&Nb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ju(fu,r)||(fu=r,r=Bd(Gy,"onSelect"),0<r.length&&(e=new Ob("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ba)))}function Mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ua={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},xg={},TO={};pi&&(TO=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Ap(t){if(xg[t])return xg[t];if(!Ua[t])return t;var e=Ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TO)return xg[t]=e[n];return t}var AO=Ap("animationend"),PO=Ap("animationiteration"),IO=Ap("animationstart"),OO=Ap("transitionend"),kO=new Map,P1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(t,e){kO.set(t,e),ya(e,[t])}for(var Sg=0;Sg<P1.length;Sg++){var Eg=P1[Sg],O$=Eg.toLowerCase(),k$=Eg[0].toUpperCase()+Eg.slice(1);yo(O$,"on"+k$)}yo(AO,"onAnimationEnd");yo(PO,"onAnimationIteration");yo(IO,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(OO,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C$=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function I1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OD(r,e,void 0,t),t.currentTarget=null}function CO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}}}if(Dd)throw t=By,Dd=!1,By=null,t}function rt(t,e){var n=e[Qy];n===void 0&&(n=e[Qy]=new Set);var r=t+"__bubble";n.has(r)||(NO(e,t,2,!1),n.add(r))}function Tg(t,e,n){var r=0;e&&(r|=4),NO(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Df]){t[Df]=!0,VI.forEach(function(n){n!=="selectionchange"&&(C$.has(n)||Tg(n,!1,t),Tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,Tg("selectionchange",!1,e))}}function NO(t,e,n,r){switch(mO(e)){case 1:var i=GD;break;case 4:i=HD;break;default:i=Pb}n=i.bind(null,e,n,t),i=void 0,!Fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ag(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}tO(function(){var u=o,d=Sb(n),f=[];e:{var h=kO.get(t);if(h!==void 0){var p=Ob,g=t;switch(t){case"keypress":if(gd(n)===0)break e;case"keydown":case"keyup":p=s$;break;case"focusin":g="focus",p=bg;break;case"focusout":g="blur",p=bg;break;case"beforeblur":case"afterblur":p=bg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=c$;break;case AO:case PO:case IO:p=JD;break;case OO:p=d$;break;case"scroll":p=qD;break;case"wheel":p=p$;break;case"copy":case"cut":case"paste":p=e$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=v1}var v=(e&4)!==0,b=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,x;_!==null;){x=_;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,w!==null&&(k=Iu(_,w),k!=null&&v.push(Mu(_,k,x)))),b)break;_=_.return}0<v.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ly&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[mi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Fo(g):null,g!==null&&(b=va(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=g1,k="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=v1,k="onPointerLeave",w="onPointerEnter",_="pointer"),b=p==null?h:za(p),x=g==null?h:za(g),h=new v(k,_+"leave",p,n,d),h.target=b,h.relatedTarget=x,k=null,Fo(d)===u&&(v=new v(w,_+"enter",g,n,d),v.target=x,v.relatedTarget=b,k=v),b=k,p&&g)t:{for(v=p,w=g,_=0,x=v;x;x=ka(x))_++;for(x=0,k=w;k;k=ka(k))x++;for(;0<_-x;)v=ka(v),_--;for(;0<x-_;)w=ka(w),x--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=ka(v),w=ka(w)}v=null}else v=null;p!==null&&O1(f,h,p,v,!1),g!==null&&b!==null&&O1(f,b,g,v,!0)}}e:{if(h=u?za(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=w$;else if(w1(h))if(wO)T=T$;else{T=S$;var P=x$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=E$);if(T&&(T=T(t,u))){_O(f,T,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&jy(h,"number",h.value)}switch(P=u?za(u):window,t){case"focusin":(w1(P)||P.contentEditable==="true")&&(Ba=P,Gy=u,fu=null);break;case"focusout":fu=Gy=Ba=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,A1(f,n,d);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":A1(f,n,d)}var S;if(Cb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Fa?vO(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yO&&n.locale!=="ko"&&(Fa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Fa&&(S=gO()):(Hi=d,Ib="value"in Hi?Hi.value:Hi.textContent,Fa=!0)),P=Bd(u,E),0<P.length&&(E=new y1(E,t,null,n,d),f.push({event:E,listeners:P}),S?E.data=S:(S=bO(n),S!==null&&(E.data=S)))),(S=g$?y$(t,n):v$(t,n))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(d=new y1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}CO(f,e)})}function Mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Iu(t,n),o!=null&&r.unshift(Mu(t,o,i)),o=Iu(t,e),o!=null&&r.push(Mu(t,o,i))),t=t.return}return r}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O1(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Iu(n,o),l!=null&&a.unshift(Mu(n,l,s))):i||(l=Iu(n,o),l!=null&&a.push(Mu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var N$=/\r\n?/g,j$=/\u0000|\uFFFD/g;function k1(t){return(typeof t=="string"?t:""+t).replace(N$,`
`).replace(j$,"")}function $f(t,e,n){if(e=k1(e),k1(t)!==e&&n)throw Error(te(425))}function Ud(){}var qy=null,Ky=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,R$=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,M$=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(t){return C1.resolve(null).then(t).catch(D$)}:Yy;function D$(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Cr="__reactFiber$"+tl,Du="__reactProps$"+tl,mi="__reactContainer$"+tl,Qy="__reactEvents$"+tl,$$="__reactListeners$"+tl,L$="__reactHandles$"+tl;function Fo(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N1(t);t!==null;){if(n=t[Cr])return n;t=N1(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[Cr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Pp(t){return t[Du]||null}var Jy=[],Wa=-1;function vo(t){return{current:t}}function at(t){0>Wa||(t.current=Jy[Wa],Jy[Wa]=null,Wa--)}function et(t,e){Wa++,Jy[Wa]=t.current,t.current=e}var ho={},pn=vo(ho),On=vo(!1),na=ho;function ms(t,e){var n=t.type.contextTypes;if(!n)return ho;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function zd(){at(On),at(pn)}function j1(t,e,n){if(pn.current!==ho)throw Error(te(168));et(pn,e),et(On,n)}function jO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,xD(t)||"Unknown",i));return ht({},n,r)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ho,na=pn.current,et(pn,t),et(On,On.current),!0}function R1(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=jO(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,at(On),at(pn),et(pn,t)):at(On),et(On,n)}var Yr=null,Ip=!1,Ig=!1;function RO(t){Yr===null?Yr=[t]:Yr.push(t)}function V$(t){Ip=!0,RO(t)}function bo(){if(!Ig&&Yr!==null){Ig=!0;var t=0,e=ze;try{var n=Yr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,Ip=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),oO(Eb,bo),i}finally{ze=e,Ig=!1}}return null}var Ga=[],Ha=0,Gd=null,Hd=0,Yn=[],Qn=0,ra=null,Zr=1,ei="";function Ro(t,e){Ga[Ha++]=Hd,Ga[Ha++]=Gd,Gd=t,Hd=e}function MO(t,e,n){Yn[Qn++]=Zr,Yn[Qn++]=ei,Yn[Qn++]=ra,ra=t;var r=Zr;t=ei;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var o=32-Sr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zr=1<<32-Sr(e)+i|n<<i|r,ei=o+t}else Zr=1<<o|n<<i|r,ei=t}function jb(t){t.return!==null&&(Ro(t,1),MO(t,1,0))}function Rb(t){for(;t===Gd;)Gd=Ga[--Ha],Ga[Ha]=null,Hd=Ga[--Ha],Ga[Ha]=null;for(;t===ra;)ra=Yn[--Qn],Yn[Qn]=null,ei=Yn[--Qn],Yn[Qn]=null,Zr=Yn[--Qn],Yn[Qn]=null}var Un=null,Fn=null,st=!1,br=null;function DO(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Fn=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Zr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Fn=null,!0):!1;default:return!1}}function Zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ev(t){if(st){var e=Fn;if(e){var n=e;if(!M1(t,e)){if(Zy(t))throw Error(te(418));e=Zi(n.nextSibling);var r=Un;e&&M1(t,e)?DO(r,n):(t.flags=t.flags&-4097|2,st=!1,Un=t)}}else{if(Zy(t))throw Error(te(418));t.flags=t.flags&-4097|2,st=!1,Un=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Lf(t){if(t!==Un)return!1;if(!st)return D1(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Fn)){if(Zy(t))throw $O(),Error(te(418));for(;e;)DO(t,e),e=Zi(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Un?Zi(t.stateNode.nextSibling):null;return!0}function $O(){for(var t=Fn;t;)t=Zi(t.nextSibling)}function gs(){Fn=Un=null,st=!1}function Mb(t){br===null?br=[t]:br.push(t)}var F$=Ai.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $1(t){var e=t._init;return e(t._payload)}function LO(t){function e(w,_){if(t){var x=w.deletions;x===null?(w.deletions=[_],w.flags|=16):x.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=ro(w,_),w.index=0,w.sibling=null,w}function o(w,_,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<_?(w.flags|=2,_):x):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,_,x,k){return _===null||_.tag!==6?(_=Mg(x,w.mode,k),_.return=w,_):(_=i(_,x),_.return=w,_)}function l(w,_,x,k){var T=x.type;return T===Va?d(w,_,x.props.children,k,x.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&$1(T)===_.type)?(k=i(_,x.props),k.ref=$l(w,_,x),k.return=w,k):(k=Sd(x.type,x.key,x.props,null,w.mode,k),k.ref=$l(w,_,x),k.return=w,k)}function u(w,_,x,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Dg(x,w.mode,k),_.return=w,_):(_=i(_,x.children||[]),_.return=w,_)}function d(w,_,x,k,T){return _===null||_.tag!==7?(_=Yo(x,w.mode,k,T),_.return=w,_):(_=i(_,x),_.return=w,_)}function f(w,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Mg(""+_,w.mode,x),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case If:return x=Sd(_.type,_.key,_.props,null,w.mode,x),x.ref=$l(w,null,_),x.return=w,x;case La:return _=Dg(_,w.mode,x),_.return=w,_;case Di:var k=_._init;return f(w,k(_._payload),x)}if(Zl(_)||Nl(_))return _=Yo(_,w.mode,x,null),_.return=w,_;Vf(w,_)}return null}function h(w,_,x,k){var T=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(w,_,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case If:return x.key===T?l(w,_,x,k):null;case La:return x.key===T?u(w,_,x,k):null;case Di:return T=x._init,h(w,_,T(x._payload),k)}if(Zl(x)||Nl(x))return T!==null?null:d(w,_,x,k,null);Vf(w,x)}return null}function p(w,_,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(x)||null,s(_,w,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case If:return w=w.get(k.key===null?x:k.key)||null,l(_,w,k,T);case La:return w=w.get(k.key===null?x:k.key)||null,u(_,w,k,T);case Di:var P=k._init;return p(w,_,x,P(k._payload),T)}if(Zl(k)||Nl(k))return w=w.get(x)||null,d(_,w,k,T,null);Vf(_,k)}return null}function g(w,_,x,k){for(var T=null,P=null,S=_,E=_=0,I=null;S!==null&&E<x.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var C=h(w,S,x[E],k);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(w,S),_=o(C,_,E),P===null?T=C:P.sibling=C,P=C,S=I}if(E===x.length)return n(w,S),st&&Ro(w,E),T;if(S===null){for(;E<x.length;E++)S=f(w,x[E],k),S!==null&&(_=o(S,_,E),P===null?T=S:P.sibling=S,P=S);return st&&Ro(w,E),T}for(S=r(w,S);E<x.length;E++)I=p(S,w,E,x[E],k),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),_=o(I,_,E),P===null?T=I:P.sibling=I,P=I);return t&&S.forEach(function(O){return e(w,O)}),st&&Ro(w,E),T}function v(w,_,x,k){var T=Nl(x);if(typeof T!="function")throw Error(te(150));if(x=T.call(x),x==null)throw Error(te(151));for(var P=T=null,S=_,E=_=0,I=null,C=x.next();S!==null&&!C.done;E++,C=x.next()){S.index>E?(I=S,S=null):I=S.sibling;var O=h(w,S,C.value,k);if(O===null){S===null&&(S=I);break}t&&S&&O.alternate===null&&e(w,S),_=o(O,_,E),P===null?T=O:P.sibling=O,P=O,S=I}if(C.done)return n(w,S),st&&Ro(w,E),T;if(S===null){for(;!C.done;E++,C=x.next())C=f(w,C.value,k),C!==null&&(_=o(C,_,E),P===null?T=C:P.sibling=C,P=C);return st&&Ro(w,E),T}for(S=r(w,S);!C.done;E++,C=x.next())C=p(S,w,E,C.value,k),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),_=o(C,_,E),P===null?T=C:P.sibling=C,P=C);return t&&S.forEach(function(j){return e(w,j)}),st&&Ro(w,E),T}function b(w,_,x,k){if(typeof x=="object"&&x!==null&&x.type===Va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case If:e:{for(var T=x.key,P=_;P!==null;){if(P.key===T){if(T=x.type,T===Va){if(P.tag===7){n(w,P.sibling),_=i(P,x.props.children),_.return=w,w=_;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&$1(T)===P.type){n(w,P.sibling),_=i(P,x.props),_.ref=$l(w,P,x),_.return=w,w=_;break e}n(w,P);break}else e(w,P);P=P.sibling}x.type===Va?(_=Yo(x.props.children,w.mode,k,x.key),_.return=w,w=_):(k=Sd(x.type,x.key,x.props,null,w.mode,k),k.ref=$l(w,_,x),k.return=w,w=k)}return a(w);case La:e:{for(P=x.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(w,_.sibling),_=i(_,x.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Dg(x,w.mode,k),_.return=w,w=_}return a(w);case Di:return P=x._init,b(w,_,P(x._payload),k)}if(Zl(x))return g(w,_,x,k);if(Nl(x))return v(w,_,x,k);Vf(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,x),_.return=w,w=_):(n(w,_),_=Mg(x,w.mode,k),_.return=w,w=_),a(w)):n(w,_)}return b}var ys=LO(!0),VO=LO(!1),qd=vo(null),Kd=null,qa=null,Db=null;function $b(){Db=qa=Kd=null}function Lb(t){var e=qd.current;at(qd),t._currentValue=e}function tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function is(t,e){Kd=t,Db=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(Db!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(Kd===null)throw Error(te(308));qa=t,Kd.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Bo=null;function Vb(t){Bo===null?Bo=[t]:Bo.push(t)}function FO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vb(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Fb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vb(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tb(t,n)}}function L1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:$i=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);oa|=a,t.lanes=a,t.memoizedState=f}}function V1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var $c={},Rr=vo($c),$u=vo($c),Lu=vo($c);function Uo(t){if(t===$c)throw Error(te(174));return t}function Bb(t,e){switch(et(Lu,e),et($u,t),et(Rr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:My(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=My(e,t)}at(Rr),et(Rr,e)}function vs(){at(Rr),at($u),at(Lu)}function UO(t){Uo(Lu.current);var e=Uo(Rr.current),n=My(e,t.type);e!==n&&(et($u,t),et(Rr,n))}function Ub(t){$u.current===t&&(at(Rr),at($u))}var ft=vo(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Og=[];function zb(){for(var t=0;t<Og.length;t++)Og[t]._workInProgressVersionPrimary=null;Og.length=0}var vd=Ai.ReactCurrentDispatcher,kg=Ai.ReactCurrentBatchConfig,ia=0,dt=null,Ot=null,Lt=null,Qd=!1,du=!1,Vu=0,B$=0;function on(){throw Error(te(321))}function Wb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function Gb(t,e,n,r,i,o){if(ia=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vd.current=t===null||t.memoizedState===null?G$:H$,t=n(r,i),du){o=0;do{if(du=!1,Vu=0,25<=o)throw Error(te(301));o+=1,Lt=Ot=null,e.updateQueue=null,vd.current=q$,t=n(r,i)}while(du)}if(vd.current=Jd,e=Ot!==null&&Ot.next!==null,ia=0,Lt=Ot=dt=null,Qd=!1,e)throw Error(te(300));return t}function Hb(){var t=Vu!==0;return Vu=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?dt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function or(){if(Ot===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?dt.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?dt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Fu(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((ia&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,dt.lanes|=d,oa|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ar(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,oa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ng(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ar(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function zO(){}function WO(t,e){var n=dt,r=or(),i=e(),o=!Ar(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,qb(qO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,Bu(9,HO.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(te(349));ia&30||GO(n,e,i)}return i}function GO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HO(t,e,n,r){e.value=n,e.getSnapshot=r,KO(e)&&XO(t)}function qO(t,e,n){return n(function(){KO(e)&&XO(t)})}function KO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function XO(t){var e=gi(t,1);e!==null&&Er(e,t,1,-1)}function F1(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=W$.bind(null,dt,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YO(){return or().memoizedState}function bd(t,e,n,r){var i=Or();dt.flags|=t,i.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function Op(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var a=Ot.memoizedState;if(o=a.destroy,r!==null&&Wb(r,a.deps)){i.memoizedState=Bu(e,n,o,r);return}}dt.flags|=t,i.memoizedState=Bu(1|e,n,o,r)}function B1(t,e){return bd(8390656,8,t,e)}function qb(t,e){return Op(2048,8,t,e)}function QO(t,e){return Op(4,2,t,e)}function JO(t,e){return Op(4,4,t,e)}function ZO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ek(t,e,n){return n=n!=null?n.concat([t]):null,Op(4,4,ZO.bind(null,e,t),n)}function Kb(){}function tk(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nk(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rk(t,e,n){return ia&21?(Ar(n,e)||(n=lO(),dt.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function U$(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=kg.transition;kg.transition={};try{t(!1),e()}finally{ze=n,kg.transition=r}}function ik(){return or().memoizedState}function z$(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ok(t))ak(e,n);else if(n=FO(t,e,n,r),n!==null){var i=wn();Er(n,t,r,i),sk(n,e,r)}}function W$(t,e,n){var r=no(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ok(t))ak(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,a)){var l=e.interleaved;l===null?(i.next=i,Vb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FO(t,e,i,r),n!==null&&(i=wn(),Er(n,t,r,i),sk(n,e,r))}}function ok(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function ak(t,e){du=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tb(t,n)}}var Jd={readContext:ir,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},G$={readContext:ir,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:B1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bd(4194308,4,ZO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z$.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:F1,useDebugValue:Kb,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=F1(!1),e=t[0];return t=U$.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=Or();if(st){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Vt===null)throw Error(te(349));ia&30||GO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,B1(qO.bind(null,r,o,t),[t]),r.flags|=2048,Bu(9,HO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Or(),e=Vt.identifierPrefix;if(st){var n=ei,r=Zr;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H$={readContext:ir,useCallback:tk,useContext:ir,useEffect:qb,useImperativeHandle:ek,useInsertionEffect:QO,useLayoutEffect:JO,useMemo:nk,useReducer:Cg,useRef:YO,useState:function(){return Cg(Fu)},useDebugValue:Kb,useDeferredValue:function(t){var e=or();return rk(e,Ot.memoizedState,t)},useTransition:function(){var t=Cg(Fu)[0],e=or().memoizedState;return[t,e]},useMutableSource:zO,useSyncExternalStore:WO,useId:ik,unstable_isNewReconciler:!1},q$={readContext:ir,useCallback:tk,useContext:ir,useEffect:qb,useImperativeHandle:ek,useInsertionEffect:QO,useLayoutEffect:JO,useMemo:nk,useReducer:Ng,useRef:YO,useState:function(){return Ng(Fu)},useDebugValue:Kb,useDeferredValue:function(t){var e=or();return Ot===null?e.memoizedState=t:rk(e,Ot.memoizedState,t)},useTransition:function(){var t=Ng(Fu)[0],e=or().memoizedState;return[t,e]},useMutableSource:zO,useSyncExternalStore:WO,useId:ik,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kp={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),i=no(t),o=li(r,i);o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Er(e,t,i,r),yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),i=no(t),o=li(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Er(e,t,i,r),yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=no(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,r),e!==null&&(Er(e,t,r,n),yd(e,t,r))}};function U1(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(i,o):!0}function lk(t,e,n){var r=!1,i=ho,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=kn(e)?na:pn.current,r=e.contextTypes,o=(r=r!=null)?ms(t,i):ho),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kp.enqueueReplaceState(e,e.state,null)}function rv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=kn(e)?na:pn.current,i.context=ms(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(nv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kp.enqueueReplaceState(i,i.state,null),Xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=wD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K$=typeof WeakMap=="function"?WeakMap:Map;function uk(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,pv=r),iv(t,e)},n}function ck(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lL.bind(null,t,e,n),e.then(t,t))}function G1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var X$=Ai.ReactCurrentOwner,Pn=!1;function vn(t,e,n,r){e.child=t===null?VO(e,null,n,r):ys(e,t.child,n,r)}function q1(t,e,n,r,i){n=n.render;var o=e.ref;return is(e,i),r=Gb(t,e,n,r,o,i),n=Hb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(st&&n&&jb(e),e.flags|=1,vn(t,e,r,i),e.child)}function K1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!n_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fk(t,e,o,r,i)):(t=Sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(a,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=ro(o,r),t.ref=e.ref,t.return=e,e.child=t}function fk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ju(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return ov(t,e,n,r,i)}function dk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Xa,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Xa,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Xa,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Xa,$n),$n|=r;return vn(t,e,i,n),e.child}function hk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,n,r,i){var o=kn(n)?na:pn.current;return o=ms(e,o),is(e,i),n=Gb(t,e,n,r,o,i),r=Hb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(st&&r&&jb(e),e.flags|=1,vn(t,e,n,i),e.child)}function X1(t,e,n,r,i){if(kn(n)){var o=!0;Wd(e)}else o=!1;if(is(e,i),e.stateNode===null)_d(t,e),lk(e,n,r),rv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=kn(n)?na:pn.current,u=ms(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&z1(e,a,r,u),$i=!1;var h=e.memoizedState;a.state=h,Xd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||On.current||$i?(typeof d=="function"&&(nv(e,n,d,r),l=e.memoizedState),(s=$i||U1(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,BO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=kn(n)?na:pn.current,l=ms(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&z1(e,a,r,l),$i=!1,h=e.memoizedState,a.state=h,Xd(e,r,a,i);var g=e.memoizedState;s!==f||h!==g||On.current||$i?(typeof p=="function"&&(nv(e,n,p,r),g=e.memoizedState),(u=$i||U1(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return av(t,e,n,r,o,i)}function av(t,e,n,r,i,o){hk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&R1(e,n,!1),yi(t,e,o);r=e.stateNode,X$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ys(e,t.child,null,o),e.child=ys(e,null,s,o)):vn(t,e,s,o),e.memoizedState=r.state,i&&R1(e,n,!0),e.child}function pk(t){var e=t.stateNode;e.pendingContext?j1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j1(t,e.context,!1),Bb(t,e.containerInfo)}function Y1(t,e,n,r,i){return gs(),Mb(i),e.flags|=256,vn(t,e,n,r),e.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function lv(t){return{baseLanes:t,cachePool:null,transitions:null}}function mk(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ft,i&1),t===null)return ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=jp(a,r,0,null),t=Yo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=lv(n),e.memoizedState=sv,t):Xb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Y$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ro(s,o):(o=Yo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?lv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=sv,r}return o=t.child,t=o.sibling,r=ro(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xb(t,e){return e=jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ff(t,e,n,r){return r!==null&&Mb(r),ys(e,t.child,null,n),t=Xb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=jg(Error(te(422))),Ff(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jp({mode:"visible",children:r.children},i,0,null),o=Yo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ys(e,t.child,null,a),e.child.memoizedState=lv(a),e.memoizedState=sv,o);if(!(e.mode&1))return Ff(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=jg(o,r,void 0),Ff(t,e,a,r)}if(s=(a&t.childLanes)!==0,Pn||s){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,gi(t,i),Er(r,t,i,-1))}return t_(),r=jg(Error(te(421))),Ff(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=Zi(i.nextSibling),Un=e,st=!0,br=null,t!==null&&(Yn[Qn++]=Zr,Yn[Qn++]=ei,Yn[Qn++]=ra,Zr=t.id,ei=t.overflow,ra=e),e=Xb(e,r.children),e.flags|=4096,e)}function Q1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tv(t.return,e,n)}function Rg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(vn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q1(t,n,e);else if(t.tag===19)Q1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rg(e,!0,n,null,o);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q$(t,e,n){switch(e.tag){case 3:pk(e),gs();break;case 5:UO(e);break;case 1:kn(e.type)&&Wd(e);break;case 4:Bb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?mk(t,e,n):(et(ft,ft.current&1),t=yi(t,e,n),t!==null?t.sibling:null);et(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,dk(t,e,n)}return yi(t,e,n)}var yk,uv,vk,bk;yk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};vk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo(Rr.current);var o=null;switch(n){case"input":i=Cy(t,i),r=Cy(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Ry(t,i),r=Ry(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ud)}Dy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Au.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Au.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};bk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function J$(t,e,n){var r=e.pendingProps;switch(Rb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return kn(e.type)&&zd(),an(e),null;case 3:return r=e.stateNode,vs(),at(On),at(pn),zb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(yv(br),br=null))),uv(t,e),an(e),null;case 5:Ub(e);var i=Uo(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)vk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return an(e),null}if(t=Uo(Rr.current),Lf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cr]=e,r[Du]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)rt(tu[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":a1(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":l1(r,o),rt("invalid",r)}Dy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",""+s]):Au.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Of(r),s1(r,o,!0);break;case"textarea":Of(r),u1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ud)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Cr]=e,t[Du]=r,yk(t,e,!1,!1),e.stateNode=t;e:{switch(a=$y(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)rt(tu[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":a1(t,r),i=Cy(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",t);break;case"textarea":l1(t,r),i=Ry(t,r),rt("invalid",t);break;default:i=r}Dy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?YI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pu(t,l):typeof l=="number"&&Pu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Au.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&bb(t,o,l,a))}switch(n){case"input":Of(t),s1(t,r,!1);break;case"textarea":Of(t),u1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?es(t,!!r.multiple,o,!1):r.defaultValue!=null&&es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)bk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Uo(Lu.current),Uo(Rr.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return an(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Fn!==null&&e.mode&1&&!(e.flags&128))$O(),gs(),e.flags|=98560,o=!1;else if(o=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Cr]=e}else gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else br!==null&&(yv(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ct===0&&(Ct=3):t_())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return vs(),uv(t,e),t===null&&Ru(e.stateNode.containerInfo),an(e),null;case 10:return Lb(e.type._context),an(e),null;case 17:return kn(e.type)&&zd(),an(e),null;case 19:if(at(ft),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ll(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yd(t),a!==null){for(e.flags|=128,Ll(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>_s&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!st)return an(e),null}else 2*bt()-o.renderingStartTime>_s&&n!==1073741824&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ft.current,et(ft,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return e_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function Z$(t,e){switch(Rb(e),e.tag){case 1:return kn(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vs(),at(On),at(pn),zb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ub(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return vs(),null;case 10:return Lb(e.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var Bf=!1,cn=!1,eL=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function cv(t,e,n){try{n()}catch(r){gt(t,e,r)}}var J1=!1;function tL(t,e){if(qy=Vd,t=EO(),Nb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ky={focusedElem:t,selectionRange:n},Vd=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:mr(e.type,v),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){gt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return g=J1,J1=!1,g}function hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&cv(e,n,o)}i=i.next}while(i!==r)}}function Cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _k(t){var e=t.alternate;e!==null&&(t.alternate=null,_k(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Du],delete e[Qy],delete e[$$],delete e[L$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wk(t){return t.tag===5||t.tag===3||t.tag===4}function Z1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ud));else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}function hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hv(t,e,n),t=t.sibling;t!==null;)hv(t,e,n),t=t.sibling}var Gt=null,gr=!1;function Ri(t,e,n){for(n=n.child;n!==null;)xk(t,e,n),n=n.sibling}function xk(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Sp,n)}catch{}switch(n.tag){case 5:cn||Ka(n,e);case 6:var r=Gt,i=gr;Gt=null,Ri(t,e,n),Gt=r,gr=i,Gt!==null&&(gr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(gr?(t=Gt,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),Cu(t)):Pg(Gt,n.stateNode));break;case 4:r=Gt,i=gr,Gt=n.stateNode.containerInfo,gr=!0,Ri(t,e,n),Gt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cv(n,e,a),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!cn&&(Ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){gt(n,e,s)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Ri(t,e,n),cn=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function eS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eL),e.forEach(function(r){var i=cL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Gt=s.stateNode,gr=!1;break e;case 3:Gt=s.stateNode.containerInfo,gr=!0;break e;case 4:Gt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(Gt===null)throw Error(te(160));xk(o,a,i),Gt=null,gr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sk(e,t),e=e.sibling}function Sk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Ir(t),r&4){try{hu(3,t,t.return),Cp(3,t)}catch(v){gt(t,t.return,v)}try{hu(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:dr(e,t),Ir(t),r&512&&n!==null&&Ka(n,n.return);break;case 5:if(dr(e,t),Ir(t),r&512&&n!==null&&Ka(n,n.return),t.flags&32){var i=t.stateNode;try{Pu(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&GI(i,o),$y(s,a);var u=$y(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?YI(i,f):d==="dangerouslySetInnerHTML"?KI(i,f):d==="children"?Pu(i,f):bb(i,d,f,u)}switch(s){case"input":Ny(i,o);break;case"textarea":HI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?es(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?es(i,!!o.multiple,o.defaultValue,!0):es(i,!!o.multiple,o.multiple?[]:"",!1))}i[Du]=o}catch(v){gt(t,t.return,v)}}break;case 6:if(dr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){gt(t,t.return,v)}}break;case 3:if(dr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:dr(e,t),Ir(t);break;case 13:dr(e,t),Ir(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jb=bt())),r&4&&eS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||d,dr(e,t),cn=u):dr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(h=fe,p=h.child,h.tag){case 0:case 11:case 14:case 15:hu(4,h,h.return);break;case 1:Ka(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:Ka(h,h.return);break;case 22:if(h.memoizedState!==null){nS(f);continue}}p!==null?(p.return=h,fe=p):nS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=XI("display",a))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dr(e,t),Ir(t),r&4&&eS(t);break;case 21:break;default:dr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wk(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pu(i,""),r.flags&=-33);var o=Z1(t);hv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Z1(t);dv(t,s,a);break;default:throw Error(te(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nL(t,e,n){fe=t,Ek(t)}function Ek(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||cn;s=Bf;var u=cn;if(Bf=a,(cn=l)&&!u)for(fe=i;fe!==null;)a=fe,l=a.child,a.tag===22&&a.memoizedState!==null?rS(i):l!==null?(l.return=a,fe=l):rS(i);for(;o!==null;)fe=o,Ek(o),o=o.sibling;fe=i,Bf=s,cn=u}tS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):tS(t)}}function tS(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Cp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&V1(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V1(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}cn||e.flags&512&&fv(e)}catch(h){gt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function nS(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function rS(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cp(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{fv(e)}catch(l){gt(e,o,l)}break;case 5:var a=e.return;try{fv(e)}catch(l){gt(e,a,l)}}}catch(l){gt(e,e.return,l)}if(e===t){fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,fe=s;break}fe=e.return}}var rL=Math.ceil,Zd=Ai.ReactCurrentDispatcher,Yb=Ai.ReactCurrentOwner,er=Ai.ReactCurrentBatchConfig,je=0,Vt=null,Et=null,Qt=0,$n=0,Xa=vo(0),Ct=0,Uu=null,oa=0,Np=0,Qb=0,pu=null,Tn=null,Jb=0,_s=1/0,Xr=null,eh=!1,pv=null,to=null,Uf=!1,qi=null,th=0,mu=0,mv=null,wd=-1,xd=0;function wn(){return je&6?bt():wd!==-1?wd:wd=bt()}function no(t){return t.mode&1?je&2&&Qt!==0?Qt&-Qt:F$.transition!==null?(xd===0&&(xd=lO()),xd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:mO(t.type)),t):1}function Er(t,e,n,r){if(50<mu)throw mu=0,mv=null,Error(te(185));Rc(t,n,r),(!(je&2)||t!==Vt)&&(t===Vt&&(!(je&2)&&(Np|=n),Ct===4&&Bi(t,Qt)),Cn(t,r),n===1&&je===0&&!(e.mode&1)&&(_s=bt()+500,Ip&&bo()))}function Cn(t,e){var n=t.callbackNode;FD(t,e);var r=Ld(t,t===Vt?Qt:0);if(r===0)n!==null&&d1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d1(n),e===1)t.tag===0?V$(iS.bind(null,t)):RO(iS.bind(null,t)),M$(function(){!(je&6)&&bo()}),n=null;else{switch(uO(r)){case 1:n=Eb;break;case 4:n=aO;break;case 16:n=$d;break;case 536870912:n=sO;break;default:n=$d}n=Nk(n,Tk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tk(t,e){if(wd=-1,xd=0,je&6)throw Error(te(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var r=Ld(t,t===Vt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var i=je;je|=2;var o=Pk();(Vt!==t||Qt!==e)&&(Xr=null,_s=bt()+500,Xo(t,e));do try{aL();break}catch(s){Ak(t,s)}while(1);$b(),Zd.current=o,je=i,Et!==null?e=0:(Vt=null,Qt=0,e=Ct)}if(e!==0){if(e===2&&(i=Uy(t),i!==0&&(r=i,e=gv(t,i))),e===1)throw n=Uu,Xo(t,0),Bi(t,r),Cn(t,bt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!iL(i)&&(e=nh(t,r),e===2&&(o=Uy(t),o!==0&&(r=o,e=gv(t,o))),e===1))throw n=Uu,Xo(t,0),Bi(t,r),Cn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Mo(t,Tn,Xr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Jb+500-bt(),10<e)){if(Ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yy(Mo.bind(null,t,Tn,Xr),e);break}Mo(t,Tn,Xr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Sr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rL(r/1960))-r,10<r){t.timeoutHandle=Yy(Mo.bind(null,t,Tn,Xr),r);break}Mo(t,Tn,Xr);break;case 5:Mo(t,Tn,Xr);break;default:throw Error(te(329))}}}return Cn(t,bt()),t.callbackNode===n?Tk.bind(null,t):null}function gv(t,e){var n=pu;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=nh(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&yv(e)),t}function yv(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function iL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ar(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Qb,e&=~Np,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function iS(t){if(je&6)throw Error(te(327));os();var e=Ld(t,0);if(!(e&1))return Cn(t,bt()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=Uy(t);r!==0&&(e=r,n=gv(t,r))}if(n===1)throw n=Uu,Xo(t,0),Bi(t,e),Cn(t,bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,Tn,Xr),Cn(t,bt()),null}function Zb(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(_s=bt()+500,Ip&&bo())}}function aa(t){qi!==null&&qi.tag===0&&!(je&6)&&os();var e=je;je|=1;var n=er.transition,r=ze;try{if(er.transition=null,ze=1,t)return t()}finally{ze=r,er.transition=n,je=e,!(je&6)&&bo()}}function e_(){$n=Xa.current,at(Xa)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R$(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Rb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:vs(),at(On),at(pn),zb();break;case 5:Ub(r);break;case 4:vs();break;case 13:at(ft);break;case 19:at(ft);break;case 10:Lb(r.type._context);break;case 22:case 23:e_()}n=n.return}if(Vt=t,Et=t=ro(t.current,null),Qt=$n=e,Ct=0,Uu=null,Qb=Np=oa=0,Tn=pu=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Bo=null}return t}function Ak(t,e){do{var n=Et;try{if($b(),vd.current=Jd,Qd){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qd=!1}if(ia=0,Lt=Ot=dt=null,du=!1,Vu=0,Yb.current=null,n===null||n.return===null){Ct=1,Uu=e,Et=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=G1(a);if(p!==null){p.flags&=-257,H1(p,a,s,o,e),p.mode&1&&W1(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){W1(o,u,e),t_();break e}l=Error(te(426))}}else if(st&&s.mode&1){var b=G1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),H1(b,a,s,o,e),Mb(bs(l,s));break e}}o=l=bs(l,s),Ct!==4&&(Ct=2),pu===null?pu=[o]:pu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=uk(o,l,e);L1(o,w);break e;case 1:s=l;var _=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(to===null||!to.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=ck(o,s,e);L1(o,k);break e}}o=o.return}while(o!==null)}Ok(n)}catch(T){e=T,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function Pk(){var t=Zd.current;return Zd.current=Jd,t===null?Jd:t}function t_(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Vt===null||!(oa&268435455)&&!(Np&268435455)||Bi(Vt,Qt)}function nh(t,e){var n=je;je|=2;var r=Pk();(Vt!==t||Qt!==e)&&(Xr=null,Xo(t,e));do try{oL();break}catch(i){Ak(t,i)}while(1);if($b(),je=n,Zd.current=r,Et!==null)throw Error(te(261));return Vt=null,Qt=0,Ct}function oL(){for(;Et!==null;)Ik(Et)}function aL(){for(;Et!==null&&!CD();)Ik(Et)}function Ik(t){var e=Ck(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?Ok(t):Et=e,Yb.current=null}function Ok(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Z$(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,Et=null;return}}else if(n=J$(n,e,$n),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ct===0&&(Ct=5)}function Mo(t,e,n){var r=ze,i=er.transition;try{er.transition=null,ze=1,sL(t,e,n,r)}finally{er.transition=i,ze=r}return null}function sL(t,e,n,r){do os();while(qi!==null);if(je&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BD(t,o),t===Vt&&(Et=Vt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uf||(Uf=!0,Nk($d,function(){return os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var a=ze;ze=1;var s=je;je|=4,Yb.current=null,tL(t,n),Sk(n,t),P$(Ky),Vd=!!qy,Ky=qy=null,t.current=n,nL(n),ND(),je=s,ze=a,er.transition=o}else t.current=n;if(Uf&&(Uf=!1,qi=t,th=i),o=t.pendingLanes,o===0&&(to=null),MD(n.stateNode),Cn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eh)throw eh=!1,t=pv,pv=null,t;return th&1&&t.tag!==0&&os(),o=t.pendingLanes,o&1?t===mv?mu++:(mu=0,mv=t):mu=0,bo(),null}function os(){if(qi!==null){var t=uO(th),e=er.transition,n=ze;try{if(er.transition=null,ze=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,th=0,je&6)throw Error(te(331));var i=je;for(je|=4,fe=t.current;fe!==null;){var o=fe,a=o.child;if(fe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:hu(8,d,o)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var h=d.sibling,p=d.return;if(_k(d),d===u){fe=null;break}if(h!==null){h.return=p,fe=h;break}fe=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}fe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,fe=a;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hu(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,fe=w;break e}fe=o.return}}var _=t.current;for(fe=_;fe!==null;){a=fe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,fe=x;else e:for(a=_;fe!==null;){if(s=fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Cp(9,s)}}catch(T){gt(s,s.return,T)}if(s===a){fe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,fe=k;break e}fe=s.return}}if(je=i,bo(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Sp,t)}catch{}r=!0}return r}finally{ze=n,er.transition=e}}return!1}function oS(t,e,n){e=bs(n,e),e=uk(t,e,1),t=eo(t,e,1),e=wn(),t!==null&&(Rc(t,1,e),Cn(t,e))}function gt(t,e,n){if(t.tag===3)oS(t,t,n);else for(;e!==null;){if(e.tag===3){oS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=bs(n,t),t=ck(e,t,1),e=eo(e,t,1),t=wn(),e!==null&&(Rc(e,1,t),Cn(e,t));break}}e=e.return}}function lL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Qt&n)===n&&(Ct===4||Ct===3&&(Qt&130023424)===Qt&&500>bt()-Jb?Xo(t,0):Qb|=n),Cn(t,e)}function kk(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=wn();t=gi(t,e),t!==null&&(Rc(t,e,n),Cn(t,n))}function uL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kk(t,n)}function cL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),kk(t,n)}var Ck;Ck=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,Q$(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,st&&e.flags&1048576&&MO(e,Hd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var i=ms(e,pn.current);is(e,n),i=Gb(null,e,r,t,i,n);var o=Hb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(o=!0,Wd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fb(e),i.updater=kp,e.stateNode=i,i._reactInternals=e,rv(e,r,t,n),e=av(null,e,r,!0,o,n)):(e.tag=0,st&&o&&jb(e),vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dL(r),t=mr(r,t),i){case 0:e=ov(null,e,r,t,n);break e;case 1:e=X1(null,e,r,t,n);break e;case 11:e=q1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,mr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),ov(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),X1(t,e,r,i,n);case 3:e:{if(pk(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BO(t,e),Xd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bs(Error(te(423)),e),e=Y1(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(te(424)),e),e=Y1(t,e,r,n,i);break e}else for(Fn=Zi(e.stateNode.containerInfo.firstChild),Un=e,st=!0,br=null,n=VO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){e=yi(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return UO(e),t===null&&ev(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Xy(r,i)?a=null:o!==null&&Xy(r,o)&&(e.flags|=32),hk(t,e),vn(t,e,a,n),e.child;case 6:return t===null&&ev(e),null;case 13:return mk(t,e,n);case 4:return Bb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ys(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),q1(t,e,r,i,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(qd,r._currentValue),r._currentValue=a,o!==null)if(Ar(o.value,a)){if(o.children===i.children&&!On.current){e=yi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=li(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,is(e,n),i=ir(i),r=r(i),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),K1(t,e,r,i,n);case 15:return fk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),_d(t,e),e.tag=1,kn(r)?(t=!0,Wd(e)):t=!1,is(e,n),lk(e,r,i),rv(e,r,i,n),av(null,e,r,!0,t,n);case 19:return gk(t,e,n);case 22:return dk(t,e,n)}throw Error(te(156,e.tag))};function Nk(t,e){return oO(t,e)}function fL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new fL(t,e,n,r)}function n_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dL(t){if(typeof t=="function")return n_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wb)return 11;if(t===xb)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")n_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Va:return Yo(n.children,i,o,e);case _b:a=8,i|=8;break;case Py:return t=Jn(12,n,e,i|2),t.elementType=Py,t.lanes=o,t;case Iy:return t=Jn(13,n,e,i),t.elementType=Iy,t.lanes=o,t;case Oy:return t=Jn(19,n,e,i),t.elementType=Oy,t.lanes=o,t;case UI:return jp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FI:a=10;break e;case BI:a=9;break e;case wb:a=11;break e;case xb:a=14;break e;case Di:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Jn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function jp(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=UI,t.lanes=n,t.stateNode={isHidden:!1},t}function Mg(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gg(0),this.expirationTimes=gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r_(t,e,n,r,i,o,a,s,l){return t=new hL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fb(o),t}function pL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jk(t){if(!t)return ho;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(kn(n))return jO(t,n,e)}return e}function Rk(t,e,n,r,i,o,a,s,l){return t=r_(n,r,!0,t,i,o,a,s,l),t.context=jk(null),n=t.current,r=wn(),i=no(n),o=li(r,i),o.callback=e??null,eo(n,o,i),t.current.lanes=i,Rc(t,i,r),Cn(t,r),t}function Rp(t,e,n,r){var i=e.current,o=wn(),a=no(i);return n=jk(n),e.context===null?e.context=n:e.pendingContext=n,e=li(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(i,e,a),t!==null&&(Er(t,i,a,o),yd(t,i,a)),a}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i_(t,e){aS(t,e),(t=t.alternate)&&aS(t,e)}function mL(){return null}var Mk=typeof reportError=="function"?reportError:function(t){console.error(t)};function o_(t){this._internalRoot=t}Mp.prototype.render=o_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Rp(t,e,null,null)};Mp.prototype.unmount=o_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Rp(null,t,null,null)}),e[mi]=null}};function Mp(t){this._internalRoot=t}Mp.prototype.unstable_scheduleHydration=function(t){if(t){var e=dO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&pO(t)}};function a_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sS(){}function gL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rh(a);o.call(u)}}var a=Rk(e,r,t,0,null,!1,!1,"",sS);return t._reactRootContainer=a,t[mi]=a.current,Ru(t.nodeType===8?t.parentNode:t),aa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=rh(l);s.call(u)}}var l=r_(t,0,!1,null,null,!1,!1,"",sS);return t._reactRootContainer=l,t[mi]=l.current,Ru(t.nodeType===8?t.parentNode:t),aa(function(){Rp(e,l,n,r)}),l}function $p(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rh(a);s.call(l)}}Rp(e,a,t,i)}else a=gL(n,e,t,i,r);return rh(a)}cO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Tb(e,n|1),Cn(e,bt()),!(je&6)&&(_s=bt()+500,bo()))}break;case 13:aa(function(){var r=gi(t,1);if(r!==null){var i=wn();Er(r,t,1,i)}}),i_(t,1)}};Ab=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=wn();Er(e,t,134217728,n)}i_(t,134217728)}};fO=function(t){if(t.tag===13){var e=no(t),n=gi(t,e);if(n!==null){var r=wn();Er(n,t,e,r)}i_(t,e)}};dO=function(){return ze};hO=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Vy=function(t,e,n){switch(e){case"input":if(Ny(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pp(r);if(!i)throw Error(te(90));WI(r),Ny(r,i)}}}break;case"textarea":HI(t,n);break;case"select":e=n.value,e!=null&&es(t,!!n.multiple,e,!1)}};ZI=Zb;eO=aa;var yL={usingClientEntryPoint:!1,Events:[Dc,za,Pp,QI,JI,Zb]},Vl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vL={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rO(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Sp=zf.inject(vL),jr=zf}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a_(e))throw Error(te(200));return pL(t,e,null,n)};Gn.createRoot=function(t,e){if(!a_(t))throw Error(te(299));var n=!1,r="",i=Mk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r_(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,Ru(t.nodeType===8?t.parentNode:t),new o_(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=rO(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return aa(t)};Gn.hydrate=function(t,e,n){if(!Dp(e))throw Error(te(200));return $p(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!a_(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Mk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Rk(e,null,t,1,n??null,i,!1,o,a),t[mi]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mp(e)};Gn.render=function(t,e,n){if(!Dp(e))throw Error(te(200));return $p(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Dp(t))throw Error(te(40));return t._reactRootContainer?(aa(function(){$p(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Gn.unstable_batchedUpdates=Zb;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dp(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return $p(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function Dk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dk)}catch(t){console.error(t)}}Dk(),DI.exports=Gn;var bL=DI.exports,lS=bL;Ty.createRoot=lS.createRoot,Ty.hydrateRoot=lS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_L=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($k(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_L(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new wL;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xL=function(t){const e=$k(t);return Lk.encodeByteArray(e,!0)},ih=function(t){return xL(t).replace(/\./g,"")},Vk=function(t){try{return Lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=()=>SL().__FIREBASE_DEFAULTS__,TL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vk(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return EL()||TL()||AL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fk=t=>{var e,n;return(n=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PL=t=>{const e=Fk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bk=()=>{var t;return(t=Lp())===null||t===void 0?void 0:t.config},Uk=t=>{var e;return(e=Lp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[ih(JSON.stringify(n)),ih(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function CL(){var t;const e=(t=Lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ML(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DL(){return!CL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $L(){try{return typeof indexedDB=="object"}catch{return!1}}function LL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VL,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?FL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Pi(i,s,r)}}function FL(t,e){return t.replace(BL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BL=/\{\$([^}]+)}/g;function UL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(uS(o)&&uS(a)){if(!oh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zL(t,e){const n=new WL(t,e);return n.subscribe.bind(n)}class WL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$g),i.error===void 0&&(i.error=$g),i.complete===void 0&&(i.complete=$g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KL(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(t){return t===Do?void 0:t}function KL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const YL={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},QL=ke.INFO,JL={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ZL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=QL,this._logHandler=ZL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const e4=(t,e)=>e.some(n=>t instanceof n);let cS,fS;function t4(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n4(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zk=new WeakMap,vv=new WeakMap,Wk=new WeakMap,Lg=new WeakMap,l_=new WeakMap;function r4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(io(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&zk.set(n,t)}).catch(()=>{}),l_.set(e,t),e}function i4(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});vv.set(t,e)}let bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o4(t){bv=t(bv)}function a4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vg(this),e,...n);return Wk.set(r,e.sort?e.sort():[e]),io(r)}:n4().includes(t)?function(...e){return t.apply(Vg(this),e),io(zk.get(this))}:function(...e){return io(t.apply(Vg(this),e))}}function s4(t){return typeof t=="function"?a4(t):(t instanceof IDBTransaction&&i4(t),e4(t,t4())?new Proxy(t,bv):t)}function io(t){if(t instanceof IDBRequest)return r4(t);if(Lg.has(t))return Lg.get(t);const e=s4(t);return e!==t&&(Lg.set(t,e),l_.set(e,t)),e}const Vg=t=>l_.get(t);function l4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=io(a);return r&&a.addEventListener("upgradeneeded",l=>{r(io(a.result),l.oldVersion,l.newVersion,io(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const u4=["get","getKey","getAll","getAllKeys","count"],c4=["put","add","delete","clear"],Fg=new Map;function dS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Fg.set(e,o),o}o4(t=>({...t,get:(e,n,r)=>dS(e,n)||t.get(e,n,r),has:(e,n)=>!!dS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _v="@firebase/app",hS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new s_("@firebase/app"),h4="@firebase/app-compat",p4="@firebase/analytics-compat",m4="@firebase/analytics",g4="@firebase/app-check-compat",y4="@firebase/app-check",v4="@firebase/auth",b4="@firebase/auth-compat",_4="@firebase/database",w4="@firebase/data-connect",x4="@firebase/database-compat",S4="@firebase/functions",E4="@firebase/functions-compat",T4="@firebase/installations",A4="@firebase/installations-compat",P4="@firebase/messaging",I4="@firebase/messaging-compat",O4="@firebase/performance",k4="@firebase/performance-compat",C4="@firebase/remote-config",N4="@firebase/remote-config-compat",j4="@firebase/storage",R4="@firebase/storage-compat",M4="@firebase/firestore",D4="@firebase/vertexai-preview",$4="@firebase/firestore-compat",L4="firebase",V4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",F4={[_v]:"fire-core",[h4]:"fire-core-compat",[m4]:"fire-analytics",[p4]:"fire-analytics-compat",[y4]:"fire-app-check",[g4]:"fire-app-check-compat",[v4]:"fire-auth",[b4]:"fire-auth-compat",[_4]:"fire-rtdb",[w4]:"fire-data-connect",[x4]:"fire-rtdb-compat",[S4]:"fire-fn",[E4]:"fire-fn-compat",[T4]:"fire-iid",[A4]:"fire-iid-compat",[P4]:"fire-fcm",[I4]:"fire-fcm-compat",[O4]:"fire-perf",[k4]:"fire-perf-compat",[C4]:"fire-rc",[N4]:"fire-rc-compat",[j4]:"fire-gcs",[R4]:"fire-gcs-compat",[M4]:"fire-fst",[$4]:"fire-fst-compat",[D4]:"fire-vertex","fire-js":"fire-js",[L4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,B4=new Map,xv=new Map;function pS(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(xv.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(const n of ah.values())pS(n,t);for(const n of B4.values())pS(n,t);return!0}function u_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Lc("app","Firebase",U4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=V4;function Gk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=Bk()),!n)throw oo.create("no-options");const o=ah.get(i);if(o){if(oh(n,o.options)&&oh(r,o.config))return o;throw oo.create("duplicate-app",{appName:i})}const a=new XL(i);for(const l of xv.values())a.addComponent(l);const s=new z4(n,r,a);return ah.set(i,s),s}function Hk(t=wv){const e=ah.get(t);if(!e&&t===wv&&Bk())return Gk();if(!e)throw oo.create("no-app",{appName:t});return e}function ao(t,e,n){var r;let i=(r=F4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(s.join(" "));return}ws(new sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebase-heartbeat-database",G4=1,zu="firebase-heartbeat-store";let Bg=null;function qk(){return Bg||(Bg=l4(W4,G4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Bg}async function H4(t){try{const n=(await qk()).transaction(zu),r=await n.objectStore(zu).get(Kk(t));return await n.done,r}catch(e){if(e instanceof Pi)vi.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function mS(t,e){try{const r=(await qk()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,Kk(t)),await r.done}catch(n){if(n instanceof Pi)vi.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function Kk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1024,K4=30*24*60*60*1e3;class X4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=K4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gS(),{heartbeatsToSend:r,unsentEntries:i}=Y4(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vi.warn(n),""}}}function gS(){return new Date().toISOString().substring(0,10)}function Y4(t,e=q4){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),yS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $L()?LL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yS(t){return ih(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){ws(new sa("platform-logger",e=>new f4(e),"PRIVATE")),ws(new sa("heartbeat",e=>new X4(e),"PRIVATE")),ao(_v,hS,t),ao(_v,hS,"esm2017"),ao("fire-js","")}J4("");var Z4="firebase",e3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(Z4,e3,"app");var vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,Xk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,O,j){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return E.prototype[O].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)C[O]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(O=0;16>O;++O)C[O]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],O=S.g[2];var j=S.g[3],N=E+(j^I&(O^j))+C[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=j+(O^E&(I^O))+C[1]+3905402710&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(I^j&(E^I))+C[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(E^O&(j^E))+C[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=E+(j^I&(O^j))+C[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(O^E&(I^O))+C[5]+1200080426&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(I^j&(E^I))+C[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(E^O&(j^E))+C[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=E+(j^I&(O^j))+C[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(O^E&(I^O))+C[9]+2336552879&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(I^j&(E^I))+C[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(E^O&(j^E))+C[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=E+(j^I&(O^j))+C[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(O^E&(I^O))+C[13]+4254626195&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(I^j&(E^I))+C[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(E^O&(j^E))+C[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=E+(O^j&(I^O))+C[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(E^I))+C[6]+3225465664&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^I&(j^E))+C[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(O^j))+C[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(I^O))+C[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(E^I))+C[10]+38016083&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^I&(j^E))+C[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(O^j))+C[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(I^O))+C[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(E^I))+C[14]+3275163606&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^I&(j^E))+C[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(O^j))+C[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(I^O))+C[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(E^I))+C[2]+4243563512&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^I&(j^E))+C[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(O^j))+C[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=E+(I^O^j)+C[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^O)+C[8]+2272392833&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^I)+C[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^E)+C[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=E+(I^O^j)+C[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^O)+C[4]+1272893353&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^I)+C[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^E)+C[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=E+(I^O^j)+C[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^O)+C[0]+3936430074&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^I)+C[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^E)+C[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=E+(I^O^j)+C[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^O)+C[12]+3873151461&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^I)+C[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^E)+C[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=E+(O^(I|~j))+C[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~O))+C[7]+1126891415&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~I))+C[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~E))+C[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=E+(O^(I|~j))+C[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~O))+C[3]+2399980690&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~I))+C[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~E))+C[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=E+(O^(I|~j))+C[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~O))+C[15]+4264355552&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~I))+C[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~E))+C[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=E+(O^(I|~j))+C[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~O))+C[11]+3174756917&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~I))+C[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,C=this.B,O=this.h,j=0;j<E;){if(O==0)for(;j<=I;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<E;)if(C[O++]=S.charCodeAt(j++),O==this.blockSize){i(this,C),O=0;break}}else for(;j<E;)if(C[O++]=S[j++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)S[I++]=this.g[E]>>>C&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],C=!0,O=S.length-1;0<=O;O--){var j=S[O]|0;C&&j==E||(I[O]=j,C=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(u(-S));for(var E=[],I=1,C=0;S>=I;C++)E[C]=S/I|0,I*=4294967296;return new a(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),C=f,O=0;O<S.length;O+=8){var j=Math.min(8,S.length-O),N=parseInt(S.substring(O,O+j),E);8>j?(j=u(Math.pow(E,j)),C=C.j(j).add(u(N))):(C=C.j(I),C=C.add(u(N)))}return C}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-b(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(v(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,C="";;){var O=k(I,E).g;I=w(I,O.j(E));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=O,g(I))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=w(this,S),v(S)?-1:g(S)?0:1};function b(S){for(var E=S.g.length,I=[],C=0;C<E;C++)I[C]=~S.g[C];return new a(I,~S.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0,O=0;O<=E;O++){var j=C+(this.i(O)&65535)+(S.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);C=N>>>16,j&=65535,N&=65535,I[O]=N<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function w(S,E){return S.add(b(E))}t.j=function(S){if(g(this)||g(S))return f;if(v(this))return v(S)?b(this).j(b(S)):b(b(this).j(S));if(v(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<S.g.length;O++){var j=this.i(C)>>>16,N=this.i(C)&65535,U=S.i(O)>>>16,z=S.i(O)&65535;I[2*C+2*O]+=N*z,_(I,2*C+2*O),I[2*C+2*O+1]+=j*z,_(I,2*C+2*O+1),I[2*C+2*O+1]+=N*U,_(I,2*C+2*O+1),I[2*C+2*O+2]+=j*U,_(I,2*C+2*O+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new a(I,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function k(S,E){if(g(E))throw Error("division by zero");if(g(S))return new x(f,f);if(v(S))return E=k(b(S),E),new x(b(E.g),b(E.h));if(v(E))return E=k(S,b(E)),new x(b(E.g),E.h);if(30<S.g.length){if(v(S)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=h,C=E;0>=C.l(S);)I=T(I),C=T(C);var O=P(I,1),j=P(C,1);for(C=P(C,2),I=P(I,2);!g(C);){var N=j.add(C);0>=N.l(S)&&(O=O.add(I),j=N),C=P(C,1),I=P(I,1)}return E=w(S,O.j(E)),new x(O,E)}for(O=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=u(I),N=j.j(E);v(N)||0<N.l(S);)I-=C,j=u(I),N=j.j(E);g(j)&&(j=h),O=O.add(j),S=w(S,N)}return new x(O,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&S.i(C);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|S.i(C);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^S.i(C);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],C=0;C<E;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(I,S.h)}function P(S,E){var I=E>>5;E%=32;for(var C=S.g.length-I,O=[],j=0;j<C;j++)O[j]=0<E?S.i(j+I)>>>E|S.i(j+I+1)<<32-E:S.i(j+I);return new a(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Qo=a}).apply(typeof vS<"u"?vS:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yk,nu,Qk,Ed,Sv,Jk,Zk,e2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in A))break e;A=A[L]}c=c[c.length-1],R=A[c],y=y(R),y!=R&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function o(c,y){c instanceof String&&(c+="");var A=0,R=!1,L={next:function(){if(!R&&A<c.length){var W=A++;return{value:y(W,c[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function u(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,A){return c.call.apply(c.bind,arguments)}function f(c,y,A){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function h(c,y,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function g(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(R,L,W){for(var oe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)oe[Ke-2]=arguments[Ke];return y.prototype[L].apply(R,oe)}}function v(c){const y=c.length;if(0<y){const A=Array(y);for(let R=0;R<y;R++)A[R]=c[R];return A}return[]}function b(c,y){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const L=c.length||0,W=R.length||0;c.length=L+W;for(let oe=0;oe<W;oe++)c[L+oe]=R[oe]}else c.push(R)}}class w{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(c,y,A){for(const R in c)y.call(A,c[R],R,c)}function S(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function E(c){const y={};for(const A in c)y[A]=c[A];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let A,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(A in R)c[A]=R[A];for(let W=0;W<I.length;W++)A=I[W],Object.prototype.hasOwnProperty.call(R,A)&&(c[A]=R[A])}}function O(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function j(c){s.setTimeout(()=>{throw c},0)}function N(){var c=q;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,A){const R=z.get();R.set(y,A),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new w(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let X,V=!1,q=new U,Y=()=>{const c=s.Promise.resolve(void 0);X=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){j(A)}var y=z;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}V=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,y),s.removeEventListener("test",A,y)}catch{}return c}();function le(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(T){e:{try{k(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&le.aa.h.call(this)}}g(le,Q);var ce={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ie(c,y,A,R,L){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!R,this.ha=L,this.key=++Be,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function H(c){this.src=c,this.g={},this.h=0}H.prototype.add=function(c,y,A,R,L){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=re(c,y,R,L);return-1<oe?(y=c[oe],A||(y.fa=!1)):(y=new ie(y,this.src,W,!!R,L),y.fa=A,c.push(y)),y};function F(c,y){var A=y.type;if(A in c.g){var R=c.g[A],L=Array.prototype.indexOf.call(R,y,void 0),W;(W=0<=L)&&Array.prototype.splice.call(R,L,1),W&&(ge(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function re(c,y,A,R){for(var L=0;L<c.length;++L){var W=c[L];if(!W.da&&W.listener==y&&W.capture==!!A&&W.ha==R)return L}return-1}var he="closure_lm_"+(1e6*Math.random()|0),Te={};function Ee(c,y,A,R,L){if(R&&R.once)return Bt(c,y,A,R,L);if(Array.isArray(y)){for(var W=0;W<y.length;W++)Ee(c,y[W],A,R,L);return null}return A=bl(A),c&&c[be]?c.K(y,A,u(R)?!!R.capture:!!R,L):tt(c,y,A,!1,R,L)}function tt(c,y,A,R,L,W){if(!y)throw Error("Invalid event type");var oe=u(L)?!!L.capture:!!L,Ke=ur(c);if(Ke||(c[he]=Ke=new H(c)),A=Ke.add(y,A,R,oe,W),A.proxy)return A;if(R=At(),A.proxy=R,R.src=c,R.listener=A,c.addEventListener)Z||(L=oe),L===void 0&&(L=!1),c.addEventListener(y.toString(),R,L);else if(c.attachEvent)c.attachEvent(Ve(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function At(){function c(A){return y.call(c.src,c.listener,A)}const y=gn;return c}function Bt(c,y,A,R,L){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Bt(c,y[W],A,R,L);return null}return A=bl(A),c&&c[be]?c.L(y,A,u(R)?!!R.capture:!!R,L):tt(c,y,A,!0,R,L)}function ct(c,y,A,R,L){if(Array.isArray(y))for(var W=0;W<y.length;W++)ct(c,y[W],A,R,L);else R=u(R)?!!R.capture:!!R,A=bl(A),c&&c[be]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],A=re(W,A,R,L),-1<A&&(ge(W[A]),Array.prototype.splice.call(W,A,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=ur(c))&&(y=c.g[y.toString()],c=-1,y&&(c=re(y,A,R,L)),(A=-1<c?y[c]:null)&&Le(A))}function Le(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[be])F(y.i,c);else{var A=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(A,R,c.capture):y.detachEvent?y.detachEvent(Ve(A),R):y.addListener&&y.removeListener&&y.removeListener(R),(A=ur(y))?(F(A,c),A.h==0&&(A.src=null,y[he]=null)):ge(c)}}}function Ve(c){return c in Te?Te[c]:Te[c]="on"+c}function gn(c,y){if(c.da)c=!0;else{y=new le(y,this);var A=c.listener,R=c.ha||c.src;c.fa&&Le(c),c=A.call(R,y)}return c}function ur(c){return c=c[he],c instanceof H?c:null}var Gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function bl(c){return typeof c=="function"?c:(c[Gr]||(c[Gr]=function(y){return c.handleEvent(y)}),c[Gr])}function Mt(){B.call(this),this.i=new H(this),this.M=this,this.F=null}g(Mt,B),Mt.prototype[be]=!0,Mt.prototype.removeEventListener=function(c,y,A,R){ct(this,c,y,A,R)};function Ut(c,y){var A,R=c.F;if(R)for(A=[];R;R=R.F)A.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var L=y;y=new Q(R,c),C(y,L)}if(L=!0,A)for(var W=A.length-1;0<=W;W--){var oe=y.g=A[W];L=Ta(oe,R,!0,y)&&L}if(oe=y.g=c,L=Ta(oe,R,!0,y)&&L,L=Ta(oe,R,!1,y)&&L,A)for(W=0;W<A.length;W++)oe=y.g=A[W],L=Ta(oe,R,!1,y)&&L}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],R=0;R<A.length;R++)ge(A[R]);delete c.g[y],c.h--}}this.F=null},Mt.prototype.K=function(c,y,A,R){return this.i.add(String(c),y,!1,A,R)},Mt.prototype.L=function(c,y,A,R){return this.i.add(String(c),y,!0,A,R)};function Ta(c,y,A,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==A){var Ke=oe.listener,zt=oe.ha||oe.src;oe.fa&&F(c.i,oe),L=Ke.call(zt,R)!==!1&&L}}return L&&!R.defaultPrevented}function lf(c,y,A){if(typeof c=="function")A&&(c=h(c,A));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(c,y||0)}function uf(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,uf(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ym extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:uf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(c){B.call(this),this.h=c,this.g={}}g(Ao,B);var wt=[];function cf(c){P(c.g,function(y,A){this.g.hasOwnProperty(A)&&Le(y)},c),c.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),cf(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var M=s.JSON.stringify,ue=s.JSON.parse,Ue=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function cr(){}cr.prototype.h=null;function He(c){return c.h||(c.h=c.i())}function se(){}var _l={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qm(){Q.call(this,"d")}g(Qm,Q);function Jm(){Q.call(this,"c")}g(Jm,Q);var Po={},fx=null;function ff(){return fx=fx||new Mt}Po.La="serverreachability";function dx(c){Q.call(this,Po.La,c)}g(dx,Q);function wl(c){const y=ff();Ut(y,new dx(y))}Po.STAT_EVENT="statevent";function hx(c,y){Q.call(this,Po.STAT_EVENT,c),this.stat=y}g(hx,Q);function yn(c){const y=ff();Ut(y,new hx(y,c))}Po.Ma="timingevent";function px(c,y){Q.call(this,Po.Ma,c),this.size=y}g(px,Q);function xl(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},y)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function TM(c,y,A,R,L,W){c.info(function(){if(c.g)if(W)for(var oe="",Ke=W.split("&"),zt=0;zt<Ke.length;zt++){var Me=Ke[zt].split("=");if(1<Me.length){var nn=Me[0];Me=Me[1];var rn=nn.split("_");oe=2<=rn.length&&rn[1]=="type"?oe+(nn+"="+Me+"&"):oe+(nn+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+y+`
`+A+`
`+oe})}function AM(c,y,A,R,L,W,oe){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+y+`
`+A+`
`+W+" "+oe})}function Aa(c,y,A,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+IM(c,A)+(R?" "+R:"")})}function PM(c,y){c.info(function(){return"TIMEOUT: "+y})}Sl.prototype.info=function(){};function IM(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var R=A[c];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var W=L[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<L.length;oe++)L[oe]=""}}}}return M(A)}catch{return y}}var df={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zm;function hf(){}g(hf,cr),hf.prototype.g=function(){return new XMLHttpRequest},hf.prototype.i=function(){return{}},Zm=new hf;function Ci(c,y,A,R){this.j=c,this.i=y,this.l=A,this.R=R||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gx}function gx(){this.i=null,this.g="",this.h=!1}var yx={},eg={};function tg(c,y,A){c.L=1,c.v=yf(Hr(y)),c.m=A,c.P=!0,vx(c,null)}function vx(c,y){c.F=Date.now(),pf(c),c.A=Hr(c.v);var A=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Nx(A.i,"t",R),c.C=0,A=c.j.J,c.h=new gx,c.g=Yx(c.j,A?y:null,!c.m),0<c.O&&(c.M=new Ym(h(c.Y,c,c.g),c.O)),y=c.U,A=c.g,R=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(wt[0]=L.toString()),L=wt);for(var W=0;W<L.length;W++){var oe=Ee(A,L[W],R||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wl(),TM(c.i,c.u,c.A,c.l,c.R,c.m)}Ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&qr(c)==3?y.j():this.Y(c)},Ci.prototype.Y=function(c){try{if(c==this.g)e:{const rn=qr(this.g);var y=this.g.Ba();const Oa=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Vx(this.g)))){this.J||rn!=4||y==7||(y==8||0>=Oa?wl(3):wl(2)),ng(this);var A=this.g.Z();this.X=A;t:if(bx(this)){var R=Vx(this.g);c="";var L=R.length,W=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),El(this);var oe="";break t}this.h.i=new s.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(W&&y==L-1)});R.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=A==200,AM(this.i,this.u,this.A,this.l,this.R,rn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,zt=this.g;if((Ke=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var Me=Ke;break t}}Me=null}if(A=Me)Aa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,A);else{this.o=!1,this.s=3,yn(12),Io(this),El(this);break e}}if(this.P){A=!0;let fr;for(;!this.J&&this.C<oe.length;)if(fr=OM(this,oe),fr==eg){rn==4&&(this.s=4,yn(14),A=!1),Aa(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==yx){this.s=4,yn(15),Aa(this.i,this.l,oe,"[Invalid Chunk]"),A=!1;break}else Aa(this.i,this.l,fr,null),rg(this,fr);if(bx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||oe.length!=0||this.h.h||(this.s=1,yn(16),A=!1),this.o=this.o&&A,!A)Aa(this.i,this.l,oe,"[Invalid Chunked Response]"),Io(this),El(this);else if(0<oe.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ug(nn),nn.M=!0,yn(11))}}else Aa(this.i,this.l,oe,null),rg(this,oe);rn==4&&Io(this),this.o&&!this.J&&(rn==4?Hx(this.j,this):(this.o=!1,pf(this)))}else HM(this.g),A==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),Io(this),El(this)}}}catch{}finally{}};function bx(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function OM(c,y){var A=c.C,R=y.indexOf(`
`,A);return R==-1?eg:(A=Number(y.substring(A,R)),isNaN(A)?yx:(R+=1,R+A>y.length?eg:(y=y.slice(R,R+A),c.C=R+A,y)))}Ci.prototype.cancel=function(){this.J=!0,Io(this)};function pf(c){c.S=Date.now()+c.I,_x(c,c.I)}function _x(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xl(h(c.ba,c),y)}function ng(c){c.B&&(s.clearTimeout(c.B),c.B=null)}Ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(PM(this.i,this.A),this.L!=2&&(wl(),yn(17)),Io(this),this.s=2,El(this)):_x(this,this.S-c)};function El(c){c.j.G==0||c.J||Hx(c.j,c)}function Io(c){ng(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,cf(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function rg(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||ig(A.h,c))){if(!c.K&&ig(A.h,c)&&A.G==3){try{var R=A.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)Sf(A),wf(A);else break e;lg(A),yn(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=xl(h(A.Za,A),6e3));if(1>=Sx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ko(A,11)}else if((c.K||A.g==c)&&Sf(A),!_(y))for(L=A.Da.g.parse(y),y=0;y<L.length;y++){let Me=L[y];if(A.T=Me[0],Me=Me[1],A.G==2)if(Me[0]=="c"){A.K=Me[1],A.ia=Me[2];const nn=Me[3];nn!=null&&(A.la=nn,A.j.info("VER="+A.la));const rn=Me[4];rn!=null&&(A.Aa=rn,A.j.info("SVER="+A.Aa));const Oa=Me[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(R=1.5*Oa,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const fr=c.g;if(fr){const Tf=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tf){var W=R.h;W.g||Tf.indexOf("spdy")==-1&&Tf.indexOf("quic")==-1&&Tf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(og(W,W.h),W.h=null))}if(R.D){const cg=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(R.ya=cg,nt(R.I,R.D,cg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var oe=c;if(R.qa=Xx(R,R.J?R.ia:null,R.W),oe.K){Ex(R.h,oe);var Ke=oe,zt=R.L;zt&&(Ke.I=zt),Ke.B&&(ng(Ke),pf(Ke)),R.g=oe}else Wx(R);0<A.i.length&&xf(A)}else Me[0]!="stop"&&Me[0]!="close"||ko(A,7);else A.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?ko(A,7):sg(A):Me[0]!="noop"&&A.l&&A.l.ta(Me),A.v=0)}}wl(4)}catch{}}var kM=class{constructor(c,y){this.g=c,this.map=y}};function wx(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sx(c){return c.h?1:c.g?c.g.size:0}function ig(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function og(c,y){c.g?c.g.add(y):c.h=y}function Ex(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wx.prototype.cancel=function(){if(this.i=Tx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tx(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return v(c.i)}function CM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,R=0;R<A;R++)y.push(c[R]);return y}y=[],A=0;for(R in c)y[A++]=c[R];return y}function NM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const R in c)y[A++]=R;return y}}}function Ax(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=NM(c),R=CM(c),L=R.length,W=0;W<L;W++)y.call(void 0,R[W],A&&A[W],c)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jM(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var R=c[A].indexOf("="),L=null;if(0<=R){var W=c[A].substring(0,R);L=c[A].substring(R+1)}else W=c[A];y(W,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Oo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oo){this.h=c.h,mf(this,c.j),this.o=c.o,this.g=c.g,gf(this,c.s),this.l=c.l;var y=c.i,A=new Pl;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Ix(this,A),this.m=c.m}else c&&(y=String(c).match(Px))?(this.h=!1,mf(this,y[1]||"",!0),this.o=Tl(y[2]||""),this.g=Tl(y[3]||"",!0),gf(this,y[4]),this.l=Tl(y[5]||"",!0),Ix(this,y[6]||"",!0),this.m=Tl(y[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}Oo.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Al(y,Ox,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Al(y,Ox,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Al(A,A.charAt(0)=="/"?DM:MM,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Al(A,LM)),c.join("")};function Hr(c){return new Oo(c)}function mf(c,y,A){c.j=A?Tl(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gf(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ix(c,y,A){y instanceof Pl?(c.i=y,VM(c.i,c.h)):(A||(y=Al(y,$M)),c.i=new Pl(y,c.h))}function nt(c,y,A){c.i.set(y,A)}function yf(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tl(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Al(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,RM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ox=/[#\/\?@]/g,MM=/[#\?:]/g,DM=/[#\?]/g,$M=/[#\?@]/g,LM=/#/g;function Pl(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&jM(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=Pl.prototype,t.add=function(c,y){Ni(this),this.i=null,c=Pa(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function kx(c,y){Ni(c),y=Pa(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Cx(c,y){return Ni(c),y=Pa(c,y),c.g.has(y)}t.forEach=function(c,y){Ni(this),this.g.forEach(function(A,R){A.forEach(function(L){c.call(y,L,R,this)},this)},this)},t.na=function(){Ni(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let R=0;R<y.length;R++){const L=c[R];for(let W=0;W<L.length;W++)A.push(y[R])}return A},t.V=function(c){Ni(this);let y=[];if(typeof c=="string")Cx(this,c)&&(y=y.concat(this.g.get(Pa(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return Ni(this),this.i=null,c=Pa(this,c),Cx(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Nx(c,y,A){kx(c,y),0<A.length&&(c.i=null,c.g.set(Pa(c,y),v(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var R=y[A];const W=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var L=W;oe[R]!==""&&(L+="="+encodeURIComponent(String(oe[R]))),c.push(L)}}return this.i=c.join("&")};function Pa(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function VM(c,y){y&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(A,R){var L=R.toLowerCase();R!=L&&(kx(this,R),Nx(this,L,A))},c)),c.j=y}function FM(c,y){const A=new Sl;if(s.Image){const R=new Image;R.onload=p(ji,A,"TestLoadImage: loaded",!0,y,R),R.onerror=p(ji,A,"TestLoadImage: error",!1,y,R),R.onabort=p(ji,A,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(ji,A,"TestLoadImage: timeout",!1,y,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function BM(c,y){const A=new Sl,R=new AbortController,L=setTimeout(()=>{R.abort(),ji(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(W=>{clearTimeout(L),W.ok?ji(A,"TestPingServer: ok",!0,y):ji(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),ji(A,"TestPingServer: error",!1,y)})}function ji(c,y,A,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(A)}catch{}}function UM(){this.g=new Ue}function zM(c,y,A){const R=A||"";try{Ax(c,function(L,W){let oe=L;u(L)&&(oe=M(L)),y.push(R+W+"="+encodeURIComponent(oe))})}catch(L){throw y.push(R+"type="+encodeURIComponent("_badmap")),L}}function vf(c){this.l=c.Ub||null,this.j=c.eb||!1}g(vf,cr),vf.prototype.g=function(){return new bf(this.l,this.j)},vf.prototype.i=function(c){return function(){return c}}({});function bf(c,y){Mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(bf,Mt),t=bf.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ol(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Il(this):Ol(this),this.readyState==3&&jx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Il(this))},t.Qa=function(c){this.g&&(this.response=c,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ol(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function Ol(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rx(c){let y="";return P(c,function(A,R){y+=R,y+=":",y+=A,y+=`\r
`}),y}function ag(c,y,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=Rx(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):nt(c,y,A))}function mt(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mt,Mt);var WM=/^https?$/i,GM=["POST","PUT"];t=mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zm.g(),this.v=this.o?He(this.o):He(Zm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Mx(this,W);return}if(c=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)A.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())A.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(W=>W.toLowerCase()=="content-type"),L=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(GM,y,void 0))||R||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of A)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lx(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Mx(this,W)}};function Mx(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Dx(c),_f(c)}function Dx(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),_f(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_f(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$x(this):this.bb())},t.bb=function(){$x(this)};function $x(c){if(c.h&&typeof a<"u"&&(!c.v[1]||qr(c)!=4||c.Z()!=2)){if(c.u&&qr(c)==4)lf(c.Ea,0,c);else if(Ut(c,"readystatechange"),qr(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var R;if(R=oe===0){var L=String(c.D).match(Px)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),R=!WM.test(L?L.toLowerCase():"")}A=R}if(A)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var W=2<qr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Dx(c)}}finally{_f(c)}}}}function _f(c,y){if(c.g){Lx(c);const A=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ut(c,"ready");try{A.onreadystatechange=R}catch{}}}function Lx(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ue(y)}};function Vx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HM(c){const y={};c=(c.g&&2<=qr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(_(c[R]))continue;var A=O(c[R]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const W=y[L]||[];y[L]=W,W.push(A)}S(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kl(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function Fx(c){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kl("baseRetryDelayMs",5e3,c),this.cb=kl("retryDelaySeedMs",1e4,c),this.Wa=kl("forwardChannelMaxRetries",2,c),this.wa=kl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wx(c&&c.concurrentRequestLimit),this.Da=new UM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fx.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,R){yn(0),this.W=c,this.H=y||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=Xx(this,null,this.W),xf(this)};function sg(c){if(Bx(c),c.G==3){var y=c.U++,A=Hr(c.I);if(nt(A,"SID",c.K),nt(A,"RID",y),nt(A,"TYPE","terminate"),Cl(c,A),y=new Ci(c,c.j,y),y.L=2,y.v=yf(Hr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=y.v,A=!0),A||(y.g=Yx(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pf(y)}Kx(c)}function wf(c){c.g&&(ug(c),c.g.cancel(),c.g=null)}function Bx(c){wf(c),c.u&&(s.clearTimeout(c.u),c.u=null),Sf(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function xf(c){if(!xx(c.h)&&!c.s){c.s=!0;var y=c.Ga;X||Y(),V||(X(),V=!0),q.add(y,c),c.B=0}}function qM(c,y){return Sx(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xl(h(c.Ga,c,y),qx(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Ci(this,this.j,c);let W=this.o;if(this.S&&(W?(W=E(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(L.H=W,W=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=zx(this,L,y),A=Hr(this.I),nt(A,"RID",c),nt(A,"CVER",22),this.D&&nt(A,"X-HTTP-Session-Id",this.D),Cl(this,A),W&&(this.O?y="headers="+encodeURIComponent(String(Rx(W)))+"&"+y:this.m&&ag(A,this.m,W)),og(this.h,L),this.Ua&&nt(A,"TYPE","init"),this.P?(nt(A,"$req",y),nt(A,"SID","null"),L.T=!0,tg(L,A,null)):tg(L,A,y),this.G=2}}else this.G==3&&(c?Ux(this,c):this.i.length==0||xx(this.h)||Ux(this))};function Ux(c,y){var A;y?A=y.l:A=c.U++;const R=Hr(c.I);nt(R,"SID",c.K),nt(R,"RID",A),nt(R,"AID",c.T),Cl(c,R),c.m&&c.o&&ag(R,c.m,c.o),A=new Ci(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zx(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),og(c.h,A),tg(A,R,y)}function Cl(c,y){c.H&&P(c.H,function(A,R){nt(y,R,A)}),c.l&&Ax({},function(A,R){nt(y,R,A)})}function zx(c,y,A){A=Math.min(c.i.length,A);var R=c.l?h(c.l.Na,c.l,c):null;e:{var L=c.i;let W=-1;for(;;){const oe=["count="+A];W==-1?0<A?(W=L[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let Ke=!0;for(let zt=0;zt<A;zt++){let Me=L[zt].g;const nn=L[zt].map;if(Me-=W,0>Me)W=Math.max(0,L[zt].g-100),Ke=!1;else try{zM(nn,oe,"req"+Me+"_")}catch{R&&R(nn)}}if(Ke){R=oe.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,R}function Wx(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;X||Y(),V||(X(),V=!0),q.add(y,c),c.v=0}}function lg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xl(h(c.Fa,c),qx(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),wf(this),Gx(this))};function ug(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function Gx(c){c.g=new Ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Hr(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Cl(c,y),c.m&&c.o&&ag(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=yf(Hr(y)),A.m=null,A.P=!0,vx(A,c)}t.Za=function(){this.C!=null&&(this.C=null,wf(this),lg(this),yn(19))};function Sf(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Hx(c,y){var A=null;if(c.g==y){Sf(c),ug(c),c.g=null;var R=2}else if(ig(c.h,y))A=y.D,Ex(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;R=ff(),Ut(R,new px(R,A)),xf(c)}else Wx(c);else if(L=y.s,L==3||L==0&&0<y.X||!(R==1&&qM(c,y)||R==2&&lg(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),L){case 1:ko(c,5);break;case 4:ko(c,10);break;case 3:ko(c,6);break;default:ko(c,2)}}}function qx(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function ko(c,y){if(c.j.info("Error code "+y),y==2){var A=h(c.fb,c),R=c.Xa;const L=!R;R=new Oo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||mf(R,"https"),yf(R),L?FM(R.toString(),A):BM(R.toString(),A)}else yn(2);c.G=0,c.l&&c.l.sa(y),Kx(c),Bx(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Kx(c){if(c.G=0,c.ka=[],c.l){const y=Tx(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Xx(c,y,A){var R=A instanceof Oo?Hr(A):new Oo(A);if(R.g!="")y&&(R.g=y+"."+R.g),gf(R,R.s);else{var L=s.location;R=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var W=new Oo(null);R&&mf(W,R),y&&(W.g=y),L&&gf(W,L),A&&(W.l=A),R=W}return A=c.D,y=c.ya,A&&y&&nt(R,A,y),nt(R,"VER",c.la),Cl(c,R),R}function Yx(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new mt(new vf({eb:A})):new mt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qx(){}t=Qx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ef(){}Ef.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){Mt.call(this),this.g=new Fx(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!_(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!_(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ia(this)}g(Rn,Mt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){sg(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=M(c),c=A);y.i.push(new kM(y.Ya++,c)),y.G==3&&xf(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,Rn.aa.N.call(this)};function Jx(c){Qm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}g(Jx,Qm);function Zx(){Jm.call(this),this.status=1}g(Zx,Jm);function Ia(c){this.g=c}g(Ia,Qx),Ia.prototype.ua=function(){Ut(this.g,"a")},Ia.prototype.ta=function(c){Ut(this.g,new Jx(c))},Ia.prototype.sa=function(c){Ut(this.g,new Zx)},Ia.prototype.ra=function(){Ut(this.g,"b")},Ef.prototype.createWebChannel=Ef.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,e2=function(){return new Ef},Zk=function(){return ff()},Jk=Po,Sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},df.NO_ERROR=0,df.TIMEOUT=8,df.HTTP_ERROR=6,Ed=df,mx.COMPLETE="complete",Qk=mx,se.EventType=_l,_l.OPEN="a",_l.CLOSE="b",_l.ERROR="c",_l.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,nu=se,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,Yk=mt}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new s_("@firebase/firestore");function Fl(){return la.logLevel}function pe(t,...e){if(la.logLevel<=ke.DEBUG){const n=e.map(c_);la.debug(`Firestore (${rl}): ${t}`,...n)}}function bi(t,...e){if(la.logLevel<=ke.ERROR){const n=e.map(c_);la.error(`Firestore (${rl}): ${t}`,...n)}}function xs(t,...e){if(la.logLevel<=ke.WARN){const n=e.map(c_);la.warn(`Firestore (${rl}): ${t}`,...n)}}function c_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+t;throw bi(e),new Error(e)}function We(t,e){t||we()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class n3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r3{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ui,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new t2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new un(e)}}class i3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new a3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new jt(0,0))}static max(){return new xe(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Wu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const u3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Wu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return u3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}function c3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new po(i,ye.empty(),e)}function f3(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(xe.min(),ye.empty(),-1)}static max(){return new po(xe.max(),ye.empty(),-1)}}function d3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==h3)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function m3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}f_.oe=-1;function Vp(t){return t==null}function sh(t){return t===0&&1/t==-1/0}function g3(t){return typeof t=="number"&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=o??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,o){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wS(this.data.getIterator())}getIteratorFrom(e){return new wS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class wS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Jt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new i2("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(We(!!t),typeof t=="string"){let e=0;const n=y3.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function h_(t){const e=t.mapValue.fields.__previous_value__;return d_(e)?h_(e):e}function Gu(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d_(t)?4:_3(t)?9007199254740991:b3(t)?10:11:we()}function Fr(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=mo(i.timestampValue),s=mo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ua(i.bytesValue).isEqual(ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=vt(i.doubleValue),s=vt(o.doubleValue);return a===s?sh(a)===sh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(_S(a)!==_S(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Fr(a[l],s[l])))return!1;return!0}(t,e);default:return we()}}function qu(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=vt(o.integerValue||o.doubleValue),l=vt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return xS(t.timestampValue,e.timestampValue);case 4:return xS(Gu(t),Gu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ua(o),l=ua(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=De(s[u],l[u]);if(d!==0)return d}return De(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=De(vt(o.latitude),vt(a.latitude));return s!==0?s:De(vt(o.longitude),vt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,d;const f=o.fields||{},h=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=De(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:SS(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Hf.mapValue&&a===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(a===Hf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=De(l[f],d[f]);if(h!==0)return h;const p=Es(s[l[f]],u[d[f]]);if(p!==0)return p}return De(l.length,d.length)}(t.mapValue,e.mapValue);default:throw we()}}function xS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=mo(t),r=mo(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function SS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Es(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function Ts(t){return Ev(t)}function Ev(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ev(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ev(n.fields[a])}`;return i+"}"}(t.mapValue):we()}function Tv(t){return!!t&&"integerValue"in t}function p_(t){return!!t&&"arrayValue"in t}function ES(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function b3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=gu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new An(gu(this.value))}}function o2(t){const e=[];return ba(t.fields,(n,r)=>{const i=new Xt([n]);if(Td(r)){const o=o2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,xe.min(),xe.min(),An.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,xe.min(),xe.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function AS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Es(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function w3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class kt extends a2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new A3(e,r):n==="in"?new P3(e,r):n==="not-in"?new I3(e,r):n==="array-contains-any"?new O3(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E3(e,r):new T3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends a2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Br(e,n)}matches(e){return s2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function s2(t){return t.op==="and"}function l2(t){return x3(t)&&s2(t)}function x3(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function Av(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Ts(t.value);if(l2(t))return t.filters.map(e=>Av(e)).join(",");{const e=t.filters.map(n=>Av(n)).join(",");return`${t.op}(${e})`}}function u2(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&u2(a,i.filters[s]),!0):!1}(t,e):void we()}function c2(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ts(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(c2).join(" ,")+"}"}(t):"Filter"}class S3 extends kt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class E3 extends kt{constructor(e,n){super(e,"in",n),this.keys=f2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T3 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=f2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class A3 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p_(n)&&qu(n.arrayValue,this.value)}}class P3 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class I3 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class O3 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function IS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new k3(t,e,n,r,i,o,a)}function m_(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Av(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ts(r)).join(",")),e.ue=n}return e.ue}function g_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PS(t.startAt,e.startAt)&&PS(t.endAt,e.endAt)}function Pv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function C3(t,e,n,r,i,o,a,s){return new Fp(t,e,n,r,i,o,a,s)}function Bp(t){return new Fp(t)}function OS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N3(t){return t.collectionGroup!==null}function yu(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Jt(Xt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new uh(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new uh(Xt.keyField(),r))}return e.ce}function Mr(t){const e=Se(t);return e.le||(e.le=j3(e,yu(t))),e.le}function j3(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new uh(i.field,o)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e,n){return new Fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return g_(Mr(t),Mr(e))&&t.limitType===e.limitType}function d2(t){return`${m_(Mr(t))}|lt:${t.limitType}`}function Ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c2(i)).join(", ")}]`),Vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ts(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ts(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=AS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,yu(r),i)||r.endAt&&!function(a,s,l){const u=AS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,yu(r),i))}(t,e)}function R3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h2(t){return(e,n)=>{let r=!1;for(const i of yu(t)){const o=M3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Es(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return r2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new pt(ye.comparator);function _i(){return D3}const p2=new pt(ye.comparator);function ru(...t){let e=p2;for(const n of t)e=e.insert(n.key,n);return e}function m2(t){let e=p2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return vu()}function g2(){return vu()}function vu(){return new il(t=>t.toString(),(t,e)=>t.isEqual(e))}const $3=new pt(ye.comparator),L3=new Jt(ye.comparator);function Oe(...t){let e=L3;for(const n of t)e=e.add(n);return e}const V3=new Jt(De);function F3(){return V3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function y2(t){return{integerValue:""+t}}function v2(t,e){return g3(e)?y2(e):y_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function B3(t,e,n){return t instanceof ch?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&d_(o)&&(o=h_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Ku?_2(t,e):t instanceof Xu?w2(t,e):function(i,o){const a=b2(i,o),s=kS(a)+kS(i.Pe);return Tv(a)&&Tv(i.Pe)?y2(s):y_(i.serializer,s)}(t,e)}function U3(t,e,n){return t instanceof Ku?_2(t,e):t instanceof Xu?w2(t,e):n}function b2(t,e){return t instanceof Yu?function(r){return Tv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ch extends Wp{}class Ku extends Wp{constructor(e){super(),this.elements=e}}function _2(t,e){const n=x2(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xu extends Wp{constructor(e){super(),this.elements=e}}function w2(t,e){let n=x2(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Yu extends Wp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kS(t){return vt(t.integerValue||t.doubleValue)}function x2(t){return p_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.field=e,this.transform=n}}function W3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Xu&&i instanceof Xu?Ss(r.elements,i.elements,Fr):r instanceof Yu&&i instanceof Yu?Fr(r.Pe,i.Pe):r instanceof ch&&i instanceof ch}(t.transform,e.transform)}class G3{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gp{}function S2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v_(t.key,tr.none()):new Uc(t.key,t.data,tr.none());{const n=t.data,r=An.empty();let i=new Jt(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new _o(t.key,r,new Bn(i.toArray()),tr.none())}}function H3(t,e,n){t instanceof Uc?function(i,o,a){const s=i.value.clone(),l=NS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,o,a){if(!Ad(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=NS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(E2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function bu(t,e,n,r){return t instanceof Uc?function(o,a,s,l){if(!Ad(o.precondition,a))return s;const u=o.value.clone(),d=jS(o.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(o,a,s,l){if(!Ad(o.precondition,a))return s;const u=jS(o.fieldTransforms,l,a),d=a.data;return d.setAll(E2(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Ad(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function q3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=b2(r.transform,i||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function CS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(o,a)=>W3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Gp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _o extends Gp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function E2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NS(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,U3(a,s,n[i]))}return r}function jS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,B3(o,a,e))}return r}class v_ extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K3 extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&H3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=S2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,r)=>CS(n,r))&&Ss(this.baseMutations,e.baseMutations,(n,r)=>CS(n,r))}}class b_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=function(){return $3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new b_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ne;function J3(t){switch(t){default:return we();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function T2(t){if(t===void 0)return bi("GRPC error has no .code"),J.UNKNOWN;switch(t){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return we()}}(Ne=xt||(xt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Qo([4294967295,4294967295],0);function RS(t){const e=Z3().encode(t),n=new Xk;return n.update(e),new Uint8Array(n.digest())}function MS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,o],0)]}class __{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(eV)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=RS(e),[r,i]=MS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new __(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=RS(e),[r,i]=MS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hp(xe.min(),i,new pt(De),_i(),Oe())}}class zc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class A2{constructor(e,n){this.targetId=e,this.me=n}}class P2{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DS{constructor(){this.fe=0,this.ge=LS(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tV{constructor(e){this.Le=e,this.Be=new Map,this.ke=_i(),this.qe=$S(),this.Qe=new pt(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Pv(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,fn.newNoDocument(a,xe.min()))}else We(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ua(r).toUint8Array()}catch(l){if(l instanceof i2)return xs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new __(a,i,o)}catch(l){return xs(l instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Pv(s.target)){const l=new ye(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,fn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Hp(e,n,this.Qe,this.ke,r);return this.ke=_i(),this.qe=$S(),this.Qe=new pt(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $S(){return new pt(ye.comparator)}function LS(){return new pt(ye.comparator)}const nV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iV=(()=>({and:"AND",or:"OR"}))();class oV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ov(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aV(t,e){return fh(t,e.toTimestamp())}function Dr(t){return We(!!t),xe.fromTimestamp(function(n){const r=mo(n);return new jt(r.seconds,r.nanos)}(t))}function w_(t,e){return kv(t,e).canonicalString()}function kv(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O2(t){const e=lt.fromString(t);return We(R2(e)),e}function Cv(t,e){return w_(t.databaseId,e.path)}function Ug(t,e){const n=O2(e);if(n.get(1)!==t.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(C2(n))}function k2(t,e){return w_(t.databaseId,e)}function sV(t){const e=O2(t);return e.length===4?lt.emptyPath():C2(e)}function Nv(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C2(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VS(t,e,n){return{name:Cv(t,e),fields:n.value.mapValue.fields}}function lV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(We(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(We(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?J.UNKNOWN:T2(u.code);return new me(d,u.message||"")}(a);n=new P2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ug(t,r.document.name),o=Dr(r.document.updateTime),a=r.document.createTime?Dr(r.document.createTime):xe.min(),s=new An({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Pd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ug(t,r.document),o=r.readTime?Dr(r.readTime):xe.min(),a=fn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Pd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ug(t,r.document),o=r.removedTargetIds||[];n=new Pd([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Q3(i,o),s=r.targetId;n=new A2(s,a)}}return n}function uV(t,e){let n;if(e instanceof Uc)n={update:VS(t,e.key,e.value)};else if(e instanceof v_)n={delete:Cv(t,e.key)};else if(e instanceof _o)n={update:VS(t,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof K3))return we();n={verify:Cv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Xu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Yu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),n}function cV(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Dr(i.updateTime):Dr(o);return a.isEqual(xe.min())&&(a=Dr(o)),new G3(a,i.transformResults||[])}(n,e))):[]}function fV(t,e){return{documents:[k2(t,e.path)]}}function dV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k2(t,i);const o=function(u){if(u.length!==0)return j2(Br.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Da(h.field),direction:mV(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ov(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function hV(t){let e=sV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=N2(f);return h instanceof Br&&l2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(g){return new uh($a(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Vp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new lh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new lh(p,h)}(n.endAt)),C3(e,i,a,o,s,"F",l,u)}function pV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$a(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$a(n.unaryFilter.field);return kt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return kt.create($a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>N2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function mV(t){return nV[t]}function gV(t){return rV[t]}function yV(t){return iV[t]}function Da(t){return{fieldPath:t.canonicalString()}}function $a(t){return Xt.fromServerFormat(t.fieldPath)}function j2(t){return t instanceof kt?function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(ES(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(ES(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:gV(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>j2(i));return r.length===1?r[0]:{compositeFilter:{op:yV(n.op),filters:r}}}(t):we()}function vV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,i,o=xe.min(),a=xe.min(),s=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.ct=e}}function _V(t){const e=hV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.un=new xV}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(po.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new As(0)}static kn(){return new As(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.changes=new il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bu(r.mutation,i,Bn.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=ru();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=_i();const a=vu(),s=function(){return vu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _o)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),bu(d.mutation,u,d.mutation.getFieldMask(),jt.now())):a.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new EV(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=vu();let i=new pt((a,s)=>a-s),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Bn.empty();d=s.applyToLocalView(u,d),r.set(l,d);const f=(i.get(s.batchId)||Oe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=g2();d.forEach(h=>{if(!o.has(h)){const p=S2(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(zo());let s=-1,l=o;return a.next(u=>ee.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(d=>({batchId:s,changes:m2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ru();return this.indexManager.getCollectionParents(e,o).next(s=>ee.forEach(s,l=>{const u=function(f,h){return new Fp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,fn.newInvalidDocument(d)))});let s=ru();return a.forEach((l,u)=>{const d=o.get(l);d!==void 0&&bu(d.mutation,u,Bn.empty(),jt.now()),zp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_V(i.bundledQuery),readTime:Dr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.overlays=new pt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=zo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=zo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return ee.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Y3(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.Tr=new Jt(Dt.Er),this.dr=new Jt(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new lt([])),r=new Dt(n,e),i=new Dt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new lt([])),r=new Dt(n,e),i=new Dt(n,e+1);let o=Oe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(Dt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new X3(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Dt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(De);return n.forEach(i=>{const o=new Dt(i,0),a=new Dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new Dt(new ye(o),0);let s=new Jt(De);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),ee.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const o=new Dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Dt(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.Mr=e,this.docs=function(){return new pt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_i();const a=n.path,s=new ye(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||d3(f3(d),r)<=0||(i.has(d.key)||zp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CV(this)}getSize(e){return ee.resolve(this.size)}}class CV extends SV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.persistence=e,this.Nr=new il(n=>m_(n),g_),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new x_,this.targetCount=0,this.kr=As.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new As(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new f_(0),this.Kr=!1,this.Kr=!0,this.$r=new IV,this.referenceDelegate=e(this),this.Ur=new NV(this),this.indexManager=new wV,this.remoteDocumentCache=function(i){return new kV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bV(n),this.Gr=new AV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new OV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new RV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class RV extends p3{constructor(e){super(),this.currentSequenceNumber=e}}class S_{constructor(e){this.persistence=e,this.Jr=new x_,this.Yr=null}static Zr(e){return new S_(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new E_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DL()?8:m3(mn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new MV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fl()<=ke.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Fl()<=ke.DEBUG&&pe("QueryEngine","Query:",Ma(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fl()<=ke.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):ee.resolve())}Yi(e,n){if(OS(n))return ee.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iv(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Oe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Iv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return OS(n)||i.isEqual(xe.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?ee.resolve(null):(Fl()<=ke.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ma(n)),this.rs(e,a,n,c3(i,-1)).next(s=>s))})}ts(e,n){let r=new Jt(h2(e));return n.forEach((i,o)=>{zp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Fl()<=ke.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Ji.getDocumentsMatchingQuery(e,n,po.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt(De),this._s=new il(o=>m_(o),g_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LV(t,e,n,r){return new $V(t,e,n,r)}async function M2(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Oe();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function VV(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const f=u.batch,h=f.keys();let p=ee.resolve();return h.forEach(g=>{p=p.next(()=>d.getEntry(l,g)).next(v=>{const b=u.docVersions.get(g);We(b!==null),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Oe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D2(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function FV(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(v,b,w){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,d)&&s.push(n.Ur.updateTargetData(o,p))});let l=_i(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(BV(o,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(xe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return ee.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function BV(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=_i();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):pe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function UV(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zV(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ki(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jv(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bc(a))throw a;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function FS(t,e,n){const r=Se(t);let i=xe.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=Se(l),h=f._s.get(d);return h!==void 0?ee.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,a,Mr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:xe.min(),n?o:Oe())).next(s=>(WV(r,R3(e),s),{documents:s,Ts:o})))}function WV(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class BS{constructor(){this.activeTargetIds=F3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GV{constructor(){this.so=new BS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new BS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function zg(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class XV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=zg(),l=this.xo(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(d=>(pe("RestConnection",`Received RPC '${n}' ${s}: `,d),d),d=>{throw xs("RestConnection",`RPC '${n}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=qV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=zg();return new Promise((a,s)=>{const l=new Yk;l.setWithCredentials(!0),l.listenOnce(Qk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ed.NO_ERROR:const d=l.getResponseJson();pe(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Ed.TIMEOUT:pe(sn,`RPC '${e}' ${o} timed out`),s(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const f=l.getStatus();if(pe(sn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(p.status);s(new me(g,p.message))}else s(new me(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new me(J.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(sn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);pe(sn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=zg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=e2(),s=Zk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");pe(sn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,p=!1;const g=new KV({Io:b=>{p?pe(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(pe(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),pe(sn,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),v=(b,w,_)=>{b.listen(w,x=>{try{_(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,nu.EventType.OPEN,()=>{p||(pe(sn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,nu.EventType.CLOSE,()=>{p||(p=!0,pe(sn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,nu.EventType.ERROR,b=>{p||(p=!0,xs(sn,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new me(J.UNAVAILABLE,"The operation could not be completed")))}),v(f,nu.EventType.MESSAGE,b=>{var w;if(!p){const _=b.data[0];We(!!_);const x=_,k=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(k){pe(sn,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let P=function(I){const C=xt[I];if(C!==void 0)return T2(C)}(T),S=k.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+T+" with message "+k.message),p=!0,g.So(new me(P,S)),f.close()}else pe(sn,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),v(s,Jk.STAT_EVENT,b=>{b.stat===Sv.PROXY?pe(sn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Sv.NOPROXY&&pe(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new oV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new me(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YV extends L2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lV(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?Dr(a.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Pv(l)?{documents:fV(o,l)}:{query:dV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=I2(o,a.resumeToken);const u=Ov(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(xe.min())>0){s.readTime=fh(o,a.snapshotVersion.toTimestamp());const u=Ov(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=pV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nv(this.serializer),n.removeTarget=e,this.a_(n)}}class QV extends L2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cV(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,kv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,kv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ZV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bi(n),this.D_=!1):pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{_a(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.L_.add(4),await Wc(u),u.q_.set("Unknown"),u.L_.delete(4),await Kp(u)}(this))})}),this.q_=new ZV(r,i)}}async function Kp(t){if(_a(t))for(const e of t.B_)await e(!0)}async function Wc(t){for(const e of t.B_)await e(!1)}function V2(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),I_(n)?P_(n):ol(n).r_()&&A_(n,e))}function T_(t,e){const n=Se(t),r=ol(n);n.N_.delete(e),r.r_()&&F2(n,e),n.N_.size===0&&(r.r_()?r.o_():_a(n)&&n.q_.set("Unknown"))}function A_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).A_(e)}function F2(t,e){t.Q_.xe(e),ol(t).R_(e)}function P_(t){t.Q_=new tV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.q_.v_()}function I_(t){return _a(t)&&!ol(t).n_()&&t.N_.size>0}function _a(t){return Se(t).L_.size===0}function B2(t){t.Q_=void 0}async function tF(t){t.q_.set("Online")}async function nF(t){t.N_.forEach((e,n)=>{A_(t,e)})}async function rF(t,e){B2(t),I_(t)?(t.q_.M_(e),P_(t)):t.q_.set("Unknown")}async function iF(t,e,n){if(t.q_.set("Online"),e instanceof P2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof Pd?t.Q_.Ke(e):e instanceof A2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await D2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),F2(o,l);const f=new Ki(d.target,l,u,d.sequenceNumber);A_(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Bc(e))throw e;t.L_.add(1),await Wc(t),t.q_.set("Offline"),n||(n=()=>D2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kp(t)})}function U2(t,e){return e().catch(n=>dh(t,n,e))}async function Xp(t){const e=Se(t),n=go(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oF(e);)try{const i=await UV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,aF(e,i)}catch(i){await dh(e,i)}z2(e)&&W2(e)}function oF(t){return _a(t)&&t.O_.length<10}function aF(t,e){t.O_.push(e);const n=go(t);n.r_()&&n.V_&&n.m_(e.mutations)}function z2(t){return _a(t)&&!go(t).n_()&&t.O_.length>0}function W2(t){go(t).start()}async function sF(t){go(t).p_()}async function lF(t){const e=go(t);for(const n of t.O_)e.m_(n.mutations)}async function uF(t,e,n){const r=t.O_.shift(),i=b_.from(r,e,n);await U2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xp(t)}async function cF(t,e){e&&go(t).V_&&await async function(r,i){if(function(a){return J3(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();go(r).s_(),await U2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xp(r)}}(t,e),z2(t)&&W2(t)}async function zS(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=_a(n);n.L_.add(3),await Wc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kp(n)}async function fF(t,e){const n=Se(t);e?(n.L_.delete(2),await Kp(n)):e||(n.L_.add(2),await Wc(n),n.q_.set("Unknown"))}function ol(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new YV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tF.bind(null,t),Ro:nF.bind(null,t),mo:rF.bind(null,t),d_:iF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),I_(t)?P_(t):t.q_.set("Unknown")):(await t.K_.stop(),B2(t))})),t.K_}function go(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new QV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sF.bind(null,t),mo:cF.bind(null,t),f_:lF.bind(null,t),g_:uF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xp(t)):(await t.U_.stop(),t.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new O_(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k_(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Bc(t))return new me(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new as(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new as;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.W_=new pt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ps{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Ps(e,n,as.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hF{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=GS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function GS(){return new il(t=>d2(t),Up)}async function C_(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new dF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=k_(a,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&j_(n)}async function N_(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pF(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&j_(n)}function mF(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function j_(t){t.Y_.forEach(e=>{e.next()})}var Rv,HS;(HS=Rv||(Rv={})).ea="default",HS.Cache="cache";class R_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.key=e}}class H2{constructor(e){this.key=e}}class gF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=h2(e),this.Ra=new as(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new WS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=zp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=v?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(p,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return v(p)-v(g)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ps(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new WS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new H2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new G2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ps.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class yF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vF{constructor(e){this.key=e,this.va=!1}}class bF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new il(s=>d2(s),Up),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(ye.comparator),this.Na=new Map,this.La=new x_,this.Ba={},this.ka=new Map,this.qa=As.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _F(t,e,n=!0){const r=J2(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await q2(r,e,n,!0),i}async function wF(t,e){const n=J2(t);await q2(n,e,!0,!1)}async function q2(t,e,n,r){const i=await zV(t.localStore,Mr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await xF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&V2(t.remoteStore,i),s}async function xF(t,e,n,r,i){t.Ka=(f,h,p)=>async function(v,b,w,_){let x=b.view.ma(w);x.ns&&(x=await FS(v.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,x)));const k=_&&_.targetChanges.get(b.targetId),T=_&&_.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(x,v.isPrimaryClient,k,T);return KS(v,b.targetId,P.wa),P.snapshot}(t,f,h,p);const o=await FS(t.localStore,e,!0),a=new gF(e,o.Ts),s=a.ma(o.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);KS(t,n,u.wa);const d=new yF(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function SF(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Up(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T_(r.remoteStore,i.targetId),Mv(r,i.targetId)}).catch(Fc)):(Mv(r,i.targetId),await jv(r.localStore,i.targetId,!0))}async function EF(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T_(n.remoteStore,r.targetId))}async function TF(t,e,n){const r=NF(t);try{const i=await function(a,s){const l=Se(a),u=jt.now(),d=s.reduce((p,g)=>p.add(g.key),Oe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=_i(),v=Oe();return l.cs.getEntries(p,d).next(b=>{g=b,g.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const w=[];for(const _ of s){const x=q3(_,f.get(_.key).overlayedDocument);x!=null&&w.push(new _o(_.key,x,o2(x.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:m2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new pt(De)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Gc(r,i.changes),await Xp(r.remoteStore)}catch(i){const o=k_(i,"Failed to persist write");n.reject(o)}}async function K2(t,e){const n=Se(t);try{const r=await FV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?We(a.va):i.removedDocuments.size>0&&(We(a.va),a.va=!1))}),await Gc(n,r,e)}catch(r){await Fc(r)}}function qS(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Se(a);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&j_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AF(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new pt(ye.comparator);a=a.insert(o,fn.newNoDocument(o,xe.min()));const s=Oe().add(o),l=new Hp(xe.min(),new Map,new pt(De),a,s);await K2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),M_(r)}else await jv(r.localStore,e,!1).then(()=>Mv(r,e,n)).catch(Fc)}async function PF(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await VV(n.localStore,e);Y2(n,r,null),X2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,i)}catch(i){await Fc(i)}}async function IF(t,e,n){const r=Se(t);try{const i=await function(a,s){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(We(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Y2(r,e,n),X2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,i)}catch(i){await Fc(i)}}function X2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Y2(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Q2(t,r)})}function Q2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(T_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M_(t))}function KS(t,e,n){for(const r of n)r instanceof G2?(t.La.addReference(r.key,e),OF(t,r)):r instanceof H2?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Q2(t,r.key)):we()}function OF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),M_(t))}function M_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new vF(n)),t.Oa=t.Oa.insert(n,r),V2(t.remoteStore,new Ki(Mr(Bp(n.path)),r,"TargetPurposeLimboResolution",f_.oe))}}async function Gc(t,e,n){const r=Se(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=E_.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=Se(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,h=>ee.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Bc(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(h,v)}}}(r.localStore,o))}async function kF(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await M2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new me(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.hs)}}function CF(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function J2(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AF.bind(null,e),e.Ca.d_=pF.bind(null,e.eventManager),e.Ca.$a=mF.bind(null,e.eventManager),e}function NF(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IF.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LV(this.persistence,new DV,e.initialUser,this.serializer)}Ga(e){return new jV(S_.Zr,this.serializer)}Wa(e){return new GV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class Dv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kF.bind(null,this.syncEngine),await fF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hF}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(o){return new XV(o)}(e.databaseInfo);return function(o,a,s,l){return new JV(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new eF(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>qS(this.syncEngine,n,0),function(){return US.D()?new US:new HV}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,d){const f=new bF(i,o,a,s,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Wc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dv.provider={build:()=>new Dv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=n2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=k_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RF(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zS(e.remoteStore,i)),t._onlineComponents=e}async function RF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await Gg(t,new hh)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await Gg(t,new hh);return t._offlineComponents}async function Z2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await XS(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await XS(t,new Dv))),t._onlineComponents}function MF(t){return Z2(t).then(e=>e.syncEngine)}async function ph(t){const e=await Z2(t),n=e.eventManager;return n.onListen=_F.bind(null,e.syncEngine),n.onUnlisten=SF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EF.bind(null,e.syncEngine),n}function DF(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new D_({next:h=>{d.Za(),a.enqueueAndForget(()=>N_(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new R_(Bp(s.path),d,{includeMetadataChanges:!0,_a:!0});return C_(o,f)}(await ph(t),t.asyncQueue,e,n,r)),r.promise}function $F(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new D_({next:h=>{d.Za(),a.enqueueAndForget(()=>N_(o,f)),h.fromCache&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new R_(s,d,{includeMetadataChanges:!0,_a:!0});return C_(o,f)}(await ph(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){if(!n)throw new me(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LF(t,e,n,r){if(e===!0&&r===!0)throw new me(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QS(t){if(!ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$_(t);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t3;switch(r.type){case"firstParty":return new o3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YS.get(n);r&&(pe("ComponentProvider","Removing Datastore"),YS.delete(n),r.terminate())}(this),Promise.resolve()}}function VF(t,e,n,r={}){var i;const o=(t=Nn(t,Yp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=un.MOCK_USER;else{s=OL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(u)}t._authCredentials=new n3(new t2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hc(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class so extends Hc{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ye(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function hr(t,e,...n){if(t=en(t),tC("collection","path",e),t instanceof Yp){const r=lt.fromString(e,...n);return JS(r),new so(t,null,r)}{if(!(t instanceof xn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return JS(r),new so(t.firestore,null,r)}}function Kt(t,e,...n){if(t=en(t),arguments.length===1&&(e=n2.newId()),tC("doc","path",e),t instanceof Yp){const r=lt.fromString(e,...n);return QS(r),new xn(t,null,new ye(r))}{if(!(t instanceof xn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return QS(r),new xn(t.firestore,t instanceof so?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $2(this,"async_queue_retry"),this.Vu=()=>{const r=Wg();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bc(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=O_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function tE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends Yp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function FF(t,e){const n=typeof t=="object"?t:Hk(),r=typeof t=="string"?t:e||"(default)",i=u_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PL("firestore");o&&VF(i,...o)}return i}function Qp(t){if(t._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BF(t),t._firestoreClient}function BF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,d){return new v3(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(tn.fromBase64String(e))}catch(n){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Is(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;class zF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class nC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class F_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new F_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rC(this.Cu)&&UF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class WF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Qu(e,n,r,i=!1){return new F_({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new WF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);z_("Data must be an object, but it was:",a,r);const s=oC(r,a);let l,u;if(o.merge)l=new Bn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=$v(e,f,n);if(!a.contains(h))throw new me(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sC(d,h)||d.push(h)}l=new Bn(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new zF(new An(s),l,u)}class em extends Zp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}class U_ extends Zp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Yu(e.serializer,v2(e.serializer,this.$u));return new z3(e.path,n)}isEqual(e){return e instanceof U_&&this.$u===e.$u}}function GF(t,e,n,r){const i=t.Qu(1,e,n);z_("Data must be an object, but it was:",i,r);const o=[],a=An.empty();ba(r,(l,u)=>{const d=W_(e,l,n);u=en(u);const f=i.Nu(d);if(u instanceof em)o.push(d);else{const h=tm(u,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new Bn(o);return new nC(a,s,i.fieldTransforms)}function HF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[$v(e,r,n)],l=[i];if(o.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push($v(e,o[h])),l.push(o[h+1]);const u=[],d=An.empty();for(let h=s.length-1;h>=0;--h)if(!sC(u,s[h])){const p=s[h];let g=l[h];g=en(g);const v=a.Nu(p);if(g instanceof em)u.push(p);else{const b=tm(g,v);b!=null&&(u.push(p),d.set(p,b))}}const f=new Bn(u);return new nC(d,f,a.fieldTransforms)}function tm(t,e){if(aC(t=en(t)))return z_("Unsupported field value:",e,t),oC(t,e);if(t instanceof Zp)return function(r,i){if(!rC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=tm(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:fh(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,o)}}if(r instanceof L_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Is)return{bytesValue:I2(i.serializer,r._byteString)};if(r instanceof xn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:w_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof V_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return y_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$_(r)}`)}(t,e)}function oC(t,e){const n={};return r2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{const o=tm(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof L_||t instanceof Is||t instanceof xn||t instanceof Zp||t instanceof V_)}function z_(t,e,n){if(!aC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $v(t,e,n){if((e=en(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return W_(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const qF=new RegExp("[~\\*/\\[\\]]");function W_(t,e,n){if(e.search(qF)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new me(J.INVALID_ARGUMENT,s+t+l)}function sC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KF extends lC{data(){return super.data()}}function uC(t,e){return typeof e=="string"?W_(t,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XF{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>vt(a.doubleValue));return new V_(o)}convertGeoPoint(e){return new L_(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=h_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=mo(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);We(R2(r));const i=new Hu(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||bi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dC extends lC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends dC{data(e={}){return super.data(e)}}class hC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Id(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Id(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:YF(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){t=Nn(t,xn);const e=Nn(t.firestore,wi);return DF(Qp(e),t._key).then(n=>mC(e,t,n))}class G_ extends XF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function nE(t){t=Nn(t,Hc);const e=Nn(t.firestore,wi),n=Qp(e),r=new G_(e);return cC(t._query),$F(n,t._query).then(i=>new hC(e,r,t,i))}function QF(t,e,n){t=Nn(t,xn);const r=Nn(t.firestore,wi),i=fC(t.converter,e,n);return nm(r,[iC(B_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function Qr(t,e,n,...r){t=Nn(t,xn);const i=Nn(t.firestore,wi),o=B_(i);let a;return a=typeof(e=en(e))=="string"||e instanceof Jp?HF(o,"updateDoc",t._key,e,n,r):GF(o,"updateDoc",t._key,e),nm(i,[a.toMutation(t._key,tr.exists(!0))])}function Kf(t){return nm(Nn(t.firestore,wi),[new v_(t._key,tr.none())])}function Bl(t,e){const n=Nn(t.firestore,wi),r=Kt(t),i=fC(t.converter,e);return nm(n,[iC(B_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function Ya(t,...e){var n,r,i;t=en(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||tE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tE(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof xn)u=Nn(t.firestore,wi),d=Bp(t._key.path),l={next:f=>{e[a]&&e[a](mC(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Nn(t,Hc);u=Nn(f.firestore,wi),d=f._query;const h=new G_(u);l={next:p=>{e[a]&&e[a](new hC(u,h,f,p))},error:e[a+1],complete:e[a+2]},cC(t._query)}return function(h,p,g,v){const b=new D_(v),w=new R_(p,b,g);return h.asyncQueue.enqueueAndForget(async()=>C_(await ph(h),w)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>N_(await ph(h),w))}}(Qp(u),d,s,l)}function nm(t,e){return function(r,i){const o=new ui;return r.asyncQueue.enqueueAndForget(async()=>TF(await MF(r),i,o)),o.promise}(Qp(t),e)}function mC(t,e,n){const r=n.docs.get(e._key),i=new G_(t);return new dC(t,i,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function Co(t){return new U_("increment",t)}(function(e,n=!0){(function(i){rl=i})(nl),ws(new sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new wi(new r3(r.getProvider("auth-internal")),new s3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ao(bS,"4.7.3",e),ao(bS,"4.7.3","esm2017")})();function H_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JF=gC,yC=new Lc("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new s_("@firebase/auth");function ZF(t,...e){gh.logLevel<=ke.WARN&&gh.warn(`Auth (${nl}): ${t}`,...e)}function Od(t,...e){gh.logLevel<=ke.ERROR&&gh.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw K_(t,...e)}function Tr(t,...e){return K_(t,...e)}function q_(t,e,n){const r=Object.assign(Object.assign({},JF()),{[e]:n});return new Lc("auth","Firebase",r).create(e,{appName:t.name})}function Jo(t){return q_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ur(t,"argument-error"),q_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function _e(t,e,...n){if(!t)throw K_(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function xi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t6(){return rE()==="http:"||rE()==="https:"}function rE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t6()||jL()||"connection"in navigator)?navigator.onLine:!0}function r6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=kL()||RL()}get(){return n6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new qc(3e4,6e4);function Y_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function al(t,e,n,r,i={}){return bC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Vc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return NL()||(u.referrerPolicy="no-referrer"),vC.fetch()(_C(t,t.config.apiHost,n,s),u)})}async function bC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},i6),e);try{const i=new s6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Xf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Xf(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw q_(t,d,u);Ur(t,d)}}catch(i){if(i instanceof Pi)throw i;Ur(t,"network-request-failed",{message:String(i)})}}async function a6(t,e,n,r,i={}){const o=await al(t,e,n,r,i);return"mfaPendingCredential"in o&&Ur(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _C(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X_(t.config,i):`${t.config.apiScheme}://${i}`}class s6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),o6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return al(t,"POST","/v1/accounts:delete",e)}async function wC(t,e){return al(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u6(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=Q_(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_u(Hg(i.auth_time)),issuedAtTime:_u(Hg(i.iat)),expirationTime:_u(Hg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hg(t){return Number(t)*1e3}function Q_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vk(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iE(t){const e=Q_(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&c6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qu(t,wC(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xC(o.providerUserInfo):[],s=h6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vv(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function d6(t){const e=en(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xC(t){return t.map(e=>{var{providerId:n}=e,r=H_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){const n=await bC(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=_C(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",vC.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m6(t,e){return al(t,"POST","/v2/accounts:revokeToken",Y_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await p6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new ss;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ss,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u6(this,e)}reload(){return d6(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await Qu(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:T,providerData:P,stsTokenManager:S}=n;_e(x&&S,e,"internal-error");const E=ss.fromJSON(this.name,S);_e(typeof x=="string",e,"internal-error"),Mi(f,e.name),Mi(h,e.name),_e(typeof k=="boolean",e,"internal-error"),_e(typeof T=="boolean",e,"internal-error"),Mi(p,e.name),Mi(g,e.name),Mi(v,e.name),Mi(b,e.name),Mi(w,e.name),Mi(_,e.name);const I=new ri({uid:x,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:E,createdAt:w,lastLoginAt:_});return P&&Array.isArray(P)&&(I.providerData=P.map(C=>Object.assign({},C))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ss;i.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new ss;s.updateFromIdToken(r);const l=new ri({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function ii(t){xi(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SC.type="NONE";const aE=SC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=kd(this.userKey,i.apiKey,o),this.fullPersistenceKey=kd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ls(ii(aE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ii(aE);const a=kd(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){const f=ri._fromJSON(e,d);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ls(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ls(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OC(e))return"Blackberry";if(kC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||AC(e))&&!e.includes("edge/"))return"Chrome";if(IC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EC(t=mn()){return/firefox\//i.test(t)}function TC(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AC(t=mn()){return/crios\//i.test(t)}function PC(t=mn()){return/iemobile/i.test(t)}function IC(t=mn()){return/android/i.test(t)}function OC(t=mn()){return/blackberry/i.test(t)}function kC(t=mn()){return/webos/i.test(t)}function J_(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=mn()){var e;return J_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y6(){return ML()&&document.documentMode===10}function CC(t=mn()){return J_(t)||IC(t)||kC(t)||OC(t)||/windows phone/i.test(t)||PC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e=[]){let n;switch(t){case"Browser":n=sE(mn());break;case"Worker":n=`${sE(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t,e={}){return al(t,"GET","/v2/passwordPolicy",Y_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=6;class w6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:_6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new v6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wC(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ti(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Jo(this));const n=e?en(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b6(this),n=new w6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rm(t){return en(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zL(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S6(t){Z_=t}function E6(t){return Z_.loadJS(t)}function T6(){return Z_.gapiScript}function A6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e){const n=u_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(oh(o,e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}function I6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O6(t,e,n){const r=rm(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=jC(e),{host:a,port:s}=k6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||C6()}function jC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k6(t){const e=jC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:uE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:uE(a)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e){return a6(t,"POST","/v1/accounts:signInWithIdp",Y_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="http://localhost";class fa extends RC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=H_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new fa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,us(e,n)}buildRequest(){const e={requestUri:N6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends ew{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Kc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Kc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Kc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ri._fromIdTokenResponse(e,r,i),a=cE(r);return new Os({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Pi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vh(e,n,r,i)}}function MC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,o,e,r):o})}async function j6(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(Jo(r));const i="reauthenticate";try{const o=await Qu(t,MC(r,i,e,t),n);_e(o.idToken,r,"internal-error");const a=Q_(o.idToken);_e(a,r,"internal-error");const{sub:s}=a;return _e(t.uid===s,r,"user-mismatch"),Os._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){if(ti(t.app))return Promise.reject(Jo(t));const r="signIn",i=await MC(t,r,e),o=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function D6(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function $6(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function L6(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}function fE(t){return en(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=1e3,F6=10;class $C extends DC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);y6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const B6=$C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends DC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LC.type="SESSION";const VC=LC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await U6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=tw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function W6(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function G6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function q6(){return FC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebaseLocalStorageDb",K6=1,_h="firebaseLocalStorage",UC="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function X6(){const t=indexedDB.deleteDatabase(BC);return new Xc(t).toPromise()}function Fv(){const t=indexedDB.open(BC,K6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:UC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await X6(),e(await Fv()))})})}async function dE(t,e,n){const r=om(t,!0).put({[UC]:e,value:n});return new Xc(r).toPromise()}async function Y6(t,e){const n=om(t,!1).get(e),r=await new Xc(n).toPromise();return r===void 0?null:r.value}function hE(t,e){const n=om(t,!0).delete(e);return new Xc(n).toPromise()}const Q6=800,J6=3;class zC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G6(),!this.activeServiceWorker)return;this.sender=new z6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fv();return await dE(e,bh,"1"),await hE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=om(i,!1).getAll();return new Xc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zC.type="LOCAL";const Z6=zC;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e){return e?ii(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends RC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e5(t){return M6(t.auth,new nw(t),t.bypassAuthState)}function t5(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),R6(n,new nw(t),t.bypassAuthState)}async function n5(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),j6(n,new nw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e5;case"linkViaPopup":case"linkViaRedirect":return n5;case"reauthViaPopup":case"reauthViaRedirect":return t5;default:Ur(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new qc(2e3,1e4);async function i5(t,e,n){if(ti(t.app))return Promise.reject(Tr(t,"operation-not-supported-in-this-environment"));const r=rm(t);e6(t,e,ew);const i=WC(r,n);return new Wo(r,"signInViaPopup",e,i).executeNotNull()}class Wo extends GC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=tw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r5.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="pendingRedirect",Cd=new Map;class a5 extends GC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await s5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s5(t,e){const n=c5(e),r=u5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function l5(t,e){Cd.set(t._key(),e)}function u5(t){return ii(t._redirectPersistence)}function c5(t){return kd(o5,t.config.apiKey,t.name)}async function f5(t,e,n=!1){if(ti(t.app))return Promise.reject(Jo(t));const r=rm(t),i=WC(r,e),a=await new a5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=10*60*1e3;class h5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e={}){return al(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y5=/^https?/;async function v5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m5(t);for(const n of e)try{if(b5(n))return}catch{}Ur(t,"unauthorized-domain")}function b5(t){const e=Lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!y5.test(n))return!1;if(g5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new qc(3e4,6e4);function mE(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w5(t){return new Promise((e,n)=>{var r,i,o;function a(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Tr(t,"network-request-failed"))},timeout:_5.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$r().gapi)===null||o===void 0)&&o.load)a();else{const s=A6("iframefcb");return $r()[s]=()=>{gapi.load?a():n(Tr(t,"network-request-failed"))},E6(`${T6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function x5(t){return Nd=Nd||w5(t),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new qc(5e3,15e3),E5="__/auth/iframe",T5="emulator/auth/iframe",A5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X_(e,T5):`https://${t.config.authDomain}/${E5}`,r={apiKey:e.apiKey,appName:t.name,v:nl},i=P5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vc(r).slice(1)}`}async function O5(t){const e=await x5(t),n=$r().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:I5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Tr(t,"network-request-failed"),s=$r().setTimeout(()=>{o(a)},S5.get());function l(){$r().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C5=500,N5=600,j5="_blank",R5="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M5(t,e,n,r=C5,i=N5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},k5),{width:r.toString(),height:i.toString(),top:o,left:a}),u=mn().toLowerCase();n&&(s=AC(u)?j5:n),EC(u)&&(e=e||R5,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(g6(u)&&s!=="_self")return D5(e||"",s),new gE(null);const f=window.open(e||"",s,d);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new gE(f)}function D5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="__/auth/handler",L5="emulator/auth/handler",V5=encodeURIComponent("fac");async function yE(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nl,eventId:i};if(e instanceof ew){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",UL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof Kc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${V5}=${encodeURIComponent(l)}`:"";return`${F5(t)}?${Vc(s).slice(1)}${u}`}function F5({config:t}){return t.emulator?X_(t,L5):`https://${t.authDomain}/${$5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class B5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=f5,this._overrideRedirectResult=l5}async _openPopup(e,n,r,i){var o;xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await yE(e,n,r,Lv(),i);return M5(e,a,tw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yE(e,n,r,Lv(),i);return W6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O5(e),r=new h5(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[qg];a!==void 0&&n(!!a),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CC()||TC()||J_()}}const U5=B5;var vE="@firebase/auth",bE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G5(t){ws(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NC(t)},u=new x6(r,i,o,l);return I6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ws(new sa("auth-internal",e=>{const n=rm(e.getProvider("auth").getImmediate());return(r=>new z5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ao(vE,bE,W5(t)),ao(vE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=5*60,q5=Uk("authIdTokenMaxAge")||H5;let _E=null;const K5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q5)return;const i=n==null?void 0:n.token;_E!==i&&(_E=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X5(t=Hk()){const e=u_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P6(t,{popupRedirectResolver:U5,persistence:[Z6,B6,VC]}),r=Uk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=K5(o.toString());$6(n,a,()=>a(n.currentUser)),D6(n,s=>a(s))}}const i=Fk("auth");return i&&O6(n,`http://${i}`),n}function Y5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Tr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Y5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G5("Browser");const Q5={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},qC=Gk(Q5),Je=FF(qC),Yf=X5(qC),KC=new Jr;KC.setCustomParameters({prompt:"select_account"});const J5=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Z5=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]});function eB({teams:t=[],stats:e=[],onSubmit:n,onAddTeam:r}){const[i,o]=D.useState({teamName:"",opponent:"",location:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[a,s]=D.useState(""),[l,u]=D.useState(!1),[d,f]=D.useState(!1),[h,p]=D.useState(""),g=D.useMemo(()=>{const O=new Map;for(const j of t)j&&j.id&&!O.has(j.name.toLowerCase())&&O.set(j.name.toLowerCase(),j);return Array.from(O.values())},[t]),v=D.useMemo(()=>[...new Set(e.map(j=>j.opponent).filter(Boolean))],[e]),b=D.useMemo(()=>[...new Set(e.map(j=>j.location).filter(Boolean))].sort(),[e]);D.useEffect(()=>{g.length>0&&!i.teamName&&o(O=>({...O,teamName:g[0].name}))},[g,i.teamName]);const w=async()=>{if(!h.trim())return;if(g.some(j=>j.name.toLowerCase()===h.toLowerCase())){alert("Team already exists!");return}try{const j=await r(h.trim());j&&(o(N=>({...N,teamName:j.name})),p(""),f(!1))}catch(j){console.error("Error adding team:",j),alert("Failed to add team. Please try again.")}},_=O=>{const j=O.target.value;o(N=>({...N,opponent:j}))},x=O=>{const j=O.target.value;o(N=>({...N,location:j}))},k=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}u(!0),navigator.geolocation.getCurrentPosition(async O=>{try{const{latitude:j,longitude:N}=O.coords,z=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${j}&longitude=${N}&localityLanguage=en`)).json(),G=z.locality||z.city||z.principalSubdivision||`${j.toFixed(4)}, ${N.toFixed(4)}`;o(X=>({...X,location:G})),u(!1)}catch(j){console.error("Error getting location name:",j),o(N=>({...N,location:`${O.coords.latitude.toFixed(4)}, ${O.coords.longitude.toFixed(4)}`})),u(!1)}},O=>{console.error("Error getting location:",O),alert("Unable to get your location. Please enter manually."),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},T=v.some(O=>O.toLowerCase()===i.opponent.toLowerCase()),P=v.find(O=>i.opponent.length>=2&&O.toLowerCase().includes(i.opponent.toLowerCase())&&O.toLowerCase()!==i.opponent.toLowerCase()),S=b.filter(O=>i.location.length>=2&&O.toLowerCase().includes(i.location.toLowerCase())&&O.toLowerCase()!==i.location.toLowerCase()).slice(0,3),E=O=>{const{name:j,value:N}=O.target;o(U=>({...U,[j]:N}))},I=O=>{const j=O.target.value;j==="__ADD_NEW_TEAM__"?f(!0):o(N=>({...N,teamName:j}))},C=O=>{if(!i.teamName||!i.opponent){s("Please enter a team name and opponent name.");return}s("");const j=new Date(`${i.date}T${i.time}`).toISOString();typeof n=="function"?n({...i,timestamp:j},O):s("Internal error: Game submit not available.")};return m.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"flex items-center justify-center mb-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",name:"date",value:i.date,onChange:E,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),m.jsx("input",{type:"time",name:"time",value:i.time,onChange:E,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),a&&m.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sahil's Team"}),d?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"Enter new team name",value:h,onChange:O=>p(O.target.value),className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",onKeyDown:O=>{O.key==="Enter"&&w(),O.key==="Escape"&&(f(!1),p(""))},autoFocus:!0}),m.jsx("button",{type:"button",onClick:w,disabled:!h.trim(),className:"px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded font-medium",children:"Add"}),m.jsx("button",{type:"button",onClick:()=>{f(!1),p("")},className:"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}):m.jsxs("select",{name:"teamName",value:i.teamName,onChange:I,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[m.jsx("option",{value:"",disabled:!0,children:"Select Team"}),g.map(O=>m.jsx("option",{value:O.name,children:O.name},O.id)),m.jsx("option",{value:"__ADD_NEW_TEAM__",className:"font-medium text-blue-600",children:" Add New Team..."})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),m.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:i.opponent,onChange:_,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),i.opponent&&m.jsx("div",{className:"mt-2 text-sm",children:T?m.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):P?m.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",m.jsx("button",{type:"button",onClick:()=>o(O=>({...O,opponent:P})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:P}),"?"]}):m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[m.jsx(J5,{className:"inline w-4 h-4 mr-1"}),"Location"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",name:"location",placeholder:"e.g., Oakland Rec Center, Home Court",value:i.location,onChange:x,className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),m.jsx("button",{type:"button",onClick:k,disabled:l,className:"px-3 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center",title:"Auto-detect location",children:l?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(Z5,{className:"w-4 h-4"})})]}),S.length>0&&m.jsxs("div",{className:"mt-2 text-sm",children:[m.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Previous locations:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(O=>m.jsx("button",{type:"button",onClick:()=>o(j=>({...j,location:O})),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:O},O))})]}),i.location&&!b.includes(i.location)&&m.jsx("div",{className:"mt-2 text-sm",children:m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New location"]})})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[m.jsx("button",{onClick:()=>C("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",title:"Start Live Game & Track Stats",children:"Start Live Game & Track Stats"}),m.jsx("button",{onClick:()=>C("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function XC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XC(t))&&(r&&(r+=" "),r+=e);return r}var tB=Array.isArray,jn=tB,nB=typeof Af=="object"&&Af&&Af.Object===Object&&Af,YC=nB,rB=YC,iB=typeof self=="object"&&self&&self.Object===Object&&self,oB=rB||iB||Function("return this")(),Wr=oB,aB=Wr,sB=aB.Symbol,Yc=sB,wE=Yc,QC=Object.prototype,lB=QC.hasOwnProperty,uB=QC.toString,Ul=wE?wE.toStringTag:void 0;function cB(t){var e=lB.call(t,Ul),n=t[Ul];try{t[Ul]=void 0;var r=!0}catch{}var i=uB.call(t);return r&&(e?t[Ul]=n:delete t[Ul]),i}var fB=cB,dB=Object.prototype,hB=dB.toString;function pB(t){return hB.call(t)}var mB=pB,xE=Yc,gB=fB,yB=mB,vB="[object Null]",bB="[object Undefined]",SE=xE?xE.toStringTag:void 0;function _B(t){return t==null?t===void 0?bB:vB:SE&&SE in Object(t)?gB(t):yB(t)}var Ii=_B;function wB(t){return t!=null&&typeof t=="object"}var Oi=wB,xB=Ii,SB=Oi,EB="[object Symbol]";function TB(t){return typeof t=="symbol"||SB(t)&&xB(t)==EB}var sl=TB,AB=jn,PB=sl,IB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OB=/^\w*$/;function kB(t,e){if(AB(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PB(t)?!0:OB.test(t)||!IB.test(t)||e!=null&&t in Object(e)}var rw=kB;function CB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wo=CB;const ll=Qe(wo);var NB=Ii,jB=wo,RB="[object AsyncFunction]",MB="[object Function]",DB="[object GeneratorFunction]",$B="[object Proxy]";function LB(t){if(!jB(t))return!1;var e=NB(t);return e==MB||e==DB||e==RB||e==$B}var iw=LB;const Ae=Qe(iw);var VB=Wr,FB=VB["__core-js_shared__"],BB=FB,Kg=BB,EE=function(){var t=/[^.]+$/.exec(Kg&&Kg.keys&&Kg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UB(t){return!!EE&&EE in t}var zB=UB,WB=Function.prototype,GB=WB.toString;function HB(t){if(t!=null){try{return GB.call(t)}catch{}try{return t+""}catch{}}return""}var JC=HB,qB=iw,KB=zB,XB=wo,YB=JC,QB=/[\\^$.*+?()[\]{}|]/g,JB=/^\[object .+?Constructor\]$/,ZB=Function.prototype,e9=Object.prototype,t9=ZB.toString,n9=e9.hasOwnProperty,r9=RegExp("^"+t9.call(n9).replace(QB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i9(t){if(!XB(t)||KB(t))return!1;var e=qB(t)?r9:JB;return e.test(YB(t))}var o9=i9;function a9(t,e){return t==null?void 0:t[e]}var s9=a9,l9=o9,u9=s9;function c9(t,e){var n=u9(t,e);return l9(n)?n:void 0}var wa=c9,f9=wa,d9=f9(Object,"create"),am=d9,TE=am;function h9(){this.__data__=TE?TE(null):{},this.size=0}var p9=h9;function m9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g9=m9,y9=am,v9="__lodash_hash_undefined__",b9=Object.prototype,_9=b9.hasOwnProperty;function w9(t){var e=this.__data__;if(y9){var n=e[t];return n===v9?void 0:n}return _9.call(e,t)?e[t]:void 0}var x9=w9,S9=am,E9=Object.prototype,T9=E9.hasOwnProperty;function A9(t){var e=this.__data__;return S9?e[t]!==void 0:T9.call(e,t)}var P9=A9,I9=am,O9="__lodash_hash_undefined__";function k9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=I9&&e===void 0?O9:e,this}var C9=k9,N9=p9,j9=g9,R9=x9,M9=P9,D9=C9;function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=N9;ul.prototype.delete=j9;ul.prototype.get=R9;ul.prototype.has=M9;ul.prototype.set=D9;var $9=ul;function L9(){this.__data__=[],this.size=0}var V9=L9;function F9(t,e){return t===e||t!==t&&e!==e}var ow=F9,B9=ow;function U9(t,e){for(var n=t.length;n--;)if(B9(t[n][0],e))return n;return-1}var sm=U9,z9=sm,W9=Array.prototype,G9=W9.splice;function H9(t){var e=this.__data__,n=z9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():G9.call(e,n,1),--this.size,!0}var q9=H9,K9=sm;function X9(t){var e=this.__data__,n=K9(e,t);return n<0?void 0:e[n][1]}var Y9=X9,Q9=sm;function J9(t){return Q9(this.__data__,t)>-1}var Z9=J9,eU=sm;function tU(t,e){var n=this.__data__,r=eU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nU=tU,rU=V9,iU=q9,oU=Y9,aU=Z9,sU=nU;function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=rU;cl.prototype.delete=iU;cl.prototype.get=oU;cl.prototype.has=aU;cl.prototype.set=sU;var lm=cl,lU=wa,uU=Wr,cU=lU(uU,"Map"),aw=cU,AE=$9,fU=lm,dU=aw;function hU(){this.size=0,this.__data__={hash:new AE,map:new(dU||fU),string:new AE}}var pU=hU;function mU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gU=mU,yU=gU;function vU(t,e){var n=t.__data__;return yU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var um=vU,bU=um;function _U(t){var e=bU(this,t).delete(t);return this.size-=e?1:0,e}var wU=_U,xU=um;function SU(t){return xU(this,t).get(t)}var EU=SU,TU=um;function AU(t){return TU(this,t).has(t)}var PU=AU,IU=um;function OU(t,e){var n=IU(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kU=OU,CU=pU,NU=wU,jU=EU,RU=PU,MU=kU;function fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fl.prototype.clear=CU;fl.prototype.delete=NU;fl.prototype.get=jU;fl.prototype.has=RU;fl.prototype.set=MU;var sw=fl,ZC=sw,DU="Expected a function";function lw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(lw.Cache||ZC),n}lw.Cache=ZC;var eN=lw;const $U=Qe(eN);var LU=eN,VU=500;function FU(t){var e=LU(t,function(r){return n.size===VU&&n.clear(),r}),n=e.cache;return e}var BU=FU,UU=BU,zU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WU=/\\(\\)?/g,GU=UU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zU,function(n,r,i,o){e.push(i?o.replace(WU,"$1"):r||n)}),e}),HU=GU;function qU(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var uw=qU,PE=Yc,KU=uw,XU=jn,YU=sl,QU=1/0,IE=PE?PE.prototype:void 0,OE=IE?IE.toString:void 0;function tN(t){if(typeof t=="string")return t;if(XU(t))return KU(t,tN)+"";if(YU(t))return OE?OE.call(t):"";var e=t+"";return e=="0"&&1/t==-QU?"-0":e}var JU=tN,ZU=JU;function ez(t){return t==null?"":ZU(t)}var nN=ez,tz=jn,nz=rw,rz=HU,iz=nN;function oz(t,e){return tz(t)?t:nz(t,e)?[t]:rz(iz(t))}var rN=oz,az=sl,sz=1/0;function lz(t){if(typeof t=="string"||az(t))return t;var e=t+"";return e=="0"&&1/t==-sz?"-0":e}var cm=lz,uz=rN,cz=cm;function fz(t,e){e=uz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cz(e[n++])];return n&&n==r?t:void 0}var cw=fz,dz=cw;function hz(t,e,n){var r=t==null?void 0:dz(t,e);return r===void 0?n:r}var iN=hz;const nr=Qe(iN);function pz(t){return t==null}var mz=pz;const Pe=Qe(mz);var gz=Ii,yz=jn,vz=Oi,bz="[object String]";function _z(t){return typeof t=="string"||!yz(t)&&vz(t)&&gz(t)==bz}var wz=_z;const da=Qe(wz);var oN={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=Symbol.for("react.element"),dw=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),xz=Symbol.for("react.server_context"),gm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),Sz=Symbol.for("react.offscreen"),aN;aN=Symbol.for("react.module.reference");function sr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fw:switch(t=t.type,t){case fm:case hm:case dm:case ym:case vm:return t;default:switch(t=t&&t.$$typeof,t){case xz:case mm:case gm:case _m:case bm:case pm:return t;default:return e}}case dw:return e}}}Ge.ContextConsumer=mm;Ge.ContextProvider=pm;Ge.Element=fw;Ge.ForwardRef=gm;Ge.Fragment=fm;Ge.Lazy=_m;Ge.Memo=bm;Ge.Portal=dw;Ge.Profiler=hm;Ge.StrictMode=dm;Ge.Suspense=ym;Ge.SuspenseList=vm;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return sr(t)===mm};Ge.isContextProvider=function(t){return sr(t)===pm};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fw};Ge.isForwardRef=function(t){return sr(t)===gm};Ge.isFragment=function(t){return sr(t)===fm};Ge.isLazy=function(t){return sr(t)===_m};Ge.isMemo=function(t){return sr(t)===bm};Ge.isPortal=function(t){return sr(t)===dw};Ge.isProfiler=function(t){return sr(t)===hm};Ge.isStrictMode=function(t){return sr(t)===dm};Ge.isSuspense=function(t){return sr(t)===ym};Ge.isSuspenseList=function(t){return sr(t)===vm};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fm||t===hm||t===dm||t===ym||t===vm||t===Sz||typeof t=="object"&&t!==null&&(t.$$typeof===_m||t.$$typeof===bm||t.$$typeof===pm||t.$$typeof===mm||t.$$typeof===gm||t.$$typeof===aN||t.getModuleId!==void 0)};Ge.typeOf=sr;oN.exports=Ge;var Ez=oN.exports,Tz=Ii,Az=Oi,Pz="[object Number]";function Iz(t){return typeof t=="number"||Az(t)&&Tz(t)==Pz}var sN=Iz;const Oz=Qe(sN);var kz=sN;function Cz(t){return kz(t)&&t!=+t}var Nz=Cz;const Qc=Qe(Nz);var xr=function(e){return e===0?0:e>0?1:-1},Go=function(e){return da(e)&&e.indexOf("%")===e.length-1},ae=function(e){return Oz(e)&&!Qc(e)},jz=function(e){return Pe(e)},Nt=function(e){return ae(e)||da(e)},Rz=0,Jc=function(e){var n=++Rz;return"".concat(e||"").concat(n)},ha=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!da(e))return r;var o;if(Go(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Qc(o)&&(o=r),i&&o>n&&(o=n),o},Gi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_r=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function wh(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}var Dz=function(e,n){return ae(e)&&ae(n)?e-n:da(e)&&da(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function cs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}var $z=["viewBox","children"],Lz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kE=["points","pathLength"],Xg={svg:$z,polygon:kE,polyline:kE},hw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!ll(r))return null;var i={};return Object.keys(r).forEach(function(o){hw.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Vz=function(e,n,r){return function(i){return e(n,r,i),null}},Sh=function(e,n,r){if(!ll(e)||Bv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];hw.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Vz(a,n,r))}),i},Fz=["children"],Bz=["children"];function CE(t,e){if(t==null)return{};var n=Uz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var NE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ci=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jE=null,Yg=null,pw=function t(e){if(e===jE&&Array.isArray(Yg))return Yg;var n=[];return D.Children.forEach(e,function(r){Pe(r)||(Ez.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Yg=n,jE=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ci(i)}):r=[ci(e)],pw(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ln(t,e){var n=rr(t,e);return n&&n[0]}var RE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},zz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wz=function(e){return e&&e.type&&da(e.type)&&zz.indexOf(e.type)>=0},Gz=function(e){return e&&Uv(e)==="object"&&"clipDot"in e},Hz=function(e,n,r,i){var o,a=(o=Xg==null?void 0:Xg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ae(e)&&(i&&a.includes(n)||Lz.includes(n))||r&&hw.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!ll(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Hz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},zv=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ME(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!ME(o,a))return!1}return!0},ME=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,o=CE(r,Fz),a=n.props||{},s=a.children,l=CE(a,Bz);return i&&s?cs(o,l)&&zv(i,s):!i&&!s?cs(o,l):!1}return!1},DE=function(e,n){var r=[],i={};return pw(e).forEach(function(o,a){if(Wz(o))r.push(o);else if(o){var s=ci(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},qz=function(e){var n=e&&e.type;return n&&NE[n]?NE[n]:null},Kz=function(e,n){return pw(n).indexOf(e)},Xz=["children","width","height","viewBox","className","style","title","desc"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function Yz(t,e){if(t==null)return{};var n=Qz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Yz(t,Xz),d=i||{width:n,height:r,x:0,y:0},f=Re("recharts-surface",o);return $.createElement("svg",Wv({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var Jz=["children","className"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function Zz(t,e){if(t==null)return{};var n=e8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _t=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=Zz(t,Jz),o=Re("recharts-layer",r);return $.createElement("g",Hv({className:o},Ce(i,!0),{ref:e}),n)}),fi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function t8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var n8=t8,r8=n8;function i8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:r8(t,e,n)}var o8=i8,a8="\\ud800-\\udfff",s8="\\u0300-\\u036f",l8="\\ufe20-\\ufe2f",u8="\\u20d0-\\u20ff",c8=s8+l8+u8,f8="\\ufe0e\\ufe0f",d8="\\u200d",h8=RegExp("["+d8+a8+c8+f8+"]");function p8(t){return h8.test(t)}var lN=p8;function m8(t){return t.split("")}var g8=m8,uN="\\ud800-\\udfff",y8="\\u0300-\\u036f",v8="\\ufe20-\\ufe2f",b8="\\u20d0-\\u20ff",_8=y8+v8+b8,w8="\\ufe0e\\ufe0f",x8="["+uN+"]",qv="["+_8+"]",Kv="\\ud83c[\\udffb-\\udfff]",S8="(?:"+qv+"|"+Kv+")",cN="[^"+uN+"]",fN="(?:\\ud83c[\\udde6-\\uddff]){2}",dN="[\\ud800-\\udbff][\\udc00-\\udfff]",E8="\\u200d",hN=S8+"?",pN="["+w8+"]?",T8="(?:"+E8+"(?:"+[cN,fN,dN].join("|")+")"+pN+hN+")*",A8=pN+hN+T8,P8="(?:"+[cN+qv+"?",qv,fN,dN,x8].join("|")+")",I8=RegExp(Kv+"(?="+Kv+")|"+P8+A8,"g");function O8(t){return t.match(I8)||[]}var k8=O8,C8=g8,N8=lN,j8=k8;function R8(t){return N8(t)?j8(t):C8(t)}var M8=R8,D8=o8,$8=lN,L8=M8,V8=nN;function F8(t){return function(e){e=V8(e);var n=$8(e)?L8(e):void 0,r=n?n[0]:e.charAt(0),i=n?D8(n,1).join(""):e.slice(1);return r[t]()+i}}var B8=F8,U8=B8,z8=U8("toUpperCase"),W8=z8;const wm=Qe(W8);function Ze(t){return function(){return t}}const mN=Math.cos,Eh=Math.sin,Pr=Math.sqrt,Th=Math.PI,xm=2*Th,Xv=Math.PI,Yv=2*Xv,$o=1e-6,G8=Yv-$o;function gN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class q8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gN:H8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$o)if(!(Math.abs(f*l-u*d)>$o)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,v=l*l+u*u,b=p*p+g*g,w=Math.sqrt(v),_=Math.sqrt(h),x=o*Math.tan((Xv-Math.acos((v+h-b)/(2*w*_)))/2),k=x/_,T=x/w;Math.abs(k-1)>$o&&this._append`L${e+k*d},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*p>d*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$o||Math.abs(this._y1-d)>$o)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Yv+Yv),h>G8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>$o&&this._append`A${r},${r},0,${+(h>=Xv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new q8(e)}function gw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yN(t){this._context=t}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sm(t){return new yN(t)}function vN(t){return t[0]}function bN(t){return t[1]}function _N(t,e){var n=Ze(!0),r=null,i=Sm,o=null,a=mw(s);t=typeof t=="function"?t:t===void 0?vN:Ze(t),e=typeof e=="function"?e:e===void 0?bN:Ze(e);function s(l){var u,d=(l=gw(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Qf(t,e,n){var r=null,i=Ze(!0),o=null,a=Sm,s=null,l=mw(u);t=typeof t=="function"?t:t===void 0?vN:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bN:Ze(+n);function u(f){var h,p,g,v=(f=gw(f)).length,b,w=!1,_,x=new Array(v),k=new Array(v);for(o==null&&(s=a(_=l())),h=0;h<=v;++h){if(!(h<v&&i(b=f[h],h,f))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(x[g],k[g]);s.lineEnd(),s.areaEnd()}w&&(x[h]=+t(b,h,f),k[h]=+e(b,h,f),s.point(r?+r(b,h,f):x[h],n?+n(b,h,f):k[h]))}if(_)return s=null,_+""||null}function d(){return _N().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ze(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class wN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function K8(t){return new wN(t,!0)}function X8(t){return new wN(t,!1)}const yw={draw(t,e){const n=Pr(e/Th);t.moveTo(n,0),t.arc(0,0,n,0,xm)}},Y8={draw(t,e){const n=Pr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xN=Pr(1/3),Q8=xN*2,J8={draw(t,e){const n=Pr(e/Q8),r=n*xN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Z8={draw(t,e){const n=Pr(e),r=-n/2;t.rect(r,r,n,n)}},eW=.8908130915292852,SN=Eh(Th/10)/Eh(7*Th/10),tW=Eh(xm/10)*SN,nW=-mN(xm/10)*SN,rW={draw(t,e){const n=Pr(e*eW),r=tW*n,i=nW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=xm*o/5,s=mN(a),l=Eh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Qg=Pr(3),iW={draw(t,e){const n=-Pr(e/(Qg*3));t.moveTo(0,n*2),t.lineTo(-Qg*n,-n),t.lineTo(Qg*n,-n),t.closePath()}},qn=-.5,Kn=Pr(3)/2,Qv=1/Pr(12),oW=(Qv/2+1)*3,aW={draw(t,e){const n=Pr(e/oW),r=n/2,i=n*Qv,o=r,a=n*Qv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(qn*r-Kn*i,Kn*r+qn*i),t.lineTo(qn*o-Kn*a,Kn*o+qn*a),t.lineTo(qn*s-Kn*l,Kn*s+qn*l),t.lineTo(qn*r+Kn*i,qn*i-Kn*r),t.lineTo(qn*o+Kn*a,qn*a-Kn*o),t.lineTo(qn*s+Kn*l,qn*l-Kn*s),t.closePath()}};function sW(t,e){let n=null,r=mw(i);t=typeof t=="function"?t:Ze(t||yw),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ah(){}function Ph(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function EN(t){this._context=t}EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ph(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lW(t){return new EN(t)}function TN(t){this._context=t}TN.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uW(t){return new TN(t)}function AN(t){this._context=t}AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new AN(t)}function PN(t){this._context=t}PN.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fW(t){return new PN(t)}function $E(t){return t<0?-1:1}function LE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return($E(o)+$E(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function VE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ih(t){this._context=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,VE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,VE(this,n=LE(this,t,e)),n);break;default:Jg(this,this._t0,n=LE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function IN(t){this._context=new ON(t)}(IN.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)};function ON(t){this._context=t}ON.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function dW(t){return new Ih(t)}function hW(t){return new IN(t)}function kN(t){this._context=t}kN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FE(t),i=FE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function pW(t){return new kN(t)}function Em(t,e){this._context=t,this._t=e}Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mW(t){return new Em(t,.5)}function gW(t){return new Em(t,0)}function yW(t){return new Em(t,1)}function ks(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vW(t,e){return t[e]}function bW(t){const e=[];return e.key=t,e}function _W(){var t=Ze([]),e=Jv,n=ks,r=vW;function i(o){var a=Array.from(t.apply(this,arguments),bW),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=gw(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Jv:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ks,i):n},i}function wW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ks(t,e)}}function xW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ks(t,e)}}function SW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var v=t[e[g]],b=v[r][1]||0,w=v[r-1][1]||0;p+=b-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ks(t,e)}}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var EW=["type","size","sizeType"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return e=AW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=PW(t,"string");return Ju(e)=="symbol"?e:e+""}function PW(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IW(t,e){if(t==null)return{};var n=OW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CN={symbolCircle:yw,symbolCross:Y8,symbolDiamond:J8,symbolSquare:Z8,symbolStar:rW,symbolTriangle:iW,symbolWye:aW},kW=Math.PI/180,CW=function(e){var n="symbol".concat(wm(e));return CN[n]||yw},NW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jW=function(e,n){CN["symbol".concat(wm(e))]=n},vw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=IW(e,EW),u=UE(UE({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=CW(r),w=sW().type(b).size(NW(o,s,r));return w()},f=u.className,h=u.cx,p=u.cy,g=Ce(u,!0);return h===+h&&p===+p&&o===+o?$.createElement("path",Zv({},g,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};vw.registerSymbol=jW;function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){Zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jN(r.key),r)}}function DW(t,e,n){return e&&WE(t.prototype,e),n&&WE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $W(t,e,n){return e=Oh(e),LW(t,NN()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function LW(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VW(t)}function VW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NN=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function FW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t0(t,e)}function Zu(t,e,n){return e=jN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jN(t){var e=BW(t,"string");return Cs(e)=="symbol"?e:e+""}function BW(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xn=32,bw=function(t){function e(){return MW(this,e),$W(this,e,arguments)}return FW(e,t),DW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Xn/2,a=Xn/6,s=Xn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Xn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Xn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=RW({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(vw,{fill:l,cx:o,cy:o,size:Xn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var v=p.formatter||l,b=Re(Zu(Zu({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Ae(p.value)?null:p.value;fi(!Ae(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return $.createElement("li",e0({className:b,style:f,key:"legend-item-".concat(g)},Sh(r.props,p,g)),$.createElement(Gv,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(w,p,g):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Zu(bw,"displayName","Legend");Zu(bw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var UW=lm;function zW(){this.__data__=new UW,this.size=0}var WW=zW;function GW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var HW=GW;function qW(t){return this.__data__.get(t)}var KW=qW;function XW(t){return this.__data__.has(t)}var YW=XW,QW=lm,JW=aw,ZW=sw,e7=200;function t7(t,e){var n=this.__data__;if(n instanceof QW){var r=n.__data__;if(!JW||r.length<e7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ZW(r)}return n.set(t,e),this.size=n.size,this}var n7=t7,r7=lm,i7=WW,o7=HW,a7=KW,s7=YW,l7=n7;function dl(t){var e=this.__data__=new r7(t);this.size=e.size}dl.prototype.clear=i7;dl.prototype.delete=o7;dl.prototype.get=a7;dl.prototype.has=s7;dl.prototype.set=l7;var RN=dl,u7="__lodash_hash_undefined__";function c7(t){return this.__data__.set(t,u7),this}var f7=c7;function d7(t){return this.__data__.has(t)}var h7=d7,p7=sw,m7=f7,g7=h7;function kh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new p7;++e<n;)this.add(t[e])}kh.prototype.add=kh.prototype.push=m7;kh.prototype.has=g7;var MN=kh;function y7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var DN=y7;function v7(t,e){return t.has(e)}var $N=v7,b7=MN,_7=DN,w7=$N,x7=1,S7=2;function E7(t,e,n,r,i,o){var a=n&x7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&S7?new b7:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],v=e[f];if(r)var b=a?r(v,g,f,e,t,o):r(g,v,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!_7(e,function(w,_){if(!w7(p,_)&&(g===w||i(g,w,n,r,o)))return p.push(_)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var LN=E7,T7=Wr,A7=T7.Uint8Array,P7=A7;function I7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var O7=I7;function k7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var _w=k7,GE=Yc,HE=P7,C7=ow,N7=LN,j7=O7,R7=_w,M7=1,D7=2,$7="[object Boolean]",L7="[object Date]",V7="[object Error]",F7="[object Map]",B7="[object Number]",U7="[object RegExp]",z7="[object Set]",W7="[object String]",G7="[object Symbol]",H7="[object ArrayBuffer]",q7="[object DataView]",qE=GE?GE.prototype:void 0,Zg=qE?qE.valueOf:void 0;function K7(t,e,n,r,i,o,a){switch(n){case q7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H7:return!(t.byteLength!=e.byteLength||!o(new HE(t),new HE(e)));case $7:case L7:case B7:return C7(+t,+e);case V7:return t.name==e.name&&t.message==e.message;case U7:case W7:return t==e+"";case F7:var s=j7;case z7:var l=r&M7;if(s||(s=R7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=D7,a.set(t,e);var d=N7(s(t),s(e),r,i,o,a);return a.delete(t),d;case G7:if(Zg)return Zg.call(t)==Zg.call(e)}return!1}var X7=K7;function Y7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VN=Y7,Q7=VN,J7=jn;function Z7(t,e,n){var r=e(t);return J7(t)?r:Q7(r,n(t))}var eG=Z7;function tG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var nG=tG;function rG(){return[]}var iG=rG,oG=nG,aG=iG,sG=Object.prototype,lG=sG.propertyIsEnumerable,KE=Object.getOwnPropertySymbols,uG=KE?function(t){return t==null?[]:(t=Object(t),oG(KE(t),function(e){return lG.call(t,e)}))}:aG,cG=uG;function fG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dG=fG,hG=Ii,pG=Oi,mG="[object Arguments]";function gG(t){return pG(t)&&hG(t)==mG}var yG=gG,XE=yG,vG=Oi,FN=Object.prototype,bG=FN.hasOwnProperty,_G=FN.propertyIsEnumerable,wG=XE(function(){return arguments}())?XE:function(t){return vG(t)&&bG.call(t,"callee")&&!_G.call(t,"callee")},ww=wG,Ch={exports:{}};function xG(){return!1}var SG=xG;Ch.exports;(function(t,e){var n=Wr,r=SG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ch,Ch.exports);var BN=Ch.exports,EG=9007199254740991,TG=/^(?:0|[1-9]\d*)$/;function AG(t,e){var n=typeof t;return e=e??EG,!!e&&(n=="number"||n!="symbol"&&TG.test(t))&&t>-1&&t%1==0&&t<e}var xw=AG,PG=9007199254740991;function IG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PG}var Sw=IG,OG=Ii,kG=Sw,CG=Oi,NG="[object Arguments]",jG="[object Array]",RG="[object Boolean]",MG="[object Date]",DG="[object Error]",$G="[object Function]",LG="[object Map]",VG="[object Number]",FG="[object Object]",BG="[object RegExp]",UG="[object Set]",zG="[object String]",WG="[object WeakMap]",GG="[object ArrayBuffer]",HG="[object DataView]",qG="[object Float32Array]",KG="[object Float64Array]",XG="[object Int8Array]",YG="[object Int16Array]",QG="[object Int32Array]",JG="[object Uint8Array]",ZG="[object Uint8ClampedArray]",eH="[object Uint16Array]",tH="[object Uint32Array]",it={};it[qG]=it[KG]=it[XG]=it[YG]=it[QG]=it[JG]=it[ZG]=it[eH]=it[tH]=!0;it[NG]=it[jG]=it[GG]=it[RG]=it[HG]=it[MG]=it[DG]=it[$G]=it[LG]=it[VG]=it[FG]=it[BG]=it[UG]=it[zG]=it[WG]=!1;function nH(t){return CG(t)&&kG(t.length)&&!!it[OG(t)]}var rH=nH;function iH(t){return function(e){return t(e)}}var UN=iH,Nh={exports:{}};Nh.exports;(function(t,e){var n=YC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Nh,Nh.exports);var oH=Nh.exports,aH=rH,sH=UN,YE=oH,QE=YE&&YE.isTypedArray,lH=QE?sH(QE):aH,zN=lH,uH=dG,cH=ww,fH=jn,dH=BN,hH=xw,pH=zN,mH=Object.prototype,gH=mH.hasOwnProperty;function yH(t,e){var n=fH(t),r=!n&&cH(t),i=!n&&!r&&dH(t),o=!n&&!r&&!i&&pH(t),a=n||r||i||o,s=a?uH(t.length,String):[],l=s.length;for(var u in t)(e||gH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hH(u,l)))&&s.push(u);return s}var vH=yH,bH=Object.prototype;function _H(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bH;return t===n}var wH=_H;function xH(t,e){return function(n){return t(e(n))}}var WN=xH,SH=WN,EH=SH(Object.keys,Object),TH=EH,AH=wH,PH=TH,IH=Object.prototype,OH=IH.hasOwnProperty;function kH(t){if(!AH(t))return PH(t);var e=[];for(var n in Object(t))OH.call(t,n)&&n!="constructor"&&e.push(n);return e}var CH=kH,NH=iw,jH=Sw;function RH(t){return t!=null&&jH(t.length)&&!NH(t)}var Zc=RH,MH=vH,DH=CH,$H=Zc;function LH(t){return $H(t)?MH(t):DH(t)}var Tm=LH,VH=eG,FH=cG,BH=Tm;function UH(t){return VH(t,BH,FH)}var zH=UH,JE=zH,WH=1,GH=Object.prototype,HH=GH.hasOwnProperty;function qH(t,e,n,r,i,o){var a=n&WH,s=JE(t),l=s.length,u=JE(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:HH.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var w=t[h],_=e[h];if(r)var x=a?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(x===void 0?w===_||i(w,_,n,r,o):x)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}var KH=qH,XH=wa,YH=Wr,QH=XH(YH,"DataView"),JH=QH,ZH=wa,eq=Wr,tq=ZH(eq,"Promise"),nq=tq,rq=wa,iq=Wr,oq=rq(iq,"Set"),GN=oq,aq=wa,sq=Wr,lq=aq(sq,"WeakMap"),uq=lq,n0=JH,r0=aw,i0=nq,o0=GN,a0=uq,HN=Ii,hl=JC,ZE="[object Map]",cq="[object Object]",eT="[object Promise]",tT="[object Set]",nT="[object WeakMap]",rT="[object DataView]",fq=hl(n0),dq=hl(r0),hq=hl(i0),pq=hl(o0),mq=hl(a0),Lo=HN;(n0&&Lo(new n0(new ArrayBuffer(1)))!=rT||r0&&Lo(new r0)!=ZE||i0&&Lo(i0.resolve())!=eT||o0&&Lo(new o0)!=tT||a0&&Lo(new a0)!=nT)&&(Lo=function(t){var e=HN(t),n=e==cq?t.constructor:void 0,r=n?hl(n):"";if(r)switch(r){case fq:return rT;case dq:return ZE;case hq:return eT;case pq:return tT;case mq:return nT}return e});var gq=Lo,ey=RN,yq=LN,vq=X7,bq=KH,iT=gq,oT=jn,aT=BN,_q=zN,wq=1,sT="[object Arguments]",lT="[object Array]",Jf="[object Object]",xq=Object.prototype,uT=xq.hasOwnProperty;function Sq(t,e,n,r,i,o){var a=oT(t),s=oT(e),l=a?lT:iT(t),u=s?lT:iT(e);l=l==sT?Jf:l,u=u==sT?Jf:u;var d=l==Jf,f=u==Jf,h=l==u;if(h&&aT(t)){if(!aT(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new ey),a||_q(t)?yq(t,e,n,r,i,o):vq(t,e,l,n,r,i,o);if(!(n&wq)){var p=d&&uT.call(t,"__wrapped__"),g=f&&uT.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,b=g?e.value():e;return o||(o=new ey),i(v,b,n,r,o)}}return h?(o||(o=new ey),bq(t,e,n,r,i,o)):!1}var Eq=Sq,Tq=Eq,cT=Oi;function qN(t,e,n,r,i){return t===e?!0:t==null||e==null||!cT(t)&&!cT(e)?t!==t&&e!==e:Tq(t,e,n,r,qN,i)}var Ew=qN,Aq=RN,Pq=Ew,Iq=1,Oq=2;function kq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Aq;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Pq(d,u,Iq|Oq,r,f):h))return!1}}return!0}var Cq=kq,Nq=wo;function jq(t){return t===t&&!Nq(t)}var KN=jq,Rq=KN,Mq=Tm;function Dq(t){for(var e=Mq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rq(i)]}return e}var $q=Dq;function Lq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var XN=Lq,Vq=Cq,Fq=$q,Bq=XN;function Uq(t){var e=Fq(t);return e.length==1&&e[0][2]?Bq(e[0][0],e[0][1]):function(n){return n===t||Vq(n,t,e)}}var zq=Uq;function Wq(t,e){return t!=null&&e in Object(t)}var Gq=Wq,Hq=rN,qq=ww,Kq=jn,Xq=xw,Yq=Sw,Qq=cm;function Jq(t,e,n){e=Hq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Qq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Yq(i)&&Xq(a,i)&&(Kq(t)||qq(t)))}var Zq=Jq,eK=Gq,tK=Zq;function nK(t,e){return t!=null&&tK(t,e,eK)}var rK=nK,iK=Ew,oK=iN,aK=rK,sK=rw,lK=KN,uK=XN,cK=cm,fK=1,dK=2;function hK(t,e){return sK(t)&&lK(e)?uK(cK(t),e):function(n){var r=oK(n,t);return r===void 0&&r===e?aK(n,t):iK(e,r,fK|dK)}}var pK=hK;function mK(t){return t}var pl=mK;function gK(t){return function(e){return e==null?void 0:e[t]}}var yK=gK,vK=cw;function bK(t){return function(e){return vK(e,t)}}var _K=bK,wK=yK,xK=_K,SK=rw,EK=cm;function TK(t){return SK(t)?wK(EK(t)):xK(t)}var AK=TK,PK=zq,IK=pK,OK=pl,kK=jn,CK=AK;function NK(t){return typeof t=="function"?t:t==null?OK:typeof t=="object"?kK(t)?IK(t[0],t[1]):PK(t):CK(t)}var xo=NK;function jK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var YN=jK;function RK(t){return t!==t}var MK=RK;function DK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var $K=DK,LK=YN,VK=MK,FK=$K;function BK(t,e,n){return e===e?FK(t,e,n):LK(t,VK,n)}var UK=BK,zK=UK;function WK(t,e){var n=t==null?0:t.length;return!!n&&zK(t,e,0)>-1}var GK=WK;function HK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qK=HK;function KK(){}var XK=KK,ty=GN,YK=XK,QK=_w,JK=1/0,ZK=ty&&1/QK(new ty([,-0]))[1]==JK?function(t){return new ty(t)}:YK,eX=ZK,tX=MN,nX=GK,rX=qK,iX=$N,oX=eX,aX=_w,sX=200;function lX(t,e,n){var r=-1,i=nX,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=rX;else if(o>=sX){var u=e?null:oX(t);if(u)return aX(u);a=!1,i=iX,l=new tX}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var uX=lX,cX=xo,fX=uX;function dX(t,e){return t&&t.length?fX(t,cX(e)):[]}var hX=dX;const fT=Qe(hX);function QN(t,e,n){return e===!0?fT(t,n):Ae(e)?fT(t,e):t}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}var pX=["ref"];function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZN(r.key),r)}}function gX(t,e,n){return e&&hT(t.prototype,e),n&&hT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yX(t,e,n){return e=jh(e),vX(t,JN()?Reflect.construct(e,n||[],jh(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(t)}function _X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s0(t,e)}function Am(t,e,n){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZN(t){var e=wX(t,"string");return Ns(e)=="symbol"?e:e+""}function wX(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xX(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EX(t){return t.value}function TX(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=xX(e,pX);return $.createElement(bw,n)}var pT=1,Zo=function(t){function e(){var n;mX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yX(this,e,[].concat(i)),Am(n,"lastBoundingBox",{width:-1,height:-1}),n}return _X(e,t),gX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pT||Math.abs(i.height-this.lastBoundingBox.height)>pT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Kr(Kr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Kr(Kr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},TX(o,Kr(Kr({},this.props),{},{payload:QN(d,u,EX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Kr(Kr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Am(Zo,"displayName","Legend");Am(Zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mT=Yc,AX=ww,PX=jn,gT=mT?mT.isConcatSpreadable:void 0;function IX(t){return PX(t)||AX(t)||!!(gT&&t&&t[gT])}var OX=IX,kX=VN,CX=OX;function ej(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=CX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ej(s,e-1,n,r,i):kX(i,s):r||(i[i.length]=s)}return i}var tj=ej;function NX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var jX=NX,RX=jX,MX=RX(),DX=MX,$X=DX,LX=Tm;function VX(t,e){return t&&$X(t,e,LX)}var nj=VX,FX=Zc;function BX(t,e){return function(n,r){if(n==null)return n;if(!FX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var UX=BX,zX=nj,WX=UX,GX=WX(zX),Tw=GX,HX=Tw,qX=Zc;function KX(t,e){var n=-1,r=qX(t)?Array(t.length):[];return HX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var rj=KX;function XX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var YX=XX,yT=sl;function QX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=yT(t),a=e!==void 0,s=e===null,l=e===e,u=yT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var JX=QX,ZX=JX;function eY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ZX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var tY=eY,ny=uw,nY=cw,rY=xo,iY=rj,oY=YX,aY=UN,sY=tY,lY=pl,uY=jn;function cY(t,e,n){e.length?e=ny(e,function(o){return uY(o)?function(a){return nY(a,o.length===1?o[0]:o)}:o}):e=[lY];var r=-1;e=ny(e,aY(rY));var i=iY(t,function(o,a,s){var l=ny(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return oY(i,function(o,a){return sY(o,a,n)})}var fY=cY;function dY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hY=dY,pY=hY,vT=Math.max;function mY(t,e,n){return e=vT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=vT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),pY(t,this,s)}}var gY=mY;function yY(t){return function(){return t}}var vY=yY,bY=wa,_Y=function(){try{var t=bY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ij=_Y,wY=vY,bT=ij,xY=pl,SY=bT?function(t,e){return bT(t,"toString",{configurable:!0,enumerable:!1,value:wY(e),writable:!0})}:xY,EY=SY,TY=800,AY=16,PY=Date.now;function IY(t){var e=0,n=0;return function(){var r=PY(),i=AY-(r-n);if(n=r,i>0){if(++e>=TY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var OY=IY,kY=EY,CY=OY,NY=CY(kY),jY=NY,RY=pl,MY=gY,DY=jY;function $Y(t,e){return DY(MY(t,e,RY),t+"")}var LY=$Y,VY=ow,FY=Zc,BY=xw,UY=wo;function zY(t,e,n){if(!UY(n))return!1;var r=typeof e;return(r=="number"?FY(n)&&BY(e,n.length):r=="string"&&e in n)?VY(n[e],t):!1}var Pm=zY,WY=tj,GY=fY,HY=LY,_T=Pm,qY=HY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_T(t,e[0],e[1])?e=[]:n>2&&_T(e[0],e[1],e[2])&&(e=[e[0]]),GY(t,WY(e,1),[])}),KY=qY;const Aw=Qe(KY);function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function XY(t,e){return ZY(t)||JY(t,e)||QY(t,e)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(t,e){if(t){if(typeof t=="string")return wT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wT(t,e)}}function wT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZY(t){if(Array.isArray(t))return t}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return ec(e)=="symbol"?e:e+""}function nQ(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rQ(t){return Array.isArray(t)&&Nt(t[0])&&Nt(t[1])?t.join(" ~ "):t}var iQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,v=e.label,b=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,x=function(){if(d&&d.length){var j={padding:0,margin:0},N=(h?Aw(d,h):d).map(function(U,z){if(U.type==="none")return null;var G=ry({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),X=U.formatter||f||rQ,V=U.value,q=U.name,Y=V,ne=q;if(X&&Y!=null&&ne!=null){var B=X(V,q,U,z,d);if(Array.isArray(B)){var Q=XY(B,2);Y=Q[0],ne=Q[1]}else Y=B}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},Nt(ne)?$.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Nt(ne)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Y),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},k=ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=ry({margin:0},u),P=!Pe(v),S=P?v:"",E=Re("recharts-default-tooltip",p),I=Re("recharts-tooltip-label",g);P&&b&&d!==void 0&&d!==null&&(S=b(v,d));var C=_?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",l0({className:E,style:k},C),$.createElement("p",{className:I,style:T},$.isValidElement(S)?S:"".concat(S)),x())};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Zf(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=aQ(t,"string");return tc(e)=="symbol"?e:e+""}function aQ(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zl="recharts-tooltip-wrapper",sQ={visibility:"hidden"};function lQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(zl,Zf(Zf(Zf(Zf({},"".concat(zl,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(zl,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(zl,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(zl,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function ST(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var g=f+s,v=l[r]+u;return g>v?Math.max(d,l[r]):Math.max(f,l[r])}function uQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=ST({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=ST({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=uQ({translateX:d,translateY:f,useTranslate3d:s})):u=sQ,{cssProperties:u,cssClasses:lQ({translateX:d,translateY:f,coordinate:n})}}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function dQ(t,e,n){return e&&AT(t.prototype,e),n&&AT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,n){return e=Rh(e),pQ(t,oj()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function pQ(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(t)}function mQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(t)}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u0(t,e)}function c0(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=yQ(t,"string");return js(e)=="symbol"?e:e+""}function yQ(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PT=1,vQ=function(t){function e(){var n;fQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hQ(this,e,[].concat(i)),c0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return gQ(e,t),dQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PT||Math.abs(r.height-this.state.lastBoundingBox.height)>PT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,x=cQ({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),k=x.cssClasses,T=x.cssProperties,P=TT(TT({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return $.createElement("div",{tabIndex:-1,className:k,style:P,ref:function(E){r.wrapperNode=E}},u)}}])}(D.PureComponent),bQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},di={isSsr:bQ(),get:function(e){return di[e]},set:function(e,n){if(typeof e=="string")di[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){di[i]=e[i]})}}};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lj(r.key),r)}}function wQ(t,e,n){return e&&kT(t.prototype,e),n&&kT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e,n){return e=Mh(e),SQ(t,sj()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function SQ(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sj=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f0(t,e)}function Pw(t,e,n){return e=lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lj(t){var e=AQ(t,"string");return Rs(e)=="symbol"?e:e+""}function AQ(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PQ(t){return t.dataKey}function IQ(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(iQ,e)}var kr=function(t){function e(){return _Q(this,e),xQ(this,e,arguments)}return TQ(e,t),wQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,v=i.payloadUniqBy,b=i.position,w=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,T=g??[];f&&T.length&&(T=QN(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),v,PQ));var P=T.length>0;return $.createElement(vQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:p,position:b,reverseDirection:w,useTranslate3d:_,viewBox:x,wrapperStyle:k},IQ(u,OT(OT({},this.props),{},{payload:T})))}}])}(D.PureComponent);Pw(kr,"displayName","Tooltip");Pw(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!di.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OQ=Wr,kQ=function(){return OQ.Date.now()},CQ=kQ,NQ=/\s/;function jQ(t){for(var e=t.length;e--&&NQ.test(t.charAt(e)););return e}var RQ=jQ,MQ=RQ,DQ=/^\s+/;function $Q(t){return t&&t.slice(0,MQ(t)+1).replace(DQ,"")}var LQ=$Q,VQ=LQ,CT=wo,FQ=sl,NT=0/0,BQ=/^[-+]0x[0-9a-f]+$/i,UQ=/^0b[01]+$/i,zQ=/^0o[0-7]+$/i,WQ=parseInt;function GQ(t){if(typeof t=="number")return t;if(FQ(t))return NT;if(CT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VQ(t);var n=UQ.test(t);return n||zQ.test(t)?WQ(t.slice(2),n?2:8):BQ.test(t)?NT:+t}var uj=GQ,HQ=wo,iy=CQ,jT=uj,qQ="Expected a function",KQ=Math.max,XQ=Math.min;function YQ(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(qQ);e=jT(e)||0,HQ(n)&&(d=!!n.leading,f="maxWait"in n,o=f?KQ(jT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var S=r,E=i;return r=i=void 0,u=P,a=t.apply(E,S),a}function g(P){return u=P,s=setTimeout(w,e),d?p(P):a}function v(P){var S=P-l,E=P-u,I=e-S;return f?XQ(I,o-E):I}function b(P){var S=P-l,E=P-u;return l===void 0||S>=e||S<0||f&&E>=o}function w(){var P=iy();if(b(P))return _(P);s=setTimeout(w,v(P))}function _(P){return s=void 0,h&&r?p(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?a:_(iy())}function T(){var P=iy(),S=b(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),a}return T.cancel=x,T.flush=k,T}var QQ=YQ,JQ=QQ,ZQ=wo,eJ="Expected a function";function tJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(eJ);return ZQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),JQ(t,e,{leading:r,maxWait:e,trailing:i})}var nJ=tJ;const cj=Qe(nJ);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return nc(e)=="symbol"?e:e+""}function oJ(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aJ(t,e){return cJ(t)||uJ(t,e)||lJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cJ(t){if(Array.isArray(t))return t}var fJ=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,v=g===void 0?0:g,b=t.id,w=t.className,_=t.onResize,x=t.style,k=x===void 0?{}:x,T=D.useRef(null),P=D.useRef();P.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),E=aJ(S,2),I=E[0],C=E[1],O=D.useCallback(function(N,U){C(function(z){var G=Math.round(N),X=Math.round(U);return z.containerWidth===G&&z.containerHeight===X?z:{containerWidth:G,containerHeight:X}})},[]);D.useEffect(function(){var N=function(q){var Y,ne=q[0].contentRect,B=ne.width,Q=ne.height;O(B,Q),(Y=P.current)===null||Y===void 0||Y.call(P,B,Q)};v>0&&(N=cj(N,v,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),z=T.current.getBoundingClientRect(),G=z.width,X=z.height;return O(G,X),U.observe(T.current),function(){U.disconnect()}},[O,v]);var j=D.useMemo(function(){var N=I.containerWidth,U=I.containerHeight;if(N<0||U<0)return null;fi(Go(a)||Go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),fi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Go(a)?N:a,G=Go(l)?U:l;n&&n>0&&(z?G=z/n:G&&(z=G*n),h&&G>h&&(G=h)),fi(z>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,G,a,l,d,f,n);var X=!Array.isArray(p)&&ci(p.type).endsWith("Chart");return $.Children.map(p,function(V){return $.isValidElement(V)?D.cloneElement(V,ed({width:z,height:G},X?{style:ed({height:"100%",width:"100%",maxHeight:G,maxWidth:z},V.props.style)}:{})):V})},[n,p,l,h,f,d,I,a]);return $.createElement("div",{id:b?"".concat(b):void 0,className:Re("recharts-responsive-container",w),style:ed(ed({},k),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:T},j)}),fj=function(e){return null};fj.displayName="Cell";function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return rc(e)=="symbol"?e:e+""}function pJ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ca={widthCache:{},cacheCount:0},mJ=2e3,gJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$T="recharts_measurement_span";function yJ(t){var e=d0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||di.isSsr)return{width:0,height:0};var r=yJ(n),i=JSON.stringify({text:e,copyStyle:r});if(Ca.widthCache[i])return Ca.widthCache[i];try{var o=document.getElementById($T);o||(o=document.createElement("span"),o.setAttribute("id",$T),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=d0(d0({},gJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ca.widthCache[i]=l,++Ca.cacheCount>mJ&&(Ca.cacheCount=0,Ca.widthCache={}),l}catch{return{width:0,height:0}}},vJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Dh(t,e){return xJ(t)||wJ(t,e)||_J(t,e)||bJ()}function bJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xJ(t){if(Array.isArray(t))return t}function SJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function EJ(t,e,n){return e&&VT(t.prototype,e),n&&VT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t){var e=AJ(t,"string");return ic(e)=="symbol"?e:e+""}function AJ(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OJ=Object.keys(dj),Qa="NaN";function kJ(t,e){return t*dj[e]}var td=function(){function t(e,n){SJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!PJ.test(n)&&(this.num=NaN,this.unit=""),OJ.includes(n)&&(this.num=kJ(e,n),this.unit="px")}return EJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=IJ.exec(n))!==null&&r!==void 0?r:[],o=Dh(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function hj(t){if(t.includes(Qa))return Qa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FT.exec(e))!==null&&n!==void 0?n:[],i=Dh(r,4),o=i[1],a=i[2],s=i[3],l=td.parse(o??""),u=td.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Qa;e=e.replace(FT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BT.exec(e))!==null&&f!==void 0?f:[],p=Dh(h,4),g=p[1],v=p[2],b=p[3],w=td.parse(g??""),_=td.parse(b??""),x=v==="+"?w.add(_):w.subtract(_);if(x.isNaN())return Qa;e=e.replace(BT,x.toString())}return e}var UT=/\(([^()]*)\)/;function CJ(t){for(var e=t;e.includes("(");){var n=UT.exec(e),r=Dh(n,2),i=r[1];e=e.replace(UT,hj(i))}return e}function NJ(t){var e=t.replace(/\s+/g,"");return e=CJ(e),e=hj(e),e}function jJ(t){try{return NJ(t)}catch{return Qa}}function oy(t){var e=jJ(t.slice(5,-1));return e===Qa?"":e}var RJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MJ=["dx","dy","angle","className","breakAll"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(this,arguments)}function zT(t,e){if(t==null)return{};var n=DJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WT(t,e){return FJ(t)||VJ(t,e)||LJ(t,e)||$J()}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t,e){if(t){if(typeof t=="string")return GT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(t,e)}}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function FJ(t){if(Array.isArray(t))return t}var pj=/[ \f\n\r\t\v\u2028\u2029]+/,mj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Pe(n)||(r?o=n.toString().split(""):o=n.toString().split(pj));var a=o.map(function(l){return{word:l,width:wu(l,i).width}}),s=r?0:wu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},BJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ae(a),f=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,X){var V=X.word,q=X.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+q+r<Number(i)))Y.words.push(V),Y.width+=q+r;else{var ne={words:[V],width:q};G.push(ne)}return G},[])},p=h(n),g=function(z){return z.reduce(function(G,X){return G.width>X.width?G:X})};if(!d)return p;for(var v="",b=function(z){var G=f.slice(0,z),X=mj({breakAll:u,style:l,children:G+v}).wordsWithComputedWidth,V=h(X),q=V.length>a||g(V).width>Number(i);return[q,V]},w=0,_=f.length-1,x=0,k;w<=_&&x<=f.length-1;){var T=Math.floor((w+_)/2),P=T-1,S=b(P),E=WT(S,2),I=E[0],C=E[1],O=b(T),j=WT(O,1),N=j[0];if(!I&&!N&&(w=T+1),I&&N&&(_=T-1),!I&&N){k=C;break}x++}return k||p},HT=function(e){var n=Pe(e)?[]:e.toString().split(pj);return[{words:n}]},UJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!di.isSsr){var l,u,d=mj({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return HT(i);return BJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return HT(i)},qT="#808080",$h=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,b=e.fill,w=b===void 0?qT:b,_=zT(e,RJ),x=D.useMemo(function(){return UJ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),k=_.dx,T=_.dy,P=_.angle,S=_.className,E=_.breakAll,I=zT(_,MJ);if(!Nt(r)||!Nt(o))return null;var C=r+(ae(k)?k:0),O=o+(ae(T)?T:0),j;switch(v){case"start":j=oy("calc(".concat(u,")"));break;case"middle":j=oy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=oy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=x[0].width,z=_.width;N.push("scale(".concat((ae(z)?z/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(C,", ").concat(O,")")),N.length&&(I.transform=N.join(" ")),$.createElement("text",h0({},Ce(I,!0),{x:C,y:O,className:Re("recharts-text",S),textAnchor:p,fill:w.includes("url")?qT:w}),x.map(function(G,X){var V=G.words.join(E?"":" ");return $.createElement("tspan",{x:C,dy:X===0?j:s,key:"".concat(V,"-").concat(X)},V)}))};function lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Iw(t){let e,n,r;t.length!==2?(e=lo,n=(s,l)=>lo(t(s),l),r=(s,l)=>t(s)-l):(e=t===lo||t===zJ?t:WJ,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function WJ(){return 0}function gj(t){return t===null?NaN:+t}function*GJ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const HJ=Iw(lo),qJ=HJ.right;Iw(gj).center;const ef=qJ;class KT extends Map{constructor(e,n=YJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XT(this,e))}has(e){return super.has(XT(this,e))}set(e,n){return super.set(KJ(this,e),n)}delete(e){return super.delete(XJ(this,e))}}function XT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function KJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function YJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QJ(t=lo){if(t===lo)return yj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const JJ=Math.sqrt(50),ZJ=Math.sqrt(10),eZ=Math.sqrt(2);function Lh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=JJ?10:o>=ZJ?5:o>=eZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Lh(t,e,n*2):[s,l,u]}function p0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Lh(e,t,n):Lh(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function m0(t,e,n){return e=+e,t=+t,n=+n,Lh(t,e,n)[2]}function g0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?m0(e,t,n):m0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function QT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function vj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yj:QJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));vj(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Wl(t,n,e),i(t[r],o)>0&&Wl(t,n,r);a<s;){for(Wl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Wl(t,n,s):(++s,Wl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Wl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tZ(t,e,n){if(t=Float64Array.from(GJ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QT(t);if(e>=1)return YT(t);var r,i=(r-1)*e,o=Math.floor(i),a=YT(vj(t,o).subarray(0,o+1)),s=QT(t.subarray(o+1));return a+(s-a)*(i-o)}}function nZ(t,e,n=gj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function rZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ki(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const y0=Symbol("implicit");function Ow(){var t=new KT,e=[],n=[],r=y0;function i(o){let a=t.get(o);if(a===void 0){if(r!==y0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new KT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ow(e,n).unknown(r)},lr.apply(i,arguments),i}function oc(){var t=Ow().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,v=p?r:i;o=(v-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(v-g-o*(h-l))*d,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var b=rZ(h).map(function(w){return g+o*w});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return oc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},lr.apply(f(),arguments)}function bj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bj(e())},t}function xu(){return bj(oc.apply(null,arguments).paddingInner(1))}function kw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _j(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tf(){}var ac=.7,Vh=1/ac,fs="\\s*([+-]?\\d+)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iZ=/^#([0-9a-f]{3,8})$/,oZ=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),aZ=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),sZ=new RegExp(`^rgba\\(${fs},${fs},${fs},${sc}\\)$`),lZ=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${sc}\\)$`),uZ=new RegExp(`^hsl\\(${sc},${Lr},${Lr}\\)$`),cZ=new RegExp(`^hsla\\(${sc},${Lr},${Lr},${sc}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kw(tf,lc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZT,formatHex:ZT,formatHex8:fZ,formatHsl:dZ,formatRgb:eA,toString:eA});function ZT(){return this.rgb().formatHex()}function fZ(){return this.rgb().formatHex8()}function dZ(){return wj(this).formatHsl()}function eA(){return this.rgb().formatRgb()}function lc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tA(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oZ.exec(t))?new In(e[1],e[2],e[3],1):(e=aZ.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sZ.exec(t))?nd(e[1],e[2],e[3],e[4]):(e=lZ.exec(t))?nd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uZ.exec(t))?iA(e[1],e[2]/100,e[3]/100,1):(e=cZ.exec(t))?iA(e[1],e[2]/100,e[3]/100,e[4]):JT.hasOwnProperty(t)?tA(JT[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function tA(t){return new In(t>>16&255,t>>8&255,t&255,1)}function nd(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function hZ(t){return t instanceof tf||(t=lc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function v0(t,e,n,r){return arguments.length===1?hZ(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kw(In,v0,_j(tf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(ea(this.r),ea(this.g),ea(this.b),Fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nA,formatHex:nA,formatHex8:pZ,formatRgb:rA,toString:rA}));function nA(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function pZ(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function rA(){const t=Fh(this.opacity);return`${t===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${t===1?")":`, ${t})`}`}function Fh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ea(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ho(t){return t=ea(t),(t<16?"0":"")+t.toString(16)}function iA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wr(t,e,n,r)}function wj(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);if(t instanceof tf||(t=lc(t)),!t)return new wr;if(t instanceof wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new wr(a,s,l,t.opacity)}function mZ(t,e,n,r){return arguments.length===1?wj(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kw(wr,mZ,_j(tf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(ay(t>=240?t-240:t+120,i,r),ay(t,i,r),ay(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wr(oA(this.h),rd(this.s),rd(this.l),Fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fh(this.opacity);return`${t===1?"hsl(":"hsla("}${oA(this.h)}, ${rd(this.s)*100}%, ${rd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oA(t){return t=(t||0)%360,t<0?t+360:t}function rd(t){return Math.max(0,Math.min(1,t||0))}function ay(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cw=t=>()=>t;function gZ(t,e){return function(n){return t+n*e}}function yZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vZ(t){return(t=+t)==1?xj:function(e,n){return n-e?yZ(e,n,t):Cw(isNaN(e)?n:e)}}function xj(t,e){var n=e-t;return n?gZ(t,n):Cw(isNaN(t)?e:t)}const aA=function t(e){var n=vZ(e);function r(i,o){var a=n((i=v0(i)).r,(o=v0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=xj(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function bZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _Z(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ml(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function xZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ml(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(b0.source,"g");function EZ(t){return function(){return t}}function TZ(t){return function(e){return t(e)+""}}function AZ(t,e){var n=b0.lastIndex=sy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=b0.exec(t))&&(i=sy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Bh(r,i)})),n=sy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?TZ(l[0].x):EZ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function ml(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cw(e):(n==="number"?Bh:n==="string"?(r=lc(e))?(e=r,aA):AZ:e instanceof lc?aA:e instanceof Date?xZ:_Z(e)?bZ:Array.isArray(e)?wZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SZ:Bh)(t,e)}function Nw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function PZ(t,e){e===void 0&&(e=t,t=ml);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function IZ(t){return function(){return t}}function Uh(t){return+t}var sA=[0,1];function _n(t){return t}function _0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IZ(isNaN(e)?NaN:.5)}function OZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=_0(i,r),o=n(a,o)):(r=_0(r,i),o=n(o,a)),function(s){return o(r(s))}}function CZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=ef(t,s,1,r)-1;return o[l](i[l](s))}}function nf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Im(){var t=sA,e=sA,n=ml,r,i,o,a=_n,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==_n&&(a=OZ(t[0],t[h-1])),s=h>2?CZ:kZ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Bh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Uh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Nw,d()},f.clamp=function(h){return arguments.length?(a=h?!0:_n,d()):a!==_n},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,d()}}function jw(){return Im()(_n,_n)}function NZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ms(t){return t=zh(Math.abs(t)),t?t[1]:NaN}function jZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function RZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(t){if(!(e=MZ.exec(t)))throw new Error("invalid format: "+t);var e;return new Rw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uc.prototype=Rw.prototype;function Rw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Sj;function $Z(t,e){var n=zh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Sj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zh(t,Math.max(0,e+o-1))[0]}function lA(t,e){var n=zh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:NZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lA(t*100,e),r:lA,s:$Z,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cA(t){return t}var fA=Array.prototype.map,dA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LZ(t){var e=t.grouping===void 0||t.thousands===void 0?cA:jZ(fA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?cA:RZ(fA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=uc(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,b=f.zero,w=f.width,_=f.comma,x=f.precision,k=f.trim,T=f.type;T==="n"?(_=!0,T="g"):uA[T]||(x===void 0&&(x=12),k=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=v==="$"?r:/[%p]/.test(T)?a:"",E=uA[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(O){var j=P,N=S,U,z,G;if(T==="c")N=E(O)+N,O="";else{O=+O;var X=O<0||1/O<0;if(O=isNaN(O)?l:E(Math.abs(O),x),k&&(O=DZ(O)),X&&+O==0&&g!=="+"&&(X=!1),j=(X?g==="("?g:s:g==="-"||g==="("?"":g)+j,N=(T==="s"?dA[8+Sj/3]:"")+N+(X&&g==="("?")":""),I){for(U=-1,z=O.length;++U<z;)if(G=O.charCodeAt(U),48>G||G>57){N=(G===46?i+O.slice(U+1):O.slice(U))+N,O=O.slice(0,U);break}}}_&&!b&&(O=e(O,1/0));var V=j.length+O.length+N.length,q=V<w?new Array(w-V+1).join(h):"";switch(_&&b&&(O=e(q+O,q.length?w-N.length:1/0),q=""),p){case"<":O=j+O+N+q;break;case"=":O=j+q+O+N;break;case"^":O=q.slice(0,V=q.length>>1)+j+O+N+q.slice(V);break;default:O=q+j+O+N;break}return o(O)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=uc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ms(h)/3)))*3,v=Math.pow(10,-g),b=dA[8+g/3];return function(w){return p(v*w)+b}}return{format:u,formatPrefix:d}}var id,Mw,Ej;VZ({thousands:",",grouping:[3],currency:["$",""]});function VZ(t){return id=LZ(t),Mw=id.format,Ej=id.formatPrefix,id}function FZ(t){return Math.max(0,-Ms(Math.abs(t)))}function BZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ms(e)/3)))*3-Ms(Math.abs(t)))}function UZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ms(e)-Ms(t))+1}function Tj(t,e,n,r){var i=g0(t,e,n),o;switch(r=uc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=BZ(i,a))&&(r.precision=o),Ej(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=UZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=FZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mw(r)}function So(t){var e=t.domain;return t.ticks=function(n){var r=e();return p0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Tj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=m0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Wh(){var t=jw();return t.copy=function(){return nf(t,Wh())},lr.apply(t,arguments),So(t)}function Aj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Uh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Aj(t).unknown(e)},t=arguments.length?Array.from(t,Uh):[0,1],So(n)}function Pj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function hA(t){return Math.log(t)}function pA(t){return Math.exp(t)}function zZ(t){return-Math.log(-t)}function WZ(t){return-Math.exp(-t)}function GZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HZ(t){return t===10?GZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mA(t){return(e,n)=>-t(-e,n)}function Dw(t){const e=t(hA,pA),n=e.domain;let r=10,i,o;function a(){return i=qZ(r),o=HZ(r),n()[0]<0?(i=mA(i),o=mA(o),t(zZ,WZ)):t(hA,pA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,v;const b=s==null?10:+s;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(v=h<0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;w.push(v)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;w.push(v)}w.length*2<b&&(w=p0(u,d,b))}else w=p0(h,p,Math.min(p-h,b)).map(o);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uc(l)).precision==null&&(l.trim=!0),l=Mw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(Pj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Ij(){const t=Dw(Im()).domain([1,10]);return t.copy=()=>nf(t,Ij()).base(t.base()),lr.apply(t,arguments),t}function gA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $w(t){var e=1,n=t(gA(e),yA(e));return n.constant=function(r){return arguments.length?t(gA(e=+r),yA(e)):e},So(n)}function Oj(){var t=$w(Im());return t.copy=function(){return nf(t,Oj()).constant(t.constant())},lr.apply(t,arguments)}function vA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XZ(t){return t<0?-t*t:t*t}function Lw(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(KZ,XZ):t(vA(n),vA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},So(e)}function Vw(){var t=Lw(Im());return t.copy=function(){return nf(t,Vw()).exponent(t.exponent())},lr.apply(t,arguments),t}function YZ(){return Vw.apply(null,arguments).exponent(.5)}function bA(t){return Math.sign(t)*t*t}function QZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kj(){var t=jw(),e=[0,1],n=!1,r;function i(o){var a=QZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(bA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Uh)).map(bA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},lr.apply(i,arguments),So(i)}function Cj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=nZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[ef(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(lo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Cj().domain(t).range(e).unknown(r)},lr.apply(o,arguments)}function Nj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ef(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Nj().domain([t,e]).range(i).unknown(o)},lr.apply(So(a),arguments)}function jj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[ef(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return jj().domain(t).range(e).unknown(n)},lr.apply(i,arguments)}const ly=new Date,uy=new Date;function Rt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Rt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ly.setTime(+o),uy.setTime(+a),t(ly),t(uy),Math.floor(n(ly,uy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Gh=Rt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Gh);Gh.range;const oi=1e3,Zn=oi*60,ai=Zn*60,Si=ai*24,Fw=Si*7,_A=Si*30,cy=Si*365,qo=Rt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCSeconds());qo.range;const Bw=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oi)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());Bw.range;const Uw=Rt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());Uw.range;const zw=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oi-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getHours());zw.range;const Ww=Rt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCHours());Ww.range;const rf=Rt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/Si,t=>t.getDate()-1);rf.range;const Om=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Si,t=>t.getUTCDate()-1);Om.range;const Rj=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Si,t=>Math.floor(t/Si));Rj.range;function xa(t){return Rt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/Fw)}const km=xa(0),Hh=xa(1),JZ=xa(2),ZZ=xa(3),Ds=xa(4),eee=xa(5),tee=xa(6);km.range;Hh.range;JZ.range;ZZ.range;Ds.range;eee.range;tee.range;function Sa(t){return Rt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Fw)}const Cm=Sa(0),qh=Sa(1),nee=Sa(2),ree=Sa(3),$s=Sa(4),iee=Sa(5),oee=Sa(6);Cm.range;qh.range;nee.range;ree.range;$s.range;iee.range;oee.range;const Gw=Rt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Gw.range;const Hw=Rt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Hw.range;const Ei=Rt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ei.range;const Ti=Rt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ti.range;function Mj(t,e,n,r,i,o){const a=[[qo,1,oi],[qo,5,5*oi],[qo,15,15*oi],[qo,30,30*oi],[o,1,Zn],[o,5,5*Zn],[o,15,15*Zn],[o,30,30*Zn],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[r,1,Si],[r,2,2*Si],[n,1,Fw],[e,1,_A],[e,3,3*_A],[t,1,cy]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=Iw(([,,b])=>b).right(a,h);if(p===a.length)return t.every(g0(u/cy,d/cy,f));if(p===0)return Gh.every(Math.max(g0(u,d,f),1));const[g,v]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(v)}return[s,l]}const[aee,see]=Mj(Ti,Hw,Cm,Rj,Ww,Uw),[lee,uee]=Mj(Ei,Gw,km,rf,zw,Bw);function fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Hl(i),d=ql(i),f=Hl(o),h=ql(o),p=Hl(a),g=ql(a),v=Hl(s),b=ql(s),w=Hl(l),_=ql(l),x={a:X,A:V,b:q,B:Y,c:null,d:AA,e:AA,f:jee,g:zee,G:Gee,H:kee,I:Cee,j:Nee,L:Dj,m:Ree,M:Mee,p:ne,q:B,Q:OA,s:kA,S:Dee,u:$ee,U:Lee,V:Vee,w:Fee,W:Bee,x:null,X:null,y:Uee,Y:Wee,Z:Hee,"%":IA},k={a:Q,A:Z,b:le,B:ce,c:null,d:PA,e:PA,f:Yee,g:ate,G:lte,H:qee,I:Kee,j:Xee,L:Lj,m:Qee,M:Jee,p:be,q:Be,Q:OA,s:kA,S:Zee,u:ete,U:tte,V:nte,w:rte,W:ite,x:null,X:null,y:ote,Y:ste,Z:ute,"%":IA},T={a:C,A:O,b:j,B:N,c:U,d:EA,e:EA,f:Aee,g:SA,G:xA,H:TA,I:TA,j:xee,L:Tee,m:wee,M:See,p:I,q:_ee,Q:Iee,s:Oee,S:Eee,u:mee,U:gee,V:yee,w:pee,W:vee,x:z,X:G,y:SA,Y:xA,Z:bee,"%":Pee};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),k.x=P(n,k),k.X=P(r,k),k.c=P(e,k);function P(ie,ge){return function(H){var F=[],re=-1,he=0,Te=ie.length,Ee,tt,At;for(H instanceof Date||(H=new Date(+H));++re<Te;)ie.charCodeAt(re)===37&&(F.push(ie.slice(he,re)),(tt=wA[Ee=ie.charAt(++re)])!=null?Ee=ie.charAt(++re):tt=Ee==="e"?" ":"0",(At=ge[Ee])&&(Ee=At(H,tt)),F.push(Ee),he=re+1);return F.push(ie.slice(he,re)),F.join("")}}function S(ie,ge){return function(H){var F=Gl(1900,void 0,1),re=E(F,ie,H+="",0),he,Te;if(re!=H.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(ge&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(he=dy(Gl(F.y,0,1)),Te=he.getUTCDay(),he=Te>4||Te===0?qh.ceil(he):qh(he),he=Om.offset(he,(F.V-1)*7),F.y=he.getUTCFullYear(),F.m=he.getUTCMonth(),F.d=he.getUTCDate()+(F.w+6)%7):(he=fy(Gl(F.y,0,1)),Te=he.getDay(),he=Te>4||Te===0?Hh.ceil(he):Hh(he),he=rf.offset(he,(F.V-1)*7),F.y=he.getFullYear(),F.m=he.getMonth(),F.d=he.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Te="Z"in F?dy(Gl(F.y,0,1)).getUTCDay():fy(Gl(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Te+5)%7:F.w+F.U*7-(Te+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,dy(F)):fy(F)}}function E(ie,ge,H,F){for(var re=0,he=ge.length,Te=H.length,Ee,tt;re<he;){if(F>=Te)return-1;if(Ee=ge.charCodeAt(re++),Ee===37){if(Ee=ge.charAt(re++),tt=T[Ee in wA?ge.charAt(re++):Ee],!tt||(F=tt(ie,H,F))<0)return-1}else if(Ee!=H.charCodeAt(F++))return-1}return F}function I(ie,ge,H){var F=u.exec(ge.slice(H));return F?(ie.p=d.get(F[0].toLowerCase()),H+F[0].length):-1}function C(ie,ge,H){var F=p.exec(ge.slice(H));return F?(ie.w=g.get(F[0].toLowerCase()),H+F[0].length):-1}function O(ie,ge,H){var F=f.exec(ge.slice(H));return F?(ie.w=h.get(F[0].toLowerCase()),H+F[0].length):-1}function j(ie,ge,H){var F=w.exec(ge.slice(H));return F?(ie.m=_.get(F[0].toLowerCase()),H+F[0].length):-1}function N(ie,ge,H){var F=v.exec(ge.slice(H));return F?(ie.m=b.get(F[0].toLowerCase()),H+F[0].length):-1}function U(ie,ge,H){return E(ie,e,ge,H)}function z(ie,ge,H){return E(ie,n,ge,H)}function G(ie,ge,H){return E(ie,r,ge,H)}function X(ie){return a[ie.getDay()]}function V(ie){return o[ie.getDay()]}function q(ie){return l[ie.getMonth()]}function Y(ie){return s[ie.getMonth()]}function ne(ie){return i[+(ie.getHours()>=12)]}function B(ie){return 1+~~(ie.getMonth()/3)}function Q(ie){return a[ie.getUTCDay()]}function Z(ie){return o[ie.getUTCDay()]}function le(ie){return l[ie.getUTCMonth()]}function ce(ie){return s[ie.getUTCMonth()]}function be(ie){return i[+(ie.getUTCHours()>=12)]}function Be(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=P(ie+="",x);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=S(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=P(ie+="",k);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=S(ie+="",!0);return ge.toString=function(){return ie},ge}}}var wA={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,fee=/^%/,dee=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hee(t){return t.replace(dee,"\\$&")}function Hl(t){return new RegExp("^(?:"+t.map(hee).join("|")+")","i")}function ql(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function pee(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mee(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xA(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ee(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wee(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xee(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function TA(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pee(t,e,n){var r=fee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Iee(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AA(t,e){return $e(t.getDate(),e,2)}function kee(t,e){return $e(t.getHours(),e,2)}function Cee(t,e){return $e(t.getHours()%12||12,e,2)}function Nee(t,e){return $e(1+rf.count(Ei(t),t),e,3)}function Dj(t,e){return $e(t.getMilliseconds(),e,3)}function jee(t,e){return Dj(t,e)+"000"}function Ree(t,e){return $e(t.getMonth()+1,e,2)}function Mee(t,e){return $e(t.getMinutes(),e,2)}function Dee(t,e){return $e(t.getSeconds(),e,2)}function $ee(t){var e=t.getDay();return e===0?7:e}function Lee(t,e){return $e(km.count(Ei(t)-1,t),e,2)}function $j(t){var e=t.getDay();return e>=4||e===0?Ds(t):Ds.ceil(t)}function Vee(t,e){return t=$j(t),$e(Ds.count(Ei(t),t)+(Ei(t).getDay()===4),e,2)}function Fee(t){return t.getDay()}function Bee(t,e){return $e(Hh.count(Ei(t)-1,t),e,2)}function Uee(t,e){return $e(t.getFullYear()%100,e,2)}function zee(t,e){return t=$j(t),$e(t.getFullYear()%100,e,2)}function Wee(t,e){return $e(t.getFullYear()%1e4,e,4)}function Gee(t,e){var n=t.getDay();return t=n>=4||n===0?Ds(t):Ds.ceil(t),$e(t.getFullYear()%1e4,e,4)}function Hee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function PA(t,e){return $e(t.getUTCDate(),e,2)}function qee(t,e){return $e(t.getUTCHours(),e,2)}function Kee(t,e){return $e(t.getUTCHours()%12||12,e,2)}function Xee(t,e){return $e(1+Om.count(Ti(t),t),e,3)}function Lj(t,e){return $e(t.getUTCMilliseconds(),e,3)}function Yee(t,e){return Lj(t,e)+"000"}function Qee(t,e){return $e(t.getUTCMonth()+1,e,2)}function Jee(t,e){return $e(t.getUTCMinutes(),e,2)}function Zee(t,e){return $e(t.getUTCSeconds(),e,2)}function ete(t){var e=t.getUTCDay();return e===0?7:e}function tte(t,e){return $e(Cm.count(Ti(t)-1,t),e,2)}function Vj(t){var e=t.getUTCDay();return e>=4||e===0?$s(t):$s.ceil(t)}function nte(t,e){return t=Vj(t),$e($s.count(Ti(t),t)+(Ti(t).getUTCDay()===4),e,2)}function rte(t){return t.getUTCDay()}function ite(t,e){return $e(qh.count(Ti(t)-1,t),e,2)}function ote(t,e){return $e(t.getUTCFullYear()%100,e,2)}function ate(t,e){return t=Vj(t),$e(t.getUTCFullYear()%100,e,2)}function ste(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function lte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$s(t):$s.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function ute(){return"+0000"}function IA(){return"%"}function OA(t){return+t}function kA(t){return Math.floor(+t/1e3)}var Na,Fj,Bj;cte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cte(t){return Na=cee(t),Fj=Na.format,Na.parse,Bj=Na.utcFormat,Na.utcParse,Na}function fte(t){return new Date(t)}function dte(t){return t instanceof Date?+t:+new Date(+t)}function qw(t,e,n,r,i,o,a,s,l,u){var d=jw(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),_=u("%b %d"),x=u("%B"),k=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?g:a(P)<P?v:o(P)<P?b:r(P)<P?i(P)<P?w:_:n(P)<P?x:k)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,dte)):h().map(fte)},d.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},d.tickFormat=function(P,S){return S==null?T:u(S)},d.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(Pj(S,P)):d},d.copy=function(){return nf(d,qw(t,e,n,r,i,o,a,s,l,u))},d}function hte(){return lr.apply(qw(lee,uee,Ei,Gw,km,rf,zw,Bw,qo,Fj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pte(){return lr.apply(qw(aee,see,Ti,Hw,Cm,Om,Ww,Uw,qo,Bj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nm(){var t=0,e=1,n,r,i,o,a=_n,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),u):[a(0),a(1)]}}return u.range=d(ml),u.rangeRound=d(Nw),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uj(){var t=So(Nm()(_n));return t.copy=function(){return Eo(t,Uj())},ki.apply(t,arguments)}function zj(){var t=Dw(Nm()).domain([1,10]);return t.copy=function(){return Eo(t,zj()).base(t.base())},ki.apply(t,arguments)}function Wj(){var t=$w(Nm());return t.copy=function(){return Eo(t,Wj()).constant(t.constant())},ki.apply(t,arguments)}function Kw(){var t=Lw(Nm());return t.copy=function(){return Eo(t,Kw()).exponent(t.exponent())},ki.apply(t,arguments)}function mte(){return Kw.apply(null,arguments).exponent(.5)}function Gj(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((ef(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>tZ(t,o/r))},n.copy=function(){return Gj(e).domain(t)},ki.apply(n,arguments)}function jm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=_n,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(b){var w,_,x;return arguments.length?([w,_,x]=b,u=PZ(v,[w,_,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(ml),p.rangeRound=g(Nw),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Hj(){var t=So(jm()(_n));return t.copy=function(){return Eo(t,Hj())},ki.apply(t,arguments)}function qj(){var t=Dw(jm()).domain([.1,1,10]);return t.copy=function(){return Eo(t,qj()).base(t.base())},ki.apply(t,arguments)}function Kj(){var t=$w(jm());return t.copy=function(){return Eo(t,Kj()).constant(t.constant())},ki.apply(t,arguments)}function Xw(){var t=Lw(jm());return t.copy=function(){return Eo(t,Xw()).exponent(t.exponent())},ki.apply(t,arguments)}function gte(){return Xw.apply(null,arguments).exponent(.5)}const CA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:Hj,scaleDivergingLog:qj,scaleDivergingPow:Xw,scaleDivergingSqrt:gte,scaleDivergingSymlog:Kj,scaleIdentity:Aj,scaleImplicit:y0,scaleLinear:Wh,scaleLog:Ij,scaleOrdinal:Ow,scalePoint:xu,scalePow:Vw,scaleQuantile:Cj,scaleQuantize:Nj,scaleRadial:kj,scaleSequential:Uj,scaleSequentialLog:zj,scaleSequentialPow:Kw,scaleSequentialQuantile:Gj,scaleSequentialSqrt:mte,scaleSequentialSymlog:Wj,scaleSqrt:YZ,scaleSymlog:Oj,scaleThreshold:jj,scaleTime:hte,scaleUtc:pte,tickFormat:Tj},Symbol.toStringTag,{value:"Module"}));var yte=sl;function vte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!yte(a):n(a,s)))var s=a,l=o}return l}var Xj=vte;function bte(t,e){return t>e}var _te=bte,wte=Xj,xte=_te,Ste=pl;function Ete(t){return t&&t.length?wte(t,Ste,xte):void 0}var Tte=Ete;const Rm=Qe(Tte);function Ate(t,e){return t<e}var Pte=Ate,Ite=Xj,Ote=Pte,kte=pl;function Cte(t){return t&&t.length?Ite(t,kte,Ote):void 0}var Nte=Cte;const Mm=Qe(Nte);var jte=uw,Rte=xo,Mte=rj,Dte=jn;function $te(t,e){var n=Dte(t)?jte:Mte;return n(t,Rte(e))}var Lte=$te,Vte=tj,Fte=Lte;function Bte(t,e){return Vte(Fte(t,e),1)}var Ute=Bte;const zte=Qe(Ute);var Wte=Ew;function Gte(t,e){return Wte(t,e)}var Hte=Gte;const Dm=Qe(Hte);var gl=1e9,qte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qw,ut=!0,ar="[DecimalError] ",ta=ar+"Invalid argument: ",Yw=ar+"Exponent out of range: ",yl=Math.floor,Vo=Math.pow,Kte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,$t=1e7,ot=7,Yj=9007199254740991,Kh=yl(Yj/ot),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return hi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Ye(hi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Tt(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(ar+"NaN");if(n.s<1)throw Error(ar+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(ut=!1,e=hi(cc(n,o),cc(t,o),o),ut=!0,Ye(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zj(e,t):Qj(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ar+"NaN");return n.s?(ut=!1,e=hi(n,t,0,1).times(t),ut=!0,n.minus(e)):Ye(new r(n),i)};de.naturalExponential=de.exp=function(){return Jj(this)};de.naturalLogarithm=de.ln=function(){return cc(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qj(e,t):Zj(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ta+t);if(e=Tt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ar+"NaN")}for(t=Tt(s),ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Nr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(hi(s,o,a+2)).times(.5),Nr(o.d).slice(0,a)===(e=Nr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ye(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ut=!0,Ye(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%$t|0,e=s/$t|0;o[i]=(o[i]+e)%$t|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Ye(t,f.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zr(t,0,gl),e===void 0?e=r.rounding:zr(e,0,8),Ye(n,t+Tt(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pa(r,!0):(zr(t,0,gl),e===void 0?e=i.rounding:zr(e,0,8),r=Ye(new i(r),t+1,e),n=pa(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?pa(i):(zr(t,0,gl),e===void 0?e=o.rounding:zr(e,0,8),r=Ye(new o(i),t+Tt(i)+1,e),n=pa(r.abs(),!1,t+Tt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),Tt(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(ar+"Infinity");return s}if(s.eq(Vn))return s;if(r=l.precision,t.eq(Vn))return Ye(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=Yj){for(i=new l(Vn),e=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(s),jA(i.d,e)),n=yl(n/2),n!==0;)s=s.times(s),jA(s.d,e);return ut=!0,t.s<0?new l(Vn).div(i):Ye(i,r)}}else if(o<0)throw Error(ar+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ut=!1,i=t.times(cc(s,r+u)),ut=!0,i=Jj(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Tt(i),r=pa(i,n<=o.toExpNeg||n>=o.toExpPos)):(zr(t,1,gl),e===void 0?e=o.rounding:zr(e,0,8),i=Ye(new o(i),t,e),n=Tt(i),r=pa(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zr(t,1,gl),e===void 0?e=r.rounding:zr(e,0,8)),Ye(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),n=t.constructor;return pa(t,e<=n.toExpNeg||e>=n.toExpPos)};function Qj(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ut?Ye(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ot),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/$t|0,l[o]%=$t;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ut?Ye(e,f):e}function zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ta+t)}function Nr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=Li(n)),o+=r;a=t[e],r=a+"",n=ot-r.length,n&&(o+=Li(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var hi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%$t|0,a=o/$t|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*$t+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,p,g,v,b,w,_,x,k,T,P,S,E,I=r.constructor,C=r.s==i.s?1:-1,O=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ar+"Division by zero");for(l=r.e-i.e,S=j.length,T=O.length,p=new I(C),g=p.d=[],u=0;j[u]==(O[u]||0);)++u;if(j[u]>(O[u]||0)&&--l,o==null?_=o=I.precision:a?_=o+(Tt(r)-Tt(i))+1:_=o,_<0)return new I(0);if(_=_/ot+2|0,u=0,S==1)for(d=0,j=j[0],_++;(u<T||d)&&_--;u++)x=d*$t+(O[u]||0),g[u]=x/j|0,d=x%j|0;else{for(d=$t/(j[0]+1)|0,d>1&&(j=t(j,d),O=t(O,d),S=j.length,T=O.length),k=S,v=O.slice(0,S),b=v.length;b<S;)v[b++]=0;E=j.slice(),E.unshift(0),P=j[0],j[1]>=$t/2&&++P;do d=0,s=e(j,v,S,b),s<0?(w=v[0],S!=b&&(w=w*$t+(v[1]||0)),d=w/P|0,d>1?(d>=$t&&(d=$t-1),f=t(j,d),h=f.length,b=v.length,s=e(f,v,h,b),s==1&&(d--,n(f,S<h?E:j,h))):(d==0&&(s=d=1),f=j.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=e(j,v,S,b),s<1&&(d++,n(v,S<b?E:j,b))),b=v.length):s===0&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[b++]=O[k]||0:(v=[O[k]],b=1);while((k++<T||v[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,Ye(p,a?o+Tt(p)+1:o)}}();function Jj(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(Tt(t)>16)throw Error(Yw+Tt(t));if(!t.s)return new d(Vn);for(e==null?(ut=!1,s=f):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Vo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Vn),d.precision=s;;){if(i=Ye(i.times(t),s),n=n.times(++l),a=o.plus(hi(i,n,s)),Nr(a.d).slice(0,s)===Nr(o.d).slice(0,s)){for(;u--;)o=Ye(o.times(o),s);return d.precision=f,e==null?(ut=!0,Ye(o,f)):o}o=a}}function Tt(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function hy(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(ar+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Li(t){for(var e="";t--;)e+="0";return e}function cc(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,p=t,g=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(ar+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new v(0);if(e==null?(ut=!1,u=b):u=e,p.eq(10))return e==null&&(ut=!0),hy(v,u);if(u+=h,v.precision=u,n=Nr(g),r=n.charAt(0),o=Tt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Nr(p.d),r=n.charAt(0),f++;o=Tt(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=hy(v,u+2,b).times(o+""),p=cc(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=b,e==null?(ut=!0,Ye(p,b)):p;for(s=a=p=hi(p.minus(Vn),p.plus(Vn),u),d=Ye(p.times(p),u),i=3;;){if(a=Ye(a.times(d),u),l=s.plus(hi(a,new v(i),u)),Nr(l.d).slice(0,u)===Nr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(hy(v,u+2,b).times(o+""))),s=hi(s,new v(f),u),v.precision=b,e==null?(ut=!0,Ye(s,b)):s;s=l,i+=2}}function NA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yl(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>Kh||t.e<-Kh))throw Error(Yw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ot,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ot),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=ot,i=r-ot+a}if(n!==void 0&&(o=Vo(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Vo(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Tt(t),f.length=1,e=e-o-1,f[0]=Vo(10,(ot-e%ot)%ot),t.e=yl(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Vo(10,ot-r),f[d]=i>0?(u/Vo(10,a-i)%Vo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==$t&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=$t)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>Kh||t.e<-Kh))throw Error(Yw+Tt(t));return t}function Zj(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?Ye(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/ot),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=$t-1;--l[o],l[i]+=$t}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Ye(e,p):e):new h(0)}function pa(t,e,n){var r,i=Tt(t),o=Nr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Li(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Li(-i-1)+o,n&&(r=n-a)>0&&(o+=Li(r))):i>=a?(o+=Li(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Li(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Li(r))),t.s<0?"-"+o:o}function jA(t,e){if(t.length>e)return t.length=e,!0}function eR(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ta+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return NA(a,o.toString())}else if(typeof o!="string")throw Error(ta+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Kte.test(o))NA(a,o);else throw Error(ta+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eR,i.config=i.set=Xte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xte(t){if(!t||typeof t!="object")throw Error(ar+"Object expected");var e,n,r,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ta+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ta+n+": "+r);return this}var Qw=eR(qte);Vn=new Qw(1);const qe=Qw;function Yte(t){return ene(t)||Zte(t)||Jte(t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return w0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w0(t,e)}}function Zte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ene(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tne=function(e){return e},tR={"@@functional/placeholder":!0},nR=function(e){return e===tR},RA=function(e){return function n(){return arguments.length===0||arguments.length===1&&nR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nne=function t(e,n){return e===1?n:RA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==tR}).length;return a>=e?n.apply(void 0,i):t(e-a,RA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return nR(f)?l.shift():f});return n.apply(void 0,Yte(d).concat(l))}))})},$m=function(e){return nne(e.length,e)},x0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rne=$m(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ine=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},S0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function one(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function ane(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var sne=$m(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lne=$m(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),une=$m(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Lm={rangeStep:ane,getDigitCount:one,interpolateNumber:sne,uninterpolateNumber:lne,uninterpolateTruncation:une};function E0(t){return dne(t)||fne(t)||iR(t)||cne()}function cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dne(t){if(Array.isArray(t))return T0(t)}function fc(t,e){return mne(t)||pne(t,e)||iR(t,e)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iR(t,e){if(t){if(typeof t=="string")return T0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T0(t,e)}}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function mne(t){if(Array.isArray(t))return t}function oR(t){var e=fc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function aR(t,e,n){if(t.lte(0))return new qe(0);var r=Lm.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function gne(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(Lm.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=ine(rne(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),x0);return s(0,e)}function sR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=aR(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?sR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function yne(t){var e=fc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=oR([n,r]),l=fc(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(E0(x0(0,i-1).map(function(){return 1/0}))):[].concat(E0(x0(0,i-1).map(function(){return-1/0})),[d]);return n>r?S0(f):f}if(u===d)return gne(u,i,o);var h=sR(u,d,a,o),p=h.step,g=h.tickMin,v=h.tickMax,b=Lm.rangeStep(g,v.add(new qe(.1).mul(p)),p);return n>r?S0(b):b}function vne(t,e){var n=fc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=oR([r,i]),s=fc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=aR(new qe(u).sub(l).div(d-1),o,0),h=[].concat(E0(Lm.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(f)),f)),[u]);return r>i?S0(h):h}var bne=rR(yne),_ne=rR(vne),wne=!0,py="Invariant failed";function ma(t,e){if(!t){if(wne)throw new Error(py);var n=typeof e=="function"?e():e,r=n?"".concat(py,": ").concat(n):py;throw new Error(r)}}var xne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function Sne(t,e){return Pne(t)||Ane(t,e)||Tne(t,e)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ane(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Pne(t){if(Array.isArray(t))return t}function Ine(t,e){if(t==null)return{};var n=One(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function One(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cR(r.key),r)}}function Cne(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=Yh(e),jne(t,lR()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function jne(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A0(t,e)}function uR(t,e,n){return e=cR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t){var e=Dne(t,"string");return Ls(e)=="symbol"?e:e+""}function Dne(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of=function(t){function e(){return kne(this,e),Nne(this,e,arguments)}return Mne(e,t),Cne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Ine(r,xne),p=Ce(h,!1);this.props.direction==="x"&&d.type!=="number"&&ma(!1);var g=l.map(function(v){var b=u(v,s),w=b.x,_=b.y,x=b.value,k=b.errorVal;if(!k)return null;var T=[],P,S;if(Array.isArray(k)){var E=Sne(k,2);P=E[0],S=E[1]}else P=S=k;if(o==="vertical"){var I=d.scale,C=_+i,O=C+a,j=C-a,N=I(x-P),U=I(x+S);T.push({x1:U,y1:O,x2:U,y2:j}),T.push({x1:N,y1:C,x2:U,y2:C}),T.push({x1:N,y1:O,x2:N,y2:j})}else if(o==="horizontal"){var z=f.scale,G=w+i,X=G-a,V=G+a,q=z(x-P),Y=z(x+S);T.push({x1:X,y1:Y,x2:V,y2:Y}),T.push({x1:G,y1:q,x2:G,y2:Y}),T.push({x1:X,y1:q,x2:V,y2:q})}return $.createElement(_t,Xh({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),T.map(function(ne){return $.createElement("line",Xh({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return $.createElement(_t,{className:"recharts-errorBars"},g)}}])}($.Component);uR(of,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uR(of,"displayName","ErrorBar");function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return dc(e)=="symbol"?e:e+""}function Vne(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ln(n,Zo);if(!a)return null;var s=Zo.defaultProps,l=s!==void 0?No(No({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?No(No({},h),f.props):{},g=p.dataKey,v=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:g,type:l.iconType||b||"square",color:Jw(f),value:v||g,payload:p}}),No(No(No({},l),Zo.getWithHeight(a,i)),{},{payload:u,item:a})};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function LA(t){return zne(t)||Une(t)||Bne(t)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return P0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P0(t,e)}}function Une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zne(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){ds(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ds(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Gne(t,"string");return hc(e)=="symbol"?e:e+""}function Gne(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return Pe(t)||Pe(e)?n:Nt(e)?nr(t,e,n):Ae(e)?e(t):n}function Su(t,e,n,r){var i=zte(t,function(s){return Wn(s,e)});if(n==="number"){var o=i.filter(function(s){return ae(s)||parseFloat(s)});return o.length?[Mm(o),Rm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Pe(s)}):i;return a.map(function(s){return Nt(s)||s instanceof Date?s:""})}var Hne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(xr(f-d)!==xr(h-f)){var g=[];if(xr(h-f)===xr(l[1]-l[0])){p=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{p=d;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var _=Math.min(d,h),x=Math.max(d,h);if(e>(_+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},Jw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},qne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],v=g.items,b=g.cateAxisId,w=v.filter(function(S){return ci(S.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,x=_!==void 0?yt(yt({},_),w[0].props):w[0].props,k=x.barSize,T=x[b];a[T]||(a[T]=[]);var P=Pe(k)?n:k;a[T].push({item:w[0],stackList:w.slice(1),barSize:Pe(P)?void 0:ha(P,r,0)})}}return a},Kne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ha(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var v=(i-g)/2>>0,b={offset:v-u,size:0};d=a.reduce(function(k,T){var P={item:T.item,position:{offset:b.offset+b.size+u,size:h?p:T.barSize}},S=[].concat(LA(k),[P]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var w=ha(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var x=s===+s?Math.min(_,s):_;d=a.reduce(function(k,T,P){var S=[].concat(LA(k),[{item:T.item,position:{offset:w+(_+u)*P+(_-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return d},Xne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=fR({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&ae(e[p]))return yt(yt({},e),{},ds({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&ae(e[g]))return yt(yt({},e),{},ds({},g,e[g]+(h||0)))}return e},Yne=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dR=function(e,n,r,i,o){var a=n.props.children,s=rr(a,of).filter(function(u){return Yne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Wn(d,r);if(Pe(f))return u;var h=Array.isArray(f)?[Mm(f),Rm(f)]:[f,f],p=l.reduce(function(g,v){var b=Wn(d,v,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),_=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Qne=function(e,n,r,i,o){var a=n.map(function(s){return dR(e,s,r,o,i)}).filter(function(s){return!Pe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},hR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&dR(e,l,u,i)||Su(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},pR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},si=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},my=new WeakMap,od=function(e,n){if(typeof n!="function")return e;my.has(e)||my.set(e,new WeakMap);var r=my.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:oc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Wh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xu(),realScaleType:"point"}:o==="category"?{scale:oc(),realScaleType:"band"}:{scale:Wh(),realScaleType:"linear"};if(da(i)){var l="scale".concat(wm(i));return{scale:(CA[l]||xu)(),realScaleType:CA[l]?l:"point"}}return Ae(i)?{scale:i}:{scale:xu(),realScaleType:"point"}},FA=1e-4,Zne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-FA,a=Math.max(i[0],i[1])+FA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ere=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tre=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Qc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},rre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Qc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ire={sign:nre,expand:wW,none:ks,silhouette:xW,wiggle:SW,positive:rre},ore=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ire[r],a=_W().keys(i).value(function(s,l){return+Wn(s,l,0)}).order(Jv).offset(o);return a(e)},are=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},h.type.defaultProps),h.props):h.props,v=g.stackId,b=g.hide;if(b)return f;var w=g[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Nt(v)){var x=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),_.hasStack=!0,_.stackGroups[v]=x}else _.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return yt(yt({},f),{},ds({},w,_))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,b){var w=p.stackGroups[b];return yt(yt({},v),{},ds({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:ore(e,w.items,o)}))},g)}return yt(yt({},f),{},ds({},h,p))},d)},sre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=bne(u,o,s);return e.domain([Mm(d),Rm(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=_ne(f,o,s);return{niceTicks:h}}return null};function BA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pe(i[e.dataKey])){var s=wh(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Wn(i,Pe(a)?e.dataKey:a);return Pe(l)?null:e.scale(l)}var UA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Wn(a,n.dataKey,n.domain[s]);return Pe(l)?null:n.scale(l)-o/2+i},lre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ure=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Nt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},cre=function(e){return e.reduce(function(n,r){return[Mm(r.concat([n[0]]).filter(ae)),Rm(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},gR=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=cre(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I0=function(e,n,r){if(Ae(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(zA.test(e[0])){var o=+zA.exec(e[0])[1];i[0]=n[0]-o}else Ae(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(WA.test(e[1])){var a=+WA.exec(e[1])[1];i[1]=n[1]+a}else Ae(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Qh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Aw(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},GA=function(e,n,r){return!e||!e.length||Dm(e,nr(r,"type.defaultProps.domain"))?n:e},yR=function(e,n){var r=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return yt(yt({},Ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Jw(e),value:Wn(n,i),type:l,payload:n,chartType:u,hide:d})};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=hre(t,"string");return pc(e)=="symbol"?e:e+""}function hre(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jh=Math.PI/180,pre=function(e){return e*180/Math.PI},Yt=function(e,n,r,i){return{x:e+Math.cos(-Jh*i)*r,y:n+Math.sin(-Jh*i)*r}},mre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},gre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=mre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:pre(u),angleInRadian:u}},yre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},vre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},KA=function(e,n){var r=e.x,i=e.y,o=gre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=yre(n),f=d.startAngle,h=d.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?qA(qA({},n),{},{radius:a,angle:vre(p,n)}):null};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}var bre=["offset"];function _re(t){return Ere(t)||Sre(t)||xre(t)||wre()}function wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t,e){if(t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function Sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ere(t){if(Array.isArray(t))return O0(t)}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tre(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return mc(e)=="symbol"?e:e+""}function Ore(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var kre=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return Ae(r)?r(i):i},Cre=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Nre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,v=l.clockWise,b=(f+h)/2,w=Cre(p,g),_=w>=0?1:-1,x,k;i==="insideStart"?(x=p+_*a,k=v):i==="insideEnd"?(x=g-_*a,k=!v):i==="end"&&(x=g+_*a,k=v),k=w<=0?k:!k;var T=Yt(u,d,b,x),P=Yt(u,d,b,x+(k?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Pe(e.id)?Jc("recharts-radial-line-"):e.id;return $.createElement("text",gc({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:E,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(E)},n))},jre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var p=Yt(a,s,u+r,h),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=Yt(a,s,b,h),_=w.x,x=w.y;return{x:_,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,b=v*i,w=v>0?"end":"start",_=v>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return It(It({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var k={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return It(It({},k),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var T={x:s-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return It(It({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:s+u+b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return It(It({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return o==="insideLeft"?It({x:s+b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideRight"?It({x:s+u-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideTop"?It({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?It({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?It({x:s+b,y:l+h,textAnchor:_,verticalAnchor:g},S):o==="insideTopRight"?It({x:s+u-b,y:l+h,textAnchor:w,verticalAnchor:g},S):o==="insideBottomLeft"?It({x:s+b,y:l+d-h,textAnchor:_,verticalAnchor:p},S):o==="insideBottomRight"?It({x:s+u-b,y:l+d-h,textAnchor:w,verticalAnchor:p},S):ll(o)&&(ae(o.x)||Go(o.x))&&(ae(o.y)||Go(o.y))?It({x:s+ha(o.x,u),y:l+ha(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):It({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Mre=function(e){return"cx"in e&&ae(e.cx)};function dn(t){var e=t.offset,n=e===void 0?5:e,r=Tre(t,bre),i=It({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Pe(s)&&Pe(l)&&!D.isValidElement(u)&&!Ae(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Ae(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=kre(i);var g=Mre(o),v=Ce(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Nre(i,p,v);var b=g?jre(i):Rre(i);return $.createElement($h,gc({className:Re("recharts-label",f)},v,b,{breakAll:h}),p)}dn.displayName="Label";var vR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,v=e.width,b=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ae(v)&&ae(b)){if(ae(f)&&ae(h))return{x:f,y:h,width:v,height:b};if(ae(p)&&ae(g))return{x:p,y:g,width:v,height:b}}return ae(f)&&ae(h)?{x:f,y:h,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Dre=function(e,n){return e?e===!0?$.createElement(dn,{key:"label-implicit",viewBox:n}):Nt(e)?$.createElement(dn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===dn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Ae(e)?$.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):ll(e)?$.createElement(dn,gc({viewBox:n},e,{key:"label-implicit"})):null:null},$re=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=vR(e),a=rr(i,dn).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Dre(e.label,n||o);return[s].concat(_re(a))};dn.parseViewBox=vR;dn.renderCallByParent=$re;function Lre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vre=Lre;const Fre=Qe(Vre);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var Bre=["valueAccessor"],Ure=["data","dataKey","clockWise","id","textBreakAll"];function zre(t){return qre(t)||Hre(t)||Gre(t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return k0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k0(t,e)}}function Hre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qre(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Yre(t,"string");return yc(e)=="symbol"?e:e+""}function Yre(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JA(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jre=function(e){return Array.isArray(e.value)?Fre(e.value):e.value};function uo(t){var e=t.valueAccessor,n=e===void 0?Jre:e,r=JA(t,Bre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=JA(r,Ure);return!i||!i.length?null:$.createElement(_t,{className:"recharts-label-list"},i.map(function(d,f){var h=Pe(o)?n(d,f):Wn(d&&d.payload,o),p=Pe(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(dn,Zh({},Ce(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:dn.parseViewBox(Pe(a)?d:QA(QA({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}uo.displayName="LabelList";function Zre(t,e){return t?t===!0?$.createElement(uo,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ae(t)?$.createElement(uo,{key:"labelList-implicit",data:e,content:t}):ll(t)?$.createElement(uo,Zh({data:e},t,{key:"labelList-implicit"})):null:null}function eie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,uo).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Zre(t.label,e);return[o].concat(zre(i))}uo.renderCallByParent=eie;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return vc(e)=="symbol"?e:e+""}function rie(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ad=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Jh,h=u?o:o+a*f,p=Yt(n,r,d,h),g=Yt(n,r,i,h),v=u?o-a*f:o,b=Yt(n,r,d*Math.cos(f*Jh),v);return{center:p,circleTangency:g,lineTangency:b,theta:f}},bR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=iie(a,s),u=a+l,d=Yt(n,r,o,a),f=Yt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Yt(n,r,i,a),g=Yt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},oie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=xr(d-u),h=ad({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,v=h.theta,b=ad({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,_=b.lineTangency,x=b.theta,k=l?Math.abs(u-d):Math.abs(u-d)-v-x;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=ad({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,E=P.lineTangency,I=P.theta,C=ad({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=C.circleTangency,j=C.lineTangency,N=C.theta,U=l?Math.abs(u-d):Math.abs(u-d)-I-N;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},aie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_R=function(e){var n=eP(eP({},aie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var p=Re("recharts-sector",h),g=a-o,v=ha(s,g,0,!0),b;return v>0&&Math.abs(d-f)<360?b=oie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=bR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),$.createElement("path",C0({},Ce(n,!0),{className:p,d:b,role:"img"}))};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=uie(t,"string");return bc(e)=="symbol"?e:e+""}function uie(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rP={curveBasisClosed:uW,curveBasisOpen:cW,curveBasis:lW,curveBumpX:K8,curveBumpY:X8,curveLinearClosed:fW,curveLinear:Sm,curveMonotoneX:dW,curveMonotoneY:hW,curveNatural:pW,curveStep:mW,curveStepAfter:yW,curveStepBefore:gW},sd=function(e){return e.x===+e.x&&e.y===+e.y},Kl=function(e){return e.x},Xl=function(e){return e.y},cie=function(e,n){if(Ae(e))return e;var r="curve".concat(wm(e));return(r==="curveMonotone"||r==="curveBump")&&n?rP["".concat(r).concat(n==="vertical"?"Y":"X")]:rP[r]||Sm},fie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=cie(r,s),f=u?o.filter(function(v){return sd(v)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(v){return sd(v)}):a,g=f.map(function(v,b){return nP(nP({},v),{},{base:p[b]})});return s==="vertical"?h=Qf().y(Xl).x1(Kl).x0(function(v){return v.base.x}):h=Qf().x(Kl).y1(Xl).y0(function(v){return v.base.y}),h.defined(sd).curve(d),h(g)}return s==="vertical"&&ae(a)?h=Qf().y(Xl).x1(Kl).x0(a):ae(a)?h=Qf().x(Kl).y1(Xl).y0(a):h=_N().x(Kl).y(Xl),h.defined(sd).curve(d),h(f)},j0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?fie(e):i;return D.createElement("path",N0({},Ce(e,!1),xh(e),{className:Re("recharts-curve",n),d:a,ref:o}))},wR={exports:{}},die="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hie=die,pie=hie;function xR(){}function SR(){}SR.resetWarningCache=xR;var mie=function(){function t(r,i,o,a,s,l){if(l!==pie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SR,resetWarningCache:xR};return n.PropTypes=n,n};wR.exports=mie();var gie=wR.exports;const Fe=Qe(gie);var yie=Object.getOwnPropertyNames,vie=Object.getOwnPropertySymbols,bie=Object.prototype.hasOwnProperty;function iP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ld(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function oP(t){return yie(t).concat(vie(t))}var _ie=Object.hasOwn||function(t,e){return bie.call(t,e)};function Ea(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wie="__v",xie="__o",Sie="_owner",aP=Object.getOwnPropertyDescriptor,sP=Object.keys;function Eie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Tie(t,e){return Ea(t.getTime(),e.getTime())}function Aie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Pie(t,e){return t===e}function lP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Iie=Ea;function Oie(t,e,n){var r=sP(t),i=r.length;if(sP(e).length!==i)return!1;for(;i-- >0;)if(!ER(t,e,n,r[i]))return!1;return!0}function Yl(t,e,n){var r=oP(t),i=r.length;if(oP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!ER(t,e,n,o)||(a=aP(t,o),s=aP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function kie(t,e){return Ea(t.valueOf(),e.valueOf())}function Cie(t,e){return t.source===e.source&&t.flags===e.flags}function uP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Nie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ER(t,e,n,r){return(r===Sie||r===xie||r===wie)&&(t.$$typeof||e.$$typeof)?!0:_ie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Rie="[object Arguments]",Mie="[object Boolean]",Die="[object Date]",$ie="[object Error]",Lie="[object Map]",Vie="[object Number]",Fie="[object Object]",Bie="[object RegExp]",Uie="[object Set]",zie="[object String]",Wie="[object URL]",Gie=Array.isArray,cP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fP=Object.assign,Hie=Object.prototype.toString.call.bind(Object.prototype.toString);function qie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var w=typeof g;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?a(g,v,b):w==="function"?i(g,v,b):!1;var _=g.constructor;if(_!==v.constructor)return!1;if(_===Object)return s(g,v,b);if(Gie(g))return e(g,v,b);if(cP!=null&&cP(g))return f(g,v,b);if(_===Date)return n(g,v,b);if(_===RegExp)return u(g,v,b);if(_===Map)return o(g,v,b);if(_===Set)return d(g,v,b);var x=Hie(g);return x===Die?n(g,v,b):x===Bie?u(g,v,b):x===Lie?o(g,v,b):x===Uie?d(g,v,b):x===Fie?typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,b):x===Wie?h(g,v,b):x===$ie?r(g,v,b):x===Rie?s(g,v,b):x===Mie||x===Vie||x===zie?l(g,v,b):!1}}function Kie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Yl:Eie,areDatesEqual:Tie,areErrorsEqual:Aie,areFunctionsEqual:Pie,areMapsEqual:r?iP(lP,Yl):lP,areNumbersEqual:Iie,areObjectsEqual:r?Yl:Oie,arePrimitiveWrappersEqual:kie,areRegExpsEqual:Cie,areSetsEqual:r?iP(uP,Yl):uP,areTypedArraysEqual:r?Yl:Nie,areUrlsEqual:jie};if(n&&(i=fP({},i,n(i))),e){var o=ld(i.areArraysEqual),a=ld(i.areMapsEqual),s=ld(i.areObjectsEqual),l=ld(i.areSetsEqual);i=fP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Xie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Yie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Qie=To();To({strict:!0});To({circular:!0});To({circular:!0,strict:!0});To({createInternalComparator:function(){return Ea}});To({strict:!0,createInternalComparator:function(){return Ea}});To({circular:!0,createInternalComparator:function(){return Ea}});To({circular:!0,createInternalComparator:function(){return Ea},strict:!0});function To(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Kie(t),l=qie(s),u=r?r(l):Xie(l);return Yie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Jie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Jie(i)};requestAnimationFrame(r)}function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function Zie(t){return roe(t)||noe(t)||toe(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function roe(t){if(Array.isArray(t))return t}function ioe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Zie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){dP(i.bind(null,u),l);return}i(l),dP(i.bind(null,u));return}R0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){TR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TR(t,e,n){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=aoe(t,"string");return _c(e)==="symbol"?e:String(e)}function aoe(t,e){if(_c(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var soe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},loe=function(e){return e},uoe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Eu=function(e,n){return Object.keys(n).reduce(function(r,i){return mP(mP({},r),{},TR({},i,e(i,n[i])))},{})},gP=function(e,n,r){return e.map(function(i){return"".concat(uoe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function coe(t,e){return hoe(t)||doe(t,e)||AR(t,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hoe(t){if(Array.isArray(t))return t}function poe(t){return yoe(t)||goe(t)||AR(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AR(t,e){if(t){if(typeof t=="string")return M0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M0(t,e)}}function goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yoe(t){if(Array.isArray(t))return M0(t)}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ep=1e-4,PR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},IR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yP=function(e,n){return function(r){var i=PR(e,n);return IR(i,r)}},voe=function(e,n){return function(r){var i=PR(e,n),o=[].concat(poe(i.map(function(a,s){return a*s}).slice(1)),[0]);return IR(o,r)}},vP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=coe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=yP(i,a),h=yP(o,s),p=voe(i,a),g=function(w){return w>1?1:w<0?0:w},v=function(w){for(var _=w>1?1:w,x=_,k=0;k<8;++k){var T=f(x)-_,P=p(x);if(Math.abs(T-_)<ep||P<ep)return h(x);x=g(x-T/P)}return h(x)};return v.isStepper=!1,v},boe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var p=-(d-f)*r,g=h*o,v=h+(p-g)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<ep&&Math.abs(v)<ep?[f,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},_oe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vP(i);case"spring":return boe();default:if(i.split("(")[0]==="cubic-bezier")return vP(i)}return typeof i=="function"?i:null};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function bP(t){return Soe(t)||xoe(t)||OR(t)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Soe(t){if(Array.isArray(t))return $0(t)}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0(t,e,n){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Toe(t,"string");return wc(e)==="symbol"?e:String(e)}function Toe(t,e){if(wc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){return Ooe(t)||Ioe(t,e)||OR(t,e)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(t,e){if(t){if(typeof t=="string")return $0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(t,e)}}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ioe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ooe(t){if(Array.isArray(t))return t}var tp=function(e,n,r){return e+(n-e)*r},L0=function(e){var n=e.from,r=e.to;return n!==r},koe=function t(e,n,r){var i=Eu(function(o,a){if(L0(a)){var s=e(a.from,a.to,a.velocity),l=Aoe(s,2),u=l[0],d=l[1];return Wt(Wt({},a),{},{from:u,velocity:d})}return a},n);return r<1?Eu(function(o,a){return L0(a)?Wt(Wt({},a),{},{velocity:tp(a.velocity,i[o].velocity,r),from:tp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Coe=function(t,e,n,r,i){var o=soe(t,e),a=o.reduce(function(b,w){return Wt(Wt({},b),{},D0({},w,[t[w],e[w]]))},{}),s=o.reduce(function(b,w){return Wt(Wt({},b),{},D0({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Eu(function(w,_){return _.from},s)},p=function(){return!Object.values(s).filter(L0).length},g=function(w){u||(u=w);var _=w-u,x=_/n.dt;s=koe(n,s,x),i(Wt(Wt(Wt({},t),e),h())),u=w,p()||(l=requestAnimationFrame(f))},v=function(w){d||(d=w);var _=(w-d)/r,x=Eu(function(T,P){return tp.apply(void 0,bP(P).concat([n(_)]))},a);if(i(Wt(Wt(Wt({},t),e),x)),_<1)l=requestAnimationFrame(f);else{var k=Eu(function(T,P){return tp.apply(void 0,bP(P).concat([n(1)]))},a);i(Wt(Wt(Wt({},t),e),k))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}var Noe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function joe(t,e){if(t==null)return{};var n=Roe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Roe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gy(t){return Loe(t)||$oe(t)||Doe(t)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Doe(t,e){if(t){if(typeof t=="string")return V0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V0(t,e)}}function $oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Loe(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function au(t,e,n){return e=kR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kR(r.key),r)}}function Foe(t,e,n){return e&&xP(t.prototype,e),n&&xP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t){var e=Boe(t,"string");return Vs(e)==="symbol"?e:String(e)}function Boe(t,e){if(Vs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F0(t,e)}function zoe(t){var e=Woe();return function(){var r=np(t),i;if(e){var o=np(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return B0(this,i)}}function B0(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U0(t)}function U0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Woe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}var Vm=function(t){Uoe(n,t);var e=zoe(n);function n(r,i){var o;Voe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(U0(o)),o.changeStyle=o.changeStyle.bind(U0(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),B0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},B0(o);o.state={style:l?au({},l,u):u}}else o.state={style:{}};return o}return Foe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?au({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Qie(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var b={style:l?au({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(b)}this.runAnimation(pr(pr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Coe(a,s,_oe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(v,b,w){if(w===0)return v;var _=b.duration,x=b.easing,k=x===void 0?"ease":x,T=b.style,P=b.properties,S=b.onAnimationEnd,E=w>0?a[w-1]:b,I=P||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(gy(v),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:_,easing:k}),_]);var C=gP(I,_,k),O=pr(pr(pr({},E.style),T),{},{transition:C});return[].concat(gy(v),[O,_,S]).filter(loe)};return this.manager.start([l].concat(gy(a.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ioe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?au({},s,l):l,b=gP(Object.keys(v),a,u);g.start([d,o,pr(pr({},v),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=joe(i,Noe),u=D.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(p){var g=p.props,v=g.style,b=v===void 0?{}:v,w=g.className,_=D.cloneElement(p,pr(pr({},l),{},{style:pr(pr({},b),d),className:w}));return _};return u===1?f(D.Children.only(o)):$.createElement("div",null,D.Children.map(o,function(h){return f(h)}))}}]),n}(D.PureComponent);Vm.displayName="Animate";Vm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vm.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};const Fs=Vm;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function Goe(t,e){return Xoe(t)||Koe(t,e)||qoe(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Koe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xoe(t){if(Array.isArray(t))return t}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return e=Qoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Joe(t,"string");return xc(e)=="symbol"?e:e+""}function Joe(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);d="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Zoe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},eae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zw=function(e){var n=TP(TP({},eae),e),r=D.useRef(),i=D.useState(-1),o=Goe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Re("recharts-rectangle",p);return _?$.createElement(Fs,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:_},function(k){var T=k.width,P=k.height,S=k.x,E=k.y;return $.createElement(Fs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:g},$.createElement("path",rp({},Ce(n,!0),{className:x,d:AP(S,E,T,P,h),ref:r})))}):$.createElement("path",rp({},Ce(n,!0),{className:x,d:AP(l,u,d,f,h)}))};function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}var ex=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Re("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",z0({},Ce(e,!1),xh(e),{className:a,cx:n,cy:r,r:i})):null};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var tae=["x","y","top","left","width","height","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=oae(t,"string");return Sc(e)=="symbol"?e:e+""}function oae(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var n=sae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},uae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,g=e.className,v=aae(e,tae),b=nae({x:r,y:o,top:s,left:u,width:f,height:p},v);return!ae(r)||!ae(o)||!ae(f)||!ae(p)||!ae(s)||!ae(u)?null:$.createElement("path",W0({},Ce(b,!0),{className:Re("recharts-cross",g),d:lae(r,o,f,p,s,u)}))},cae=WN,fae=cae(Object.getPrototypeOf,Object),dae=fae,hae=Ii,pae=dae,mae=Oi,gae="[object Object]",yae=Function.prototype,vae=Object.prototype,CR=yae.toString,bae=vae.hasOwnProperty,_ae=CR.call(Object);function wae(t){if(!mae(t)||hae(t)!=gae)return!1;var e=pae(t);if(e===null)return!0;var n=bae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CR.call(n)==_ae}var xae=wae;const Sae=Qe(xae);var Eae=Ii,Tae=Oi,Aae="[object Boolean]";function Pae(t){return t===!0||t===!1||Tae(t)&&Eae(t)==Aae}var Iae=Pae;const Oae=Qe(Iae);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function kae(t,e){return Rae(t)||jae(t,e)||Nae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return IP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(t,e)}}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rae(t){if(Array.isArray(t))return t}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return e=Dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=$ae(t,"string");return Ec(e)=="symbol"?e:e+""}function $ae(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Lae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vae=function(e){var n=kP(kP({},Lae),e),r=D.useRef(),i=D.useState(-1),o=kae(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Re("recharts-trapezoid",p);return w?$.createElement(Fs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:w},function(x){var k=x.upperWidth,T=x.lowerWidth,P=x.height,S=x.x,E=x.y;return $.createElement(Fs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:g},$.createElement("path",ip({},Ce(n,!0),{className:_,d:CP(S,E,k,T,P),ref:r})))}):$.createElement("g",null,$.createElement("path",ip({},Ce(n,!0),{className:_,d:CP(l,u,d,f,h)})))},Fae=["option","shapeType","propTransformer","activeClassName","isActive"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Bae(t,e){if(t==null)return{};var n=Uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return e=Wae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Gae(t,"string");return Tc(e)=="symbol"?e:e+""}function Gae(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hae(t,e){return op(op({},e),t)}function qae(t,e){return t==="symbols"}function jP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(Zw,n);case"trapezoid":return $.createElement(Vae,n);case"sector":return $.createElement(_R,n);case"symbols":if(qae(e))return $.createElement(vw,n);break;default:return null}}function Kae(t){return D.isValidElement(t)?t.props:t}function Xae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Hae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Bae(t,Fae),u;if(D.isValidElement(e))u=D.cloneElement(e,op(op({},l),Kae(e)));else if(Ae(e))u=e(l);else if(Sae(e)&&!Oae(e)){var d=i(e,l);u=$.createElement(jP,{shapeType:n,elementProps:d})}else{var f=l;u=$.createElement(jP,{shapeType:n,elementProps:f})}return s?$.createElement(_t,{className:a},u):u}function Fm(t,e){return e!=null&&"trapezoids"in t.props}function Bm(t,e){return e!=null&&"sectors"in t.props}function Ac(t,e){return e!=null&&"points"in t.props}function Yae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Qae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Zae(t,e){var n;return Fm(t,e)?n=Yae:Bm(t,e)?n=Qae:Ac(t,e)&&(n=Jae),n}function ese(t,e){var n;return Fm(t,e)?n="trapezoids":Bm(t,e)?n="sectors":Ac(t,e)&&(n="points"),n}function tse(t,e){if(Fm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ac(t,e)?e.payload:{}}function nse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ese(n,e),o=tse(n,e),a=r.filter(function(l,u){var d=Dm(o,l),f=n.props[i].filter(function(g){var v=Zae(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=r.indexOf(a[a.length-1]);return s}var rse=Math.ceil,ise=Math.max;function ose(t,e,n,r){for(var i=-1,o=ise(rse((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ase=ose,sse=uj,RP=1/0,lse=17976931348623157e292;function use(t){if(!t)return t===0?t:0;if(t=sse(t),t===RP||t===-RP){var e=t<0?-1:1;return e*lse}return t===t?t:0}var NR=use,cse=ase,fse=Pm,yy=NR;function dse(t){return function(e,n,r){return r&&typeof r!="number"&&fse(e,n,r)&&(n=r=void 0),e=yy(e),n===void 0?(n=e,e=0):n=yy(n),r=r===void 0?e<n?1:-1:yy(r),cse(e,n,r,t)}}var hse=dse,pse=hse,mse=pse(),gse=mse;const ap=Qe(gse);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){jR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jR(t,e,n){return e=yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=vse(t,"string");return Pc(e)=="symbol"?e:e+""}function vse(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bse=["Webkit","Moz","O","ms"],_se=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=bse.reduce(function(o,a){return DP(DP({},o),{},jR({},a+r,n))},{});return i[e]=n,i};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function xse(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,n){return e=lp(e),Ese(t,RR()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function Dn(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=Pse(t,"string");return Bs(e)=="symbol"?e:e+""}function Pse(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ise=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xu().domain(ap(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},VP=function(e){return e.changedTouches&&!!e.changedTouches.length},Us=function(t){function e(n){var r;return wse(this,e),r=Sse(this,e,[n]),Dn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Dn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dn(r,"handleSlideDragStart",function(i){var o=VP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ase(e,t),xse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Wn(o[r],s,r);return Ae(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+d-f-s,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-s));var b=this.getIndex({startX:a+v,endX:s+v});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=VP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,v=d.gap,b=d.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-p-u):_<0&&(_=Math.max(_,f-u)),w[a]=u+_;var x=this.getIndex(w),k=x.startIndex,T=x.endIndex,P=function(){var E=b.length-1;return a==="startX"&&(s>l?k%v===0:T%v===0)||s<l&&T===E||a==="endX"&&(s>l?T%v===0:k%v===0)||s>l&&T===E};this.setState(Dn(Dn({},a,u+_),"brushMoveStartX",r.pageX),function(){g&&P()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Dn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?$.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,v=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),_=vy(vy({},Ce(this.props,!1)),{},{x:w,y:u,width:d,height:f}),x=p||"Min value: ".concat((o=g[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[b])===null||a===void 0?void 0:a.name);return $.createElement(_t,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return $.createElement(_t,{className:"recharts-brush-texts"},$.createElement($h,sp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},g),this.getTextOfTick(i)),$.createElement($h,sp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,v=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ae(s)||!ae(l)||!ae(u)||!ae(d)||u<=0||d<=0)return null;var x=Re("recharts-brush",o),k=$.Children.count(a)===1,T=_se("userSelect","none");return $.createElement(_t,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||b||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ae(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return vy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ise({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);Dn(Us,"displayName","Brush");Dn(Us,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ose=Tw;function kse(t,e){var n;return Ose(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Cse=kse,Nse=DN,jse=xo,Rse=Cse,Mse=jn,Dse=Pm;function $se(t,e,n){var r=Mse(t)?Nse:Rse;return n&&Dse(t,e,n)&&(e=void 0),r(t,jse(e))}var Lse=$se;const Vse=Qe(Lse);var Vr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},FP=ij;function Fse(t,e,n){e=="__proto__"&&FP?FP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Bse=Fse,Use=Bse,zse=nj,Wse=xo;function Gse(t,e){var n={};return e=Wse(e),zse(t,function(r,i,o){Use(n,i,e(r,i,o))}),n}var Hse=Gse;const qse=Qe(Hse);function Kse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Xse=Kse,Yse=Tw;function Qse(t,e){var n=!0;return Yse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Jse=Qse,Zse=Xse,ele=Jse,tle=xo,nle=jn,rle=Pm;function ile(t,e,n){var r=nle(t)?Zse:ele;return n&&rle(t,e,n)&&(e=void 0),r(t,tle(e))}var ole=ile;const DR=Qe(ole);var ale=["x","y"];function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return e=lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=ule(t,"string");return Ic(e)=="symbol"?e:e+""}function ule(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dle(t,e){var n=t.x,r=t.y,i=cle(t,ale),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ql(Ql(Ql(Ql(Ql({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function UP(t){return $.createElement(Xae,H0({shapeType:"rectangle",propTransformer:dle,activeClassName:"recharts-active-bar"},t))}var hle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ae(r)||jz(r);return o?e(r,i):(o||ma(!1),n)}},ple=["value","background"],$R;function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function mle(t,e){if(t==null)return{};var n=gle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VR(r.key),r)}}function vle(t,e,n){return e&&WP(t.prototype,e),n&&WP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ble(t,e,n){return e=cp(e),_le(t,LR()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function _le(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wle(t)}function wle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q0(t,e)}function Xi(t,e,n){return e=VR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VR(t){var e=Sle(t,"string");return zs(e)=="symbol"?e:e+""}function Sle(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var af=function(t){function e(){var n;yle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ble(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!1}),Xi(n,"id",Jc("recharts-bar-")),Xi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Xi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return xle(e,t),vle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Ce(this.props,!1);return r&&r.map(function(f,h){var p=h===l,g=p?u:a,v=St(St(St({},d),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(_t,up({className:"recharts-bar-rectangle"},Sh(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(UP,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(Fs,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=o.map(function(b,w){var _=h&&h[w];if(_){var x=_r(_.x,b.x),k=_r(_.y,b.y),T=_r(_.width,b.width),P=_r(_.height,b.height);return St(St({},b),{},{x:x(g),y:k(g),width:T(g),height:P(g)})}if(a==="horizontal"){var S=_r(0,b.height),E=S(g);return St(St({},b),{},{y:b.y+b.height-E,height:E})}var I=_r(0,b.width),C=I(g);return St(St({},b),{},{width:C})});return $.createElement(_t,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Dm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=mle(u,ple);if(!f)return null;var p=St(St(St(St(St({},h),{},{fill:"#eee"},f),l),Sh(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(UP,up({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=rr(d,of);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:Wn(b,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(_t,g,f.map(function(v){return $.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,v=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=Re("recharts-bar",a),_=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,k=_||x,T=Pe(v)?this.id:v;return $.createElement(_t,{className:w},_||x?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:_?u:u-f/2,y:x?d:d-h/2,width:_?f:f*2,height:x?h:h*2}))):null,$.createElement(_t,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!p||b)&&uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);$R=af;Xi(af,"displayName","Bar");Xi(af,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xi(af,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=ere(r,n);if(!p)return null;var g=e.layout,v=n.type.defaultProps,b=v!==void 0?St(St({},v),n.props):n.props,w=b.dataKey,_=b.children,x=b.minPointSize,k=g==="horizontal"?a:o,T=u?k.scale.domain():null,P=lre({numericAxis:k}),S=rr(_,fj),E=f.map(function(I,C){var O,j,N,U,z,G;u?O=tre(u[d+C],T):(O=Wn(I,w),Array.isArray(O)||(O=[P,O]));var X=hle(x,$R.defaultProps.minPointSize)(O[1],C);if(g==="horizontal"){var V,q=[a.scale(O[0]),a.scale(O[1])],Y=q[0],ne=q[1];j=UA({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:C}),N=(V=ne??Y)!==null&&V!==void 0?V:void 0,U=p.size;var B=Y-ne;if(z=Number.isNaN(B)?0:B,G={x:j,y:a.y,width:U,height:a.height},Math.abs(X)>0&&Math.abs(z)<Math.abs(X)){var Q=xr(z||X)*(Math.abs(X)-Math.abs(z));N-=Q,z+=Q}}else{var Z=[o.scale(O[0]),o.scale(O[1])],le=Z[0],ce=Z[1];if(j=le,N=UA({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:C}),U=ce-le,z=p.size,G={x:o.x,y:N,width:o.width,height:z},Math.abs(X)>0&&Math.abs(U)<Math.abs(X)){var be=xr(U||X)*(Math.abs(X)-Math.abs(U));U+=be}}return St(St(St({},I),{},{x:j,y:N,width:U,height:z,value:u?O:O[1],payload:I,background:G},S&&S[C]&&S[C].props),{},{tooltipPayload:[yR(n,I)],tooltipPosition:{x:j+U/2,y:N+z/2}})});return St({data:E,layout:g},h)});function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function Tle(t,e,n){return e&&GP(t.prototype,e),n&&GP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=Ale(t,"string");return Oc(e)=="symbol"?e:e+""}function Ale(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ln(u,af);return d.reduce(function(p,g){var v=n[g],b=v.orientation,w=v.domain,_=v.padding,x=_===void 0?{}:_,k=v.mirror,T=v.reversed,P="".concat(b).concat(k?"Mirror":""),S,E,I,C,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var j=w[1]-w[0],N=1/0,U=v.categoricalDomain.sort(Dz);if(U.forEach(function(Z,le){le>0&&(N=Math.min((Z||0)-(U[le-1]||0),N))}),Number.isFinite(N)){var z=N/j,G=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(S=z*G/2),v.padding==="no-gap"){var X=ha(e.barCategoryGap,z*G),V=z*G/2;S=V-X-(V-X)/G*X}}}i==="xAxis"?E=[r.left+(x.left||0)+(S||0),r.left+r.width-(x.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(S||0),r.top+r.height-(x.bottom||0)-(S||0)]:E=v.range,T&&(E=[E[1],E[0]]);var q=Jne(v,o,h),Y=q.scale,ne=q.realScaleType;Y.domain(w).range(E),Zne(Y);var B=sre(Y,yr(yr({},v),{},{realScaleType:ne}));i==="xAxis"?(O=b==="top"&&!k||b==="bottom"&&k,I=r.left,C=f[P]-O*v.height):i==="yAxis"&&(O=b==="left"&&!k||b==="right"&&k,I=f[P]-O*v.width,C=r.top);var Q=yr(yr(yr({},v),B),{},{realScaleType:ne,x:I,y:C,scale:Y,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Q.bandSize=Qh(Q,B),!v.hide&&i==="xAxis"?f[P]+=(O?-1:1)*Q.height:v.hide||(f[P]+=(O?-1:1)*Q.width),yr(yr({},p),{},Um({},g,Q))},{})},BR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ile=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return BR({x:n,y:r},{x:i,y:o})},UR=function(){function t(e){Ele(this,t),this.scale=e}return Tle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Um(UR,"EPS",1e-4);var tx=function(e){var n=Object.keys(e).reduce(function(r,i){return yr(yr({},r),{},Um({},i,UR.create(e[i])))},{});return yr(yr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return qse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return DR(i,function(o,a){return n[a].isInRange(o)})}})};function Ole(t){return(t%180+180)%180}var kle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ole(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Cle=xo,Nle=Zc,jle=Tm;function Rle(t){return function(e,n,r){var i=Object(e);if(!Nle(e)){var o=Cle(n);e=jle(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Mle=Rle,Dle=NR;function $le(t){var e=Dle(t),n=e%1;return e===e?n?e-n:e:0}var Lle=$le,Vle=YN,Fle=xo,Ble=Lle,Ule=Math.max;function zle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ble(n);return i<0&&(i=Ule(r+i,0)),Vle(t,Fle(e),i)}var Wle=zle,Gle=Mle,Hle=Wle,qle=Gle(Hle),Kle=qle;const Xle=Qe(Kle);var Yle=$U(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nx=D.createContext(void 0),rx=D.createContext(void 0),zR=D.createContext(void 0),WR=D.createContext({}),GR=D.createContext(void 0),HR=D.createContext(0),qR=D.createContext(0),qP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Yle(o);return $.createElement(nx.Provider,{value:r},$.createElement(rx.Provider,{value:i},$.createElement(WR.Provider,{value:o},$.createElement(zR.Provider,{value:d},$.createElement(GR.Provider,{value:a},$.createElement(HR.Provider,{value:u},$.createElement(qR.Provider,{value:l},s)))))))},Qle=function(){return D.useContext(GR)},KR=function(e){var n=D.useContext(nx);n==null&&ma(!1);var r=n[e];return r==null&&ma(!1),r},Jle=function(){var e=D.useContext(nx);return Gi(e)},Zle=function(){var e=D.useContext(rx),n=Xle(e,function(r){return DR(r.domain,Number.isFinite)});return n||Gi(e)},XR=function(e){var n=D.useContext(rx);n==null&&ma(!1);var r=n[e];return r==null&&ma(!1),r},eue=function(){var e=D.useContext(zR);return e},tue=function(){return D.useContext(WR)},ix=function(){return D.useContext(qR)},ox=function(){return D.useContext(HR)};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QR(r.key),r)}}function rue(t,e,n){return e&&KP(t.prototype,e),n&&KP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iue(t,e,n){return e=fp(e),oue(t,YR()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function oue(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ax(t,e,n){return e=QR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QR(t){var e=lue(t,"string");return Ws(e)=="symbol"?e:e+""}function lue(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uue(t,e){return hue(t)||due(t,e)||fue(t,e)||cue()}function cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(t,e){if(t){if(typeof t=="string")return QP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(t,e)}}function QP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function due(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hue(t){if(Array.isArray(t))return t}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var pue=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ae(e)?r=e(n):r=$.createElement("line",X0({},n,{className:"recharts-reference-line-line"})),r},mue=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Vr(u,"discard")&&!e.y.isInRange(v))return null;var b=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?b.reverse():b}if(n){var w=u.x,_=e.x.apply(w,{position:a});if(Vr(u,"discard")&&!e.x.isInRange(_))return null;var x=[{x:_,y:f+p},{x:_,y:f}];return s==="top"?x.reverse():x}if(i){var k=u.segment,T=k.map(function(P){return e.apply(P,{position:a})});return Vr(u,"discard")&&Vse(T,function(P){return!e.isInRange(P)})?null:T}return null};function gue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Qle(),d=KR(i),f=XR(o),h=eue();if(!u||!h)return null;fi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tx({x:d.scale,y:f.scale}),g=Nt(e),v=Nt(n),b=r&&r.length===2,w=mue(p,g,v,b,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var _=uue(w,2),x=_[0],k=x.x,T=x.y,P=_[1],S=P.x,E=P.y,I=Vr(t,"hidden")?"url(#".concat(u,")"):void 0,C=YP(YP({clipPath:I},Ce(t,!0)),{},{x1:k,y1:T,x2:S,y2:E});return $.createElement(_t,{className:Re("recharts-reference-line",s)},pue(a,C),dn.renderCallByParent(t,Ile({x1:k,y1:T,x2:S,y2:E})))}var sx=function(t){function e(){return nue(this,e),iue(this,e,arguments)}return sue(e,t),rue(e,[{key:"render",value:function(){return $.createElement(gue,this.props)}}])}($.Component);ax(sx,"displayName","ReferenceLine");ax(sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function vue(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,n){return e=dp(e),_ue(t,JR()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function _ue(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q0(t,e)}function zm(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Sue(t,"string");return Gs(e)=="symbol"?e:e+""}function Sue(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=tx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Vr(e,"discard")&&!a.isInRange(s)?null:s},Wm=function(t){function e(){return yue(this,e),bue(this,e,arguments)}return xue(e,t),vue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Nt(i),d=Nt(o);if(fi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Eue(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,v=g.shape,b=g.className,w=Vr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=ZP(ZP({clipPath:w},Ce(this.props,!0)),{},{cx:h,cy:p});return $.createElement(_t,{className:Re("recharts-reference-dot",b)},e.renderDot(v,_),dn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}($.Component);zm(Wm,"displayName","ReferenceDot");zm(Wm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zm(Wm,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(ex,Y0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tM(r.key),r)}}function Aue(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,n){return e=hp(e),Iue(t,eM()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function Gm(t,e,n){return e=tM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tM(t){var e=Cue(t,"string");return Hs(e)=="symbol"?e:e+""}function Cue(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=tx({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:BR(p,g)},Hm=function(t){function e(){return Tue(this,e),Pue(this,e,arguments)}return kue(e,t),Aue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;fi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Nt(i),h=Nt(o),p=Nt(a),g=Nt(s),v=this.props.shape;if(!f&&!h&&!p&&!g&&!v)return null;var b=Nue(f,h,p,g,this.props);if(!b&&!v)return null;var w=Vr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(_t,{className:Re("recharts-reference-area",l)},e.renderRect(v,nI(nI({clipPath:w},Ce(this.props,!0)),b)),dn.renderCallByParent(this.props,b))}}])}($.Component);Gm(Hm,"displayName","ReferenceArea");Gm(Hm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gm(Hm,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(Zw,J0({},e,{className:"recharts-reference-area-rect"})),n});function nM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function jue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return kle(r,n)}function Rue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function pp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Mue(t,e){return nM(t,e+1)}function Due(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:nM(r,u)};var v=l,b,w=function(){return b===void 0&&(b=n(g,v)),b},_=g.coordinate,x=l===0||pp(t,_,w,d,s);x||(l=0,d=a,u+=1),x&&(d=_+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Vue(t,"string");return kc(e)=="symbol"?e:e+""}function Vue(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],g,v=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var b=t*(p.coordinate+t*v()/2-l);o[h]=p=ln(ln({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[h]=p=ln(ln({},p),{},{tickCoord:p.coordinate});var w=pp(t,p.tickCoord,v,s,l);w&&(l=p.tickCoord-t*(v()/2+i),o[h]=ln(ln({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function Bue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=ln(ln({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=pp(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),a[s-1]=ln(ln({},d),{},{isShow:!0}))}for(var g=o?s-1:s,v=function(_){var x=a[_],k,T=function(){return k===void 0&&(k=n(x,_)),k};if(_===0){var P=t*(x.coordinate-t*T()/2-l);a[_]=x=ln(ln({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[_]=x=ln(ln({},x),{},{tickCoord:x.coordinate});var S=pp(t,x.tickCoord,T,l,u);S&&(l=x.tickCoord+t*(T()/2+i),a[_]=ln(ln({},x),{},{isShow:!0}))},b=0;b<g;b++)v(b);return a}function lx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||di.isSsr)return Mue(i,typeof l=="number"&&ae(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=d&&p==="width"?wu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(x,k){var T=Ae(u)?u(x.value,k):x.value;return p==="width"?jue(wu(T,{fontSize:e,letterSpacing:n}),g,f):wu(T,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,w=Rue(o,b,p);return l==="equidistantPreserveStart"?Due(b,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Bue(b,w,v,i,a,l==="preserveStartEnd"):h=Fue(b,w,v,i,a),h.filter(function(_){return _.isShow}))}var Uue=["viewBox"],zue=["viewBox"],Wue=["ticks"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function by(t,e){if(t==null)return{};var n=Gue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iM(r.key),r)}}function que(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=mp(e),Xue(t,rM()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function Xue(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rM=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function ux(t,e,n){return e=iM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iM(t){var e=Jue(t,"string");return qs(e)=="symbol"?e:e+""}function Jue(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vl=function(t){function e(n){var r;return Hue(this,e),r=Kue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Que(e,t),que(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=by(r,Uue),s=this.props,l=s.viewBox,u=by(s,zue);return!cs(o,l)||!cs(a,u)||!cs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,v,b,w,_,x=f?-1:1,k=r.tickSize||d,T=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,b=a+ +!f*l,v=b-x*k,_=v-x*h,w=T;break;case"left":v=b=r.coordinate,g=o+ +!f*s,p=g-x*k,w=p-x*h,_=T;break;case"right":v=b=r.coordinate,g=o+ +f*s,p=g+x*k,w=p+x*h,_=T;break;default:p=g=r.coordinate,b=a+ +f*l,v=b+x*k,_=v+x*h,w=T;break}return{line:{x1:p,y1:v,x2:g,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=Pt(Pt(Pt({},Ce(this.props,!1)),Ce(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Pt(Pt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Pt(Pt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return $.createElement("line",Ja({},f,{className:Re("recharts-cartesian-axis-line",nr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=lx(Pt(Pt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Ce(this.props,!1),w=Ce(d,!1),_=Pt(Pt({},b),{},{fill:"none"},Ce(l,!1)),x=p.map(function(k,T){var P=a.getTickLineCoord(k),S=P.line,E=P.tick,I=Pt(Pt(Pt(Pt({textAnchor:g,verticalAnchor:v},b),{},{stroke:"none",fill:u},w),E),{},{index:T,payload:k,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(_t,Ja({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Sh(a.props,k,T)),l&&$.createElement("line",Ja({},_,S,{className:Re("recharts-cartesian-axis-tick-line",nr(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(Ae(f)?f(k.value,T):k.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=by(f,Wue),g=h;return Ae(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:$.createElement(_t,{className:Re("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Re(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?a=$.cloneElement(r,Pt(Pt({},i),{},{className:s})):Ae(r)?a=r(Pt(Pt({},i),{},{className:s})):a=$.createElement($h,Ja({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);ux(vl,"displayName","CartesianAxis");ux(vl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zue=["x1","y1","x2","y2","key"],ece=["offset"];function ga(t){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return e=nce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return ga(e)=="symbol"?e:e+""}function rce(t,e){if(ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function lI(t,e){if(t==null)return{};var n=ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oM(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ae(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=lI(e,Zue),u=Ce(l,!1);u.offset;var d=lI(u,ece);n=$.createElement("line",Ko({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ace(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=hn(hn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return oM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function sce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=hn(hn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return oM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function lce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?i+a-h:d[p+1]-h;if(v<=0)return null;var b=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:v,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?o+s-h:d[p+1]-h;if(v<=0)return null;var b=p%r.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:v,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return mR(lx(hn(hn(hn({},vl.defaultProps),r),{},{ticks:si(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},fce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return mR(lx(hn(hn(hn({},vl.defaultProps),r),{},{ticks:si(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},ja={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function aM(t){var e,n,r,i,o,a,s=ix(),l=ox(),u=tue(),d=hn(hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ja.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ja.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ja.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ja.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ja.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ja.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,v=d.syncWithTicks,b=d.horizontalValues,w=d.verticalValues,_=Jle(),x=Zle();if(!ae(p)||p<=0||!ae(g)||g<=0||!ae(f)||f!==+f||!ae(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||cce,T=d.horizontalCoordinatesGenerator||fce,P=d.horizontalPoints,S=d.verticalPoints;if((!P||!P.length)&&Ae(T)){var E=b&&b.length,I=T({yAxis:x?hn(hn({},x),{},{ticks:E?b:x.ticks}):void 0,width:s,height:l,offset:u},E?!0:v);fi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ga(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Ae(k)){var C=w&&w.length,O=k({xAxis:_?hn(hn({},_),{},{ticks:C?w:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);fi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ga(O),"]")),Array.isArray(O)&&(S=O)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(oce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(ace,Ko({},d,{offset:u,horizontalPoints:P,xAxis:_,yAxis:x})),$.createElement(sce,Ko({},d,{offset:u,verticalPoints:S,xAxis:_,yAxis:x})),$.createElement(lce,Ko({},d,{horizontalPoints:P})),$.createElement(uce,Ko({},d,{verticalPoints:S})))}aM.displayName="CartesianGrid";var dce=["type","layout","connectNulls","ref"],hce=["key"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function uI(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ra(t){return vce(t)||yce(t)||gce(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lM(r.key),r)}}function _ce(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wce(t,e,n){return e=gp(e),xce(t,sM()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function xce(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(t)}function Sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function vr(t,e,n){return e=lM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lM(t){var e=Tce(t,"string");return Ks(e)=="symbol"?e:e+""}function Tce(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf=function(t){function e(){var n;bce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wce(this,e,[].concat(i)),vr(n,"state",{isAnimationFinished:!0,totalLength:0}),vr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),vr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,p=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){p=[].concat(Ra(l.slice(0,g)),[f-v]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Ra(e.repeat(l,d)),Ra(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),vr(n,"id",Jc("recharts-line-")),vr(n,"pathRef",function(a){n.mainCurve=a}),vr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),vr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ece(e,t),_ce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=rr(d,of);if(!f)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Wn(v.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(_t,p,f.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Ce(this.props,!1),h=Ce(l,!0),p=u.map(function(v,b){var w=Mn(Mn(Mn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(l,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(_t,Tu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=uI(s,dce),h=Mn(Mn(Mn({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return $.createElement(j0,Tu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,v=a.width,b=a.height,w=this.state,_=w.prevPoints,x=w.totalLength;return $.createElement(Fs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var T=k.t;if(_){var P=_.length/s.length,S=s.map(function(j,N){var U=Math.floor(N*P);if(_[U]){var z=_[U],G=_r(z.x,j.x),X=_r(z.y,j.y);return Mn(Mn({},j),{},{x:G(T),y:X(T)})}if(g){var V=_r(v*2,j.x),q=_r(b/2,j.y);return Mn(Mn({},j),{},{x:V(T),y:q(T)})}return Mn(Mn({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(S,r,i)}var E=_r(0,x),I=E(T),C;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});C=o.getStrokeDasharray(I,x,O)}else C=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!Dm(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,v=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,x=Re("recharts-line",l),k=u&&u.allowDataOverflow,T=d&&d.allowDataOverflow,P=k||T,S=Pe(b)?this.id:b,E=(r=Ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=E.r,C=I===void 0?3:I,O=E.strokeWidth,j=O===void 0?2:O,N=Gz(a)?a:{},U=N.clipDot,z=U===void 0?!0:U,G=C*2+j;return $.createElement(_t,{className:x},k||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:k?h:h-p/2,y:T?f:f-g/2,width:k?p:p*2,height:T?g:g*2})),!z&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:h-G/2,y:f-G/2,width:p+G,height:g+G}))):null,!_&&this.renderCurve(P,S),this.renderErrorBar(P,S),(_||a)&&this.renderDots(P,z,S),(!v||w)&&uo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ra(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ra(a),Ra(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(Ae(r))o=r(i);else{var a=i.key,s=uI(i,hce),l=Re("recharts-line-dot",typeof r!="boolean"?r.className:"");o=$.createElement(ex,Tu({key:a},s,{className:l}))}return o}}])}(D.PureComponent);vr(sf,"displayName","Line");vr(sf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!di.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});vr(sf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var g=Wn(h,a);return d==="horizontal"?{x:BA({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:Pe(g)?null:r.scale(g),value:g,payload:h}:{x:Pe(g)?null:n.scale(g),y:BA({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:g,payload:h}});return Mn({points:f,layout:d},u)});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fM(r.key),r)}}function Pce(t,e,n){return e&&dI(t.prototype,e),n&&dI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,n){return e=yp(e),Oce(t,uM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(t)}function kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Cce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function cM(t,e,n){return e=fM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fM(t){var e=Nce(t,"string");return Xs(e)=="symbol"?e:e+""}function Nce(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function jce(t){var e=t.xAxisId,n=ix(),r=ox(),i=KR(e);return i==null?null:D.createElement(vl,ib({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return si(a,!0)}}))}var qm=function(t){function e(){return Ace(this,e),Ice(this,e,arguments)}return Cce(e,t),Pce(e,[{key:"render",value:function(){return D.createElement(jce,this.props)}}])}(D.Component);cM(qm,"displayName","XAxis");cM(qm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function Mce(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=vp(e),$ce(t,dM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function hM(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=Fce(t,"string");return Ys(e)=="symbol"?e:e+""}function Fce(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}var Bce=function(e){var n=e.yAxisId,r=ix(),i=ox(),o=XR(n);return o==null?null:D.createElement(vl,ab({},o,{className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return si(s,!0)}}))},Km=function(t){function e(){return Rce(this,e),Dce(this,e,arguments)}return Vce(e,t),Mce(e,[{key:"render",value:function(){return D.createElement(Bce,this.props)}}])}(D.Component);hM(Km,"displayName","YAxis");hM(Km,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pI(t){return Gce(t)||Wce(t)||zce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gce(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lb=function(e,n,r,i,o){var a=rr(e,sx),s=rr(e,Wm),l=[].concat(pI(a),pI(s)),u=rr(e,Hm),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,b){if(b.props[d]===r&&Vr(b.props,"extendDomain")&&ae(b.props[f])){var w=b.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,b){if(b.props[d]===r&&Vr(b.props,"extendDomain")&&ae(b.props[p])&&ae(b.props[g])){var w=b.props[p],_=b.props[g];return[Math.min(v[0],w,_),Math.max(v[1],w,_)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,b){return ae(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},mM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,_,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,g),!0}for(x=1,_=new Array(w-1);x<w;x++)_[x-1]=arguments[x];b.fn.apply(b.context,_)}else{var k=b.length,T;for(x=0;x<k;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),w){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,f);break;case 4:b[x].fn.call(b[x].context,d,f,h);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];b[x].fn.apply(b[x].context,_)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var v=0,b=[],w=g.length;v<w;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(mM);var Hce=mM.exports;const qce=Qe(Hce);var _y=new qce,wy="recharts.syncMouseEvents";function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gM(r.key),r)}}function Xce(t,e,n){return e&&mI(t.prototype,e),n&&mI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xy(t,e,n){return e=gM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gM(t){var e=Yce(t,"string");return Cc(e)=="symbol"?e:e+""}function Yce(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce=function(){function t(){Kce(this,t),xy(this,"activeIndex",0),xy(this,"coordinateList",[]),xy(this,"layout","horizontal")}return Xce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Jce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function Zce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Yt(e,n,r,i),s=Yt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function efe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Yt(s,l,u,f),p=Yt(s,l,d,f);r=h.x,i=h.y,o=p.x,a=p.y}else return yM(e);return[{x:r,y:i},{x:o,y:a}]}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return Nc(e)=="symbol"?e:e+""}function rfe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=j0;if(h==="ScatterChart")g=a,v=uae;else if(h==="BarChart")g=Zce(f,a,l,d),v=Zw;else if(f==="radial"){var b=yM(a),w=b.cx,_=b.cy,x=b.radius,k=b.startAngle,T=b.endAngle;g={cx:w,cy:_,startAngle:k,endAngle:T,innerRadius:x,outerRadius:x},v=_R}else g={points:efe(f,a,l)},v=j0;var P=ud(ud(ud(ud({stroke:"#ccc",pointerEvents:"none"},l),g),Ce(p,!1)),{},{payload:s,payloadIndex:u,className:Re("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,P):D.createElement(v,P)}var ofe=["item"],afe=["children","className","width","height","style","compact","title","desc"];function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function yI(t,e){return ufe(t)||lfe(t,e)||bM(t,e)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ufe(t){if(Array.isArray(t))return t}function vI(t,e){if(t==null)return{};var n=cfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_M(r.key),r)}}function dfe(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hfe(t,e,n){return e=bp(e),pfe(t,vM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function pfe(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mfe(t)}function mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function Js(t){return bfe(t)||vfe(t)||bM(t)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bM(t,e){if(t){if(typeof t=="string")return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function vfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bfe(t){if(Array.isArray(t))return cb(t)}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=_M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _M(t){var e=_fe(t,"string");return Qs(e)=="symbol"?e:e+""}function _fe(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wfe={xAxis:["bottom","top"],yAxis:["left","right"]},xfe={width:"100%",height:"100%"},wM={x:0,y:0};function cd(t){return t}var Sfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Efe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return K(K(K({},i),Yt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return K(K(K({},i),Yt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return wM},Xm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Js(s),Js(u)):s},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function xM(t){return t==="number"?[0,"auto"]:void 0}var fb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Xm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=wh(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Js(l),[yR(u,h)]):l},[])},wI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Sfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Hne(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=fb(e,n,d,f),p=Efe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Tfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=pR(d,o);return r.reduce(function(g,v){var b,w=v.type.defaultProps!==void 0?K(K({},v.type.defaultProps),v.props):v.props,_=w.type,x=w.dataKey,k=w.allowDataOverflow,T=w.allowDuplicatedCategory,P=w.scale,S=w.ticks,E=w.includeHidden,I=w[a];if(g[I])return g;var C=Xm(e.data,{graphicalItems:i.filter(function(B){var Q,Z=a in B.props?B.props[a]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[a];return Z===I}),dataStartIndex:l,dataEndIndex:u}),O=C.length,j,N,U;Jce(w.domain,k,_)&&(j=I0(w.domain,null,k),p&&(_==="number"||P!=="auto")&&(U=Su(C,x,"category")));var z=xM(_);if(!j||j.length===0){var G,X=(G=w.domain)!==null&&G!==void 0?G:z;if(x){if(j=Su(C,x,_),_==="category"&&p){var V=Mz(j);T&&V?(N=j,j=ap(0,O)):T||(j=GA(X,j,v).reduce(function(B,Q){return B.indexOf(Q)>=0?B:[].concat(Js(B),[Q])},[]))}else if(_==="category")T?j=j.filter(function(B){return B!==""&&!Pe(B)}):j=GA(X,j,v).reduce(function(B,Q){return B.indexOf(Q)>=0||Q===""||Pe(Q)?B:[].concat(Js(B),[Q])},[]);else if(_==="number"){var q=Qne(C,i.filter(function(B){var Q,Z,le=a in B.props?B.props[a]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[a],ce="hide"in B.props?B.props.hide:(Z=B.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return le===I&&(E||!ce)}),x,o,d);q&&(j=q)}p&&(_==="number"||P!=="auto")&&(U=Su(C,x,"category"))}else p?j=ap(0,O):s&&s[I]&&s[I].hasStack&&_==="number"?j=h==="expand"?[0,1]:gR(s[I].stackGroups,l,u):j=hR(C,i.filter(function(B){var Q=a in B.props?B.props[a]:B.type.defaultProps[a],Z="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return Q===I&&(E||!Z)}),_,d,!0);if(_==="number")j=lb(f,j,I,o,S),X&&(j=I0(X,j,k));else if(_==="category"&&X){var Y=X,ne=j.every(function(B){return Y.indexOf(B)>=0});ne&&(j=Y)}}return K(K({},g),{},ve({},I,K(K({},w),{},{axisType:o,domain:j,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=w.domain)!==null&&b!==void 0?b:z,isCategorical:p,layout:d})))},{})},Afe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Xm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=pR(d,o),v=-1;return r.reduce(function(b,w){var _=w.type.defaultProps!==void 0?K(K({},w.type.defaultProps),w.props):w.props,x=_[a],k=xM("number");if(!b[x]){v++;var T;return g?T=ap(0,p):s&&s[x]&&s[x].hasStack?(T=gR(s[x].stackGroups,l,u),T=lb(f,T,x,o)):(T=I0(k,hR(h,r.filter(function(P){var S,E,I=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],C="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===x&&!C}),"number",d),i.defaultProps.allowDataOverflow),T=lb(f,T,x,o)),K(K({},b),{},ve({},x,K(K({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(wfe,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:k,isCategorical:g,layout:d})))}return b},{})},Pfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=rr(d,o),p={};return h&&h.length?p=Tfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Afe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Ife=function(e){var n=Gi(e),r=si(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Aw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Qh(n,r)}},xI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,Us),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Ofe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ci(n&&n.type);return r&&r.indexOf("Bar")>=0})},SI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Ln(f,Us),g=Ln(f,Zo),v=Object.keys(l).reduce(function(T,P){var S=l[P],E=S.orientation;return!S.mirror&&!S.hide?K(K({},T),{},ve({},E,T[E]+S.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(T,P){var S=a[P],E=S.orientation;return!S.mirror&&!S.hide?K(K({},T),{},ve({},E,nr(T,"".concat(E))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),w=K(K({},b),v),_=w.bottom;p&&(w.bottom+=p.props.height||Us.defaultProps.height),g&&n&&(w=Xne(w,i,r,n));var x=u-w.left-w.right,k=d-w.top-w.bottom;return K(K({brushBottom:_},w),{},{width:Math.max(x,0),height:Math.max(k,0)})},Cfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Nfe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var x=_.graphicalItems,k=_.stackGroups,T=_.offset,P=_.updateId,S=_.dataStartIndex,E=_.dataEndIndex,I=w.barSize,C=w.layout,O=w.barGap,j=w.barCategoryGap,N=w.maxBarSize,U=SI(C),z=U.numericAxisName,G=U.cateAxisName,X=Ofe(x),V=[];return x.forEach(function(q,Y){var ne=Xm(w.data,{graphicalItems:[q],dataStartIndex:S,dataEndIndex:E}),B=q.type.defaultProps!==void 0?K(K({},q.type.defaultProps),q.props):q.props,Q=B.dataKey,Z=B.maxBarSize,le=B["".concat(z,"Id")],ce=B["".concat(G,"Id")],be={},Be=l.reduce(function(Le,Ve){var gn=_["".concat(Ve.axisType,"Map")],ur=B["".concat(Ve.axisType,"Id")];gn&&gn[ur]||Ve.axisType==="zAxis"||ma(!1);var Gr=gn[ur];return K(K({},Le),{},ve(ve({},Ve.axisType,Gr),"".concat(Ve.axisType,"Ticks"),si(Gr)))},be),ie=Be[G],ge=Be["".concat(G,"Ticks")],H=k&&k[le]&&k[le].hasStack&&ure(q,k[le].stackGroups),F=ci(q.type).indexOf("Bar")>=0,re=Qh(ie,ge),he=[],Te=X&&qne({barSize:I,stackGroups:k,totalSize:Cfe(Be,G)});if(F){var Ee,tt,At=Pe(Z)?N:Z,Bt=(Ee=(tt=Qh(ie,ge,!0))!==null&&tt!==void 0?tt:At)!==null&&Ee!==void 0?Ee:0;he=Kne({barGap:O,barCategoryGap:j,bandSize:Bt!==re?Bt:re,sizeList:Te[ce],maxBarSize:At}),Bt!==re&&(he=he.map(function(Le){return K(K({},Le),{},{position:K(K({},Le.position),{},{offset:Le.position.offset-Bt/2})})}))}var ct=q&&q.type&&q.type.getComposedData;ct&&V.push({props:K(K({},ct(K(K({},Be),{},{displayedData:ne,props:w,dataKey:Q,item:q,bandSize:re,barPosition:he,offset:T,stackedData:H,layout:C,dataStartIndex:S,dataEndIndex:E}))),{},ve(ve(ve({key:q.key||"item-".concat(Y)},z,Be[z]),G,Be[G]),"animationId",P)),childIndex:Kz(q,w.children),item:q})}),V},p=function(w,_){var x=w.props,k=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;if(!RE({props:x}))return null;var S=x.children,E=x.layout,I=x.stackOffset,C=x.data,O=x.reverseStackOrder,j=SI(E),N=j.numericAxisName,U=j.cateAxisName,z=rr(S,r),G=are(C,z,"".concat(N,"Id"),"".concat(U,"Id"),I,O),X=l.reduce(function(B,Q){var Z="".concat(Q.axisType,"Map");return K(K({},B),{},ve({},Z,Pfe(x,K(K({},Q),{},{graphicalItems:z,stackGroups:Q.axisType===N&&G,dataStartIndex:k,dataEndIndex:T}))))},{}),V=kfe(K(K({},X),{},{props:x,graphicalItems:z}),_==null?void 0:_.legendBBox);Object.keys(X).forEach(function(B){X[B]=d(x,X[B],V,B.replace("Map",""),n)});var q=X["".concat(U,"Map")],Y=Ife(q),ne=h(x,K(K({},X),{},{dataStartIndex:k,dataEndIndex:T,updateId:P,graphicalItems:z,stackGroups:G,offset:V}));return K(K({formattedGraphicalItems:ne,graphicalItems:z,offset:V,stackGroups:G},Y),X)},g=function(b){function w(_){var x,k,T;return ffe(this,w),T=hfe(this,w,[_]),ve(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(T,"accessibilityManager",new Qce),ve(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,E=S.dataStartIndex,I=S.dataEndIndex,C=S.updateId;T.setState(K({legendBBox:P},p({props:T.props,dataStartIndex:E,dataEndIndex:I,updateId:C},K(K({},T.state),{},{legendBBox:P}))))}}),ve(T,"handleReceiveSyncEvent",function(P,S,E){if(T.props.syncId===P){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),ve(T,"handleBrushChange",function(P){var S=P.startIndex,E=P.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return K({dataStartIndex:S,dataEndIndex:E},p({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),ve(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var E=K(K({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseEnter;Ae(I)&&I(E,P)}}),ve(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),E=S?K(K({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseMove;Ae(I)&&I(E,P)}),ve(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ve(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ve(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),ve(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;Ae(E)&&E(S,P)}),ve(T,"handleOuterEvent",function(P){var S=qz(P),E=nr(T.props,"".concat(S));if(S&&Ae(E)){var I,C;/.*touch.*/i.test(S)?C=T.getMouseInfo(P.changedTouches[0]):C=T.getMouseInfo(P),E((I=C)!==null&&I!==void 0?I:{},P)}}),ve(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var E=K(K({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onClick;Ae(I)&&I(E,P)}}),ve(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ve(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),ve(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),ve(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&_y.emit(wy,T.props.syncId,P,T.eventEmitterSymbol)}),ve(T,"applySyncEvent",function(P){var S=T.props,E=S.layout,I=S.syncMethod,C=T.state.updateId,O=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(K({dataStartIndex:O,dataEndIndex:j},p({props:T.props,dataStartIndex:O,dataEndIndex:j,updateId:C},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,z=P.activeTooltipIndex,G=T.state,X=G.offset,V=G.tooltipTicks;if(!X)return;if(typeof I=="function")z=I(V,P);else if(I==="value"){z=-1;for(var q=0;q<V.length;q++)if(V[q].value===P.activeLabel){z=q;break}}var Y=K(K({},X),{},{x:X.left,y:X.top}),ne=Math.min(N,Y.x+Y.width),B=Math.min(U,Y.y+Y.height),Q=V[z]&&V[z].value,Z=fb(T.state,T.props.data,z),le=V[z]?{x:E==="horizontal"?V[z].coordinate:ne,y:E==="horizontal"?B:V[z].coordinate}:wM;T.setState(K(K({},P),{},{activeLabel:Q,activeCoordinate:le,activePayload:Z,activeTooltipIndex:z}))}else T.setState(P)}),ve(T,"renderCursor",function(P){var S,E=T.state,I=E.isTooltipActive,C=E.activeCoordinate,O=E.activePayload,j=E.offset,N=E.activeTooltipIndex,U=E.tooltipAxisBandSize,z=T.getTooltipEventType(),G=(S=P.props.active)!==null&&S!==void 0?S:I,X=T.props.layout,V=P.key||"_recharts-cursor";return $.createElement(ife,{key:V,activeCoordinate:C,activePayload:O,activeTooltipIndex:N,chartName:n,element:P,isActive:G,layout:X,offset:j,tooltipAxisBandSize:U,tooltipEventType:z})}),ve(T,"renderPolarAxis",function(P,S,E){var I=nr(P,"type.axisType"),C=nr(T.state,"".concat(I,"Map")),O=P.type.defaultProps,j=O!==void 0?K(K({},O),P.props):P.props,N=C&&C[j["".concat(I,"Id")]];return D.cloneElement(P,K(K({},N),{},{className:Re(I,N.className),key:P.key||"".concat(S,"-").concat(E),ticks:si(N,!0)}))}),ve(T,"renderPolarGrid",function(P){var S=P.props,E=S.radialLines,I=S.polarAngles,C=S.polarRadius,O=T.state,j=O.radiusAxisMap,N=O.angleAxisMap,U=Gi(j),z=Gi(N),G=z.cx,X=z.cy,V=z.innerRadius,q=z.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(I)?I:si(z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(C)?C:si(U,!0).map(function(Y){return Y.coordinate}),cx:G,cy:X,innerRadius:V,outerRadius:q,key:P.key||"polar-grid",radialLines:E})}),ve(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,E=S.children,I=S.width,C=S.height,O=T.props.margin||{},j=I-(O.left||0)-(O.right||0),N=fR({children:E,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!N)return null;var U=N.item,z=vI(N,ofe);return D.cloneElement(U,K(K({},z),{},{chartWidth:I,chartHeight:C,margin:O,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ve(T,"renderTooltip",function(){var P,S=T.props,E=S.children,I=S.accessibilityLayer,C=Ln(E,kr);if(!C)return null;var O=T.state,j=O.isTooltipActive,N=O.activeCoordinate,U=O.activePayload,z=O.activeLabel,G=O.offset,X=(P=C.props.active)!==null&&P!==void 0?P:j;return D.cloneElement(C,{viewBox:K(K({},G),{},{x:G.left,y:G.top}),active:X,label:z,payload:X?U:[],coordinate:N,accessibilityLayer:I})}),ve(T,"renderBrush",function(P){var S=T.props,E=S.margin,I=S.data,C=T.state,O=C.offset,j=C.dataStartIndex,N=C.dataEndIndex,U=C.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:od(T.handleBrushChange,P.props.onChange),data:I,x:ae(P.props.x)?P.props.x:O.left,y:ae(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:ae(P.props.width)?P.props.width:O.width,startIndex:j,endIndex:N,updateId:"brush-".concat(U)})}),ve(T,"renderReferenceElement",function(P,S,E){if(!P)return null;var I=T,C=I.clipPathId,O=T.state,j=O.xAxisMap,N=O.yAxisMap,U=O.offset,z=P.type.defaultProps||{},G=P.props,X=G.xAxisId,V=X===void 0?z.xAxisId:X,q=G.yAxisId,Y=q===void 0?z.yAxisId:q;return D.cloneElement(P,{key:P.key||"".concat(S,"-").concat(E),xAxis:j[V],yAxis:N[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),ve(T,"renderActivePoints",function(P){var S=P.item,E=P.activePoint,I=P.basePoint,C=P.childIndex,O=P.isRange,j=[],N=S.props.key,U=S.item.type.defaultProps!==void 0?K(K({},S.item.type.defaultProps),S.item.props):S.item.props,z=U.activeDot,G=U.dataKey,X=K(K({index:C,dataKey:G,cx:E.x,cy:E.y,r:4,fill:Jw(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ce(z,!1)),xh(z));return j.push(w.renderActiveDot(z,X,"".concat(N,"-activePoint-").concat(C))),I?j.push(w.renderActiveDot(z,K(K({},X),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(C))):O&&j.push(null),j}),ve(T,"renderGraphicChild",function(P,S,E){var I=T.filterFormatItem(P,S,E);if(!I)return null;var C=T.getTooltipEventType(),O=T.state,j=O.isTooltipActive,N=O.tooltipAxis,U=O.activeTooltipIndex,z=O.activeLabel,G=T.props.children,X=Ln(G,kr),V=I.props,q=V.points,Y=V.isRange,ne=V.baseLine,B=I.item.type.defaultProps!==void 0?K(K({},I.item.type.defaultProps),I.item.props):I.item.props,Q=B.activeDot,Z=B.hide,le=B.activeBar,ce=B.activeShape,be=!!(!Z&&j&&X&&(Q||le||ce)),Be={};C!=="axis"&&X&&X.props.trigger==="click"?Be={onClick:od(T.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(Be={onMouseLeave:od(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:od(T.handleItemMouseEnter,P.props.onMouseEnter)});var ie=D.cloneElement(P,K(K({},I.props),Be));function ge(Ve){return typeof N.dataKey=="function"?N.dataKey(Ve.payload):null}if(be)if(U>=0){var H,F;if(N.dataKey&&!N.allowDuplicatedCategory){var re=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());H=wh(q,re,z),F=Y&&ne&&wh(ne,re,z)}else H=q==null?void 0:q[U],F=Y&&ne&&ne[U];if(ce||le){var he=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[D.cloneElement(P,K(K(K({},I.props),Be),{},{activeIndex:he})),null,null]}if(!Pe(H))return[ie].concat(Js(T.renderActivePoints({item:I,activePoint:H,basePoint:F,childIndex:U,isRange:Y})))}else{var Te,Ee=(Te=T.getItemByXY(T.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ie},tt=Ee.graphicalItem,At=tt.item,Bt=At===void 0?P:At,ct=tt.childIndex,Le=K(K(K({},I.props),Be),{},{activeIndex:ct});return[D.cloneElement(Bt,Le),null,null]}return Y?[ie,null,null]:[ie,null]}),ve(T,"renderCustomized",function(P,S,E){return D.cloneElement(P,K(K({key:"recharts-customized-".concat(E)},T.props),T.state))}),ve(T,"renderMap",{CartesianGrid:{handler:cd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:cd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:cd},YAxis:{handler:cd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=_.id)!==null&&x!==void 0?x:Jc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=cj(T.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),T.state={},T}return gfe(w,b),dfe(w,[{key:"componentDidMount",value:function(){var x,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,k=x.children,T=x.data,P=x.height,S=x.layout,E=Ln(k,kr);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=fb(this.state,T,I,C),j=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,U=S==="horizontal",z=U?{x:j,y:N}:{y:j,x:N},G=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});G&&(z=K(K({},z),G.props.points[I].tooltipPosition),O=G.props.points[I].tooltipPayload);var X={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:O,activeCoordinate:z};this.setState(X),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){zv([Ln(x.children,kr)],[Ln(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ln(this.props.children,kr);if(x&&typeof x.props.shared=="boolean"){var k=x.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var k=this.container,T=k.getBoundingClientRect(),P=vJ(T),S={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},E=T.width/k.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,E);if(!I)return null;var C=this.state,O=C.xAxisMap,j=C.yAxisMap,N=this.getTooltipEventType(),U=wI(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&O&&j){var z=Gi(O).scale,G=Gi(j).scale,X=z&&z.invert?z.invert(S.chartX):null,V=G&&G.invert?G.invert(S.chartY):null;return K(K({},S),{},{xValue:X,yValue:V},U)}return U?K(K({},S),U):null}},{key:"inRange",value:function(x,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=x/T,E=k/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,C=S>=I.left&&S<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return C?{x:S,y:E}:null}var O=this.state,j=O.angleAxisMap,N=O.radiusAxisMap;if(j&&N){var U=Gi(j);return KA({x:S,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,k=this.getTooltipEventType(),T=Ln(x,kr),P={};T&&k==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=xh(this.props,this.handleOuterEvent);return K(K({},S),P)}},{key:"addListener",value:function(){_y.on(wy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_y.removeListener(wy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,k,T){for(var P=this.state.formattedGraphicalItems,S=0,E=P.length;S<E;S++){var I=P[S];if(I.item===x||I.props.key===x.key||k===ci(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,k=this.state.offset,T=k.left,P=k.top,S=k.height,E=k.width;return $.createElement("defs",null,$.createElement("clipPath",{id:x},$.createElement("rect",{x:T,y:P,height:S,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(k,T){var P=yI(T,2),S=P[0],E=P[1];return K(K({},k),{},ve({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(k,T){var P=yI(T,2),S=P[0],E=P[1];return K(K({},k),{},ve({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(x){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(x){var k=this.state,T=k.formattedGraphicalItems,P=k.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var I=T[S],C=I.props,O=I.item,j=O.type.defaultProps!==void 0?K(K({},O.type.defaultProps),O.props):O.props,N=ci(O.type);if(N==="Bar"){var U=(C.data||[]).find(function(V){return Zoe(x,V)});if(U)return{graphicalItem:I,payload:U}}else if(N==="RadialBar"){var z=(C.data||[]).find(function(V){return KA(x,V)});if(z)return{graphicalItem:I,payload:z}}else if(Fm(I,P)||Bm(I,P)||Ac(I,P)){var G=nse({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),X=j.activeIndex===void 0?G:j.activeIndex;return{graphicalItem:K(K({},I),{},{childIndex:X}),payload:Ac(I,P)?j.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var x=this;if(!RE(this))return null;var k=this.props,T=k.children,P=k.className,S=k.width,E=k.height,I=k.style,C=k.compact,O=k.title,j=k.desc,N=vI(k,afe),U=Ce(N,!1);if(C)return $.createElement(qP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Gv,Za({},U,{width:S,height:E,title:O,desc:j}),this.renderClipPath(),DE(T,this.renderMap)));if(this.props.accessibilityLayer){var z,G;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){x.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return $.createElement(qP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Za({className:Re("recharts-wrapper",P),style:K({position:"relative",cursor:"default",width:S,height:E},I)},X,{ref:function(q){x.container=q}}),$.createElement(Gv,Za({},U,{width:S,height:E,title:O,desc:j,style:xfe}),this.renderClipPath(),DE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ve(g,"displayName",n),ve(g,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(g,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,x=b.data,k=b.children,T=b.width,P=b.height,S=b.layout,E=b.stackOffset,I=b.margin,C=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var j=xI(b);return K(K(K({},j),{},{updateId:0},p(K(K({props:b},j),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:k})}if(_!==w.prevDataKey||x!==w.prevData||T!==w.prevWidth||P!==w.prevHeight||S!==w.prevLayout||E!==w.prevStackOffset||!cs(I,w.prevMargin)){var N=xI(b),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},z=K(K({},wI(w,x,S)),{},{updateId:w.updateId+1}),G=K(K(K({},N),U),z);return K(K(K({},G),p(K({props:b},G),w)),{},{prevDataKey:_,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:k})}if(!zv(k,w.prevChildren)){var X,V,q,Y,ne=Ln(k,Us),B=ne&&(X=(V=ne.props)===null||V===void 0?void 0:V.startIndex)!==null&&X!==void 0?X:C,Q=ne&&(q=(Y=ne.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:O,Z=B!==C||Q!==O,le=!Pe(x),ce=le&&!Z?w.updateId:w.updateId+1;return K(K({updateId:ce},p(K(K({props:b},w),{},{updateId:ce,dataStartIndex:B,dataEndIndex:Q}),w)),{},{prevChildren:k,dataStartIndex:B,dataEndIndex:Q})}return null}),ve(g,"renderActiveDot",function(b,w,_){var x;return D.isValidElement(b)?x=D.cloneElement(b,w):Ae(b)?x=b(w):x=$.createElement(ex,w),$.createElement(_t,{className:"recharts-active-dot",key:_},x)});var v=D.forwardRef(function(w,_){return $.createElement(g,Za({},w,{ref:_}))});return v.displayName=g.displayName,v},jfe=Nfe({chartName:"LineChart",GraphicalChild:sf,axisComponents:[{axisType:"xAxis",AxisComp:qm},{axisType:"yAxis",AxisComp:Km}],formatAxisMap:Ple});const Rfe=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),Mfe=({className:t=""})=>m.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"3"}),m.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Dfe=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"8",r:"4"}),m.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),SM=({className:t=""})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),$fe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Lfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Vfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Ffe=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:m.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Bfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M3 3v18h18"}),m.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Ufe=({className:t=""})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:m.jsx("polyline",{points:"9 18 15 12 9 6"})}),_p=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),zfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Wfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),m.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:m.jsx(zfe,{})})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(fJ,{children:m.jsxs(jfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[m.jsx(aM,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(qm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),m.jsx(Km,{stroke:"#6b7280"}),m.jsx(kr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return m.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&m.jsxs("div",{children:[m.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),m.jsxs("div",{children:[m.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),m.jsx(Zo,{wrapperStyle:{color:"#e2e8f0"}}),m.jsx(sf,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const Gfe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},Hfe=t=>{const e=[];return Object.values(Gfe).forEach(n=>{n.check(t)&&e.push(n)}),e},qfe=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return m.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[m.jsx("span",{children:t.emoji}),m.jsx("span",{className:"hidden sm:inline",children:t.name})]})},Kfe=({badges:t})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:""}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>m.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),Xfe=({badges:t})=>t.length===0?m.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):m.jsxs("div",{className:"mt-3",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" Achievements"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>m.jsx(qfe,{badge:e,size:"sm"},e.id))})]}),Yfe=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Qfe=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Jfe=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=D.useState(!1),[o,a]=D.useState(""),[s,l]=D.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),h={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(` iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
 Google Photos (shareable links)
 iCloud Shared Albums
 Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,h];n(t,p),a(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},d=f=>{const h=e.filter(p=>p.id!==f);n(t,h)};return m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:" Game Photos"}),m.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[m.jsx(Qfe,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&m.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[m.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),m.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",m.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",m.jsx("br",{})," ",m.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&m.jsx("div",{className:"space-y-2",children:e.map(f=>m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[m.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:h=>{h.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&m.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:""})]}),m.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),m.jsx("button",{onClick:()=>d(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:""})]},f.id))}),e.length===0&&!r&&m.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},Zfe=({photos:t=[]})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx(Yfe,{className:"w-3 h-3 text-gray-500"}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>m.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),ede=Jfe,tde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function nde({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=D.useRef(null);D.useEffect(()=>{const f=h=>{o.current&&!o.current.contains(h.target)&&(h.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:f.date?f.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},d=(f,h)=>{const p={...e,[f]:h};n(p),setTimeout(()=>r&&r(),400)};return m.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&m.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[m.jsx(tde,{className:"w-3 h-3"}),"Clear"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),m.jsxs("select",{value:e.searchTerm||"",onChange:f=>d("searchTerm",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All opponents"}),a.map((f,h)=>m.jsx("option",{value:f,children:f},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),m.jsxs("select",{value:e.dateFilter||"",onChange:f=>d("dateFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All dates"}),s.map((f,h)=>m.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),m.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>d("outcomeFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All games"}),m.jsx("option",{value:"W",children:"Wins"}),m.jsx("option",{value:"L",children:"Losses"}),m.jsx("option",{value:"T",children:"Ties"})]})]}),l&&m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&m.jsxs("span",{className:"block",children:[" Opponent: ",e.searchTerm]}),e.dateFilter&&m.jsxs("span",{className:"block",children:[" Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&m.jsxs("span",{className:"block",children:[" Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const rde=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],co=t=>!t||!t.email||t.isAnonymous?!1:rde.includes(t.email.toLowerCase()),Vi=t=>co(t),wp=t=>co(t),ide=t=>co(t),Sy=t=>co(t),ode=t=>!t||t.isAnonymous?"guest":co(t)?"admin":"viewer",Ht=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},EM=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),db=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),jd=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),Ey=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ade=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),sde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),lde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ude=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),cde=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),fde=({game:t})=>t.isOffline||t.tempId?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-full font-medium",title:"Saved offline, will sync when online",children:[m.jsx(OfflineIcon,{className:"w-3 h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Offline"})]}):t.isOfflineUpdated?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full font-medium",title:"Updated offline, will sync when online",children:[m.jsx(CloudSyncIcon,{className:"w-3 h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Updated"})]}):null,Xe=({label:t,value:e,onClick:n,clickable:r,onEdit:i,editable:o,isEditing:a,editValue:s,onEditChange:l,onSave:u,onCancel:d,gameId:f})=>m.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""} ${a?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-600":""}`,onClick:r?n:void 0,children:[m.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[m.jsx("span",{className:"text-xs text-orange-500",children:t}),o&&!a&&m.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-0.5 text-gray-400 hover:text-blue-500 transition",title:`Edit ${t}`,children:m.jsx(EM,{className:"w-2 h-2"})})]}),a?m.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[m.jsx("input",{type:"number",value:s===0?"":s,onChange:h=>l(h.target.value===""?0:parseInt(h.target.value)||0),className:"w-full text-center text-sm px-1 py-0.5 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0",onClick:h=>h.stopPropagation(),onFocus:h=>h.target.select(),onKeyDown:h=>{h.key==="Enter"&&(h.stopPropagation(),u()),h.key==="Escape"&&(h.stopPropagation(),d())},autoFocus:!0}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:"p-0.5 text-green-500 hover:text-green-600 bg-green-50 dark:bg-green-900/20 rounded",title:"Save",children:m.jsx(db,{className:"w-3 h-3"})}),m.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"p-0.5 text-gray-500 hover:text-gray-600 bg-gray-50 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(jd,{className:"w-3 h-3"})})]})]}):m.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function dde(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function hde({user:t,stats:e=[],teams:n=[],onDeleteGame:r,onUpdateGamePhotos:i,onUpdateGame:o,onDeleteTeam:a,onAddTeam:s,externalFilters:l={},isUserAdmin:u=!1}){D.useState("");const[d,f]=D.useState(null),[h,p]=D.useState(""),[g,v]=D.useState(""),[b,w]=D.useState(""),[_,x]=D.useState(!1),[k,T]=D.useState([]),[P,S]=D.useState(!0),[E,I]=D.useState(1),[C,O]=D.useState(null),[j,N]=D.useState(null);D.useState(!1);const[U,z]=D.useState([]),[G,X]=D.useState(!1),[V,q]=D.useState(!1),[Y,ne]=D.useState(null),[B,Q]=D.useState(null),[Z,le]=D.useState({}),[ce,be]=D.useState(null),Be=4,ie=D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ue=>{ue.opponent&&M.add(ue.opponent.trim())}),Array.from(M)},[e]);D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ue=>{ue.location&&M.add(ue.location.trim())}),Array.from(M)},[e]),D.useMemo(()=>{const M=new Map;for(const ue of n)ue&&ue.id&&!M.has(ue.name.toLowerCase())&&M.set(ue.name.toLowerCase(),ue);return Array.from(M.values())},[n]),D.useMemo(()=>h?ie.filter(M=>M.toLowerCase().includes(h.toLowerCase())).slice(0,7):[],[ie,h]);const ge=(e||[]).filter(M=>M.isOffline||M.tempId||M.isOfflineUpdated).length,H=(e||[]).filter(M=>!M.isOffline&&!M.tempId).reduce((M,ue)=>(M.points=(M.points||0)+(parseInt(ue.points,10)||0),M.fg2m=(M.fg2m||0)+(parseInt(ue.fg2m,10)||0),M.fg2a=(M.fg2a||0)+(parseInt(ue.fg2a,10)||0),M.fg3m=(M.fg3m||0)+(parseInt(ue.fg3m,10)||0),M.fg3a=(M.fg3a||0)+(parseInt(ue.fg3a,10)||0),M.ftm=(M.ftm||0)+(parseInt(ue.ftm,10)||0),M.fta=(M.fta||0)+(parseInt(ue.fta,10)||0),M.rebounds=(M.rebounds||0)+(parseInt(ue.rebounds,10)||0),M.assists=(M.assists||0)+(parseInt(ue.assists,10)||0),M.steals=(M.steals||0)+(parseInt(ue.steals,10)||0),M.blocks=(M.blocks||0)+(parseInt(ue.blocks,10)||0),M.fouls=(M.fouls||0)+(parseInt(ue.fouls,10)||0),M.turnovers=(M.turnovers||0)+(parseInt(ue.turnovers,10)||0),M.gamesPlayed=(M.gamesPlayed||0)+1,M),{}),F=(H.fg2m||0)+(H.fg3m||0),re=(H.fg2a||0)+(H.fg3a||0),he=(M,ue)=>!ue||ue===0?"0%":`${Math.round(M/ue*100)}%`,Te=(M,ue)=>!ue||ue===0?M>0?`${M.toFixed(1)}`:"0.0":(M/ue).toFixed(2),Ee=D.useMemo(()=>{let M=[...e||[]];return h&&(M=M.filter(ue=>(ue.opponent||"").toLowerCase().includes(h.toLowerCase()))),g&&(M=M.filter(ue=>{let Ue="";return ue.timestamp?Ue=new Date(ue.timestamp).toISOString().split("T")[0]:ue.date&&(Ue=ue.date),Ue===g})),b&&(M=M.filter(ue=>ue.outcome===b)),M.sort((ue,Ue)=>ue.timestamp<Ue.timestamp?1:ue.timestamp>Ue.timestamp?-1:0),M},[e,h,g,b]),tt=D.useMemo(()=>{const M=(E-1)*Be;return Ee.slice(M,M+Be)},[Ee,E]),At=Math.ceil(Ee.length/Be),Bt=(M,ue,Ue={})=>{if(!Vi(t)){Ht("edit games");return}ne(M),Q(ue),le(Ue),be(null)},ct=(M,ue,Ue)=>{if(!Vi(t)){Ht("edit stats");return}ne(M),Q("stats"),be(ue),le({[ue]:Ue})},Le=()=>{ne(null),Q(null),le({}),be(null)},Ve=async()=>{if(!(!Y||!o))try{if(B==="stats"){const M={...Z};if(["fg2m","fg3m","ftm"].some(ue=>ue in M)){const ue=e.find(Ue=>Ue.id===Y);if(ue){const Ue={...ue,...M};M.points=Ue.fg2m*2+Ue.fg3m*3+Ue.ftm}}await o(Y,M)}else await o(Y,Z);Le()}catch(M){console.error("Error updating game:",M),alert("Failed to update game. Please try again.")}},gn=(M,ue)=>{const Ue=e.filter(cr=>!cr.isOffline&&!cr.tempId);if(M==="gamesPlayed")f({statKey:M,statName:"Games Played per Age",data:dde(Ue)});else{const cr=[...Ue].sort((He,se)=>(He.timestamp||0)-(se.timestamp||0)).map(He=>({value:M==="assistTurnoverRatio"?He.turnovers?(He.assists/He.turnovers).toFixed(2):"0.00":He[M]||0,date:new Date(He.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:He.teamName,opponent:He.opponent}));f({statKey:M,statName:ue,data:cr})}},ur=()=>{if(!u){Ht("select and delete games");return}X(!G),z([])},Gr=M=>{u&&z(ue=>ue.includes(M)?ue.filter(Ue=>Ue!==M):[...ue,M])},bl=()=>{if(!u)return;const M=tt.map(ue=>ue.id);z(M)},Mt=()=>{z([])},Ut=()=>{if(!wp(t)){Ht("delete games");return}q(!0)},Ta=()=>{U.forEach(M=>{r(M)}),z([]),X(!1),q(!1)},lf=M=>{if(!wp(t)){Ht("delete games");return}O(M)},uf=()=>{C&&(r(C),O(null))},Ym=()=>{j&&(a(j),N(null))},Ao=M=>{G||T(ue=>ue.includes(M)?ue.filter(Ue=>Ue!==M):[...ue,M])},wt=M=>M==null||M===""?0:M,cf=M=>{if(!M)return"No date";const ue=new Date(M);return ue.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+ue.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return m.jsxs("div",{children:[d&&m.jsx(Wfe,{graphData:d,onClose:()=>f(null)}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),ge>0&&m.jsx("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded text-xs text-blue-800 dark:text-blue-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(OfflineIcon,{className:"w-3 h-3"}),m.jsxs("span",{children:[ge," game",ge!==1?"s":""," saved offline"]})]}),m.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:"Use settings to sync "})]})}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[m.jsx(Xe,{label:"Games Played",value:H.gamesPlayed||0}),m.jsx(Xe,{label:"Points",value:H.points||0,clickable:!0,onClick:()=>gn("points","Points")}),m.jsx(Xe,{label:"Rebounds",value:H.rebounds||0,clickable:!0,onClick:()=>gn("rebounds","Rebounds")}),m.jsx(Xe,{label:"Assists",value:H.assists||0,clickable:!0,onClick:()=>gn("assists","Assists")}),m.jsx(Xe,{label:"Steals",value:H.steals||0,clickable:!0,onClick:()=>gn("steals","Steals")}),m.jsx(Xe,{label:"Blocks",value:H.blocks||0,clickable:!0,onClick:()=>gn("blocks","Blocks")}),m.jsx(Xe,{label:"Fouls",value:H.fouls||0,clickable:!0,onClick:()=>gn("fouls","Fouls")}),m.jsx(Xe,{label:"Turnovers",value:H.turnovers||0,clickable:!0,onClick:()=>gn("turnovers","Turnovers")}),m.jsx(Xe,{label:"A/T Ratio",value:Te(H.assists,H.turnovers)})]}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),m.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[m.jsx(Xe,{label:"FG%",value:he(F,re)}),m.jsx(Xe,{label:"FT%",value:he(H.ftm,H.fta)}),m.jsx(Xe,{label:"2-Point %",value:he(H.fg2m,H.fg2a)}),m.jsx(Xe,{label:"3-Point %",value:he(H.fg3m,H.fg3a)})]})]})}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>S(!P),children:[m.jsx(cde,{isExpanded:P}),m.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(h||g||b)&&m.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",Ee.length," of ",(e||[]).length," games",h&&m.jsxs("span",{className:"block text-xs",children:[" Opponent: ",h]}),g&&m.jsxs("span",{className:"block text-xs",children:[" Date: ",new Date(g).toLocaleDateString()]}),b&&m.jsxs("span",{className:"block text-xs",children:[" Result: ",b==="W"?"Wins":b==="L"?"Losses":"Ties"]})]})]}),P&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:u&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:ur,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${G?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:G?"Cancel selection":"Select multiple games",children:[G?m.jsx(jd,{className:"h-4 w-4 sm:h-3 sm:w-3"}):m.jsx(ade,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:G?"Cancel":"Select"}),m.jsx("span",{className:"hidden sm:inline",children:G?"Cancel":"Select"})]}),G&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:bl,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[m.jsx(sde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"All"}),m.jsx("span",{className:"hidden sm:inline",children:"All"})]}),m.jsxs("button",{onClick:Mt,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[m.jsx(lde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Clear"}),m.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[u&&G&&U.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U.length," selected"]}),m.jsxs("button",{onClick:Ut,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[m.jsx(_p,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Delete"}),m.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{"data-filter-button":"true",onClick:M=>{M.stopPropagation(),x(!_)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${h||g||b?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[m.jsx(Rfe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Filter"}),m.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),_&&m.jsx(nde,{games:e,filters:{searchTerm:h,dateFilter:g,outcomeFilter:b},onFiltersChange:M=>{p(M.searchTerm||""),v(M.dateFilter||""),w(M.outcomeFilter||""),I(1)},onClose:()=>x(!1)})]})]})]}),m.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:tt.length>0?tt.map(M=>{const ue=k.includes(M.id),Ue=U.includes(M.id),cr=Hfe(M),He=Y===M.id;return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>G&&u?Gr(M.id):Ao(M.id),children:[m.jsxs("div",{className:"flex items-center gap-2",children:[G&&u&&m.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Ue?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:se=>{se.stopPropagation(),Gr(M.id)},children:Ue&&m.jsx(ude,{className:"w-3 h-3 text-white"})}),(!G||!u)&&m.jsx(Ufe,{className:`transition-transform duration-200 text-black dark:text-white ${ue?"rotate-90":""}`,style:{minWidth:20}}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:cf(M.timestamp)}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[M.teamName," vs ",M.opponent]})}),M.location&&m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 italic",children:[m.jsx(Ey,{className:"w-3 h-3"}),m.jsx("span",{children:M.location})]}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[M.adminName&&m.jsxs("p",{className:"italic text-xs text-gray-700 dark:text-gray-200",children:["Scored by ",M.adminName]}),m.jsx(fde,{game:M})]}),m.jsx(Kfe,{badges:cr}),m.jsx(Zfe,{photos:M.photos})]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${M.outcome==="W"?"bg-green-100 text-green-800":M.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[M.outcome||"T"," ",wt(M.myTeamScore),"-",wt(M.opponentScore)]}),u&&!G&&m.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:se=>{se.stopPropagation(),lf(M.id)},title:"Delete Game",children:m.jsx(_p,{className:"w-4 h-4"})})]})]}),ue&&!G&&m.jsxs("div",{className:"p-4 pt-2 relative",children:[(M.isOffline||M.tempId||M.isOfflineUpdated)&&m.jsx("div",{className:"mb-4 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-sm",children:m.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[m.jsx(OfflineIcon,{className:"w-4 h-4"}),m.jsx("span",{children:M.isOffline||M.tempId?"This game was created offline and will sync when online.":"This game has offline updates that will sync when online."})]})}),u&&m.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-600",children:m.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[He&&B==="score"?m.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg border border-orange-200 dark:border-orange-600",children:[m.jsx("input",{type:"number",value:Z.myTeamScore===0?"":Z.myTeamScore,onChange:se=>le({...Z,myTeamScore:se.target.value===""?0:parseInt(se.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:se=>se.stopPropagation(),onFocus:se=>se.target.select(),autoFocus:!0}),m.jsx("span",{className:"text-sm font-bold",children:"-"}),m.jsx("input",{type:"number",value:Z.opponentScore===0?"":Z.opponentScore,onChange:se=>le({...Z,opponentScore:se.target.value===""?0:parseInt(se.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:se=>se.stopPropagation(),onFocus:se=>se.target.select(),onKeyDown:se=>{se.key==="Enter"&&(se.stopPropagation(),Ve()),se.key==="Escape"&&(se.stopPropagation(),Le())}}),m.jsx("button",{onClick:se=>{se.stopPropagation(),Ve()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(db,{className:"w-4 h-4"})}),m.jsx("button",{onClick:se=>{se.stopPropagation(),Le()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(jd,{className:"w-4 h-4"})})]}):m.jsxs("button",{onClick:se=>{se.stopPropagation(),Bt(M.id,"score",{myTeamScore:M.myTeamScore||0,opponentScore:M.opponentScore||0})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Score",children:[m.jsx(EM,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),He&&B==="location"?m.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/30 p-2 rounded-lg border border-green-200 dark:border-green-600",children:[m.jsx("input",{type:"text",value:Z.location||"",onChange:se=>le({...Z,location:se.target.value}),className:"text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[120px]",onClick:se=>se.stopPropagation(),onKeyDown:se=>{se.key==="Enter"&&(se.stopPropagation(),Ve()),se.key==="Escape"&&(se.stopPropagation(),Le())},onFocus:se=>se.target.select(),placeholder:"Location",autoFocus:!0}),m.jsx("button",{onClick:se=>{se.stopPropagation(),Ve()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(db,{className:"w-4 h-4"})}),m.jsx("button",{onClick:se=>{se.stopPropagation(),Le()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(jd,{className:"w-4 h-4"})})]}):M.location?m.jsxs("button",{onClick:se=>{se.stopPropagation(),Bt(M.id,"location",{location:M.location})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Location",children:[m.jsx(Ey,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Location"})]}):m.jsxs("button",{onClick:se=>{se.stopPropagation(),Bt(M.id,"location",{location:""})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Add Location",children:[m.jsx(Ey,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[m.jsx(Xe,{label:"Points",value:wt(M.points),editable:u,isEditing:He&&B==="stats"&&ce==="points",editValue:Z.points,onEdit:()=>ct(M.id,"points",M.points||0),onEditChange:se=>le({...Z,points:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"2PT Made",value:wt(M.fg2m),editable:u,isEditing:He&&B==="stats"&&ce==="fg2m",editValue:Z.fg2m,onEdit:()=>ct(M.id,"fg2m",M.fg2m||0),onEditChange:se=>le({...Z,fg2m:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"2PT Att",value:wt(M.fg2a),editable:u,isEditing:He&&B==="stats"&&ce==="fg2a",editValue:Z.fg2a,onEdit:()=>ct(M.id,"fg2a",M.fg2a||0),onEditChange:se=>le({...Z,fg2a:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"3PT Made",value:wt(M.fg3m),editable:u,isEditing:He&&B==="stats"&&ce==="fg3m",editValue:Z.fg3m,onEdit:()=>ct(M.id,"fg3m",M.fg3m||0),onEditChange:se=>le({...Z,fg3m:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"3PT Att",value:wt(M.fg3a),editable:u,isEditing:He&&B==="stats"&&ce==="fg3a",editValue:Z.fg3a,onEdit:()=>ct(M.id,"fg3a",M.fg3a||0),onEditChange:se=>le({...Z,fg3a:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"FT Made",value:wt(M.ftm),editable:u,isEditing:He&&B==="stats"&&ce==="ftm",editValue:Z.ftm,onEdit:()=>ct(M.id,"ftm",M.ftm||0),onEditChange:se=>le({...Z,ftm:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"FT Att",value:wt(M.fta),editable:u,isEditing:He&&B==="stats"&&ce==="fta",editValue:Z.fta,onEdit:()=>ct(M.id,"fta",M.fta||0),onEditChange:se=>le({...Z,fta:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Rebounds",value:wt(M.rebounds),editable:u,isEditing:He&&B==="stats"&&ce==="rebounds",editValue:Z.rebounds,onEdit:()=>ct(M.id,"rebounds",M.rebounds||0),onEditChange:se=>le({...Z,rebounds:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Assists",value:wt(M.assists),editable:u,isEditing:He&&B==="stats"&&ce==="assists",editValue:Z.assists,onEdit:()=>ct(M.id,"assists",M.assists||0),onEditChange:se=>le({...Z,assists:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Steals",value:wt(M.steals),editable:u,isEditing:He&&B==="stats"&&ce==="steals",editValue:Z.steals,onEdit:()=>ct(M.id,"steals",M.steals||0),onEditChange:se=>le({...Z,steals:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Blocks",value:wt(M.blocks),editable:u,isEditing:He&&B==="stats"&&ce==="blocks",editValue:Z.blocks,onEdit:()=>ct(M.id,"blocks",M.blocks||0),onEditChange:se=>le({...Z,blocks:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Fouls",value:wt(M.fouls),editable:u,isEditing:He&&B==="stats"&&ce==="fouls",editValue:Z.fouls,onEdit:()=>ct(M.id,"fouls",M.fouls||0),onEditChange:se=>le({...Z,fouls:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"Turnovers",value:wt(M.turnovers),editable:u,isEditing:He&&B==="stats"&&ce==="turnovers",editValue:Z.turnovers,onEdit:()=>ct(M.id,"turnovers",M.turnovers||0),onEditChange:se=>le({...Z,turnovers:se}),onSave:Ve,onCancel:Le,gameId:M.id}),m.jsx(Xe,{label:"A/T Ratio",value:Te(wt(M.assists),wt(M.turnovers)),editable:!1})]}),m.jsx(Xfe,{badges:cr}),u&&m.jsx(ede,{gameId:M.id,photos:M.photos||[],onPhotosUpdate:i||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},M.id)}):m.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),At>1&&m.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>I(M=>Math.max(1,M-1)),disabled:E===1,children:"Prev"}),m.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",E," of ",At]}),m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>I(M=>Math.min(At,M+1)),disabled:E===At,children:"Next"})]})]})]})]}),u&&V&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",U.length," Games?"]}),m.jsxs("p",{className:"mb-6 text-gray-900 dark:text-white",children:["Are you sure you want to delete ",U.length," selected game",U.length!==1?"s":"","? This cannot be undone."]}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white",onClick:()=>q(!1),children:"Cancel"}),m.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Ta,children:["Delete ",U.length," Game",U.length!==1?"s":""]})]})]})}),u&&C&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),m.jsx("p",{className:"mb-6 text-gray-900 dark:text-white",children:"Are you sure you want to delete this game? This cannot be undone."}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>O(null),children:"Cancel"}),m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:uf,children:"Delete"})]})]})}),u&&j&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),m.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),m.jsx("div",{className:"flex gap-4 justify-end",children:m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Ym,children:"Delete"})})]})})]})}const pde=({active:t})=>m.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function fd({user:t,onSignOut:e,setPage:n,theme:r,toggleTheme:i,page:o,liveGameId:a,goToLiveGame:s,openSettingsModal:l,onSignIn:u,isUserAdmin:d=!1}){D.useState(0);const f=!!a,h=()=>d?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80",p=()=>{f&&(o==="live_admin"&&d?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&s():s())},g=m.jsxs("button",{disabled:!f,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${f?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:p,title:f?"Watch Live Game":"No Live Game In Progress",children:[m.jsx(pde,{active:f}),m.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),v=()=>{if(!d){alert("Access denied. Only administrators can access settings.");return}l()};return m.jsx("header",{className:`${h()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,children:m.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:`flex items-center gap-2 cursor-pointer group relative ${d?"p-1 sm:p-3 rounded-lg sm:rounded-xl bg-white dark:bg-gray-800 shadow-lg sm:shadow-xl border border-orange-200 dark:border-orange-700 hover:shadow-xl sm:hover:shadow-2xl transition-all duration-300":""}`,onClick:()=>{n(d?"game_setup":"dashboard")},children:[m.jsx("div",{className:`flex items-center justify-center text-lg ${d?"w-10 h-10":""}`,children:m.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:""})}),m.jsx("div",{className:"hidden sm:flex flex-col",children:m.jsx("span",{className:`text-lg font-bold ${d?"text-orange-600 dark:text-orange-400":"bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent"}`,children:"Sahil's Stats"})})]}),g]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("button",{onClick:v,disabled:!d,className:`flex items-center justify-center rounded-lg p-2 transition-all ${d?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:d?"Settings":"Settings (Admin Only)",children:m.jsx(Mfe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),m.jsx("button",{onClick:()=>n("dashboard"),className:`flex items-center justify-center rounded-lg p-2 transition-all ${d?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200"}`,title:"Dashboard",children:m.jsx(Bfe,{className:"h-5 w-5"})}),t&&!t.isAnonymous?m.jsx("button",{onClick:e,className:`rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all ${d?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-red-500 hover:bg-red-600 text-white"}`,title:"Sign Out",children:m.jsx(Lfe,{className:"h-5 w-5"})}):u&&m.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:m.jsx(Dfe,{className:"h-5 w-5"})})]})]})})})}function mde({onSignIn:t}){return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:m.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx(SM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),m.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),m.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[m.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:m.jsx("strong",{children:" Welcome to Sahil's Stats!"})}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:" Anyone can view games and stats  Family admins can sign in to create and manage games  Click the basketball logo above to view the dashboard"})]}),m.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[m.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),m.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),m.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),m.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),m.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function bn({label:t,value:e,onIncrement:n,onDecrement:r}){return m.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:""}),m.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),m.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function hs({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),m.jsx("div",{className:"flex justify-center items-center gap-4",children:a?m.jsx(bn,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):m.jsxs(m.Fragment,{children:[m.jsx(bn,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),m.jsx(bn,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function cx({status:t}){return t==="saving"?m.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const gde=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function yde({db:t,gameId:e,user:n,onEndGame:r}){var Y,ne;const[i,o]=D.useState(null),[a,s]=D.useState(""),[l,u]=D.useState(!1),[d,f]=D.useState(null),[h,p]=D.useState(0),[g,v]=D.useState(0),b=D.useRef(null),w=D.useRef(null);D.useEffect(()=>{const B=Ya(Kt(t,"liveGames",e),Q=>{if(Q.exists()){const Z={id:Q.id,...Q.data()};w.current=Z.period,o(Z);const le=Date.now();if(Z.isRunning&&Z.clockStartTime){const ce=le-Z.clockStartTime,be=Math.floor(ce/1e3),Be=Math.max(0,Z.clockAtStart-be),ie=Math.max(0,Z.clockAtStart*1e3-ce)/100;p(Be),v(ie)}else p(Z.clock||0),v((Z.clock||0)*10)}else o(null),p(0)});return()=>{B(),b.current&&(clearInterval(b.current),b.current=null)}},[t,e]),D.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const B=h<=60?100:1e3;b.current=setInterval(()=>{const Z=Date.now()-i.clockStartTime,le=Math.floor(Z/1e3),ce=Math.max(0,i.clockAtStart-le),be=Math.max(0,i.clockAtStart*1e3-Z)/100;p(ce),v(be),ce<=0&&i.isRunning&&_()},B)}else b.current&&(clearInterval(b.current),b.current=null);return()=>{b.current&&(clearInterval(b.current),b.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,h,e]);const _=()=>{if(!i)return;const Q=i.gameFormat==="halves"?2:4;i.period===Q?Qr(Kt(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Qr(Kt(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},x=(B,Q)=>{if(!i)return;const Z=B==="home"?"homeScore":"awayScore";if(Q<0&&i[Z]<=0)return;const le={[Z]:Co(Q)};if(!i.isRunning){const be=Date.now();le.isRunning=!0,le.clockStartTime=be,le.clockAtStart=i.clock||i.periodLength*60}const ce=Qr(Kt(t,"liveGames",e),le);T(ce)},k=(B,Q)=>{const Z=Kt(t,"liveGames",e),le=i.playerStats,ce=Math.max(0,le[B]+Q),be={[`playerStats.${B}`]:ce};if(!i.isRunning){const ie=Date.now();be.isRunning=!0,be.clockStartTime=ie,be.clockAtStart=i.clock||i.periodLength*60}Q>0?(B==="fg2m"&&(be.homeScore=Co(2)),B==="fg3m"&&(be.homeScore=Co(3)),B==="ftm"&&(be.homeScore=Co(1))):Q<0&&(B==="fg2m"&&le.fg2m>0&&(be.homeScore=Co(-2)),B==="fg3m"&&le.fg3m>0&&(be.homeScore=Co(-3)),B==="ftm"&&le.ftm>0&&(be.homeScore=Co(-1))),B==="fg2m"&&Q>0&&ce>le.fg2a&&(be["playerStats.fg2a"]=ce),B==="fg2a"&&Q<0&&ce<le.fg2m&&(be["playerStats.fg2m"]=ce),B==="fg3m"&&Q>0&&ce>le.fg3a&&(be["playerStats.fg3a"]=ce),B==="fg3a"&&Q<0&&ce<le.fg3m&&(be["playerStats.fg3m"]=ce),B==="ftm"&&Q>0&&ce>le.fta&&(be["playerStats.fta"]=ce),B==="fta"&&Q<0&&ce<le.ftm&&(be["playerStats.ftm"]=ce);const Be=Qr(Z,be);T(Be)},T=async B=>{f("saving");try{await B,f("success")}catch(Q){f("error"),console.error("Save error:",Q)}finally{setTimeout(()=>{f(null)},1200)}},P=()=>{if(!i)return;const B=Date.now();let Q;if(i.isRunning){const le=i.clockStartTime?Math.floor((B-i.clockStartTime)/1e3):0,ce=Math.max(0,i.clockAtStart-le);Q={isRunning:!1,clock:ce,clockStartTime:null,clockAtStart:ce}}else Q={isRunning:!0,clockStartTime:B,clockAtStart:i.clock||i.periodLength*60};const Z=Qr(Kt(t,"liveGames",e),Q);T(Z)},S=()=>{const B=Kt(t,"liveGames",e),Z=i.gameFormat==="halves"?2:4;i.period===Z?typeof r=="function"&&r(e):Qr(B,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},E=()=>{const B=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(B),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const I=(B,Q)=>{if(B<=59){const Z=Math.floor(Q/10),le=Math.floor(Q%10);return`${Z}.${le}`}else return`${String(Math.floor(B/60)).padStart(2,"0")}:${String(B%60).padStart(2,"0")}`},C=i.playerStats||{},O=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,U=i.period===N,z=U&&h===0&&!i.isRunning,G=z||U?"End Game":"Next",X=h<=120||U&&h===0,V=h<=60&&h>0,q=Math.max(((Y=i.teamName)==null?void 0:Y.length)||1,((ne=i.opponent)==null?void 0:ne.length)||1);return m.jsxs("div",{className:"h-screen flex flex-col",children:[z&&m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[m.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),m.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:m.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(cx,{status:d})}),m.jsx("div",{className:"flex justify-center items-center text-center mb-4 text-gray-900 dark:text-white",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${V?"text-red-500 animate-pulse scale-110 font-bold":X?"text-red-500 animate-pulse":""}`,children:I(h,g)}),m.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[O," ",i.period]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(q,6)))}px`},children:i.teamName}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>x("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:""}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),m.jsx("button",{onClick:()=>x("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(q,6)))}px`},children:i.opponent}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>x("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:""}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),m.jsx("button",{onClick:()=>x("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})})}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[m.jsx(gde,{isExpanded:!l}),m.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(hs,{label:"2-Pointers",madeValue:C.fg2m,attValue:C.fg2a,onStatChange:k,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(hs,{label:"3-Pointers",madeValue:C.fg3m,attValue:C.fg3a,onStatChange:k,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(hs,{label:"Free Throws",madeValue:C.ftm,attValue:C.fta,onStatChange:k,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(bn,{label:"Rebounds",value:C.rebounds,onIncrement:()=>k("rebounds",1),onDecrement:()=>k("rebounds",-1)}),m.jsx(bn,{label:"Assists",value:C.assists,onIncrement:()=>k("assists",1),onDecrement:()=>k("assists",-1)}),m.jsx(bn,{label:"Steals",value:C.steals,onIncrement:()=>k("steals",1),onDecrement:()=>k("steals",-1)}),m.jsx(bn,{label:"Blocks",value:C.blocks,onIncrement:()=>k("blocks",1),onDecrement:()=>k("blocks",-1)}),m.jsx(bn,{label:"Fouls",value:C.fouls,onIncrement:()=>k("fouls",1),onDecrement:()=>k("fouls",-1)}),m.jsx(bn,{label:"Turnovers",value:C.turnovers,onIncrement:()=>k("turnovers",1),onDecrement:()=>k("turnovers",-1)})]})]})]}),m.jsx("div",{className:"h-20"})]})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:m.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx("button",{onClick:E,className:"w-full py-3 rounded-lg font-bold text-lg flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white",title:"Share live game link",children:a||m.jsx($fe,{})}),m.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:z,children:i.isRunning?"Pause":"Start"}),m.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg text-white transition-all duration-300 transform hover:scale-105 ${U?"bg-red-600 hover:bg-red-700 shadow-red-500/50 shadow-lg hover:shadow-red-500/70 hover:shadow-xl animate-pulse":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/50 shadow-lg hover:shadow-orange-500/70 hover:shadow-xl"}`,style:{boxShadow:U?"0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2)":"0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2)"},children:G})]})})})]})}function EI({db:t,gameId:e,user:n}){const[r,i]=D.useState(null),[o,a]=D.useState(null),[s,l]=D.useState(0),[u,d]=D.useState(0),f=D.useRef(null);if(D.useEffect(()=>{if(!t||!e)return;const x=Kt(t,"liveGames",e),k=Ya(x,T=>{if(T.exists()){const P=T.data();i(P);const S=Date.now();if(P.isRunning&&P.clockStartTime){const E=S-P.clockStartTime,I=Math.floor(E/1e3),C=Math.max(0,P.clockAtStart-I),O=Math.max(0,P.clockAtStart*1e3-E)/100;l(C),d(O)}else l(P.clock||0),d((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{k(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),D.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const x=s<=60?100:1e3;f.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),S=Math.max(0,r.clockAtStart-P),E=Math.max(0,r.clockAtStart*1e3-T)/100;l(S),d(E)},x)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[m.jsx(SM,{className:"hover:animate-spin-slow transition-transform"}),m.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const h=r.playerStats||r.sahilStats||{},g=[{label:"Points",value:(Number(h.fg2m)||0)*2+(Number(h.fg3m)||0)*3+(Number(h.ftm)||0)},{label:"2PT Made",value:h.fg2m??0},{label:"2PT Attempted",value:h.fg2a??0},{label:"3PT Made",value:h.fg3m??0},{label:"3PT Attempted",value:h.fg3a??0},{label:"FT Made",value:h.ftm??0},{label:"FT Attempted",value:h.fta??0},{label:"Assists",value:h.assists??0},{label:"Rebounds",value:h.rebounds??0},{label:"Steals",value:h.steals??0},{label:"Fouls",value:h.fouls??0}],v=(x,k)=>{if(x<=59){const T=Math.floor(k/10),P=Math.floor(k%10);return`${T}.${P}`}else return`${String(Math.floor(x/60)).padStart(2,"0")}:${String(x%60).padStart(2,"0")}`},b=r.gameFormat==="halves"?"Half":"Period",w=s<=120,_=s<=60&&s>0;return m.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"flex justify-around items-center text-center",children:[m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.teamName}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.homeScore})]}),m.jsx("div",{className:"w-1/3",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("p",{className:`text-4xl font-mono tracking-wider  text-gray-900 dark:text-white transition-all duration-300  ${_?"text-red-500 animate-pulse scale-110 font-bold":w?"text-red-500 animate-pulse":""}`,children:v(s,u)}),m.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[b," ",r.period]})]})}),m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.opponent}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.awayScore})]})]})}),m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:m.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[m.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:m.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:g.map(x=>m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[m.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:x.label}),m.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.value})]},x.label))})]})]})}function vde({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=D.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});D.useEffect(()=>{var p,g,v,b,w,_,x,k,T,P,S,E;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((g=t.playerStats)==null?void 0:g.fg2a)||0,fg3m:t.fg3m||((v=t.playerStats)==null?void 0:v.fg3m)||0,fg3a:t.fg3a||((b=t.playerStats)==null?void 0:b.fg3a)||0,ftm:t.ftm||((w=t.playerStats)==null?void 0:w.ftm)||0,fta:t.fta||((_=t.playerStats)==null?void 0:_.fta)||0,rebounds:t.rebounds||((x=t.playerStats)==null?void 0:x.rebounds)||0,assists:t.assists||((k=t.playerStats)==null?void 0:k.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((S=t.playerStats)==null?void 0:S.fouls)||0,turnovers:t.turnovers||((E=t.playerStats)==null?void 0:E.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,d=(p,g)=>{const v=p==="home"?"myTeamScore":"opponentScore";l(b=>({...b,[v]:Math.max(0,b[v]+g)}))},f=(p,g)=>{l(v=>{const b={...v},w=Math.max(0,v[p]+g);return b[p]=w,p==="fg2m"&&w>v.fg2a&&(b.fg2a=w),p==="fg2a"&&w<v.fg2m&&(b.fg2m=w),p==="fg3m"&&w>v.fg3a&&(b.fg3a=w),p==="fg3a"&&w<v.fg3m&&(b.fg3m=w),p==="ftm"&&w>v.fta&&(b.fta=w),p==="fta"&&w<v.ftm&&(b.ftm=w),b})},h=()=>{n(s)};return t?m.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:o&&m.jsx(cx,{status:o})}),m.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>d("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),m.jsx("button",{onClick:()=>d("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>d("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),m.jsx("button",{onClick:()=>d("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(hs,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(hs,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(hs,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(bn,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),m.jsx(bn,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),m.jsx(bn,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),m.jsx(bn,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),m.jsx(bn,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),m.jsx(bn,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:m.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[m.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),m.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):m.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function bde({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:d,onDeleteAllLiveGames:f,isUserAdmin:h=!1}){const[p,g]=D.useState(""),[v,b]=D.useState(u.toString()),[w,_]=D.useState("");D.useEffect(()=>{b(u.toString())},[u]);const x=Array.from(new Map(n.map(C=>[C.id,C])).values()),k=async C=>{const O=C.trim();if(O){if(n.some(j=>j.name.toLowerCase()===O.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(O),g("success"),_("")}catch(j){console.error("Error adding team:",j),g("error")}setTimeout(()=>g(""),1200)}},T=async C=>{g("saving");try{await a(C),g("success")}catch(O){console.error("Error updating game format:",O),g("error")}setTimeout(()=>g(""),1200)},P=async C=>{b(C);const O=parseInt(C)||0;if(O>0){g("saving");try{await d(O),g("success")}catch(j){console.error("Error updating period length:",j),g("error")}setTimeout(()=>g(""),1200)}},S=()=>{const C=parseInt(v)||10;C!==u&&(b(C.toString()),P(C.toString()))},E=()=>{l(),g("success"),setTimeout(()=>g(""),1200)},I=async()=>{if(window.confirm("Are you sure you want to delete all live games? This cannot be undone.")){g("saving");try{await f(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}}};return t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative max-h-[90vh] overflow-y-auto",children:[m.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:""}),m.jsxs("h2",{className:"text-2xl font-bold text-orange-500 mb-6 flex items-center",children:["Settings",m.jsx(cx,{status:p})]}),h&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:w,onChange:C=>_(C.target.value),onKeyDown:C=>{C.key==="Enter"&&w.trim()&&k(w.trim())}}),m.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>k(w),disabled:!w.trim(),children:"Add"})]}),m.jsx("ul",{className:"space-y-2 max-h-32 overflow-y-auto",children:x.map(C=>m.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[m.jsx("span",{children:C.name}),m.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>i(C.id),title:"Delete Team",children:m.jsx(_p,{className:"h-5 w-5"})})]},C.id))}),x.length===0&&m.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-sm",children:"No teams created yet."})]}),h&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),m.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>T("periods")}),"Periods"]}),m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>T("halves")}),"Halves"]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),m.jsx("input",{type:"text",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24 text-gray-900 dark:text-white",value:v,onChange:C=>{b(C.target.value)},onBlur:S,onKeyDown:C=>{C.key==="Enter"&&S()},placeholder:"10"})]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h&&m.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",title:"Delete All Live Games",children:[m.jsx(_p,{className:"w-4 h-4"}),"Delete Live Games"]}),m.jsx("button",{onClick:E,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 ml-auto",title:"Switch theme",children:s==="dark"?m.jsx(Vfe,{className:"h-6 w-6"}):m.jsx(Ffe,{className:"h-6 w-6"})})]})]})}):null}const jo={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},_de=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||jo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||jo.periodLength};try{const e=Kt(Je,"userSettings",t.uid),n=await pC(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...jo,gameFormat:r||jo.gameFormat,periodLength:i?parseInt(i):jo.periodLength};return await QF(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||jo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||jo.periodLength}}},wde=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=Kt(Je,"userSettings",t.uid);return await Qr(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function xde(){const[t,e]=D.useState(null),[n,r]=D.useState(!1),[i,o]=D.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=D.useState(!0),[l,u]=D.useState(!0),[d,f]=D.useState("game_setup"),[h,p]=D.useState([]),[g,v]=D.useState([]),[b,w]=D.useState([]),[_,x]=D.useState(null),[k,T]=D.useState(null),[P,S]=D.useState(!1),[E,I]=D.useState("halves"),[C,O]=D.useState(20),[j,N]=D.useState(2),[U,z]=D.useState(!1);D.useEffect(()=>L6(Yf,async F=>{if(e(F),r(co(F)),F&&co(F))try{const re=await _de(F);I(re.gameFormat),O(re.periodLength),N(re.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",re)}catch(re){console.error("Error loading user settings:",re),I(localStorage.getItem("gameFormat")||"halves"),O(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else I(localStorage.getItem("gameFormat")||"halves"),O(parseInt(localStorage.getItem("periodLength"))||20),N(2);z(!0),s(!1)}),[]);const G=D.useCallback(async H=>{if(!n||!t){H.gameFormat&&(localStorage.setItem("gameFormat",H.gameFormat),I(H.gameFormat),N(H.gameFormat==="halves"?2:4)),H.periodLength&&(localStorage.setItem("periodLength",H.periodLength.toString()),O(H.periodLength));return}try{await wde(t,H),H.gameFormat&&(I(H.gameFormat),N(H.gameFormat==="halves"?2:4)),H.periodLength&&O(H.periodLength),console.log("Settings updated successfully across devices")}catch(F){console.error("Error updating settings:",F),alert("Failed to save settings. Please try again.")}},[t,n]);D.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const X=D.useCallback(()=>o(H=>H==="dark"?"light":"dark"),[]);D.useEffect(()=>{if(!t)return;const H=hr(Je,"teams");return Ya(H,re=>{p(re.docs.map(he=>({id:he.id,...he.data()})))},re=>{console.error("Error loading teams:",re),alert("Error loading teams. Please check your internet connection.")})},[t]),D.useEffect(()=>{if(!t)return;const H=hr(Je,"games");return Ya(H,re=>{const he=re.docs.map(Te=>({id:Te.id,...Te.data()}));v(he)},re=>{console.error("Error loading games:",re),alert("Error loading games. Please check your internet connection.")})},[t]),D.useEffect(()=>{if(!t)return;const H=hr(Je,"stats");return Ya(H,re=>{const he=re.docs.map(Te=>({id:Te.id,...Te.data()}));w(he)},re=>{console.error("Error loading stats:",re),alert("Error loading stats. Please check your internet connection.")})},[t]),D.useEffect(()=>{u(!0);const H=hr(Je,"liveGames"),F=Ya(H,re=>{re.empty?x(null):x(re.docs[0].id),u(!1)},re=>{console.error("Error loading live games:",re),u(!1)});return()=>F()},[d]),D.useEffect(()=>{!t&&_&&d!=="live_viewer"&&f("live_viewer")},[t,_,d]);const V=async(H,F)=>{if(!Vi(t)){Ht("update game photos");return}try{await Qr(Kt(Je,"games",H),{photos:F}),v(re=>re.map(he=>he.id===H?{...he,photos:F}:he))}catch(re){console.error("Error updating game photos:",re),alert("Failed to update photos. Please check your internet connection and try again.")}},q=D.useCallback(async H=>{if(!wp(t)){Ht("delete teams");return}try{await Kf(Kt(Je,"teams",H)),console.log("Team deleted:",H)}catch(F){console.error("Error deleting team:",F),alert("Failed to delete team. Please check your internet connection and try again.")}},[t]),Y=async H=>{if(!Vi(t))return Ht("add teams"),null;if(h.some(re=>re.name.toLowerCase()===H.toLowerCase()))return null;try{const re=await Bl(hr(Je,"teams"),{name:H});return console.log("Team added with ID:",re.id),{name:H,id:re.id}}catch(re){return console.error("Error adding team:",re),alert("Failed to add team. Please check your internet connection and try again."),null}},ne=D.useCallback(async H=>{if(!Vi(t)){Ht("add games");return}try{const F=await Bl(hr(Je,"games"),H);console.log("Game added with ID:",F.id)}catch(F){console.error("Error adding game:",F),alert("Failed to add game. Please check your internet connection and try again.")}},[t]),B=D.useCallback(async H=>{if(!Vi(t)){Ht("add statistics");return}const F=H.fg2m*2+H.fg3m*3+H.ftm;let re="T";H.myTeamScore>H.opponentScore?re="W":H.myTeamScore<H.opponentScore&&(re="L");const he={...k,...H,points:F,outcome:re,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""};try{const Te=await Bl(hr(Je,"games"),he);console.log("Game saved with ID:",Te.id),T(null),f("dashboard")}catch(Te){console.error("Error saving game:",Te),alert("Failed to save game. Please check your internet connection and try again.")}},[k,t]),Q=D.useCallback(async H=>{if(!wp(t)){Ht("delete games");return}try{await Kf(Kt(Je,"games",H)),console.log("Game deleted:",H)}catch(F){console.error("Error deleting game:",F),alert("Failed to delete game. Please check your internet connection and try again.")}},[t]),Z=D.useCallback(async(H,F)=>{if(!Vi(t)){Ht("update games");return}try{if(F.myTeamScore!==void 0&&F.opponentScore!==void 0){let re="T";F.myTeamScore>F.opponentScore?re="W":F.myTeamScore<F.opponentScore&&(re="L"),F.outcome=re}F.editedAt=new Date().toISOString(),F.editedBy=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",await Qr(Kt(Je,"games",H),F),v(re=>re.map(he=>he.id===H?{...he,...F}:he))}catch(re){throw console.error("Error updating game:",re),alert("Failed to update game. Please check your internet connection and try again."),re}},[t]),le=async H=>{if(!Sy(t)){Ht("manage live games");return}try{const F=Kt(Je,"liveGames",H),re=await pC(F);if(!re.exists()){console.log("Live game not found for endGame, id:",H);return}const he=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",Te=re.data(),Ee=Te.playerStats||{},tt=Te.homeScore??0,At=Te.awayScore??0;let Bt="T";tt>At?Bt="W":tt<At&&(Bt="L");const ct={...Te,myTeamScore:tt,opponentScore:At,outcome:Bt,points:(Ee.fg2m??0)*2+(Ee.fg3m??0)*3+(Ee.ftm??0)*1,fg2m:Ee.fg2m??0,fg2a:Ee.fg2a??0,fg3m:Ee.fg3m??0,fg3a:Ee.fg3a??0,ftm:Ee.ftm??0,fta:Ee.fta??0,rebounds:Ee.rebounds??0,assists:Ee.assists??0,steals:Ee.steals??0,blocks:Ee.blocks??0,fouls:Ee.fouls??0,turnovers:Ee.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:he,isRunning:!1},Le=await Bl(hr(Je,"games"),ct);await Kf(F),x(null),f("game_setup");const Ve=hr(Je,"games"),gn=await nE(Ve);v(gn.docs.map(ur=>({id:ur.id,...ur.data()})))}catch(F){console.error("Failed to save/end game:",F),alert("Failed to end game. Please check your internet connection and try again.")}},ce=async()=>{if(!Sy(t)){Ht("delete live games");return}try{const H=await nE(hr(Je,"liveGames"));for(let F of H.docs)await Kf(Kt(Je,"liveGames",F.id));x(null)}catch(H){console.error("Error deleting live games:",H),alert("Failed to delete live games. Please check your internet connection and try again.")}},be=async()=>{try{const F=(await i5(Yf,KC)).user;if(!co(F)){await fE(Yf),alert(`Access denied. Only family administrators can sign in.

Your email: ${F.email}

To view games, you can browse without signing in.`);return}}catch(H){if(console.error("Sign in error:",H),H.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},Be=async()=>{try{d==="live_admin"&&_&&n&&await le(_),await fE(Yf),e(null),r(!1),f("game_setup"),x(null),v([]),w([])}catch(H){console.error("Error signing out:",H)}},ie=async(H,F)=>{if(!Vi(t)){Ht("create games");return}const re={...H,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:F==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:C?C*60:600,period:1,gameFormat:E||"halves",periodLength:C||20,numPeriods:E==="halves"?2:4};if(F==="live"){if(!Sy(t)){Ht("start live games");return}try{const he=await Bl(hr(Je,"liveGames"),re);x(he.id),f("live_admin")}catch(he){console.error("Error creating live game:",he),alert("Failed to create live game. Please check your internet connection and try again.")}}else T(re),f("add_stat")},ge=()=>{if(!ide(t)){Ht("access settings");return}S(!0)};return a||l||!U?m.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[m.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:""}),m.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&d==="live_viewer"?_?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(fd,{user:null,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:X,page:d,liveGameId:_,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:ge,onSignIn:be,isUserAdmin:!1}),m.jsx("main",{className:"flex-1",children:m.jsx(EI,{db:Je,user:null,gameId:_,setPage:f,teams:h,stats:b,games:g})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(fd,{user:null,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:X,page:d,liveGameId:_,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:ge,isUserAdmin:!1}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&d!=="live_viewer"?m.jsx(mde,{onSignIn:be}):t&&!n&&(d==="game_setup"||d==="add_stat"||d==="live_admin")?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(fd,{user:t,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:X,page:d,liveGameId:_,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:ge,isUserAdmin:n}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",m.jsx("span",{className:"font-medium",children:ode(t)})]}),m.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(fd,{user:t,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:X,page:d,liveGameId:_,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:ge,isUserAdmin:n}),m.jsx(bde,{open:P,onClose:()=>S(!1),teams:h,onAddTeam:Y,onDeleteTeam:q,gameFormat:E,setGameFormat:H=>G({gameFormat:H}),periodLength:C,setPeriodLength:H=>G({periodLength:H}),theme:i,toggleTheme:X,setPage:f,onDeleteAllLiveGames:ce,isUserAdmin:n}),m.jsxs("main",{className:"flex-1",children:[t&&n&&d==="game_setup"&&m.jsx(eB,{user:t,teams:h,stats:g,onAddTeam:Y,setPage:f,games:g,onAddGame:ne,setLiveGameId:x,onSubmit:ie,gameFormat:E,periodLength:C,numPeriods:j}),t&&d==="dashboard"&&m.jsx(hde,{user:t,teams:h,stats:g,onDeleteGame:Q,onDeleteTeam:q,onAddTeam:Y,onUpdateGamePhotos:V,onUpdateGame:Z,isUserAdmin:n}),t&&n&&d==="add_stat"&&k&&m.jsx(vde,{gameConfig:k,isLive:!1,onSave:B,onCancel:()=>{T(null),f("game_setup")}}),t&&n&&d==="live_admin"&&_&&m.jsx(yde,{user:t,db:Je,gameId:_,setPage:f,teams:h,stats:b,games:g,onEndGame:le}),t&&d==="live_viewer"&&_&&m.jsx(EI,{db:Je,user:t,gameId:_,setPage:f,teams:h,stats:b,games:g})]})]})}Ty.createRoot(document.getElementById("root")).render(m.jsx($.StrictMode,{children:m.jsx(xde,{})}));
