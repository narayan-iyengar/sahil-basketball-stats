var eD=Object.defineProperty;var tD=(t,e,n)=>e in t?eD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tf=(t,e,n)=>(tD(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OI={exports:{}},Sp={},CI={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),nD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),iD=Symbol.for("react.strict_mode"),oD=Symbol.for("react.profiler"),aD=Symbol.for("react.provider"),sD=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),uD=Symbol.for("react.suspense"),cD=Symbol.for("react.memo"),fD=Symbol.for("react.lazy"),r1=Symbol.iterator;function dD(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var NI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jI=Object.assign,RI={};function nl(t,e,n){this.props=t,this.context=e,this.refs=RI,this.updater=n||NI}nl.prototype.isReactComponent={};nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MI(){}MI.prototype=nl.prototype;function pb(t,e,n){this.props=t,this.context=e,this.refs=RI,this.updater=n||NI}var mb=pb.prototype=new MI;mb.constructor=pb;jI(mb,nl.prototype);mb.isPureReactComponent=!0;var i1=Array.isArray,DI=Object.prototype.hasOwnProperty,gb={current:null},$I={key:!0,ref:!0,__self:!0,__source:!0};function LI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)DI.call(e,r)&&!$I.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Mc,type:t,key:o,ref:a,props:i,_owner:gb.current}}function hD(t,e){return{$$typeof:Mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mc}function pD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o1=/\/+/g;function dg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pD(""+t.key):e.toString(36)}function hd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mc:case nD:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+dg(a,0):r,i1(i)?(n="",t!=null&&(n=t.replace(o1,"$&/")+"/"),hd(i,e,n,"",function(u){return u})):i!=null&&(yb(i)&&(i=hD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(o1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",i1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+dg(o,s);a+=hd(o,e,n,l,i)}else if(l=dD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+dg(o,s++),a+=hd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pf(t,e,n){if(t==null)return t;var r=[],i=0;return hd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},pd={transition:null},gD={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:pd,ReactCurrentOwner:gb};function VI(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Pf,forEach:function(t,e,n){Pf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pf(t,function(){e++}),e},toArray:function(t){return Pf(t,function(e){return e})||[]},only:function(t){if(!yb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=nl;Oe.Fragment=rD;Oe.Profiler=oD;Oe.PureComponent=pb;Oe.StrictMode=iD;Oe.Suspense=uD;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;Oe.act=VI;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=gb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)DI.call(e,l)&&!$I.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Mc,type:t.type,key:i,ref:o,props:r,_owner:a}};Oe.createContext=function(t){return t={$$typeof:sD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aD,_context:t},t.Consumer=t};Oe.createElement=LI;Oe.createFactory=function(t){var e=LI.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:lD,render:t}};Oe.isValidElement=yb;Oe.lazy=function(t){return{$$typeof:fD,_payload:{_status:-1,_result:t},_init:mD}};Oe.memo=function(t,e){return{$$typeof:cD,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=pd.transition;pd.transition={};try{t()}finally{pd.transition=e}};Oe.unstable_act=VI;Oe.useCallback=function(t,e){return In.current.useCallback(t,e)};Oe.useContext=function(t){return In.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return In.current.useEffect(t,e)};Oe.useId=function(){return In.current.useId()};Oe.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return In.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Oe.useRef=function(t){return In.current.useRef(t)};Oe.useState=function(t){return In.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return In.current.useTransition()};Oe.version="18.3.1";CI.exports=Oe;var M=CI.exports;const $=it(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD=M,vD=Symbol.for("react.element"),bD=Symbol.for("react.fragment"),wD=Object.prototype.hasOwnProperty,_D=yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xD={key:!0,ref:!0,__self:!0,__source:!0};function FI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)wD.call(e,r)&&!xD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vD,type:t,key:o,ref:a,props:i,_owner:_D.current}}Sp.Fragment=bD;Sp.jsx=FI;Sp.jsxs=FI;OI.exports=Sp;var m=OI.exports,Ay={},BI={exports:{}},Qn={},UI={exports:{}},zI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var K=L.length;L.push(G);e:for(;0<K;){var te=K-1>>>1,V=L[te];if(0<i(V,G))L[te]=G,L[K]=V,K=te;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],K=L.pop();if(K!==G){L[0]=K;e:for(var te=0,V=L.length,q=V>>>1;te<q;){var ae=2*(te+1)-1,de=L[ae],me=ae+1,we=L[me];if(0>i(de,K))me<V&&0>i(we,de)?(L[te]=we,L[me]=K,te=me):(L[te]=de,L[ae]=K,te=ae);else if(me<V&&0>i(we,K))L[te]=we,L[me]=K,te=me;else break e}}return G}function i(L,G){var K=L.sortIndex-G.sortIndex;return K!==0?K:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=L)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function k(L){if(y=!1,S(L),!g)if(n(l)!==null)g=!0,B(T);else{var G=n(u);G!==null&&Y(k,G.startTime-L)}}function T(L,G){g=!1,y&&(y=!1,w(x),x=-1),p=!0;var K=h;try{for(S(G),d=n(l);d!==null&&(!(d.expirationTime>G)||L&&!C());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var V=te(d.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),S(G)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var ae=n(u);ae!==null&&Y(k,ae.startTime-G),q=!1}return q}finally{d=null,h=K,p=!1}}var P=!1,E=null,x=-1,I=5,O=-1;function C(){return!(t.unstable_now()-O<I)}function j(){if(E!==null){var L=t.unstable_now();O=L;var G=!0;try{G=E(!0,L)}finally{G?N():(P=!1,E=null)}}else P=!1}var N;if(typeof _=="function")N=function(){_(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=j,N=function(){W.postMessage(null)}}else N=function(){b(j,0)};function B(L){E=L,P||(P=!0,N())}function Y(L,G){x=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var K=h;h=G;try{return L()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=h;h=L;try{return G()}finally{h=K}},t.unstable_scheduleCallback=function(L,G,K){var te=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,L={id:c++,callback:G,priorityLevel:L,startTime:K,expirationTime:V,sortIndex:-1},K>te?(L.sortIndex=K,e(u,L),n(l)===null&&L===n(u)&&(y?(w(x),x=-1):y=!0,Y(k,K-te))):(L.sortIndex=V,e(l,L),g||p||(g=!0,B(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var G=h;return function(){var K=h;h=G;try{return L.apply(this,arguments)}finally{h=K}}}})(zI);UI.exports=zI;var SD=UI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=M,Yn=SD;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WI=new Set,Iu={};function wa(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Iu[t]=e,t=0;t<e.length;t++)WI.add(e[t])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=Object.prototype.hasOwnProperty,TD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a1={},s1={};function AD(t){return Py.call(s1,t)?!0:Py.call(a1,t)?!1:TD.test(t)?s1[t]=!0:(a1[t]=!0,!1)}function PD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ID(t,e,n,r){if(e===null||typeof e>"u"||PD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vb=/[\-:]([a-z])/g;function bb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vb,bb);on[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vb,bb);on[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vb,bb);on[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wb(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ID(e,n,i,r)&&(n=null),r||i===null?AD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=ED.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,If=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),GI=Symbol.for("react.provider"),HI=Symbol.for("react.context"),xb=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),Sb=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),l1=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,hg;function eu(t){if(hg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hg=e&&e[1]||""}return`
`+hg+t}var pg=!1;function mg(t,e){if(!t||pg)return"";pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eu(t):""}function kD(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=mg(t.type,!1),t;case 11:return t=mg(t.type.render,!1),t;case 1:return t=mg(t.type,!0),t;default:return""}}function Cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ua:return"Fragment";case Ba:return"Portal";case Iy:return"Profiler";case _b:return"StrictMode";case ky:return"Suspense";case Oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HI:return(t.displayName||"Context")+".Consumer";case GI:return(t._context.displayName||"Context")+".Provider";case xb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sb:return e=t.displayName||null,e!==null?e:Cy(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Cy(t(e))}catch{}}return null}function OD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cy(e);case 8:return e===_b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CD(t){var e=KI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kf(t){t._valueTracker||(t._valueTracker=CD(t))}function YI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ny(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XI(t,e){e=e.checked,e!=null&&wb(t,"checked",e,!1)}function jy(t,e){XI(t,e);var n=go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ry(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ry(t,e.type,go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ry(t,e,n){(e!=="number"||Md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tu=Array.isArray;function rs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+go(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function My(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(tu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:go(n)}}function QI(t,e){var n=go(e.value),r=go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Of,ZI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Of=Of||document.createElement("div"),Of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Of.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ND=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(t){ND.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uu[e]=uu[t]})});function ek(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uu.hasOwnProperty(t)&&uu[t]?(""+e).trim():e+"px"}function tk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ek(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jD=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $y(t,e){if(e){if(jD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=null;function Eb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fy=null,is=null,os=null;function h1(t){if(t=Lc(t)){if(typeof Fy!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Ip(e),Fy(t.stateNode,t.type,e))}}function nk(t){is?os?os.push(t):os=[t]:is=t}function rk(){if(is){var t=is,e=os;if(os=is=null,h1(t),e)for(t=0;t<e.length;t++)h1(e[t])}}function ik(t,e){return t(e)}function ok(){}var gg=!1;function ak(t,e,n){if(gg)return t(e,n);gg=!0;try{return ik(t,e,n)}finally{gg=!1,(is!==null||os!==null)&&(ok(),rk())}}function Ou(t,e){var n=t.stateNode;if(n===null)return null;var r=Ip(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var By=!1;if(yi)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){By=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{By=!1}function RD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var cu=!1,Dd=null,$d=!1,Uy=null,MD={onError:function(t){cu=!0,Dd=t}};function DD(t,e,n,r,i,o,a,s,l){cu=!1,Dd=null,RD.apply(MD,arguments)}function $D(t,e,n,r,i,o,a,s,l){if(DD.apply(this,arguments),cu){if(cu){var u=Dd;cu=!1,Dd=null}else throw Error(ee(198));$d||($d=!0,Uy=u)}}function _a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p1(t){if(_a(t)!==t)throw Error(ee(188))}function LD(t){var e=t.alternate;if(!e){if(e=_a(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p1(i),t;if(o===r)return p1(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function lk(t){return t=LD(t),t!==null?uk(t):null}function uk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uk(t);if(e!==null)return e;t=t.sibling}return null}var ck=Yn.unstable_scheduleCallback,m1=Yn.unstable_cancelCallback,VD=Yn.unstable_shouldYield,FD=Yn.unstable_requestPaint,It=Yn.unstable_now,BD=Yn.unstable_getCurrentPriorityLevel,Tb=Yn.unstable_ImmediatePriority,fk=Yn.unstable_UserBlockingPriority,Ld=Yn.unstable_NormalPriority,UD=Yn.unstable_LowPriority,dk=Yn.unstable_IdlePriority,Ep=null,Lr=null;function zD(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:HD,WD=Math.log,GD=Math.LN2;function HD(t){return t>>>=0,t===0?32:31-(WD(t)/GD|0)|0}var Cf=64,Nf=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=nu(s):(o&=a,o!==0&&(r=nu(o)))}else a=n&~i,a!==0?r=nu(a):o!==0&&(r=nu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function qD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=qD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hk(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function yg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function YD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ab(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mk,Pb,gk,yk,vk,Wy=!1,jf=[],eo=null,to=null,no=null,Cu=new Map,Nu=new Map,zi=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g1(t,e){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function $l(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lc(e),e!==null&&Pb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QD(t,e,n,r,i){switch(e){case"focusin":return eo=$l(eo,t,e,n,r,i),!0;case"dragenter":return to=$l(to,t,e,n,r,i),!0;case"mouseover":return no=$l(no,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cu.set(o,$l(Cu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nu.set(o,$l(Nu.get(o)||null,t,e,n,r,i)),!0}return!1}function bk(t){var e=zo(t.target);if(e!==null){var n=_a(e);if(n!==null){if(e=n.tag,e===13){if(e=sk(n),e!==null){t.blockedOn=e,vk(t.priority,function(){gk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vy=r,n.target.dispatchEvent(r),Vy=null}else return e=Lc(n),e!==null&&Pb(e),t.blockedOn=n,!1;e.shift()}return!0}function y1(t,e,n){md(t)&&n.delete(e)}function JD(){Wy=!1,eo!==null&&md(eo)&&(eo=null),to!==null&&md(to)&&(to=null),no!==null&&md(no)&&(no=null),Cu.forEach(y1),Nu.forEach(y1)}function Ll(t,e){t.blockedOn===e&&(t.blockedOn=null,Wy||(Wy=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,JD)))}function ju(t){function e(i){return Ll(i,t)}if(0<jf.length){Ll(jf[0],t);for(var n=1;n<jf.length;n++){var r=jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(eo!==null&&Ll(eo,t),to!==null&&Ll(to,t),no!==null&&Ll(no,t),Cu.forEach(e),Nu.forEach(e),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)bk(n),n.blockedOn===null&&zi.shift()}var as=ki.ReactCurrentBatchConfig,Fd=!0;function ZD(t,e,n,r){var i=Ye,o=as.transition;as.transition=null;try{Ye=1,Ib(t,e,n,r)}finally{Ye=i,as.transition=o}}function e$(t,e,n,r){var i=Ye,o=as.transition;as.transition=null;try{Ye=4,Ib(t,e,n,r)}finally{Ye=i,as.transition=o}}function Ib(t,e,n,r){if(Fd){var i=Gy(t,e,n,r);if(i===null)Pg(t,e,r,Bd,n),g1(t,r);else if(QD(i,t,e,n,r))r.stopPropagation();else if(g1(t,r),e&4&&-1<XD.indexOf(t)){for(;i!==null;){var o=Lc(i);if(o!==null&&mk(o),o=Gy(t,e,n,r),o===null&&Pg(t,e,r,Bd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Pg(t,e,r,null,n)}}var Bd=null;function Gy(t,e,n,r){if(Bd=null,t=Eb(r),t=zo(t),t!==null)if(e=_a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bd=t,null}function wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BD()){case Tb:return 1;case fk:return 4;case Ld:case UD:return 16;case dk:return 536870912;default:return 16}default:return 16}}var Yi=null,kb=null,gd=null;function _k(){if(gd)return gd;var t,e=kb,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return gd=i.slice(t,1<r?1-r:void 0)}function yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function v1(){return!1}function Jn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rf:v1,this.isPropagationStopped=v1,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ob=Jn(rl),$c=bt({},rl,{view:0,detail:0}),t$=Jn($c),vg,bg,Vl,Tp=bt({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(vg=t.screenX-Vl.screenX,bg=t.screenY-Vl.screenY):bg=vg=0,Vl=t),vg)},movementY:function(t){return"movementY"in t?t.movementY:bg}}),b1=Jn(Tp),n$=bt({},Tp,{dataTransfer:0}),r$=Jn(n$),i$=bt({},$c,{relatedTarget:0}),wg=Jn(i$),o$=bt({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),a$=Jn(o$),s$=bt({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l$=Jn(s$),u$=bt({},rl,{data:0}),w1=Jn(u$),c$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d$[t])?!!e[t]:!1}function Cb(){return h$}var p$=bt({},$c,{key:function(t){if(t.key){var e=c$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cb,charCode:function(t){return t.type==="keypress"?yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m$=Jn(p$),g$=bt({},Tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=Jn(g$),y$=bt({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cb}),v$=Jn(y$),b$=bt({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w$=Jn(b$),_$=bt({},Tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x$=Jn(_$),S$=[9,13,27,32],Nb=yi&&"CompositionEvent"in window,fu=null;yi&&"documentMode"in document&&(fu=document.documentMode);var E$=yi&&"TextEvent"in window&&!fu,xk=yi&&(!Nb||fu&&8<fu&&11>=fu),x1=String.fromCharCode(32),S1=!1;function Sk(t,e){switch(t){case"keyup":return S$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ek(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function T$(t,e){switch(t){case"compositionend":return Ek(e);case"keypress":return e.which!==32?null:(S1=!0,x1);case"textInput":return t=e.data,t===x1&&S1?null:t;default:return null}}function A$(t,e){if(za)return t==="compositionend"||!Nb&&Sk(t,e)?(t=_k(),gd=kb=Yi=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xk&&e.locale!=="ko"?null:e.data;default:return null}}var P$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P$[t.type]:e==="textarea"}function Tk(t,e,n,r){nk(r),e=Ud(e,"onChange"),0<e.length&&(n=new Ob("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var du=null,Ru=null;function I$(t){Dk(t,0)}function Ap(t){var e=Ha(t);if(YI(e))return t}function k$(t,e){if(t==="change")return e}var Ak=!1;if(yi){var _g;if(yi){var xg="oninput"in document;if(!xg){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),xg=typeof T1.oninput=="function"}_g=xg}else _g=!1;Ak=_g&&(!document.documentMode||9<document.documentMode)}function A1(){du&&(du.detachEvent("onpropertychange",Pk),Ru=du=null)}function Pk(t){if(t.propertyName==="value"&&Ap(Ru)){var e=[];Tk(e,Ru,t,Eb(t)),ak(I$,e)}}function O$(t,e,n){t==="focusin"?(A1(),du=e,Ru=n,du.attachEvent("onpropertychange",Pk)):t==="focusout"&&A1()}function C$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ap(Ru)}function N$(t,e){if(t==="click")return Ap(e)}function j$(t,e){if(t==="input"||t==="change")return Ap(e)}function R$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:R$;function Mu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Py.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function P1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I1(t,e){var n=P1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P1(n)}}function Ik(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ik(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kk(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Md(t.document)}return e}function jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M$(t){var e=kk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ik(n.ownerDocument.documentElement,n)){if(r!==null&&jb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=I1(n,o);var a=I1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D$=yi&&"documentMode"in document&&11>=document.documentMode,Wa=null,Hy=null,hu=null,qy=!1;function k1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qy||Wa==null||Wa!==Md(r)||(r=Wa,"selectionStart"in r&&jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hu&&Mu(hu,r)||(hu=r,r=Ud(Hy,"onSelect"),0<r.length&&(e=new Ob("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wa)))}function Mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ga={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},Sg={},Ok={};yi&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Pp(t){if(Sg[t])return Sg[t];if(!Ga[t])return t;var e=Ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ok)return Sg[t]=e[n];return t}var Ck=Pp("animationend"),Nk=Pp("animationiteration"),jk=Pp("animationstart"),Rk=Pp("transitionend"),Mk=new Map,O1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(t,e){Mk.set(t,e),wa(e,[t])}for(var Eg=0;Eg<O1.length;Eg++){var Tg=O1[Eg],$$=Tg.toLowerCase(),L$=Tg[0].toUpperCase()+Tg.slice(1);_o($$,"on"+L$)}_o(Ck,"onAnimationEnd");_o(Nk,"onAnimationIteration");_o(jk,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(Rk,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V$=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function C1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$D(r,e,void 0,t),t.currentTarget=null}function Dk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;C1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;C1(i,s,u),o=l}}}if($d)throw t=Uy,$d=!1,Uy=null,t}function ut(t,e){var n=e[Jy];n===void 0&&(n=e[Jy]=new Set);var r=t+"__bubble";n.has(r)||($k(e,t,2,!1),n.add(r))}function Ag(t,e,n){var r=0;e&&(r|=4),$k(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Df]){t[Df]=!0,WI.forEach(function(n){n!=="selectionchange"&&(V$.has(n)||Ag(n,!1,t),Ag(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,Ag("selectionchange",!1,e))}}function $k(t,e,n,r){switch(wk(e)){case 1:var i=ZD;break;case 4:i=e$;break;default:i=Ib}n=i.bind(null,e,n,t),i=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=zo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}ak(function(){var u=o,c=Eb(n),d=[];e:{var h=Mk.get(t);if(h!==void 0){var p=Ob,g=t;switch(t){case"keypress":if(yd(n)===0)break e;case"keydown":case"keyup":p=m$;break;case"focusin":g="focus",p=wg;break;case"focusout":g="blur",p=wg;break;case"beforeblur":case"afterblur":p=wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=r$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=v$;break;case Ck:case Nk:case jk:p=a$;break;case Rk:p=w$;break;case"scroll":p=t$;break;case"wheel":p=x$;break;case"copy":case"cut":case"paste":p=l$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_1}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var _=u,S;_!==null;){S=_;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,w!==null&&(k=Ou(_,w),k!=null&&y.push($u(_,k,S)))),b)break;_=_.return}0<y.length&&(h=new p(h,g,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Vy&&(g=n.relatedTarget||n.fromElement)&&(zo(g)||g[vi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?zo(g):null,g!==null&&(b=_a(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=b1,k="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=_1,k="onPointerLeave",w="onPointerEnter",_="pointer"),b=p==null?h:Ha(p),S=g==null?h:Ha(g),h=new y(k,_+"leave",p,n,c),h.target=b,h.relatedTarget=S,k=null,zo(c)===u&&(y=new y(w,_+"enter",g,n,c),y.target=S,y.relatedTarget=b,k=y),b=k,p&&g)t:{for(y=p,w=g,_=0,S=y;S;S=Na(S))_++;for(S=0,k=w;k;k=Na(k))S++;for(;0<_-S;)y=Na(y),_--;for(;0<S-_;)w=Na(w),S--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Na(y),w=Na(w)}y=null}else y=null;p!==null&&N1(d,h,p,y,!1),g!==null&&b!==null&&N1(d,b,g,y,!0)}}e:{if(h=u?Ha(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=k$;else if(E1(h))if(Ak)T=j$;else{T=C$;var P=O$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=N$);if(T&&(T=T(t,u))){Tk(d,T,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ry(h,"number",h.value)}switch(P=u?Ha(u):window,t){case"focusin":(E1(P)||P.contentEditable==="true")&&(Wa=P,Hy=u,hu=null);break;case"focusout":hu=Hy=Wa=null;break;case"mousedown":qy=!0;break;case"contextmenu":case"mouseup":case"dragend":qy=!1,k1(d,n,c);break;case"selectionchange":if(D$)break;case"keydown":case"keyup":k1(d,n,c)}var E;if(Nb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else za?Sk(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(xk&&n.locale!=="ko"&&(za||x!=="onCompositionStart"?x==="onCompositionEnd"&&za&&(E=_k()):(Yi=c,kb="value"in Yi?Yi.value:Yi.textContent,za=!0)),P=Ud(u,x),0<P.length&&(x=new w1(x,t,null,n,c),d.push({event:x,listeners:P}),E?x.data=E:(E=Ek(n),E!==null&&(x.data=E)))),(E=E$?T$(t,n):A$(t,n))&&(u=Ud(u,"onBeforeInput"),0<u.length&&(c=new w1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}Dk(d,e)})}function $u(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ou(t,n),o!=null&&r.unshift($u(t,o,i)),o=Ou(t,e),o!=null&&r.push($u(t,o,i))),t=t.return}return r}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N1(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Ou(n,o),l!=null&&a.unshift($u(n,l,s))):i||(l=Ou(n,o),l!=null&&a.push($u(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var F$=/\r\n?/g,B$=/\u0000|\uFFFD/g;function j1(t){return(typeof t=="string"?t:""+t).replace(F$,`
`).replace(B$,"")}function $f(t,e,n){if(e=j1(e),j1(t)!==e&&n)throw Error(ee(425))}function zd(){}var Ky=null,Yy=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,U$=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,z$=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(t){return R1.resolve(null).then(t).catch(W$)}:Qy;function W$(t){setTimeout(function(){throw t})}function Ig(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ju(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ju(e)}function ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),Dr="__reactFiber$"+il,Lu="__reactProps$"+il,vi="__reactContainer$"+il,Jy="__reactEvents$"+il,G$="__reactListeners$"+il,H$="__reactHandles$"+il;function zo(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M1(t);t!==null;){if(n=t[Dr])return n;t=M1(t)}return e}t=n,n=t.parentNode}return null}function Lc(t){return t=t[Dr]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Ip(t){return t[Lu]||null}var Zy=[],qa=-1;function xo(t){return{current:t}}function dt(t){0>qa||(t.current=Zy[qa],Zy[qa]=null,qa--)}function st(t,e){qa++,Zy[qa]=t.current,t.current=e}var yo={},bn=xo(yo),Mn=xo(!1),oa=yo;function vs(t,e){var n=t.type.contextTypes;if(!n)return yo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function Wd(){dt(Mn),dt(bn)}function D1(t,e,n){if(bn.current!==yo)throw Error(ee(168));st(bn,e),st(Mn,n)}function Lk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,OD(t)||"Unknown",i));return bt({},n,r)}function Gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,oa=bn.current,st(bn,t),st(Mn,Mn.current),!0}function $1(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=Lk(t,e,oa),r.__reactInternalMemoizedMergedChildContext=t,dt(Mn),dt(bn),st(bn,t)):dt(Mn),st(Mn,n)}var ei=null,kp=!1,kg=!1;function Vk(t){ei===null?ei=[t]:ei.push(t)}function q$(t){kp=!0,Vk(t)}function So(){if(!kg&&ei!==null){kg=!0;var t=0,e=Ye;try{var n=ei;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,kp=!1}catch(i){throw ei!==null&&(ei=ei.slice(t+1)),ck(Tb,So),i}finally{Ye=e,kg=!1}}return null}var Ka=[],Ya=0,Hd=null,qd=0,nr=[],rr=0,aa=null,ni=1,ri="";function $o(t,e){Ka[Ya++]=qd,Ka[Ya++]=Hd,Hd=t,qd=e}function Fk(t,e,n){nr[rr++]=ni,nr[rr++]=ri,nr[rr++]=aa,aa=t;var r=ni;t=ri;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-Pr(e)+i|n<<i|r,ri=o+t}else ni=1<<o|n<<i|r,ri=t}function Rb(t){t.return!==null&&($o(t,1),Fk(t,1,0))}function Mb(t){for(;t===Hd;)Hd=Ka[--Ya],Ka[Ya]=null,qd=Ka[--Ya],Ka[Ya]=null;for(;t===aa;)aa=nr[--rr],nr[rr]=null,ri=nr[--rr],nr[rr]=null,ni=nr[--rr],nr[rr]=null}var Kn=null,Hn=null,pt=!1,xr=null;function Bk(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=aa!==null?{id:ni,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tv(t){if(pt){var e=Hn;if(e){var n=e;if(!L1(t,e)){if(ev(t))throw Error(ee(418));e=ro(n.nextSibling);var r=Kn;e&&L1(t,e)?Bk(r,n):(t.flags=t.flags&-4097|2,pt=!1,Kn=t)}}else{if(ev(t))throw Error(ee(418));t.flags=t.flags&-4097|2,pt=!1,Kn=t}}}function V1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Lf(t){if(t!==Kn)return!1;if(!pt)return V1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Hn)){if(ev(t))throw Uk(),Error(ee(418));for(;e;)Bk(t,e),e=ro(e.nextSibling)}if(V1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?ro(t.stateNode.nextSibling):null;return!0}function Uk(){for(var t=Hn;t;)t=ro(t.nextSibling)}function bs(){Hn=Kn=null,pt=!1}function Db(t){xr===null?xr=[t]:xr.push(t)}var K$=ki.ReactCurrentBatchConfig;function Fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F1(t){var e=t._init;return e(t._payload)}function zk(t){function e(w,_){if(t){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=so(w,_),w.index=0,w.sibling=null,w}function o(w,_,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=2,_):S):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,_,S,k){return _===null||_.tag!==6?(_=Dg(S,w.mode,k),_.return=w,_):(_=i(_,S),_.return=w,_)}function l(w,_,S,k){var T=S.type;return T===Ua?c(w,_,S.props.children,k,S.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&F1(T)===_.type)?(k=i(_,S.props),k.ref=Fl(w,_,S),k.return=w,k):(k=Ed(S.type,S.key,S.props,null,w.mode,k),k.ref=Fl(w,_,S),k.return=w,k)}function u(w,_,S,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=$g(S,w.mode,k),_.return=w,_):(_=i(_,S.children||[]),_.return=w,_)}function c(w,_,S,k,T){return _===null||_.tag!==7?(_=Zo(S,w.mode,k,T),_.return=w,_):(_=i(_,S),_.return=w,_)}function d(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dg(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case If:return S=Ed(_.type,_.key,_.props,null,w.mode,S),S.ref=Fl(w,null,_),S.return=w,S;case Ba:return _=$g(_,w.mode,S),_.return=w,_;case Vi:var k=_._init;return d(w,k(_._payload),S)}if(tu(_)||Ml(_))return _=Zo(_,w.mode,S,null),_.return=w,_;Vf(w,_)}return null}function h(w,_,S,k){var T=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:s(w,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case If:return S.key===T?l(w,_,S,k):null;case Ba:return S.key===T?u(w,_,S,k):null;case Vi:return T=S._init,h(w,_,T(S._payload),k)}if(tu(S)||Ml(S))return T!==null?null:c(w,_,S,k,null);Vf(w,S)}return null}function p(w,_,S,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(S)||null,s(_,w,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case If:return w=w.get(k.key===null?S:k.key)||null,l(_,w,k,T);case Ba:return w=w.get(k.key===null?S:k.key)||null,u(_,w,k,T);case Vi:var P=k._init;return p(w,_,S,P(k._payload),T)}if(tu(k)||Ml(k))return w=w.get(S)||null,c(_,w,k,T,null);Vf(_,k)}return null}function g(w,_,S,k){for(var T=null,P=null,E=_,x=_=0,I=null;E!==null&&x<S.length;x++){E.index>x?(I=E,E=null):I=E.sibling;var O=h(w,E,S[x],k);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(w,E),_=o(O,_,x),P===null?T=O:P.sibling=O,P=O,E=I}if(x===S.length)return n(w,E),pt&&$o(w,x),T;if(E===null){for(;x<S.length;x++)E=d(w,S[x],k),E!==null&&(_=o(E,_,x),P===null?T=E:P.sibling=E,P=E);return pt&&$o(w,x),T}for(E=r(w,E);x<S.length;x++)I=p(E,w,x,S[x],k),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?x:I.key),_=o(I,_,x),P===null?T=I:P.sibling=I,P=I);return t&&E.forEach(function(C){return e(w,C)}),pt&&$o(w,x),T}function y(w,_,S,k){var T=Ml(S);if(typeof T!="function")throw Error(ee(150));if(S=T.call(S),S==null)throw Error(ee(151));for(var P=T=null,E=_,x=_=0,I=null,O=S.next();E!==null&&!O.done;x++,O=S.next()){E.index>x?(I=E,E=null):I=E.sibling;var C=h(w,E,O.value,k);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(w,E),_=o(C,_,x),P===null?T=C:P.sibling=C,P=C,E=I}if(O.done)return n(w,E),pt&&$o(w,x),T;if(E===null){for(;!O.done;x++,O=S.next())O=d(w,O.value,k),O!==null&&(_=o(O,_,x),P===null?T=O:P.sibling=O,P=O);return pt&&$o(w,x),T}for(E=r(w,E);!O.done;x++,O=S.next())O=p(E,w,x,O.value,k),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?x:O.key),_=o(O,_,x),P===null?T=O:P.sibling=O,P=O);return t&&E.forEach(function(j){return e(w,j)}),pt&&$o(w,x),T}function b(w,_,S,k){if(typeof S=="object"&&S!==null&&S.type===Ua&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case If:e:{for(var T=S.key,P=_;P!==null;){if(P.key===T){if(T=S.type,T===Ua){if(P.tag===7){n(w,P.sibling),_=i(P,S.props.children),_.return=w,w=_;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&F1(T)===P.type){n(w,P.sibling),_=i(P,S.props),_.ref=Fl(w,P,S),_.return=w,w=_;break e}n(w,P);break}else e(w,P);P=P.sibling}S.type===Ua?(_=Zo(S.props.children,w.mode,k,S.key),_.return=w,w=_):(k=Ed(S.type,S.key,S.props,null,w.mode,k),k.ref=Fl(w,_,S),k.return=w,w=k)}return a(w);case Ba:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(w,_.sibling),_=i(_,S.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=$g(S,w.mode,k),_.return=w,w=_}return a(w);case Vi:return P=S._init,b(w,_,P(S._payload),k)}if(tu(S))return g(w,_,S,k);if(Ml(S))return y(w,_,S,k);Vf(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,S),_.return=w,w=_):(n(w,_),_=Dg(S,w.mode,k),_.return=w,w=_),a(w)):n(w,_)}return b}var ws=zk(!0),Wk=zk(!1),Kd=xo(null),Yd=null,Xa=null,$b=null;function Lb(){$b=Xa=Yd=null}function Vb(t){var e=Kd.current;dt(Kd),t._currentValue=e}function nv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ss(t,e){Yd=t,$b=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if($b!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(Yd===null)throw Error(ee(308));Xa=t,Yd.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Wo=null;function Fb(t){Wo===null?Wo=[t]:Wo.push(t)}function Gk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fb(e)):(n.next=i.next,i.next=n),e.interleaved=n,bi(t,r)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function Bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bi(t,n)}return i=r.interleaved,i===null?(e.next=e,Fb(r)):(e.next=i.next,i.next=e),r.interleaved=e,bi(t,n)}function vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}function B1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var i=t.updateQueue;Fi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=bt({},d,h);break e;case 2:Fi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);la|=a,t.lanes=a,t.memoizedState=d}}function U1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Vc={},Vr=xo(Vc),Vu=xo(Vc),Fu=xo(Vc);function Go(t){if(t===Vc)throw Error(ee(174));return t}function Ub(t,e){switch(st(Fu,e),st(Vu,t),st(Vr,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dy(e,t)}dt(Vr),st(Vr,e)}function _s(){dt(Vr),dt(Vu),dt(Fu)}function qk(t){Go(Fu.current);var e=Go(Vr.current),n=Dy(e,t.type);e!==n&&(st(Vu,t),st(Vr,n))}function zb(t){Vu.current===t&&(dt(Vr),dt(Vu))}var yt=xo(0);function Qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Og=[];function Wb(){for(var t=0;t<Og.length;t++)Og[t]._workInProgressVersionPrimary=null;Og.length=0}var bd=ki.ReactCurrentDispatcher,Cg=ki.ReactCurrentBatchConfig,sa=0,vt=null,$t=null,Ht=null,Jd=!1,pu=!1,Bu=0,Y$=0;function cn(){throw Error(ee(321))}function Gb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Hb(t,e,n,r,i,o){if(sa=o,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bd.current=t===null||t.memoizedState===null?Z$:eL,t=n(r,i),pu){o=0;do{if(pu=!1,Bu=0,25<=o)throw Error(ee(301));o+=1,Ht=$t=null,e.updateQueue=null,bd.current=tL,t=n(r,i)}while(pu)}if(bd.current=Zd,e=$t!==null&&$t.next!==null,sa=0,Ht=$t=vt=null,Jd=!1,e)throw Error(ee(300));return t}function qb(){var t=Bu!==0;return Bu=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function fr(){if($t===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,$t=t;else{if(t===null)throw Error(ee(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Uu(t,e){return typeof e=="function"?e(t):e}function Ng(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((sa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,vt.lanes|=c,la|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Or(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,vt.lanes|=o,la|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jg(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Or(o,e.memoizedState)||(jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Kk(){}function Yk(t,e){var n=vt,r=fr(),i=e(),o=!Or(r.memoizedState,i);if(o&&(r.memoizedState=i,jn=!0),r=r.queue,Kb(Jk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,zu(9,Qk.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(ee(349));sa&30||Xk(n,e,i)}return i}function Xk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qk(t,e,n,r){e.value=n,e.getSnapshot=r,Zk(e)&&eO(t)}function Jk(t,e,n){return n(function(){Zk(e)&&eO(t)})}function Zk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function eO(t){var e=bi(t,1);e!==null&&Ir(e,t,1,-1)}function z1(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=J$.bind(null,vt,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tO(){return fr().memoizedState}function wd(t,e,n,r){var i=Rr();vt.flags|=t,i.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Op(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if($t!==null){var a=$t.memoizedState;if(o=a.destroy,r!==null&&Gb(r,a.deps)){i.memoizedState=zu(e,n,o,r);return}}vt.flags|=t,i.memoizedState=zu(1|e,n,o,r)}function W1(t,e){return wd(8390656,8,t,e)}function Kb(t,e){return Op(2048,8,t,e)}function nO(t,e){return Op(4,2,t,e)}function rO(t,e){return Op(4,4,t,e)}function iO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oO(t,e,n){return n=n!=null?n.concat([t]):null,Op(4,4,iO.bind(null,e,t),n)}function Yb(){}function aO(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sO(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lO(t,e,n){return sa&21?(Or(n,e)||(n=hk(),vt.lanes|=n,la|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function X$(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Cg.transition;Cg.transition={};try{t(!1),e()}finally{Ye=n,Cg.transition=r}}function uO(){return fr().memoizedState}function Q$(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cO(t))fO(e,n);else if(n=Gk(t,e,n,r),n!==null){var i=An();Ir(n,t,r,i),dO(n,e,r)}}function J$(t,e,n){var r=ao(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cO(t))fO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Or(s,a)){var l=e.interleaved;l===null?(i.next=i,Fb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Gk(t,e,i,r),n!==null&&(i=An(),Ir(n,t,r,i),dO(n,e,r))}}function cO(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function fO(t,e){pu=Jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}var Zd={readContext:cr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},Z$={readContext:cr,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:W1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wd(4194308,4,iO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wd(4194308,4,t,e)},useInsertionEffect:function(t,e){return wd(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q$.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:z1,useDebugValue:Yb,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=z1(!1),e=t[0];return t=X$.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=Rr();if(pt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),qt===null)throw Error(ee(349));sa&30||Xk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,W1(Jk.bind(null,r,o,t),[t]),r.flags|=2048,zu(9,Qk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rr(),e=qt.identifierPrefix;if(pt){var n=ri,r=ni;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Y$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eL={readContext:cr,useCallback:aO,useContext:cr,useEffect:Kb,useImperativeHandle:oO,useInsertionEffect:nO,useLayoutEffect:rO,useMemo:sO,useReducer:Ng,useRef:tO,useState:function(){return Ng(Uu)},useDebugValue:Yb,useDeferredValue:function(t){var e=fr();return lO(e,$t.memoizedState,t)},useTransition:function(){var t=Ng(Uu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Kk,useSyncExternalStore:Yk,useId:uO,unstable_isNewReconciler:!1},tL={readContext:cr,useCallback:aO,useContext:cr,useEffect:Kb,useImperativeHandle:oO,useInsertionEffect:nO,useLayoutEffect:rO,useMemo:sO,useReducer:jg,useRef:tO,useState:function(){return jg(Uu)},useDebugValue:Yb,useDeferredValue:function(t){var e=fr();return $t===null?e.memoizedState=t:lO(e,$t.memoizedState,t)},useTransition:function(){var t=jg(Uu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Kk,useSyncExternalStore:Yk,useId:uO,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cp={isMounted:function(t){return(t=t._reactInternals)?_a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=ao(t),o=fi(r,i);o.payload=e,n!=null&&(o.callback=n),e=io(t,o,i),e!==null&&(Ir(e,t,i,r),vd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=ao(t),o=fi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=io(t,o,i),e!==null&&(Ir(e,t,i,r),vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=ao(t),i=fi(n,r);i.tag=2,e!=null&&(i.callback=e),e=io(t,i,r),e!==null&&(Ir(e,t,r,n),vd(e,t,r))}};function G1(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(i,o):!0}function hO(t,e,n){var r=!1,i=yo,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=Dn(e)?oa:bn.current,r=e.contextTypes,o=(r=r!=null)?vs(t,i):yo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function H1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function iv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=Dn(e)?oa:bn.current,i.context=vs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(rv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cp.enqueueReplaceState(i,i.state,null),Xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e){try{var n="",r=e;do n+=kD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ov(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nL=typeof WeakMap=="function"?WeakMap:Map;function pO(t,e,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,mv=r),ov(t,e)},n}function mO(t,e,n){n=fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ov(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ov(t,e),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function q1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gL.bind(null,t,e,n),e.then(t,t))}function K1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fi(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var rL=ki.ReactCurrentOwner,jn=!1;function Sn(t,e,n,r){e.child=t===null?Wk(e,null,n,r):ws(e,t.child,n,r)}function X1(t,e,n,r,i){n=n.render;var o=e.ref;return ss(e,i),r=Hb(t,e,n,r,o,i),n=qb(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(pt&&n&&Rb(e),e.flags|=1,Sn(t,e,r,i),e.child)}function Q1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gO(t,e,o,r,i)):(t=Ed(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(a,r)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=so(o,r),t.ref=e.ref,t.return=e,e.child=t}function gO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mu(o,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,wi(t,e,i)}return av(t,e,n,r,i)}function yO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ja,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Ja,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,st(Ja,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,st(Ja,zn),zn|=r;return Sn(t,e,i,n),e.child}function vO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function av(t,e,n,r,i){var o=Dn(n)?oa:bn.current;return o=vs(e,o),ss(e,i),n=Hb(t,e,n,r,o,i),r=qb(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(pt&&r&&Rb(e),e.flags|=1,Sn(t,e,n,i),e.child)}function J1(t,e,n,r,i){if(Dn(n)){var o=!0;Gd(e)}else o=!1;if(ss(e,i),e.stateNode===null)_d(t,e),hO(e,n,r),iv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=Dn(n)?oa:bn.current,u=vs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&H1(e,a,r,u),Fi=!1;var h=e.memoizedState;a.state=h,Xd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Mn.current||Fi?(typeof c=="function"&&(rv(e,n,c,r),l=e.memoizedState),(s=Fi||G1(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Hk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:vr(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Dn(n)?oa:bn.current,l=vs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&H1(e,a,r,l),Fi=!1,h=e.memoizedState,a.state=h,Xd(e,r,a,i);var g=e.memoizedState;s!==d||h!==g||Mn.current||Fi?(typeof p=="function"&&(rv(e,n,p,r),g=e.memoizedState),(u=Fi||G1(e,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return sv(t,e,n,r,o,i)}function sv(t,e,n,r,i,o){vO(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&$1(e,n,!1),wi(t,e,o);r=e.stateNode,rL.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,s,o)):Sn(t,e,s,o),e.memoizedState=r.state,i&&$1(e,n,!0),e.child}function bO(t){var e=t.stateNode;e.pendingContext?D1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D1(t,e.context,!1),Ub(t,e.containerInfo)}function Z1(t,e,n,r,i){return bs(),Db(i),e.flags|=256,Sn(t,e,n,r),e.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function wO(t,e,n){var r=e.pendingProps,i=yt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(yt,i&1),t===null)return tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Rp(a,r,0,null),t=Zo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=uv(n),e.memoizedState=lv,t):Xb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return iL(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=so(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=so(s,o):(o=Zo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?uv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=lv,r}return o=t.child,t=o.sibling,r=so(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xb(t,e){return e=Rp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ff(t,e,n,r){return r!==null&&Db(r),ws(e,t.child,null,n),t=Xb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iL(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Rg(Error(ee(422))),Ff(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Rp({mode:"visible",children:r.children},i,0,null),o=Zo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ws(e,t.child,null,a),e.child.memoizedState=uv(a),e.memoizedState=lv,o);if(!(e.mode&1))return Ff(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=Rg(o,r,void 0),Ff(t,e,a,r)}if(s=(a&t.childLanes)!==0,jn||s){if(r=qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,bi(t,i),Ir(r,t,i,-1))}return nw(),r=Rg(Error(ee(421))),Ff(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=ro(i.nextSibling),Kn=e,pt=!0,xr=null,t!==null&&(nr[rr++]=ni,nr[rr++]=ri,nr[rr++]=aa,ni=t.id,ri=t.overflow,aa=e),e=Xb(e,r.children),e.flags|=4096,e)}function eS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nv(t.return,e,n)}function Mg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _O(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Sn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eS(t,n,e);else if(t.tag===19)eS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mg(e,!0,n,null,o);break;case"together":Mg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),la|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oL(t,e,n){switch(e.tag){case 3:bO(e),bs();break;case 5:qk(e);break;case 1:Dn(e.type)&&Gd(e);break;case 4:Ub(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(Kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?wO(t,e,n):(st(yt,yt.current&1),t=wi(t,e,n),t!==null?t.sibling:null);st(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _O(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,yO(t,e,n)}return wi(t,e,n)}var xO,cv,SO,EO;xO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cv=function(){};SO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Go(Vr.current);var o=null;switch(n){case"input":i=Ny(t,i),r=Ny(t,r),o=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":i=My(t,i),r=My(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zd)}$y(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Iu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};EO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aL(t,e,n){var r=e.pendingProps;switch(Mb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Dn(e.type)&&Wd(),fn(e),null;case 3:return r=e.stateNode,_s(),dt(Mn),dt(bn),Wb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(vv(xr),xr=null))),cv(t,e),fn(e),null;case 5:zb(e);var i=Go(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)SO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return fn(e),null}if(t=Go(Vr.current),Lf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dr]=e,r[Lu]=o,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<ru.length;i++)ut(ru[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":u1(r,o),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ut("invalid",r);break;case"textarea":f1(r,o),ut("invalid",r)}$y(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",""+s]):Iu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ut("scroll",r)}switch(n){case"input":kf(r),c1(r,o,!0);break;case"textarea":kf(r),d1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dr]=e,t[Lu]=r,xO(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ly(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<ru.length;i++)ut(ru[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":u1(t,r),i=Ny(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":f1(t,r),i=My(t,r),ut("invalid",t);break;default:i=r}$y(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?tk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Iu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ut("scroll",t):l!=null&&wb(t,o,l,a))}switch(n){case"input":kf(t),c1(t,r,!1);break;case"textarea":kf(t),d1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+go(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?rs(t,!!r.multiple,o,!1):r.defaultValue!=null&&rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)EO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Go(Fu.current),Go(Vr.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return fn(e),null;case 13:if(dt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Hn!==null&&e.mode&1&&!(e.flags&128))Uk(),bs(),e.flags|=98560,o=!1;else if(o=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Dr]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),o=!1}else xr!==null&&(vv(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ft===0&&(Ft=3):nw())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return _s(),cv(t,e),t===null&&Du(e.stateNode.containerInfo),fn(e),null;case 10:return Vb(e.type._context),fn(e),null;case 17:return Dn(e.type)&&Wd(),fn(e),null;case 19:if(dt(yt),o=e.memoizedState,o===null)return fn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Bl(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qd(t),a!==null){for(e.flags|=128,Bl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(yt,yt.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>Ss&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Qd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!pt)return fn(e),null}else 2*It()-o.renderingStartTime>Ss&&n!==1073741824&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,n=yt.current,st(yt,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return tw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function sL(t,e){switch(Mb(e),e.tag){case 1:return Dn(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),dt(Mn),dt(bn),Wb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zb(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return _s(),null;case 10:return Vb(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Bf=!1,mn=!1,lL=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function fv(t,e,n){try{n()}catch(r){St(t,e,r)}}var tS=!1;function uL(t,e){if(Ky=Fd,t=kk(),jb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yy={focusedElem:t,selectionRange:n},Fd=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:vr(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){St(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=tS,tS=!1,g}function mu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&fv(e,n,o)}i=i.next}while(i!==r)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TO(t){var e=t.alternate;e!==null&&(t.alternate=null,TO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Lu],delete e[Jy],delete e[G$],delete e[H$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AO(t){return t.tag===5||t.tag===3||t.tag===4}function nS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(t=t.child,t!==null))for(hv(t,e,n),t=t.sibling;t!==null;)hv(t,e,n),t=t.sibling}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}var Qt=null,br=!1;function $i(t,e,n){for(n=n.child;n!==null;)PO(t,e,n),n=n.sibling}function PO(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Ep,n)}catch{}switch(n.tag){case 5:mn||Qa(n,e);case 6:var r=Qt,i=br;Qt=null,$i(t,e,n),Qt=r,br=i,Qt!==null&&(br?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(br?(t=Qt,n=n.stateNode,t.nodeType===8?Ig(t.parentNode,n):t.nodeType===1&&Ig(t,n),ju(t)):Ig(Qt,n.stateNode));break;case 4:r=Qt,i=br,Qt=n.stateNode.containerInfo,br=!0,$i(t,e,n),Qt=r,br=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&fv(n,e,a),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!mn&&(Qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){St(n,e,s)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,$i(t,e,n),mn=r):$i(t,e,n);break;default:$i(t,e,n)}}function rS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lL),e.forEach(function(r){var i=vL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qt=s.stateNode,br=!1;break e;case 3:Qt=s.stateNode.containerInfo,br=!0;break e;case 4:Qt=s.stateNode.containerInfo,br=!0;break e}s=s.return}if(Qt===null)throw Error(ee(160));PO(o,a,i),Qt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IO(e,t),e=e.sibling}function IO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),jr(t),r&4){try{mu(3,t,t.return),Np(3,t)}catch(y){St(t,t.return,y)}try{mu(5,t,t.return)}catch(y){St(t,t.return,y)}}break;case 1:gr(e,t),jr(t),r&512&&n!==null&&Qa(n,n.return);break;case 5:if(gr(e,t),jr(t),r&512&&n!==null&&Qa(n,n.return),t.flags&32){var i=t.stateNode;try{ku(i,"")}catch(y){St(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&XI(i,o),Ly(s,a);var u=Ly(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?tk(i,d):c==="dangerouslySetInnerHTML"?ZI(i,d):c==="children"?ku(i,d):wb(i,c,d,u)}switch(s){case"input":jy(i,o);break;case"textarea":QI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rs(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?rs(i,!!o.multiple,o.defaultValue,!0):rs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Lu]=o}catch(y){St(t,t.return,y)}}break;case 6:if(gr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){St(t,t.return,y)}}break;case 3:if(gr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(y){St(t,t.return,y)}break;case 4:gr(e,t),jr(t);break;case 13:gr(e,t),jr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zb=It())),r&4&&rS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(u=mn)||c,gr(e,t),mn=u):gr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(d=ce=c;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:mu(4,h,h.return);break;case 1:Qa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){St(r,n,y)}}break;case 5:Qa(h,h.return);break;case 22:if(h.memoizedState!==null){oS(d);continue}}p!==null?(p.return=h,ce=p):oS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ek("display",a))}catch(y){St(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){St(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gr(e,t),jr(t),r&4&&rS(t);break;case 21:break;default:gr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AO(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ku(i,""),r.flags&=-33);var o=nS(t);pv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=nS(t);hv(t,s,a);break;default:throw Error(ee(161))}}catch(l){St(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cL(t,e,n){ce=t,kO(t)}function kO(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||mn;s=Bf;var u=mn;if(Bf=a,(mn=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?aS(i):l!==null?(l.return=a,ce=l):aS(i);for(;o!==null;)ce=o,kO(o),o=o.sibling;ce=i,Bf=s,mn=u}iS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):iS(t)}}function iS(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Np(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&U1(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U1(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ju(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}mn||e.flags&512&&dv(e)}catch(h){St(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function oS(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function aS(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Np(4,e)}catch(l){St(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){St(e,i,l)}}var o=e.return;try{dv(e)}catch(l){St(e,o,l)}break;case 5:var a=e.return;try{dv(e)}catch(l){St(e,a,l)}}}catch(l){St(e,e.return,l)}if(e===t){ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ce=s;break}ce=e.return}}var fL=Math.ceil,eh=ki.ReactCurrentDispatcher,Qb=ki.ReactCurrentOwner,ar=ki.ReactCurrentBatchConfig,Le=0,qt=null,jt=null,nn=0,zn=0,Ja=xo(0),Ft=0,Wu=null,la=0,jp=0,Jb=0,gu=null,Cn=null,Zb=0,Ss=1/0,Zr=null,th=!1,mv=null,oo=null,Uf=!1,Xi=null,nh=0,yu=0,gv=null,xd=-1,Sd=0;function An(){return Le&6?It():xd!==-1?xd:xd=It()}function ao(t){return t.mode&1?Le&2&&nn!==0?nn&-nn:K$.transition!==null?(Sd===0&&(Sd=hk()),Sd):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:wk(t.type)),t):1}function Ir(t,e,n,r){if(50<yu)throw yu=0,gv=null,Error(ee(185));Dc(t,n,r),(!(Le&2)||t!==qt)&&(t===qt&&(!(Le&2)&&(jp|=n),Ft===4&&Wi(t,nn)),$n(t,r),n===1&&Le===0&&!(e.mode&1)&&(Ss=It()+500,kp&&So()))}function $n(t,e){var n=t.callbackNode;KD(t,e);var r=Vd(t,t===qt?nn:0);if(r===0)n!==null&&m1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m1(n),e===1)t.tag===0?q$(sS.bind(null,t)):Vk(sS.bind(null,t)),z$(function(){!(Le&6)&&So()}),n=null;else{switch(pk(r)){case 1:n=Tb;break;case 4:n=fk;break;case 16:n=Ld;break;case 536870912:n=dk;break;default:n=Ld}n=$O(n,OO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OO(t,e){if(xd=-1,Sd=0,Le&6)throw Error(ee(327));var n=t.callbackNode;if(ls()&&t.callbackNode!==n)return null;var r=Vd(t,t===qt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var i=Le;Le|=2;var o=NO();(qt!==t||nn!==e)&&(Zr=null,Ss=It()+500,Jo(t,e));do try{pL();break}catch(s){CO(t,s)}while(1);Lb(),eh.current=o,Le=i,jt!==null?e=0:(qt=null,nn=0,e=Ft)}if(e!==0){if(e===2&&(i=zy(t),i!==0&&(r=i,e=yv(t,i))),e===1)throw n=Wu,Jo(t,0),Wi(t,r),$n(t,It()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!dL(i)&&(e=rh(t,r),e===2&&(o=zy(t),o!==0&&(r=o,e=yv(t,o))),e===1))throw n=Wu,Jo(t,0),Wi(t,r),$n(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Lo(t,Cn,Zr);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=Zb+500-It(),10<e)){if(Vd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qy(Lo.bind(null,t,Cn,Zr),e);break}Lo(t,Cn,Zr);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fL(r/1960))-r,10<r){t.timeoutHandle=Qy(Lo.bind(null,t,Cn,Zr),r);break}Lo(t,Cn,Zr);break;case 5:Lo(t,Cn,Zr);break;default:throw Error(ee(329))}}}return $n(t,It()),t.callbackNode===n?OO.bind(null,t):null}function yv(t,e){var n=gu;return t.current.memoizedState.isDehydrated&&(Jo(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&vv(e)),t}function vv(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function dL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~Jb,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function sS(t){if(Le&6)throw Error(ee(327));ls();var e=Vd(t,0);if(!(e&1))return $n(t,It()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=zy(t);r!==0&&(e=r,n=yv(t,r))}if(n===1)throw n=Wu,Jo(t,0),Wi(t,e),$n(t,It()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lo(t,Cn,Zr),$n(t,It()),null}function ew(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Ss=It()+500,kp&&So())}}function ua(t){Xi!==null&&Xi.tag===0&&!(Le&6)&&ls();var e=Le;Le|=1;var n=ar.transition,r=Ye;try{if(ar.transition=null,Ye=1,t)return t()}finally{Ye=r,ar.transition=n,Le=e,!(Le&6)&&So()}}function tw(){zn=Ja.current,dt(Ja)}function Jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U$(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(Mb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:_s(),dt(Mn),dt(bn),Wb();break;case 5:zb(r);break;case 4:_s();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Vb(r.type._context);break;case 22:case 23:tw()}n=n.return}if(qt=t,jt=t=so(t.current,null),nn=zn=e,Ft=0,Wu=null,Jb=jp=la=0,Cn=gu=null,Wo!==null){for(e=0;e<Wo.length;e++)if(n=Wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Wo=null}return t}function CO(t,e){do{var n=jt;try{if(Lb(),bd.current=Zd,Jd){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jd=!1}if(sa=0,Ht=$t=vt=null,pu=!1,Bu=0,Qb.current=null,n===null||n.return===null){Ft=1,Wu=e,jt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=nn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=K1(a);if(p!==null){p.flags&=-257,Y1(p,a,s,o,e),p.mode&1&&q1(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){q1(o,u,e),nw();break e}l=Error(ee(426))}}else if(pt&&s.mode&1){var b=K1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Y1(b,a,s,o,e),Db(xs(l,s));break e}}o=l=xs(l,s),Ft!==4&&(Ft=2),gu===null?gu=[o]:gu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=pO(o,l,e);B1(o,w);break e;case 1:s=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(oo===null||!oo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=mO(o,s,e);B1(o,k);break e}}o=o.return}while(o!==null)}RO(n)}catch(T){e=T,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function NO(){var t=eh.current;return eh.current=Zd,t===null?Zd:t}function nw(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),qt===null||!(la&268435455)&&!(jp&268435455)||Wi(qt,nn)}function rh(t,e){var n=Le;Le|=2;var r=NO();(qt!==t||nn!==e)&&(Zr=null,Jo(t,e));do try{hL();break}catch(i){CO(t,i)}while(1);if(Lb(),Le=n,eh.current=r,jt!==null)throw Error(ee(261));return qt=null,nn=0,Ft}function hL(){for(;jt!==null;)jO(jt)}function pL(){for(;jt!==null&&!VD();)jO(jt)}function jO(t){var e=DO(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?RO(t):jt=e,Qb.current=null}function RO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sL(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,jt=null;return}}else if(n=aL(n,e,zn),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Ft===0&&(Ft=5)}function Lo(t,e,n){var r=Ye,i=ar.transition;try{ar.transition=null,Ye=1,mL(t,e,n,r)}finally{ar.transition=i,Ye=r}return null}function mL(t,e,n,r){do ls();while(Xi!==null);if(Le&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(YD(t,o),t===qt&&(jt=qt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uf||(Uf=!0,$O(Ld,function(){return ls(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var a=Ye;Ye=1;var s=Le;Le|=4,Qb.current=null,uL(t,n),IO(n,t),M$(Yy),Fd=!!Ky,Yy=Ky=null,t.current=n,cL(n),FD(),Le=s,Ye=a,ar.transition=o}else t.current=n;if(Uf&&(Uf=!1,Xi=t,nh=i),o=t.pendingLanes,o===0&&(oo=null),zD(n.stateNode),$n(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,t=mv,mv=null,t;return nh&1&&t.tag!==0&&ls(),o=t.pendingLanes,o&1?t===gv?yu++:(yu=0,gv=t):yu=0,So(),null}function ls(){if(Xi!==null){var t=pk(nh),e=ar.transition,n=Ye;try{if(ar.transition=null,Ye=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,nh=0,Le&6)throw Error(ee(331));var i=Le;for(Le|=4,ce=t.current;ce!==null;){var o=ce,a=o.child;if(ce.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:mu(8,c,o)}var d=c.child;if(d!==null)d.return=c,ce=d;else for(;ce!==null;){c=ce;var h=c.sibling,p=c.return;if(TO(c),c===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ce=a;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mu(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}var _=t.current;for(ce=_;ce!==null;){a=ce;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ce=S;else e:for(a=_;ce!==null;){if(s=ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Np(9,s)}}catch(T){St(s,s.return,T)}if(s===a){ce=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,ce=k;break e}ce=s.return}}if(Le=i,So(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Ep,t)}catch{}r=!0}return r}finally{Ye=n,ar.transition=e}}return!1}function lS(t,e,n){e=xs(n,e),e=pO(t,e,1),t=io(t,e,1),e=An(),t!==null&&(Dc(t,1,e),$n(t,e))}function St(t,e,n){if(t.tag===3)lS(t,t,n);else for(;e!==null;){if(e.tag===3){lS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){t=xs(n,t),t=mO(e,t,1),e=io(e,t,1),t=An(),e!==null&&(Dc(e,1,t),$n(e,t));break}}e=e.return}}function gL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(nn&n)===n&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>It()-Zb?Jo(t,0):Jb|=n),$n(t,e)}function MO(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=An();t=bi(t,e),t!==null&&(Dc(t,e,n),$n(t,n))}function yL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MO(t,n)}function vL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),MO(t,n)}var DO;DO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,oL(t,e,n);jn=!!(t.flags&131072)}else jn=!1,pt&&e.flags&1048576&&Fk(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var i=vs(e,bn.current);ss(e,n),i=Hb(null,e,r,t,i,n);var o=qb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(o=!0,Gd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bb(e),i.updater=Cp,e.stateNode=i,i._reactInternals=e,iv(e,r,t,n),e=sv(null,e,r,!0,o,n)):(e.tag=0,pt&&o&&Rb(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wL(r),t=vr(r,t),i){case 0:e=av(null,e,r,t,n);break e;case 1:e=J1(null,e,r,t,n);break e;case 11:e=X1(null,e,r,t,n);break e;case 14:e=Q1(null,e,r,vr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),J1(t,e,r,i,n);case 3:e:{if(bO(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Hk(t,e),Xd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xs(Error(ee(423)),e),e=Z1(t,e,r,n,i);break e}else if(r!==i){i=xs(Error(ee(424)),e),e=Z1(t,e,r,n,i);break e}else for(Hn=ro(e.stateNode.containerInfo.firstChild),Kn=e,pt=!0,xr=null,n=Wk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===i){e=wi(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return qk(e),t===null&&tv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Xy(r,i)?a=null:o!==null&&Xy(r,o)&&(e.flags|=32),vO(t,e),Sn(t,e,a,n),e.child;case 6:return t===null&&tv(e),null;case 13:return wO(t,e,n);case 4:return Ub(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),X1(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,st(Kd,r._currentValue),r._currentValue=a,o!==null)if(Or(o.value,a)){if(o.children===i.children&&!Mn.current){e=wi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ss(e,n),i=cr(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),Q1(t,e,r,i,n);case 15:return gO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),_d(t,e),e.tag=1,Dn(r)?(t=!0,Gd(e)):t=!1,ss(e,n),hO(e,r,i),iv(e,r,i,n),sv(null,e,r,!0,t,n);case 19:return _O(t,e,n);case 22:return yO(t,e,n)}throw Error(ee(156,e.tag))};function $O(t,e){return ck(t,e)}function bL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new bL(t,e,n,r)}function rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wL(t){if(typeof t=="function")return rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xb)return 11;if(t===Sb)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ed(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")rw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ua:return Zo(n.children,i,o,e);case _b:a=8,i|=8;break;case Iy:return t=ir(12,n,e,i|2),t.elementType=Iy,t.lanes=o,t;case ky:return t=ir(13,n,e,i),t.elementType=ky,t.lanes=o,t;case Oy:return t=ir(19,n,e,i),t.elementType=Oy,t.lanes=o,t;case qI:return Rp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GI:a=10;break e;case HI:a=9;break e;case xb:a=11;break e;case Sb:a=14;break e;case Vi:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zo(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Rp(t,e,n,r){return t=ir(22,t,r,e),t.elementType=qI,t.lanes=n,t.stateNode={isHidden:!1},t}function Dg(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function $g(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _L(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iw(t,e,n,r,i,o,a,s,l){return t=new _L(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bb(o),t}function xL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LO(t){if(!t)return yo;t=t._reactInternals;e:{if(_a(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Dn(n))return Lk(t,n,e)}return e}function VO(t,e,n,r,i,o,a,s,l){return t=iw(n,r,!0,t,i,o,a,s,l),t.context=LO(null),n=t.current,r=An(),i=ao(n),o=fi(r,i),o.callback=e??null,io(n,o,i),t.current.lanes=i,Dc(t,i,r),$n(t,r),t}function Mp(t,e,n,r){var i=e.current,o=An(),a=ao(i);return n=LO(n),e.context===null?e.context=n:e.pendingContext=n,e=fi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(i,e,a),t!==null&&(Ir(t,i,a,o),vd(t,i,a)),a}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){uS(t,e),(t=t.alternate)&&uS(t,e)}function SL(){return null}var FO=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}Dp.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Mp(t,e,null,null)};Dp.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ua(function(){Mp(null,t,null,null)}),e[vi]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=yk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&bk(t)}};function sw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cS(){}function EL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ih(a);o.call(u)}}var a=VO(e,r,t,0,null,!1,!1,"",cS);return t._reactRootContainer=a,t[vi]=a.current,Du(t.nodeType===8?t.parentNode:t),ua(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=ih(l);s.call(u)}}var l=iw(t,0,!1,null,null,!1,!1,"",cS);return t._reactRootContainer=l,t[vi]=l.current,Du(t.nodeType===8?t.parentNode:t),ua(function(){Mp(e,l,n,r)}),l}function Lp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ih(a);s.call(l)}}Mp(e,a,t,i)}else a=EL(n,e,t,i,r);return ih(a)}mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nu(e.pendingLanes);n!==0&&(Ab(e,n|1),$n(e,It()),!(Le&6)&&(Ss=It()+500,So()))}break;case 13:ua(function(){var r=bi(t,1);if(r!==null){var i=An();Ir(r,t,1,i)}}),ow(t,1)}};Pb=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=An();Ir(e,t,134217728,n)}ow(t,134217728)}};gk=function(t){if(t.tag===13){var e=ao(t),n=bi(t,e);if(n!==null){var r=An();Ir(n,t,e,r)}ow(t,e)}};yk=function(){return Ye};vk=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Fy=function(t,e,n){switch(e){case"input":if(jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ip(r);if(!i)throw Error(ee(90));YI(r),jy(r,i)}}}break;case"textarea":QI(t,n);break;case"select":e=n.value,e!=null&&rs(t,!!n.multiple,e,!1)}};ik=ew;ok=ua;var TL={usingClientEntryPoint:!1,Events:[Lc,Ha,Ip,nk,rk,ew]},Ul={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AL={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lk(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||SL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Ep=zf.inject(AL),Lr=zf}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TL;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sw(e))throw Error(ee(200));return xL(t,e,null,n)};Qn.createRoot=function(t,e){if(!sw(t))throw Error(ee(299));var n=!1,r="",i=FO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iw(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,Du(t.nodeType===8?t.parentNode:t),new aw(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=lk(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return ua(t)};Qn.hydrate=function(t,e,n){if(!$p(e))throw Error(ee(200));return Lp(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!sw(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=FO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=VO(e,null,t,1,n??null,i,!1,o,a),t[vi]=e.current,Du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dp(e)};Qn.render=function(t,e,n){if(!$p(e))throw Error(ee(200));return Lp(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(ee(40));return t._reactRootContainer?(ua(function(){Lp(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};Qn.unstable_batchedUpdates=ew;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$p(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Lp(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function BO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BO)}catch(t){console.error(t)}}BO(),BI.exports=Qn;var PL=BI.exports,fS=PL;Ay.createRoot=fS.createRoot,Ay.hydrateRoot=fS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},zO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new kL;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OL=function(t){const e=UO(t);return zO.encodeByteArray(e,!0)},oh=function(t){return OL(t).replace(/\./g,"")},WO=function(t){try{return zO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=()=>CL().__FIREBASE_DEFAULTS__,jL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WO(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return NL()||jL()||RL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GO=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ML=t=>{const e=GO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HO=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config},qO=t=>{var e;return(e=Vp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[oh(JSON.stringify(n)),oh(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function VL(){var t;const e=(t=Vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zL(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WL(){return!VL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GL(){try{return typeof indexedDB=="object"}catch{return!1}}function HL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qL,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?KL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Oi(i,s,r)}}function KL(t,e){return t.replace(YL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YL=/\{\$([^}]+)}/g;function XL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(dS(o)&&dS(a)){if(!ah(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QL(t,e){const n=new JL(t,e);return n.subscribe.bind(n)}class JL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lg),i.error===void 0&&(i.error=Lg),i.complete===void 0&&(i.complete=Lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n4(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t4(t){return t===Vo?void 0:t}function n4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const i4={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},o4=Ne.INFO,a4={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},s4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lw{constructor(e){this.name=e,this._logLevel=o4,this._logHandler=s4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const l4=(t,e)=>e.some(n=>t instanceof n);let hS,pS;function u4(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c4(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KO=new WeakMap,bv=new WeakMap,YO=new WeakMap,Vg=new WeakMap,uw=new WeakMap;function f4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(lo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&KO.set(n,t)}).catch(()=>{}),uw.set(e,t),e}function d4(t){if(bv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h4(t){wv=t(wv)}function p4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fg(this),e,...n);return YO.set(r,e.sort?e.sort():[e]),lo(r)}:c4().includes(t)?function(...e){return t.apply(Fg(this),e),lo(KO.get(this))}:function(...e){return lo(t.apply(Fg(this),e))}}function m4(t){return typeof t=="function"?p4(t):(t instanceof IDBTransaction&&d4(t),l4(t,u4())?new Proxy(t,wv):t)}function lo(t){if(t instanceof IDBRequest)return f4(t);if(Vg.has(t))return Vg.get(t);const e=m4(t);return e!==t&&(Vg.set(t,e),uw.set(e,t)),e}const Fg=t=>uw.get(t);function g4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=lo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(lo(a.result),l.oldVersion,l.newVersion,lo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const y4=["get","getKey","getAll","getAllKeys","count"],v4=["put","add","delete","clear"],Bg=new Map;function mS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=v4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Bg.set(e,o),o}h4(t=>({...t,get:(e,n,r)=>mS(e,n)||t.get(e,n,r),has:(e,n)=>!!mS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _v="@firebase/app",gS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new lw("@firebase/app"),_4="@firebase/app-compat",x4="@firebase/analytics-compat",S4="@firebase/analytics",E4="@firebase/app-check-compat",T4="@firebase/app-check",A4="@firebase/auth",P4="@firebase/auth-compat",I4="@firebase/database",k4="@firebase/data-connect",O4="@firebase/database-compat",C4="@firebase/functions",N4="@firebase/functions-compat",j4="@firebase/installations",R4="@firebase/installations-compat",M4="@firebase/messaging",D4="@firebase/messaging-compat",$4="@firebase/performance",L4="@firebase/performance-compat",V4="@firebase/remote-config",F4="@firebase/remote-config-compat",B4="@firebase/storage",U4="@firebase/storage-compat",z4="@firebase/firestore",W4="@firebase/vertexai-preview",G4="@firebase/firestore-compat",H4="firebase",q4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="[DEFAULT]",K4={[_v]:"fire-core",[_4]:"fire-core-compat",[S4]:"fire-analytics",[x4]:"fire-analytics-compat",[T4]:"fire-app-check",[E4]:"fire-app-check-compat",[A4]:"fire-auth",[P4]:"fire-auth-compat",[I4]:"fire-rtdb",[k4]:"fire-data-connect",[O4]:"fire-rtdb-compat",[C4]:"fire-fn",[N4]:"fire-fn-compat",[j4]:"fire-iid",[R4]:"fire-iid-compat",[M4]:"fire-fcm",[D4]:"fire-fcm-compat",[$4]:"fire-perf",[L4]:"fire-perf-compat",[V4]:"fire-rc",[F4]:"fire-rc-compat",[B4]:"fire-gcs",[U4]:"fire-gcs-compat",[z4]:"fire-fst",[G4]:"fire-fst-compat",[W4]:"fire-vertex","fire-js":"fire-js",[H4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,Y4=new Map,Sv=new Map;function yS(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Es(t){const e=t.name;if(Sv.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Sv.set(e,t);for(const n of sh.values())yS(n,t);for(const n of Y4.values())yS(n,t);return!0}function cw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new Fc("app","Firebase",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=q4;function XO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(n||(n=HO()),!n)throw uo.create("no-options");const o=sh.get(i);if(o){if(ah(n,o.options)&&ah(r,o.config))return o;throw uo.create("duplicate-app",{appName:i})}const a=new r4(i);for(const l of Sv.values())a.addComponent(l);const s=new Q4(n,r,a);return sh.set(i,s),s}function QO(t=xv){const e=sh.get(t);if(!e&&t===xv&&HO())return XO();if(!e)throw uo.create("no-app",{appName:t});return e}function co(t,e,n){var r;let i=(r=K4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(s.join(" "));return}Es(new ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="firebase-heartbeat-database",Z4=1,Gu="firebase-heartbeat-store";let Ug=null;function JO(){return Ug||(Ug=g4(J4,Z4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function e3(t){try{const n=(await JO()).transaction(Gu),r=await n.objectStore(Gu).get(ZO(t));return await n.done,r}catch(e){if(e instanceof Oi)_i.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function vS(t,e){try{const r=(await JO()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,ZO(t)),await r.done}catch(n){if(n instanceof Oi)_i.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function ZO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=1024,n3=30*24*60*60*1e3;class r3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=n3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bS(),{heartbeatsToSend:r,unsentEntries:i}=i3(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _i.warn(n),""}}}function bS(){return new Date().toISOString().substring(0,10)}function i3(t,e=t3){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),wS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GL()?HL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wS(t){return oh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){Es(new ca("platform-logger",e=>new b4(e),"PRIVATE")),Es(new ca("heartbeat",e=>new r3(e),"PRIVATE")),co(_v,gS,t),co(_v,gS,"esm2017"),co("fire-js","")}a3("");var s3="firebase",l3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(s3,l3,"app");var _S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,e2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,x){function I(){}I.prototype=x.prototype,E.D=x.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(O,C,j){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return x.prototype[C].apply(O,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,x,I){I||(I=0);var O=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)O[C]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(C=0;16>C;++C)O[C]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=E.g[0],I=E.g[1],C=E.g[2];var j=E.g[3],N=x+(j^I&(C^j))+O[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=j+(C^x&(I^C))+O[1]+3905402710&4294967295,j=x+(N<<12&4294967295|N>>>20),N=C+(I^j&(x^I))+O[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(x^C&(j^x))+O[3]+3250441966&4294967295,I=C+(N<<22&4294967295|N>>>10),N=x+(j^I&(C^j))+O[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=j+(C^x&(I^C))+O[5]+1200080426&4294967295,j=x+(N<<12&4294967295|N>>>20),N=C+(I^j&(x^I))+O[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(x^C&(j^x))+O[7]+4249261313&4294967295,I=C+(N<<22&4294967295|N>>>10),N=x+(j^I&(C^j))+O[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=j+(C^x&(I^C))+O[9]+2336552879&4294967295,j=x+(N<<12&4294967295|N>>>20),N=C+(I^j&(x^I))+O[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(x^C&(j^x))+O[11]+2304563134&4294967295,I=C+(N<<22&4294967295|N>>>10),N=x+(j^I&(C^j))+O[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=j+(C^x&(I^C))+O[13]+4254626195&4294967295,j=x+(N<<12&4294967295|N>>>20),N=C+(I^j&(x^I))+O[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(x^C&(j^x))+O[15]+1236535329&4294967295,I=C+(N<<22&4294967295|N>>>10),N=x+(C^j&(I^C))+O[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(x^I))+O[6]+3225465664&4294967295,j=x+(N<<9&4294967295|N>>>23),N=C+(x^I&(j^x))+O[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^x&(C^j))+O[0]+3921069994&4294967295,I=C+(N<<20&4294967295|N>>>12),N=x+(C^j&(I^C))+O[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(x^I))+O[10]+38016083&4294967295,j=x+(N<<9&4294967295|N>>>23),N=C+(x^I&(j^x))+O[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^x&(C^j))+O[4]+3889429448&4294967295,I=C+(N<<20&4294967295|N>>>12),N=x+(C^j&(I^C))+O[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(x^I))+O[14]+3275163606&4294967295,j=x+(N<<9&4294967295|N>>>23),N=C+(x^I&(j^x))+O[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^x&(C^j))+O[8]+1163531501&4294967295,I=C+(N<<20&4294967295|N>>>12),N=x+(C^j&(I^C))+O[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(x^I))+O[2]+4243563512&4294967295,j=x+(N<<9&4294967295|N>>>23),N=C+(x^I&(j^x))+O[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^x&(C^j))+O[12]+2368359562&4294967295,I=C+(N<<20&4294967295|N>>>12),N=x+(I^C^j)+O[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=j+(x^I^C)+O[8]+2272392833&4294967295,j=x+(N<<11&4294967295|N>>>21),N=C+(j^x^I)+O[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^x)+O[14]+4259657740&4294967295,I=C+(N<<23&4294967295|N>>>9),N=x+(I^C^j)+O[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=j+(x^I^C)+O[4]+1272893353&4294967295,j=x+(N<<11&4294967295|N>>>21),N=C+(j^x^I)+O[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^x)+O[10]+3200236656&4294967295,I=C+(N<<23&4294967295|N>>>9),N=x+(I^C^j)+O[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=j+(x^I^C)+O[0]+3936430074&4294967295,j=x+(N<<11&4294967295|N>>>21),N=C+(j^x^I)+O[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^x)+O[6]+76029189&4294967295,I=C+(N<<23&4294967295|N>>>9),N=x+(I^C^j)+O[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=j+(x^I^C)+O[12]+3873151461&4294967295,j=x+(N<<11&4294967295|N>>>21),N=C+(j^x^I)+O[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^x)+O[2]+3299628645&4294967295,I=C+(N<<23&4294967295|N>>>9),N=x+(C^(I|~j))+O[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=j+(I^(x|~C))+O[7]+1126891415&4294967295,j=x+(N<<10&4294967295|N>>>22),N=C+(x^(j|~I))+O[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~x))+O[5]+4237533241&4294967295,I=C+(N<<21&4294967295|N>>>11),N=x+(C^(I|~j))+O[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=j+(I^(x|~C))+O[3]+2399980690&4294967295,j=x+(N<<10&4294967295|N>>>22),N=C+(x^(j|~I))+O[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~x))+O[1]+2240044497&4294967295,I=C+(N<<21&4294967295|N>>>11),N=x+(C^(I|~j))+O[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=j+(I^(x|~C))+O[15]+4264355552&4294967295,j=x+(N<<10&4294967295|N>>>22),N=C+(x^(j|~I))+O[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~x))+O[13]+1309151649&4294967295,I=C+(N<<21&4294967295|N>>>11),N=x+(C^(I|~j))+O[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=j+(I^(x|~C))+O[11]+3174756917&4294967295,j=x+(N<<10&4294967295|N>>>22),N=C+(x^(j|~I))+O[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~x))+O[9]+3951481745&4294967295,E.g[0]=E.g[0]+x&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,x){x===void 0&&(x=E.length);for(var I=x-this.blockSize,O=this.B,C=this.h,j=0;j<x;){if(C==0)for(;j<=I;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<x;)if(O[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,O),C=0;break}}else for(;j<x;)if(O[C++]=E[j++],C==this.blockSize){i(this,O),C=0;break}}this.h=C,this.o+=x},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var x=1;x<E.length-8;++x)E[x]=0;var I=8*this.o;for(x=E.length-8;x<E.length;++x)E[x]=I&255,I/=256;for(this.u(E),E=Array(16),x=I=0;4>x;++x)for(var O=0;32>O;O+=8)E[I++]=this.g[x]>>>O&255;return E};function o(E,x){var I=s;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=x(E)}function a(E,x){this.h=x;for(var I=[],O=!0,C=E.length-1;0<=C;C--){var j=E[C]|0;O&&j==x||(I[C]=j,O=!1)}this.g=I}var s={};function l(E){return-128<=E&&128>E?o(E,function(x){return new a([x|0],0>x?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return b(u(-E));for(var x=[],I=1,O=0;E>=I;O++)x[O]=E/I|0,I*=4294967296;return new a(x,0)}function c(E,x){if(E.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(E.charAt(0)=="-")return b(c(E.substring(1),x));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),O=d,C=0;C<E.length;C+=8){var j=Math.min(8,E.length-C),N=parseInt(E.substring(C,C+j),x);8>j?(j=u(Math.pow(x,j)),O=O.j(j).add(u(N))):(O=O.j(I),O=O.add(u(N)))}return O}var d=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var E=0,x=1,I=0;I<this.g.length;I++){var O=this.i(I);E+=(0<=O?O:4294967296+O)*x,x*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(y(this))return"-"+b(this).toString(E);for(var x=u(Math.pow(E,6)),I=this,O="";;){var C=k(I,x).g;I=w(I,C.j(x));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,g(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var x=0;x<E.g.length;x++)if(E.g[x]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=w(this,E),y(E)?-1:g(E)?0:1};function b(E){for(var x=E.g.length,I=[],O=0;O<x;O++)I[O]=~E.g[O];return new a(I,~E.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],O=0,C=0;C<=x;C++){var j=O+(this.i(C)&65535)+(E.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);O=N>>>16,j&=65535,N&=65535,I[C]=N<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function w(E,x){return E.add(b(x))}t.j=function(E){if(g(this)||g(E))return d;if(y(this))return y(E)?b(this).j(b(E)):b(b(this).j(E));if(y(E))return b(this.j(b(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var x=this.g.length+E.g.length,I=[],O=0;O<2*x;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var C=0;C<E.g.length;C++){var j=this.i(O)>>>16,N=this.i(O)&65535,U=E.i(C)>>>16,W=E.i(C)&65535;I[2*O+2*C]+=N*W,_(I,2*O+2*C),I[2*O+2*C+1]+=j*W,_(I,2*O+2*C+1),I[2*O+2*C+1]+=N*U,_(I,2*O+2*C+1),I[2*O+2*C+2]+=j*U,_(I,2*O+2*C+2)}for(O=0;O<x;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=x;O<2*x;O++)I[O]=0;return new a(I,0)};function _(E,x){for(;(E[x]&65535)!=E[x];)E[x+1]+=E[x]>>>16,E[x]&=65535,x++}function S(E,x){this.g=E,this.h=x}function k(E,x){if(g(x))throw Error("division by zero");if(g(E))return new S(d,d);if(y(E))return x=k(b(E),x),new S(b(x.g),b(x.h));if(y(x))return x=k(E,b(x)),new S(b(x.g),x.h);if(30<E.g.length){if(y(E)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var I=h,O=x;0>=O.l(E);)I=T(I),O=T(O);var C=P(I,1),j=P(O,1);for(O=P(O,2),I=P(I,2);!g(O);){var N=j.add(O);0>=N.l(E)&&(C=C.add(I),j=N),O=P(O,1),I=P(I,1)}return x=w(E,C.j(x)),new S(C,x)}for(C=d;0<=E.l(x);){for(I=Math.max(1,Math.floor(E.m()/x.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=u(I),N=j.j(x);y(N)||0<N.l(E);)I-=O,j=u(I),N=j.j(x);g(j)&&(j=h),C=C.add(j),E=w(E,N)}return new S(C,E)}t.A=function(E){return k(this,E).h},t.and=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)&E.i(O);return new a(I,this.h&E.h)},t.or=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)|E.i(O);return new a(I,this.h|E.h)},t.xor=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)^E.i(O);return new a(I,this.h^E.h)};function T(E){for(var x=E.g.length+1,I=[],O=0;O<x;O++)I[O]=E.i(O)<<1|E.i(O-1)>>>31;return new a(I,E.h)}function P(E,x){var I=x>>5;x%=32;for(var O=E.g.length-I,C=[],j=0;j<O;j++)C[j]=0<x?E.i(j+I)>>>x|E.i(j+I+1)<<32-x:E.i(j+I);return new a(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,ea=a}).apply(typeof _S<"u"?_S:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t2,iu,n2,Td,Ev,r2,i2,o2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,A){return f==Array.prototype||f==Object.prototype||(f[v]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var v=0;v<f.length;++v){var A=f[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(f,v){if(v)e:{var A=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var F=f[R];if(!(F in A))break e;A=A[F]}f=f[f.length-1],R=A[f],v=v(R),v!=R&&v!=null&&e(A,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var A=0,R=!1,F={next:function(){if(!R&&A<f.length){var z=A++;return{value:v(z,f[z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function u(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function c(f,v,A){return f.call.apply(f.bind,arguments)}function d(f,v,A){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),f.apply(v,F)}}return function(){return f.apply(v,arguments)}}function h(f,v,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,v){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function g(f,v){function A(){}A.prototype=v.prototype,f.aa=v.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(R,F,z){for(var ie=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ie[tt-2]=arguments[tt];return v.prototype[F].apply(R,ie)}}function y(f){const v=f.length;if(0<v){const A=Array(v);for(let R=0;R<v;R++)A[R]=f[R];return A}return[]}function b(f,v){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const F=f.length||0,z=R.length||0;f.length=F+z;for(let ie=0;ie<z;ie++)f[F+ie]=R[ie]}else f.push(R)}}class w{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var T=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(f,v,A){for(const R in f)v.call(A,f[R],R,f)}function E(f,v){for(const A in f)v.call(void 0,f[A],A,f)}function x(f){const v={};for(const A in f)v[A]=f[A];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,v){let A,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(A in R)f[A]=R[A];for(let z=0;z<I.length;z++)A=I[z],Object.prototype.hasOwnProperty.call(R,A)&&(f[A]=R[A])}}function C(f){var v=1;f=f.split(":");const A=[];for(;0<v&&f.length;)A.push(f.shift()),v--;return f.length&&A.push(f.join(":")),A}function j(f){s.setTimeout(()=>{throw f},0)}function N(){var f=G;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,A){const R=W.get();R.set(v,A),this.h?this.h.next=R:this.g=R,this.h=R}}var W=new w(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,L=!1,G=new U,K=()=>{const f=s.Promise.resolve(void 0);Y=()=>{f.then(te)}};var te=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(A){j(A)}var v=W;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}L=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};s.addEventListener("test",A,v),s.removeEventListener("test",A,v)}catch{}return f}();function de(f,v){if(q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(T){e:{try{k(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else A=="mouseover"?v=f.fromElement:A=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&de.aa.h.call(this)}}g(de,q);var me={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function ne(f,v,A,R,F){this.listener=f,this.proxy=null,this.src=v,this.type=A,this.capture=!!R,this.ha=F,this.key=++Ae,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,v,A,R,F){var z=f.toString();f=this.g[z],f||(f=this.g[z]=[],this.h++);var ie=$e(f,v,R,F);return-1<ie?(v=f[ie],A||(v.fa=!1)):(v=new ne(v,this.src,z,!!R,F),v.fa=A,f.push(v)),v};function Q(f,v){var A=v.type;if(A in f.g){var R=f.g[A],F=Array.prototype.indexOf.call(R,v,void 0),z;(z=0<=F)&&Array.prototype.splice.call(R,F,1),z&&(ye(v),f.g[A].length==0&&(delete f.g[A],f.h--))}}function $e(f,v,A,R){for(var F=0;F<f.length;++F){var z=f[F];if(!z.da&&z.listener==v&&z.capture==!!A&&z.ha==R)return F}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Ge={};function Fe(f,v,A,R,F){if(R&&R.once)return Ke(f,v,A,R,F);if(Array.isArray(v)){for(var z=0;z<v.length;z++)Fe(f,v[z],A,R,F);return null}return A=Je(A),f&&f[we]?f.K(v,A,u(R)?!!R.capture:!!R,F):Re(f,v,A,!1,R,F)}function Re(f,v,A,R,F,z){if(!v)throw Error("Invalid event type");var ie=u(F)?!!F.capture:!!F,tt=ge(f);if(tt||(f[Pe]=tt=new be(f)),A=tt.add(v,A,R,ie,z),A.proxy)return A;if(R=Me(),A.proxy=R,R.src=f,R.listener=A,f.addEventListener)ae||(F=ie),F===void 0&&(F=!1),f.addEventListener(v.toString(),R,F);else if(f.attachEvent)f.attachEvent(se(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Me(){function f(A){return v.call(f.src,f.listener,A)}const v=le;return f}function Ke(f,v,A,R,F){if(Array.isArray(v)){for(var z=0;z<v.length;z++)Ke(f,v[z],A,R,F);return null}return A=Je(A),f&&f[we]?f.L(v,A,u(R)?!!R.capture:!!R,F):Re(f,v,A,!0,R,F)}function Ot(f,v,A,R,F){if(Array.isArray(v))for(var z=0;z<v.length;z++)Ot(f,v[z],A,R,F);else R=u(R)?!!R.capture:!!R,A=Je(A),f&&f[we]?(f=f.i,v=String(v).toString(),v in f.g&&(z=f.g[v],A=$e(z,A,R,F),-1<A&&(ye(z[A]),Array.prototype.splice.call(z,A,1),z.length==0&&(delete f.g[v],f.h--)))):f&&(f=ge(f))&&(v=f.g[v.toString()],f=-1,v&&(f=$e(v,A,R,F)),(A=-1<f?v[f]:null)&&X(A))}function X(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[we])Q(v.i,f);else{var A=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(A,R,f.capture):v.detachEvent?v.detachEvent(se(A),R):v.addListener&&v.removeListener&&v.removeListener(R),(A=ge(v))?(Q(A,f),A.h==0&&(A.src=null,v[Pe]=null)):ye(f)}}}function se(f){return f in Ge?Ge[f]:Ge[f]="on"+f}function le(f,v){if(f.da)f=!0;else{v=new de(v,this);var A=f.listener,R=f.ha||f.src;f.fa&&X(f),f=A.call(R,v)}return f}function ge(f){return f=f[Pe],f instanceof be?f:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(f){return typeof f=="function"?f:(f[ot]||(f[ot]=function(v){return f.handleEvent(v)}),f[ot])}function et(){V.call(this),this.i=new be(this),this.M=this,this.F=null}g(et,V),et.prototype[we]=!0,et.prototype.removeEventListener=function(f,v,A,R){Ot(this,f,v,A,R)};function Tt(f,v){var A,R=f.F;if(R)for(A=[];R;R=R.F)A.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new q(v,f);else if(v instanceof q)v.target=v.target||f;else{var F=v;v=new q(R,f),O(v,F)}if(F=!0,A)for(var z=A.length-1;0<=z;z--){var ie=v.g=A[z];F=Nr(ie,R,!0,v)&&F}if(ie=v.g=f,F=Nr(ie,R,!0,v)&&F,F=Nr(ie,R,!1,v)&&F,A)for(z=0;z<A.length;z++)ie=v.g=A[z],F=Nr(ie,R,!1,v)&&F}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var A=f.g[v],R=0;R<A.length;R++)ye(A[R]);delete f.g[v],f.h--}}this.F=null},et.prototype.K=function(f,v,A,R){return this.i.add(String(f),v,!1,A,R)},et.prototype.L=function(f,v,A,R){return this.i.add(String(f),v,!0,A,R)};function Nr(f,v,A,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,z=0;z<v.length;++z){var ie=v[z];if(ie&&!ie.da&&ie.capture==A){var tt=ie.listener,Yt=ie.ha||ie.src;ie.fa&&Q(f.i,ie),F=tt.call(Yt,R)!==!1&&F}}return F&&!R.defaultPrevented}function _t(f,v,A){if(typeof f=="function")A&&(f=h(f,A));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:s.setTimeout(f,v||0)}function xl(f){f.g=_t(()=>{f.g=null,f.i&&(f.i=!1,xl(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class D extends V{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(f){V.call(this),this.h=f,this.g={}}g(re,V);var Be=[];function _n(f){P(f.g,function(v,A){this.g.hasOwnProperty(A)&&X(v)},f),f.g={}}re.prototype.N=function(){re.aa.N.call(this),_n(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=s.JSON.stringify,ue=s.JSON.parse,OM=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Qm(){}Qm.prototype.h=null;function dx(f){return f.h||(f.h=f.i())}function hx(){}var Sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jm(){q.call(this,"d")}g(Jm,q);function Zm(){q.call(this,"c")}g(Zm,q);var Oo={},px=null;function cf(){return px=px||new et}Oo.La="serverreachability";function mx(f){q.call(this,Oo.La,f)}g(mx,q);function El(f){const v=cf();Tt(v,new mx(v))}Oo.STAT_EVENT="statevent";function gx(f,v){q.call(this,Oo.STAT_EVENT,f),this.stat=v}g(gx,q);function xn(f){const v=cf();Tt(v,new gx(v,f))}Oo.Ma="timingevent";function yx(f,v){q.call(this,Oo.Ma,f),this.size=v}g(yx,q);function Tl(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},v)}function Al(){this.g=!0}Al.prototype.xa=function(){this.g=!1};function CM(f,v,A,R,F,z){f.info(function(){if(f.g)if(z)for(var ie="",tt=z.split("&"),Yt=0;Yt<tt.length;Yt++){var Ue=tt[Yt].split("=");if(1<Ue.length){var ln=Ue[0];Ue=Ue[1];var un=ln.split("_");ie=2<=un.length&&un[1]=="type"?ie+(ln+"="+Ue+"&"):ie+(ln+"=redacted&")}}else ie=null;else ie=z;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+v+`
`+A+`
`+ie})}function NM(f,v,A,R,F,z,ie){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+v+`
`+A+`
`+z+" "+ie})}function Ia(f,v,A,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+RM(f,A)+(R?" "+R:"")})}function jM(f,v){f.info(function(){return"TIMEOUT: "+v})}Al.prototype.info=function(){};function RM(f,v){if(!f.g)return v;if(!v)return null;try{var A=JSON.parse(v);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var R=A[f];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return At(A)}catch{return v}}var ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eg;function df(){}g(df,Qm),df.prototype.g=function(){return new XMLHttpRequest},df.prototype.i=function(){return{}},eg=new df;function Ri(f,v,A,R){this.j=f,this.i=v,this.l=A,this.R=R||1,this.U=new re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bx}function bx(){this.i=null,this.g="",this.h=!1}var wx={},tg={};function ng(f,v,A){f.L=1,f.v=gf(Xr(v)),f.m=A,f.P=!0,_x(f,null)}function _x(f,v){f.F=Date.now(),hf(f),f.A=Xr(f.v);var A=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Mx(A.i,"t",R),f.C=0,A=f.j.J,f.h=new bx,f.g=Zx(f.j,A?v:null,!f.m),0<f.O&&(f.M=new D(h(f.Y,f,f.g),f.O)),v=f.U,A=f.g,R=f.ca;var F="readystatechange";Array.isArray(F)||(F&&(Be[0]=F.toString()),F=Be);for(var z=0;z<F.length;z++){var ie=Fe(A,F[z],R||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),El(),CM(f.i,f.u,f.A,f.l,f.R,f.m)}Ri.prototype.ca=function(f){f=f.target;const v=this.M;v&&Qr(f)==3?v.j():this.Y(f)},Ri.prototype.Y=function(f){try{if(f==this.g)e:{const un=Qr(this.g);var v=this.g.Ba();const Ca=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Ux(this.g)))){this.J||un!=4||v==7||(v==8||0>=Ca?El(3):El(2)),rg(this);var A=this.g.Z();this.X=A;t:if(xx(this)){var R=Ux(this.g);f="";var F=R.length,z=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Pl(this);var ie="";break t}this.h.i=new s.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(z&&v==F-1)});R.length=0,this.h.g+=f,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=A==200,NM(this.i,this.u,this.A,this.l,this.R,un,A),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Yt=this.g;if((tt=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(tt)){var Ue=tt;break t}}Ue=null}if(A=Ue)Ia(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ig(this,A);else{this.o=!1,this.s=3,xn(12),Co(this),Pl(this);break e}}if(this.P){A=!0;let mr;for(;!this.J&&this.C<ie.length;)if(mr=MM(this,ie),mr==tg){un==4&&(this.s=4,xn(14),A=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==wx){this.s=4,xn(15),Ia(this.i,this.l,ie,"[Invalid Chunk]"),A=!1;break}else Ia(this.i,this.l,mr,null),ig(this,mr);if(xx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ie.length!=0||this.h.h||(this.s=1,xn(16),A=!1),this.o=this.o&&A,!A)Ia(this.i,this.l,ie,"[Invalid Chunked Response]"),Co(this),Pl(this);else if(0<ie.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),cg(ln),ln.M=!0,xn(11))}}else Ia(this.i,this.l,ie,null),ig(this,ie);un==4&&Co(this),this.o&&!this.J&&(un==4?Yx(this.j,this):(this.o=!1,hf(this)))}else JM(this.g),A==400&&0<ie.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),Co(this),Pl(this)}}}catch{}finally{}};function xx(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function MM(f,v){var A=f.C,R=v.indexOf(`
`,A);return R==-1?tg:(A=Number(v.substring(A,R)),isNaN(A)?wx:(R+=1,R+A>v.length?tg:(v=v.slice(R,R+A),f.C=R+A,v)))}Ri.prototype.cancel=function(){this.J=!0,Co(this)};function hf(f){f.S=Date.now()+f.I,Sx(f,f.I)}function Sx(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Tl(h(f.ba,f),v)}function rg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ri.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(jM(this.i,this.A),this.L!=2&&(El(),xn(17)),Co(this),this.s=2,Pl(this)):Sx(this,this.S-f)};function Pl(f){f.j.G==0||f.J||Yx(f.j,f)}function Co(f){rg(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,_n(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function ig(f,v){try{var A=f.j;if(A.G!=0&&(A.g==f||og(A.h,f))){if(!f.K&&og(A.h,f)&&A.G==3){try{var R=A.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)xf(A),wf(A);else break e;ug(A),xn(18)}}else A.za=F[1],0<A.za-A.T&&37500>F[2]&&A.F&&A.v==0&&!A.C&&(A.C=Tl(h(A.Za,A),6e3));if(1>=Ax(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else jo(A,11)}else if((f.K||A.g==f)&&xf(A),!_(v))for(F=A.Da.g.parse(v),v=0;v<F.length;v++){let Ue=F[v];if(A.T=Ue[0],Ue=Ue[1],A.G==2)if(Ue[0]=="c"){A.K=Ue[1],A.ia=Ue[2];const ln=Ue[3];ln!=null&&(A.la=ln,A.j.info("VER="+A.la));const un=Ue[4];un!=null&&(A.Aa=un,A.j.info("SVER="+A.Aa));const Ca=Ue[5];Ca!=null&&typeof Ca=="number"&&0<Ca&&(R=1.5*Ca,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const mr=f.g;if(mr){const Ef=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ef){var z=R.h;z.g||Ef.indexOf("spdy")==-1&&Ef.indexOf("quic")==-1&&Ef.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ag(z,z.h),z.h=null))}if(R.D){const fg=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;fg&&(R.ya=fg,lt(R.I,R.D,fg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var ie=f;if(R.qa=Jx(R,R.J?R.ia:null,R.W),ie.K){Px(R.h,ie);var tt=ie,Yt=R.L;Yt&&(tt.I=Yt),tt.B&&(rg(tt),hf(tt)),R.g=ie}else qx(R);0<A.i.length&&_f(A)}else Ue[0]!="stop"&&Ue[0]!="close"||jo(A,7);else A.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?jo(A,7):lg(A):Ue[0]!="noop"&&A.l&&A.l.ta(Ue),A.v=0)}}El(4)}catch{}}var DM=class{constructor(f,v){this.g=f,this.map=v}};function Ex(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tx(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ax(f){return f.h?1:f.g?f.g.size:0}function og(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function ag(f,v){f.g?f.g.add(v):f.h=v}function Px(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ex.prototype.cancel=function(){if(this.i=Ix(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ix(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const A of f.g.values())v=v.concat(A.D);return v}return y(f.i)}function $M(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var v=[],A=f.length,R=0;R<A;R++)v.push(f[R]);return v}v=[],A=0;for(R in f)v[A++]=f[R];return v}function LM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var v=[];f=f.length;for(var A=0;A<f;A++)v.push(A);return v}v=[],A=0;for(const R in f)v[A++]=R;return v}}}function kx(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var A=LM(f),R=$M(f),F=R.length,z=0;z<F;z++)v.call(void 0,R[z],A&&A[z],f)}var Ox=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VM(f,v){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var R=f[A].indexOf("="),F=null;if(0<=R){var z=f[A].substring(0,R);F=f[A].substring(R+1)}else z=f[A];v(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function No(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof No){this.h=f.h,pf(this,f.j),this.o=f.o,this.g=f.g,mf(this,f.s),this.l=f.l;var v=f.i,A=new Ol;A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),Cx(this,A),this.m=f.m}else f&&(v=String(f).match(Ox))?(this.h=!1,pf(this,v[1]||"",!0),this.o=Il(v[2]||""),this.g=Il(v[3]||"",!0),mf(this,v[4]),this.l=Il(v[5]||"",!0),Cx(this,v[6]||"",!0),this.m=Il(v[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}No.prototype.toString=function(){var f=[],v=this.j;v&&f.push(kl(v,Nx,!0),":");var A=this.g;return(A||v=="file")&&(f.push("//"),(v=this.o)&&f.push(kl(v,Nx,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(kl(A,A.charAt(0)=="/"?UM:BM,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",kl(A,WM)),f.join("")};function Xr(f){return new No(f)}function pf(f,v,A){f.j=A?Il(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function mf(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Cx(f,v,A){v instanceof Ol?(f.i=v,GM(f.i,f.h)):(A||(v=kl(v,zM)),f.i=new Ol(v,f.h))}function lt(f,v,A){f.i.set(v,A)}function gf(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Il(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function kl(f,v,A){return typeof f=="string"?(f=encodeURI(f).replace(v,FM),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function FM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Nx=/[#\/\?@]/g,BM=/[#\?:]/g,UM=/[#\?]/g,zM=/[#\?@]/g,WM=/#/g;function Ol(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Mi(f){f.g||(f.g=new Map,f.h=0,f.i&&VM(f.i,function(v,A){f.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=Ol.prototype,t.add=function(f,v){Mi(this),this.i=null,f=ka(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(v),this.h+=1,this};function jx(f,v){Mi(f),v=ka(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Rx(f,v){return Mi(f),v=ka(f,v),f.g.has(v)}t.forEach=function(f,v){Mi(this),this.g.forEach(function(A,R){A.forEach(function(F){f.call(v,F,R,this)},this)},this)},t.na=function(){Mi(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),A=[];for(let R=0;R<v.length;R++){const F=f[R];for(let z=0;z<F.length;z++)A.push(v[R])}return A},t.V=function(f){Mi(this);let v=[];if(typeof f=="string")Rx(this,f)&&(v=v.concat(this.g.get(ka(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)v=v.concat(f[A])}return v},t.set=function(f,v){return Mi(this),this.i=null,f=ka(this,f),Rx(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Mx(f,v,A){jx(f,v),0<A.length&&(f.i=null,f.g.set(ka(f,v),y(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var A=0;A<v.length;A++){var R=v[A];const z=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var F=z;ie[R]!==""&&(F+="="+encodeURIComponent(String(ie[R]))),f.push(F)}}return this.i=f.join("&")};function ka(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function GM(f,v){v&&!f.j&&(Mi(f),f.i=null,f.g.forEach(function(A,R){var F=R.toLowerCase();R!=F&&(jx(this,R),Mx(this,F,A))},f)),f.j=v}function HM(f,v){const A=new Al;if(s.Image){const R=new Image;R.onload=p(Di,A,"TestLoadImage: loaded",!0,v,R),R.onerror=p(Di,A,"TestLoadImage: error",!1,v,R),R.onabort=p(Di,A,"TestLoadImage: abort",!1,v,R),R.ontimeout=p(Di,A,"TestLoadImage: timeout",!1,v,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function qM(f,v){const A=new Al,R=new AbortController,F=setTimeout(()=>{R.abort(),Di(A,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(z=>{clearTimeout(F),z.ok?Di(A,"TestPingServer: ok",!0,v):Di(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Di(A,"TestPingServer: error",!1,v)})}function Di(f,v,A,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(A)}catch{}}function KM(){this.g=new OM}function YM(f,v,A){const R=A||"";try{kx(f,function(F,z){let ie=F;u(F)&&(ie=At(F)),v.push(R+z+"="+encodeURIComponent(ie))})}catch(F){throw v.push(R+"type="+encodeURIComponent("_badmap")),F}}function yf(f){this.l=f.Ub||null,this.j=f.eb||!1}g(yf,Qm),yf.prototype.g=function(){return new vf(this.l,this.j)},yf.prototype.i=function(f){return function(){return f}}({});function vf(f,v){et.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(vf,et),t=vf.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Nl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||s).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dx(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dx(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Cl(this):Nl(this),this.readyState==3&&Dx(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Cl(this))},t.Qa=function(f){this.g&&(this.response=f,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Nl(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=v.next();return f.join(`\r
`)};function Nl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $x(f){let v="";return P(f,function(A,R){v+=R,v+=":",v+=A,v+=`\r
`}),v}function sg(f,v,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=$x(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):lt(f,v,A))}function xt(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(xt,et);var XM=/^https?$/i,QM=["POST","PUT"];t=xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eg.g(),this.v=this.o?dx(this.o):dx(eg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(z){Lx(this,z);return}if(f=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)A.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const z of R.keys())A.set(z,R.get(z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),F=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(QM,v,void 0))||R||F||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ie]of A)this.g.setRequestHeader(z,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bx(this),this.u=!0,this.g.send(f),this.u=!1}catch(z){Lx(this,z)}};function Lx(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Vx(f),bf(f)}function Vx(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Tt(this,"complete"),Tt(this,"abort"),bf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bf(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fx(this):this.bb())},t.bb=function(){Fx(this)};function Fx(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Qr(f)!=4||f.Z()!=2)){if(f.u&&Qr(f)==4)_t(f.Ea,0,f);else if(Tt(f,"readystatechange"),Qr(f)==4){f.h=!1;try{const ie=f.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var R;if(R=ie===0){var F=String(f.D).match(Ox)[1]||null;!F&&s.self&&s.self.location&&(F=s.self.location.protocol.slice(0,-1)),R=!XM.test(F?F.toLowerCase():"")}A=R}if(A)Tt(f,"complete"),Tt(f,"success");else{f.m=6;try{var z=2<Qr(f)?f.g.statusText:""}catch{z=""}f.l=z+" ["+f.Z()+"]",Vx(f)}}finally{bf(f)}}}}function bf(f,v){if(f.g){Bx(f);const A=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Tt(f,"ready");try{A.onreadystatechange=R}catch{}}}function Bx(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Qr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),ue(v)}};function Ux(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function JM(f){const v={};f=(f.g&&2<=Qr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(_(f[R]))continue;var A=C(f[R]);const F=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=v[F]||[];v[F]=z,z.push(A)}E(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(f,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||v}function zx(f){this.Aa=0,this.i=[],this.j=new Al,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,f),this.cb=jl("retryDelaySeedMs",1e4,f),this.Wa=jl("forwardChannelMaxRetries",2,f),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ex(f&&f.concurrentRequestLimit),this.Da=new KM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zx.prototype,t.la=8,t.G=1,t.connect=function(f,v,A,R){xn(0),this.W=f,this.H=v||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=Jx(this,null,this.W),_f(this)};function lg(f){if(Wx(f),f.G==3){var v=f.U++,A=Xr(f.I);if(lt(A,"SID",f.K),lt(A,"RID",v),lt(A,"TYPE","terminate"),Rl(f,A),v=new Ri(f,f.j,v),v.L=2,v.v=gf(Xr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(v.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=v.v,A=!0),A||(v.g=Zx(v.j,null),v.g.ea(v.v)),v.F=Date.now(),hf(v)}Qx(f)}function wf(f){f.g&&(cg(f),f.g.cancel(),f.g=null)}function Wx(f){wf(f),f.u&&(s.clearTimeout(f.u),f.u=null),xf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function _f(f){if(!Tx(f.h)&&!f.s){f.s=!0;var v=f.Ga;Y||K(),L||(Y(),L=!0),G.add(v,f),f.B=0}}function ZM(f,v){return Ax(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Tl(h(f.Ga,f,v),Xx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const F=new Ri(this,this.j,f);let z=this.o;if(this.S&&(z?(z=x(z),O(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=Hx(this,F,v),A=Xr(this.I),lt(A,"RID",f),lt(A,"CVER",22),this.D&&lt(A,"X-HTTP-Session-Id",this.D),Rl(this,A),z&&(this.O?v="headers="+encodeURIComponent(String($x(z)))+"&"+v:this.m&&sg(A,this.m,z)),ag(this.h,F),this.Ua&&lt(A,"TYPE","init"),this.P?(lt(A,"$req",v),lt(A,"SID","null"),F.T=!0,ng(F,A,null)):ng(F,A,v),this.G=2}}else this.G==3&&(f?Gx(this,f):this.i.length==0||Tx(this.h)||Gx(this))};function Gx(f,v){var A;v?A=v.l:A=f.U++;const R=Xr(f.I);lt(R,"SID",f.K),lt(R,"RID",A),lt(R,"AID",f.T),Rl(f,R),f.m&&f.o&&sg(R,f.m,f.o),A=new Ri(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Hx(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ag(f.h,A),ng(A,R,v)}function Rl(f,v){f.H&&P(f.H,function(A,R){lt(v,R,A)}),f.l&&kx({},function(A,R){lt(v,R,A)})}function Hx(f,v,A){A=Math.min(f.i.length,A);var R=f.l?h(f.l.Na,f.l,f):null;e:{var F=f.i;let z=-1;for(;;){const ie=["count="+A];z==-1?0<A?(z=F[0].g,ie.push("ofs="+z)):z=0:ie.push("ofs="+z);let tt=!0;for(let Yt=0;Yt<A;Yt++){let Ue=F[Yt].g;const ln=F[Yt].map;if(Ue-=z,0>Ue)z=Math.max(0,F[Yt].g-100),tt=!1;else try{YM(ln,ie,"req"+Ue+"_")}catch{R&&R(ln)}}if(tt){R=ie.join("&");break e}}}return f=f.i.splice(0,A),v.D=f,R}function qx(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Y||K(),L||(Y(),L=!0),G.add(v,f),f.v=0}}function ug(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Tl(h(f.Fa,f),Xx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Kx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Tl(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),wf(this),Kx(this))};function cg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function Kx(f){f.g=new Ri(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Xr(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Rl(f,v),f.m&&f.o&&sg(v,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=gf(Xr(v)),A.m=null,A.P=!0,_x(A,f)}t.Za=function(){this.C!=null&&(this.C=null,wf(this),ug(this),xn(19))};function xf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Yx(f,v){var A=null;if(f.g==v){xf(f),cg(f),f.g=null;var R=2}else if(og(f.h,v))A=v.D,Px(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){A=v.m?v.m.length:0,v=Date.now()-v.F;var F=f.B;R=cf(),Tt(R,new yx(R,A)),_f(f)}else qx(f);else if(F=v.s,F==3||F==0&&0<v.X||!(R==1&&ZM(f,v)||R==2&&ug(f)))switch(A&&0<A.length&&(v=f.h,v.i=v.i.concat(A)),F){case 1:jo(f,5);break;case 4:jo(f,10);break;case 3:jo(f,6);break;default:jo(f,2)}}}function Xx(f,v){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*v}function jo(f,v){if(f.j.info("Error code "+v),v==2){var A=h(f.fb,f),R=f.Xa;const F=!R;R=new No(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pf(R,"https"),gf(R),F?HM(R.toString(),A):qM(R.toString(),A)}else xn(2);f.G=0,f.l&&f.l.sa(v),Qx(f),Wx(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function Qx(f){if(f.G=0,f.ka=[],f.l){const v=Ix(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function Jx(f,v,A){var R=A instanceof No?Xr(A):new No(A);if(R.g!="")v&&(R.g=v+"."+R.g),mf(R,R.s);else{var F=s.location;R=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var z=new No(null);R&&pf(z,R),v&&(z.g=v),F&&mf(z,F),A&&(z.l=A),R=z}return A=f.D,v=f.ya,A&&v&&lt(R,A,v),lt(R,"VER",f.la),Rl(f,R),R}function Zx(f,v,A){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new xt(new yf({eb:A})):new xt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function e1(){}t=e1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sf(){}Sf.prototype.g=function(f,v){return new Fn(f,v)};function Fn(f,v){et.call(this),this.g=new zx(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!_(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!_(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Oa(this)}g(Fn,et),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){lg(this.g)},Fn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=At(f),f=A);v.i.push(new DM(v.Ya++,f)),v.G==3&&_f(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,lg(this.g),delete this.g,Fn.aa.N.call(this)};function t1(f){Jm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const A in v){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}g(t1,Jm);function n1(){Zm.call(this),this.status=1}g(n1,Zm);function Oa(f){this.g=f}g(Oa,e1),Oa.prototype.ua=function(){Tt(this.g,"a")},Oa.prototype.ta=function(f){Tt(this.g,new t1(f))},Oa.prototype.sa=function(f){Tt(this.g,new n1)},Oa.prototype.ra=function(){Tt(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,o2=function(){return new Sf},i2=function(){return cf()},r2=Oo,Ev={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,Td=ff,vx.COMPLETE="complete",n2=vx,hx.EventType=Sl,Sl.OPEN="a",Sl.CLOSE="b",Sl.ERROR="c",Sl.MESSAGE="d",et.prototype.listen=et.prototype.K,iu=hx,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,t2=xt}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const xS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new lw("@firebase/firestore");function zl(){return fa.logLevel}function he(t,...e){if(fa.logLevel<=Ne.DEBUG){const n=e.map(fw);fa.debug(`Firestore (${al}): ${t}`,...n)}}function xi(t,...e){if(fa.logLevel<=Ne.ERROR){const n=e.map(fw);fa.error(`Firestore (${al}): ${t}`,...n)}}function Ts(t,...e){if(fa.logLevel<=Ne.WARN){const n=e.map(fw);fa.warn(`Firestore (${al}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function Xe(t,e){t||Se()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f3{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new di)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new a2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new pn(e)}}class d3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xe(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new p3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=g3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function As(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ut(0,0))}static max(){return new Ee(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Hu{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hu{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(mt.fromString(e))}static fromName(e){return new ve(mt.fromString(e).popFirst(5))}static empty(){return new ve(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new mt(e.slice()))}}function v3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new vo(i,ve.empty(),e)}function b3(t){return new vo(t.readTime,t.key,-1)}class vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(Ee.min(),ve.empty(),-1)}static max(){return new vo(Ee.max(),ve.empty(),-1)}}function w3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==_3)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function S3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dw.oe=-1;function Fp(t){return t==null}function lh(t){return t===0&&1/t==-1/0}function E3(t){return typeof t=="number"&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new qn([])}unionWith(e){let n=new rn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new u2("Invalid base64 string: "+o):o}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const T3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=T3.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pw(t){const e=t.mapValue.fields.__previous_value__;return hw(e)?pw(e):e}function qu(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:I3(t)?9007199254740991:P3(t)?10:11:Se()}function Gr(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=bo(i.timestampValue),s=bo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return da(i.bytesValue).isEqual(da(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Pt(i.doubleValue),s=Pt(o.doubleValue);return a===s?lh(a)===lh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return As(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(SS(a)!==SS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Gr(a[l],s[l])))return!1;return!0}(t,e);default:return Se()}}function Yu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Ps(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Pt(o.integerValue||o.doubleValue),l=Pt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return TS(t.timestampValue,e.timestampValue);case 4:return TS(qu(t),qu(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(o,a){const s=da(o),l=da(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ze(s[u],l[u]);if(c!==0)return c}return ze(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=ze(Pt(o.latitude),Pt(a.latitude));return s!==0?s:ze(Pt(o.longitude),Pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},h=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=ze(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:AS(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Hf.mapValue&&a===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(a===Hf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=ze(l[d],c[d]);if(h!==0)return h;const p=Ps(s[l[d]],u[c[d]]);if(p!==0)return p}return ze(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function TS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=bo(t),r=bo(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function AS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ps(n[i],r[i]);if(o)return o}return ze(n.length,r.length)}function Is(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Tv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Tv(n.fields[a])}`;return i+"}"}(t.mapValue):Se()}function Av(t){return!!t&&"integerValue"in t}function mw(t){return!!t&&"arrayValue"in t}function PS(t){return!!t&&"nullValue"in t}function IS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function P3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=vu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(vu(this.value))}}function c2(t){const e=[];return xa(t.fields,(n,r)=>{const i=new en([n]);if(Ad(r)){const o=c2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new gn(e,0,Ee.min(),Ee.min(),Ee.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,Ee.min(),Ee.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ee.min(),Ee.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function kS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(a.referenceValue),n.key):r=Ps(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function k3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{}class Vt extends f2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C3(e,n,r):n==="array-contains"?new R3(e,r):n==="in"?new M3(e,r):n==="not-in"?new D3(e,r):n==="array-contains-any"?new $3(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N3(e,r):new j3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ps(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends f2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hr(e,n)}matches(e){return d2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d2(t){return t.op==="and"}function h2(t){return O3(t)&&d2(t)}function O3(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function Pv(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Is(t.value);if(h2(t))return t.filters.map(e=>Pv(e)).join(",");{const e=t.filters.map(n=>Pv(n)).join(",");return`${t.op}(${e})`}}function p2(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&p2(a,i.filters[s]),!0):!1}(t,e):void Se()}function m2(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(m2).join(" ,")+"}"}(t):"Filter"}class C3 extends Vt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class N3 extends Vt{constructor(e,n){super(e,"in",n),this.keys=g2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class j3 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=g2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class R3 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mw(n)&&Yu(n.arrayValue,this.value)}}class M3 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class D3 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yu(this.value.arrayValue,n)}}class $3 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function CS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new L3(t,e,n,r,i,o,a)}function gw(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Is(r)).join(",")),e.ue=n}return e.ue}function yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OS(t.startAt,e.startAt)&&OS(t.endAt,e.endAt)}function Iv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V3(t,e,n,r,i,o,a,s){return new Bp(t,e,n,r,i,o,a,s)}function Up(t){return new Bp(t)}function NS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F3(t){return t.collectionGroup!==null}function bu(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new rn(en.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ch(o,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new ch(en.keyField(),r))}return e.ce}function Fr(t){const e=Te(t);return e.le||(e.le=B3(e,bu(t))),e.le}function B3(t,e){if(t.limitType==="F")return CS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ch(i.field,o)});const n=t.endAt?new uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uh(t.startAt.position,t.startAt.inclusive):null;return CS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kv(t,e,n){return new Bp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zp(t,e){return yw(Fr(t),Fr(e))&&t.limitType===e.limitType}function y2(t){return`${gw(Fr(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m2(i)).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Is(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=kS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,bu(r),i)||r.endAt&&!function(a,s,l){const u=kS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,bu(r),i))}(t,e)}function U3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v2(t){return(e,n)=>{let r=!1;for(const i of bu(t)){const o=z3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z3(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ps(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return l2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new wt(ve.comparator);function Si(){return W3}const b2=new wt(ve.comparator);function ou(...t){let e=b2;for(const n of t)e=e.insert(n.key,n);return e}function w2(t){let e=b2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return wu()}function _2(){return wu()}function wu(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const G3=new wt(ve.comparator),H3=new rn(ve.comparator);function Ce(...t){let e=H3;for(const n of t)e=e.add(n);return e}const q3=new rn(ze);function K3(){return q3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function x2(t){return{integerValue:""+t}}function S2(t,e){return E3(e)?x2(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function Y3(t,e,n){return t instanceof fh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hw(o)&&(o=pw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Xu?T2(t,e):t instanceof Qu?A2(t,e):function(i,o){const a=E2(i,o),s=jS(a)+jS(i.Pe);return Av(a)&&Av(i.Pe)?x2(s):vw(i.serializer,s)}(t,e)}function X3(t,e,n){return t instanceof Xu?T2(t,e):t instanceof Qu?A2(t,e):n}function E2(t,e){return t instanceof Ju?function(r){return Av(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fh extends Gp{}class Xu extends Gp{constructor(e){super(),this.elements=e}}function T2(t,e){const n=P2(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends Gp{constructor(e){super(),this.elements=e}}function A2(t,e){let n=P2(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class Ju extends Gp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jS(t){return Pt(t.integerValue||t.doubleValue)}function P2(t){return mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.field=e,this.transform=n}}function J3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xu&&i instanceof Xu||r instanceof Qu&&i instanceof Qu?As(r.elements,i.elements,Gr):r instanceof Ju&&i instanceof Ju?Gr(r.Pe,i.Pe):r instanceof fh&&i instanceof fh}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function I2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bw(t.key,sr.none()):new Wc(t.key,t.data,sr.none());{const n=t.data,r=Nn.empty();let i=new rn(en.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Eo(t.key,r,new qn(i.toArray()),sr.none())}}function eV(t,e,n){t instanceof Wc?function(i,o,a){const s=i.value.clone(),l=MS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Eo?function(i,o,a){if(!Pd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=MS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(k2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof Wc?function(o,a,s,l){if(!Pd(o.precondition,a))return s;const u=o.value.clone(),c=DS(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Eo?function(o,a,s,l){if(!Pd(o.precondition,a))return s;const u=DS(o.fieldTransforms,l,a),c=a.data;return c.setAll(k2(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,a,s){return Pd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function tV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E2(r.transform,i||null);o!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,o))}return n||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&As(r,i,(o,a)=>J3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends Hp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MS(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,X3(a,s,n[i]))}return r}function DS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Y3(o,a,e))}return r}class bw extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nV extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=I2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(n,r)=>RS(n,r))&&As(this.baseMutations,e.baseMutations,(n,r)=>RS(n,r))}}class ww{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=function(){return G3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new ww(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,De;function aV(t){switch(t){default:return Se();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function O2(t){if(t===void 0)return xi("GRPC error has no .code"),J.UNKNOWN;switch(t){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return Se()}}(De=Ct||(Ct={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new ea([4294967295,4294967295],0);function $S(t){const e=sV().encode(t),n=new e2;return n.update(e),new Uint8Array(n.digest())}function LS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class _w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ea.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(lV)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$S(e),[r,i]=LS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new _w(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=$S(e),[r,i]=LS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qp(Ee.min(),i,new wt(ze),Si(),Ce())}}class Gc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class C2{constructor(e,n){this.targetId=e,this.me=n}}class N2{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VS{constructor(){this.fe=0,this.ge=BS(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Gc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=BS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Si(),this.qe=FS(),this.Qe=new wt(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Iv(o))if(r===0){const a=new ve(o.path);this.Ue(n,a,gn.newNoDocument(a,Ee.min()))}else Xe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=da(r).toUint8Array()}catch(l){if(l instanceof u2)return Ts("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new _w(a,i,o)}catch(l){return Ts(l instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Iv(s.target)){const l=new ve(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,gn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ce();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new qp(e,n,this.Qe,this.ke,r);return this.ke=Si(),this.qe=FS(),this.Qe=new wt(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new VS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new VS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FS(){return new wt(ve.comparator)}function BS(){return new wt(ve.comparator)}const cV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dV=(()=>({and:"AND",or:"OR"}))();class hV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ov(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pV(t,e){return dh(t,e.toTimestamp())}function Br(t){return Xe(!!t),Ee.fromTimestamp(function(n){const r=bo(n);return new Ut(r.seconds,r.nanos)}(t))}function xw(t,e){return Cv(t,e).canonicalString()}function Cv(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function R2(t){const e=mt.fromString(t);return Xe(V2(e)),e}function Nv(t,e){return xw(t.databaseId,e.path)}function zg(t,e){const n=R2(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(D2(n))}function M2(t,e){return xw(t.databaseId,e)}function mV(t){const e=R2(t);return e.length===4?mt.emptyPath():D2(e)}function jv(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function US(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function gV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Xe(c===void 0||typeof c=="string"),sn.fromBase64String(c||"")):(Xe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?J.UNKNOWN:O2(u.code);return new pe(c,u.message||"")}(a);n=new N2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zg(t,r.document.name),o=Br(r.document.updateTime),a=r.document.createTime?Br(r.document.createTime):Ee.min(),s=new Nn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Id(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zg(t,r.document),o=r.readTime?Br(r.readTime):Ee.min(),a=gn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Id([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zg(t,r.document),o=r.removedTargetIds||[];n=new Id([],o,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new oV(i,o),s=r.targetId;n=new C2(s,a)}}return n}function yV(t,e){let n;if(e instanceof Wc)n={update:US(t,e.key,e.value)};else if(e instanceof bw)n={delete:Nv(t,e.key)};else if(e instanceof Eo)n={update:US(t,e.key,e.data),updateMask:AV(e.fieldMask)};else{if(!(e instanceof nV))return Se();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof fh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Xu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Qu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ju)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se()}(t,e.precondition)),n}function vV(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Br(i.updateTime):Br(o);return a.isEqual(Ee.min())&&(a=Br(o)),new Z3(a,i.transformResults||[])}(n,e))):[]}function bV(t,e){return{documents:[M2(t,e.path)]}}function wV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M2(t,i);const o=function(u){if(u.length!==0)return L2(Hr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:La(h.field),direction:SV(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ov(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function _V(t){let e=mV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=$2(d);return h instanceof Hr&&h2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(g){return new ch(Va(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Fp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new uh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new uh(p,h)}(n.endAt)),V3(e,i,a,o,s,"F",l,u)}function xV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Va(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Va(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Va(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Va(n.unaryFilter.field);return Vt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>$2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function SV(t){return cV[t]}function EV(t){return fV[t]}function TV(t){return dV[t]}function La(t){return{fieldPath:t.canonicalString()}}function Va(t){return en.fromServerFormat(t.fieldPath)}function L2(t){return t instanceof Vt?function(n){if(n.op==="=="){if(IS(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(PS(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IS(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(PS(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof Hr?function(n){const r=n.getFilters().map(i=>L2(i));return r.length===1?r[0]:{compositeFilter:{op:TV(n.op),filters:r}}}(t):Se()}function AV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,i,o=Ee.min(),a=Ee.min(),s=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.ct=e}}function IV(t){const e=_V({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.un=new OV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(vo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class OV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(mt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ks(0)}static kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,qn.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=ou();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Si();const a=wu(),s=function(){return wu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Eo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),_u(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):a.set(u.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new NV(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new wt((a,s)=>a-s),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||qn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||Ce()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=_2();c.forEach(h=>{if(!o.has(h)){const p=I2(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(Ho());let s=-1,l=o;return a.next(u=>Z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?Z.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:s,changes:w2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ou();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,l=>{const u=function(d,h){return new Bp(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,gn.newInvalidDocument(c)))});let s=ou();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&_u(c.mutation,u,qn.empty(),Ut.now()),Wp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IV(i.bundledQuery),readTime:Br(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new wt(ve.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=Ho(),o=n.length+1,a=new ve(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new wt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ho(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ho(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new iV(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ce(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.Tr=new rn(Wt.Er),this.dr=new rn(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ve(new mt([])),r=new Wt(n,e),i=new Wt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ve(new mt([])),r=new Wt(n,e),i=new Wt(n,e+1);let o=Ce();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ve.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(Wt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new rV(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Wt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(ze);return n.forEach(i=>{const o=new Wt(i,0),a=new Wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const a=new Wt(new ve(o),0);let s=new rn(ze);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Mr=e,this.docs=function(){return new wt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Si();const a=n.path,s=new ve(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||w3(b3(c),r)<=0||(i.has(c.key)||Wp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VV(this)}getSize(e){return Z.resolve(this.size)}}class VV extends CV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.persistence=e,this.Nr=new sl(n=>gw(n),yw),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sw,this.targetCount=0,this.kr=ks.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dw(0),this.Kr=!1,this.Kr=!0,this.$r=new DV,this.referenceDelegate=e(this),this.Ur=new FV(this),this.indexManager=new kV,this.remoteDocumentCache=function(i){return new LV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PV(n),this.Gr=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $V(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new UV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UV extends x3{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Jr=new Sw,this.Yr=null}static Zr(e){return new Ew(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=ve.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WL()?8:S3(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new zV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zl()<=Ne.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(zl()<=Ne.DEBUG&&he("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zl()<=Ne.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):Z.resolve())}Yi(e,n){if(NS(n))return Z.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kv(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ce(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,kv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return NS(n)||i.isEqual(Ee.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(zl()<=Ne.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$a(n)),this.rs(e,a,n,v3(i,-1)).next(s=>s))})}ts(e,n){let r=new rn(v2(e));return n.forEach((i,o)=>{Wp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return zl()<=Ne.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$a(n)),this.Ji.getDocumentsMatchingQuery(e,n,vo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new wt(ze),this._s=new sl(o=>gw(o),yw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function HV(t,e,n,r){return new GV(t,e,n,r)}async function F2(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ce();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function qV(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=Z.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);Xe(b!==null),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ce();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B2(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KV(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(sn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Si(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(YV(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ee.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function YV(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Si();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):he("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function XV(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QV(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Qi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Rv(t,e,n){const r=Te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zc(a))throw a;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function zS(t,e,n){const r=Te(t);let i=Ee.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=Te(l),h=d._s.get(c);return h!==void 0?Z.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,a,Fr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ee.min(),n?o:Ce())).next(s=>(JV(r,U3(e),s),{documents:s,Ts:o})))}function JV(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class WS{constructor(){this.activeTargetIds=K3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZV{constructor(){this.so=new WS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function Wg(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class rF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Wg(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(he("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ts("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=tF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Wg();return new Promise((a,s)=>{const l=new t2;l.setWithCredentials(!0),l.listenOnce(n2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Td.NO_ERROR:const c=l.getResponseJson();he(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Td.TIMEOUT:he(dn,`RPC '${e}' ${o} timed out`),s(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const d=l.getStatus();if(he(dn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(p.status);s(new pe(g,p.message))}else s(new pe(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(dn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);he(dn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Wg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=o2(),s=i2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");he(dn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let h=!1,p=!1;const g=new nF({Io:b=>{p?he(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(he(dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),he(dn,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),y=(b,w,_)=>{b.listen(w,S=>{try{_(S)}catch(k){setTimeout(()=>{throw k},0)}})};return y(d,iu.EventType.OPEN,()=>{p||(he(dn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,iu.EventType.CLOSE,()=>{p||(p=!0,he(dn,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,iu.EventType.ERROR,b=>{p||(p=!0,Ts(dn,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),y(d,iu.EventType.MESSAGE,b=>{var w;if(!p){const _=b.data[0];Xe(!!_);const S=_,k=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(k){he(dn,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let P=function(I){const O=Ct[I];if(O!==void 0)return O2(O)}(T),E=k.message;P===void 0&&(P=J.INTERNAL,E="Unknown error status: "+T+" with message "+k.message),p=!0,g.So(new pe(P,E)),d.close()}else he(dn,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),y(s,r2.STAT_EVENT,b=>{b.stat===Ev.PROXY?he(dn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ev.NOPROXY&&he(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return new hV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new U2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iF extends z2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ee.min():a.readTime?Br(a.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=jv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Iv(l)?{documents:bV(o,l)}:{query:wV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=j2(o,a.resumeToken);const u=Ov(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ee.min())>0){s.readTime=dh(o,a.snapshotVersion.toTimestamp());const u=Ov(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=xV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=jv(this.serializer),n.removeTarget=e,this.a_(n)}}class oF extends z2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vV(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Cv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Cv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Sa(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Te(l);u.L_.add(4),await Hc(u),u.q_.set("Unknown"),u.L_.delete(4),await Yp(u)}(this))})}),this.q_=new sF(r,i)}}async function Yp(t){if(Sa(t))for(const e of t.B_)await e(!0)}async function Hc(t){for(const e of t.B_)await e(!1)}function W2(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),kw(n)?Iw(n):ll(n).r_()&&Pw(n,e))}function Aw(t,e){const n=Te(t),r=ll(n);n.N_.delete(e),r.r_()&&G2(n,e),n.N_.size===0&&(r.r_()?r.o_():Sa(n)&&n.q_.set("Unknown"))}function Pw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).A_(e)}function G2(t,e){t.Q_.xe(e),ll(t).R_(e)}function Iw(t){t.Q_=new uV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.q_.v_()}function kw(t){return Sa(t)&&!ll(t).n_()&&t.N_.size>0}function Sa(t){return Te(t).L_.size===0}function H2(t){t.Q_=void 0}async function uF(t){t.q_.set("Online")}async function cF(t){t.N_.forEach((e,n)=>{Pw(t,e)})}async function fF(t,e){H2(t),kw(t)?(t.q_.M_(e),Iw(t)):t.q_.set("Unknown")}async function dF(t,e,n){if(t.q_.set("Online"),e instanceof N2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof Id?t.Q_.Ke(e):e instanceof C2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await B2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),G2(o,l);const d=new Qi(c.target,l,u,c.sequenceNumber);Pw(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!zc(e))throw e;t.L_.add(1),await Hc(t),t.q_.set("Offline"),n||(n=()=>B2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yp(t)})}function q2(t,e){return e().catch(n=>hh(t,n,e))}async function Xp(t){const e=Te(t),n=wo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hF(e);)try{const i=await XV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pF(e,i)}catch(i){await hh(e,i)}K2(e)&&Y2(e)}function hF(t){return Sa(t)&&t.O_.length<10}function pF(t,e){t.O_.push(e);const n=wo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K2(t){return Sa(t)&&!wo(t).n_()&&t.O_.length>0}function Y2(t){wo(t).start()}async function mF(t){wo(t).p_()}async function gF(t){const e=wo(t);for(const n of t.O_)e.m_(n.mutations)}async function yF(t,e,n){const r=t.O_.shift(),i=ww.from(r,e,n);await q2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xp(t)}async function vF(t,e){e&&wo(t).V_&&await async function(r,i){if(function(a){return aV(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();wo(r).s_(),await q2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xp(r)}}(t,e),K2(t)&&Y2(t)}async function HS(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Sa(n);n.L_.add(3),await Hc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yp(n)}async function bF(t,e){const n=Te(t);e?(n.L_.delete(2),await Yp(n)):e||(n.L_.add(2),await Hc(n),n.q_.set("Unknown"))}function ll(t){return t.K_||(t.K_=function(n,r,i){const o=Te(n);return o.w_(),new iF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uF.bind(null,t),Ro:cF.bind(null,t),mo:fF.bind(null,t),d_:dF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),kw(t)?Iw(t):t.q_.set("Unknown")):(await t.K_.stop(),H2(t))})),t.K_}function wo(t){return t.U_||(t.U_=function(n,r,i){const o=Te(n);return o.w_(),new oF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mF.bind(null,t),mo:vF.bind(null,t),f_:gF.bind(null,t),g_:yF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xp(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Ow(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cw(t,e){if(xi("AsyncQueue",`${e}: ${t}`),zc(t))return new pe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.W_=new wt(ve.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Os{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Os(e,n,us.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _F{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),o=i.queries;i.queries=KS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function KS(){return new sl(t=>y2(t),zp)}async function Nw(t,e){const n=Te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new wF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Cw(a,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Rw(n)}async function jw(t,e){const n=Te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xF(t,e){const n=Te(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Rw(n)}function SF(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Rw(t){t.Y_.forEach(e=>{e.next()})}var Mv,YS;(YS=Mv||(Mv={})).ea="default",YS.Cache="cache";class Mw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.key=e}}class Q2{constructor(e){this.key=e}}class EF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=v2(e),this.Ra=new us(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new qS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Wp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return y(p)-y(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Os(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Q2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new X2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class TF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AF{constructor(e){this.key=e,this.va=!1}}class PF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new sl(s=>y2(s),zp),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(ve.comparator),this.Na=new Map,this.La=new Sw,this.Ba={},this.ka=new Map,this.qa=ks.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IF(t,e,n=!0){const r=rC(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await J2(r,e,n,!0),i}async function kF(t,e){const n=rC(t);await J2(n,e,!0,!1)}async function J2(t,e,n,r){const i=await QV(t.localStore,Fr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await OF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&W2(t.remoteStore,i),s}async function OF(t,e,n,r,i){t.Ka=(d,h,p)=>async function(y,b,w,_){let S=b.view.ma(w);S.ns&&(S=await zS(y.localStore,b.query,!1).then(({documents:E})=>b.view.ma(E,S)));const k=_&&_.targetChanges.get(b.targetId),T=_&&_.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(S,y.isPrimaryClient,k,T);return QS(y,b.targetId,P.wa),P.snapshot}(t,d,h,p);const o=await zS(t.localStore,e,!0),a=new EF(e,o.Ts),s=a.ma(o.documents),l=Gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);QS(t,n,u.wa);const c=new TF(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function CF(t,e,n){const r=Te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!zp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Aw(r.remoteStore,i.targetId),Dv(r,i.targetId)}).catch(Uc)):(Dv(r,i.targetId),await Rv(r.localStore,i.targetId,!0))}async function NF(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Aw(n.remoteStore,r.targetId))}async function jF(t,e,n){const r=FF(t);try{const i=await function(a,s){const l=Te(a),u=Ut.now(),c=s.reduce((p,g)=>p.add(g.key),Ce());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Si(),y=Ce();return l.cs.getEntries(p,c).next(b=>{g=b,g.forEach((w,_)=>{_.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{d=b;const w=[];for(const _ of s){const S=tV(_,d.get(_.key).overlayedDocument);S!=null&&w.push(new Eo(_.key,S,c2(S.value.mapValue),sr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:w2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new wt(ze)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await qc(r,i.changes),await Xp(r.remoteStore)}catch(i){const o=Cw(i,"Failed to persist write");n.reject(o)}}async function Z2(t,e){const n=Te(t);try{const r=await KV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Xe(a.va):i.removedDocuments.size>0&&(Xe(a.va),a.va=!1))}),await qc(n,r,e)}catch(r){await Uc(r)}}function XS(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Te(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&Rw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RF(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new wt(ve.comparator);a=a.insert(o,gn.newNoDocument(o,Ee.min()));const s=Ce().add(o),l=new qp(Ee.min(),new Map,new wt(ze),a,s);await Z2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dw(r)}else await Rv(r.localStore,e,!1).then(()=>Dv(r,e,n)).catch(Uc)}async function MF(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await qV(n.localStore,e);tC(n,r,null),eC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qc(n,i)}catch(i){await Uc(i)}}async function DF(t,e,n){const r=Te(t);try{const i=await function(a,s){const l=Te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Xe(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);tC(r,e,n),eC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qc(r,i)}catch(i){await Uc(i)}}function eC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tC(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nC(t,r)})}function nC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Aw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dw(t))}function QS(t,e,n){for(const r of n)r instanceof X2?(t.La.addReference(r.key,e),$F(t,r)):r instanceof Q2?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nC(t,r.key)):Se()}function $F(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dw(t))}function Dw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ve(mt.fromString(e)),r=t.qa.next();t.Na.set(r,new AF(n)),t.Oa=t.Oa.insert(n,r),W2(t.remoteStore,new Qi(Fr(Up(n.path)),r,"TargetPurposeLimboResolution",dw.oe))}}async function qc(t,e,n){const r=Te(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Tw.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=Te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(u,h=>Z.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Z.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!zc(d))throw d;he("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,y)}}}(r.localStore,o))}async function LF(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await F2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new pe(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qc(n,r.hs)}}function VF(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function rC(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RF.bind(null,e),e.Ca.d_=xF.bind(null,e.eventManager),e.Ca.$a=SF.bind(null,e.eventManager),e}function FF(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DF.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return HV(this.persistence,new WV,e.initialUser,this.serializer)}Ga(e){return new BV(Ew.Zr,this.serializer)}Wa(e){return new ZV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class $v{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LF.bind(null,this.syncEngine),await bF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _F}()}createDatastore(e){const n=Kp(e.databaseInfo.databaseId),r=function(o){return new rF(o)}(e.databaseInfo);return function(o,a,s,l){return new aF(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new lF(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>XS(this.syncEngine,n,0),function(){return GS.D()?new GS:new eF}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const d=new PF(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Te(i);he("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Hc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$v.provider={build:()=>new $v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=s2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{he("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(he("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UF(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HS(e.remoteStore,i)),t._onlineComponents=e}async function UF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new ph)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Hg(t,new ph);return t._offlineComponents}async function iC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await JS(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await JS(t,new $v))),t._onlineComponents}function zF(t){return iC(t).then(e=>e.syncEngine)}async function mh(t){const e=await iC(t),n=e.eventManager;return n.onListen=IF.bind(null,e.syncEngine),n.onUnlisten=CF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NF.bind(null,e.syncEngine),n}function WF(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new $w({next:h=>{c.Za(),a.enqueueAndForget(()=>jw(o,d));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(Up(s.path),c,{includeMetadataChanges:!0,_a:!0});return Nw(o,d)}(await mh(t),t.asyncQueue,e,n,r)),r.promise}function GF(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new $w({next:h=>{c.Za(),a.enqueueAndForget(()=>jw(o,d)),h.fromCache&&l.source==="server"?u.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(s,c,{includeMetadataChanges:!0,_a:!0});return Nw(o,d)}(await mh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e,n){if(!n)throw new pe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HF(t,e,n,r){if(e===!0&&r===!0)throw new pe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eE(t){if(!ve.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(ve.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lw(t);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u3;switch(r.type){case"firstParty":return new h3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZS.get(n);r&&(he("ComponentProvider","Removing Datastore"),ZS.delete(n),r.terminate())}(this),Promise.resolve()}}function qF(t,e,n,r={}){var i;const o=(t=Ln(t,Qp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=pn.MOCK_USER;else{s=$L(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(u)}t._authCredentials=new c3(new a2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kc(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class fo extends Kc{constructor(e,n,r){super(e,n,Up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ve(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function On(t,e,...n){if(t=an(t),aC("collection","path",e),t instanceof Qp){const r=mt.fromString(e,...n);return tE(r),new fo(t,null,r)}{if(!(t instanceof Pn||t instanceof fo))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return tE(r),new fo(t.firestore,null,r)}}function Lt(t,e,...n){if(t=an(t),arguments.length===1&&(e=s2.newId()),aC("doc","path",e),t instanceof Qp){const r=mt.fromString(e,...n);return eE(r),new Pn(t,null,new ve(r))}{if(!(t instanceof Pn||t instanceof fo))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return eE(r),new Pn(t.firestore,t instanceof fo?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new U2(this,"async_queue_retry"),this.Vu=()=>{const r=Gg();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zc(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ow.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function iE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ei extends Qp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function KF(t,e){const n=typeof t=="object"?t:QO(),r=typeof t=="string"?t:e||"(default)",i=cw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ML("firestore");o&&qF(i,...o)}return i}function Jp(t){if(t._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YF(t),t._firestoreClient}function YF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new A3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(sn.fromBase64String(e))}catch(n){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cs(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=/^__.*__$/;class QF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}class sC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Bw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lC(this.Cu)&&XF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}Qu(e,n,r,i=!1){return new Bw({Cu:e,methodName:n,qu:r,path:en.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uw(t){const e=t._freezeSettings(),n=Kp(t._databaseId);return new JF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Ww("Data must be an object, but it was:",a,r);const s=cC(r,a);let l,u;if(o.merge)l=new qn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Lv(e,d,n);if(!a.contains(h))throw new pe(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dC(c,h)||c.push(h)}l=new qn(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new QF(new Nn(s),l,u)}class tm extends em{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}class zw extends em{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Ju(e.serializer,S2(e.serializer,this.$u));return new Q3(e.path,n)}isEqual(e){return e instanceof zw&&this.$u===e.$u}}function ZF(t,e,n,r){const i=t.Qu(1,e,n);Ww("Data must be an object, but it was:",i,r);const o=[],a=Nn.empty();xa(r,(l,u)=>{const c=Gw(e,l,n);u=an(u);const d=i.Nu(c);if(u instanceof tm)o.push(c);else{const h=nm(u,d);h!=null&&(o.push(c),a.set(c,h))}});const s=new qn(o);return new sC(a,s,i.fieldTransforms)}function e5(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Lv(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Lv(e,o[h])),l.push(o[h+1]);const u=[],c=Nn.empty();for(let h=s.length-1;h>=0;--h)if(!dC(u,s[h])){const p=s[h];let g=l[h];g=an(g);const y=a.Nu(p);if(g instanceof tm)u.push(p);else{const b=nm(g,y);b!=null&&(u.push(p),c.set(p,b))}}const d=new qn(u);return new sC(c,d,a.fieldTransforms)}function nm(t,e){if(fC(t=an(t)))return Ww("Unsupported field value:",e,t),cC(t,e);if(t instanceof em)return function(r,i){if(!lC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=nm(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:dh(i.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,o)}}if(r instanceof Vw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:j2(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return vw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Lw(r)}`)}(t,e)}function cC(t,e){const n={};return l2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,(r,i)=>{const o=nm(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof Vw||t instanceof Cs||t instanceof Pn||t instanceof em||t instanceof Fw)}function Ww(t,e,n){if(!fC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Lv(t,e,n){if((e=an(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return Gw(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function Gw(t,e,n){if(e.search(t5)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pe(J.INVALID_ARGUMENT,s+t+l)}function dC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends hC{data(){return super.data()}}function pC(t,e){return typeof e=="string"?Gw(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r5{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Pt(a.doubleValue));return new Fw(o)}convertGeoPoint(e){return new Vw(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);Xe(V2(r));const i=new Ku(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yC extends hC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kd extends yC{data(e={}){return super.data(e)}}class vC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new su(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new kd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new su(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new kd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new su(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:i5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){t=Ln(t,Pn);const e=Ln(t.firestore,Ei);return WF(Jp(e),t._key).then(n=>wC(e,t,n))}class Hw extends r5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Kf(t){t=Ln(t,Kc);const e=Ln(t.firestore,Ei),n=Jp(e),r=new Hw(e);return mC(t._query),GF(n,t._query).then(i=>new vC(e,r,t,i))}function o5(t,e,n){t=Ln(t,Pn);const r=Ln(t.firestore,Ei),i=gC(t.converter,e,n);return rm(r,[uC(Uw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function Sr(t,e,n,...r){t=Ln(t,Pn);const i=Ln(t.firestore,Ei),o=Uw(i);let a;return a=typeof(e=an(e))=="string"||e instanceof Zp?e5(o,"updateDoc",t._key,e,n,r):ZF(o,"updateDoc",t._key,e),rm(i,[a.toMutation(t._key,sr.exists(!0))])}function Yf(t){return rm(Ln(t.firestore,Ei),[new bw(t._key,sr.none())])}function Fa(t,e){const n=Ln(t.firestore,Ei),r=Lt(t),i=gC(t.converter,e);return rm(n,[uC(Uw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function Za(t,...e){var n,r,i;t=an(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||iE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iE(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Pn)u=Ln(t.firestore,Ei),c=Up(t._key.path),l={next:d=>{e[a]&&e[a](wC(u,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Ln(t,Kc);u=Ln(d.firestore,Ei),c=d._query;const h=new Hw(u);l={next:p=>{e[a]&&e[a](new vC(u,h,d,p))},error:e[a+1],complete:e[a+2]},mC(t._query)}return function(h,p,g,y){const b=new $w(y),w=new Mw(p,b,g);return h.asyncQueue.enqueueAndForget(async()=>Nw(await mh(h),w)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>jw(await mh(h),w))}}(Jp(u),c,s,l)}function rm(t,e){return function(r,i){const o=new di;return r.asyncQueue.enqueueAndForget(async()=>jF(await zF(r),i,o)),o.promise}(Jp(t),e)}function wC(t,e,n){const r=n.docs.get(e._key),i=new Hw(t);return new yC(t,i,e._key,r,new su(n.hasPendingWrites,n.fromCache),e.converter)}function Ro(t){return new zw("increment",t)}(function(e,n=!0){(function(i){al=i})(ol),Es(new ca("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Ei(new f3(r.getProvider("auth-internal")),new m3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),co(xS,"4.7.3",e),co(xS,"4.7.3","esm2017")})();function qw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=_C,xC=new Fc("auth","Firebase",_C());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new lw("@firebase/auth");function s5(t,...e){yh.logLevel<=Ne.WARN&&yh.warn(`Auth (${ol}): ${t}`,...e)}function Od(t,...e){yh.logLevel<=Ne.ERROR&&yh.error(`Auth (${ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Yw(t,...e)}function kr(t,...e){return Yw(t,...e)}function Kw(t,e,n){const r=Object.assign(Object.assign({},a5()),{[e]:n});return new Fc("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return Kw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),Kw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xC.create(t,...e)}function xe(t,e,...n){if(!t)throw Yw(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function Ti(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u5(){return oE()==="http:"||oE()==="https:"}function oE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u5()||BL()||"connection"in navigator)?navigator.onLine:!0}function f5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=LL()||UL()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Yc(3e4,6e4);function Qw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ul(t,e,n,r,i={}){return EC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Bc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return FL()||(u.referrerPolicy="no-referrer"),SC.fetch()(TC(t,t.config.apiHost,n,s),u)})}async function EC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d5),e);try{const i=new m5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Xf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Xf(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Kw(t,c,u);qr(t,c)}}catch(i){if(i instanceof Oi)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function p5(t,e,n,r,i={}){const o=await ul(t,e,n,r,i);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function TC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`}class m5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),h5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function AC(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y5(t,e=!1){const n=an(t),r=await n.getIdToken(e),i=Jw(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xu(qg(i.auth_time)),issuedAtTime:xu(qg(i.iat)),expirationTime:xu(qg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qg(t){return Number(t)*1e3}function Jw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=WO(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aE(t){const e=Jw(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&v5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,AC(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PC(o.providerUserInfo):[],s=_5(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Fv(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function w5(t){const e=an(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PC(t){return t.map(e=>{var{providerId:n}=e,r=qw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e){const n=await EC(t,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=TC(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",SC.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S5(t,e){return ul(t,"POST","/v2/accounts:revokeToken",Qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await x5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new cs;return r&&(xe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cs,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y5(this,e)}reload(){return w5(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Zu(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:k,isAnonymous:T,providerData:P,stsTokenManager:E}=n;xe(S&&E,e,"internal-error");const x=cs.fromJSON(this.name,E);xe(typeof S=="string",e,"internal-error"),Li(d,e.name),Li(h,e.name),xe(typeof k=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),Li(p,e.name),Li(g,e.name),Li(y,e.name),Li(b,e.name),Li(w,e.name),Li(_,e.name);const I=new ai({uid:S,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:w,lastLoginAt:_});return P&&Array.isArray(P)&&(I.providerData=P.map(O=>Object.assign({},O))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new cs;i.updateFromServerResponse(n);const o=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?PC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new cs;s.updateFromIdToken(r);const l=new ai({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function si(t){Ti(t instanceof Function,"Expected a class definition");let e=sE.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IC.type="NONE";const lE=IC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e,n){return`firebase:${t}:${e}:${n}`}class fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fs(si(lE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||si(lE);const a=Cd(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=ai._fromJSON(e,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fs(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new fs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RC(e))return"Blackberry";if(MC(e))return"Webos";if(OC(e))return"Safari";if((e.includes("chrome/")||CC(e))&&!e.includes("edge/"))return"Chrome";if(jC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kC(t=wn()){return/firefox\//i.test(t)}function OC(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CC(t=wn()){return/crios\//i.test(t)}function NC(t=wn()){return/iemobile/i.test(t)}function jC(t=wn()){return/android/i.test(t)}function RC(t=wn()){return/blackberry/i.test(t)}function MC(t=wn()){return/webos/i.test(t)}function Zw(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E5(t=wn()){var e;return Zw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T5(){return zL()&&document.documentMode===10}function DC(t=wn()){return Zw(t)||jC(t)||MC(t)||RC(t)||/windows phone/i.test(t)||NC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t,e=[]){let n;switch(t){case"Browser":n=uE(wn());break;case"Worker":n=`${uE(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e={}){return ul(t,"GET","/v2/passwordPolicy",Qw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=6;class k5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:I5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new A5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AC(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ta(this));const n=e?an(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P5(this),n=new k5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&s5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function im(t){return an(t)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QL(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C5(t){e_=t}function N5(t){return e_.loadJS(t)}function j5(){return e_.gapiScript}function R5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=cw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ah(o,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function D5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $5(t,e,n){const r=im(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=LC(e),{host:a,port:s}=L5(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||V5()}function LC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L5(t){const e=LC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:fE(a)}}}function fE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t,e){return p5(t,"POST","/v1/accounts:signInWithIdp",Qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="http://localhost";class pa extends VC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=qw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new pa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ds(e,n)}buildRequest(){const e={requestUri:F5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends t_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Xc{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Xc{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Xc{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ai._fromIdTokenResponse(e,r,i),a=dE(r);return new Ns({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dE(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Oi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bh(e,n,r,i)}}function FC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(t,o,e,r):o})}async function B5(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(ta(r));const i="reauthenticate";try{const o=await Zu(t,FC(r,i,e,t),n);xe(o.idToken,r,"internal-error");const a=Jw(o.idToken);xe(a,r,"internal-error");const{sub:s}=a;return xe(t.uid===s,r,"user-mismatch"),Ns._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e,n=!1){if(ii(t.app))return Promise.reject(ta(t));const r="signIn",i=await FC(t,r,e),o=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function W5(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function G5(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function H5(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}function hE(t){return an(t).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=1e3,K5=10;class UC extends BC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);T5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UC.type="LOCAL";const Y5=UC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends BC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zC.type="SESSION";const WC=zC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await X5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=n_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function J5(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function Z5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t6(){return GC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebaseLocalStorageDb",n6=1,_h="firebaseLocalStorage",qC="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function r6(){const t=indexedDB.deleteDatabase(HC);return new Qc(t).toPromise()}function Bv(){const t=indexedDB.open(HC,n6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:qC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await r6(),e(await Bv()))})})}async function pE(t,e,n){const r=am(t,!0).put({[qC]:e,value:n});return new Qc(r).toPromise()}async function i6(t,e){const n=am(t,!1).get(e),r=await new Qc(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=am(t,!0).delete(e);return new Qc(n).toPromise()}const o6=800,a6=3;class KC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(t6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z5(),!this.activeServiceWorker)return;this.sender=new Q5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await pE(e,wh,"1"),await mE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=am(i,!1).getAll();return new Qc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KC.type="LOCAL";const s6=KC;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){return e?si(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends VC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l6(t){return z5(t.auth,new r_(t),t.bypassAuthState)}function u6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),U5(n,new r_(t),t.bypassAuthState)}async function c6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),B5(n,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l6;case"linkViaPopup":case"linkViaRedirect":return c6;case"reauthViaPopup":case"reauthViaRedirect":return u6;default:qr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Yc(2e3,1e4);async function d6(t,e,n){if(ii(t.app))return Promise.reject(kr(t,"operation-not-supported-in-this-environment"));const r=im(t);l5(t,e,t_);const i=YC(r,n);return new qo(r,"signInViaPopup",e,i).executeNotNull()}class qo extends XC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=n_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f6.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="pendingRedirect",Nd=new Map;class p6 extends XC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await m6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m6(t,e){const n=v6(e),r=y6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function g6(t,e){Nd.set(t._key(),e)}function y6(t){return si(t._redirectPersistence)}function v6(t){return Cd(h6,t.config.apiKey,t.name)}async function b6(t,e,n=!1){if(ii(t.app))return Promise.reject(ta(t));const r=im(t),i=YC(r,e),a=await new p6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=10*60*1e3;class _6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w6&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T6=/^https?/;async function A6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S6(t);for(const n of e)try{if(P6(n))return}catch{}qr(t,"unauthorized-domain")}function P6(t){const e=Vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!T6.test(n))return!1;if(E6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Yc(3e4,6e4);function yE(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k6(t){return new Promise((e,n)=>{var r,i,o;function a(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),n(kr(t,"network-request-failed"))},timeout:I6.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ur().gapi)===null||o===void 0)&&o.load)a();else{const s=R5("iframefcb");return Ur()[s]=()=>{gapi.load?a():n(kr(t,"network-request-failed"))},N5(`${j5()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw jd=null,e})}let jd=null;function O6(t){return jd=jd||k6(t),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Yc(5e3,15e3),N6="__/auth/iframe",j6="emulator/auth/iframe",R6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xw(e,j6):`https://${t.config.authDomain}/${N6}`,r={apiKey:e.apiKey,appName:t.name,v:ol},i=M6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bc(r).slice(1)}`}async function $6(t){const e=await O6(t),n=Ur().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:D6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=kr(t,"network-request-failed"),s=Ur().setTimeout(()=>{o(a)},C6.get());function l(){Ur().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V6=500,F6=600,B6="_blank",U6="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z6(t,e,n,r=V6,i=F6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},L6),{width:r.toString(),height:i.toString(),top:o,left:a}),u=wn().toLowerCase();n&&(s=CC(u)?B6:n),kC(u)&&(e=e||U6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(E5(u)&&s!=="_self")return W6(e||"",s),new vE(null);const d=window.open(e||"",s,c);xe(d,t,"popup-blocked");try{d.focus()}catch{}return new vE(d)}function W6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="__/auth/handler",H6="emulator/auth/handler",q6=encodeURIComponent("fac");async function bE(t,e,n,r,i,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ol,eventId:i};if(e instanceof t_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",XL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))a[c]=d}if(e instanceof Xc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${q6}=${encodeURIComponent(l)}`:"";return`${K6(t)}?${Bc(s).slice(1)}${u}`}function K6({config:t}){return t.emulator?Xw(t,H6):`https://${t.authDomain}/${G6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="webStorageSupport";class Y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WC,this._completeRedirectFn=b6,this._overrideRedirectResult=g6}async _openPopup(e,n,r,i){var o;Ti((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await bE(e,n,r,Vv(),i);return z6(e,a,n_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await bE(e,n,r,Vv(),i);return J5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $6(e),r=new _6(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kg,{type:Kg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Kg];a!==void 0&&n(!!a),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DC()||OC()||Zw()}}const X6=Y6;var wE="@firebase/auth",_E="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z6(t){Es(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;xe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$C(t)},u=new O5(r,i,o,l);return D5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Es(new ca("auth-internal",e=>{const n=im(e.getProvider("auth").getImmediate());return(r=>new Q6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(wE,_E,J6(t)),co(wE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=5*60,tB=qO("authIdTokenMaxAge")||eB;let xE=null;const nB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tB)return;const i=n==null?void 0:n.token;xE!==i&&(xE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rB(t=QO()){const e=cw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M5(t,{popupRedirectResolver:X6,persistence:[s6,Y5,WC]}),r=qO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=nB(o.toString());G5(n,a,()=>a(n.currentUser)),W5(n,s=>a(s))}}const i=GO("auth");return i&&$5(n,`http://${i}`),n}function iB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",iB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z6("Browser");const oB={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},JC=XO(oB),He=KF(JC),Qf=rB(JC),ZC=new ti;ZC.setCustomParameters({prompt:"select_account"});const aB=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),sB=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]});function lB({teams:t=[],stats:e=[],onSubmit:n,isOnline:r=!0}){const[i,o]=M.useState({teamName:"",opponent:"",location:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[a,s]=M.useState(""),[l,u]=M.useState(!1),[c,d]=M.useState(!r),h=M.useMemo(()=>{const x=new Map;for(const I of t)I&&I.id&&!x.has(I.name.toLowerCase())&&x.set(I.name.toLowerCase(),I);return Array.from(x.values())},[t]),p=M.useMemo(()=>[...new Set(e.map(I=>I.opponent).filter(Boolean))],[e]),g=M.useMemo(()=>[...new Set(e.map(I=>I.location).filter(Boolean))].sort(),[e]);M.useEffect(()=>{r&&h.length>0&&!i.teamName&&!c&&o(x=>({...x,teamName:h[0].name}))},[h,i.teamName,r,c]),M.useEffect(()=>{r||d(!0)},[r]);const y=x=>{const I=x.target.value;o(O=>({...O,opponent:I}))},b=x=>{const I=x.target.value;o(O=>({...O,location:I}))},w=x=>{const I=x.target.value;o(O=>({...O,teamName:I}))},_=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}u(!0),navigator.geolocation.getCurrentPosition(async x=>{try{const{latitude:I,longitude:O}=x.coords,j=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${I}&longitude=${O}&localityLanguage=en`)).json(),N=j.locality||j.city||j.principalSubdivision||`${I.toFixed(4)}, ${O.toFixed(4)}`;o(U=>({...U,location:N})),u(!1)}catch(I){console.error("Error getting location name:",I),o(O=>({...O,location:`${x.coords.latitude.toFixed(4)}, ${x.coords.longitude.toFixed(4)}`})),u(!1)}},x=>{console.error("Error getting location:",x),alert(r?"Unable to get your location. Please enter manually.":"Unable to get your location while offline. Please enter manually."),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},S=p.some(x=>x.toLowerCase()===i.opponent.toLowerCase()),k=p.find(x=>i.opponent.length>=2&&x.toLowerCase().includes(i.opponent.toLowerCase())&&x.toLowerCase()!==i.opponent.toLowerCase()),T=g.filter(x=>i.location.length>=2&&x.toLowerCase().includes(i.location.toLowerCase())&&x.toLowerCase()!==i.location.toLowerCase()).slice(0,3),P=x=>{const{name:I,value:O}=x.target;o(C=>({...C,[I]:O}))},E=x=>{if(!i.teamName||!i.opponent){s("Please enter a team name and opponent name.");return}s("");const I=new Date(`${i.date}T${i.time}`).toISOString();typeof n=="function"?n({...i,timestamp:I},x):s("Internal error: Game submit not available.")};return m.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[!r&&m.jsx("div",{className:"mb-6 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:m.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[m.jsx("div",{className:"font-medium mb-1",children:" Offline Mode"}),m.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"You can create games offline, but live sharing requires an internet connection."})]})}),m.jsx("div",{className:"flex items-center justify-center mb-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",name:"date",value:i.date,onChange:P,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),m.jsx("input",{type:"time",name:"time",value:i.time,onChange:P,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),a&&m.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sahil's Team"}),r&&h.length>0&&m.jsx("button",{type:"button",onClick:()=>{d(!c),o(x=>({...x,teamName:""}))},className:"text-xs text-blue-500 hover:text-blue-600 underline",children:c?"Choose from list":"Enter manually"})]}),c||!r||h.length===0?m.jsx("input",{type:"text",placeholder:"Enter team name (e.g., Sahil's Team)",value:i.teamName,onChange:w,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}):m.jsxs("select",{name:"teamName",value:i.teamName,onChange:P,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[m.jsx("option",{value:"",disabled:!0,children:"Select Team"}),h.map(x=>m.jsx("option",{value:x.name,children:x.name},x.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),m.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:i.opponent,onChange:y,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r&&i.opponent&&m.jsx("div",{className:"mt-2 text-sm",children:S?m.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):k?m.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",m.jsx("button",{type:"button",onClick:()=>o(x=>({...x,opponent:k})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:k}),"?"]}):m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[m.jsx(aB,{className:"inline w-4 h-4 mr-1"}),"Location"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",name:"location",placeholder:"e.g., Oakland Rec Center, Home Court",value:i.location,onChange:b,className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),m.jsx("button",{type:"button",onClick:_,disabled:l,className:"px-3 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center",title:"Auto-detect location",children:l?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(sB,{className:"w-4 h-4"})})]}),r&&T.length>0&&m.jsxs("div",{className:"mt-2 text-sm",children:[m.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Previous locations:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:T.map(x=>m.jsx("button",{type:"button",onClick:()=>o(I=>({...I,location:x})),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:x},x))})]}),i.location&&!g.includes(i.location)&&m.jsx("div",{className:"mt-2 text-sm",children:m.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[m.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New location"]})})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[m.jsxs("button",{onClick:()=>E("live"),disabled:!r,className:`w-full font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg ${r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,title:r?"Start Live Game & Track Stats":"Live games require an internet connection",children:[!r&&m.jsx("span",{className:"mr-2",children:""}),"Start Live Game & Track Stats",!r&&m.jsx("span",{className:"ml-2 text-sm",children:"(Requires Internet)"})]}),m.jsxs("button",{onClick:()=>E("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:["Enter Final Stats Only",!r&&m.jsx("span",{className:"ml-2 text-sm",children:"(Works Offline)"})]})]})]})]})}function eN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eN(t))&&(r&&(r+=" "),r+=e);return r}var uB=Array.isArray,Vn=uB,cB=typeof Af=="object"&&Af&&Af.Object===Object&&Af,tN=cB,fB=tN,dB=typeof self=="object"&&self&&self.Object===Object&&self,hB=fB||dB||Function("return this")(),Yr=hB,pB=Yr,mB=pB.Symbol,Jc=mB,SE=Jc,nN=Object.prototype,gB=nN.hasOwnProperty,yB=nN.toString,Wl=SE?SE.toStringTag:void 0;function vB(t){var e=gB.call(t,Wl),n=t[Wl];try{t[Wl]=void 0;var r=!0}catch{}var i=yB.call(t);return r&&(e?t[Wl]=n:delete t[Wl]),i}var bB=vB,wB=Object.prototype,_B=wB.toString;function xB(t){return _B.call(t)}var SB=xB,EE=Jc,EB=bB,TB=SB,AB="[object Null]",PB="[object Undefined]",TE=EE?EE.toStringTag:void 0;function IB(t){return t==null?t===void 0?PB:AB:TE&&TE in Object(t)?EB(t):TB(t)}var Ci=IB;function kB(t){return t!=null&&typeof t=="object"}var Ni=kB,OB=Ci,CB=Ni,NB="[object Symbol]";function jB(t){return typeof t=="symbol"||CB(t)&&OB(t)==NB}var cl=jB,RB=Vn,MB=cl,DB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$B=/^\w*$/;function LB(t,e){if(RB(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||MB(t)?!0:$B.test(t)||!DB.test(t)||e!=null&&t in Object(e)}var i_=LB;function VB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var To=VB;const fl=it(To);var FB=Ci,BB=To,UB="[object AsyncFunction]",zB="[object Function]",WB="[object GeneratorFunction]",GB="[object Proxy]";function HB(t){if(!BB(t))return!1;var e=FB(t);return e==zB||e==WB||e==UB||e==GB}var o_=HB;const Ie=it(o_);var qB=Yr,KB=qB["__core-js_shared__"],YB=KB,Yg=YB,AE=function(){var t=/[^.]+$/.exec(Yg&&Yg.keys&&Yg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function XB(t){return!!AE&&AE in t}var QB=XB,JB=Function.prototype,ZB=JB.toString;function e9(t){if(t!=null){try{return ZB.call(t)}catch{}try{return t+""}catch{}}return""}var rN=e9,t9=o_,n9=QB,r9=To,i9=rN,o9=/[\\^$.*+?()[\]{}|]/g,a9=/^\[object .+?Constructor\]$/,s9=Function.prototype,l9=Object.prototype,u9=s9.toString,c9=l9.hasOwnProperty,f9=RegExp("^"+u9.call(c9).replace(o9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d9(t){if(!r9(t)||n9(t))return!1;var e=t9(t)?f9:a9;return e.test(i9(t))}var h9=d9;function p9(t,e){return t==null?void 0:t[e]}var m9=p9,g9=h9,y9=m9;function v9(t,e){var n=y9(t,e);return g9(n)?n:void 0}var Ea=v9,b9=Ea,w9=b9(Object,"create"),sm=w9,PE=sm;function _9(){this.__data__=PE?PE(null):{},this.size=0}var x9=_9;function S9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var E9=S9,T9=sm,A9="__lodash_hash_undefined__",P9=Object.prototype,I9=P9.hasOwnProperty;function k9(t){var e=this.__data__;if(T9){var n=e[t];return n===A9?void 0:n}return I9.call(e,t)?e[t]:void 0}var O9=k9,C9=sm,N9=Object.prototype,j9=N9.hasOwnProperty;function R9(t){var e=this.__data__;return C9?e[t]!==void 0:j9.call(e,t)}var M9=R9,D9=sm,$9="__lodash_hash_undefined__";function L9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=D9&&e===void 0?$9:e,this}var V9=L9,F9=x9,B9=E9,U9=O9,z9=M9,W9=V9;function dl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dl.prototype.clear=F9;dl.prototype.delete=B9;dl.prototype.get=U9;dl.prototype.has=z9;dl.prototype.set=W9;var G9=dl;function H9(){this.__data__=[],this.size=0}var q9=H9;function K9(t,e){return t===e||t!==t&&e!==e}var a_=K9,Y9=a_;function X9(t,e){for(var n=t.length;n--;)if(Y9(t[n][0],e))return n;return-1}var lm=X9,Q9=lm,J9=Array.prototype,Z9=J9.splice;function eU(t){var e=this.__data__,n=Q9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Z9.call(e,n,1),--this.size,!0}var tU=eU,nU=lm;function rU(t){var e=this.__data__,n=nU(e,t);return n<0?void 0:e[n][1]}var iU=rU,oU=lm;function aU(t){return oU(this.__data__,t)>-1}var sU=aU,lU=lm;function uU(t,e){var n=this.__data__,r=lU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cU=uU,fU=q9,dU=tU,hU=iU,pU=sU,mU=cU;function hl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hl.prototype.clear=fU;hl.prototype.delete=dU;hl.prototype.get=hU;hl.prototype.has=pU;hl.prototype.set=mU;var um=hl,gU=Ea,yU=Yr,vU=gU(yU,"Map"),s_=vU,IE=G9,bU=um,wU=s_;function _U(){this.size=0,this.__data__={hash:new IE,map:new(wU||bU),string:new IE}}var xU=_U;function SU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var EU=SU,TU=EU;function AU(t,e){var n=t.__data__;return TU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cm=AU,PU=cm;function IU(t){var e=PU(this,t).delete(t);return this.size-=e?1:0,e}var kU=IU,OU=cm;function CU(t){return OU(this,t).get(t)}var NU=CU,jU=cm;function RU(t){return jU(this,t).has(t)}var MU=RU,DU=cm;function $U(t,e){var n=DU(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LU=$U,VU=xU,FU=kU,BU=NU,UU=MU,zU=LU;function pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pl.prototype.clear=VU;pl.prototype.delete=FU;pl.prototype.get=BU;pl.prototype.has=UU;pl.prototype.set=zU;var l_=pl,iN=l_,WU="Expected a function";function u_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(WU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(u_.Cache||iN),n}u_.Cache=iN;var oN=u_;const GU=it(oN);var HU=oN,qU=500;function KU(t){var e=HU(t,function(r){return n.size===qU&&n.clear(),r}),n=e.cache;return e}var YU=KU,XU=YU,QU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JU=/\\(\\)?/g,ZU=XU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(QU,function(n,r,i,o){e.push(i?o.replace(JU,"$1"):r||n)}),e}),ez=ZU;function tz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var c_=tz,kE=Jc,nz=c_,rz=Vn,iz=cl,oz=1/0,OE=kE?kE.prototype:void 0,CE=OE?OE.toString:void 0;function aN(t){if(typeof t=="string")return t;if(rz(t))return nz(t,aN)+"";if(iz(t))return CE?CE.call(t):"";var e=t+"";return e=="0"&&1/t==-oz?"-0":e}var az=aN,sz=az;function lz(t){return t==null?"":sz(t)}var sN=lz,uz=Vn,cz=i_,fz=ez,dz=sN;function hz(t,e){return uz(t)?t:cz(t,e)?[t]:fz(dz(t))}var lN=hz,pz=cl,mz=1/0;function gz(t){if(typeof t=="string"||pz(t))return t;var e=t+"";return e=="0"&&1/t==-mz?"-0":e}var fm=gz,yz=lN,vz=fm;function bz(t,e){e=yz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[vz(e[n++])];return n&&n==r?t:void 0}var f_=bz,wz=f_;function _z(t,e,n){var r=t==null?void 0:wz(t,e);return r===void 0?n:r}var uN=_z;const lr=it(uN);function xz(t){return t==null}var Sz=xz;const ke=it(Sz);var Ez=Ci,Tz=Vn,Az=Ni,Pz="[object String]";function Iz(t){return typeof t=="string"||!Tz(t)&&Az(t)&&Ez(t)==Pz}var kz=Iz;const ma=it(kz);var cN={exports:{}},Qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_=Symbol.for("react.element"),h_=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),Oz=Symbol.for("react.server_context"),ym=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),Cz=Symbol.for("react.offscreen"),fN;fN=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d_:switch(t=t.type,t){case dm:case pm:case hm:case vm:case bm:return t;default:switch(t=t&&t.$$typeof,t){case Oz:case gm:case ym:case _m:case wm:case mm:return t;default:return e}}case h_:return e}}}Qe.ContextConsumer=gm;Qe.ContextProvider=mm;Qe.Element=d_;Qe.ForwardRef=ym;Qe.Fragment=dm;Qe.Lazy=_m;Qe.Memo=wm;Qe.Portal=h_;Qe.Profiler=pm;Qe.StrictMode=hm;Qe.Suspense=vm;Qe.SuspenseList=bm;Qe.isAsyncMode=function(){return!1};Qe.isConcurrentMode=function(){return!1};Qe.isContextConsumer=function(t){return hr(t)===gm};Qe.isContextProvider=function(t){return hr(t)===mm};Qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d_};Qe.isForwardRef=function(t){return hr(t)===ym};Qe.isFragment=function(t){return hr(t)===dm};Qe.isLazy=function(t){return hr(t)===_m};Qe.isMemo=function(t){return hr(t)===wm};Qe.isPortal=function(t){return hr(t)===h_};Qe.isProfiler=function(t){return hr(t)===pm};Qe.isStrictMode=function(t){return hr(t)===hm};Qe.isSuspense=function(t){return hr(t)===vm};Qe.isSuspenseList=function(t){return hr(t)===bm};Qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dm||t===pm||t===hm||t===vm||t===bm||t===Cz||typeof t=="object"&&t!==null&&(t.$$typeof===_m||t.$$typeof===wm||t.$$typeof===mm||t.$$typeof===gm||t.$$typeof===ym||t.$$typeof===fN||t.getModuleId!==void 0)};Qe.typeOf=hr;cN.exports=Qe;var Nz=cN.exports,jz=Ci,Rz=Ni,Mz="[object Number]";function Dz(t){return typeof t=="number"||Rz(t)&&jz(t)==Mz}var dN=Dz;const $z=it(dN);var Lz=dN;function Vz(t){return Lz(t)&&t!=+t}var Fz=Vz;const Zc=it(Fz);var Ar=function(e){return e===0?0:e>0?1:-1},Ko=function(e){return ma(e)&&e.indexOf("%")===e.length-1},oe=function(e){return $z(e)&&!Zc(e)},Bz=function(e){return ke(e)},Bt=function(e){return oe(e)||ma(e)},Uz=0,ef=function(e){var n=++Uz;return"".concat(e||"").concat(n)},ga=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!ma(e))return r;var o;if(Ko(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Zc(o)&&(o=r),i&&o>n&&(o=n),o},Ki=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},zz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function xh(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):lr(r,e))===n})}var Wz=function(e,n){return oe(e)&&oe(n)?e-n:ma(e)&&ma(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function hs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var Gz=["viewBox","children"],Hz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NE=["points","pathLength"],Xg={svg:Gz,polygon:NE,polyline:NE},p_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!fl(r))return null;var i={};return Object.keys(r).forEach(function(o){p_.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},qz=function(e,n,r){return function(i){return e(n,r,i),null}},Eh=function(e,n,r){if(!fl(e)||Uv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];p_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=qz(a,n,r))}),i},Kz=["children"],Yz=["children"];function jE(t,e){if(t==null)return{};var n=Xz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}var RE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ME=null,Qg=null,m_=function t(e){if(e===ME&&Array.isArray(Qg))return Qg;var n=[];return M.Children.forEach(e,function(r){ke(r)||(Nz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Qg=n,ME=e,n};function ur(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return hi(i)}):r=[hi(e)],m_(t).forEach(function(i){var o=lr(i,"type.displayName")||lr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wn(t,e){var n=ur(t,e);return n&&n[0]}var DE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},Qz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jz=function(e){return e&&e.type&&ma(e.type)&&Qz.indexOf(e.type)>=0},Zz=function(e){return e&&zv(e)==="object"&&"clipDot"in e},e8=function(e,n,r,i){var o,a=(o=Xg==null?void 0:Xg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ie(e)&&(i&&a.includes(n)||Hz.includes(n))||r&&p_.includes(n)},je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!fl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;e8((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Wv=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $E(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!$E(o,a))return!1}return!0},$E=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=jE(r,Kz),a=n.props||{},s=a.children,l=jE(a,Yz);return i&&s?hs(o,l)&&Wv(i,s):!i&&!s?hs(o,l):!1}return!1},LE=function(e,n){var r=[],i={};return m_(e).forEach(function(o,a){if(Jz(o))r.push(o);else if(o){var s=hi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},t8=function(e){var n=e&&e.type;return n&&RE[n]?RE[n]:null},n8=function(e,n){return m_(n).indexOf(e)},r8=["children","width","height","viewBox","className","style","title","desc"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}function i8(t,e){if(t==null)return{};var n=o8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=i8(t,r8),c=i||{width:n,height:r,x:0,y:0},d=Ve("recharts-surface",o);return $.createElement("svg",Gv({},je(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var a8=["children","className"];function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function s8(t,e){if(t==null)return{};var n=l8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=s8(t,a8),o=Ve("recharts-layer",r);return $.createElement("g",qv({className:o},je(i,!0),{ref:e}),n)}),pi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function u8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var c8=u8,f8=c8;function d8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:f8(t,e,n)}var h8=d8,p8="\\ud800-\\udfff",m8="\\u0300-\\u036f",g8="\\ufe20-\\ufe2f",y8="\\u20d0-\\u20ff",v8=m8+g8+y8,b8="\\ufe0e\\ufe0f",w8="\\u200d",_8=RegExp("["+w8+p8+v8+b8+"]");function x8(t){return _8.test(t)}var hN=x8;function S8(t){return t.split("")}var E8=S8,pN="\\ud800-\\udfff",T8="\\u0300-\\u036f",A8="\\ufe20-\\ufe2f",P8="\\u20d0-\\u20ff",I8=T8+A8+P8,k8="\\ufe0e\\ufe0f",O8="["+pN+"]",Kv="["+I8+"]",Yv="\\ud83c[\\udffb-\\udfff]",C8="(?:"+Kv+"|"+Yv+")",mN="[^"+pN+"]",gN="(?:\\ud83c[\\udde6-\\uddff]){2}",yN="[\\ud800-\\udbff][\\udc00-\\udfff]",N8="\\u200d",vN=C8+"?",bN="["+k8+"]?",j8="(?:"+N8+"(?:"+[mN,gN,yN].join("|")+")"+bN+vN+")*",R8=bN+vN+j8,M8="(?:"+[mN+Kv+"?",Kv,gN,yN,O8].join("|")+")",D8=RegExp(Yv+"(?="+Yv+")|"+M8+R8,"g");function $8(t){return t.match(D8)||[]}var L8=$8,V8=E8,F8=hN,B8=L8;function U8(t){return F8(t)?B8(t):V8(t)}var z8=U8,W8=h8,G8=hN,H8=z8,q8=sN;function K8(t){return function(e){e=q8(e);var n=G8(e)?H8(e):void 0,r=n?n[0]:e.charAt(0),i=n?W8(n,1).join(""):e.slice(1);return r[t]()+i}}var Y8=K8,X8=Y8,Q8=X8("toUpperCase"),J8=Q8;const xm=it(J8);function at(t){return function(){return t}}const wN=Math.cos,Th=Math.sin,Cr=Math.sqrt,Ah=Math.PI,Sm=2*Ah,Xv=Math.PI,Qv=2*Xv,Fo=1e-6,Z8=Qv-Fo;function _N(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function e7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _N;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class t7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_N:e7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fo)if(!(Math.abs(d*l-u*c)>Fo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,y=l*l+u*u,b=p*p+g*g,w=Math.sqrt(y),_=Math.sqrt(h),S=o*Math.tan((Xv-Math.acos((y+h-b)/(2*w*_)))/2),k=S/_,T=S/w;Math.abs(k-1)>Fo&&this._append`L${e+k*c},${n+k*d}`,this._append`A${o},${o},0,0,${+(d*p>c*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-c)>Fo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Qv+Qv),h>Z8?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Fo&&this._append`A${r},${r},0,${+(h>=Xv)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function g_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new t7(e)}function y_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xN(t){this._context=t}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Em(t){return new xN(t)}function SN(t){return t[0]}function EN(t){return t[1]}function TN(t,e){var n=at(!0),r=null,i=Em,o=null,a=g_(s);t=typeof t=="function"?t:t===void 0?SN:at(t),e=typeof e=="function"?e:e===void 0?EN:at(e);function s(l){var u,c=(l=y_(l)).length,d,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:at(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Jf(t,e,n){var r=null,i=at(!0),o=null,a=Em,s=null,l=g_(u);t=typeof t=="function"?t:t===void 0?SN:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?EN:at(+n);function u(d){var h,p,g,y=(d=y_(d)).length,b,w=!1,_,S=new Array(y),k=new Array(y);for(o==null&&(s=a(_=l())),h=0;h<=y;++h){if(!(h<y&&i(b=d[h],h,d))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(S[g],k[g]);s.lineEnd(),s.areaEnd()}w&&(S[h]=+t(b,h,d),k[h]=+e(b,h,d),s.point(r?+r(b,h,d):S[h],n?+n(b,h,d):k[h]))}if(_)return s=null,_+""||null}function c(){return TN().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:at(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:at(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:at(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class AN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function n7(t){return new AN(t,!0)}function r7(t){return new AN(t,!1)}const v_={draw(t,e){const n=Cr(e/Ah);t.moveTo(n,0),t.arc(0,0,n,0,Sm)}},i7={draw(t,e){const n=Cr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PN=Cr(1/3),o7=PN*2,a7={draw(t,e){const n=Cr(e/o7),r=n*PN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},s7={draw(t,e){const n=Cr(e),r=-n/2;t.rect(r,r,n,n)}},l7=.8908130915292852,IN=Th(Ah/10)/Th(7*Ah/10),u7=Th(Sm/10)*IN,c7=-wN(Sm/10)*IN,f7={draw(t,e){const n=Cr(e*l7),r=u7*n,i=c7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Sm*o/5,s=wN(a),l=Th(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Jg=Cr(3),d7={draw(t,e){const n=-Cr(e/(Jg*3));t.moveTo(0,n*2),t.lineTo(-Jg*n,-n),t.lineTo(Jg*n,-n),t.closePath()}},Zn=-.5,er=Cr(3)/2,Jv=1/Cr(12),h7=(Jv/2+1)*3,p7={draw(t,e){const n=Cr(e/h7),r=n/2,i=n*Jv,o=r,a=n*Jv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*o-er*a,er*o+Zn*a),t.lineTo(Zn*s-er*l,er*s+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*o+er*a,Zn*a-er*o),t.lineTo(Zn*s+er*l,Zn*l-er*s),t.closePath()}};function m7(t,e){let n=null,r=g_(i);t=typeof t=="function"?t:at(t||v_),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:at(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:at(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ph(){}function Ih(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kN(t){this._context=t}kN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ih(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g7(t){return new kN(t)}function ON(t){this._context=t}ON.prototype={areaStart:Ph,areaEnd:Ph,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y7(t){return new ON(t)}function CN(t){this._context=t}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v7(t){return new CN(t)}function NN(t){this._context=t}NN.prototype={areaStart:Ph,areaEnd:Ph,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b7(t){return new NN(t)}function VE(t){return t<0?-1:1}function FE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(VE(o)+VE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function BE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function kh(t){this._context=t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zg(this,this._t0,BE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zg(this,BE(this,n=FE(this,t,e)),n);break;default:Zg(this,this._t0,n=FE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jN(t){this._context=new RN(t)}(jN.prototype=Object.create(kh.prototype)).point=function(t,e){kh.prototype.point.call(this,e,t)};function RN(t){this._context=t}RN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function w7(t){return new kh(t)}function _7(t){return new jN(t)}function MN(t){this._context=t}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UE(t),i=UE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function x7(t){return new MN(t)}function Tm(t,e){this._context=t,this._t=e}Tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function S7(t){return new Tm(t,.5)}function E7(t){return new Tm(t,0)}function T7(t){return new Tm(t,1)}function js(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function A7(t,e){return t[e]}function P7(t){const e=[];return e.key=t,e}function I7(){var t=at([]),e=Zv,n=js,r=A7;function i(o){var a=Array.from(t.apply(this,arguments),P7),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=y_(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:at(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:at(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Zv:typeof o=="function"?o:at(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??js,i):n},i}function k7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}js(t,e)}}function O7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}js(t,e)}}function C7(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],b=y[r][1]||0,w=y[r-1][1]||0;p+=b-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,js(t,e)}}function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}var N7=["type","size","sizeType"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){j7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j7(t,e,n){return e=R7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R7(t){var e=M7(t,"string");return ec(e)=="symbol"?e:e+""}function M7(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D7(t,e){if(t==null)return{};var n=$7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DN={symbolCircle:v_,symbolCross:i7,symbolDiamond:a7,symbolSquare:s7,symbolStar:f7,symbolTriangle:d7,symbolWye:p7},L7=Math.PI/180,V7=function(e){var n="symbol".concat(xm(e));return DN[n]||v_},F7=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*L7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},B7=function(e,n){DN["symbol".concat(xm(e))]=n},b_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=D7(e,N7),u=WE(WE({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=V7(r),w=m7().type(b).size(F7(o,s,r));return w()},d=u.className,h=u.cx,p=u.cy,g=je(u,!0);return h===+h&&p===+p&&o===+o?$.createElement("path",e0({},g,{className:Ve("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};b_.registerSymbol=B7;function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t0.apply(this,arguments)}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LN(r.key),r)}}function W7(t,e,n){return e&&HE(t.prototype,e),n&&HE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G7(t,e,n){return e=Oh(e),H7(t,$N()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function H7(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q7(t)}function q7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($N=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function K7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n0(t,e)}function n0(t,e){return n0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n0(t,e)}function tc(t,e,n){return e=LN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LN(t){var e=Y7(t,"string");return Rs(e)=="symbol"?e:e+""}function Y7(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=32,w_=function(t){function e(){return z7(this,e),G7(this,e,arguments)}return K7(e,t),W7(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=tr/2,a=tr/6,s=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:tr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(tr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=U7({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(b_,{fill:l,cx:o,cy:o,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:tr,height:tr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var y=p.formatter||l,b=Ve(tc(tc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Ie(p.value)?null:p.value;pi(!Ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return $.createElement("li",t0({className:b,style:d,key:"legend-item-".concat(g)},Eh(r.props,p,g)),$.createElement(Hv,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(w,p,g):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);tc(w_,"displayName","Legend");tc(w_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var X7=um;function Q7(){this.__data__=new X7,this.size=0}var J7=Q7;function Z7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var eW=Z7;function tW(t){return this.__data__.get(t)}var nW=tW;function rW(t){return this.__data__.has(t)}var iW=rW,oW=um,aW=s_,sW=l_,lW=200;function uW(t,e){var n=this.__data__;if(n instanceof oW){var r=n.__data__;if(!aW||r.length<lW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sW(r)}return n.set(t,e),this.size=n.size,this}var cW=uW,fW=um,dW=J7,hW=eW,pW=nW,mW=iW,gW=cW;function ml(t){var e=this.__data__=new fW(t);this.size=e.size}ml.prototype.clear=dW;ml.prototype.delete=hW;ml.prototype.get=pW;ml.prototype.has=mW;ml.prototype.set=gW;var VN=ml,yW="__lodash_hash_undefined__";function vW(t){return this.__data__.set(t,yW),this}var bW=vW;function wW(t){return this.__data__.has(t)}var _W=wW,xW=l_,SW=bW,EW=_W;function Ch(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xW;++e<n;)this.add(t[e])}Ch.prototype.add=Ch.prototype.push=SW;Ch.prototype.has=EW;var FN=Ch;function TW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var BN=TW;function AW(t,e){return t.has(e)}var UN=AW,PW=FN,IW=BN,kW=UN,OW=1,CW=2;function NW(t,e,n,r,i,o){var a=n&OW,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=n&CW?new PW:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var b=a?r(y,g,d,e,t,o):r(g,y,d,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!IW(e,function(w,_){if(!kW(p,_)&&(g===w||i(g,w,n,r,o)))return p.push(_)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var zN=NW,jW=Yr,RW=jW.Uint8Array,MW=RW;function DW(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $W=DW;function LW(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var __=LW,qE=Jc,KE=MW,VW=a_,FW=zN,BW=$W,UW=__,zW=1,WW=2,GW="[object Boolean]",HW="[object Date]",qW="[object Error]",KW="[object Map]",YW="[object Number]",XW="[object RegExp]",QW="[object Set]",JW="[object String]",ZW="[object Symbol]",eG="[object ArrayBuffer]",tG="[object DataView]",YE=qE?qE.prototype:void 0,ey=YE?YE.valueOf:void 0;function nG(t,e,n,r,i,o,a){switch(n){case tG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eG:return!(t.byteLength!=e.byteLength||!o(new KE(t),new KE(e)));case GW:case HW:case YW:return VW(+t,+e);case qW:return t.name==e.name&&t.message==e.message;case XW:case JW:return t==e+"";case KW:var s=BW;case QW:var l=r&zW;if(s||(s=UW),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=WW,a.set(t,e);var c=FW(s(t),s(e),r,i,o,a);return a.delete(t),c;case ZW:if(ey)return ey.call(t)==ey.call(e)}return!1}var rG=nG;function iG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var WN=iG,oG=WN,aG=Vn;function sG(t,e,n){var r=e(t);return aG(t)?r:oG(r,n(t))}var lG=sG;function uG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var cG=uG;function fG(){return[]}var dG=fG,hG=cG,pG=dG,mG=Object.prototype,gG=mG.propertyIsEnumerable,XE=Object.getOwnPropertySymbols,yG=XE?function(t){return t==null?[]:(t=Object(t),hG(XE(t),function(e){return gG.call(t,e)}))}:pG,vG=yG;function bG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wG=bG,_G=Ci,xG=Ni,SG="[object Arguments]";function EG(t){return xG(t)&&_G(t)==SG}var TG=EG,QE=TG,AG=Ni,GN=Object.prototype,PG=GN.hasOwnProperty,IG=GN.propertyIsEnumerable,kG=QE(function(){return arguments}())?QE:function(t){return AG(t)&&PG.call(t,"callee")&&!IG.call(t,"callee")},x_=kG,Nh={exports:{}};function OG(){return!1}var CG=OG;Nh.exports;(function(t,e){var n=Yr,r=CG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Nh,Nh.exports);var HN=Nh.exports,NG=9007199254740991,jG=/^(?:0|[1-9]\d*)$/;function RG(t,e){var n=typeof t;return e=e??NG,!!e&&(n=="number"||n!="symbol"&&jG.test(t))&&t>-1&&t%1==0&&t<e}var S_=RG,MG=9007199254740991;function DG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MG}var E_=DG,$G=Ci,LG=E_,VG=Ni,FG="[object Arguments]",BG="[object Array]",UG="[object Boolean]",zG="[object Date]",WG="[object Error]",GG="[object Function]",HG="[object Map]",qG="[object Number]",KG="[object Object]",YG="[object RegExp]",XG="[object Set]",QG="[object String]",JG="[object WeakMap]",ZG="[object ArrayBuffer]",eH="[object DataView]",tH="[object Float32Array]",nH="[object Float64Array]",rH="[object Int8Array]",iH="[object Int16Array]",oH="[object Int32Array]",aH="[object Uint8Array]",sH="[object Uint8ClampedArray]",lH="[object Uint16Array]",uH="[object Uint32Array]",ct={};ct[tH]=ct[nH]=ct[rH]=ct[iH]=ct[oH]=ct[aH]=ct[sH]=ct[lH]=ct[uH]=!0;ct[FG]=ct[BG]=ct[ZG]=ct[UG]=ct[eH]=ct[zG]=ct[WG]=ct[GG]=ct[HG]=ct[qG]=ct[KG]=ct[YG]=ct[XG]=ct[QG]=ct[JG]=!1;function cH(t){return VG(t)&&LG(t.length)&&!!ct[$G(t)]}var fH=cH;function dH(t){return function(e){return t(e)}}var qN=dH,jh={exports:{}};jh.exports;(function(t,e){var n=tN,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(jh,jh.exports);var hH=jh.exports,pH=fH,mH=qN,JE=hH,ZE=JE&&JE.isTypedArray,gH=ZE?mH(ZE):pH,KN=gH,yH=wG,vH=x_,bH=Vn,wH=HN,_H=S_,xH=KN,SH=Object.prototype,EH=SH.hasOwnProperty;function TH(t,e){var n=bH(t),r=!n&&vH(t),i=!n&&!r&&wH(t),o=!n&&!r&&!i&&xH(t),a=n||r||i||o,s=a?yH(t.length,String):[],l=s.length;for(var u in t)(e||EH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_H(u,l)))&&s.push(u);return s}var AH=TH,PH=Object.prototype;function IH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||PH;return t===n}var kH=IH;function OH(t,e){return function(n){return t(e(n))}}var YN=OH,CH=YN,NH=CH(Object.keys,Object),jH=NH,RH=kH,MH=jH,DH=Object.prototype,$H=DH.hasOwnProperty;function LH(t){if(!RH(t))return MH(t);var e=[];for(var n in Object(t))$H.call(t,n)&&n!="constructor"&&e.push(n);return e}var VH=LH,FH=o_,BH=E_;function UH(t){return t!=null&&BH(t.length)&&!FH(t)}var tf=UH,zH=AH,WH=VH,GH=tf;function HH(t){return GH(t)?zH(t):WH(t)}var Am=HH,qH=lG,KH=vG,YH=Am;function XH(t){return qH(t,YH,KH)}var QH=XH,eT=QH,JH=1,ZH=Object.prototype,eq=ZH.hasOwnProperty;function tq(t,e,n,r,i,o){var a=n&JH,s=eT(t),l=s.length,u=eT(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:eq.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){h=s[d];var w=t[h],_=e[h];if(r)var S=a?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(S===void 0?w===_||i(w,_,n,r,o):S)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(y=!1)}return o.delete(t),o.delete(e),y}var nq=tq,rq=Ea,iq=Yr,oq=rq(iq,"DataView"),aq=oq,sq=Ea,lq=Yr,uq=sq(lq,"Promise"),cq=uq,fq=Ea,dq=Yr,hq=fq(dq,"Set"),XN=hq,pq=Ea,mq=Yr,gq=pq(mq,"WeakMap"),yq=gq,r0=aq,i0=s_,o0=cq,a0=XN,s0=yq,QN=Ci,gl=rN,tT="[object Map]",vq="[object Object]",nT="[object Promise]",rT="[object Set]",iT="[object WeakMap]",oT="[object DataView]",bq=gl(r0),wq=gl(i0),_q=gl(o0),xq=gl(a0),Sq=gl(s0),Bo=QN;(r0&&Bo(new r0(new ArrayBuffer(1)))!=oT||i0&&Bo(new i0)!=tT||o0&&Bo(o0.resolve())!=nT||a0&&Bo(new a0)!=rT||s0&&Bo(new s0)!=iT)&&(Bo=function(t){var e=QN(t),n=e==vq?t.constructor:void 0,r=n?gl(n):"";if(r)switch(r){case bq:return oT;case wq:return tT;case _q:return nT;case xq:return rT;case Sq:return iT}return e});var Eq=Bo,ty=VN,Tq=zN,Aq=rG,Pq=nq,aT=Eq,sT=Vn,lT=HN,Iq=KN,kq=1,uT="[object Arguments]",cT="[object Array]",Zf="[object Object]",Oq=Object.prototype,fT=Oq.hasOwnProperty;function Cq(t,e,n,r,i,o){var a=sT(t),s=sT(e),l=a?cT:aT(t),u=s?cT:aT(e);l=l==uT?Zf:l,u=u==uT?Zf:u;var c=l==Zf,d=u==Zf,h=l==u;if(h&&lT(t)){if(!lT(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ty),a||Iq(t)?Tq(t,e,n,r,i,o):Aq(t,e,l,n,r,i,o);if(!(n&kq)){var p=c&&fT.call(t,"__wrapped__"),g=d&&fT.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return o||(o=new ty),i(y,b,n,r,o)}}return h?(o||(o=new ty),Pq(t,e,n,r,i,o)):!1}var Nq=Cq,jq=Nq,dT=Ni;function JN(t,e,n,r,i){return t===e?!0:t==null||e==null||!dT(t)&&!dT(e)?t!==t&&e!==e:jq(t,e,n,r,JN,i)}var T_=JN,Rq=VN,Mq=T_,Dq=1,$q=2;function Lq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Rq;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?Mq(c,u,Dq|$q,r,d):h))return!1}}return!0}var Vq=Lq,Fq=To;function Bq(t){return t===t&&!Fq(t)}var ZN=Bq,Uq=ZN,zq=Am;function Wq(t){for(var e=zq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Uq(i)]}return e}var Gq=Wq;function Hq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var ej=Hq,qq=Vq,Kq=Gq,Yq=ej;function Xq(t){var e=Kq(t);return e.length==1&&e[0][2]?Yq(e[0][0],e[0][1]):function(n){return n===t||qq(n,t,e)}}var Qq=Xq;function Jq(t,e){return t!=null&&e in Object(t)}var Zq=Jq,eK=lN,tK=x_,nK=Vn,rK=S_,iK=E_,oK=fm;function aK(t,e,n){e=eK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=oK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&iK(i)&&rK(a,i)&&(nK(t)||tK(t)))}var sK=aK,lK=Zq,uK=sK;function cK(t,e){return t!=null&&uK(t,e,lK)}var fK=cK,dK=T_,hK=uN,pK=fK,mK=i_,gK=ZN,yK=ej,vK=fm,bK=1,wK=2;function _K(t,e){return mK(t)&&gK(e)?yK(vK(t),e):function(n){var r=hK(n,t);return r===void 0&&r===e?pK(n,t):dK(e,r,bK|wK)}}var xK=_K;function SK(t){return t}var yl=SK;function EK(t){return function(e){return e==null?void 0:e[t]}}var TK=EK,AK=f_;function PK(t){return function(e){return AK(e,t)}}var IK=PK,kK=TK,OK=IK,CK=i_,NK=fm;function jK(t){return CK(t)?kK(NK(t)):OK(t)}var RK=jK,MK=Qq,DK=xK,$K=yl,LK=Vn,VK=RK;function FK(t){return typeof t=="function"?t:t==null?$K:typeof t=="object"?LK(t)?DK(t[0],t[1]):MK(t):VK(t)}var Ao=FK;function BK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var tj=BK;function UK(t){return t!==t}var zK=UK;function WK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var GK=WK,HK=tj,qK=zK,KK=GK;function YK(t,e,n){return e===e?KK(t,e,n):HK(t,qK,n)}var XK=YK,QK=XK;function JK(t,e){var n=t==null?0:t.length;return!!n&&QK(t,e,0)>-1}var ZK=JK;function eY(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tY=eY;function nY(){}var rY=nY,ny=XN,iY=rY,oY=__,aY=1/0,sY=ny&&1/oY(new ny([,-0]))[1]==aY?function(t){return new ny(t)}:iY,lY=sY,uY=FN,cY=ZK,fY=tY,dY=UN,hY=lY,pY=__,mY=200;function gY(t,e,n){var r=-1,i=cY,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=fY;else if(o>=mY){var u=e?null:hY(t);if(u)return pY(u);a=!1,i=dY,l=new uY}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var yY=gY,vY=Ao,bY=yY;function wY(t,e){return t&&t.length?bY(t,vY(e)):[]}var _Y=wY;const hT=it(_Y);function nj(t,e,n){return e===!0?hT(t,n):Ie(e)?hT(t,e):t}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var xY=["ref"];function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){Pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ij(r.key),r)}}function EY(t,e,n){return e&&mT(t.prototype,e),n&&mT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TY(t,e,n){return e=Rh(e),AY(t,rj()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function AY(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PY(t)}function PY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rj=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(t)}function IY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l0(t,e)}function Pm(t,e,n){return e=ij(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ij(t){var e=kY(t,"string");return Ms(e)=="symbol"?e:e+""}function kY(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OY(t,e){if(t==null)return{};var n=CY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NY(t){return t.value}function jY(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=OY(e,xY);return $.createElement(w_,n)}var gT=1,na=function(t){function e(){var n;SY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=TY(this,e,[].concat(i)),Pm(n,"lastBoundingBox",{width:-1,height:-1}),n}return IY(e,t),EY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gT||Math.abs(i.height-this.lastBoundingBox.height)>gT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Jr(Jr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Jr(Jr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},jY(o,Jr(Jr({},this.props),{},{payload:nj(c,u,NY)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Jr(Jr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&oe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);Pm(na,"displayName","Legend");Pm(na,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yT=Jc,RY=x_,MY=Vn,vT=yT?yT.isConcatSpreadable:void 0;function DY(t){return MY(t)||RY(t)||!!(vT&&t&&t[vT])}var $Y=DY,LY=WN,VY=$Y;function oj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=VY),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?oj(s,e-1,n,r,i):LY(i,s):r||(i[i.length]=s)}return i}var aj=oj;function FY(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var BY=FY,UY=BY,zY=UY(),WY=zY,GY=WY,HY=Am;function qY(t,e){return t&&GY(t,e,HY)}var sj=qY,KY=tf;function YY(t,e){return function(n,r){if(n==null)return n;if(!KY(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var XY=YY,QY=sj,JY=XY,ZY=JY(QY),A_=ZY,eX=A_,tX=tf;function nX(t,e){var n=-1,r=tX(t)?Array(t.length):[];return eX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var lj=nX;function rX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var iX=rX,bT=cl;function oX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=bT(t),a=e!==void 0,s=e===null,l=e===e,u=bT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var aX=oX,sX=aX;function lX(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=sX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var uX=lX,ry=c_,cX=f_,fX=Ao,dX=lj,hX=iX,pX=qN,mX=uX,gX=yl,yX=Vn;function vX(t,e,n){e.length?e=ry(e,function(o){return yX(o)?function(a){return cX(a,o.length===1?o[0]:o)}:o}):e=[gX];var r=-1;e=ry(e,pX(fX));var i=dX(t,function(o,a,s){var l=ry(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return hX(i,function(o,a){return mX(o,a,n)})}var bX=vX;function wX(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _X=wX,xX=_X,wT=Math.max;function SX(t,e,n){return e=wT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),xX(t,this,s)}}var EX=SX;function TX(t){return function(){return t}}var AX=TX,PX=Ea,IX=function(){try{var t=PX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uj=IX,kX=AX,_T=uj,OX=yl,CX=_T?function(t,e){return _T(t,"toString",{configurable:!0,enumerable:!1,value:kX(e),writable:!0})}:OX,NX=CX,jX=800,RX=16,MX=Date.now;function DX(t){var e=0,n=0;return function(){var r=MX(),i=RX-(r-n);if(n=r,i>0){if(++e>=jX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $X=DX,LX=NX,VX=$X,FX=VX(LX),BX=FX,UX=yl,zX=EX,WX=BX;function GX(t,e){return WX(zX(t,e,UX),t+"")}var HX=GX,qX=a_,KX=tf,YX=S_,XX=To;function QX(t,e,n){if(!XX(n))return!1;var r=typeof e;return(r=="number"?KX(n)&&YX(e,n.length):r=="string"&&e in n)?qX(n[e],t):!1}var Im=QX,JX=aj,ZX=bX,eQ=HX,xT=Im,tQ=eQ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xT(t,e[0],e[1])?e=[]:n>2&&xT(e[0],e[1],e[2])&&(e=[e[0]]),ZX(t,JX(e,1),[])}),nQ=tQ;const P_=it(nQ);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function rQ(t,e){return sQ(t)||aQ(t,e)||oQ(t,e)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sQ(t){if(Array.isArray(t))return t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){lQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQ(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=cQ(t,"string");return nc(e)=="symbol"?e:e+""}function cQ(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fQ(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var dQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,S=function(){if(c&&c.length){var j={padding:0,margin:0},N=(h?P_(c,h):c).map(function(U,W){if(U.type==="none")return null;var B=iy({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),Y=U.formatter||d||fQ,L=U.value,G=U.name,K=L,te=G;if(Y&&K!=null&&te!=null){var V=Y(L,G,U,W,c);if(Array.isArray(V)){var q=rQ(V,2);K=q[0],te=q[1]}else K=V}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:B},Bt(te)?$.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Bt(te)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},K),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},k=iy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=iy({margin:0},u),P=!ke(y),E=P?y:"",x=Ve("recharts-default-tooltip",p),I=Ve("recharts-tooltip-label",g);P&&b&&c!==void 0&&c!==null&&(E=b(y,c));var O=_?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",u0({className:x,style:k},O),$.createElement("p",{className:I,style:T},$.isValidElement(E)?E:"".concat(E)),S())};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function ed(t,e,n){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=pQ(t,"string");return rc(e)=="symbol"?e:e+""}function pQ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gl="recharts-tooltip-wrapper",mQ={visibility:"hidden"};function gQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ve(Gl,ed(ed(ed(ed({},"".concat(Gl,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(Gl,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(Gl,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(Gl,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function TT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&oe(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,p=l[r];return h<p?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(d,l[r])}function yQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=TT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=TT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=yQ({translateX:c,translateY:d,useTranslate3d:s})):u=mQ,{cssProperties:u,cssClasses:gQ({translateX:c,translateY:d,coordinate:n})}}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){f0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fj(r.key),r)}}function wQ(t,e,n){return e&&IT(t.prototype,e),n&&IT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t,e,n){return e=Mh(e),xQ(t,cj()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function xQ(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(t)}function SQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cj=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function EQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c0(t,e)}function f0(t,e,n){return e=fj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fj(t){var e=TQ(t,"string");return Ds(e)=="symbol"?e:e+""}function TQ(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kT=1,AQ=function(t){function e(){var n;bQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_Q(this,e,[].concat(i)),f0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return EQ(e,t),wQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>kT||Math.abs(r.height-this.state.lastBoundingBox.height)>kT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,S=vQ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),k=S.cssClasses,T=S.cssProperties,P=PT(PT({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return $.createElement("div",{tabIndex:-1,className:k,style:P,ref:function(x){r.wrapperNode=x}},u)}}])}(M.PureComponent),PQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mi={isSsr:PQ(),get:function(e){return mi[e]},set:function(e,n){if(typeof e=="string")mi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){mi[i]=e[i]})}}};function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function kQ(t,e,n){return e&&NT(t.prototype,e),n&&NT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OQ(t,e,n){return e=Dh(e),CQ(t,dj()?Reflect.construct(e,n||[],Dh(t).constructor):e.apply(t,n))}function CQ(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQ(t)}function NQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dj=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dh(t)}function jQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d0(t,e)}function I_(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=RQ(t,"string");return $s(e)=="symbol"?e:e+""}function RQ(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MQ(t){return t.dataKey}function DQ(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(dQ,e)}var Mr=function(t){function e(){return IQ(this,e),OQ(this,e,arguments)}return jQ(e,t),kQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,w=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,T=g??[];d&&T.length&&(T=nj(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),y,MQ));var P=T.length>0;return $.createElement(AQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:p,position:b,reverseDirection:w,useTranslate3d:_,viewBox:S,wrapperStyle:k},DQ(u,CT(CT({},this.props),{},{payload:T})))}}])}(M.PureComponent);I_(Mr,"displayName","Tooltip");I_(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $Q=Yr,LQ=function(){return $Q.Date.now()},VQ=LQ,FQ=/\s/;function BQ(t){for(var e=t.length;e--&&FQ.test(t.charAt(e)););return e}var UQ=BQ,zQ=UQ,WQ=/^\s+/;function GQ(t){return t&&t.slice(0,zQ(t)+1).replace(WQ,"")}var HQ=GQ,qQ=HQ,jT=To,KQ=cl,RT=0/0,YQ=/^[-+]0x[0-9a-f]+$/i,XQ=/^0b[01]+$/i,QQ=/^0o[0-7]+$/i,JQ=parseInt;function ZQ(t){if(typeof t=="number")return t;if(KQ(t))return RT;if(jT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qQ(t);var n=XQ.test(t);return n||QQ.test(t)?JQ(t.slice(2),n?2:8):YQ.test(t)?RT:+t}var pj=ZQ,eJ=To,oy=VQ,MT=pj,tJ="Expected a function",nJ=Math.max,rJ=Math.min;function iJ(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(tJ);e=MT(e)||0,eJ(n)&&(c=!!n.leading,d="maxWait"in n,o=d?nJ(MT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var E=r,x=i;return r=i=void 0,u=P,a=t.apply(x,E),a}function g(P){return u=P,s=setTimeout(w,e),c?p(P):a}function y(P){var E=P-l,x=P-u,I=e-E;return d?rJ(I,o-x):I}function b(P){var E=P-l,x=P-u;return l===void 0||E>=e||E<0||d&&x>=o}function w(){var P=oy();if(b(P))return _(P);s=setTimeout(w,y(P))}function _(P){return s=void 0,h&&r?p(P):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?a:_(oy())}function T(){var P=oy(),E=b(P);if(r=arguments,i=this,l=P,E){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),a}return T.cancel=S,T.flush=k,T}var oJ=iJ,aJ=oJ,sJ=To,lJ="Expected a function";function uJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lJ);return sJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),aJ(t,e,{leading:r,maxWait:e,trailing:i})}var cJ=uJ;const mj=it(cJ);function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=hJ(t,"string");return ic(e)=="symbol"?e:e+""}function hJ(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJ(t,e){return vJ(t)||yJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vJ(t){if(Array.isArray(t))return t}var bJ=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,w=t.className,_=t.onResize,S=t.style,k=S===void 0?{}:S,T=M.useRef(null),P=M.useRef();P.current=_,M.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=M.useState({containerWidth:i.width,containerHeight:i.height}),x=pJ(E,2),I=x[0],O=x[1],C=M.useCallback(function(N,U){O(function(W){var B=Math.round(N),Y=Math.round(U);return W.containerWidth===B&&W.containerHeight===Y?W:{containerWidth:B,containerHeight:Y}})},[]);M.useEffect(function(){var N=function(G){var K,te=G[0].contentRect,V=te.width,q=te.height;C(V,q),(K=P.current)===null||K===void 0||K.call(P,V,q)};y>0&&(N=mj(N,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),W=T.current.getBoundingClientRect(),B=W.width,Y=W.height;return C(B,Y),U.observe(T.current),function(){U.disconnect()}},[C,y]);var j=M.useMemo(function(){var N=I.containerWidth,U=I.containerHeight;if(N<0||U<0)return null;pi(Ko(a)||Ko(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),pi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Ko(a)?N:a,B=Ko(l)?U:l;n&&n>0&&(W?B=W/n:B&&(W=B*n),h&&B>h&&(B=h)),pi(W>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,B,a,l,c,d,n);var Y=!Array.isArray(p)&&hi(p.type).endsWith("Chart");return $.Children.map(p,function(L){return $.isValidElement(L)?M.cloneElement(L,td({width:W,height:B},Y?{style:td({height:"100%",width:"100%",maxHeight:B,maxWidth:W},L.props.style)}:{})):L})},[n,p,l,h,d,c,I,a]);return $.createElement("div",{id:b?"".concat(b):void 0,className:Ve("recharts-responsive-container",w),style:td(td({},k),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:T},j)}),gj=function(e){return null};gj.displayName="Cell";function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){wJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJ(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=xJ(t,"string");return oc(e)=="symbol"?e:e+""}function xJ(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ja={widthCache:{},cacheCount:0},SJ=2e3,EJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VT="recharts_measurement_span";function TJ(t){var e=h0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Su=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mi.isSsr)return{width:0,height:0};var r=TJ(n),i=JSON.stringify({text:e,copyStyle:r});if(ja.widthCache[i])return ja.widthCache[i];try{var o=document.getElementById(VT);o||(o=document.createElement("span"),o.setAttribute("id",VT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=h0(h0({},EJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ja.widthCache[i]=l,++ja.cacheCount>SJ&&(ja.cacheCount=0,ja.widthCache={}),l}catch{return{width:0,height:0}}},AJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function $h(t,e){return OJ(t)||kJ(t,e)||IJ(t,e)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function OJ(t){if(Array.isArray(t))return t}function CJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jJ(r.key),r)}}function NJ(t,e,n){return e&&BT(t.prototype,e),n&&BT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jJ(t){var e=RJ(t,"string");return ac(e)=="symbol"?e:e+""}function RJ(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$J=Object.keys(yj),es="NaN";function LJ(t,e){return t*yj[e]}var nd=function(){function t(e,n){CJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!MJ.test(n)&&(this.num=NaN,this.unit=""),$J.includes(n)&&(this.num=LJ(e,n),this.unit="px")}return NJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=DJ.exec(n))!==null&&r!==void 0?r:[],o=$h(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function vj(t){if(t.includes(es))return es;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UT.exec(e))!==null&&n!==void 0?n:[],i=$h(r,4),o=i[1],a=i[2],s=i[3],l=nd.parse(o??""),u=nd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return es;e=e.replace(UT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=zT.exec(e))!==null&&d!==void 0?d:[],p=$h(h,4),g=p[1],y=p[2],b=p[3],w=nd.parse(g??""),_=nd.parse(b??""),S=y==="+"?w.add(_):w.subtract(_);if(S.isNaN())return es;e=e.replace(zT,S.toString())}return e}var WT=/\(([^()]*)\)/;function VJ(t){for(var e=t;e.includes("(");){var n=WT.exec(e),r=$h(n,2),i=r[1];e=e.replace(WT,vj(i))}return e}function FJ(t){var e=t.replace(/\s+/g,"");return e=VJ(e),e=vj(e),e}function BJ(t){try{return FJ(t)}catch{return es}}function ay(t){var e=BJ(t.slice(5,-1));return e===es?"":e}var UJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zJ=["dx","dy","angle","className","breakAll"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(this,arguments)}function GT(t,e){if(t==null)return{};var n=WJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HT(t,e){return KJ(t)||qJ(t,e)||HJ(t,e)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function KJ(t){if(Array.isArray(t))return t}var bj=/[ \f\n\r\t\v\u2028\u2029]+/,wj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(bj));var a=o.map(function(l){return{word:l,width:Su(l,i).width}}),s=r?0:Su("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},YJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=oe(a),d=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(B,Y){var L=Y.word,G=Y.width,K=B[B.length-1];if(K&&(i==null||o||K.width+G+r<Number(i)))K.words.push(L),K.width+=G+r;else{var te={words:[L],width:G};B.push(te)}return B},[])},p=h(n),g=function(W){return W.reduce(function(B,Y){return B.width>Y.width?B:Y})};if(!c)return p;for(var y="",b=function(W){var B=d.slice(0,W),Y=wj({breakAll:u,style:l,children:B+y}).wordsWithComputedWidth,L=h(Y),G=L.length>a||g(L).width>Number(i);return[G,L]},w=0,_=d.length-1,S=0,k;w<=_&&S<=d.length-1;){var T=Math.floor((w+_)/2),P=T-1,E=b(P),x=HT(E,2),I=x[0],O=x[1],C=b(T),j=HT(C,1),N=j[0];if(!I&&!N&&(w=T+1),I&&N&&(_=T-1),!I&&N){k=O;break}S++}return k||p},KT=function(e){var n=ke(e)?[]:e.toString().split(bj);return[{words:n}]},XJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!mi.isSsr){var l,u,c=wj({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return KT(i);return YJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return KT(i)},YT="#808080",Lh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,w=b===void 0?YT:b,_=GT(e,UJ),S=M.useMemo(function(){return XJ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),k=_.dx,T=_.dy,P=_.angle,E=_.className,x=_.breakAll,I=GT(_,zJ);if(!Bt(r)||!Bt(o))return null;var O=r+(oe(k)?k:0),C=o+(oe(T)?T:0),j;switch(y){case"start":j=ay("calc(".concat(u,")"));break;case"middle":j=ay("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=ay("calc(".concat(S.length-1," * -").concat(s,")"));break}var N=[];if(d){var U=S[0].width,W=_.width;N.push("scale(".concat((oe(W)?W/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(O,", ").concat(C,")")),N.length&&(I.transform=N.join(" ")),$.createElement("text",p0({},je(I,!0),{x:O,y:C,className:Ve("recharts-text",E),textAnchor:p,fill:w.includes("url")?YT:w}),S.map(function(B,Y){var L=B.words.join(x?"":" ");return $.createElement("tspan",{x:O,dy:Y===0?j:s,key:"".concat(L,"-").concat(Y)},L)}))};function ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k_(t){let e,n,r;t.length!==2?(e=ho,n=(s,l)=>ho(t(s),l),r=(s,l)=>t(s)-l):(e=t===ho||t===QJ?t:JJ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function JJ(){return 0}function _j(t){return t===null?NaN:+t}function*ZJ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const eZ=k_(ho),tZ=eZ.right;k_(_j).center;const nf=tZ;class XT extends Map{constructor(e,n=iZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QT(this,e))}has(e){return super.has(QT(this,e))}set(e,n){return super.set(nZ(this,e),n)}delete(e){return super.delete(rZ(this,e))}}function QT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oZ(t=ho){if(t===ho)return xj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aZ=Math.sqrt(50),sZ=Math.sqrt(10),lZ=Math.sqrt(2);function Vh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=aZ?10:o>=sZ?5:o>=lZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Vh(t,e,n*2):[s,l,u]}function m0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Vh(e,t,n):Vh(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function g0(t,e,n){return e=+e,t=+t,n=+n,Vh(t,e,n)[2]}function y0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?g0(e,t,n):g0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ZT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Sj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?xj:oZ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));Sj(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Hl(t,n,e),i(t[r],o)>0&&Hl(t,n,r);a<s;){for(Hl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Hl(t,n,s):(++s,Hl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Hl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uZ(t,e,n){if(t=Float64Array.from(ZJ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZT(t);if(e>=1)return JT(t);var r,i=(r-1)*e,o=Math.floor(i),a=JT(Sj(t,o).subarray(0,o+1)),s=ZT(t.subarray(o+1));return a+(s-a)*(i-o)}}function cZ(t,e,n=_j){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function fZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ji(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v0=Symbol("implicit");function O_(){var t=new XT,e=[],n=[],r=v0;function i(o){let a=t.get(o);if(a===void 0){if(r!==v0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new XT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return O_(e,n).unknown(r)},pr.apply(i,arguments),i}function sc(){var t=O_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var b=fZ(h).map(function(w){return g+o*w});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return sc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},pr.apply(d(),arguments)}function Ej(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ej(e())},t}function Eu(){return Ej(sc.apply(null,arguments).paddingInner(1))}function C_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rf(){}var lc=.7,Fh=1/lc,ps="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dZ=/^#([0-9a-f]{3,8})$/,hZ=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),pZ=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),mZ=new RegExp(`^rgba\\(${ps},${ps},${ps},${uc}\\)$`),gZ=new RegExp(`^rgba\\(${zr},${zr},${zr},${uc}\\)$`),yZ=new RegExp(`^hsl\\(${uc},${zr},${zr}\\)$`),vZ=new RegExp(`^hsla\\(${uc},${zr},${zr},${uc}\\)$`),eA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C_(rf,cc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tA,formatHex:tA,formatHex8:bZ,formatHsl:wZ,formatRgb:nA,toString:nA});function tA(){return this.rgb().formatHex()}function bZ(){return this.rgb().formatHex8()}function wZ(){return Aj(this).formatHsl()}function nA(){return this.rgb().formatRgb()}function cc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rA(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hZ.exec(t))?new Rn(e[1],e[2],e[3],1):(e=pZ.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mZ.exec(t))?rd(e[1],e[2],e[3],e[4]):(e=gZ.exec(t))?rd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yZ.exec(t))?aA(e[1],e[2]/100,e[3]/100,1):(e=vZ.exec(t))?aA(e[1],e[2]/100,e[3]/100,e[4]):eA.hasOwnProperty(t)?rA(eA[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function rA(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function rd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function _Z(t){return t instanceof rf||(t=cc(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function b0(t,e,n,r){return arguments.length===1?_Z(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}C_(Rn,b0,Tj(rf,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lc:Math.pow(lc,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(ra(this.r),ra(this.g),ra(this.b),Bh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iA,formatHex:iA,formatHex8:xZ,formatRgb:oA,toString:oA}));function iA(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function xZ(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function oA(){const t=Bh(this.opacity);return`${t===1?"rgb(":"rgba("}${ra(this.r)}, ${ra(this.g)}, ${ra(this.b)}${t===1?")":`, ${t})`}`}function Bh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ra(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=ra(t),(t<16?"0":"")+t.toString(16)}function aA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tr(t,e,n,r)}function Aj(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof rf||(t=cc(t)),!t)return new Tr;if(t instanceof Tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tr(a,s,l,t.opacity)}function SZ(t,e,n,r){return arguments.length===1?Aj(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}C_(Tr,SZ,Tj(rf,{brighter(t){return t=t==null?Fh:Math.pow(Fh,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lc:Math.pow(lc,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(sy(t>=240?t-240:t+120,i,r),sy(t,i,r),sy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tr(sA(this.h),id(this.s),id(this.l),Bh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bh(this.opacity);return`${t===1?"hsl(":"hsla("}${sA(this.h)}, ${id(this.s)*100}%, ${id(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sA(t){return t=(t||0)%360,t<0?t+360:t}function id(t){return Math.max(0,Math.min(1,t||0))}function sy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const N_=t=>()=>t;function EZ(t,e){return function(n){return t+n*e}}function TZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function AZ(t){return(t=+t)==1?Pj:function(e,n){return n-e?TZ(e,n,t):N_(isNaN(e)?n:e)}}function Pj(t,e){var n=e-t;return n?EZ(t,n):N_(isNaN(t)?e:t)}const lA=function t(e){var n=AZ(e);function r(i,o){var a=n((i=b0(i)).r,(o=b0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Pj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function PZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function IZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=vl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function OZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Uh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var w0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(w0.source,"g");function NZ(t){return function(){return t}}function jZ(t){return function(e){return t(e)+""}}function RZ(t,e){var n=w0.lastIndex=ly.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=w0.exec(t))&&(i=ly.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Uh(r,i)})),n=ly.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?jZ(l[0].x):NZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function vl(t,e){var n=typeof e,r;return e==null||n==="boolean"?N_(e):(n==="number"?Uh:n==="string"?(r=cc(e))?(e=r,lA):RZ:e instanceof cc?lA:e instanceof Date?OZ:IZ(e)?PZ:Array.isArray(e)?kZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CZ:Uh)(t,e)}function j_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function MZ(t,e){e===void 0&&(e=t,t=vl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function DZ(t){return function(){return t}}function zh(t){return+t}var uA=[0,1];function Tn(t){return t}function _0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:DZ(isNaN(e)?NaN:.5)}function $Z(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function LZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=_0(i,r),o=n(a,o)):(r=_0(r,i),o=n(o,a)),function(s){return o(r(s))}}function VZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=nf(t,s,1,r)-1;return o[l](i[l](s))}}function of(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function km(){var t=uA,e=uA,n=vl,r,i,o,a=Tn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Tn&&(a=$Z(t[0],t[h-1])),s=h>2?VZ:LZ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Uh)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,zh),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=j_,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Tn,c()):a!==Tn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function R_(){return km()(Tn,Tn)}function FZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ls(t){return t=Wh(Math.abs(t)),t?t[1]:NaN}function BZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function UZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(t){if(!(e=zZ.exec(t)))throw new Error("invalid format: "+t);var e;return new M_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fc.prototype=M_.prototype;function M_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}M_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ij;function GZ(t,e){var n=Wh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ij=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wh(t,Math.max(0,e+o-1))[0]}function cA(t,e){var n=Wh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cA(t*100,e),r:cA,s:GZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dA(t){return t}var hA=Array.prototype.map,pA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HZ(t){var e=t.grouping===void 0||t.thousands===void 0?dA:BZ(hA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?dA:UZ(hA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=fc(d);var h=d.fill,p=d.align,g=d.sign,y=d.symbol,b=d.zero,w=d.width,_=d.comma,S=d.precision,k=d.trim,T=d.type;T==="n"?(_=!0,T="g"):fA[T]||(S===void 0&&(S=12),k=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var P=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=y==="$"?r:/[%p]/.test(T)?a:"",x=fA[T],I=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(C){var j=P,N=E,U,W,B;if(T==="c")N=x(C)+N,C="";else{C=+C;var Y=C<0||1/C<0;if(C=isNaN(C)?l:x(Math.abs(C),S),k&&(C=WZ(C)),Y&&+C==0&&g!=="+"&&(Y=!1),j=(Y?g==="("?g:s:g==="-"||g==="("?"":g)+j,N=(T==="s"?pA[8+Ij/3]:"")+N+(Y&&g==="("?")":""),I){for(U=-1,W=C.length;++U<W;)if(B=C.charCodeAt(U),48>B||B>57){N=(B===46?i+C.slice(U+1):C.slice(U))+N,C=C.slice(0,U);break}}}_&&!b&&(C=e(C,1/0));var L=j.length+C.length+N.length,G=L<w?new Array(w-L+1).join(h):"";switch(_&&b&&(C=e(G+C,G.length?w-N.length:1/0),G=""),p){case"<":C=j+C+N+G;break;case"=":C=j+G+C+N;break;case"^":C=G.slice(0,L=G.length>>1)+j+C+N+G.slice(L);break;default:C=G+j+C+N;break}return o(C)}return O.toString=function(){return d+""},O}function c(d,h){var p=u((d=fc(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ls(h)/3)))*3,y=Math.pow(10,-g),b=pA[8+g/3];return function(w){return p(y*w)+b}}return{format:u,formatPrefix:c}}var od,D_,kj;qZ({thousands:",",grouping:[3],currency:["$",""]});function qZ(t){return od=HZ(t),D_=od.format,kj=od.formatPrefix,od}function KZ(t){return Math.max(0,-Ls(Math.abs(t)))}function YZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ls(e)/3)))*3-Ls(Math.abs(t)))}function XZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ls(e)-Ls(t))+1}function Oj(t,e,n,r){var i=y0(t,e,n),o;switch(r=fc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=YZ(i,a))&&(r.precision=o),kj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=XZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=KZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return D_(r)}function Po(t){var e=t.domain;return t.ticks=function(n){var r=e();return m0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Oj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=g0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Gh(){var t=R_();return t.copy=function(){return of(t,Gh())},pr.apply(t,arguments),Po(t)}function Cj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Cj(t).unknown(e)},t=arguments.length?Array.from(t,zh):[0,1],Po(n)}function Nj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function mA(t){return Math.log(t)}function gA(t){return Math.exp(t)}function QZ(t){return-Math.log(-t)}function JZ(t){return-Math.exp(-t)}function ZZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eee(t){return t===10?ZZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yA(t){return(e,n)=>-t(-e,n)}function $_(t){const e=t(mA,gA),n=e.domain;let r=10,i,o;function a(){return i=tee(r),o=eee(r),n()[0]<0?(i=yA(i),o=yA(o),t(QZ,JZ)):t(mA,gA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const b=s==null?10:+s;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=m0(u,c,b))}else w=m0(h,p,Math.min(p-h,b)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fc(l)).precision==null&&(l.trim=!0),l=D_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(Nj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function jj(){const t=$_(km()).domain([1,10]);return t.copy=()=>of(t,jj()).base(t.base()),pr.apply(t,arguments),t}function vA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function L_(t){var e=1,n=t(vA(e),bA(e));return n.constant=function(r){return arguments.length?t(vA(e=+r),bA(e)):e},Po(n)}function Rj(){var t=L_(km());return t.copy=function(){return of(t,Rj()).constant(t.constant())},pr.apply(t,arguments)}function wA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ree(t){return t<0?-t*t:t*t}function V_(t){var e=t(Tn,Tn),n=1;function r(){return n===1?t(Tn,Tn):n===.5?t(nee,ree):t(wA(n),wA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Po(e)}function F_(){var t=V_(km());return t.copy=function(){return of(t,F_()).exponent(t.exponent())},pr.apply(t,arguments),t}function iee(){return F_.apply(null,arguments).exponent(.5)}function _A(t){return Math.sign(t)*t*t}function oee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Mj(){var t=R_(),e=[0,1],n=!1,r;function i(o){var a=oee(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(_A(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,zh)).map(_A)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Po(i)}function Dj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=cZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[nf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ho),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Dj().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function $j(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[nf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return $j().domain([t,e]).range(i).unknown(o)},pr.apply(Po(a),arguments)}function Lj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[nf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Lj().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const uy=new Date,cy=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>zt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(uy.setTime(+o),cy.setTime(+a),t(uy),t(cy),Math.floor(n(uy,cy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Hh=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hh);Hh.range;const li=1e3,or=li*60,ui=or*60,Ai=ui*24,B_=Ai*7,xA=Ai*30,fy=Ai*365,Xo=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCSeconds());Xo.range;const U_=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*li)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());U_.range;const z_=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());z_.range;const W_=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*li-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getHours());W_.range;const G_=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCHours());G_.range;const af=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Ai,t=>t.getDate()-1);af.range;const Om=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ai,t=>t.getUTCDate()-1);Om.range;const Vj=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ai,t=>Math.floor(t/Ai));Vj.range;function Ta(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/B_)}const Cm=Ta(0),qh=Ta(1),aee=Ta(2),see=Ta(3),Vs=Ta(4),lee=Ta(5),uee=Ta(6);Cm.range;qh.range;aee.range;see.range;Vs.range;lee.range;uee.range;function Aa(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/B_)}const Nm=Aa(0),Kh=Aa(1),cee=Aa(2),fee=Aa(3),Fs=Aa(4),dee=Aa(5),hee=Aa(6);Nm.range;Kh.range;cee.range;fee.range;Fs.range;dee.range;hee.range;const H_=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());H_.range;const q_=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q_.range;const Pi=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Pi.range;const Ii=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ii.range;function Fj(t,e,n,r,i,o){const a=[[Xo,1,li],[Xo,5,5*li],[Xo,15,15*li],[Xo,30,30*li],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,ui],[i,3,3*ui],[i,6,6*ui],[i,12,12*ui],[r,1,Ai],[r,2,2*Ai],[n,1,B_],[e,1,xA],[e,3,3*xA],[t,1,fy]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=k_(([,,b])=>b).right(a,h);if(p===a.length)return t.every(y0(u/fy,c/fy,d));if(p===0)return Hh.every(Math.max(y0(u,c,d),1));const[g,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[pee,mee]=Fj(Ii,q_,Nm,Vj,G_,z_),[gee,yee]=Fj(Pi,H_,Cm,af,W_,U_);function dy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Kl(i),c=Yl(i),d=Kl(o),h=Yl(o),p=Kl(a),g=Yl(a),y=Kl(s),b=Yl(s),w=Kl(l),_=Yl(l),S={a:Y,A:L,b:G,B:K,c:null,d:IA,e:IA,f:Bee,g:Qee,G:Zee,H:Lee,I:Vee,j:Fee,L:Bj,m:Uee,M:zee,p:te,q:V,Q:CA,s:NA,S:Wee,u:Gee,U:Hee,V:qee,w:Kee,W:Yee,x:null,X:null,y:Xee,Y:Jee,Z:ete,"%":OA},k={a:q,A:ae,b:de,B:me,c:null,d:kA,e:kA,f:ite,g:pte,G:gte,H:tte,I:nte,j:rte,L:zj,m:ote,M:ate,p:we,q:Ae,Q:CA,s:NA,S:ste,u:lte,U:ute,V:cte,w:fte,W:dte,x:null,X:null,y:hte,Y:mte,Z:yte,"%":OA},T={a:O,A:C,b:j,B:N,c:U,d:AA,e:AA,f:Ree,g:TA,G:EA,H:PA,I:PA,j:Oee,L:jee,m:kee,M:Cee,p:I,q:Iee,Q:Dee,s:$ee,S:Nee,u:See,U:Eee,V:Tee,w:xee,W:Aee,x:W,X:B,y:TA,Y:EA,Z:Pee,"%":Mee};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),k.x=P(n,k),k.X=P(r,k),k.c=P(e,k);function P(ne,ye){return function(be){var Q=[],$e=-1,Pe=0,Ge=ne.length,Fe,Re,Me;for(be instanceof Date||(be=new Date(+be));++$e<Ge;)ne.charCodeAt($e)===37&&(Q.push(ne.slice(Pe,$e)),(Re=SA[Fe=ne.charAt(++$e)])!=null?Fe=ne.charAt(++$e):Re=Fe==="e"?" ":"0",(Me=ye[Fe])&&(Fe=Me(be,Re)),Q.push(Fe),Pe=$e+1);return Q.push(ne.slice(Pe,$e)),Q.join("")}}function E(ne,ye){return function(be){var Q=ql(1900,void 0,1),$e=x(Q,ne,be+="",0),Pe,Ge;if($e!=be.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ye&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Pe=hy(ql(Q.y,0,1)),Ge=Pe.getUTCDay(),Pe=Ge>4||Ge===0?Kh.ceil(Pe):Kh(Pe),Pe=Om.offset(Pe,(Q.V-1)*7),Q.y=Pe.getUTCFullYear(),Q.m=Pe.getUTCMonth(),Q.d=Pe.getUTCDate()+(Q.w+6)%7):(Pe=dy(ql(Q.y,0,1)),Ge=Pe.getDay(),Pe=Ge>4||Ge===0?qh.ceil(Pe):qh(Pe),Pe=af.offset(Pe,(Q.V-1)*7),Q.y=Pe.getFullYear(),Q.m=Pe.getMonth(),Q.d=Pe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ge="Z"in Q?hy(ql(Q.y,0,1)).getUTCDay():dy(ql(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ge+5)%7:Q.w+Q.U*7-(Ge+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,hy(Q)):dy(Q)}}function x(ne,ye,be,Q){for(var $e=0,Pe=ye.length,Ge=be.length,Fe,Re;$e<Pe;){if(Q>=Ge)return-1;if(Fe=ye.charCodeAt($e++),Fe===37){if(Fe=ye.charAt($e++),Re=T[Fe in SA?ye.charAt($e++):Fe],!Re||(Q=Re(ne,be,Q))<0)return-1}else if(Fe!=be.charCodeAt(Q++))return-1}return Q}function I(ne,ye,be){var Q=u.exec(ye.slice(be));return Q?(ne.p=c.get(Q[0].toLowerCase()),be+Q[0].length):-1}function O(ne,ye,be){var Q=p.exec(ye.slice(be));return Q?(ne.w=g.get(Q[0].toLowerCase()),be+Q[0].length):-1}function C(ne,ye,be){var Q=d.exec(ye.slice(be));return Q?(ne.w=h.get(Q[0].toLowerCase()),be+Q[0].length):-1}function j(ne,ye,be){var Q=w.exec(ye.slice(be));return Q?(ne.m=_.get(Q[0].toLowerCase()),be+Q[0].length):-1}function N(ne,ye,be){var Q=y.exec(ye.slice(be));return Q?(ne.m=b.get(Q[0].toLowerCase()),be+Q[0].length):-1}function U(ne,ye,be){return x(ne,e,ye,be)}function W(ne,ye,be){return x(ne,n,ye,be)}function B(ne,ye,be){return x(ne,r,ye,be)}function Y(ne){return a[ne.getDay()]}function L(ne){return o[ne.getDay()]}function G(ne){return l[ne.getMonth()]}function K(ne){return s[ne.getMonth()]}function te(ne){return i[+(ne.getHours()>=12)]}function V(ne){return 1+~~(ne.getMonth()/3)}function q(ne){return a[ne.getUTCDay()]}function ae(ne){return o[ne.getUTCDay()]}function de(ne){return l[ne.getUTCMonth()]}function me(ne){return s[ne.getUTCMonth()]}function we(ne){return i[+(ne.getUTCHours()>=12)]}function Ae(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ye=P(ne+="",S);return ye.toString=function(){return ne},ye},parse:function(ne){var ye=E(ne+="",!1);return ye.toString=function(){return ne},ye},utcFormat:function(ne){var ye=P(ne+="",k);return ye.toString=function(){return ne},ye},utcParse:function(ne){var ye=E(ne+="",!0);return ye.toString=function(){return ne},ye}}}var SA={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,bee=/^%/,wee=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _ee(t){return t.replace(wee,"\\$&")}function Kl(t){return new RegExp("^(?:"+t.map(_ee).join("|")+")","i")}function Yl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xee(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EA(t,e,n){var r=Kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TA(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iee(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AA(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function PA(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Cee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Nee(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jee(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ree(t,e,n){var r=Kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mee(t,e,n){var r=bee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dee(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $ee(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IA(t,e){return We(t.getDate(),e,2)}function Lee(t,e){return We(t.getHours(),e,2)}function Vee(t,e){return We(t.getHours()%12||12,e,2)}function Fee(t,e){return We(1+af.count(Pi(t),t),e,3)}function Bj(t,e){return We(t.getMilliseconds(),e,3)}function Bee(t,e){return Bj(t,e)+"000"}function Uee(t,e){return We(t.getMonth()+1,e,2)}function zee(t,e){return We(t.getMinutes(),e,2)}function Wee(t,e){return We(t.getSeconds(),e,2)}function Gee(t){var e=t.getDay();return e===0?7:e}function Hee(t,e){return We(Cm.count(Pi(t)-1,t),e,2)}function Uj(t){var e=t.getDay();return e>=4||e===0?Vs(t):Vs.ceil(t)}function qee(t,e){return t=Uj(t),We(Vs.count(Pi(t),t)+(Pi(t).getDay()===4),e,2)}function Kee(t){return t.getDay()}function Yee(t,e){return We(qh.count(Pi(t)-1,t),e,2)}function Xee(t,e){return We(t.getFullYear()%100,e,2)}function Qee(t,e){return t=Uj(t),We(t.getFullYear()%100,e,2)}function Jee(t,e){return We(t.getFullYear()%1e4,e,4)}function Zee(t,e){var n=t.getDay();return t=n>=4||n===0?Vs(t):Vs.ceil(t),We(t.getFullYear()%1e4,e,4)}function ete(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function kA(t,e){return We(t.getUTCDate(),e,2)}function tte(t,e){return We(t.getUTCHours(),e,2)}function nte(t,e){return We(t.getUTCHours()%12||12,e,2)}function rte(t,e){return We(1+Om.count(Ii(t),t),e,3)}function zj(t,e){return We(t.getUTCMilliseconds(),e,3)}function ite(t,e){return zj(t,e)+"000"}function ote(t,e){return We(t.getUTCMonth()+1,e,2)}function ate(t,e){return We(t.getUTCMinutes(),e,2)}function ste(t,e){return We(t.getUTCSeconds(),e,2)}function lte(t){var e=t.getUTCDay();return e===0?7:e}function ute(t,e){return We(Nm.count(Ii(t)-1,t),e,2)}function Wj(t){var e=t.getUTCDay();return e>=4||e===0?Fs(t):Fs.ceil(t)}function cte(t,e){return t=Wj(t),We(Fs.count(Ii(t),t)+(Ii(t).getUTCDay()===4),e,2)}function fte(t){return t.getUTCDay()}function dte(t,e){return We(Kh.count(Ii(t)-1,t),e,2)}function hte(t,e){return We(t.getUTCFullYear()%100,e,2)}function pte(t,e){return t=Wj(t),We(t.getUTCFullYear()%100,e,2)}function mte(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function gte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fs(t):Fs.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function yte(){return"+0000"}function OA(){return"%"}function CA(t){return+t}function NA(t){return Math.floor(+t/1e3)}var Ra,Gj,Hj;vte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vte(t){return Ra=vee(t),Gj=Ra.format,Ra.parse,Hj=Ra.utcFormat,Ra.utcParse,Ra}function bte(t){return new Date(t)}function wte(t){return t instanceof Date?+t:+new Date(+t)}function K_(t,e,n,r,i,o,a,s,l,u){var c=R_(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),_=u("%b %d"),S=u("%B"),k=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?g:a(P)<P?y:o(P)<P?b:r(P)<P?i(P)<P?w:_:n(P)<P?S:k)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,wte)):h().map(bte)},c.ticks=function(P){var E=h();return t(E[0],E[E.length-1],P??10)},c.tickFormat=function(P,E){return E==null?T:u(E)},c.nice=function(P){var E=h();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?h(Nj(E,P)):c},c.copy=function(){return of(c,K_(t,e,n,r,i,o,a,s,l,u))},c}function _te(){return pr.apply(K_(gee,yee,Pi,H_,Cm,af,W_,U_,Xo,Gj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xte(){return pr.apply(K_(pee,mee,Ii,q_,Nm,Om,G_,z_,Xo,Hj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jm(){var t=0,e=1,n,r,i,o,a=Tn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(vl),u.rangeRound=c(j_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Io(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qj(){var t=Po(jm()(Tn));return t.copy=function(){return Io(t,qj())},ji.apply(t,arguments)}function Kj(){var t=$_(jm()).domain([1,10]);return t.copy=function(){return Io(t,Kj()).base(t.base())},ji.apply(t,arguments)}function Yj(){var t=L_(jm());return t.copy=function(){return Io(t,Yj()).constant(t.constant())},ji.apply(t,arguments)}function Y_(){var t=V_(jm());return t.copy=function(){return Io(t,Y_()).exponent(t.exponent())},ji.apply(t,arguments)}function Ste(){return Y_.apply(null,arguments).exponent(.5)}function Xj(){var t=[],e=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((nf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ho),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>uZ(t,o/r))},n.copy=function(){return Xj(e).domain(t)},ji.apply(n,arguments)}function Rm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Tn,c,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(b){var w,_,S;return arguments.length?([w,_,S]=b,u=MZ(y,[w,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=g(vl),p.rangeRound=g(j_),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Qj(){var t=Po(Rm()(Tn));return t.copy=function(){return Io(t,Qj())},ji.apply(t,arguments)}function Jj(){var t=$_(Rm()).domain([.1,1,10]);return t.copy=function(){return Io(t,Jj()).base(t.base())},ji.apply(t,arguments)}function Zj(){var t=L_(Rm());return t.copy=function(){return Io(t,Zj()).constant(t.constant())},ji.apply(t,arguments)}function X_(){var t=V_(Rm());return t.copy=function(){return Io(t,X_()).exponent(t.exponent())},ji.apply(t,arguments)}function Ete(){return X_.apply(null,arguments).exponent(.5)}const jA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sc,scaleDiverging:Qj,scaleDivergingLog:Jj,scaleDivergingPow:X_,scaleDivergingSqrt:Ete,scaleDivergingSymlog:Zj,scaleIdentity:Cj,scaleImplicit:v0,scaleLinear:Gh,scaleLog:jj,scaleOrdinal:O_,scalePoint:Eu,scalePow:F_,scaleQuantile:Dj,scaleQuantize:$j,scaleRadial:Mj,scaleSequential:qj,scaleSequentialLog:Kj,scaleSequentialPow:Y_,scaleSequentialQuantile:Xj,scaleSequentialSqrt:Ste,scaleSequentialSymlog:Yj,scaleSqrt:iee,scaleSymlog:Rj,scaleThreshold:Lj,scaleTime:_te,scaleUtc:xte,tickFormat:Oj},Symbol.toStringTag,{value:"Module"}));var Tte=cl;function Ate(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Tte(a):n(a,s)))var s=a,l=o}return l}var eR=Ate;function Pte(t,e){return t>e}var Ite=Pte,kte=eR,Ote=Ite,Cte=yl;function Nte(t){return t&&t.length?kte(t,Cte,Ote):void 0}var jte=Nte;const Mm=it(jte);function Rte(t,e){return t<e}var Mte=Rte,Dte=eR,$te=Mte,Lte=yl;function Vte(t){return t&&t.length?Dte(t,Lte,$te):void 0}var Fte=Vte;const Dm=it(Fte);var Bte=c_,Ute=Ao,zte=lj,Wte=Vn;function Gte(t,e){var n=Wte(t)?Bte:zte;return n(t,Ute(e))}var Hte=Gte,qte=aj,Kte=Hte;function Yte(t,e){return qte(Kte(t,e),1)}var Xte=Yte;const Qte=it(Xte);var Jte=T_;function Zte(t,e){return Jte(t,e)}var ene=Zte;const $m=it(ene);var bl=1e9,tne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J_,gt=!0,dr="[DecimalError] ",ia=dr+"Invalid argument: ",Q_=dr+"Exponent out of range: ",wl=Math.floor,Uo=Math.pow,nne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Gt=1e7,ft=7,tR=9007199254740991,Yh=wl(tR/ft),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return gi(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return rt(gi(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Rt(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Gn)?new r(0):(gt=!1,e=gi(dc(n,o),dc(t,o),o),gt=!0,rt(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iR(e,t):nR(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(gt=!1,e=gi(n,t,0,1).times(t),gt=!0,n.minus(e)):rt(new r(n),i)};fe.naturalExponential=fe.exp=function(){return rR(this)};fe.naturalLogarithm=fe.ln=function(){return dc(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nR(e,t):iR(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ia+t);if(e=Rt(i)+1,r=i.d.length-1,n=r*ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(dr+"NaN")}for(t=Rt(s),gt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=$r(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(gi(s,o,a+2)).times(.5),$r(o.d).slice(0,a)===(e=$r(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(rt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return gt=!0,rt(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Gt|0,e=s/Gt|0;o[i]=(o[i]+e)%Gt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,gt?rt(t,d.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Kr(t,0,bl),e===void 0?e=r.rounding:Kr(e,0,8),rt(n,t+Rt(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ya(r,!0):(Kr(t,0,bl),e===void 0?e=i.rounding:Kr(e,0,8),r=rt(new i(r),t+1,e),n=ya(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ya(i):(Kr(t,0,bl),e===void 0?e=o.rounding:Kr(e,0,8),r=rt(new o(i),t+Rt(i)+1,e),n=ya(r.abs(),!1,t+Rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return rt(new e(t),Rt(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Gn);if(s=new l(s),!s.s){if(t.s<1)throw Error(dr+"Infinity");return s}if(s.eq(Gn))return s;if(r=l.precision,t.eq(Gn))return rt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=tR){for(i=new l(Gn),e=Math.ceil(r/ft+4),gt=!1;n%2&&(i=i.times(s),MA(i.d,e)),n=wl(n/2),n!==0;)s=s.times(s),MA(s.d,e);return gt=!0,t.s<0?new l(Gn).div(i):rt(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,gt=!1,i=t.times(dc(s,r+u)),gt=!0,i=rR(i),i.s=o,i};fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Rt(i),r=ya(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kr(t,1,bl),e===void 0?e=o.rounding:Kr(e,0,8),i=rt(new o(i),t,e),n=Rt(i),r=ya(i,t<=n||n<=o.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Kr(t,1,bl),e===void 0?e=r.rounding:Kr(e,0,8)),rt(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rt(t),n=t.constructor;return ya(t,e<=n.toExpNeg||e>=n.toExpPos)};function nR(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),gt?rt(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/ft),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Gt|0,l[o]%=Gt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,gt?rt(e,d):e}function Kr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ia+t)}function $r(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ft-r.length,n&&(o+=Bi(n)),o+=r;a=t[e],r=a+"",n=ft-r.length,n&&(o+=Bi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var gi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Gt|0,a=o/Gt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Gt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,p,g,y,b,w,_,S,k,T,P,E,x,I=r.constructor,O=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,E=j.length,T=C.length,p=new I(O),g=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,o==null?_=o=I.precision:a?_=o+(Rt(r)-Rt(i))+1:_=o,_<0)return new I(0);if(_=_/ft+2|0,u=0,E==1)for(c=0,j=j[0],_++;(u<T||c)&&_--;u++)S=c*Gt+(C[u]||0),g[u]=S/j|0,c=S%j|0;else{for(c=Gt/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),E=j.length,T=C.length),k=E,y=C.slice(0,E),b=y.length;b<E;)y[b++]=0;x=j.slice(),x.unshift(0),P=j[0],j[1]>=Gt/2&&++P;do c=0,s=e(j,y,E,b),s<0?(w=y[0],E!=b&&(w=w*Gt+(y[1]||0)),c=w/P|0,c>1?(c>=Gt&&(c=Gt-1),d=t(j,c),h=d.length,b=y.length,s=e(d,y,h,b),s==1&&(c--,n(d,E<h?x:j,h))):(c==0&&(s=c=1),d=j.slice()),h=d.length,h<b&&d.unshift(0),n(y,d,b),s==-1&&(b=y.length,s=e(j,y,E,b),s<1&&(c++,n(y,E<b?x:j,b))),b=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[b++]=C[k]||0:(y=[C[k]],b=1);while((k++<T||y[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,rt(p,a?o+Rt(p)+1:o)}}();function rR(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(Rt(t)>16)throw Error(Q_+Rt(t));if(!t.s)return new c(Gn);for(e==null?(gt=!1,s=d):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Uo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Gn),c.precision=s;;){if(i=rt(i.times(t),s),n=n.times(++l),a=o.plus(gi(i,n,s)),$r(a.d).slice(0,s)===$r(o.d).slice(0,s)){for(;u--;)o=rt(o.times(o),s);return c.precision=d,e==null?(gt=!0,rt(o,d)):o}o=a}}function Rt(t){for(var e=t.e*ft,n=t.d[0];n>=10;n/=10)e++;return e}function py(t,e,n){if(e>t.LN10.sd())throw gt=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function dc(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Gn))return new y(0);if(e==null?(gt=!1,u=b):u=e,p.eq(10))return e==null&&(gt=!0),py(y,u);if(u+=h,y.precision=u,n=$r(g),r=n.charAt(0),o=Rt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=$r(p.d),r=n.charAt(0),d++;o=Rt(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=py(y,u+2,b).times(o+""),p=dc(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(gt=!0,rt(p,b)):p;for(s=a=p=gi(p.minus(Gn),p.plus(Gn),u),c=rt(p.times(p),u),i=3;;){if(a=rt(a.times(c),u),l=s.plus(gi(a,new y(i),u)),$r(l.d).slice(0,u)===$r(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(py(y,u+2,b).times(o+""))),s=gi(s,new y(d),u),y.precision=b,e==null?(gt=!0,rt(s,b)):s;s=l,i+=2}}function RA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wl(n/ft),t.d=[],r=(n+1)%ft,n<0&&(r+=ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ft;r<i;)t.d.push(+e.slice(r,r+=ft));e=e.slice(r),r=ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),gt&&(t.e>Yh||t.e<-Yh))throw Error(Q_+n)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ft,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/ft),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=ft,i=r-ft+a}if(n!==void 0&&(o=Uo(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Uo(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Rt(t),d.length=1,e=e-o-1,d[0]=Uo(10,(ft-e%ft)%ft),t.e=wl(-e/ft)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Uo(10,ft-r),d[c]=i>0?(u/Uo(10,a-i)%Uo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Gt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Gt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(gt&&(t.e>Yh||t.e<-Yh))throw Error(Q_+Rt(t));return t}function iR(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),gt?rt(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/ft),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Gt-1;--l[o],l[i]+=Gt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,gt?rt(e,p):e):new h(0)}function ya(t,e,n){var r,i=Rt(t),o=$r(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Bi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Bi(-i-1)+o,n&&(r=n-a)>0&&(o+=Bi(r))):i>=a?(o+=Bi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Bi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Bi(r))),t.s<0?"-"+o:o}function MA(t,e){if(t.length>e)return t.length=e,!0}function oR(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ia+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return RA(a,o.toString())}else if(typeof o!="string")throw Error(ia+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,nne.test(o))RA(a,o);else throw Error(ia+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oR,i.config=i.set=rne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rne(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ia+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ia+n+": "+r);return this}var J_=oR(tne);Gn=new J_(1);const Ze=J_;function ine(t){return lne(t)||sne(t)||ane(t)||one()}function one(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(t,e){if(t){if(typeof t=="string")return x0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x0(t,e)}}function sne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lne(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var une=function(e){return e},aR={"@@functional/placeholder":!0},sR=function(e){return e===aR},DA=function(e){return function n(){return arguments.length===0||arguments.length===1&&sR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},cne=function t(e,n){return e===1?n:DA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==aR}).length;return a>=e?n.apply(void 0,i):t(e-a,DA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return sR(d)?l.shift():d});return n.apply(void 0,ine(c).concat(l))}))})},Lm=function(e){return cne(e.length,e)},S0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fne=Lm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return une;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},E0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function hne(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function pne(t,e,n){for(var r=new Ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var mne=Lm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gne=Lm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),yne=Lm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Vm={rangeStep:pne,getDigitCount:hne,interpolateNumber:mne,uninterpolateNumber:gne,uninterpolateTruncation:yne};function T0(t){return wne(t)||bne(t)||uR(t)||vne()}function vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wne(t){if(Array.isArray(t))return A0(t)}function hc(t,e){return Sne(t)||xne(t,e)||uR(t,e)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uR(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Sne(t){if(Array.isArray(t))return t}function cR(t){var e=hc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fR(t,e,n){if(t.lte(0))return new Ze(0);var r=Vm.getDigitCount(t.toNumber()),i=new Ze(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ze(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ze(Math.ceil(l))}function Ene(t,e,n){var r=1,i=new Ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ze(10).pow(Vm.getDigitCount(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));var a=Math.floor((e-1)/2),s=dne(fne(function(l){return i.add(new Ze(l-a).mul(r)).toNumber()}),S0);return s(0,e)}function dR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=fR(new Ze(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ze(0):(a=new Ze(t).add(e).div(2),a=a.sub(new Ze(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ze(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?dR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ze(s).mul(o)),tickMax:a.add(new Ze(l).mul(o))})}function Tne(t){var e=hc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=cR([n,r]),l=hc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(T0(S0(0,i-1).map(function(){return 1/0}))):[].concat(T0(S0(0,i-1).map(function(){return-1/0})),[c]);return n>r?E0(d):d}if(u===c)return Ene(u,i,o);var h=dR(u,c,a,o),p=h.step,g=h.tickMin,y=h.tickMax,b=Vm.rangeStep(g,y.add(new Ze(.1).mul(p)),p);return n>r?E0(b):b}function Ane(t,e){var n=hc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=cR([r,i]),s=hc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=fR(new Ze(u).sub(l).div(c-1),o,0),h=[].concat(T0(Vm.rangeStep(new Ze(l),new Ze(u).sub(new Ze(.99).mul(d)),d)),[u]);return r>i?E0(h):h}var Pne=lR(Tne),Ine=lR(Ane),kne=!0,my="Invariant failed";function va(t,e){if(!t){if(kne)throw new Error(my);var n=typeof e=="function"?e():e,r=n?"".concat(my,": ").concat(n):my;throw new Error(r)}}var One=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function Cne(t,e){return Mne(t)||Rne(t,e)||jne(t,e)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return $A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(t,e)}}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mne(t){if(Array.isArray(t))return t}function Dne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mR(r.key),r)}}function Vne(t,e,n){return e&&LA(t.prototype,e),n&&LA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fne(t,e,n){return e=Qh(e),Bne(t,hR()?Reflect.construct(e,n||[],Qh(t).constructor):e.apply(t,n))}function Bne(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Une(t)}function Une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(t)}function zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P0(t,e)}function pR(t,e,n){return e=mR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mR(t){var e=Wne(t,"string");return Bs(e)=="symbol"?e:e+""}function Wne(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf=function(t){function e(){return Lne(this,e),Fne(this,e,arguments)}return zne(e,t),Vne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Dne(r,One),p=je(h,!1);this.props.direction==="x"&&c.type!=="number"&&va(!1);var g=l.map(function(y){var b=u(y,s),w=b.x,_=b.y,S=b.value,k=b.errorVal;if(!k)return null;var T=[],P,E;if(Array.isArray(k)){var x=Cne(k,2);P=x[0],E=x[1]}else P=E=k;if(o==="vertical"){var I=c.scale,O=_+i,C=O+a,j=O-a,N=I(S-P),U=I(S+E);T.push({x1:U,y1:C,x2:U,y2:j}),T.push({x1:N,y1:O,x2:U,y2:O}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(o==="horizontal"){var W=d.scale,B=w+i,Y=B-a,L=B+a,G=W(S-P),K=W(S+E);T.push({x1:Y,y1:K,x2:L,y2:K}),T.push({x1:B,y1:G,x2:B,y2:K}),T.push({x1:Y,y1:G,x2:L,y2:G})}return $.createElement(kt,Xh({className:"recharts-errorBar",key:"bar-".concat(T.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),T.map(function(te){return $.createElement("line",Xh({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return $.createElement(kt,{className:"recharts-errorBars"},g)}}])}($.Component);pR(sf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pR(sf,"displayName","ErrorBar");function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return e=Hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=qne(t,"string");return pc(e)=="symbol"?e:e+""}function qne(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Wn(n,na);if(!a)return null;var s=na.defaultProps,l=s!==void 0?Mo(Mo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,p=h!==void 0?Mo(Mo({},h),d.props):{},g=p.dataKey,y=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:g,type:l.iconType||b||"square",color:Z_(d),value:y||g,payload:p}}),Mo(Mo(Mo({},l),na.getWithHeight(a,i)),{},{payload:u,item:a})};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function FA(t){return Qne(t)||Xne(t)||Yne(t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(t,e){if(t){if(typeof t=="string")return I0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I0(t,e)}}function Xne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qne(t){if(Array.isArray(t))return I0(t)}function I0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ms(t,e,n){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Zne(t,"string");return mc(e)=="symbol"?e:e+""}function Zne(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return ke(t)||ke(e)?n:Bt(e)?lr(t,e,n):Ie(e)?e(t):n}function Tu(t,e,n,r){var i=Qte(t,function(s){return Xn(s,e)});if(n==="number"){var o=i.filter(function(s){return oe(s)||parseFloat(s)});return o.length?[Dm(o),Mm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ke(s)}):i;return a.map(function(s){return Bt(s)||s instanceof Date?s:""})}var ere=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ar(d-c)!==Ar(h-d)){var g=[];if(Ar(h-d)===Ar(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var b=h+l[1]-l[0];g[0]=Math.min(d,(b+d)/2),g[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>w[0]&&e<=w[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var _=Math.min(c,h),S=Math.max(c,h);if(e>(_+d)/2&&e<=(S+d)/2){a=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},Z_=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},tre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,p=d.length;h<p;h++){var g=c[d[h]],y=g.items,b=g.cateAxisId,w=y.filter(function(E){return hi(E.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,S=_!==void 0?Et(Et({},_),w[0].props):w[0].props,k=S.barSize,T=S[b];a[T]||(a[T]=[]);var P=ke(k)?n:k;a[T].push({item:w[0],stackList:w.slice(1),barSize:ke(P)?void 0:ga(P,r,0)})}}return a},nre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ga(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(k,T){var P={item:T.item,position:{offset:b.offset+b.size+u,size:h?p:T.barSize}},E=[].concat(FA(k),[P]);return b=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(x){E.push({item:x,position:b})}),E},d)}else{var w=ga(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;c=a.reduce(function(k,T,P){var E=[].concat(FA(k),[{item:T.item,position:{offset:w+(_+u)*P+(_-S)/2,size:S}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(x){E.push({item:x,position:E[E.length-1].position})}),E},d)}return c},rre=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=gR({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&oe(e[p]))return Et(Et({},e),{},ms({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&oe(e[g]))return Et(Et({},e),{},ms({},g,e[g]+(h||0)))}return e},ire=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yR=function(e,n,r,i,o){var a=n.props.children,s=ur(a,sf).filter(function(u){return ire(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Xn(c,r);if(ke(d))return u;var h=Array.isArray(d)?[Dm(d),Mm(d)]:[d,d],p=l.reduce(function(g,y){var b=Xn(c,y,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),_=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ore=function(e,n,r,i,o){var a=n.map(function(s){return yR(e,s,r,o,i)}).filter(function(s){return!ke(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},vR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&yR(e,l,u,i)||Tu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},bR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ci=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Zc(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},gy=new WeakMap,ad=function(e,n){if(typeof n!="function")return e;gy.has(e)||gy.set(e,new WeakMap);var r=gy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},are=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:sc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Gh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Eu(),realScaleType:"point"}:o==="category"?{scale:sc(),realScaleType:"band"}:{scale:Gh(),realScaleType:"linear"};if(ma(i)){var l="scale".concat(xm(i));return{scale:(jA[l]||Eu)(),realScaleType:jA[l]?l:"point"}}return Ie(i)?{scale:i}:{scale:Eu(),realScaleType:"point"}},UA=1e-4,sre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-UA,a=Math.max(i[0],i[1])+UA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},lre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ure=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(o[0]=r),(!oe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},cre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Zc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},fre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Zc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},dre={sign:cre,expand:k7,none:js,silhouette:O7,wiggle:C7,positive:fre},hre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=dre[r],a=I7().keys(i).value(function(s,l){return+Xn(s,l,0)}).order(Zv).offset(o);return a(e)},pre=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Et(Et({},h.type.defaultProps),h.props):h.props,y=g.stackId,b=g.hide;if(b)return d;var w=g[r],_=d[w]||{hasStack:!1,stackGroups:{}};if(Bt(y)){var S=_.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[y]=S}else _.stackGroups[ef("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Et(Et({},d),{},ms({},w,_))},l),c={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var w=p.stackGroups[b];return Et(Et({},y),{},ms({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:hre(e,w.items,o)}))},g)}return Et(Et({},d),{},ms({},h,p))},c)},mre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Pne(u,o,s);return e.domain([Dm(c),Mm(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Ine(d,o,s);return{niceTicks:h}}return null};function zA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var s=xh(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Xn(i,ke(a)?e.dataKey:a);return ke(l)?null:e.scale(l)}var WA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Xn(a,n.dataKey,n.domain[s]);return ke(l)?null:n.scale(l)-o/2+i},gre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},yre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Bt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},vre=function(e){return e.reduce(function(n,r){return[Dm(r.concat([n[0]]).filter(oe)),Mm(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},_R=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=vre(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k0=function(e,n,r){if(Ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(GA.test(e[0])){var o=+GA.exec(e[0])[1];i[0]=n[0]-o}else Ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(HA.test(e[1])){var a=+HA.exec(e[1])[1];i[1]=n[1]+a}else Ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Jh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=P_(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},qA=function(e,n,r){return!e||!e.length||$m(e,lr(r,"type.defaultProps.domain"))?n:e},xR=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Et(Et({},je(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Z_(e),value:Xn(n,i),type:l,payload:n,chartType:u,hide:c})};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=_re(t,"string");return gc(e)=="symbol"?e:e+""}function _re(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zh=Math.PI/180,xre=function(e){return e*180/Math.PI},tn=function(e,n,r,i){return{x:e+Math.cos(-Zh*i)*r,y:n+Math.sin(-Zh*i)*r}},Sre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Ere=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Sre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:xre(u),angleInRadian:u}},Tre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Are=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},XA=function(e,n){var r=e.x,i=e.y,o=Ere({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Tre(n),d=c.startAngle,h=c.endAngle,p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?YA(YA({},n),{},{radius:a,angle:Are(p,n)}):null};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var Pre=["offset"];function Ire(t){return Nre(t)||Cre(t)||Ore(t)||kre()}function kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){if(t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nre(t){if(Array.isArray(t))return O0(t)}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jre(t,e){if(t==null)return{};var n=Rre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=$re(t,"string");return yc(e)=="symbol"?e:e+""}function $re(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}var Lre=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return Ie(r)?r(i):i},Vre=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Fre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,b=(d+h)/2,w=Vre(p,g),_=w>=0?1:-1,S,k;i==="insideStart"?(S=p+_*a,k=y):i==="insideEnd"?(S=g-_*a,k=!y):i==="end"&&(S=g+_*a,k=y),k=w<=0?k:!k;var T=tn(u,c,b,S),P=tn(u,c,b,S+(k?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),x=ke(e.id)?ef("recharts-radial-line-"):e.id;return $.createElement("text",vc({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:x,d:E})),$.createElement("textPath",{xlinkHref:"#".concat(x)},n))},Bre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var p=tn(a,s,u+r,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=tn(a,s,b,h),_=w.x,S=w.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Ure=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,b=y*i,w=y>0?"end":"start",_=y>0?"start":"end";if(o==="top"){var S={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var k={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Dt(Dt({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Dt(Dt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Dt(Dt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?Dt({x:s+b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?Dt({x:s+u-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideTop"?Dt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?Dt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?Dt({x:s+b,y:l+h,textAnchor:_,verticalAnchor:g},E):o==="insideTopRight"?Dt({x:s+u-b,y:l+h,textAnchor:w,verticalAnchor:g},E):o==="insideBottomLeft"?Dt({x:s+b,y:l+c-h,textAnchor:_,verticalAnchor:p},E):o==="insideBottomRight"?Dt({x:s+u-b,y:l+c-h,textAnchor:w,verticalAnchor:p},E):fl(o)&&(oe(o.x)||Ko(o.x))&&(oe(o.y)||Ko(o.y))?Dt({x:s+ga(o.x,u),y:l+ga(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):Dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},zre=function(e){return"cx"in e&&oe(e.cx)};function yn(t){var e=t.offset,n=e===void 0?5:e,r=jre(t,Pre),i=Dt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ke(s)&&ke(l)&&!M.isValidElement(u)&&!Ie(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(Ie(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=Lre(i);var g=zre(o),y=je(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Fre(i,p,y);var b=g?Bre(i):Ure(i);return $.createElement(Lh,vc({className:Ve("recharts-label",d)},y,b,{breakAll:h}),p)}yn.displayName="Label";var SR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,b=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(oe(y)&&oe(b)){if(oe(d)&&oe(h))return{x:d,y:h,width:y,height:b};if(oe(p)&&oe(g))return{x:p,y:g,width:y,height:b}}return oe(d)&&oe(h)?{x:d,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Wre=function(e,n){return e?e===!0?$.createElement(yn,{key:"label-implicit",viewBox:n}):Bt(e)?$.createElement(yn,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===yn?M.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):Ie(e)?$.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):fl(e)?$.createElement(yn,vc({viewBox:n},e,{key:"label-implicit"})):null:null},Gre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=SR(e),a=ur(i,yn).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Wre(e.label,n||o);return[s].concat(Ire(a))};yn.parseViewBox=SR;yn.renderCallByParent=Gre;function Hre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qre=Hre;const Kre=it(qre);function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}var Yre=["valueAccessor"],Xre=["data","dataKey","clockWise","id","textBreakAll"];function Qre(t){return tie(t)||eie(t)||Zre(t)||Jre()}function Jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){if(t){if(typeof t=="string")return C0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C0(t,e)}}function eie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tie(t){if(Array.isArray(t))return C0(t)}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return bc(e)=="symbol"?e:e+""}function iie(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eP(t,e){if(t==null)return{};var n=oie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aie=function(e){return Array.isArray(e.value)?Kre(e.value):e.value};function po(t){var e=t.valueAccessor,n=e===void 0?aie:e,r=eP(t,Yre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=eP(r,Xre);return!i||!i.length?null:$.createElement(kt,{className:"recharts-label-list"},i.map(function(c,d){var h=ke(o)?n(c,d):Xn(c&&c.payload,o),p=ke(s)?{}:{id:"".concat(s,"-").concat(d)};return $.createElement(yn,ep({},je(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:yn.parseViewBox(ke(a)?c:ZA(ZA({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}po.displayName="LabelList";function sie(t,e){return t?t===!0?$.createElement(po,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ie(t)?$.createElement(po,{key:"labelList-implicit",data:e,content:t}):fl(t)?$.createElement(po,ep({data:e},t,{key:"labelList-implicit"})):null:null}function lie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ur(r,po).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=sie(t.label,e);return[o].concat(Qre(i))}po.renderCallByParent=lie;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uie(t,e,n){return e=cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=fie(t,"string");return wc(e)=="symbol"?e:e+""}function fie(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var die=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},sd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Zh,h=u?o:o+a*d,p=tn(n,r,c,h),g=tn(n,r,i,h),y=u?o-a*d:o,b=tn(n,r,c*Math.cos(d*Zh),y);return{center:p,circleTangency:g,lineTangency:b,theta:d}},ER=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=die(a,s),u=a+l,c=tn(n,r,o,a),d=tn(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=tn(n,r,i,a),g=tn(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Ar(c-u),h=sd({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,b=sd({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,_=b.lineTangency,S=b.theta,k=l?Math.abs(u-c):Math.abs(u-c)-y-S;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):ER({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=sd({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=P.circleTangency,x=P.lineTangency,I=P.theta,O=sd({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=O.circleTangency,j=O.lineTangency,N=O.theta,U=l?Math.abs(u-c):Math.abs(u-c)-I-N;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},pie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TR=function(e){var n=nP(nP({},pie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var p=Ve("recharts-sector",h),g=a-o,y=ga(s,g,0,!0),b;return y>0&&Math.abs(c-d)<360?b=hie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=ER({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),$.createElement("path",N0({},je(n,!0),{className:p,d:b,role:"img"}))};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return e=gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return _c(e)=="symbol"?e:e+""}function yie(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oP={curveBasisClosed:y7,curveBasisOpen:v7,curveBasis:g7,curveBumpX:n7,curveBumpY:r7,curveLinearClosed:b7,curveLinear:Em,curveMonotoneX:w7,curveMonotoneY:_7,curveNatural:x7,curveStep:S7,curveStepAfter:T7,curveStepBefore:E7},ld=function(e){return e.x===+e.x&&e.y===+e.y},Xl=function(e){return e.x},Ql=function(e){return e.y},vie=function(e,n){if(Ie(e))return e;var r="curve".concat(xm(e));return(r==="curveMonotone"||r==="curveBump")&&n?oP["".concat(r).concat(n==="vertical"?"Y":"X")]:oP[r]||Em},bie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=vie(r,s),d=u?o.filter(function(y){return ld(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return ld(y)}):a,g=d.map(function(y,b){return iP(iP({},y),{},{base:p[b]})});return s==="vertical"?h=Jf().y(Ql).x1(Xl).x0(function(y){return y.base.x}):h=Jf().x(Xl).y1(Ql).y0(function(y){return y.base.y}),h.defined(ld).curve(c),h(g)}return s==="vertical"&&oe(a)?h=Jf().y(Ql).x1(Xl).x0(a):oe(a)?h=Jf().x(Xl).y1(Ql).y0(a):h=TN().x(Xl).y(Ql),h.defined(ld).curve(c),h(d)},R0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?bie(e):i;return M.createElement("path",j0({},je(e,!1),Sh(e),{className:Ve("recharts-curve",n),d:a,ref:o}))},AR={exports:{}},wie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_ie=wie,xie=_ie;function PR(){}function IR(){}IR.resetWarningCache=PR;var Sie=function(){function t(r,i,o,a,s,l){if(l!==xie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IR,resetWarningCache:PR};return n.PropTypes=n,n};AR.exports=Sie();var Eie=AR.exports;const qe=it(Eie);var Tie=Object.getOwnPropertyNames,Aie=Object.getOwnPropertySymbols,Pie=Object.prototype.hasOwnProperty;function aP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ud(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function sP(t){return Tie(t).concat(Aie(t))}var Iie=Object.hasOwn||function(t,e){return Pie.call(t,e)};function Pa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var kie="__v",Oie="__o",Cie="_owner",lP=Object.getOwnPropertyDescriptor,uP=Object.keys;function Nie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jie(t,e){return Pa(t.getTime(),e.getTime())}function Rie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Mie(t,e){return t===e}function cP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var Die=Pa;function $ie(t,e,n){var r=uP(t),i=r.length;if(uP(e).length!==i)return!1;for(;i-- >0;)if(!kR(t,e,n,r[i]))return!1;return!0}function Jl(t,e,n){var r=sP(t),i=r.length;if(sP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!kR(t,e,n,o)||(a=lP(t,o),s=lP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Lie(t,e){return Pa(t.valueOf(),e.valueOf())}function Vie(t,e){return t.source===e.source&&t.flags===e.flags}function fP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Fie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kR(t,e,n,r){return(r===Cie||r===Oie||r===kie)&&(t.$$typeof||e.$$typeof)?!0:Iie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Uie="[object Arguments]",zie="[object Boolean]",Wie="[object Date]",Gie="[object Error]",Hie="[object Map]",qie="[object Number]",Kie="[object Object]",Yie="[object RegExp]",Xie="[object Set]",Qie="[object String]",Jie="[object URL]",Zie=Array.isArray,dP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,hP=Object.assign,eoe=Object.prototype.toString.call.bind(Object.prototype.toString);function toe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,y,b){if(g===y)return!0;if(g==null||y==null)return!1;var w=typeof g;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?a(g,y,b):w==="function"?i(g,y,b):!1;var _=g.constructor;if(_!==y.constructor)return!1;if(_===Object)return s(g,y,b);if(Zie(g))return e(g,y,b);if(dP!=null&&dP(g))return d(g,y,b);if(_===Date)return n(g,y,b);if(_===RegExp)return u(g,y,b);if(_===Map)return o(g,y,b);if(_===Set)return c(g,y,b);var S=eoe(g);return S===Wie?n(g,y,b):S===Yie?u(g,y,b):S===Hie?o(g,y,b):S===Xie?c(g,y,b):S===Kie?typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,b):S===Jie?h(g,y,b):S===Gie?r(g,y,b):S===Uie?s(g,y,b):S===zie||S===qie||S===Qie?l(g,y,b):!1}}function noe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Jl:Nie,areDatesEqual:jie,areErrorsEqual:Rie,areFunctionsEqual:Mie,areMapsEqual:r?aP(cP,Jl):cP,areNumbersEqual:Die,areObjectsEqual:r?Jl:$ie,arePrimitiveWrappersEqual:Lie,areRegExpsEqual:Vie,areSetsEqual:r?aP(fP,Jl):fP,areTypedArraysEqual:r?Jl:Fie,areUrlsEqual:Bie};if(n&&(i=hP({},i,n(i))),e){var o=ud(i.areArraysEqual),a=ud(i.areMapsEqual),s=ud(i.areObjectsEqual),l=ud(i.areSetsEqual);i=hP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function roe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function ioe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var ooe=ko();ko({strict:!0});ko({circular:!0});ko({circular:!0,strict:!0});ko({createInternalComparator:function(){return Pa}});ko({strict:!0,createInternalComparator:function(){return Pa}});ko({circular:!0,createInternalComparator:function(){return Pa}});ko({circular:!0,createInternalComparator:function(){return Pa},strict:!0});function ko(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=noe(t),l=toe(s),u=r?r(l):roe(l);return ioe({circular:n,comparator:l,createState:i,equals:u,strict:a})}function aoe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):aoe(i)};requestAnimationFrame(r)}function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function soe(t){return foe(t)||coe(t)||uoe(t)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function foe(t){if(Array.isArray(t))return t}function doe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=soe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){pP(i.bind(null,u),l);return}i(l),pP(i.bind(null,u));return}M0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){OR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OR(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return xc(e)==="symbol"?e:String(e)}function poe(t,e){if(xc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var moe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},goe=function(e){return e},yoe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Au=function(e,n){return Object.keys(n).reduce(function(r,i){return yP(yP({},r),{},OR({},i,e(i,n[i])))},{})},vP=function(e,n,r){return e.map(function(i){return"".concat(yoe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function voe(t,e){return _oe(t)||woe(t,e)||CR(t,e)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _oe(t){if(Array.isArray(t))return t}function xoe(t){return Toe(t)||Eoe(t)||CR(t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CR(t,e){if(t){if(typeof t=="string")return D0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D0(t,e)}}function Eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Toe(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tp=1e-4,NR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},jR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},bP=function(e,n){return function(r){var i=NR(e,n);return jR(i,r)}},Aoe=function(e,n){return function(r){var i=NR(e,n),o=[].concat(xoe(i.map(function(a,s){return a*s}).slice(1)),[0]);return jR(o,r)}},wP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=voe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=bP(i,a),h=bP(o,s),p=Aoe(i,a),g=function(w){return w>1?1:w<0?0:w},y=function(w){for(var _=w>1?1:w,S=_,k=0;k<8;++k){var T=d(S)-_,P=p(S);if(Math.abs(T-_)<tp||P<tp)return h(S);S=g(S-T/P)}return h(S)};return y.isStepper=!1,y},Poe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var p=-(c-d)*r,g=h*o,y=h+(p-g)*s/1e3,b=h*s/1e3+c;return Math.abs(b-d)<tp&&Math.abs(y)<tp?[d,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},Ioe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wP(i);case"spring":return Poe();default:if(i.split("(")[0]==="cubic-bezier")return wP(i)}return typeof i=="function"?i:null};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function _P(t){return Coe(t)||Ooe(t)||RR(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Coe(t){if(Array.isArray(t))return L0(t)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){$0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0(t,e,n){return e=Noe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=joe(t,"string");return Sc(e)==="symbol"?e:String(e)}function joe(t,e){if(Sc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){return $oe(t)||Doe(t,e)||RR(t,e)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(t,e){if(t){if(typeof t=="string")return L0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L0(t,e)}}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Doe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $oe(t){if(Array.isArray(t))return t}var np=function(e,n,r){return e+(n-e)*r},V0=function(e){var n=e.from,r=e.to;return n!==r},Loe=function t(e,n,r){var i=Au(function(o,a){if(V0(a)){var s=e(a.from,a.to,a.velocity),l=Roe(s,2),u=l[0],c=l[1];return Xt(Xt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Au(function(o,a){return V0(a)?Xt(Xt({},a),{},{velocity:np(a.velocity,i[o].velocity,r),from:np(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Voe=function(t,e,n,r,i){var o=moe(t,e),a=o.reduce(function(b,w){return Xt(Xt({},b),{},$0({},w,[t[w],e[w]]))},{}),s=o.reduce(function(b,w){return Xt(Xt({},b),{},$0({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Au(function(w,_){return _.from},s)},p=function(){return!Object.values(s).filter(V0).length},g=function(w){u||(u=w);var _=w-u,S=_/n.dt;s=Loe(n,s,S),i(Xt(Xt(Xt({},t),e),h())),u=w,p()||(l=requestAnimationFrame(d))},y=function(w){c||(c=w);var _=(w-c)/r,S=Au(function(T,P){return np.apply(void 0,_P(P).concat([n(_)]))},a);if(i(Xt(Xt(Xt({},t),e),S)),_<1)l=requestAnimationFrame(d);else{var k=Au(function(T,P){return np.apply(void 0,_P(P).concat([n(1)]))},a);i(Xt(Xt(Xt({},t),e),k))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}var Foe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Boe(t,e){if(t==null)return{};var n=Uoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yy(t){return Hoe(t)||Goe(t)||Woe(t)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(t,e){if(t){if(typeof t=="string")return F0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F0(t,e)}}function Goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){lu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lu(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function Koe(t,e,n){return e&&EP(t.prototype,e),n&&EP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MR(t){var e=Yoe(t,"string");return Us(e)==="symbol"?e:String(e)}function Yoe(t,e){if(Us(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Us(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B0(t,e)}function Qoe(t){var e=Joe();return function(){var r=rp(t),i;if(e){var o=rp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return U0(this,i)}}function U0(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z0(t)}function z0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Joe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}var Fm=function(t){Xoe(n,t);var e=Qoe(n);function n(r,i){var o;qoe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(z0(o)),o.changeStyle=o.changeStyle.bind(z0(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),U0(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},U0(o);o.state={style:l?lu({},l,u):u}}else o.state={style:{}};return o}return Koe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var p={style:l?lu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(ooe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&h){var b={style:l?lu({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(yr(yr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Voe(a,s,Ioe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,p=function(y,b,w){if(w===0)return y;var _=b.duration,S=b.easing,k=S===void 0?"ease":S,T=b.style,P=b.properties,E=b.onAnimationEnd,x=w>0?a[w-1]:b,I=P||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(yy(y),[o.runJSAnimation.bind(o,{from:x.style,to:T,duration:_,easing:k}),_]);var O=vP(I,_,k),C=yr(yr(yr({},x.style),T),{},{transition:O});return[].concat(yy(y),[C,_,E]).filter(goe)};return this.manager.start([l].concat(yy(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=doe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?lu({},s,l):l,b=vP(Object.keys(y),a,u);g.start([c,o,yr(yr({},y),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Boe(i,Foe),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(p){var g=p.props,y=g.style,b=y===void 0?{}:y,w=g.className,_=M.cloneElement(p,yr(yr({},l),{},{style:yr(yr({},b),c),className:w}));return _};return u===1?d(M.Children.only(o)):$.createElement("div",null,M.Children.map(o,function(h){return d(h)}))}}]),n}(M.PureComponent);Fm.displayName="Animate";Fm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fm.propTypes={from:qe.oneOfType([qe.object,qe.string]),to:qe.oneOfType([qe.object,qe.string]),attributeName:qe.string,duration:qe.number,begin:qe.number,easing:qe.oneOfType([qe.string,qe.func]),steps:qe.arrayOf(qe.shape({duration:qe.number.isRequired,style:qe.object.isRequired,easing:qe.oneOfType([qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qe.func]),properties:qe.arrayOf("string"),onAnimationEnd:qe.func})),children:qe.oneOfType([qe.node,qe.func]),isActive:qe.bool,canBegin:qe.bool,onAnimationEnd:qe.func,shouldReAnimate:qe.bool,onAnimationStart:qe.func,onAnimationReStart:qe.func};const zs=Fm;function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function Zoe(t,e){return rae(t)||nae(t,e)||tae(t,e)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rae(t){if(Array.isArray(t))return t}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return Ec(e)=="symbol"?e:e+""}function aae(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},sae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},lae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ex=function(e){var n=PP(PP({},lae),e),r=M.useRef(),i=M.useState(-1),o=Zoe(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var S=Ve("recharts-rectangle",p);return _?$.createElement(zs,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:_},function(k){var T=k.width,P=k.height,E=k.x,x=k.y;return $.createElement(zs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:g},$.createElement("path",ip({},je(n,!0),{className:S,d:IP(E,x,T,P,h),ref:r})))}):$.createElement("path",ip({},je(n,!0),{className:S,d:IP(l,u,c,d,h)}))};function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}var tx=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ve("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",W0({},je(e,!1),Sh(e),{className:a,cx:n,cy:r,r:i})):null};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}var uae=["x","y","top","left","width","height","className"];function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return e=dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return Tc(e)=="symbol"?e:e+""}function hae(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t,e){if(t==null)return{};var n=mae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},yae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,y=pae(e,uae),b=cae({x:r,y:o,top:s,left:u,width:d,height:p},y);return!oe(r)||!oe(o)||!oe(d)||!oe(p)||!oe(s)||!oe(u)?null:$.createElement("path",G0({},je(b,!0),{className:Ve("recharts-cross",g),d:gae(r,o,d,p,s,u)}))},vae=YN,bae=vae(Object.getPrototypeOf,Object),wae=bae,_ae=Ci,xae=wae,Sae=Ni,Eae="[object Object]",Tae=Function.prototype,Aae=Object.prototype,DR=Tae.toString,Pae=Aae.hasOwnProperty,Iae=DR.call(Object);function kae(t){if(!Sae(t)||_ae(t)!=Eae)return!1;var e=xae(t);if(e===null)return!0;var n=Pae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DR.call(n)==Iae}var Oae=kae;const Cae=it(Oae);var Nae=Ci,jae=Ni,Rae="[object Boolean]";function Mae(t){return t===!0||t===!1||jae(t)&&Nae(t)==Rae}var Dae=Mae;const $ae=it(Dae);function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function Lae(t,e){return Uae(t)||Bae(t,e)||Fae(t,e)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Uae(t){if(Array.isArray(t))return t}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return e=Wae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wae(t){var e=Gae(t,"string");return Ac(e)=="symbol"?e:e+""}function Gae(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Hae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qae=function(e){var n=NP(NP({},Hae),e),r=M.useRef(),i=M.useState(-1),o=Lae(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var _=Ve("recharts-trapezoid",p);return w?$.createElement(zs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:w},function(S){var k=S.upperWidth,T=S.lowerWidth,P=S.height,E=S.x,x=S.y;return $.createElement(zs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},$.createElement("path",op({},je(n,!0),{className:_,d:jP(E,x,k,T,P),ref:r})))}):$.createElement("g",null,$.createElement("path",op({},je(n,!0),{className:_,d:jP(l,u,c,d,h)})))},Kae=["option","shapeType","propTransformer","activeClassName","isActive"];function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Yae(t,e){if(t==null)return{};var n=Xae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return Pc(e)=="symbol"?e:e+""}function Zae(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t,e){return ap(ap({},e),t)}function tse(t,e){return t==="symbols"}function MP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(ex,n);case"trapezoid":return $.createElement(qae,n);case"sector":return $.createElement(TR,n);case"symbols":if(tse(e))return $.createElement(b_,n);break;default:return null}}function nse(t){return M.isValidElement(t)?t.props:t}function rse(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ese:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Yae(t,Kae),u;if(M.isValidElement(e))u=M.cloneElement(e,ap(ap({},l),nse(e)));else if(Ie(e))u=e(l);else if(Cae(e)&&!$ae(e)){var c=i(e,l);u=$.createElement(MP,{shapeType:n,elementProps:c})}else{var d=l;u=$.createElement(MP,{shapeType:n,elementProps:d})}return s?$.createElement(kt,{className:a},u):u}function Bm(t,e){return e!=null&&"trapezoids"in t.props}function Um(t,e){return e!=null&&"sectors"in t.props}function Ic(t,e){return e!=null&&"points"in t.props}function ise(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function ose(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ase(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function sse(t,e){var n;return Bm(t,e)?n=ise:Um(t,e)?n=ose:Ic(t,e)&&(n=ase),n}function lse(t,e){var n;return Bm(t,e)?n="trapezoids":Um(t,e)?n="sectors":Ic(t,e)&&(n="points"),n}function use(t,e){if(Bm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Um(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ic(t,e)?e.payload:{}}function cse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=lse(n,e),o=use(n,e),a=r.filter(function(l,u){var c=$m(o,l),d=n.props[i].filter(function(g){var y=sse(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var fse=Math.ceil,dse=Math.max;function hse(t,e,n,r){for(var i=-1,o=dse(fse((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var pse=hse,mse=pj,DP=1/0,gse=17976931348623157e292;function yse(t){if(!t)return t===0?t:0;if(t=mse(t),t===DP||t===-DP){var e=t<0?-1:1;return e*gse}return t===t?t:0}var $R=yse,vse=pse,bse=Im,vy=$R;function wse(t){return function(e,n,r){return r&&typeof r!="number"&&bse(e,n,r)&&(n=r=void 0),e=vy(e),n===void 0?(n=e,e=0):n=vy(n),r=r===void 0?e<n?1:-1:vy(r),vse(e,n,r,t)}}var _se=wse,xse=_se,Sse=xse(),Ese=Sse;const sp=it(Ese);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){LR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LR(t,e,n){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Ase(t,"string");return kc(e)=="symbol"?e:e+""}function Ase(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pse=["Webkit","Moz","O","ms"],Ise=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Pse.reduce(function(o,a){return LP(LP({},o),{},LR({},a+r,n))},{});return i[e]=n,i};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function by(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function Ose(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cse(t,e,n){return e=up(e),Nse(t,VR()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function Nse(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(t)}function jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function Rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H0(t,e)}function Un(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=Mse(t,"string");return Ws(e)=="symbol"?e:e+""}function Mse(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Eu().domain(sp(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},BP=function(e){return e.changedTouches&&!!e.changedTouches.length},Gs=function(t){function e(n){var r;return kse(this,e),r=Cse(this,e,[n]),Un(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Un(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Un(r,"handleSlideDragStart",function(i){var o=BP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rse(e,t),Ose(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Xn(o[r],s,r);return Ie(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=BP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,b=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,d+h-p-u):_<0&&(_=Math.max(_,d-u)),w[a]=u+_;var S=this.getIndex(w),k=S.startIndex,T=S.endIndex,P=function(){var x=b.length-1;return a==="startX"&&(s>l?k%y===0:T%y===0)||s<l&&T===x||a==="endX"&&(s>l?T%y===0:k%y===0)||s>l&&T===x};this.setState(Un(Un({},a,u+_),"brushMoveStartX",r.pageX),function(){g&&P()&&g(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Un({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=M.Children.only(u);return d?$.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),_=by(by({},je(this.props,!1)),{},{x:w,y:u,width:c,height:d}),S=p||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[b])===null||a===void 0?void 0:a.name);return $.createElement(kt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return $.createElement(kt,{className:"recharts-brush-texts"},$.createElement(Lh,lp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:a+s/2},g),this.getTextOfTick(i)),$.createElement(Lh,lp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(l)||!oe(u)||!oe(c)||u<=0||c<=0)return null;var S=Ve("recharts-brush",o),k=$.Children.count(a)===1,T=Ise("userSelect","none");return $.createElement(kt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ie(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return by({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Dse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);Un(Gs,"displayName","Brush");Un(Gs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $se=A_;function Lse(t,e){var n;return $se(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Vse=Lse,Fse=BN,Bse=Ao,Use=Vse,zse=Vn,Wse=Im;function Gse(t,e,n){var r=zse(t)?Fse:Use;return n&&Wse(t,e,n)&&(e=void 0),r(t,Bse(e))}var Hse=Gse;const qse=it(Hse);var Wr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UP=uj;function Kse(t,e,n){e=="__proto__"&&UP?UP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Yse=Kse,Xse=Yse,Qse=sj,Jse=Ao;function Zse(t,e){var n={};return e=Jse(e),Qse(t,function(r,i,o){Xse(n,i,e(r,i,o))}),n}var ele=Zse;const tle=it(ele);function nle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rle=nle,ile=A_;function ole(t,e){var n=!0;return ile(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ale=ole,sle=rle,lle=ale,ule=Ao,cle=Vn,fle=Im;function dle(t,e,n){var r=cle(t)?sle:lle;return n&&fle(t,e,n)&&(e=void 0),r(t,ule(e))}var hle=dle;const BR=it(hle);var ple=["x","y"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return Oc(e)=="symbol"?e:e+""}function yle(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t,e){if(t==null)return{};var n=ble(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wle(t,e){var n=t.x,r=t.y,i=vle(t,ple),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Zl(Zl(Zl(Zl(Zl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function WP(t){return $.createElement(rse,q0({shapeType:"rectangle",propTransformer:wle,activeClassName:"recharts-active-bar"},t))}var _le=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=oe(r)||Bz(r);return o?e(r,i):(o||va(!1),n)}},xle=["value","background"],UR;function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function Sle(t,e){if(t==null)return{};var n=Ele(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ele(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WR(r.key),r)}}function Ale(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,n){return e=fp(e),Ile(t,zR()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function Ile(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kle(t)}function kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function Ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function Ji(t,e,n){return e=WR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WR(t){var e=Cle(t,"string");return Hs(e)=="symbol"?e:e+""}function Cle(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lf=function(t){function e(){var n;Tle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ple(this,e,[].concat(i)),Ji(n,"state",{isAnimationFinished:!1}),Ji(n,"id",ef("recharts-bar-")),Ji(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ji(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Ole(e,t),Ale(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=je(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?u:a,y=Nt(Nt(Nt({},c),d),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(kt,cp({className:"recharts-bar-rectangle"},Eh(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(WP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(zs,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=o.map(function(b,w){var _=h&&h[w];if(_){var S=Er(_.x,b.x),k=Er(_.y,b.y),T=Er(_.width,b.width),P=Er(_.height,b.height);return Nt(Nt({},b),{},{x:S(g),y:k(g),width:T(g),height:P(g)})}if(a==="horizontal"){var E=Er(0,b.height),x=E(g);return Nt(Nt({},b),{},{y:b.y+b.height-x,height:x})}var I=Er(0,b.width),O=I(g);return Nt(Nt({},b),{},{width:O})});return $.createElement(kt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!$m(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=je(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Sle(u,xle);if(!d)return null;var p=Nt(Nt(Nt(Nt(Nt({},h),{},{fill:"#eee"},d),l),Eh(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(WP,cp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=ur(c,sf);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:Xn(b,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(kt,g,d.map(function(y){return $.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=Ve("recharts-bar",a),_=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,k=_||S,T=ke(y)?this.id:y;return $.createElement(kt,{className:w},_||S?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:_?u:u-d/2,y:S?c:c-h/2,width:_?d:d*2,height:S?h:h*2}))):null,$.createElement(kt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!p||b)&&po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);UR=lf;Ji(lf,"displayName","Bar");Ji(lf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ji(lf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,p=lre(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,b=y!==void 0?Nt(Nt({},y),n.props):n.props,w=b.dataKey,_=b.children,S=b.minPointSize,k=g==="horizontal"?a:o,T=u?k.scale.domain():null,P=gre({numericAxis:k}),E=ur(_,gj),x=d.map(function(I,O){var C,j,N,U,W,B;u?C=ure(u[c+O],T):(C=Xn(I,w),Array.isArray(C)||(C=[P,C]));var Y=_le(S,UR.defaultProps.minPointSize)(C[1],O);if(g==="horizontal"){var L,G=[a.scale(C[0]),a.scale(C[1])],K=G[0],te=G[1];j=WA({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:O}),N=(L=te??K)!==null&&L!==void 0?L:void 0,U=p.size;var V=K-te;if(W=Number.isNaN(V)?0:V,B={x:j,y:a.y,width:U,height:a.height},Math.abs(Y)>0&&Math.abs(W)<Math.abs(Y)){var q=Ar(W||Y)*(Math.abs(Y)-Math.abs(W));N-=q,W+=q}}else{var ae=[o.scale(C[0]),o.scale(C[1])],de=ae[0],me=ae[1];if(j=de,N=WA({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:O}),U=me-de,W=p.size,B={x:o.x,y:N,width:o.width,height:W},Math.abs(Y)>0&&Math.abs(U)<Math.abs(Y)){var we=Ar(U||Y)*(Math.abs(Y)-Math.abs(U));U+=we}}return Nt(Nt(Nt({},I),{},{x:j,y:N,width:U,height:W,value:u?C:C[1],payload:I,background:B},E&&E[O]&&E[O].props),{},{tooltipPayload:[xR(n,I)],tooltipPosition:{x:j+U/2,y:N+W/2}})});return Nt({data:x,layout:g},h)});function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GR(r.key),r)}}function jle(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zm(t,e,n){return e=GR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GR(t){var e=Rle(t,"string");return Cc(e)=="symbol"?e:e+""}function Rle(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mle=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Wn(u,lf);return c.reduce(function(p,g){var y=n[g],b=y.orientation,w=y.domain,_=y.padding,S=_===void 0?{}:_,k=y.mirror,T=y.reversed,P="".concat(b).concat(k?"Mirror":""),E,x,I,O,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var j=w[1]-w[0],N=1/0,U=y.categoricalDomain.sort(Wz);if(U.forEach(function(ae,de){de>0&&(N=Math.min((ae||0)-(U[de-1]||0),N))}),Number.isFinite(N)){var W=N/j,B=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(E=W*B/2),y.padding==="no-gap"){var Y=ga(e.barCategoryGap,W*B),L=W*B/2;E=L-Y-(L-Y)/B*Y}}}i==="xAxis"?x=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?x=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:x=y.range,T&&(x=[x[1],x[0]]);var G=are(y,o,h),K=G.scale,te=G.realScaleType;K.domain(w).range(x),sre(K);var V=mre(K,wr(wr({},y),{},{realScaleType:te}));i==="xAxis"?(C=b==="top"&&!k||b==="bottom"&&k,I=r.left,O=d[P]-C*y.height):i==="yAxis"&&(C=b==="left"&&!k||b==="right"&&k,I=d[P]-C*y.width,O=r.top);var q=wr(wr(wr({},y),V),{},{realScaleType:te,x:I,y:O,scale:K,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return q.bandSize=Jh(q,V),!y.hide&&i==="xAxis"?d[P]+=(C?-1:1)*q.height:y.hide||(d[P]+=(C?-1:1)*q.width),wr(wr({},p),{},zm({},g,q))},{})},HR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Dle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return HR({x:n,y:r},{x:i,y:o})},qR=function(){function t(e){Nle(this,t),this.scale=e}return jle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();zm(qR,"EPS",1e-4);var nx=function(e){var n=Object.keys(e).reduce(function(r,i){return wr(wr({},r),{},zm({},i,qR.create(e[i])))},{});return wr(wr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return tle(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return BR(i,function(o,a){return n[a].isInRange(o)})}})};function $le(t){return(t%180+180)%180}var Lle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$le(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Vle=Ao,Fle=tf,Ble=Am;function Ule(t){return function(e,n,r){var i=Object(e);if(!Fle(e)){var o=Vle(n);e=Ble(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var zle=Ule,Wle=$R;function Gle(t){var e=Wle(t),n=e%1;return e===e?n?e-n:e:0}var Hle=Gle,qle=tj,Kle=Ao,Yle=Hle,Xle=Math.max;function Qle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yle(n);return i<0&&(i=Xle(r+i,0)),qle(t,Kle(e),i)}var Jle=Qle,Zle=zle,eue=Jle,tue=Zle(eue),nue=tue;const rue=it(nue);var iue=GU(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rx=M.createContext(void 0),ix=M.createContext(void 0),KR=M.createContext(void 0),YR=M.createContext({}),XR=M.createContext(void 0),QR=M.createContext(0),JR=M.createContext(0),YP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=iue(o);return $.createElement(rx.Provider,{value:r},$.createElement(ix.Provider,{value:i},$.createElement(YR.Provider,{value:o},$.createElement(KR.Provider,{value:c},$.createElement(XR.Provider,{value:a},$.createElement(QR.Provider,{value:u},$.createElement(JR.Provider,{value:l},s)))))))},oue=function(){return M.useContext(XR)},ZR=function(e){var n=M.useContext(rx);n==null&&va(!1);var r=n[e];return r==null&&va(!1),r},aue=function(){var e=M.useContext(rx);return Ki(e)},sue=function(){var e=M.useContext(ix),n=rue(e,function(r){return BR(r.domain,Number.isFinite)});return n||Ki(e)},eM=function(e){var n=M.useContext(ix);n==null&&va(!1);var r=n[e];return r==null&&va(!1),r},lue=function(){var e=M.useContext(KR);return e},uue=function(){return M.useContext(YR)},ox=function(){return M.useContext(JR)},ax=function(){return M.useContext(QR)};function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nM(r.key),r)}}function fue(t,e,n){return e&&XP(t.prototype,e),n&&XP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function due(t,e,n){return e=dp(e),hue(t,tM()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function hue(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pue(t)}function pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y0(t,e)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e,n){return e=nM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t){var e=gue(t,"string");return qs(e)=="symbol"?e:e+""}function gue(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t,e){return _ue(t)||wue(t,e)||bue(t,e)||vue()}function vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _ue(t){if(Array.isArray(t))return t}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var xue=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ie(e)?r=e(n):r=$.createElement("line",X0({},n,{className:"recharts-reference-line-line"})),r},Sue=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,p=o.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(Wr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var w=u.x,_=e.x.apply(w,{position:a});if(Wr(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:d+p},{x:_,y:d}];return s==="top"?S.reverse():S}if(i){var k=u.segment,T=k.map(function(P){return e.apply(P,{position:a})});return Wr(u,"discard")&&qse(T,function(P){return!e.isInRange(P)})?null:T}return null};function Eue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=oue(),c=ZR(i),d=eM(o),h=lue();if(!u||!h)return null;pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=nx({x:c.scale,y:d.scale}),g=Bt(e),y=Bt(n),b=r&&r.length===2,w=Sue(p,g,y,b,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var _=yue(w,2),S=_[0],k=S.x,T=S.y,P=_[1],E=P.x,x=P.y,I=Wr(t,"hidden")?"url(#".concat(u,")"):void 0,O=JP(JP({clipPath:I},je(t,!0)),{},{x1:k,y1:T,x2:E,y2:x});return $.createElement(kt,{className:Ve("recharts-reference-line",s)},xue(a,O),yn.renderCallByParent(t,Dle({x1:k,y1:T,x2:E,y2:x})))}var lx=function(t){function e(){return cue(this,e),due(this,e,arguments)}return mue(e,t),fue(e,[{key:"render",value:function(){return $.createElement(Eue,this.props)}}])}($.Component);sx(lx,"displayName","ReferenceLine");sx(lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iM(r.key),r)}}function Aue(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,n){return e=hp(e),Iue(t,rM()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(t)}function kue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rM=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function Oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function Wm(t,e,n){return e=iM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iM(t){var e=Cue(t,"string");return Ks(e)=="symbol"?e:e+""}function Cue(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=nx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Wr(e,"discard")&&!a.isInRange(s)?null:s},Gm=function(t){function e(){return Tue(this,e),Pue(this,e,arguments)}return Oue(e,t),Aue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Bt(i),c=Bt(o);if(pi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Nue(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,b=g.className,w=Wr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=tI(tI({clipPath:w},je(this.props,!0)),{},{cx:h,cy:p});return $.createElement(kt,{className:Ve("recharts-reference-dot",b)},e.renderDot(y,_),yn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}($.Component);Wm(Gm,"displayName","ReferenceDot");Wm(Gm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wm(Gm,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ie(t)?n=t(e):n=$.createElement(tx,Q0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aM(r.key),r)}}function Rue(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mue(t,e,n){return e=pp(e),Due(t,oM()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function Due(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(t)}function $ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function Lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function Hm(t,e,n){return e=aM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aM(t){var e=Vue(t,"string");return Ys(e)=="symbol"?e:e+""}function Vue(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=nx({x:c.scale,y:d.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Wr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:HR(p,g)},qm=function(t){function e(){return jue(this,e),Mue(this,e,arguments)}return Lue(e,t),Rue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Bt(i),h=Bt(o),p=Bt(a),g=Bt(s),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var b=Fue(d,h,p,g,this.props);if(!b&&!y)return null;var w=Wr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(kt,{className:Ve("recharts-reference-area",l)},e.renderRect(y,iI(iI({clipPath:w},je(this.props,!0)),b)),yn.renderCallByParent(this.props,b))}}])}($.Component);Hm(qm,"displayName","ReferenceArea");Hm(qm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hm(qm,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ie(t)?n=t(e):n=$.createElement(ex,Z0({},e,{className:"recharts-reference-area-rect"})),n});function sM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Bue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Lle(r,n)}function Uue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function mp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function zue(t,e){return sM(t,e+1)}function Wue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:sM(r,u)};var y=l,b,w=function(){return b===void 0&&(b=n(g,y)),b},_=g.coordinate,S=l===0||mp(t,_,w,c,s);S||(l=0,c=a,u+=1),S&&(c=_+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gue(t,e,n){return e=Hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=que(t,"string");return Nc(e)=="symbol"?e:e+""}function que(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],g,y=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var b=t*(p.coordinate+t*y()/2-l);o[h]=p=hn(hn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[h]=p=hn(hn({},p),{},{tickCoord:p.coordinate});var w=mp(t,p.tickCoord,y,s,l);w&&(l=p.tickCoord-t*(y()/2+i),o[h]=hn(hn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Yue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=hn(hn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=mp(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),a[s-1]=hn(hn({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(_){var S=a[_],k,T=function(){return k===void 0&&(k=n(S,_)),k};if(_===0){var P=t*(S.coordinate-t*T()/2-l);a[_]=S=hn(hn({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else a[_]=S=hn(hn({},S),{},{tickCoord:S.coordinate});var E=mp(t,S.tickCoord,T,l,u);E&&(l=S.tickCoord+t*(T()/2+i),a[_]=hn(hn({},S),{},{isShow:!0}))},b=0;b<g;b++)y(b);return a}function ux(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||mi.isSsr)return zue(i,typeof l=="number"&&oe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Su(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,k){var T=Ie(u)?u(S.value,k):S.value;return p==="width"?Bue(Su(T,{fontSize:e,letterSpacing:n}),g,d):Su(T,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,w=Uue(o,b,p);return l==="equidistantPreserveStart"?Wue(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Yue(b,w,y,i,a,l==="preserveStartEnd"):h=Kue(b,w,y,i,a),h.filter(function(_){return _.isShow}))}var Xue=["viewBox"],Que=["viewBox"],Jue=["ticks"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ts.apply(this,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wy(t,e){if(t==null)return{};var n=Zue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function tce(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,n){return e=gp(e),rce(t,lM()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function rce(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(t)}function ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function cx(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=ace(t,"string");return Xs(e)=="symbol"?e:e+""}function ace(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _l=function(t){function e(n){var r;return ece(this,e),r=nce(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oce(e,t),tce(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=wy(r,Xue),s=this.props,l=s.viewBox,u=wy(s,Que);return!hs(o,l)||!hs(a,u)||!hs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,b,w,_,S=d?-1:1,k=r.tickSize||c,T=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,b=a+ +!d*l,y=b-S*k,_=y-S*h,w=T;break;case"left":y=b=r.coordinate,g=o+ +!d*s,p=g-S*k,w=p-S*h,_=T;break;case"right":y=b=r.coordinate,g=o+ +d*s,p=g+S*k,w=p+S*h,_=T;break;default:p=g=r.coordinate,b=a+ +d*l,y=b+S*k,_=y+S*h,w=T;break}return{line:{x1:p,y1:y,x2:g,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Mt(Mt(Mt({},je(this.props,!1)),je(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Mt(Mt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=Mt(Mt({},d),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return $.createElement("line",ts({},d,{className:Ve("recharts-cartesian-axis-line",lr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,p=ux(Mt(Mt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=je(this.props,!1),w=je(c,!1),_=Mt(Mt({},b),{},{fill:"none"},je(l,!1)),S=p.map(function(k,T){var P=a.getTickLineCoord(k),E=P.line,x=P.tick,I=Mt(Mt(Mt(Mt({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:u},w),x),{},{index:T,payload:k,visibleTicksCount:p.length,tickFormatter:d});return $.createElement(kt,ts({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Eh(a.props,k,T)),l&&$.createElement("line",ts({},_,E,{className:Ve("recharts-cartesian-axis-tick-line",lr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Ie(d)?d(k.value,T):k.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,p=wy(d,Jue),g=h;return Ie(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:$.createElement(kt,{className:Ve("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ve(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?a=$.cloneElement(r,Mt(Mt({},i),{},{className:s})):Ie(r)?a=r(Mt(Mt({},i),{},{className:s})):a=$.createElement(Lh,ts({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);cx(_l,"displayName","CartesianAxis");cx(_l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sce=["x1","y1","x2","y2","key"],lce=["offset"];function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return e=cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=fce(t,"string");return ba(e)=="symbol"?e:e+""}function fce(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function cI(t,e){if(t==null)return{};var n=dce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cM(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ie(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=cI(e,sce),u=je(l,!1);u.offset;var c=cI(u,lce);n=$.createElement("line",Qo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function pce(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return cM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function mce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return cM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function gce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?i+a-h:c[p+1]-h;if(y<=0)return null;var b=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function yce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?o+s-h:c[p+1]-h;if(y<=0)return null;var b=p%r.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var vce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return wR(ux(vn(vn(vn({},_l.defaultProps),r),{},{ticks:ci(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},bce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return wR(ux(vn(vn(vn({},_l.defaultProps),r),{},{ticks:ci(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ma={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function fM(t){var e,n,r,i,o,a,s=ox(),l=ax(),u=uue(),c=vn(vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ma.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ma.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ma.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ma.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ma.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ma.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),d=c.x,h=c.y,p=c.width,g=c.height,y=c.syncWithTicks,b=c.horizontalValues,w=c.verticalValues,_=aue(),S=sue();if(!oe(p)||p<=0||!oe(g)||g<=0||!oe(d)||d!==+d||!oe(h)||h!==+h)return null;var k=c.verticalCoordinatesGenerator||vce,T=c.horizontalCoordinatesGenerator||bce,P=c.horizontalPoints,E=c.verticalPoints;if((!P||!P.length)&&Ie(T)){var x=b&&b.length,I=T({yAxis:S?vn(vn({},S),{},{ticks:x?b:S.ticks}):void 0,width:s,height:l,offset:u},x?!0:y);pi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ba(I),"]")),Array.isArray(I)&&(P=I)}if((!E||!E.length)&&Ie(k)){var O=w&&w.length,C=k({xAxis:_?vn(vn({},_),{},{ticks:O?w:_.ticks}):void 0,width:s,height:l,offset:u},O?!0:y);pi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ba(C),"]")),Array.isArray(C)&&(E=C)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(hce,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(pce,Qo({},c,{offset:u,horizontalPoints:P,xAxis:_,yAxis:S})),$.createElement(mce,Qo({},c,{offset:u,verticalPoints:E,xAxis:_,yAxis:S})),$.createElement(gce,Qo({},c,{horizontalPoints:P})),$.createElement(yce,Qo({},c,{verticalPoints:E})))}fM.displayName="CartesianGrid";var wce=["type","layout","connectNulls","ref"],_ce=["key"];function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function fI(t,e){if(t==null)return{};var n=xce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Da(t){return Ace(t)||Tce(t)||Ece(t)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function Tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ace(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hM(r.key),r)}}function Ice(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,n){return e=yp(e),Oce(t,dM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function _r(t,e,n){return e=hM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t){var e=jce(t,"string");return Qs(e)=="symbol"?e:e+""}function jce(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf=function(t){function e(){var n;Pce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kce(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),_r(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>d){p=[].concat(Da(l.slice(0,g)),[d-y]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Da(e.repeat(l,c)),Da(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),_r(n,"id",ef("recharts-line-")),_r(n,"pathRef",function(a){n.mainCurve=a}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Nce(e,t),Ice(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=ur(c,sf);if(!d)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Xn(y.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(kt,p,d.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=je(this.props,!1),h=je(l,!0),p=u.map(function(y,b){var w=Bn(Bn(Bn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(kt,Pu({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=fI(s,wce),h=Bn(Bn(Bn({},je(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return $.createElement(R0,Pu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,y=a.width,b=a.height,w=this.state,_=w.prevPoints,S=w.totalLength;return $.createElement(zs,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var T=k.t;if(_){var P=_.length/s.length,E=s.map(function(j,N){var U=Math.floor(N*P);if(_[U]){var W=_[U],B=Er(W.x,j.x),Y=Er(W.y,j.y);return Bn(Bn({},j),{},{x:B(T),y:Y(T)})}if(g){var L=Er(y*2,j.x),G=Er(b/2,j.y);return Bn(Bn({},j),{},{x:L(T),y:G(T)})}return Bn(Bn({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(E,r,i)}var x=Er(0,S),I=x(T),O;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});O=o.getStrokeDasharray(I,S,C)}else O=o.generateSimpleStrokeDasharray(S,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!$m(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,p=i.width,g=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,S=Ve("recharts-line",l),k=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,P=k||T,E=ke(b)?this.id:b,x=(r=je(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=x.r,O=I===void 0?3:I,C=x.strokeWidth,j=C===void 0?2:C,N=Zz(a)?a:{},U=N.clipDot,W=U===void 0?!0:U,B=O*2+j;return $.createElement(kt,{className:S},k||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:k?h:h-p/2,y:T?d:d-g/2,width:k?p:p*2,height:T?g:g*2})),!W&&$.createElement("clipPath",{id:"clipPath-dots-".concat(E)},$.createElement("rect",{x:h-B/2,y:d-B/2,width:p+B,height:g+B}))):null,!_&&this.renderCurve(P,E),this.renderErrorBar(P,E),(_||a)&&this.renderDots(P,W,E),(!y||w)&&po.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Da(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Da(a),Da(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(Ie(r))o=r(i);else{var a=i.key,s=fI(i,_ce),l=Ve("recharts-line-dot",typeof r!="boolean"?r.className:"");o=$.createElement(tx,Pu({key:a},s,{className:l}))}return o}}])}(M.PureComponent);_r(uf,"displayName","Line");_r(uf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(uf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,p){var g=Xn(h,a);return c==="horizontal"?{x:zA({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:ke(g)?null:r.scale(g),value:g,payload:h}:{x:ke(g)?null:n.scale(g),y:zA({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:g,payload:h}});return Bn({points:d,layout:c},u)});function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gM(r.key),r)}}function Mce(t,e,n){return e&&pI(t.prototype,e),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=vp(e),$ce(t,pM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function mM(t,e,n){return e=gM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gM(t){var e=Fce(t,"string");return Js(e)=="symbol"?e:e+""}function Fce(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function Bce(t){var e=t.xAxisId,n=ox(),r=ax(),i=ZR(e);return i==null?null:M.createElement(_l,ob({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ci(a,!0)}}))}var Km=function(t){function e(){return Rce(this,e),Dce(this,e,arguments)}return Vce(e,t),Mce(e,[{key:"render",value:function(){return M.createElement(Bce,this.props)}}])}(M.Component);mM(Km,"displayName","XAxis");mM(Km,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bM(r.key),r)}}function zce(t,e,n){return e&&mI(t.prototype,e),n&&mI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wce(t,e,n){return e=bp(e),Gce(t,yM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function Gce(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(t)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function vM(t,e,n){return e=bM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bM(t){var e=Kce(t,"string");return Zs(e)=="symbol"?e:e+""}function Kce(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}var Yce=function(e){var n=e.yAxisId,r=ox(),i=ax(),o=eM(n);return o==null?null:M.createElement(_l,sb({},o,{className:Ve("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ci(s,!0)}}))},Ym=function(t){function e(){return Uce(this,e),Wce(this,e,arguments)}return qce(e,t),zce(e,[{key:"render",value:function(){return M.createElement(Yce,this.props)}}])}(M.Component);vM(Ym,"displayName","YAxis");vM(Ym,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gI(t){return Zce(t)||Jce(t)||Qce(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zce(t){if(Array.isArray(t))return lb(t)}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ub=function(e,n,r,i,o){var a=ur(e,lx),s=ur(e,Gm),l=[].concat(gI(a),gI(s)),u=ur(e,qm),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&Wr(b.props,"extendDomain")&&oe(b.props[d])){var w=b.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var p="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&Wr(b.props,"extendDomain")&&oe(b.props[p])&&oe(b.props[g])){var w=b.props[p],_=b.props[g];return[Math.min(y[0],w,_),Math.max(y[1],w,_)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return oe(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},wM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,p),!0;case 6:return b.fn.call(b.context,c,d,h,p,g),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var k=b.length,T;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,c);break;case 3:b[S].fn.call(b[S].context,c,d);break;case 4:b[S].fn.call(b[S].context,c,d,h);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];b[S].fn.apply(b[S].context,_)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,b=[],w=g.length;y<w;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(wM);var efe=wM.exports;const tfe=it(efe);var _y=new tfe,xy="recharts.syncMouseEvents";function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_M(r.key),r)}}function rfe(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sy(t,e,n){return e=_M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _M(t){var e=ife(t,"string");return jc(e)=="symbol"?e:e+""}function ife(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ofe=function(){function t(){nfe(this,t),Sy(this,"activeIndex",0),Sy(this,"coordinateList",[]),Sy(this,"layout","horizontal")}return rfe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function afe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function sfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=tn(e,n,r,i),s=tn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function lfe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=tn(s,l,u,d),p=tn(s,l,c,d);r=h.x,i=h.y,o=p.x,a=p.y}else return xM(e);return[{x:r,y:i},{x:o,y:a}]}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return e=cfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ffe(t,"string");return Rc(e)=="symbol"?e:e+""}function ffe(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=R0;if(h==="ScatterChart")g=a,y=yae;else if(h==="BarChart")g=sfe(d,a,l,c),y=ex;else if(d==="radial"){var b=xM(a),w=b.cx,_=b.cy,S=b.radius,k=b.startAngle,T=b.endAngle;g={cx:w,cy:_,startAngle:k,endAngle:T,innerRadius:S,outerRadius:S},y=TR}else g={points:lfe(d,a,l)},y=R0;var P=cd(cd(cd(cd({stroke:"#ccc",pointerEvents:"none"},l),g),je(p,!1)),{},{payload:s,payloadIndex:u,className:Ve("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,P):M.createElement(y,P)}var hfe=["item"],pfe=["children","className","width","height","style","compact","title","desc"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}function bI(t,e){return yfe(t)||gfe(t,e)||EM(t,e)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yfe(t){if(Array.isArray(t))return t}function wI(t,e){if(t==null)return{};var n=vfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function wfe(t,e,n){return e&&_I(t.prototype,e),n&&_I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _fe(t,e,n){return e=wp(e),xfe(t,SM()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function xfe(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sfe(t)}function Sfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function Efe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function tl(t){return Pfe(t)||Afe(t)||EM(t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EM(t,e){if(t){if(typeof t=="string")return fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(t,e)}}function Afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pfe(t){if(Array.isArray(t))return fb(t)}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _e(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TM(t){var e=Ife(t,"string");return el(e)=="symbol"?e:e+""}function Ife(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kfe={xAxis:["bottom","top"],yAxis:["left","right"]},Ofe={width:"100%",height:"100%"},AM={x:0,y:0};function fd(t){return t}var Cfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Nfe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),tn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),tn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return AM},Xm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(tl(s),tl(u)):s},[]);return a.length>0?a:e&&e.length&&oe(i)&&oe(o)?e.slice(i,o+1):[]};function PM(t){return t==="number"?[0,"auto"]:void 0}var db=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Xm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?s:d;h=xh(p,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(tl(l),[xR(u,h)]):l},[])},SI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Cfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ere(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=db(e,n,c,d),p=Nfe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},jfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,p=bR(c,o);return r.reduce(function(g,y){var b,w=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,_=w.type,S=w.dataKey,k=w.allowDataOverflow,T=w.allowDuplicatedCategory,P=w.scale,E=w.ticks,x=w.includeHidden,I=w[a];if(g[I])return g;var O=Xm(e.data,{graphicalItems:i.filter(function(V){var q,ae=a in V.props?V.props[a]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[a];return ae===I}),dataStartIndex:l,dataEndIndex:u}),C=O.length,j,N,U;afe(w.domain,k,_)&&(j=k0(w.domain,null,k),p&&(_==="number"||P!=="auto")&&(U=Tu(O,S,"category")));var W=PM(_);if(!j||j.length===0){var B,Y=(B=w.domain)!==null&&B!==void 0?B:W;if(S){if(j=Tu(O,S,_),_==="category"&&p){var L=zz(j);T&&L?(N=j,j=sp(0,C)):T||(j=qA(Y,j,y).reduce(function(V,q){return V.indexOf(q)>=0?V:[].concat(tl(V),[q])},[]))}else if(_==="category")T?j=j.filter(function(V){return V!==""&&!ke(V)}):j=qA(Y,j,y).reduce(function(V,q){return V.indexOf(q)>=0||q===""||ke(q)?V:[].concat(tl(V),[q])},[]);else if(_==="number"){var G=ore(O,i.filter(function(V){var q,ae,de=a in V.props?V.props[a]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[a],me="hide"in V.props?V.props.hide:(ae=V.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return de===I&&(x||!me)}),S,o,c);G&&(j=G)}p&&(_==="number"||P!=="auto")&&(U=Tu(O,S,"category"))}else p?j=sp(0,C):s&&s[I]&&s[I].hasStack&&_==="number"?j=h==="expand"?[0,1]:_R(s[I].stackGroups,l,u):j=vR(O,i.filter(function(V){var q=a in V.props?V.props[a]:V.type.defaultProps[a],ae="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return q===I&&(x||!ae)}),_,c,!0);if(_==="number")j=ub(d,j,I,o,E),Y&&(j=k0(Y,j,k));else if(_==="category"&&Y){var K=Y,te=j.every(function(V){return K.indexOf(V)>=0});te&&(j=K)}}return H(H({},g),{},_e({},I,H(H({},w),{},{axisType:o,domain:j,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=w.domain)!==null&&b!==void 0?b:W,isCategorical:p,layout:c})))},{})},Rfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Xm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=bR(c,o),y=-1;return r.reduce(function(b,w){var _=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,S=_[a],k=PM("number");if(!b[S]){y++;var T;return g?T=sp(0,p):s&&s[S]&&s[S].hasStack?(T=_R(s[S].stackGroups,l,u),T=ub(d,T,S,o)):(T=k0(k,vR(h,r.filter(function(P){var E,x,I=a in P.props?P.props[a]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[a],O="hide"in P.props?P.props.hide:(x=P.type.defaultProps)===null||x===void 0?void 0:x.hide;return I===S&&!O}),"number",c),i.defaultProps.allowDataOverflow),T=ub(d,T,S,o)),H(H({},b),{},_e({},S,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:lr(kfe,"".concat(o,".").concat(y%2),null),domain:T,originalDomain:k,isCategorical:g,layout:c})))}return b},{})},Mfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=ur(c,o),p={};return h&&h.length?p=jfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Rfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Dfe=function(e){var n=Ki(e),r=ci(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:P_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Jh(n,r)}},EI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wn(n,Gs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},$fe=function(e){return!e||!e.length?!1:e.some(function(n){var r=hi(n&&n.type);return r&&r.indexOf("Bar")>=0})},TI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},p=Wn(d,Gs),g=Wn(d,na),y=Object.keys(l).reduce(function(T,P){var E=l[P],x=E.orientation;return!E.mirror&&!E.hide?H(H({},T),{},_e({},x,T[x]+E.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(T,P){var E=a[P],x=E.orientation;return!E.mirror&&!E.hide?H(H({},T),{},_e({},x,lr(T,"".concat(x))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),w=H(H({},b),y),_=w.bottom;p&&(w.bottom+=p.props.height||Gs.defaultProps.height),g&&n&&(w=rre(w,i,r,n));var S=u-w.left-w.right,k=c-w.top-w.bottom;return H(H({brushBottom:_},w),{},{width:Math.max(S,0),height:Math.max(k,0)})},Vfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ffe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,_){var S=_.graphicalItems,k=_.stackGroups,T=_.offset,P=_.updateId,E=_.dataStartIndex,x=_.dataEndIndex,I=w.barSize,O=w.layout,C=w.barGap,j=w.barCategoryGap,N=w.maxBarSize,U=TI(O),W=U.numericAxisName,B=U.cateAxisName,Y=$fe(S),L=[];return S.forEach(function(G,K){var te=Xm(w.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:x}),V=G.type.defaultProps!==void 0?H(H({},G.type.defaultProps),G.props):G.props,q=V.dataKey,ae=V.maxBarSize,de=V["".concat(W,"Id")],me=V["".concat(B,"Id")],we={},Ae=l.reduce(function(X,se){var le=_["".concat(se.axisType,"Map")],ge=V["".concat(se.axisType,"Id")];le&&le[ge]||se.axisType==="zAxis"||va(!1);var ot=le[ge];return H(H({},X),{},_e(_e({},se.axisType,ot),"".concat(se.axisType,"Ticks"),ci(ot)))},we),ne=Ae[B],ye=Ae["".concat(B,"Ticks")],be=k&&k[de]&&k[de].hasStack&&yre(G,k[de].stackGroups),Q=hi(G.type).indexOf("Bar")>=0,$e=Jh(ne,ye),Pe=[],Ge=Y&&tre({barSize:I,stackGroups:k,totalSize:Vfe(Ae,B)});if(Q){var Fe,Re,Me=ke(ae)?N:ae,Ke=(Fe=(Re=Jh(ne,ye,!0))!==null&&Re!==void 0?Re:Me)!==null&&Fe!==void 0?Fe:0;Pe=nre({barGap:C,barCategoryGap:j,bandSize:Ke!==$e?Ke:$e,sizeList:Ge[me],maxBarSize:Me}),Ke!==$e&&(Pe=Pe.map(function(X){return H(H({},X),{},{position:H(H({},X.position),{},{offset:X.position.offset-Ke/2})})}))}var Ot=G&&G.type&&G.type.getComposedData;Ot&&L.push({props:H(H({},Ot(H(H({},Ae),{},{displayedData:te,props:w,dataKey:q,item:G,bandSize:$e,barPosition:Pe,offset:T,stackedData:be,layout:O,dataStartIndex:E,dataEndIndex:x}))),{},_e(_e(_e({key:G.key||"item-".concat(K)},W,Ae[W]),B,Ae[B]),"animationId",P)),childIndex:n8(G,w.children),item:G})}),L},p=function(w,_){var S=w.props,k=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;if(!DE({props:S}))return null;var E=S.children,x=S.layout,I=S.stackOffset,O=S.data,C=S.reverseStackOrder,j=TI(x),N=j.numericAxisName,U=j.cateAxisName,W=ur(E,r),B=pre(O,W,"".concat(N,"Id"),"".concat(U,"Id"),I,C),Y=l.reduce(function(V,q){var ae="".concat(q.axisType,"Map");return H(H({},V),{},_e({},ae,Mfe(S,H(H({},q),{},{graphicalItems:W,stackGroups:q.axisType===N&&B,dataStartIndex:k,dataEndIndex:T}))))},{}),L=Lfe(H(H({},Y),{},{props:S,graphicalItems:W}),_==null?void 0:_.legendBBox);Object.keys(Y).forEach(function(V){Y[V]=c(S,Y[V],L,V.replace("Map",""),n)});var G=Y["".concat(U,"Map")],K=Dfe(G),te=h(S,H(H({},Y),{},{dataStartIndex:k,dataEndIndex:T,updateId:P,graphicalItems:W,stackGroups:B,offset:L}));return H(H({formattedGraphicalItems:te,graphicalItems:W,offset:L,stackGroups:B},K),Y)},g=function(b){function w(_){var S,k,T;return bfe(this,w),T=_fe(this,w,[_]),_e(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(T,"accessibilityManager",new ofe),_e(T,"handleLegendBBoxUpdate",function(P){if(P){var E=T.state,x=E.dataStartIndex,I=E.dataEndIndex,O=E.updateId;T.setState(H({legendBBox:P},p({props:T.props,dataStartIndex:x,dataEndIndex:I,updateId:O},H(H({},T.state),{},{legendBBox:P}))))}}),_e(T,"handleReceiveSyncEvent",function(P,E,x){if(T.props.syncId===P){if(x===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),_e(T,"handleBrushChange",function(P){var E=P.startIndex,x=P.endIndex;if(E!==T.state.dataStartIndex||x!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return H({dataStartIndex:E,dataEndIndex:x},p({props:T.props,dataStartIndex:E,dataEndIndex:x,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:x})}}),_e(T,"handleMouseEnter",function(P){var E=T.getMouseInfo(P);if(E){var x=H(H({},E),{},{isTooltipActive:!0});T.setState(x),T.triggerSyncEvent(x);var I=T.props.onMouseEnter;Ie(I)&&I(x,P)}}),_e(T,"triggeredAfterMouseMove",function(P){var E=T.getMouseInfo(P),x=E?H(H({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(x),T.triggerSyncEvent(x);var I=T.props.onMouseMove;Ie(I)&&I(x,P)}),_e(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),_e(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),_e(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),_e(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var x=T.props.onMouseLeave;Ie(x)&&x(E,P)}),_e(T,"handleOuterEvent",function(P){var E=t8(P),x=lr(T.props,"".concat(E));if(E&&Ie(x)){var I,O;/.*touch.*/i.test(E)?O=T.getMouseInfo(P.changedTouches[0]):O=T.getMouseInfo(P),x((I=O)!==null&&I!==void 0?I:{},P)}}),_e(T,"handleClick",function(P){var E=T.getMouseInfo(P);if(E){var x=H(H({},E),{},{isTooltipActive:!0});T.setState(x),T.triggerSyncEvent(x);var I=T.props.onClick;Ie(I)&&I(x,P)}}),_e(T,"handleMouseDown",function(P){var E=T.props.onMouseDown;if(Ie(E)){var x=T.getMouseInfo(P);E(x,P)}}),_e(T,"handleMouseUp",function(P){var E=T.props.onMouseUp;if(Ie(E)){var x=T.getMouseInfo(P);E(x,P)}}),_e(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),_e(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),_e(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),_e(T,"handleDoubleClick",function(P){var E=T.props.onDoubleClick;if(Ie(E)){var x=T.getMouseInfo(P);E(x,P)}}),_e(T,"handleContextMenu",function(P){var E=T.props.onContextMenu;if(Ie(E)){var x=T.getMouseInfo(P);E(x,P)}}),_e(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&_y.emit(xy,T.props.syncId,P,T.eventEmitterSymbol)}),_e(T,"applySyncEvent",function(P){var E=T.props,x=E.layout,I=E.syncMethod,O=T.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(H({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:O},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,W=P.activeTooltipIndex,B=T.state,Y=B.offset,L=B.tooltipTicks;if(!Y)return;if(typeof I=="function")W=I(L,P);else if(I==="value"){W=-1;for(var G=0;G<L.length;G++)if(L[G].value===P.activeLabel){W=G;break}}var K=H(H({},Y),{},{x:Y.left,y:Y.top}),te=Math.min(N,K.x+K.width),V=Math.min(U,K.y+K.height),q=L[W]&&L[W].value,ae=db(T.state,T.props.data,W),de=L[W]?{x:x==="horizontal"?L[W].coordinate:te,y:x==="horizontal"?V:L[W].coordinate}:AM;T.setState(H(H({},P),{},{activeLabel:q,activeCoordinate:de,activePayload:ae,activeTooltipIndex:W}))}else T.setState(P)}),_e(T,"renderCursor",function(P){var E,x=T.state,I=x.isTooltipActive,O=x.activeCoordinate,C=x.activePayload,j=x.offset,N=x.activeTooltipIndex,U=x.tooltipAxisBandSize,W=T.getTooltipEventType(),B=(E=P.props.active)!==null&&E!==void 0?E:I,Y=T.props.layout,L=P.key||"_recharts-cursor";return $.createElement(dfe,{key:L,activeCoordinate:O,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:B,layout:Y,offset:j,tooltipAxisBandSize:U,tooltipEventType:W})}),_e(T,"renderPolarAxis",function(P,E,x){var I=lr(P,"type.axisType"),O=lr(T.state,"".concat(I,"Map")),C=P.type.defaultProps,j=C!==void 0?H(H({},C),P.props):P.props,N=O&&O[j["".concat(I,"Id")]];return M.cloneElement(P,H(H({},N),{},{className:Ve(I,N.className),key:P.key||"".concat(E,"-").concat(x),ticks:ci(N,!0)}))}),_e(T,"renderPolarGrid",function(P){var E=P.props,x=E.radialLines,I=E.polarAngles,O=E.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,U=Ki(j),W=Ki(N),B=W.cx,Y=W.cy,L=W.innerRadius,G=W.outerRadius;return M.cloneElement(P,{polarAngles:Array.isArray(I)?I:ci(W,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:ci(U,!0).map(function(K){return K.coordinate}),cx:B,cy:Y,innerRadius:L,outerRadius:G,key:P.key||"polar-grid",radialLines:x})}),_e(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,E=T.props,x=E.children,I=E.width,O=E.height,C=T.props.margin||{},j=I-(C.left||0)-(C.right||0),N=gR({children:x,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!N)return null;var U=N.item,W=wI(N,hfe);return M.cloneElement(U,H(H({},W),{},{chartWidth:I,chartHeight:O,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),_e(T,"renderTooltip",function(){var P,E=T.props,x=E.children,I=E.accessibilityLayer,O=Wn(x,Mr);if(!O)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,U=C.activePayload,W=C.activeLabel,B=C.offset,Y=(P=O.props.active)!==null&&P!==void 0?P:j;return M.cloneElement(O,{viewBox:H(H({},B),{},{x:B.left,y:B.top}),active:Y,label:W,payload:Y?U:[],coordinate:N,accessibilityLayer:I})}),_e(T,"renderBrush",function(P){var E=T.props,x=E.margin,I=E.data,O=T.state,C=O.offset,j=O.dataStartIndex,N=O.dataEndIndex,U=O.updateId;return M.cloneElement(P,{key:P.key||"_recharts-brush",onChange:ad(T.handleBrushChange,P.props.onChange),data:I,x:oe(P.props.x)?P.props.x:C.left,y:oe(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(x.bottom||0),width:oe(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(U)})}),_e(T,"renderReferenceElement",function(P,E,x){if(!P)return null;var I=T,O=I.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,U=C.offset,W=P.type.defaultProps||{},B=P.props,Y=B.xAxisId,L=Y===void 0?W.xAxisId:Y,G=B.yAxisId,K=G===void 0?W.yAxisId:G;return M.cloneElement(P,{key:P.key||"".concat(E,"-").concat(x),xAxis:j[L],yAxis:N[K],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:O})}),_e(T,"renderActivePoints",function(P){var E=P.item,x=P.activePoint,I=P.basePoint,O=P.childIndex,C=P.isRange,j=[],N=E.props.key,U=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,W=U.activeDot,B=U.dataKey,Y=H(H({index:O,dataKey:B,cx:x.x,cy:x.y,r:4,fill:Z_(E.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},je(W,!1)),Sh(W));return j.push(w.renderActiveDot(W,Y,"".concat(N,"-activePoint-").concat(O))),I?j.push(w.renderActiveDot(W,H(H({},Y),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(O))):C&&j.push(null),j}),_e(T,"renderGraphicChild",function(P,E,x){var I=T.filterFormatItem(P,E,x);if(!I)return null;var O=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,U=C.activeTooltipIndex,W=C.activeLabel,B=T.props.children,Y=Wn(B,Mr),L=I.props,G=L.points,K=L.isRange,te=L.baseLine,V=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,q=V.activeDot,ae=V.hide,de=V.activeBar,me=V.activeShape,we=!!(!ae&&j&&Y&&(q||de||me)),Ae={};O!=="axis"&&Y&&Y.props.trigger==="click"?Ae={onClick:ad(T.handleItemMouseEnter,P.props.onClick)}:O!=="axis"&&(Ae={onMouseLeave:ad(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:ad(T.handleItemMouseEnter,P.props.onMouseEnter)});var ne=M.cloneElement(P,H(H({},I.props),Ae));function ye(se){return typeof N.dataKey=="function"?N.dataKey(se.payload):null}if(we)if(U>=0){var be,Q;if(N.dataKey&&!N.allowDuplicatedCategory){var $e=typeof N.dataKey=="function"?ye:"payload.".concat(N.dataKey.toString());be=xh(G,$e,W),Q=K&&te&&xh(te,$e,W)}else be=G==null?void 0:G[U],Q=K&&te&&te[U];if(me||de){var Pe=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[M.cloneElement(P,H(H(H({},I.props),Ae),{},{activeIndex:Pe})),null,null]}if(!ke(be))return[ne].concat(tl(T.renderActivePoints({item:I,activePoint:be,basePoint:Q,childIndex:U,isRange:K})))}else{var Ge,Fe=(Ge=T.getItemByXY(T.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:ne},Re=Fe.graphicalItem,Me=Re.item,Ke=Me===void 0?P:Me,Ot=Re.childIndex,X=H(H(H({},I.props),Ae),{},{activeIndex:Ot});return[M.cloneElement(Ke,X),null,null]}return K?[ne,null,null]:[ne,null]}),_e(T,"renderCustomized",function(P,E,x){return M.cloneElement(P,H(H({key:"recharts-customized-".concat(x)},T.props),T.state))}),_e(T,"renderMap",{CartesianGrid:{handler:fd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:fd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:fd},YAxis:{handler:fd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:ef("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=mj(T.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),T.state={},T}return Efe(w,b),wfe(w,[{key:"componentDidMount",value:function(){var S,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,k=S.children,T=S.data,P=S.height,E=S.layout,x=Wn(k,Mr);if(x){var I=x.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=db(this.state,T,I,O),j=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,U=E==="horizontal",W=U?{x:j,y:N}:{y:j,x:N},B=this.state.formattedGraphicalItems.find(function(L){var G=L.item;return G.type.name==="Scatter"});B&&(W=H(H({},W),B.props.points[I].tooltipPosition),C=B.props.points[I].tooltipPayload);var Y={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:W};this.setState(Y),this.renderCursor(x),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){Wv([Wn(S.children,Mr)],[Wn(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Wn(this.props.children,Mr);if(S&&typeof S.props.shared=="boolean"){var k=S.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var k=this.container,T=k.getBoundingClientRect(),P=AJ(T),E={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},x=T.width/k.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,x);if(!I)return null;var O=this.state,C=O.xAxisMap,j=O.yAxisMap,N=this.getTooltipEventType(),U=SI(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&C&&j){var W=Ki(C).scale,B=Ki(j).scale,Y=W&&W.invert?W.invert(E.chartX):null,L=B&&B.invert?B.invert(E.chartY):null;return H(H({},E),{},{xValue:Y,yValue:L},U)}return U?H(H({},E),U):null}},{key:"inRange",value:function(S,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=S/T,x=k/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,O=E>=I.left&&E<=I.left+I.width&&x>=I.top&&x<=I.top+I.height;return O?{x:E,y:x}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var U=Ki(j);return XA({x:E,y:x},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,k=this.getTooltipEventType(),T=Wn(S,Mr),P={};T&&k==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Sh(this.props,this.handleOuterEvent);return H(H({},E),P)}},{key:"addListener",value:function(){_y.on(xy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_y.removeListener(xy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,k,T){for(var P=this.state.formattedGraphicalItems,E=0,x=P.length;E<x;E++){var I=P[E];if(I.item===S||I.props.key===S.key||k===hi(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,k=this.state.offset,T=k.left,P=k.top,E=k.height,x=k.width;return $.createElement("defs",null,$.createElement("clipPath",{id:S},$.createElement("rect",{x:T,y:P,height:E,width:x})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(k,T){var P=bI(T,2),E=P[0],x=P[1];return H(H({},k),{},_e({},E,x.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(k,T){var P=bI(T,2),E=P[0],x=P[1];return H(H({},k),{},_e({},E,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(S){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(S){var k=this.state,T=k.formattedGraphicalItems,P=k.activeItem;if(T&&T.length)for(var E=0,x=T.length;E<x;E++){var I=T[E],O=I.props,C=I.item,j=C.type.defaultProps!==void 0?H(H({},C.type.defaultProps),C.props):C.props,N=hi(C.type);if(N==="Bar"){var U=(O.data||[]).find(function(L){return sae(S,L)});if(U)return{graphicalItem:I,payload:U}}else if(N==="RadialBar"){var W=(O.data||[]).find(function(L){return XA(S,L)});if(W)return{graphicalItem:I,payload:W}}else if(Bm(I,P)||Um(I,P)||Ic(I,P)){var B=cse({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),Y=j.activeIndex===void 0?B:j.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:Y}),payload:Ic(I,P)?j.data[B]:I.props.data[B]}}}return null}},{key:"render",value:function(){var S=this;if(!DE(this))return null;var k=this.props,T=k.children,P=k.className,E=k.width,x=k.height,I=k.style,O=k.compact,C=k.title,j=k.desc,N=wI(k,pfe),U=je(N,!1);if(O)return $.createElement(YP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Hv,ns({},U,{width:E,height:x,title:C,desc:j}),this.renderClipPath(),LE(T,this.renderMap)));if(this.props.accessibilityLayer){var W,B;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(B=this.props.role)!==null&&B!==void 0?B:"application",U.onKeyDown=function(L){S.accessibilityManager.keyboardEvent(L)},U.onFocus=function(){S.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return $.createElement(YP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",ns({className:Ve("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:E,height:x},I)},Y,{ref:function(G){S.container=G}}),$.createElement(Hv,ns({},U,{width:E,height:x,title:C,desc:j,style:Ofe}),this.renderClipPath(),LE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);_e(g,"displayName",n),_e(g,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),_e(g,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,S=b.data,k=b.children,T=b.width,P=b.height,E=b.layout,x=b.stackOffset,I=b.margin,O=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var j=EI(b);return H(H(H({},j),{},{updateId:0},p(H(H({props:b},j),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:x,prevMargin:I,prevChildren:k})}if(_!==w.prevDataKey||S!==w.prevData||T!==w.prevWidth||P!==w.prevHeight||E!==w.prevLayout||x!==w.prevStackOffset||!hs(I,w.prevMargin)){var N=EI(b),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},W=H(H({},SI(w,S,E)),{},{updateId:w.updateId+1}),B=H(H(H({},N),U),W);return H(H(H({},B),p(H({props:b},B),w)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:x,prevMargin:I,prevChildren:k})}if(!Wv(k,w.prevChildren)){var Y,L,G,K,te=Wn(k,Gs),V=te&&(Y=(L=te.props)===null||L===void 0?void 0:L.startIndex)!==null&&Y!==void 0?Y:O,q=te&&(G=(K=te.props)===null||K===void 0?void 0:K.endIndex)!==null&&G!==void 0?G:C,ae=V!==O||q!==C,de=!ke(S),me=de&&!ae?w.updateId:w.updateId+1;return H(H({updateId:me},p(H(H({props:b},w),{},{updateId:me,dataStartIndex:V,dataEndIndex:q}),w)),{},{prevChildren:k,dataStartIndex:V,dataEndIndex:q})}return null}),_e(g,"renderActiveDot",function(b,w,_){var S;return M.isValidElement(b)?S=M.cloneElement(b,w):Ie(b)?S=b(w):S=$.createElement(tx,w),$.createElement(kt,{className:"recharts-active-dot",key:_},S)});var y=M.forwardRef(function(w,_){return $.createElement(g,ns({},w,{ref:_}))});return y.displayName=g.displayName,y},Bfe=Ffe({chartName:"LineChart",GraphicalChild:uf,axisComponents:[{axisType:"xAxis",AxisComp:Km},{axisType:"yAxis",AxisComp:Ym}],formatAxisMap:Mle});const Ufe=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),zfe=({className:t=""})=>m.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"12",r:"3"}),m.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Wfe=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("circle",{cx:"12",cy:"8",r:"4"}),m.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),IM=({className:t=""})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),Gfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("polyline",{points:"16 6 12 2 8 6"}),m.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Hfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),qfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Kfe=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:m.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Yfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[m.jsx("path",{d:"M3 3v18h18"}),m.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Xfe=({className:t=""})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:m.jsx("polyline",{points:"9 18 15 12 9 6"})}),_p=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Qfe=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Jfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),m.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:m.jsx(Qfe,{})})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(bJ,{children:m.jsxs(Bfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[m.jsx(fM,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(Km,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),m.jsx(Ym,{stroke:"#6b7280"}),m.jsx(Mr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return m.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&m.jsxs("div",{children:[m.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),m.jsxs("div",{children:[m.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),m.jsx(na,{wrapperStyle:{color:"#e2e8f0"}}),m.jsx(uf,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const Zfe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},ede=t=>{const e=[];return Object.values(Zfe).forEach(n=>{n.check(t)&&e.push(n)}),e},tde=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return m.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[m.jsx("span",{children:t.emoji}),m.jsx("span",{className:"hidden sm:inline",children:t.name})]})},nde=({badges:t})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:""}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>m.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),rde=({badges:t})=>t.length===0?m.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):m.jsxs("div",{className:"mt-3",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" Achievements"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>m.jsx(tde,{badge:e,size:"sm"},e.id))})]}),ide=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),ode=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),ade=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=M.useState(!1),[o,a]=M.useState(""),[s,l]=M.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const d=o.includes("icloud.com"),h={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:d};if(!(d&&!window.confirm(` iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
 Google Photos (shareable links)
 iCloud Shared Albums
 Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,h];n(t,p),a(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},c=d=>{const h=e.filter(p=>p.id!==d);n(t,h)};return m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:" Game Photos"}),m.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[m.jsx(ode,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&m.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[m.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:d=>a(d.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:d=>l(d.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),m.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",m.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",m.jsx("br",{})," ",m.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&m.jsx("div",{className:"space-y-2",children:e.map(d=>m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[m.jsx("img",{src:d.url,alt:d.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(d.url,"_blank"),onError:h=>{h.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[d.description,d.isICloudLink&&m.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:""})]}),m.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(d.timestamp).toLocaleDateString()})]}),m.jsx("button",{onClick:()=>c(d.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:""})]},d.id))}),e.length===0&&!r&&m.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},sde=({photos:t=[]})=>t.length===0?null:m.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m.jsx(ide,{className:"w-3 h-3 text-gray-500"}),m.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),m.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>m.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&m.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),lde=ade,ude=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function cde({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=M.useRef(null);M.useEffect(()=>{const d=h=>{o.current&&!o.current.contains(h.target)&&(h.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]);const a=[...new Set(t.map(d=>d.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(d=>d.timestamp?new Date(d.timestamp).toISOString().split("T")[0]:d.date?d.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},c=(d,h)=>{const p={...e,[d]:h};n(p),setTimeout(()=>r&&r(),400)};return m.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&m.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[m.jsx(ude,{className:"w-3 h-3"}),"Clear"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),m.jsxs("select",{value:e.searchTerm||"",onChange:d=>c("searchTerm",d.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All opponents"}),a.map((d,h)=>m.jsx("option",{value:d,children:d},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),m.jsxs("select",{value:e.dateFilter||"",onChange:d=>c("dateFilter",d.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All dates"}),s.map((d,h)=>m.jsx("option",{value:d,children:new Date(d).toLocaleDateString()},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),m.jsxs("select",{value:e.outcomeFilter||"",onChange:d=>c("outcomeFilter",d.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[m.jsx("option",{value:"",children:"All games"}),m.jsx("option",{value:"W",children:"Wins"}),m.jsx("option",{value:"L",children:"Losses"}),m.jsx("option",{value:"T",children:"Ties"})]})]}),l&&m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&m.jsxs("span",{className:"block",children:[" Opponent: ",e.searchTerm]}),e.dateFilter&&m.jsxs("span",{className:"block",children:[" Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&m.jsxs("span",{className:"block",children:[" Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const fde=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],mo=t=>!t||!t.email||t.isAnonymous?!1:fde.includes(t.email.toLowerCase()),Ui=t=>mo(t),xp=t=>mo(t),dde=t=>mo(t),Ey=t=>mo(t),hde=t=>!t||t.isAnonymous?"guest":mo(t)?"admin":"viewer",Jt=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},kM=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),hb=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),Rd=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),Ty=({className:t=""})=>m.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),pde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),mde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),gde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),yde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),vde=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),nt=({label:t,value:e,onClick:n,clickable:r,onEdit:i,editable:o,isEditing:a,editValue:s,onEditChange:l,onSave:u,onCancel:c,gameId:d})=>m.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""} ${a?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-600":""}`,onClick:r?n:void 0,children:[m.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[m.jsx("span",{className:"text-xs text-orange-500",children:t}),o&&!a&&m.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-0.5 text-gray-400 hover:text-blue-500 transition",title:`Edit ${t}`,children:m.jsx(kM,{className:"w-2 h-2"})})]}),a?m.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[m.jsx("input",{type:"number",value:s===0?"":s,onChange:h=>l(h.target.value===""?0:parseInt(h.target.value)||0),className:"w-full text-center text-sm px-1 py-0.5 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0",onClick:h=>h.stopPropagation(),onFocus:h=>h.target.select(),onKeyDown:h=>{h.key==="Enter"&&(h.stopPropagation(),u()),h.key==="Escape"&&(h.stopPropagation(),c())},autoFocus:!0}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:"p-0.5 text-green-500 hover:text-green-600 bg-green-50 dark:bg-green-900/20 rounded",title:"Save",children:m.jsx(hb,{className:"w-3 h-3"})}),m.jsx("button",{onClick:h=>{h.stopPropagation(),c()},className:"p-0.5 text-gray-500 hover:text-gray-600 bg-gray-50 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(Rd,{className:"w-3 h-3"})})]})]}):m.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function bde(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function wde({user:t,stats:e=[],teams:n=[],onDeleteGame:r,onUpdateGamePhotos:i,onUpdateGame:o,externalFilters:a={},isUserAdmin:s=!1}){M.useState("");const[l,u]=M.useState(null),[c,d]=M.useState(""),[h,p]=M.useState(""),[g,y]=M.useState(""),[b,w]=M.useState(!1),[_,S]=M.useState([]),[k,T]=M.useState(!0),[P,E]=M.useState(1),[x,I]=M.useState(null),[O,C]=M.useState(null);M.useState(!1);const[j,N]=M.useState([]),[U,W]=M.useState(!1),[B,Y]=M.useState(!1),[L,G]=M.useState(null),[K,te]=M.useState(null),[V,q]=M.useState({}),[ae,de]=M.useState(null),me=4,we=M.useMemo(()=>{const D=new Set;return(e||[]).forEach(re=>{re.opponent&&D.add(re.opponent.trim())}),Array.from(D)},[e]);M.useMemo(()=>{const D=new Set;return(e||[]).forEach(re=>{re.location&&D.add(re.location.trim())}),Array.from(D)},[e]),M.useMemo(()=>{const D=new Map;for(const re of n)re&&re.id&&!D.has(re.name.toLowerCase())&&D.set(re.name.toLowerCase(),re);return Array.from(D.values())},[n]),M.useMemo(()=>c?we.filter(D=>D.toLowerCase().includes(c.toLowerCase())).slice(0,7):[],[we,c]);const Ae=(e||[]).reduce((D,re)=>(D.points=(D.points||0)+(parseInt(re.points,10)||0),D.fg2m=(D.fg2m||0)+(parseInt(re.fg2m,10)||0),D.fg2a=(D.fg2a||0)+(parseInt(re.fg2a,10)||0),D.fg3m=(D.fg3m||0)+(parseInt(re.fg3m,10)||0),D.fg3a=(D.fg3a||0)+(parseInt(re.fg3a,10)||0),D.ftm=(D.ftm||0)+(parseInt(re.ftm,10)||0),D.fta=(D.fta||0)+(parseInt(re.fta,10)||0),D.rebounds=(D.rebounds||0)+(parseInt(re.rebounds,10)||0),D.assists=(D.assists||0)+(parseInt(re.assists,10)||0),D.steals=(D.steals||0)+(parseInt(re.steals,10)||0),D.blocks=(D.blocks||0)+(parseInt(re.blocks,10)||0),D.fouls=(D.fouls||0)+(parseInt(re.fouls,10)||0),D.turnovers=(D.turnovers||0)+(parseInt(re.turnovers,10)||0),D.gamesPlayed=(D.gamesPlayed||0)+1,D),{}),ne=(Ae.fg2m||0)+(Ae.fg3m||0),ye=(Ae.fg2a||0)+(Ae.fg3a||0),be=(D,re)=>!re||re===0?"0%":`${Math.round(D/re*100)}%`,Q=(D,re)=>!re||re===0?D>0?`${D.toFixed(1)}`:"0.0":(D/re).toFixed(2),$e=M.useMemo(()=>{let D=[...e||[]];return c&&(D=D.filter(re=>(re.opponent||"").toLowerCase().includes(c.toLowerCase()))),h&&(D=D.filter(re=>{let Be="";return re.timestamp?Be=new Date(re.timestamp).toISOString().split("T")[0]:re.date&&(Be=re.date),Be===h})),g&&(D=D.filter(re=>re.outcome===g)),D.sort((re,Be)=>re.timestamp<Be.timestamp?1:re.timestamp>Be.timestamp?-1:0),D},[e,c,h,g]),Pe=M.useMemo(()=>{const D=(P-1)*me;return $e.slice(D,D+me)},[$e,P]),Ge=Math.ceil($e.length/me),Fe=(D,re,Be={})=>{if(!Ui(t)){Jt("edit games");return}G(D),te(re),q(Be),de(null)},Re=(D,re,Be)=>{if(!Ui(t)){Jt("edit stats");return}G(D),te("stats"),de(re),q({[re]:Be})},Me=()=>{G(null),te(null),q({}),de(null)},Ke=async()=>{if(!(!L||!o))try{if(K==="stats"){const D={...V};if(["fg2m","fg3m","ftm"].some(re=>re in D)){const re=e.find(Be=>Be.id===L);if(re){const Be={...re,...D};D.points=Be.fg2m*2+Be.fg3m*3+Be.ftm}}await o(L,D)}else await o(L,V);Me()}catch(D){console.error("Error updating game:",D),alert("Failed to update game. Please try again.")}},Ot=(D,re)=>{if(D==="gamesPlayed")u({statKey:D,statName:"Games Played per Age",data:bde(e||[])});else{const Be=[...e||[]].sort((_n,At)=>(_n.timestamp||0)-(At.timestamp||0)).map(_n=>({value:D==="assistTurnoverRatio"?_n.turnovers?(_n.assists/_n.turnovers).toFixed(2):"0.00":_n[D]||0,date:new Date(_n.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:_n.teamName,opponent:_n.opponent}));u({statKey:D,statName:re,data:Be})}},X=()=>{if(!s){Jt("select and delete games");return}W(!U),N([])},se=D=>{s&&N(re=>re.includes(D)?re.filter(Be=>Be!==D):[...re,D])},le=()=>{if(!s)return;const D=Pe.map(re=>re.id);N(D)},ge=()=>{N([])},ot=()=>{if(!xp(t)){Jt("delete games");return}Y(!0)},Je=()=>{j.forEach(D=>{r(D)}),N([]),W(!1),Y(!1)},et=D=>{if(!xp(t)){Jt("delete games");return}I(D)},Tt=()=>{O&&(onDeleteTeam(O),C(null))},Nr=D=>{U||S(re=>re.includes(D)?re.filter(Be=>Be!==D):[...re,D])},_t=D=>D==null||D===""?0:D,xl=D=>{if(!D)return"No date";const re=new Date(D);return re.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+re.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return m.jsxs("div",{children:[l&&m.jsx(Jfe,{graphData:l,onClose:()=>u(null)}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[m.jsx(nt,{label:"Games Played",value:Ae.gamesPlayed||0}),m.jsx(nt,{label:"Points",value:Ae.points||0,clickable:!0,onClick:()=>Ot("points","Points")}),m.jsx(nt,{label:"Rebounds",value:Ae.rebounds||0,clickable:!0,onClick:()=>Ot("rebounds","Rebounds")}),m.jsx(nt,{label:"Assists",value:Ae.assists||0,clickable:!0,onClick:()=>Ot("assists","Assists")}),m.jsx(nt,{label:"Steals",value:Ae.steals||0,clickable:!0,onClick:()=>Ot("steals","Steals")}),m.jsx(nt,{label:"Blocks",value:Ae.blocks||0,clickable:!0,onClick:()=>Ot("blocks","Blocks")}),m.jsx(nt,{label:"Fouls",value:Ae.fouls||0,clickable:!0,onClick:()=>Ot("fouls","Fouls")}),m.jsx(nt,{label:"Turnovers",value:Ae.turnovers||0,clickable:!0,onClick:()=>Ot("turnovers","Turnovers")}),m.jsx(nt,{label:"A/T Ratio",value:Q(Ae.assists,Ae.turnovers)})]}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),m.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[m.jsx(nt,{label:"FG%",value:be(ne,ye)}),m.jsx(nt,{label:"FT%",value:be(Ae.ftm,Ae.fta)}),m.jsx(nt,{label:"2-Point %",value:be(Ae.fg2m,Ae.fg2a)}),m.jsx(nt,{label:"3-Point %",value:be(Ae.fg3m,Ae.fg3a)})]})]})}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>T(!k),children:[m.jsx(vde,{isExpanded:k}),m.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(c||h||g)&&m.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",$e.length," of ",(e||[]).length," games",c&&m.jsxs("span",{className:"block text-xs",children:[" Opponent: ",c]}),h&&m.jsxs("span",{className:"block text-xs",children:[" Date: ",new Date(h).toLocaleDateString()]}),g&&m.jsxs("span",{className:"block text-xs",children:[" Result: ",g==="W"?"Wins":g==="L"?"Losses":"Ties"]})]})]}),k&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:s&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:X,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${U?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:U?"Cancel selection":"Select multiple games",children:[U?m.jsx(Rd,{className:"h-4 w-4 sm:h-3 sm:w-3"}):m.jsx(pde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:U?"Cancel":"Select"}),m.jsx("span",{className:"hidden sm:inline",children:U?"Cancel":"Select"})]}),U&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:le,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[m.jsx(mde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"All"}),m.jsx("span",{className:"hidden sm:inline",children:"All"})]}),m.jsxs("button",{onClick:ge,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[m.jsx(gde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Clear"}),m.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[s&&U&&j.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.length," selected"]}),m.jsxs("button",{onClick:ot,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[m.jsx(_p,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Delete"}),m.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{"data-filter-button":"true",onClick:D=>{D.stopPropagation(),w(!b)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${c||h||g?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[m.jsx(Ufe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),m.jsx("span",{className:"sm:hidden",children:"Filter"}),m.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),b&&m.jsx(cde,{games:e,filters:{searchTerm:c,dateFilter:h,outcomeFilter:g},onFiltersChange:D=>{d(D.searchTerm||""),p(D.dateFilter||""),y(D.outcomeFilter||""),E(1)},onClose:()=>w(!1)})]})]})]}),m.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:Pe.length>0?Pe.map(D=>{const re=_.includes(D.id),Be=j.includes(D.id),_n=ede(D),At=L===D.id;return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>U&&s?se(D.id):Nr(D.id),children:[m.jsxs("div",{className:"flex items-center gap-2",children:[U&&s&&m.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Be?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:ue=>{ue.stopPropagation(),se(D.id)},children:Be&&m.jsx(yde,{className:"w-3 h-3 text-white"})}),(!U||!s)&&m.jsx(Xfe,{className:`transition-transform duration-200 text-black dark:text-white ${re?"rotate-90":""}`,style:{minWidth:20}}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:xl(D.timestamp)}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[D.teamName," vs ",D.opponent]})}),D.location&&m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 italic",children:[m.jsx(Ty,{className:"w-3 h-3"}),m.jsx("span",{children:D.location})]}),m.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:D.adminName?`Scored by ${D.adminName}`:""}),m.jsx(nde,{badges:_n}),m.jsx(sde,{photos:D.photos})]})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${D.outcome==="W"?"bg-green-100 text-green-800":D.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[D.outcome||"T"," ",_t(D.myTeamScore),"-",_t(D.opponentScore)]}),s&&!U&&m.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:ue=>{ue.stopPropagation(),et(D.id)},title:"Delete Game",children:m.jsx(_p,{className:"w-4 h-4"})})]})]}),re&&!U&&m.jsxs("div",{className:"p-4 pt-2 relative",children:[s&&m.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-600",children:m.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[At&&K==="score"?m.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg border border-orange-200 dark:border-orange-600",children:[m.jsx("input",{type:"number",value:V.myTeamScore===0?"":V.myTeamScore,onChange:ue=>q({...V,myTeamScore:ue.target.value===""?0:parseInt(ue.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:ue=>ue.stopPropagation(),onFocus:ue=>ue.target.select(),autoFocus:!0}),m.jsx("span",{className:"text-sm font-bold",children:"-"}),m.jsx("input",{type:"number",value:V.opponentScore===0?"":V.opponentScore,onChange:ue=>q({...V,opponentScore:ue.target.value===""?0:parseInt(ue.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:ue=>ue.stopPropagation(),onFocus:ue=>ue.target.select(),onKeyDown:ue=>{ue.key==="Enter"&&(ue.stopPropagation(),Ke()),ue.key==="Escape"&&(ue.stopPropagation(),Me())}}),m.jsx("button",{onClick:ue=>{ue.stopPropagation(),Ke()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(hb,{className:"w-4 h-4"})}),m.jsx("button",{onClick:ue=>{ue.stopPropagation(),Me()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(Rd,{className:"w-4 h-4"})})]}):m.jsxs("button",{onClick:ue=>{ue.stopPropagation(),Fe(D.id,"score",{myTeamScore:D.myTeamScore||0,opponentScore:D.opponentScore||0})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Score",children:[m.jsx(kM,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),At&&K==="location"?m.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/30 p-2 rounded-lg border border-green-200 dark:border-green-600",children:[m.jsx("input",{type:"text",value:V.location||"",onChange:ue=>q({...V,location:ue.target.value}),className:"text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[120px]",onClick:ue=>ue.stopPropagation(),onKeyDown:ue=>{ue.key==="Enter"&&(ue.stopPropagation(),Ke()),ue.key==="Escape"&&(ue.stopPropagation(),Me())},onFocus:ue=>ue.target.select(),placeholder:"Location",autoFocus:!0}),m.jsx("button",{onClick:ue=>{ue.stopPropagation(),Ke()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:m.jsx(hb,{className:"w-4 h-4"})}),m.jsx("button",{onClick:ue=>{ue.stopPropagation(),Me()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:m.jsx(Rd,{className:"w-4 h-4"})})]}):D.location?m.jsxs("button",{onClick:ue=>{ue.stopPropagation(),Fe(D.id,"location",{location:D.location})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Location",children:[m.jsx(Ty,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Location"})]}):m.jsxs("button",{onClick:ue=>{ue.stopPropagation(),Fe(D.id,"location",{location:""})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Add Location",children:[m.jsx(Ty,{className:"w-4 h-4 sm:w-3 sm:h-3"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[m.jsx(nt,{label:"Points",value:_t(D.points),editable:s,isEditing:At&&K==="stats"&&ae==="points",editValue:V.points,onEdit:()=>Re(D.id,"points",D.points||0),onEditChange:ue=>q({...V,points:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"2PT Made",value:_t(D.fg2m),editable:s,isEditing:At&&K==="stats"&&ae==="fg2m",editValue:V.fg2m,onEdit:()=>Re(D.id,"fg2m",D.fg2m||0),onEditChange:ue=>q({...V,fg2m:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"2PT Att",value:_t(D.fg2a),editable:s,isEditing:At&&K==="stats"&&ae==="fg2a",editValue:V.fg2a,onEdit:()=>Re(D.id,"fg2a",D.fg2a||0),onEditChange:ue=>q({...V,fg2a:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"3PT Made",value:_t(D.fg3m),editable:s,isEditing:At&&K==="stats"&&ae==="fg3m",editValue:V.fg3m,onEdit:()=>Re(D.id,"fg3m",D.fg3m||0),onEditChange:ue=>q({...V,fg3m:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"3PT Att",value:_t(D.fg3a),editable:s,isEditing:At&&K==="stats"&&ae==="fg3a",editValue:V.fg3a,onEdit:()=>Re(D.id,"fg3a",D.fg3a||0),onEditChange:ue=>q({...V,fg3a:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"FT Made",value:_t(D.ftm),editable:s,isEditing:At&&K==="stats"&&ae==="ftm",editValue:V.ftm,onEdit:()=>Re(D.id,"ftm",D.ftm||0),onEditChange:ue=>q({...V,ftm:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"FT Att",value:_t(D.fta),editable:s,isEditing:At&&K==="stats"&&ae==="fta",editValue:V.fta,onEdit:()=>Re(D.id,"fta",D.fta||0),onEditChange:ue=>q({...V,fta:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Rebounds",value:_t(D.rebounds),editable:s,isEditing:At&&K==="stats"&&ae==="rebounds",editValue:V.rebounds,onEdit:()=>Re(D.id,"rebounds",D.rebounds||0),onEditChange:ue=>q({...V,rebounds:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Assists",value:_t(D.assists),editable:s,isEditing:At&&K==="stats"&&ae==="assists",editValue:V.assists,onEdit:()=>Re(D.id,"assists",D.assists||0),onEditChange:ue=>q({...V,assists:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Steals",value:_t(D.steals),editable:s,isEditing:At&&K==="stats"&&ae==="steals",editValue:V.steals,onEdit:()=>Re(D.id,"steals",D.steals||0),onEditChange:ue=>q({...V,steals:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Blocks",value:_t(D.blocks),editable:s,isEditing:At&&K==="stats"&&ae==="blocks",editValue:V.blocks,onEdit:()=>Re(D.id,"blocks",D.blocks||0),onEditChange:ue=>q({...V,blocks:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Fouls",value:_t(D.fouls),editable:s,isEditing:At&&K==="stats"&&ae==="fouls",editValue:V.fouls,onEdit:()=>Re(D.id,"fouls",D.fouls||0),onEditChange:ue=>q({...V,fouls:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"Turnovers",value:_t(D.turnovers),editable:s,isEditing:At&&K==="stats"&&ae==="turnovers",editValue:V.turnovers,onEdit:()=>Re(D.id,"turnovers",D.turnovers||0),onEditChange:ue=>q({...V,turnovers:ue}),onSave:Ke,onCancel:Me,gameId:D.id}),m.jsx(nt,{label:"A/T Ratio",value:Q(_t(D.assists),_t(D.turnovers)),editable:!1})]}),m.jsx(rde,{badges:_n}),s&&m.jsx(lde,{gameId:D.id,photos:D.photos||[],onPhotosUpdate:i||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},D.id)}):m.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),Ge>1&&m.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>E(D=>Math.max(1,D-1)),disabled:P===1,children:"Prev"}),m.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",P," of ",Ge]}),m.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>E(D=>Math.min(Ge,D+1)),disabled:P===Ge,children:"Next"})]})]})]})]}),s&&B&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",j.length," Games?"]}),m.jsxs("p",{className:"mb-6 text-gray-900 dark:text-white",children:["Are you sure you want to delete ",j.length," selected game",j.length!==1?"s":"","? This cannot be undone."]}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white",onClick:()=>Y(!1),children:"Cancel"}),m.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Je,children:["Delete ",j.length," Game",j.length!==1?"s":""]})]})]})}),s&&x&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),m.jsx("p",{className:"mb-6 text-gray-900 dark:text-white",children:"Are you sure you want to delete this game? This cannot be undone."}),m.jsxs("div",{className:"flex gap-4 justify-end",children:[m.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>I(null),children:"Cancel"}),m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{x&&(r(x),I(null))},children:"Delete"})]})]})}),s&&O&&m.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),m.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),m.jsx("div",{className:"flex gap-4 justify-end",children:m.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Tt,children:"Delete"})})]})})]})}class ht{static savePendingGame(e){const n=this.getPendingGames(),r={...e,tempId:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,offlineCreatedAt:new Date().toISOString()};return n.push(r),localStorage.setItem(this.KEYS.PENDING_GAMES,JSON.stringify(n)),r.tempId}static getPendingGames(){const e=localStorage.getItem(this.KEYS.PENDING_GAMES);return e?JSON.parse(e):[]}static removePendingGame(e){const r=this.getPendingGames().filter(i=>i.tempId!==e);localStorage.setItem(this.KEYS.PENDING_GAMES,JSON.stringify(r))}static savePendingUpdate(e,n){const r=this.getPendingUpdates();r[e]={...r[e],...n,timestamp:Date.now(),offlineModifiedAt:new Date().toISOString()},localStorage.setItem(this.KEYS.PENDING_UPDATES,JSON.stringify(r))}static getPendingUpdates(){const e=localStorage.getItem(this.KEYS.PENDING_UPDATES);return e?JSON.parse(e):{}}static clearPendingUpdate(e){const n=this.getPendingUpdates();delete n[e],localStorage.setItem(this.KEYS.PENDING_UPDATES,JSON.stringify(n))}static savePendingLiveUpdate(e,n){const r=this.getPendingLiveUpdates();r[e]||(r[e]=[]),r[e].push({...n,timestamp:Date.now(),offlineModifiedAt:new Date().toISOString()}),localStorage.setItem(this.KEYS.PENDING_LIVE_UPDATES,JSON.stringify(r))}static getPendingLiveUpdates(){const e=localStorage.getItem(this.KEYS.PENDING_LIVE_UPDATES);return e?JSON.parse(e):{}}static clearPendingLiveUpdates(e){const n=this.getPendingLiveUpdates();delete n[e],localStorage.setItem(this.KEYS.PENDING_LIVE_UPDATES,JSON.stringify(n))}static getPendingCount(){const e=this.getPendingGames().length,n=Object.keys(this.getPendingUpdates()).length,r=Object.keys(this.getPendingLiveUpdates()).length;return e+n+r}static cacheData(e,n){const r=this.getCachedData();r[e]={data:n,cachedAt:new Date().toISOString()},localStorage.setItem(this.KEYS.CACHED_DATA,JSON.stringify(r))}static getCachedData(e=null){var i;const n=localStorage.getItem(this.KEYS.CACHED_DATA),r=n?JSON.parse(n):{};return e?(i=r[e])==null?void 0:i.data:r}static clearCache(){localStorage.removeItem(this.KEYS.CACHED_DATA)}static getSyncStatus(){return localStorage.getItem(this.KEYS.SYNC_STATUS)||"online"}static setSyncStatus(e){localStorage.setItem(this.KEYS.SYNC_STATUS,e)}static clearAllOfflineData(){Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)})}static getOfflineSummary(){return{pendingGames:this.getPendingGames().length,pendingUpdates:Object.keys(this.getPendingUpdates()).length,pendingLiveUpdates:Object.keys(this.getPendingLiveUpdates()).length,totalPending:this.getPendingCount(),cacheKeys:Object.keys(this.getCachedData()),syncStatus:this.getSyncStatus()}}}Tf(ht,"KEYS",{PENDING_GAMES:"sahil_stats_pending_games",PENDING_UPDATES:"sahil_stats_pending_updates",PENDING_LIVE_UPDATES:"sahil_stats_pending_live_updates",CACHED_DATA:"sahil_stats_cached_data",SYNC_STATUS:"sahil_stats_sync_status"});class Zi{static addSyncCallback(e){this.syncCallbacks.push(e)}static removeSyncCallback(e){this.syncCallbacks=this.syncCallbacks.filter(n=>n!==e)}static notifyCallbacks(e,n=null,r=null){this.syncCallbacks.forEach(i=>{try{i({status:e,progress:n,error:r})}catch(o){console.error("Sync callback error:",o)}})}static async syncAllOfflineData(e){if(this.syncInProgress)return console.log("Sync already in progress"),{success:!1,message:"Sync already in progress"};if(!e)return console.log("No user provided for sync"),{success:!1,message:"No user provided"};this.syncInProgress=!0,this.notifyCallbacks("started");const n={games:{synced:0,failed:0},updates:{synced:0,failed:0},liveUpdates:{synced:0,failed:0}};try{await this.syncPendingGames(n),await this.syncPendingUpdates(n),await this.syncPendingLiveUpdates(n);const r=n.games.synced+n.updates.synced+n.liveUpdates.synced,i=n.games.failed+n.updates.failed+n.liveUpdates.failed;return this.notifyCallbacks("completed",n),{success:i===0,results:n,message:`Synced ${r} items${i>0?`, ${i} failed`:""}`}}catch(r){return console.error("Sync failed:",r),this.notifyCallbacks("error",null,r),{success:!1,message:"Sync failed: "+r.message,error:r}}finally{this.syncInProgress=!1}}static async syncPendingGames(e){const n=ht.getPendingGames();for(let r=0;r<n.length;r++){const i=n[r];try{this.notifyCallbacks("syncing",{type:"games",current:r+1,total:n.length,item:`${i.teamName} vs ${i.opponent}`});const{tempId:o,offlineCreatedAt:a,...s}=i,l=await Fa(On(He,"games"),s);ht.removePendingGame(o),e.games.synced++,console.log(`Synced game: ${i.teamName} vs ${i.opponent} (${o} -> ${l.id})`)}catch(o){console.error(`Failed to sync game ${i.tempId}:`,o),e.games.failed++}}}static async syncPendingUpdates(e){const n=ht.getPendingUpdates(),r=Object.keys(n);for(let i=0;i<r.length;i++){const o=r[i],a=n[o];try{this.notifyCallbacks("syncing",{type:"updates",current:i+1,total:r.length,item:`Game ${o}`});const{timestamp:s,offlineModifiedAt:l,...u}=a;await Sr(Lt(He,"games",o),u),ht.clearPendingUpdate(o),e.updates.synced++,console.log(`Synced update for game: ${o}`)}catch(s){console.error(`Failed to sync update for game ${o}:`,s),e.updates.failed++}}}static async syncPendingLiveUpdates(e){const n=ht.getPendingLiveUpdates(),r=Object.keys(n);for(let i=0;i<r.length;i++){const o=r[i],a=n[o];try{this.notifyCallbacks("syncing",{type:"liveUpdates",current:i+1,total:r.length,item:`Live Game ${o}`});const s=a.sort((l,u)=>l.timestamp-u.timestamp);for(const l of s){const{timestamp:u,offlineModifiedAt:c,...d}=l;await Sr(Lt(He,"liveGames",o),d)}ht.clearPendingLiveUpdates(o),e.liveUpdates.synced++,console.log(`Synced ${a.length} live updates for game: ${o}`)}catch(s){console.error(`Failed to sync live updates for game ${o}:`,s),e.liveUpdates.failed++}}}static async forceSyncNow(e){return console.log("Force sync triggered"),await this.syncAllOfflineData(e)}static isSyncing(){return this.syncInProgress}static getPendingCount(){return ht.getPendingCount()}}Tf(Zi,"syncInProgress",!1),Tf(Zi,"syncCallbacks",[]);const AI=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),_de=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.5 8.5a5 5 0 017 0M5 12.5a9 9 0 0114 0M12 21l0-8.5m-7-2.5a13 13 0 0114 0"})}),PI=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),xde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});function Sde({isOnline:t,user:e,size:n="sm",showText:r=!0,onClick:i=null}){const[o,a]=M.useState(null),[s,l]=M.useState(0),[u,c]=M.useState(null),d={xs:{icon:"w-3 h-3",text:"text-xs",padding:"px-1 py-0.5"},sm:{icon:"w-4 h-4",text:"text-xs",padding:"px-2 py-1"},md:{icon:"w-5 h-5",text:"text-sm",padding:"px-3 py-1.5"},lg:{icon:"w-6 h-6",text:"text-base",padding:"px-4 py-2"}},h=d[n]||d.sm;M.useEffect(()=>{const g=()=>{l(ht.getPendingCount())};g();const y=setInterval(g,1e3);return()=>clearInterval(y)},[]),M.useEffect(()=>{const g=({status:y,progress:b,error:w})=>{a(y),c(b),(y==="completed"||y==="error")&&setTimeout(()=>{a(null),c(null)},3e3)};return Zi.addSyncCallback(g),()=>{Zi.removeSyncCallback(g)}},[]);const p=async()=>{if(!(!e||Zi.isSyncing()||s===0))try{const g=await Zi.forceSyncNow(e);console.log("Manual sync result:",g)}catch(g){console.error("Manual sync failed:",g)}};if(o==="started"||o==="syncing")return m.jsxs("div",{className:`flex items-center gap-1 text-blue-500 ${h.padding} rounded-md bg-blue-50 dark:bg-blue-900/20`,children:[m.jsx(AI,{className:`${h.icon} animate-spin`}),r&&m.jsx("span",{className:h.text,children:u?`Syncing ${u.item}...`:"Syncing..."})]});if(o==="completed")return m.jsxs("div",{className:`flex items-center gap-1 text-green-500 ${h.padding} rounded-md bg-green-50 dark:bg-green-900/20`,children:[m.jsx(PI,{className:h.icon}),r&&m.jsx("span",{className:h.text,children:"Synced!"})]});if(o==="error")return m.jsxs("div",{className:`flex items-center gap-1 text-red-500 ${h.padding} rounded-md bg-red-50 dark:bg-red-900/20`,children:[m.jsx(xde,{className:h.icon}),r&&m.jsx("span",{className:h.text,children:"Sync failed"})]});if(!t)return m.jsxs("div",{className:`flex items-center gap-1 text-orange-500 ${h.padding} rounded-md bg-orange-50 dark:bg-orange-900/20`,children:[m.jsx(_de,{className:h.icon}),r&&m.jsxs("span",{className:h.text,children:["Offline",s>0&&` (${s})`]})]});if(s>0){const g=i?"button":"div";return m.jsxs(g,{className:`flex items-center gap-1 text-amber-600 dark:text-amber-400 ${h.padding} rounded-md bg-amber-50 dark:bg-amber-900/20 ${i?"hover:bg-amber-100 dark:hover:bg-amber-800/30 cursor-pointer transition-colors":""}`,onClick:i||p,title:i?void 0:"Click to sync now",children:[m.jsx(AI,{className:h.icon}),r&&m.jsxs("span",{className:h.text,children:[s," pending"]})]})}return n==="xs"||!r?null:m.jsxs("div",{className:`flex items-center gap-1 text-green-500 ${h.padding}`,children:[m.jsx(PI,{className:h.icon}),r&&m.jsx("span",{className:h.text,children:"Online"})]})}const Ede=({active:t})=>m.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}}),Tde=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),Ade=({className:t=""})=>m.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.5 8.5a5 5 0 017 0M5 12.5a9 9 0 0114 0M12 21l0-8.5m-7-2.5a13 13 0 0114 0"})}),II=({className:t="",spinning:e=!1})=>m.jsx("svg",{className:`${t} ${e?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})});function dd({user:t,onSignOut:e,setPage:n,theme:r,toggleTheme:i,page:o,liveGameId:a,goToLiveGame:s,openSettingsModal:l,onSignIn:u,isUserAdmin:c=!1,isOnline:d=!0,onManualSync:h,syncInProgress:p=!1}){const[g,y]=M.useState(0),b=!!a;M.useEffect(()=>{const P=()=>{y(ht.getPendingCount())};P();const E=setInterval(P,2e3);return()=>clearInterval(E)},[]);const w=()=>d?c?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80":"bg-yellow-50 dark:bg-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800",_=()=>{b&&(o==="live_admin"&&c?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&s():s())},S=m.jsxs("button",{disabled:!b,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${b?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:_,title:b?"Watch Live Game":"No Live Game In Progress",children:[m.jsx(Ede,{active:b}),m.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),k=()=>{if(!c){alert("Access denied. Only administrators can access settings.");return}l()},T=()=>{!c||p||g===0||h()};return m.jsx("header",{className:`${w()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,children:m.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:`flex items-center gap-2 cursor-pointer group relative ${c?"p-1 sm:p-3 rounded-lg sm:rounded-xl bg-white dark:bg-gray-800 shadow-lg sm:shadow-xl border border-orange-200 dark:border-orange-700 hover:shadow-xl sm:hover:shadow-2xl transition-all duration-300":""}`,onClick:()=>{n(c?"game_setup":"dashboard")},children:[m.jsx("div",{className:`flex items-center justify-center text-lg ${c?"w-10 h-10":""}`,children:m.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:""})}),m.jsx("div",{className:"hidden sm:flex flex-col",children:m.jsx("span",{className:`text-lg font-bold ${c?"text-orange-600 dark:text-orange-400":"bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent"}`,children:"Sahil's Stats"})})]}),S,m.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all ${d?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300 shadow-md":"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 shadow-md"}`,children:[d?m.jsx(Tde,{className:"w-3 h-3"}):m.jsx(Ade,{className:"w-3 h-3"}),m.jsx("span",{className:"font-bold tracking-wide",children:d?"ONLINE":"OFFLINE"}),!d&&g>0&&m.jsx("span",{className:"bg-red-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold ml-1",children:g})]}),d&&g>0&&c&&m.jsxs("button",{onClick:T,disabled:p,className:"flex items-center gap-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-800/40 text-blue-700 dark:text-blue-300 rounded-full text-xs transition-colors disabled:opacity-50",title:`${g} items ready to sync`,children:[m.jsx(II,{className:"w-3 h-3",spinning:p}),m.jsx("span",{className:"hidden sm:inline",children:p?"Syncing...":`${g} pending`})]})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("button",{onClick:k,disabled:!c,className:`flex items-center justify-center rounded-lg p-2 transition-all ${c?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:c?"Settings":"Settings (Admin Only)",children:m.jsx(zfe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),m.jsx("button",{onClick:()=>n("dashboard"),className:`flex items-center justify-center rounded-lg p-2 transition-all ${c?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200"}`,title:"Dashboard",children:m.jsx(Yfe,{className:"h-5 w-5"})}),c&&m.jsx("div",{className:"hidden lg:block",children:m.jsx(Sde,{isOnline:d,user:t,size:"xs",showText:!1,onClick:!p&&g>0?T:void 0})}),t&&!t.isAnonymous?m.jsx("button",{onClick:e,className:`rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all ${c?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-red-500 hover:bg-red-600 text-white"}`,title:"Sign Out",children:m.jsx(Hfe,{className:"h-5 w-5"})}):u&&m.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:m.jsx(Wfe,{className:"h-5 w-5"})})]})]}),!d&&c&&g>0&&m.jsx("div",{className:"mt-2 lg:hidden flex justify-center",children:m.jsxs("button",{onClick:T,disabled:p,className:"flex items-center gap-2 px-3 py-1 bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-400 text-yellow-900 rounded-full text-xs font-medium transition-colors",children:[m.jsx(II,{className:"w-3 h-3",spinning:p}),p?"Syncing...":`Sync ${g} items`]})})]})})}function Pde({onSignIn:t}){return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:m.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx(IM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),m.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),m.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[m.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:m.jsx("strong",{children:" Welcome to Sahil's Stats!"})}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:" Anyone can view games and stats  Family admins can sign in to create and manage games  Click the basketball logo above to view the dashboard"})]}),m.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[m.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),m.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),m.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),m.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),m.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function En({label:t,value:e,onIncrement:n,onDecrement:r}){return m.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:""}),m.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),m.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function gs({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),m.jsx("div",{className:"flex justify-center items-center gap-4",children:a?m.jsx(En,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):m.jsxs(m.Fragment,{children:[m.jsx(En,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),m.jsx(En,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function fx({status:t}){return t==="saving"?m.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const Ide=({isExpanded:t,className:e=""})=>m.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function kde({db:t,gameId:e,user:n,onEndGame:r}){var K,te;const[i,o]=M.useState(null),[a,s]=M.useState(""),[l,u]=M.useState(!1),[c,d]=M.useState(null),[h,p]=M.useState(0),[g,y]=M.useState(0),b=M.useRef(null),w=M.useRef(null);M.useEffect(()=>{const V=Za(Lt(t,"liveGames",e),q=>{if(q.exists()){const ae={id:q.id,...q.data()};w.current=ae.period,o(ae);const de=Date.now();if(ae.isRunning&&ae.clockStartTime){const me=de-ae.clockStartTime,we=Math.floor(me/1e3),Ae=Math.max(0,ae.clockAtStart-we),ne=Math.max(0,ae.clockAtStart*1e3-me)/100;p(Ae),y(ne)}else p(ae.clock||0),y((ae.clock||0)*10)}else o(null),p(0)});return()=>{V(),b.current&&(clearInterval(b.current),b.current=null)}},[t,e]),M.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const V=h<=60?100:1e3;b.current=setInterval(()=>{const ae=Date.now()-i.clockStartTime,de=Math.floor(ae/1e3),me=Math.max(0,i.clockAtStart-de),we=Math.max(0,i.clockAtStart*1e3-ae)/100;p(me),y(we),me<=0&&i.isRunning&&_()},V)}else b.current&&(clearInterval(b.current),b.current=null);return()=>{b.current&&(clearInterval(b.current),b.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,h,e]);const _=()=>{if(!i)return;const q=i.gameFormat==="halves"?2:4;i.period===q?Sr(Lt(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Sr(Lt(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},S=(V,q)=>{if(!i)return;const ae=V==="home"?"homeScore":"awayScore";if(q<0&&i[ae]<=0)return;const de={[ae]:Ro(q)};if(!i.isRunning){const we=Date.now();de.isRunning=!0,de.clockStartTime=we,de.clockAtStart=i.clock||i.periodLength*60}const me=Sr(Lt(t,"liveGames",e),de);T(me)},k=(V,q)=>{const ae=Lt(t,"liveGames",e),de=i.playerStats,me=Math.max(0,de[V]+q),we={[`playerStats.${V}`]:me};if(!i.isRunning){const ne=Date.now();we.isRunning=!0,we.clockStartTime=ne,we.clockAtStart=i.clock||i.periodLength*60}q>0?(V==="fg2m"&&(we.homeScore=Ro(2)),V==="fg3m"&&(we.homeScore=Ro(3)),V==="ftm"&&(we.homeScore=Ro(1))):q<0&&(V==="fg2m"&&de.fg2m>0&&(we.homeScore=Ro(-2)),V==="fg3m"&&de.fg3m>0&&(we.homeScore=Ro(-3)),V==="ftm"&&de.ftm>0&&(we.homeScore=Ro(-1))),V==="fg2m"&&q>0&&me>de.fg2a&&(we["playerStats.fg2a"]=me),V==="fg2a"&&q<0&&me<de.fg2m&&(we["playerStats.fg2m"]=me),V==="fg3m"&&q>0&&me>de.fg3a&&(we["playerStats.fg3a"]=me),V==="fg3a"&&q<0&&me<de.fg3m&&(we["playerStats.fg3m"]=me),V==="ftm"&&q>0&&me>de.fta&&(we["playerStats.fta"]=me),V==="fta"&&q<0&&me<de.ftm&&(we["playerStats.ftm"]=me);const Ae=Sr(ae,we);T(Ae)},T=async V=>{d("saving");try{await V,d("success")}catch{d("error")}finally{setTimeout(()=>{d(null)},1200)}},P=()=>{if(!i)return;const V=Date.now();let q;if(i.isRunning){const de=i.clockStartTime?Math.floor((V-i.clockStartTime)/1e3):0,me=Math.max(0,i.clockAtStart-de);q={isRunning:!1,clock:me,clockStartTime:null,clockAtStart:me}}else q={isRunning:!0,clockStartTime:V,clockAtStart:i.clock||i.periodLength*60};const ae=Sr(Lt(t,"liveGames",e),q);T(ae)},E=()=>{const V=Lt(t,"liveGames",e),ae=i.gameFormat==="halves"?2:4;i.period===ae?typeof r=="function"&&r(e):Sr(V,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},x=()=>{const V=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(V),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const I=(V,q)=>{if(V<=59){const ae=Math.floor(q/10),de=Math.floor(q%10);return`${ae}.${de}`}else return`${String(Math.floor(V/60)).padStart(2,"0")}:${String(V%60).padStart(2,"0")}`},O=i.playerStats||{},C=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,U=i.period===N,W=U&&h===0&&!i.isRunning,B=W||U?"End Game":"Next",Y=h<=120||U&&h===0,L=h<=60&&h>0,G=Math.max(((K=i.teamName)==null?void 0:K.length)||1,((te=i.opponent)==null?void 0:te.length)||1);return m.jsxs("div",{className:"h-screen flex flex-col",children:[W&&m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[m.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),m.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(fx,{status:c})}),m.jsx("div",{className:"flex justify-center items-center text-center mb-4 text-gray-900 dark:text-white",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${L?"text-red-500 animate-pulse scale-110 font-bold":Y?"text-red-500 animate-pulse":""}`,children:I(h,g)}),m.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[C," ",i.period]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.teamName}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>S("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:""}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),m.jsx("button",{onClick:()=>S("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.opponent}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[m.jsx("button",{onClick:()=>S("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:""}),m.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),m.jsx("button",{onClick:()=>S("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[m.jsx(Ide,{isExpanded:!l}),m.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(gs,{label:"2-Pointers",madeValue:O.fg2m,attValue:O.fg2a,onStatChange:k,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(gs,{label:"3-Pointers",madeValue:O.fg3m,attValue:O.fg3a,onStatChange:k,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(gs,{label:"Free Throws",madeValue:O.ftm,attValue:O.fta,onStatChange:k,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(En,{label:"Rebounds",value:O.rebounds,onIncrement:()=>k("rebounds",1),onDecrement:()=>k("rebounds",-1)}),m.jsx(En,{label:"Assists",value:O.assists,onIncrement:()=>k("assists",1),onDecrement:()=>k("assists",-1)}),m.jsx(En,{label:"Steals",value:O.steals,onIncrement:()=>k("steals",1),onDecrement:()=>k("steals",-1)}),m.jsx(En,{label:"Blocks",value:O.blocks,onIncrement:()=>k("blocks",1),onDecrement:()=>k("blocks",-1)}),m.jsx(En,{label:"Fouls",value:O.fouls,onIncrement:()=>k("fouls",1),onDecrement:()=>k("fouls",-1)}),m.jsx(En,{label:"Turnovers",value:O.turnovers,onIncrement:()=>k("turnovers",1),onDecrement:()=>k("turnovers",-1)})]})]})]}),m.jsx("div",{className:"h-20"})]})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:m.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx("button",{onClick:x,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:a||m.jsx(Gfe,{})}),m.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:W,children:i.isRunning?"Pause":"Start"}),m.jsx("button",{onClick:E,className:`w-full font-bold py-3 rounded-lg text-lg text-white transition-all duration-300 transform hover:scale-105 ${U?"bg-red-600 hover:bg-red-700 shadow-red-500/50 shadow-lg hover:shadow-red-500/70 hover:shadow-xl animate-pulse":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/50 shadow-lg hover:shadow-orange-500/70 hover:shadow-xl"}`,style:{boxShadow:U?"0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2)":"0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2)"},children:B})]})})})]})]})}function kI({db:t,gameId:e,user:n}){const[r,i]=M.useState(null),[o,a]=M.useState(null),[s,l]=M.useState(0),[u,c]=M.useState(0),d=M.useRef(null);if(M.useEffect(()=>{if(!t||!e)return;const S=Lt(t,"liveGames",e),k=Za(S,T=>{if(T.exists()){const P=T.data();i(P);const E=Date.now();if(P.isRunning&&P.clockStartTime){const x=E-P.clockStartTime,I=Math.floor(x/1e3),O=Math.max(0,P.clockAtStart-I),C=Math.max(0,P.clockAtStart*1e3-x)/100;l(O),c(C)}else l(P.clock||0),c((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{k(),d.current&&(clearInterval(d.current),d.current=null)}},[t,e]),M.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const S=s<=60?100:1e3;d.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),E=Math.max(0,r.clockAtStart-P),x=Math.max(0,r.clockAtStart*1e3-T)/100;l(E),c(x)},S)}else d.current&&(clearInterval(d.current),d.current=null);return()=>{d.current&&(clearInterval(d.current),d.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[m.jsx(IM,{className:"hover:animate-spin-slow transition-transform"}),m.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return m.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const h=r.playerStats||r.sahilStats||{},g=[{label:"Points",value:(Number(h.fg2m)||0)*2+(Number(h.fg3m)||0)*3+(Number(h.ftm)||0)},{label:"2PT Made",value:h.fg2m??0},{label:"2PT Attempted",value:h.fg2a??0},{label:"3PT Made",value:h.fg3m??0},{label:"3PT Attempted",value:h.fg3a??0},{label:"FT Made",value:h.ftm??0},{label:"FT Attempted",value:h.fta??0},{label:"Assists",value:h.assists??0},{label:"Rebounds",value:h.rebounds??0},{label:"Steals",value:h.steals??0},{label:"Fouls",value:h.fouls??0}],y=(S,k)=>{if(S<=59){const T=Math.floor(k/10),P=Math.floor(k%10);return`${T}.${P}`}else return`${String(Math.floor(S/60)).padStart(2,"0")}:${String(S%60).padStart(2,"0")}`},b=r.gameFormat==="halves"?"Half":"Period",w=s<=120,_=s<=60&&s>0;return m.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),m.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"flex justify-around items-center text-center",children:[m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.teamName}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.homeScore})]}),m.jsx("div",{className:"w-1/3",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("p",{className:`text-4xl font-mono tracking-wider  text-gray-900 dark:text-white transition-all duration-300  ${_?"text-red-500 animate-pulse scale-110 font-bold":w?"text-red-500 animate-pulse":""}`,children:y(s,u)}),m.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[b," ",r.period]})]})}),m.jsxs("div",{className:"w-1/3",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.opponent}),m.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.awayScore})]})]})}),m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:m.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[m.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:m.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:g.map(S=>m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[m.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:S.label}),m.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:S.value})]},S.label))})]})]})}function Ode({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=M.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});M.useEffect(()=>{var p,g,y,b,w,_,S,k,T,P,E,x;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((g=t.playerStats)==null?void 0:g.fg2a)||0,fg3m:t.fg3m||((y=t.playerStats)==null?void 0:y.fg3m)||0,fg3a:t.fg3a||((b=t.playerStats)==null?void 0:b.fg3a)||0,ftm:t.ftm||((w=t.playerStats)==null?void 0:w.ftm)||0,fta:t.fta||((_=t.playerStats)==null?void 0:_.fta)||0,rebounds:t.rebounds||((S=t.playerStats)==null?void 0:S.rebounds)||0,assists:t.assists||((k=t.playerStats)==null?void 0:k.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((E=t.playerStats)==null?void 0:E.fouls)||0,turnovers:t.turnovers||((x=t.playerStats)==null?void 0:x.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,c=(p,g)=>{const y=p==="home"?"myTeamScore":"opponentScore";l(b=>({...b,[y]:Math.max(0,b[y]+g)}))},d=(p,g)=>{l(y=>{const b={...y},w=Math.max(0,y[p]+g);return b[p]=w,p==="fg2m"&&w>y.fg2a&&(b.fg2a=w),p==="fg2a"&&w<y.fg2m&&(b.fg2m=w),p==="fg3m"&&w>y.fg3a&&(b.fg3a=w),p==="fg3a"&&w<y.fg3m&&(b.fg3m=w),p==="ftm"&&w>y.fta&&(b.fta=w),p==="fta"&&w<y.ftm&&(b.ftm=w),b})},h=()=>{n(s)};return t?m.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[m.jsx("div",{className:"absolute top-2 right-2",children:o&&m.jsx(fx,{status:o})}),m.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),m.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[m.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>c("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),m.jsx("button",{onClick:()=>c("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[m.jsx("button",{onClick:()=>c("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),m.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),m.jsx("button",{onClick:()=>c("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(gs,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:d,madeKey:"fg2m",attKey:"fg2a"}),m.jsx(gs,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:d,madeKey:"fg3m",attKey:"fg3a"}),m.jsx(gs,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:d,madeKey:"ftm",attKey:"fta"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[m.jsx(En,{label:"Rebounds",value:s.rebounds,onIncrement:()=>d("rebounds",1),onDecrement:()=>d("rebounds",-1)}),m.jsx(En,{label:"Assists",value:s.assists,onIncrement:()=>d("assists",1),onDecrement:()=>d("assists",-1)}),m.jsx(En,{label:"Steals",value:s.steals,onIncrement:()=>d("steals",1),onDecrement:()=>d("steals",-1)}),m.jsx(En,{label:"Blocks",value:s.blocks,onIncrement:()=>d("blocks",1),onDecrement:()=>d("blocks",-1)}),m.jsx(En,{label:"Fouls",value:s.fouls,onIncrement:()=>d("fouls",1),onDecrement:()=>d("fouls",-1)}),m.jsx(En,{label:"Turnovers",value:s.turnovers,onIncrement:()=>d("turnovers",1),onDecrement:()=>d("turnovers",-1)})]})]}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:m.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[m.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),m.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):m.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:m.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function Cde({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:c,onDeleteAllLiveGames:d}){const[h,p]=M.useState(""),[g,y]=M.useState(""),[b,w]=M.useState(u.toString());M.useEffect(()=>{w(u.toString())},[u]);const _=Array.from(new Map(n.map(O=>[O.id,O])).values()),S=async O=>{const C=O.trim();if(!C||n.some(j=>j.name.toLowerCase()===C.toLowerCase())){y("error"),setTimeout(()=>y(""),1200);return}y("saving");try{await r(C),y("success"),p("")}catch{y("error")}setTimeout(()=>y(""),1200)},k=async O=>{y("saving");try{await i(O),y("success")}catch{y("error")}setTimeout(()=>y(""),1200)},T=async O=>{y("saving");try{await a(O),y("success")}catch(C){console.error("Error updating game format:",C),y("error")}setTimeout(()=>y(""),1200)},P=async O=>{w(O);const C=parseInt(O)||0;if(C>0){y("saving");try{await c(C),y("success")}catch(j){console.error("Error updating period length:",j),y("error")}setTimeout(()=>y(""),1200)}},E=()=>{const O=parseInt(b)||10;O!==u&&(w(O.toString()),P(O.toString()))},x=()=>{l(),y("success"),setTimeout(()=>y(""),1200)},I=async()=>{y("saving");try{await d(),y("success"),setTimeout(()=>{y(""),e()},300)}catch{y("error"),setTimeout(()=>y(""),1200)}};return t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[m.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:""}),m.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",m.jsx(fx,{status:g})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:h,onChange:O=>p(O.target.value),onKeyDown:O=>{O.key==="Enter"&&h.trim()&&S(h.trim())}}),m.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>S(h),disabled:!h.trim(),children:"Add"})]}),m.jsx("ul",{className:"space-y-2",children:_.map(O=>m.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[m.jsx("span",{children:O.name}),m.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>k(O.id),title:"Delete Team",children:m.jsx(_p,{className:"h-5 w-5"})})]},O.id))})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),m.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>T("periods")}),"Periods"]}),m.jsxs("label",{children:[m.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>T("halves")}),"Halves"]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),m.jsx("input",{type:"text",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24 text-gray-900 dark:text-white",value:b,onChange:O=>{w(O.target.value)},onBlur:E,onKeyDown:O=>{O.key==="Enter"&&E()},placeholder:"10"})]})]}),m.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[m.jsx("button",{onClick:x,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:s==="dark"?m.jsx(qfe,{className:"h-6 w-6"}):m.jsx(Kfe,{className:"h-6 w-6"})}),m.jsx("button",{onClick:I,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:m.jsx(_p,{className:"h-6 w-6"})})]})]})}):null}const Nde=()=>{const[t,e]=M.useState(navigator.onLine),[n,r]=M.useState(!1),[i,o]=M.useState(!0),[a,s]=M.useState(Date.now()),l=M.useCallback(async()=>{if(!navigator.onLine)return o(!1),!1;try{const u=await fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:AbortSignal.timeout(3e3)});return o(!0),s(Date.now()),!0}catch{return o(!1),s(Date.now()),!1}},[]);return M.useEffect(()=>{const u=()=>{e(!0),r(!1),l()},c=()=>{e(!1),o(!1),r(!0)};window.addEventListener("online",u),window.addEventListener("offline",c);const d=setInterval(()=>{navigator.onLine&&Date.now()-a>3e4&&l()},3e4);return navigator.onLine&&l(),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",c),clearInterval(d)}},[l,a]),{isOnline:t&&i,isConnected:i,wasOffline:n,browserOnline:navigator.onLine,checkConnectivity:l}},Do={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},jde=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||Do.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||Do.periodLength};try{const e=Lt(He,"userSettings",t.uid),n=await bC(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...Do,gameFormat:r||Do.gameFormat,periodLength:i?parseInt(i):Do.periodLength};return await o5(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||Do.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||Do.periodLength}}},Rde=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=Lt(He,"userSettings",t.uid);return await Sr(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function Mde(){const[t,e]=M.useState(null),[n,r]=M.useState(!1),[i,o]=M.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=M.useState(!0),[l,u]=M.useState(!0),[c,d]=M.useState("game_setup"),[h,p]=M.useState([]),[g,y]=M.useState([]),[b,w]=M.useState([]),[_,S]=M.useState(null),[k,T]=M.useState(null),[P,E]=M.useState(!1),[x,I]=M.useState("halves"),[O,C]=M.useState(20),[j,N]=M.useState(2),[U,W]=M.useState(!1),{isOnline:B,wasOffline:Y}=Nde(),[L,G]=M.useState(!1),[K,te]=M.useState(null),[V,q]=M.useState(null);M.useEffect(()=>{if(B&&Y&&t&&!L){const X=ht.getPendingCount();X>0&&(console.log(`Coming back online with ${X} pending items`),ae())}},[B,Y,t,L]);const ae=M.useCallback(async()=>{if(!(!t||L)){G(!0),te(Date.now());try{const X=await Zi.syncAllOfflineData(t);if(console.log("Auto-sync result:",X),q(X),X.success){const se=On(He,"games"),le=await Kf(se);y(le.docs.map(ge=>({id:ge.id,...ge.data()})))}}catch(X){console.error("Auto-sync failed:",X)}finally{G(!1)}}},[t,L]),de=M.useCallback(async()=>{if(!(!t||L)){G(!0),te(Date.now());try{const X=await Zi.forceSyncNow(t);if(console.log("Manual sync result:",X),q(X),X.success&&X.results){const{games:se,updates:le}=X.results,ge=se.synced+le.synced;if(ge>0){alert(`Successfully synced ${ge} items!`);const ot=On(He,"games"),Je=await Kf(ot);y(Je.docs.map(et=>({id:et.id,...et.data()})))}else alert("No items to sync.")}else X.error&&alert(`Sync failed: ${X.message}`)}catch(X){console.error("Manual sync failed:",X),alert("Sync failed. Please try again.")}finally{G(!1)}}},[t,L]);M.useEffect(()=>H5(Qf,async se=>{if(e(se),r(mo(se)),se&&mo(se))try{const le=await jde(se);I(le.gameFormat),C(le.periodLength),N(le.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",le)}catch(le){console.error("Error loading user settings:",le),I(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else I(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2);W(!0),s(!1)}),[]);const me=M.useCallback(async X=>{if(!n||!t){X.gameFormat&&(localStorage.setItem("gameFormat",X.gameFormat),I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&(localStorage.setItem("periodLength",X.periodLength.toString()),C(X.periodLength));return}try{await Rde(t,X),X.gameFormat&&(I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&C(X.periodLength),console.log("Settings updated successfully across devices")}catch(se){console.error("Error updating settings:",se),alert("Failed to save settings. Please try again.")}},[t,n]);M.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const we=M.useCallback(()=>o(X=>X==="dark"?"light":"dark"),[]);M.useEffect(()=>{if(!t)return;const X=On(He,"teams");return Za(X,le=>{p(le.docs.map(ge=>({id:ge.id,...ge.data()}))),ht.cacheData("teams",le.docs.map(ge=>({id:ge.id,...ge.data()})))},le=>{if(console.error("Error loading teams:",le),!B){const ge=ht.getCachedData("teams")||[];p(ge)}})},[t,B]),M.useEffect(()=>{if(!t)return;const X=On(He,"games");return Za(X,le=>{const ge=le.docs.map(ot=>({id:ot.id,...ot.data()}));y(ge),ht.cacheData("games",ge)},le=>{if(console.error("Error loading games:",le),!B){const ge=ht.getCachedData("games")||[];y(ge)}})},[t,B]),M.useEffect(()=>{if(!t)return;const X=On(He,"stats");return Za(X,le=>{const ge=le.docs.map(ot=>({id:ot.id,...ot.data()}));w(ge),ht.cacheData("stats",ge)},le=>{if(console.error("Error loading stats:",le),!B){const ge=ht.getCachedData("stats")||[];w(ge)}})},[t,B]),M.useEffect(()=>{u(!0);const X=On(He,"liveGames"),se=Za(X,le=>{le.empty?S(null):S(le.docs[0].id),u(!1)},le=>{console.error("Error loading live games:",le),u(!1)});return()=>se()},[c]),M.useEffect(()=>{!t&&_&&c!=="live_viewer"&&d("live_viewer")},[t,_,c]);const Ae=async(X,se)=>{if(!Ui(t)){Jt("update game photos");return}try{B?await Sr(Lt(He,"games",X),{photos:se}):(ht.savePendingUpdate(X,{photos:se}),alert("Photo update saved offline. Will sync when online.")),y(le=>le.map(ge=>ge.id===X?{...ge,photos:se}:ge))}catch(le){console.error("Error updating game photos:",le)}},ne=M.useCallback(async X=>{if(!xp(t)){Jt("delete teams");return}if(!B){alert("Cannot delete items while offline. Please try again when online.");return}await Yf(Lt(He,"teams",X)),p(se=>se.filter(le=>le.id!==X))},[t,B]),ye=async X=>{if(!Ui(t))return Jt("add teams"),null;if(h.some(le=>le.name.toLowerCase()===X.toLowerCase()))return null;try{if(B){const le=await Fa(On(He,"teams"),{name:X});return p(ge=>[...ge,{name:X,id:le.id}]),{name:X,id:le.id}}else return alert("Cannot add teams while offline. Please try again when online."),null}catch(le){return console.error("Error adding team:",le),alert("Failed to add team. Please try again."),null}},be=M.useCallback(async X=>{if(!Ui(t)){Jt("add games");return}try{if(B){const se=await Fa(On(He,"games"),X);y(le=>[...le,{...X,id:se.id}])}else alert("Cannot add games while offline. Please try again when online.")}catch(se){console.error("Error adding game:",se),alert("Failed to add game. Please try again.")}},[t,B]),Q=M.useCallback(async X=>{if(!Ui(t)){Jt("add statistics");return}const se=X.fg2m*2+X.fg3m*3+X.ftm;let le="T";X.myTeamScore>X.opponentScore?le="W":X.myTeamScore<X.opponentScore&&(le="L");const ge={...k,...X,points:se,outcome:le,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""};try{if(B){const ot=await Fa(On(He,"games"),ge);y(Je=>[...Je,{...ge,id:ot.id}]),console.log("Game saved online:",ot.id)}else throw new Error("Offline mode")}catch(ot){console.log("Saving offline:",ot.message);const Je=ht.savePendingGame(ge);y(et=>[...et,{...ge,id:Je,isOffline:!0,tempId:Je}]),alert("Game saved offline. Will sync when connection is restored.")}T(null),d("dashboard")},[k,t,B]),$e=M.useCallback(async X=>{if(!xp(t)){Jt("delete games");return}if(!B){alert("Cannot delete items while offline. Please try again when online.");return}if(X.startsWith("temp_")){ht.removePendingGame(X),y(se=>se.filter(le=>le.id!==X));return}await Yf(Lt(He,"games",X)),y(se=>se.filter(le=>le.id!==X)),w(se=>se.filter(le=>le.gameId!==X))},[t,B]),Pe=M.useCallback(async(X,se)=>{if(!Ui(t)){Jt("update games");return}try{if(se.myTeamScore!==void 0&&se.opponentScore!==void 0){let le="T";se.myTeamScore>se.opponentScore?le="W":se.myTeamScore<se.opponentScore&&(le="L"),se.outcome=le}se.editedAt=new Date().toISOString(),se.editedBy=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",B?await Sr(Lt(He,"games",X),se):(ht.savePendingUpdate(X,se),alert("Changes saved offline. Will sync when online.")),y(le=>le.map(ge=>ge.id===X?{...ge,...se,isOfflineUpdated:!B}:ge))}catch(le){throw console.error("Error updating game:",le),le}},[t,B]),Ge=async X=>{if(!Ey(t)){Jt("manage live games");return}if(!B){alert("Cannot end games while offline. Please try again when online.");return}try{const se=Lt(He,"liveGames",X),le=await bC(se);if(!le.exists()){console.log("Live game not found for endGame, id:",X);return}const ge=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",ot=le.data(),Je=ot.playerStats||{},et=ot.homeScore??0,Tt=ot.awayScore??0;let Nr="T";et>Tt?Nr="W":et<Tt&&(Nr="L");const _t={...ot,myTeamScore:et,opponentScore:Tt,outcome:Nr,points:(Je.fg2m??0)*2+(Je.fg3m??0)*3+(Je.ftm??0)*1,fg2m:Je.fg2m??0,fg2a:Je.fg2a??0,fg3m:Je.fg3m??0,fg3a:Je.fg3a??0,ftm:Je.ftm??0,fta:Je.fta??0,rebounds:Je.rebounds??0,assists:Je.assists??0,steals:Je.steals??0,blocks:Je.blocks??0,fouls:Je.fouls??0,turnovers:Je.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:ge,isRunning:!1},xl=await Fa(On(He,"games"),_t);await Yf(se),S(null),d("game_setup");const D=On(He,"games"),re=await Kf(D);y(re.docs.map(Be=>({id:Be.id,...Be.data()})))}catch(se){console.error("Failed to save/end game:",se)}},Fe=async()=>{if(!Ey(t)){Jt("delete live games");return}if(!B){alert("Cannot delete live games while offline. Please try again when online.");return}const X=await Kf(On(He,"liveGames"));for(let se of X.docs)await Yf(Lt(He,"liveGames",se.id));S(null)},Re=async()=>{try{const se=(await d6(Qf,ZC)).user;if(!mo(se)){await hE(Qf),alert(`Access denied. Only family administrators can sign in.

Your email: ${se.email}

To view games, you can browse without signing in.`);return}}catch(X){if(console.error("Sign in error:",X),X.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},Me=async()=>{try{c==="live_admin"&&_&&n&&await Ge(_),await hE(Qf),e(null),r(!1),d("game_setup"),S(null),y([]),w([])}catch(X){console.error("Error signing out:",X)}},Ke=async(X,se)=>{if(!Ui(t)){Jt("create games");return}if(!B&&se==="live"){alert("Live games require an internet connection to share with viewers. You can still create a regular game and enter stats offline.");return}const le={...X,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:se==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:O?O*60:600,period:1,gameFormat:x||"halves",periodLength:O||20,numPeriods:x==="halves"?2:4};if(se==="live"){if(!Ey(t)){Jt("start live games");return}try{const ge=await Fa(On(He,"liveGames"),le);S(ge.id),d("live_admin")}catch(ge){console.error("Error creating live game:",ge),alert("Failed to create live game. Please check your connection and try again.")}}else T(le),d("add_stat")},Ot=()=>{if(!dde(t)){Jt("access settings");return}E(!0)};return a||l||!U?m.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[m.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:""}),m.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&c==="live_viewer"?_?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(dd,{user:null,db:He,onSignOut:Me,setPage:d,theme:i,toggleTheme:we,page:c,liveGameId:_,goToLiveGame:()=>d("live_viewer"),onDeleteAllLiveGames:Fe,openSettingsModal:Ot,onSignIn:Re,isUserAdmin:!1,isOnline:B,onManualSync:de,syncInProgress:L}),m.jsx("main",{className:"flex-1",children:m.jsx(kI,{db:He,user:null,gameId:_,setPage:d,teams:h,stats:b,games:g})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(dd,{user:null,db:He,onSignOut:Me,setPage:d,theme:i,toggleTheme:we,page:c,liveGameId:_,goToLiveGame:()=>d("live_viewer"),onDeleteAllLiveGames:Fe,openSettingsModal:Ot,isUserAdmin:!1,isOnline:B,onManualSync:de,syncInProgress:L}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&c!=="live_viewer"?m.jsx(Pde,{onSignIn:Re}):t&&!n&&(c==="game_setup"||c==="add_stat"||c==="live_admin")?m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(dd,{user:t,db:He,onSignOut:Me,setPage:d,theme:i,toggleTheme:we,page:c,liveGameId:_,goToLiveGame:()=>d("live_viewer"),onDeleteAllLiveGames:Fe,openSettingsModal:Ot,isUserAdmin:n,isOnline:B,onManualSync:de,syncInProgress:L}),m.jsx("main",{className:"flex-1 flex items-center justify-center",children:m.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",m.jsx("span",{className:"font-medium",children:hde(t)})]}),m.jsx("button",{onClick:()=>d("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[m.jsx(dd,{user:t,db:He,onSignOut:Me,setPage:d,theme:i,toggleTheme:we,page:c,liveGameId:_,goToLiveGame:()=>d("live_viewer"),onDeleteAllLiveGames:Fe,openSettingsModal:Ot,isUserAdmin:n,isOnline:B,onManualSync:de,syncInProgress:L}),!B&&m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 border-b border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-2 text-center text-sm",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("span",{children:" Offline Mode"}),ht.getPendingCount()>0&&m.jsxs("span",{children:[" ",ht.getPendingCount()," items will sync when online"]}),n&&ht.getPendingCount()>0&&m.jsx("button",{onClick:de,disabled:L,className:"ml-2 px-2 py-1 bg-yellow-500 hover:bg-yellow-600 text-yellow-900 rounded text-xs disabled:opacity-50",children:L?"Syncing...":"Sync Now"})]})}),m.jsx(Cde,{open:P,onClose:()=>E(!1),teams:h,onAddTeam:ye,onDeleteTeam:ne,gameFormat:x,setGameFormat:X=>me({gameFormat:X}),periodLength:O,setPeriodLength:X=>me({periodLength:X}),theme:i,toggleTheme:we,setPage:d,onDeleteAllLiveGames:Fe}),m.jsxs("main",{className:"flex-1",children:[t&&n&&c==="game_setup"&&m.jsx(lB,{user:t,teams:h,stats:g,onAddTeam:ye,setPage:d,games:g,onAddGame:be,setLiveGameId:S,onSubmit:Ke,gameFormat:x,periodLength:O,numPeriods:j,isOnline:B}),t&&c==="dashboard"&&m.jsx(wde,{user:t,teams:h,games:g,stats:g,onDeleteGame:$e,onDeleteTeam:ne,onAddTeam:ye,onUpdateGamePhotos:Ae,onUpdateGame:Pe,isUserAdmin:n,isOnline:B,onManualSync:de,syncInProgress:L}),t&&n&&c==="add_stat"&&k&&m.jsx(Ode,{gameConfig:k,isLive:!1,onSave:Q,onCancel:()=>{T(null),d("game_setup")},isOnline:B}),t&&n&&c==="live_admin"&&_&&m.jsx(kde,{user:t,db:He,gameId:_,setPage:d,teams:h,stats:b,games:g,onEndGame:Ge,isOnline:B}),t&&c==="live_viewer"&&_&&m.jsx(kI,{db:He,user:t,gameId:_,setPage:d,teams:h,stats:b,games:g})]})]})}Ay.createRoot(document.getElementById("root")).render(m.jsx($.StrictMode,{children:m.jsx(Mde,{})}));
