(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yI={exports:{}},up={},vI={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc=Symbol.for("react.element"),VM=Symbol.for("react.portal"),FM=Symbol.for("react.fragment"),BM=Symbol.for("react.strict_mode"),UM=Symbol.for("react.profiler"),zM=Symbol.for("react.provider"),WM=Symbol.for("react.context"),GM=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),qM=Symbol.for("react.memo"),KM=Symbol.for("react.lazy"),H1=Symbol.iterator;function XM(t){return t===null||typeof t!="object"?null:(t=H1&&t[H1]||t["@@iterator"],typeof t=="function"?t:null)}var bI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,wI={};function Bs(t,e,n){this.props=t,this.context=e,this.refs=wI,this.updater=n||bI}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xI(){}xI.prototype=Bs.prototype;function Z0(t,e,n){this.props=t,this.context=e,this.refs=wI,this.updater=n||bI}var eb=Z0.prototype=new xI;eb.constructor=Z0;_I(eb,Bs.prototype);eb.isPureReactComponent=!0;var q1=Array.isArray,SI=Object.prototype.hasOwnProperty,tb={current:null},EI={key:!0,ref:!0,__self:!0,__source:!0};function TI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)SI.call(e,r)&&!EI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Sc,type:t,key:o,ref:a,props:i,_owner:tb.current}}function YM(t,e){return{$$typeof:Sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sc}function QM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K1=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QM(""+t.key):e.toString(36)}function eh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Sc:case VM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zm(a,0):r,q1(i)?(n="",t!=null&&(n=t.replace(K1,"$&/")+"/"),eh(i,e,n,"",function(u){return u})):i!=null&&(nb(i)&&(i=YM(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(K1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",q1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Zm(o,s);a+=eh(o,e,n,l,i)}else if(l=XM(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Zm(o,s++),a+=eh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function mf(t,e,n){if(t==null)return t;var r=[],i=0;return eh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function JM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},th={transition:null},ZM={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:th,ReactCurrentOwner:tb};function AI(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:mf,forEach:function(t,e,n){mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mf(t,function(){e++}),e},toArray:function(t){return mf(t,function(e){return e})||[]},only:function(t){if(!nb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Bs;Te.Fragment=FM;Te.Profiler=UM;Te.PureComponent=Z0;Te.StrictMode=BM;Te.Suspense=HM;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;Te.act=AI;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_I({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=tb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)SI.call(e,l)&&!EI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Sc,type:t.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:WM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zM,_context:t},t.Consumer=t};Te.createElement=TI;Te.createFactory=function(t){var e=TI.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:GM,render:t}};Te.isValidElement=nb;Te.lazy=function(t){return{$$typeof:KM,_payload:{_status:-1,_result:t},_init:JM}};Te.memo=function(t,e){return{$$typeof:qM,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=th.transition;th.transition={};try{t()}finally{th.transition=e}};Te.unstable_act=AI;Te.useCallback=function(t,e){return fn.current.useCallback(t,e)};Te.useContext=function(t){return fn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return fn.current.useEffect(t,e)};Te.useId=function(){return fn.current.useId()};Te.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return fn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};Te.useRef=function(t){return fn.current.useRef(t)};Te.useState=function(t){return fn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return fn.current.useTransition()};Te.version="18.3.1";vI.exports=Te;var $=vI.exports;const M=We($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=$,tD=Symbol.for("react.element"),nD=Symbol.for("react.fragment"),rD=Object.prototype.hasOwnProperty,iD=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oD={key:!0,ref:!0,__self:!0,__source:!0};function PI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)rD.call(e,r)&&!oD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tD,type:t,key:o,ref:a,props:i,_owner:iD.current}}up.Fragment=nD;up.jsx=PI;up.jsxs=PI;yI.exports=up;var x=yI.exports,hy={},II={exports:{}},Mn={},OI={exports:{}},kI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var Q=L.length;L.push(G);e:for(;0<Q;){var ne=Q-1>>>1,F=L[ne];if(0<i(F,G))L[ne]=G,L[Q]=F,Q=ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],Q=L.pop();if(Q!==G){L[0]=Q;e:for(var ne=0,F=L.length,Y=F>>>1;ne<Y;){var oe=2*(ne+1)-1,he=L[oe],me=oe+1,ee=L[me];if(0>i(he,Q))me<F&&0>i(ee,he)?(L[ne]=ee,L[me]=Q,ne=me):(L[ne]=he,L[oe]=Q,ne=oe);else if(me<F&&0>i(ee,Q))L[ne]=ee,L[me]=Q,ne=me;else break e}}return G}function i(L,G){var Q=L.sortIndex-G.sortIndex;return Q!==0?Q:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=L)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function O(L){if(g=!1,w(L),!m)if(n(l)!==null)m=!0,B(T);else{var G=n(u);G!==null&&K(O,G.startTime-L)}}function T(L,G){m=!1,g&&(g=!1,_(E),E=-1),p=!0;var Q=d;try{for(w(G),f=n(l);f!==null&&(!(f.expirationTime>G)||L&&!C());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,d=f.priorityLevel;var F=ne(f.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),w(G)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var oe=n(u);oe!==null&&K(O,oe.startTime-G),Y=!1}return Y}finally{f=null,d=Q,p=!1}}var P=!1,S=null,E=-1,I=5,k=-1;function C(){return!(t.unstable_now()-k<I)}function R(){if(S!==null){var L=t.unstable_now();k=L;var G=!0;try{G=S(!0,L)}finally{G?N():(P=!1,S=null)}}else P=!1}var N;if(typeof v=="function")N=function(){v(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=R,N=function(){W.postMessage(null)}}else N=function(){b(R,0)};function B(L){S=L,P||(P=!0,N())}function K(L,G){E=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,B(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Q=d;d=G;try{return L()}finally{d=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=d;d=L;try{return G()}finally{d=Q}},t.unstable_scheduleCallback=function(L,G,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,L){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,L={id:h++,callback:G,priorityLevel:L,startTime:Q,expirationTime:F,sortIndex:-1},Q>ne?(L.sortIndex=Q,e(u,L),n(l)===null&&L===n(u)&&(g?(_(E),E=-1):g=!0,K(O,Q-ne))):(L.sortIndex=F,e(l,L),m||p||(m=!0,B(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var G=d;return function(){var Q=d;d=G;try{return L.apply(this,arguments)}finally{d=Q}}}})(kI);OI.exports=kI;var aD=OI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD=$,jn=aD;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CI=new Set,gu={};function ia(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(gu[t]=e,t=0;t<e.length;t++)CI.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dy=Object.prototype.hasOwnProperty,lD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X1={},Y1={};function uD(t){return dy.call(Y1,t)?!0:dy.call(X1,t)?!1:lD.test(t)?Y1[t]=!0:(X1[t]=!0,!1)}function cD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fD(t,e,n,r){if(e===null||typeof e>"u"||cD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rb=/[\-:]([a-z])/g;function ib(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rb,ib);Ft[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rb,ib);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rb,ib);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ob(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fD(e,n,i,r)&&(n=null),r||i===null?uD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=sD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gf=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),ab=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),jI=Symbol.for("react.context"),sb=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),gy=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),RI=Symbol.for("react.offscreen"),Q1=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=Q1&&t[Q1]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,eg;function Ul(t){if(eg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eg=e&&e[1]||""}return`
`+eg+t}var tg=!1;function ng(t,e){if(!t||tg)return"";tg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{tg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function hD(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=ng(t.type,!1),t;case 11:return t=ng(t.type.render,!1),t;case 1:return t=ng(t.type,!0),t;default:return""}}function yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Aa:return"Portal";case py:return"Profiler";case ab:return"StrictMode";case my:return"Suspense";case gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jI:return(t.displayName||"Context")+".Consumer";case NI:return(t._context.displayName||"Context")+".Provider";case sb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lb:return e=t.displayName||null,e!==null?e:yy(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return yy(t(e))}catch{}}return null}function dD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yy(e);case 8:return e===ab?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pD(t){var e=MI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yf(t){t._valueTracker||(t._valueTracker=pD(t))}function DI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vy(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function J1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $I(t,e){e=e.checked,e!=null&&ob(t,"checked",e,!1)}function by(t,e){$I(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_y(t,e.type,n):e.hasOwnProperty("defaultValue")&&_y(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _y(t,e,n){(e!=="number"||wh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zl=Array.isArray;function Ua(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ex(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(zl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function LI(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vf,FI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vf=vf||document.createElement("div"),vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mD=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(t){mD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ql[e]=Ql[t]})});function BI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ql.hasOwnProperty(t)&&Ql[t]?(""+e).trim():e+"px"}function UI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gD=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(gD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function ub(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,za=null,Wa=null;function nx(t){if(t=Ac(t)){if(typeof Ay!="function")throw Error(te(280));var e=t.stateNode;e&&(e=pp(e),Ay(t.stateNode,t.type,e))}}function zI(t){za?Wa?Wa.push(t):Wa=[t]:za=t}function WI(){if(za){var t=za,e=Wa;if(Wa=za=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function GI(t,e){return t(e)}function HI(){}var rg=!1;function qI(t,e,n){if(rg)return t(e,n);rg=!0;try{return GI(t,e,n)}finally{rg=!1,(za!==null||Wa!==null)&&(HI(),WI())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=pp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Py=!1;if(ri)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Py=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Py=!1}function yD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Jl=!1,xh=null,Sh=!1,Iy=null,vD={onError:function(t){Jl=!0,xh=t}};function bD(t,e,n,r,i,o,a,s,l){Jl=!1,xh=null,yD.apply(vD,arguments)}function _D(t,e,n,r,i,o,a,s,l){if(bD.apply(this,arguments),Jl){if(Jl){var u=xh;Jl=!1,xh=null}else throw Error(te(198));Sh||(Sh=!0,Iy=u)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rx(t){if(oa(t)!==t)throw Error(te(188))}function wD(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rx(i),t;if(o===r)return rx(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function XI(t){return t=wD(t),t!==null?YI(t):null}function YI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YI(t);if(e!==null)return e;t=t.sibling}return null}var QI=jn.unstable_scheduleCallback,ix=jn.unstable_cancelCallback,xD=jn.unstable_shouldYield,SD=jn.unstable_requestPaint,dt=jn.unstable_now,ED=jn.unstable_getCurrentPriorityLevel,cb=jn.unstable_ImmediatePriority,JI=jn.unstable_UserBlockingPriority,Eh=jn.unstable_NormalPriority,TD=jn.unstable_LowPriority,ZI=jn.unstable_IdlePriority,cp=null,Er=null;function AD(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(cp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:OD,PD=Math.log,ID=Math.LN2;function OD(t){return t>>>=0,t===0?32:31-(PD(t)/ID|0)|0}var bf=64,_f=4194304;function Wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Wl(s):(o&=a,o!==0&&(r=Wl(o)))}else a=n&~i,a!==0?r=Wl(a):o!==0&&(r=Wl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function kD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-hr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=kD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Oy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eO(){var t=bf;return bf<<=1,!(bf&4194240)&&(bf=64),t}function ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function ND(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function fb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function tO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nO,hb,rO,iO,oO,ky=!1,wf=[],$i=null,Li=null,Vi=null,bu=new Map,_u=new Map,Pi=[],jD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(e.pointerId)}}function Sl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ac(e),e!==null&&hb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RD(t,e,n,r,i){switch(e){case"focusin":return $i=Sl($i,t,e,n,r,i),!0;case"dragenter":return Li=Sl(Li,t,e,n,r,i),!0;case"mouseover":return Vi=Sl(Vi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return bu.set(o,Sl(bu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_u.set(o,Sl(_u.get(o)||null,t,e,n,r,i)),!0}return!1}function aO(t){var e=Ao(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=KI(n),e!==null){t.blockedOn=e,oO(t.priority,function(){rO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ty=r,n.target.dispatchEvent(r),Ty=null}else return e=Ac(n),e!==null&&hb(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){nh(t)&&n.delete(e)}function MD(){ky=!1,$i!==null&&nh($i)&&($i=null),Li!==null&&nh(Li)&&(Li=null),Vi!==null&&nh(Vi)&&(Vi=null),bu.forEach(ax),_u.forEach(ax)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,ky||(ky=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,MD)))}function wu(t){function e(i){return El(i,t)}if(0<wf.length){El(wf[0],t);for(var n=1;n<wf.length;n++){var r=wf[n];r.blockedOn===t&&(r.blockedOn=null)}}for($i!==null&&El($i,t),Li!==null&&El(Li,t),Vi!==null&&El(Vi,t),bu.forEach(e),_u.forEach(e),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)aO(n),n.blockedOn===null&&Pi.shift()}var Ga=pi.ReactCurrentBatchConfig,Ah=!0;function DD(t,e,n,r){var i=Le,o=Ga.transition;Ga.transition=null;try{Le=1,db(t,e,n,r)}finally{Le=i,Ga.transition=o}}function $D(t,e,n,r){var i=Le,o=Ga.transition;Ga.transition=null;try{Le=4,db(t,e,n,r)}finally{Le=i,Ga.transition=o}}function db(t,e,n,r){if(Ah){var i=Cy(t,e,n,r);if(i===null)pg(t,e,r,Ph,n),ox(t,r);else if(RD(i,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<jD.indexOf(t)){for(;i!==null;){var o=Ac(i);if(o!==null&&nO(o),o=Cy(t,e,n,r),o===null&&pg(t,e,r,Ph,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pg(t,e,r,null,n)}}var Ph=null;function Cy(t,e,n,r){if(Ph=null,t=ub(r),t=Ao(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ph=t,null}function sO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ED()){case cb:return 1;case JI:return 4;case Eh:case TD:return 16;case ZI:return 536870912;default:return 16}default:return 16}}var ji=null,pb=null,rh=null;function lO(){if(rh)return rh;var t,e=pb,n=e.length,r,i="value"in ji?ji.value:ji.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return rh=i.slice(t,1<r?1-r:void 0)}function ih(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xf(){return!0}function sx(){return!1}function Dn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xf:sx,this.isPropagationStopped=sx,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),e}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mb=Dn(Us),Tc=st({},Us,{view:0,detail:0}),LD=Dn(Tc),og,ag,Tl,fp=st({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tl&&(Tl&&t.type==="mousemove"?(og=t.screenX-Tl.screenX,ag=t.screenY-Tl.screenY):ag=og=0,Tl=t),og)},movementY:function(t){return"movementY"in t?t.movementY:ag}}),lx=Dn(fp),VD=st({},fp,{dataTransfer:0}),FD=Dn(VD),BD=st({},Tc,{relatedTarget:0}),sg=Dn(BD),UD=st({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),zD=Dn(UD),WD=st({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GD=Dn(WD),HD=st({},Us,{data:0}),ux=Dn(HD),qD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XD[t])?!!e[t]:!1}function gb(){return YD}var QD=st({},Tc,{key:function(t){if(t.key){var e=qD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ih(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gb,charCode:function(t){return t.type==="keypress"?ih(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ih(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JD=Dn(QD),ZD=st({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=Dn(ZD),e$=st({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gb}),t$=Dn(e$),n$=st({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=Dn(n$),i$=st({},fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o$=Dn(i$),a$=[9,13,27,32],yb=ri&&"CompositionEvent"in window,Zl=null;ri&&"documentMode"in document&&(Zl=document.documentMode);var s$=ri&&"TextEvent"in window&&!Zl,uO=ri&&(!yb||Zl&&8<Zl&&11>=Zl),fx=String.fromCharCode(32),hx=!1;function cO(t,e){switch(t){case"keyup":return a$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function l$(t,e){switch(t){case"compositionend":return fO(e);case"keypress":return e.which!==32?null:(hx=!0,fx);case"textInput":return t=e.data,t===fx&&hx?null:t;default:return null}}function u$(t,e){if(Ia)return t==="compositionend"||!yb&&cO(t,e)?(t=lO(),rh=pb=ji=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uO&&e.locale!=="ko"?null:e.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c$[t.type]:e==="textarea"}function hO(t,e,n,r){zI(r),e=Ih(e,"onChange"),0<e.length&&(n=new mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var eu=null,xu=null;function f$(t){SO(t,0)}function hp(t){var e=Ca(t);if(DI(e))return t}function h$(t,e){if(t==="change")return e}var dO=!1;if(ri){var lg;if(ri){var ug="oninput"in document;if(!ug){var px=document.createElement("div");px.setAttribute("oninput","return;"),ug=typeof px.oninput=="function"}lg=ug}else lg=!1;dO=lg&&(!document.documentMode||9<document.documentMode)}function mx(){eu&&(eu.detachEvent("onpropertychange",pO),xu=eu=null)}function pO(t){if(t.propertyName==="value"&&hp(xu)){var e=[];hO(e,xu,t,ub(t)),qI(f$,e)}}function d$(t,e,n){t==="focusin"?(mx(),eu=e,xu=n,eu.attachEvent("onpropertychange",pO)):t==="focusout"&&mx()}function p$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hp(xu)}function m$(t,e){if(t==="click")return hp(e)}function g$(t,e){if(t==="input"||t==="change")return hp(e)}function y$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:y$;function Su(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dy.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function gx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yx(t,e){var n=gx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gx(n)}}function mO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gO(){for(var t=window,e=wh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wh(t.document)}return e}function vb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v$(t){var e=gO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mO(n.ownerDocument.documentElement,n)){if(r!==null&&vb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=yx(n,o);var a=yx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b$=ri&&"documentMode"in document&&11>=document.documentMode,Oa=null,Ny=null,tu=null,jy=!1;function vx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jy||Oa==null||Oa!==wh(r)||(r=Oa,"selectionStart"in r&&vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tu&&Su(tu,r)||(tu=r,r=Ih(Ny,"onSelect"),0<r.length&&(e=new mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function Sf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},cg={},yO={};ri&&(yO=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function dp(t){if(cg[t])return cg[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yO)return cg[t]=e[n];return t}var vO=dp("animationend"),bO=dp("animationiteration"),_O=dp("animationstart"),wO=dp("transitionend"),xO=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){xO.set(t,e),ia(e,[t])}for(var fg=0;fg<bx.length;fg++){var hg=bx[fg],_$=hg.toLowerCase(),w$=hg[0].toUpperCase()+hg.slice(1);ro(_$,"on"+w$)}ro(vO,"onAnimationEnd");ro(bO,"onAnimationIteration");ro(_O,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(wO,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function _x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_D(r,e,void 0,t),t.currentTarget=null}function SO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;_x(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;_x(i,s,u),o=l}}}if(Sh)throw t=Iy,Sh=!1,Iy=null,t}function Ke(t,e){var n=e[Ly];n===void 0&&(n=e[Ly]=new Set);var r=t+"__bubble";n.has(r)||(EO(e,t,2,!1),n.add(r))}function dg(t,e,n){var r=0;e&&(r|=4),EO(n,t,r,e)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Ef]){t[Ef]=!0,CI.forEach(function(n){n!=="selectionchange"&&(x$.has(n)||dg(n,!1,t),dg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ef]||(e[Ef]=!0,dg("selectionchange",!1,e))}}function EO(t,e,n,r){switch(sO(e)){case 1:var i=DD;break;case 4:i=$D;break;default:i=db}n=i.bind(null,e,n,t),i=void 0,!Py||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ao(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}qI(function(){var u=o,h=ub(n),f=[];e:{var d=xO.get(t);if(d!==void 0){var p=mb,m=t;switch(t){case"keypress":if(ih(n)===0)break e;case"keydown":case"keyup":p=JD;break;case"focusin":m="focus",p=sg;break;case"focusout":m="blur",p=sg;break;case"beforeblur":case"afterblur":p=sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=t$;break;case vO:case bO:case _O:p=zD;break;case wO:p=r$;break;case"scroll":p=LD;break;case"wheel":p=o$;break;case"copy":case"cut":case"paste":p=GD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cx}var g=(e&4)!==0,b=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,w;v!==null;){w=v;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,_!==null&&(O=vu(v,_),O!=null&&g.push(Tu(v,O,w)))),b)break;v=v.return}0<g.length&&(d=new p(d,m,null,n,h),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ty&&(m=n.relatedTarget||n.fromElement)&&(Ao(m)||m[ii]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ao(m):null,m!==null&&(b=oa(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=lx,O="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=cx,O="onPointerLeave",_="onPointerEnter",v="pointer"),b=p==null?d:Ca(p),w=m==null?d:Ca(m),d=new g(O,v+"leave",p,n,h),d.target=b,d.relatedTarget=w,O=null,Ao(h)===u&&(g=new g(_,v+"enter",m,n,h),g.target=w,g.relatedTarget=b,O=g),b=O,p&&m)t:{for(g=p,_=m,v=0,w=g;w;w=va(w))v++;for(w=0,O=_;O;O=va(O))w++;for(;0<v-w;)g=va(g),v--;for(;0<w-v;)_=va(_),w--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=va(g),_=va(_)}g=null}else g=null;p!==null&&wx(f,d,p,g,!1),m!==null&&b!==null&&wx(f,b,m,g,!0)}}e:{if(d=u?Ca(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=h$;else if(dx(d))if(dO)T=g$;else{T=p$;var P=d$}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=m$);if(T&&(T=T(t,u))){hO(f,T,n,h);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&_y(d,"number",d.value)}switch(P=u?Ca(u):window,t){case"focusin":(dx(P)||P.contentEditable==="true")&&(Oa=P,Ny=u,tu=null);break;case"focusout":tu=Ny=Oa=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,vx(f,n,h);break;case"selectionchange":if(b$)break;case"keydown":case"keyup":vx(f,n,h)}var S;if(yb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ia?cO(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(uO&&n.locale!=="ko"&&(Ia||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ia&&(S=lO()):(ji=h,pb="value"in ji?ji.value:ji.textContent,Ia=!0)),P=Ih(u,E),0<P.length&&(E=new ux(E,t,null,n,h),f.push({event:E,listeners:P}),S?E.data=S:(S=fO(n),S!==null&&(E.data=S)))),(S=s$?l$(t,n):u$(t,n))&&(u=Ih(u,"onBeforeInput"),0<u.length&&(h=new ux("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}SO(f,e)})}function Tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vu(t,n),o!=null&&r.unshift(Tu(t,o,i)),o=vu(t,e),o!=null&&r.push(Tu(t,o,i))),t=t.return}return r}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wx(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=vu(n,o),l!=null&&a.unshift(Tu(n,l,s))):i||(l=vu(n,o),l!=null&&a.push(Tu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var S$=/\r\n?/g,E$=/\u0000|\uFFFD/g;function xx(t){return(typeof t=="string"?t:""+t).replace(S$,`
`).replace(E$,"")}function Tf(t,e,n){if(e=xx(e),xx(t)!==e&&n)throw Error(te(425))}function Oh(){}var Ry=null,My=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,T$=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,A$=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(t){return Sx.resolve(null).then(t).catch(P$)}:$y;function P$(t){setTimeout(function(){throw t})}function mg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wu(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ex(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),xr="__reactFiber$"+zs,Au="__reactProps$"+zs,ii="__reactContainer$"+zs,Ly="__reactEvents$"+zs,I$="__reactListeners$"+zs,O$="__reactHandles$"+zs;function Ao(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ex(t);t!==null;){if(n=t[xr])return n;t=Ex(t)}return e}t=n,n=t.parentNode}return null}function Ac(t){return t=t[xr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function pp(t){return t[Au]||null}var Vy=[],Na=-1;function io(t){return{current:t}}function Qe(t){0>Na||(t.current=Vy[Na],Vy[Na]=null,Na--)}function He(t,e){Na++,Vy[Na]=t.current,t.current=e}var Ji={},nn=io(Ji),bn=io(!1),Uo=Ji;function rs(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _n(t){return t=t.childContextTypes,t!=null}function kh(){Qe(bn),Qe(nn)}function Tx(t,e,n){if(nn.current!==Ji)throw Error(te(168));He(nn,e),He(bn,n)}function TO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,dD(t)||"Unknown",i));return st({},n,r)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Uo=nn.current,He(nn,t),He(bn,bn.current),!0}function Ax(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=TO(t,e,Uo),r.__reactInternalMemoizedMergedChildContext=t,Qe(bn),Qe(nn),He(nn,t)):Qe(bn),He(bn,n)}var Fr=null,mp=!1,gg=!1;function AO(t){Fr===null?Fr=[t]:Fr.push(t)}function k$(t){mp=!0,AO(t)}function oo(){if(!gg&&Fr!==null){gg=!0;var t=0,e=Le;try{var n=Fr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,mp=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),QI(cb,oo),i}finally{Le=e,gg=!1}}return null}var ja=[],Ra=0,Nh=null,jh=0,Fn=[],Bn=0,zo=null,Ur=1,zr="";function bo(t,e){ja[Ra++]=jh,ja[Ra++]=Nh,Nh=t,jh=e}function PO(t,e,n){Fn[Bn++]=Ur,Fn[Bn++]=zr,Fn[Bn++]=zo,zo=t;var r=Ur;t=zr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var o=32-hr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ur=1<<32-hr(e)+i|n<<i|r,zr=o+t}else Ur=1<<o|n<<i|r,zr=t}function bb(t){t.return!==null&&(bo(t,1),PO(t,1,0))}function _b(t){for(;t===Nh;)Nh=ja[--Ra],ja[Ra]=null,jh=ja[--Ra],ja[Ra]=null;for(;t===zo;)zo=Fn[--Bn],Fn[Bn]=null,zr=Fn[--Bn],Fn[Bn]=null,Ur=Fn[--Bn],Fn[Bn]=null}var Nn=null,kn=null,tt=!1,lr=null;function IO(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Px(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,kn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:Ur,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,kn=null,!0):!1;default:return!1}}function Fy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function By(t){if(tt){var e=kn;if(e){var n=e;if(!Px(t,e)){if(Fy(t))throw Error(te(418));e=Fi(n.nextSibling);var r=Nn;e&&Px(t,e)?IO(r,n):(t.flags=t.flags&-4097|2,tt=!1,Nn=t)}}else{if(Fy(t))throw Error(te(418));t.flags=t.flags&-4097|2,tt=!1,Nn=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function Af(t){if(t!==Nn)return!1;if(!tt)return Ix(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=kn)){if(Fy(t))throw OO(),Error(te(418));for(;e;)IO(t,e),e=Fi(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Nn?Fi(t.stateNode.nextSibling):null;return!0}function OO(){for(var t=kn;t;)t=Fi(t.nextSibling)}function is(){kn=Nn=null,tt=!1}function wb(t){lr===null?lr=[t]:lr.push(t)}var C$=pi.ReactCurrentBatchConfig;function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Pf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ox(t){var e=t._init;return e(t._payload)}function kO(t){function e(_,v){if(t){var w=_.deletions;w===null?(_.deletions=[v],_.flags|=16):w.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Wi(_,v),_.index=0,_.sibling=null,_}function o(_,v,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<v?(_.flags|=2,v):w):(_.flags|=2,v)):(_.flags|=1048576,v)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,v,w,O){return v===null||v.tag!==6?(v=Sg(w,_.mode,O),v.return=_,v):(v=i(v,w),v.return=_,v)}function l(_,v,w,O){var T=w.type;return T===Pa?h(_,v,w.props.children,O,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ei&&Ox(T)===v.type)?(O=i(v,w.props),O.ref=Al(_,v,w),O.return=_,O):(O=fh(w.type,w.key,w.props,null,_.mode,O),O.ref=Al(_,v,w),O.return=_,O)}function u(_,v,w,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Eg(w,_.mode,O),v.return=_,v):(v=i(v,w.children||[]),v.return=_,v)}function h(_,v,w,O,T){return v===null||v.tag!==7?(v=Do(w,_.mode,O,T),v.return=_,v):(v=i(v,w),v.return=_,v)}function f(_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sg(""+v,_.mode,w),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gf:return w=fh(v.type,v.key,v.props,null,_.mode,w),w.ref=Al(_,null,v),w.return=_,w;case Aa:return v=Eg(v,_.mode,w),v.return=_,v;case Ei:var O=v._init;return f(_,O(v._payload),w)}if(zl(v)||wl(v))return v=Do(v,_.mode,w,null),v.return=_,v;Pf(_,v)}return null}function d(_,v,w,O){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(_,v,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gf:return w.key===T?l(_,v,w,O):null;case Aa:return w.key===T?u(_,v,w,O):null;case Ei:return T=w._init,d(_,v,T(w._payload),O)}if(zl(w)||wl(w))return T!==null?null:h(_,v,w,O,null);Pf(_,w)}return null}function p(_,v,w,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(w)||null,s(v,_,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case gf:return _=_.get(O.key===null?w:O.key)||null,l(v,_,O,T);case Aa:return _=_.get(O.key===null?w:O.key)||null,u(v,_,O,T);case Ei:var P=O._init;return p(_,v,w,P(O._payload),T)}if(zl(O)||wl(O))return _=_.get(w)||null,h(v,_,O,T,null);Pf(v,O)}return null}function m(_,v,w,O){for(var T=null,P=null,S=v,E=v=0,I=null;S!==null&&E<w.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var k=d(_,S,w[E],O);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(_,S),v=o(k,v,E),P===null?T=k:P.sibling=k,P=k,S=I}if(E===w.length)return n(_,S),tt&&bo(_,E),T;if(S===null){for(;E<w.length;E++)S=f(_,w[E],O),S!==null&&(v=o(S,v,E),P===null?T=S:P.sibling=S,P=S);return tt&&bo(_,E),T}for(S=r(_,S);E<w.length;E++)I=p(S,_,E,w[E],O),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),v=o(I,v,E),P===null?T=I:P.sibling=I,P=I);return t&&S.forEach(function(C){return e(_,C)}),tt&&bo(_,E),T}function g(_,v,w,O){var T=wl(w);if(typeof T!="function")throw Error(te(150));if(w=T.call(w),w==null)throw Error(te(151));for(var P=T=null,S=v,E=v=0,I=null,k=w.next();S!==null&&!k.done;E++,k=w.next()){S.index>E?(I=S,S=null):I=S.sibling;var C=d(_,S,k.value,O);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(_,S),v=o(C,v,E),P===null?T=C:P.sibling=C,P=C,S=I}if(k.done)return n(_,S),tt&&bo(_,E),T;if(S===null){for(;!k.done;E++,k=w.next())k=f(_,k.value,O),k!==null&&(v=o(k,v,E),P===null?T=k:P.sibling=k,P=k);return tt&&bo(_,E),T}for(S=r(_,S);!k.done;E++,k=w.next())k=p(S,_,E,k.value,O),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),v=o(k,v,E),P===null?T=k:P.sibling=k,P=k);return t&&S.forEach(function(R){return e(_,R)}),tt&&bo(_,E),T}function b(_,v,w,O){if(typeof w=="object"&&w!==null&&w.type===Pa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gf:e:{for(var T=w.key,P=v;P!==null;){if(P.key===T){if(T=w.type,T===Pa){if(P.tag===7){n(_,P.sibling),v=i(P,w.props.children),v.return=_,_=v;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ei&&Ox(T)===P.type){n(_,P.sibling),v=i(P,w.props),v.ref=Al(_,P,w),v.return=_,_=v;break e}n(_,P);break}else e(_,P);P=P.sibling}w.type===Pa?(v=Do(w.props.children,_.mode,O,w.key),v.return=_,_=v):(O=fh(w.type,w.key,w.props,null,_.mode,O),O.ref=Al(_,v,w),O.return=_,_=O)}return a(_);case Aa:e:{for(P=w.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(_,v.sibling),v=i(v,w.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Eg(w,_.mode,O),v.return=_,_=v}return a(_);case Ei:return P=w._init,b(_,v,P(w._payload),O)}if(zl(w))return m(_,v,w,O);if(wl(w))return g(_,v,w,O);Pf(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,w),v.return=_,_=v):(n(_,v),v=Sg(w,_.mode,O),v.return=_,_=v),a(_)):n(_,v)}return b}var os=kO(!0),CO=kO(!1),Rh=io(null),Mh=null,Ma=null,xb=null;function Sb(){xb=Ma=Mh=null}function Eb(t){var e=Rh.current;Qe(Rh),t._currentValue=e}function Uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ha(t,e){Mh=t,xb=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(xb!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(Mh===null)throw Error(te(308));Ma=t,Mh.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var Po=null;function Tb(t){Po===null?Po=[t]:Po.push(t)}function NO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tb(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function Ab(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,Tb(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function oh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fb(t,n)}}function kx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var i=t.updateQueue;Ti=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,h=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=st({},f,d);break e;case 2:Ti=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Go|=a,t.lanes=a,t.memoizedState=f}}function Cx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Pc={},Tr=io(Pc),Pu=io(Pc),Iu=io(Pc);function Io(t){if(t===Pc)throw Error(te(174));return t}function Pb(t,e){switch(He(Iu,e),He(Pu,t),He(Tr,Pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xy(e,t)}Qe(Tr),He(Tr,e)}function as(){Qe(Tr),Qe(Pu),Qe(Iu)}function RO(t){Io(Iu.current);var e=Io(Tr.current),n=xy(e,t.type);e!==n&&(He(Pu,t),He(Tr,n))}function Ib(t){Pu.current===t&&(Qe(Tr),Qe(Pu))}var ot=io(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yg=[];function Ob(){for(var t=0;t<yg.length;t++)yg[t]._workInProgressVersionPrimary=null;yg.length=0}var ah=pi.ReactCurrentDispatcher,vg=pi.ReactCurrentBatchConfig,Wo=0,at=null,wt=null,Ot=null,Lh=!1,nu=!1,Ou=0,N$=0;function qt(){throw Error(te(321))}function kb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function Cb(t,e,n,r,i,o){if(Wo=o,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ah.current=t===null||t.memoizedState===null?D$:$$,t=n(r,i),nu){o=0;do{if(nu=!1,Ou=0,25<=o)throw Error(te(301));o+=1,Ot=wt=null,e.updateQueue=null,ah.current=L$,t=n(r,i)}while(nu)}if(ah.current=Vh,e=wt!==null&&wt.next!==null,Wo=0,Ot=wt=at=null,Lh=!1,e)throw Error(te(300));return t}function Nb(){var t=Ou!==0;return Ou=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Xn(){if(wt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Ot===null?at.memoizedState:Ot.next;if(e!==null)Ot=e,wt=t;else{if(t===null)throw Error(te(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ot===null?at.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function ku(t,e){return typeof e=="function"?e(t):e}function bg(t){var e=Xn(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var h=u.lane;if((Wo&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,at.lanes|=h,Go|=h}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,gr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,at.lanes|=o,Go|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _g(t){var e=Xn(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);gr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function MO(){}function DO(t,e){var n=at,r=Xn(),i=e(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,yn=!0),r=r.queue,jb(VO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Cu(9,LO.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(te(349));Wo&30||$O(n,e,i)}return i}function $O(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LO(t,e,n,r){e.value=n,e.getSnapshot=r,FO(e)&&BO(t)}function VO(t,e,n){return n(function(){FO(e)&&BO(t)})}function FO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function BO(t){var e=oi(t,1);e!==null&&dr(e,t,1,-1)}function Nx(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:t},e.queue=t,t=t.dispatch=M$.bind(null,at,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UO(){return Xn().memoizedState}function sh(t,e,n,r){var i=_r();at.flags|=t,i.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function gp(t,e,n,r){var i=Xn();r=r===void 0?null:r;var o=void 0;if(wt!==null){var a=wt.memoizedState;if(o=a.destroy,r!==null&&kb(r,a.deps)){i.memoizedState=Cu(e,n,o,r);return}}at.flags|=t,i.memoizedState=Cu(1|e,n,o,r)}function jx(t,e){return sh(8390656,8,t,e)}function jb(t,e){return gp(2048,8,t,e)}function zO(t,e){return gp(4,2,t,e)}function WO(t,e){return gp(4,4,t,e)}function GO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HO(t,e,n){return n=n!=null?n.concat([t]):null,gp(4,4,GO.bind(null,e,t),n)}function Rb(){}function qO(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KO(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XO(t,e,n){return Wo&21?(gr(n,e)||(n=eO(),at.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function j$(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=vg.transition;vg.transition={};try{t(!1),e()}finally{Le=n,vg.transition=r}}function YO(){return Xn().memoizedState}function R$(t,e,n){var r=zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QO(t))JO(e,n);else if(n=NO(t,e,n,r),n!==null){var i=cn();dr(n,t,r,i),ZO(n,e,r)}}function M$(t,e,n){var r=zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QO(t))JO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,a)){var l=e.interleaved;l===null?(i.next=i,Tb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NO(t,e,i,r),n!==null&&(i=cn(),dr(n,t,r,i),ZO(n,e,r))}}function QO(t){var e=t.alternate;return t===at||e!==null&&e===at}function JO(t,e){nu=Lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fb(t,n)}}var Vh={readContext:Kn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},D$={readContext:Kn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:jx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sh(4194308,4,GO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return sh(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R$.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:Nx,useDebugValue:Rb,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=Nx(!1),e=t[0];return t=j$.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=_r();if(tt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),kt===null)throw Error(te(349));Wo&30||$O(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jx(VO.bind(null,r,o,t),[t]),r.flags|=2048,Cu(9,LO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_r(),e=kt.identifierPrefix;if(tt){var n=zr,r=Ur;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$$={readContext:Kn,useCallback:qO,useContext:Kn,useEffect:jb,useImperativeHandle:HO,useInsertionEffect:zO,useLayoutEffect:WO,useMemo:KO,useReducer:bg,useRef:UO,useState:function(){return bg(ku)},useDebugValue:Rb,useDeferredValue:function(t){var e=Xn();return XO(e,wt.memoizedState,t)},useTransition:function(){var t=bg(ku)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:MO,useSyncExternalStore:DO,useId:YO,unstable_isNewReconciler:!1},L$={readContext:Kn,useCallback:qO,useContext:Kn,useEffect:jb,useImperativeHandle:HO,useInsertionEffect:zO,useLayoutEffect:WO,useMemo:KO,useReducer:_g,useRef:UO,useState:function(){return _g(ku)},useDebugValue:Rb,useDeferredValue:function(t){var e=Xn();return wt===null?e.memoizedState=t:XO(e,wt.memoizedState,t)},useTransition:function(){var t=_g(ku)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:MO,useSyncExternalStore:DO,useId:YO,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yp={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zi(t),o=Qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Bi(t,o,i),e!==null&&(dr(e,t,i,r),oh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zi(t),o=Qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Bi(t,o,i),e!==null&&(dr(e,t,i,r),oh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=zi(t),i=Qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(dr(e,t,r,n),oh(e,t,r))}};function Rx(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Su(n,r)||!Su(i,o):!0}function ek(t,e,n){var r=!1,i=Ji,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=_n(e)?Uo:nn.current,r=e.contextTypes,o=(r=r!=null)?rs(t,i):Ji),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Mx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yp.enqueueReplaceState(e,e.state,null)}function Wy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ab(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=_n(e)?Uo:nn.current,i.context=rs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yp.enqueueReplaceState(i,i.state,null),Dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e){try{var n="",r=e;do n+=hD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function wg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V$=typeof WeakMap=="function"?WeakMap:Map;function tk(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bh||(Bh=!0,tv=r),Gy(t,e)},n}function nk(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gy(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Z$.bind(null,t,e,n),e.then(t,t))}function $x(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var F$=pi.ReactCurrentOwner,yn=!1;function sn(t,e,n,r){e.child=t===null?CO(e,null,n,r):os(e,t.child,n,r)}function Vx(t,e,n,r,i){n=n.render;var o=e.ref;return Ha(e,i),r=Cb(t,e,n,r,o,i),n=Nb(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(tt&&n&&bb(e),e.flags|=1,sn(t,e,r,i),e.child)}function Fx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ub(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rk(t,e,o,r,i)):(t=fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Su,n(a,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=Wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function rk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Su(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Hy(t,e,n,r,i)}function ik(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He($a,Pn),Pn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He($a,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He($a,Pn),Pn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He($a,Pn),Pn|=r;return sn(t,e,i,n),e.child}function ok(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hy(t,e,n,r,i){var o=_n(n)?Uo:nn.current;return o=rs(e,o),Ha(e,i),n=Cb(t,e,n,r,o,i),r=Nb(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(tt&&r&&bb(e),e.flags|=1,sn(t,e,n,i),e.child)}function Bx(t,e,n,r,i){if(_n(n)){var o=!0;Ch(e)}else o=!1;if(Ha(e,i),e.stateNode===null)lh(t,e),ek(e,n,r),Wy(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=_n(n)?Uo:nn.current,u=rs(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Mx(e,a,r,u),Ti=!1;var d=e.memoizedState;a.state=d,Dh(e,r,a,i),l=e.memoizedState,s!==r||d!==l||bn.current||Ti?(typeof h=="function"&&(zy(e,n,h,r),l=e.memoizedState),(s=Ti||Rx(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,jO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ir(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=_n(n)?Uo:nn.current,l=rs(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Mx(e,a,r,l),Ti=!1,d=e.memoizedState,a.state=d,Dh(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||bn.current||Ti?(typeof p=="function"&&(zy(e,n,p,r),m=e.memoizedState),(u=Ti||Rx(e,n,u,r,d,m,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return qy(t,e,n,r,o,i)}function qy(t,e,n,r,i,o){ok(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ax(e,n,!1),ai(t,e,o);r=e.stateNode,F$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=os(e,t.child,null,o),e.child=os(e,null,s,o)):sn(t,e,s,o),e.memoizedState=r.state,i&&Ax(e,n,!0),e.child}function ak(t){var e=t.stateNode;e.pendingContext?Tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(t,e.context,!1),Pb(t,e.containerInfo)}function Ux(t,e,n,r,i){return is(),wb(i),e.flags|=256,sn(t,e,n,r),e.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Xy(t){return{baseLanes:t,cachePool:null,transitions:null}}function sk(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(ot,i&1),t===null)return By(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=_p(a,r,0,null),t=Do(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Xy(n),e.memoizedState=Ky,t):Mb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return B$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Wi(s,o):(o=Do(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Xy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ky,r}return o=t.child,t=o.sibling,r=Wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mb(t,e){return e=_p({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function If(t,e,n,r){return r!==null&&wb(r),os(e,t.child,null,n),t=Mb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=wg(Error(te(422))),If(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_p({mode:"visible",children:r.children},i,0,null),o=Do(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&os(e,t.child,null,a),e.child.memoizedState=Xy(a),e.memoizedState=Ky,o);if(!(e.mode&1))return If(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=wg(o,r,void 0),If(t,e,a,r)}if(s=(a&t.childLanes)!==0,yn||s){if(r=kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,oi(t,i),dr(r,t,i,-1))}return Bb(),r=wg(Error(te(421))),If(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=Fi(i.nextSibling),Nn=e,tt=!0,lr=null,t!==null&&(Fn[Bn++]=Ur,Fn[Bn++]=zr,Fn[Bn++]=zo,Ur=t.id,zr=t.overflow,zo=e),e=Mb(e,r.children),e.flags|=4096,e)}function zx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uy(t.return,e,n)}function xg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zx(t,n,e);else if(t.tag===19)zx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$h(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$h(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xg(e,!0,n,null,o);break;case"together":xg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U$(t,e,n){switch(e.tag){case 3:ak(e),is();break;case 5:RO(e);break;case 1:_n(e.type)&&Ch(e);break;case 4:Pb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?sk(t,e,n):(He(ot,ot.current&1),t=ai(t,e,n),t!==null?t.sibling:null);He(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,ik(t,e,n)}return ai(t,e,n)}var uk,Yy,ck,fk;uk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yy=function(){};ck=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Io(Tr.current);var o=null;switch(n){case"input":i=vy(t,i),r=vy(t,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=wy(t,i),r=wy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oh)}Sy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};fk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z$(t,e,n){var r=e.pendingProps;switch(_b(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return _n(e.type)&&kh(),Kt(e),null;case 3:return r=e.stateNode,as(),Qe(bn),Qe(nn),Ob(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(iv(lr),lr=null))),Yy(t,e),Kt(e),null;case 5:Ib(e);var i=Io(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)ck(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Kt(e),null}if(t=Io(Tr.current),Af(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xr]=e,r[Au]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)Ke(Gl[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":J1(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":ex(r,o),Ke("invalid",r)}Sy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Tf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Tf(r.textContent,s,t),i=["children",""+s]):gu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ke("scroll",r)}switch(n){case"input":yf(r),Z1(r,o,!0);break;case"textarea":yf(r),tx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xr]=e,t[Au]=r,uk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ey(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)Ke(Gl[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":J1(t,r),i=vy(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":ex(t,r),i=wy(t,r),Ke("invalid",t);break;default:i=r}Sy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?UI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&ob(t,o,l,a))}switch(n){case"input":yf(t),Z1(t,r,!1);break;case"textarea":yf(t),tx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ua(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)fk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Io(Iu.current),Io(Tr.current),Af(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(o=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:Tf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Qe(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&kn!==null&&e.mode&1&&!(e.flags&128))OO(),is(),e.flags|=98560,o=!1;else if(o=Af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[xr]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),o=!1}else lr!==null&&(iv(lr),lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?St===0&&(St=3):Bb())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return as(),Yy(t,e),t===null&&Eu(e.stateNode.containerInfo),Kt(e),null;case 10:return Eb(e.type._context),Kt(e),null;case 17:return _n(e.type)&&kh(),Kt(e),null;case 19:if(Qe(ot),o=e.memoizedState,o===null)return Kt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Pl(o,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=$h(t),a!==null){for(e.flags|=128,Pl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>ls&&(e.flags|=128,r=!0,Pl(o,!1),e.lanes=4194304)}else{if(!r)if(t=$h(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tt)return Kt(e),null}else 2*dt()-o.renderingStartTime>ls&&n!==1073741824&&(e.flags|=128,r=!0,Pl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=ot.current,He(ot,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Fb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function W$(t,e){switch(_b(e),e.tag){case 1:return _n(e.type)&&kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),Qe(bn),Qe(nn),Ob(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ib(e),null;case 13:if(Qe(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(ot),null;case 4:return as(),null;case 10:return Eb(e.type._context),null;case 22:case 23:return Fb(),null;case 24:return null;default:return null}}var Of=!1,Jt=!1,G$=typeof WeakSet=="function"?WeakSet:Set,le=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Qy(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Wx=!1;function H$(t,e){if(Ry=Ah,t=gO(),vb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++h===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(My={focusedElem:t,selectionRange:n},Ah=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:ir(e.type,g),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(O){ct(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=Wx,Wx=!1,m}function ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qy(e,n,o)}i=i.next}while(i!==r)}}function vp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hk(t){var e=t.alternate;e!==null&&(t.alternate=null,hk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Au],delete e[Ly],delete e[I$],delete e[O$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dk(t){return t.tag===5||t.tag===3||t.tag===4}function Gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oh));else if(r!==4&&(t=t.child,t!==null))for(Zy(t,e,n),t=t.sibling;t!==null;)Zy(t,e,n),t=t.sibling}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}var Rt=null,or=!1;function xi(t,e,n){for(n=n.child;n!==null;)pk(t,e,n),n=n.sibling}function pk(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(cp,n)}catch{}switch(n.tag){case 5:Jt||Da(n,e);case 6:var r=Rt,i=or;Rt=null,xi(t,e,n),Rt=r,or=i,Rt!==null&&(or?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(or?(t=Rt,n=n.stateNode,t.nodeType===8?mg(t.parentNode,n):t.nodeType===1&&mg(t,n),wu(t)):mg(Rt,n.stateNode));break;case 4:r=Rt,i=or,Rt=n.stateNode.containerInfo,or=!0,xi(t,e,n),Rt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Qy(n,e,a),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Jt&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ct(n,e,s)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,xi(t,e,n),Jt=r):xi(t,e,n);break;default:xi(t,e,n)}}function Hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G$),e.forEach(function(r){var i=tL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rt=s.stateNode,or=!1;break e;case 3:Rt=s.stateNode.containerInfo,or=!0;break e;case 4:Rt=s.stateNode.containerInfo,or=!0;break e}s=s.return}if(Rt===null)throw Error(te(160));pk(o,a,i),Rt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mk(e,t),e=e.sibling}function mk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),br(t),r&4){try{ru(3,t,t.return),vp(3,t)}catch(g){ct(t,t.return,g)}try{ru(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:tr(e,t),br(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(tr(e,t),br(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var i=t.stateNode;try{yu(i,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&$I(i,o),Ey(s,a);var u=Ey(s,o);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?UI(i,f):h==="dangerouslySetInnerHTML"?FI(i,f):h==="children"?yu(i,f):ob(i,h,f,u)}switch(s){case"input":by(i,o);break;case"textarea":LI(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ua(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ua(i,!!o.multiple,o.defaultValue,!0):Ua(i,!!o.multiple,o.multiple?[]:"",!1))}i[Au]=o}catch(g){ct(t,t.return,g)}}break;case 6:if(tr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ct(t,t.return,g)}}break;case 3:if(tr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wu(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:tr(e,t),br(t);break;case 13:tr(e,t),br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lb=dt())),r&4&&Hx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||h,tr(e,t),Jt=u):tr(e,t),br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(f=le=h;le!==null;){switch(d=le,p=d.child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:Da(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Da(d,d.return);break;case 22:if(d.memoizedState!==null){Kx(f);continue}}p!==null?(p.return=d,le=p):Kx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=BI("display",a))}catch(g){ct(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ct(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),br(t),r&4&&Hx(t);break;case 21:break;default:tr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dk(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yu(i,""),r.flags&=-33);var o=Gx(t);ev(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Gx(t);Zy(t,s,a);break;default:throw Error(te(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q$(t,e,n){le=t,gk(t)}function gk(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Of;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Jt;s=Of;var u=Jt;if(Of=a,(Jt=l)&&!u)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?Xx(i):l!==null?(l.return=a,le=l):Xx(i);for(;o!==null;)le=o,gk(o),o=o.sibling;le=i,Of=s,Jt=u}qx(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):qx(t)}}function qx(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||vp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cx(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cx(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&wu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Jt||e.flags&512&&Jy(e)}catch(d){ct(e,e.return,d)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function Kx(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Xx(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vp(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{Jy(e)}catch(l){ct(e,o,l)}break;case 5:var a=e.return;try{Jy(e)}catch(l){ct(e,a,l)}}}catch(l){ct(e,e.return,l)}if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}var K$=Math.ceil,Fh=pi.ReactCurrentDispatcher,Db=pi.ReactCurrentOwner,Wn=pi.ReactCurrentBatchConfig,ke=0,kt=null,yt=null,Lt=0,Pn=0,$a=io(0),St=0,Nu=null,Go=0,bp=0,$b=0,iu=null,mn=null,Lb=0,ls=1/0,Vr=null,Bh=!1,tv=null,Ui=null,kf=!1,Ri=null,Uh=0,ou=0,nv=null,uh=-1,ch=0;function cn(){return ke&6?dt():uh!==-1?uh:uh=dt()}function zi(t){return t.mode&1?ke&2&&Lt!==0?Lt&-Lt:C$.transition!==null?(ch===0&&(ch=eO()),ch):(t=Le,t!==0||(t=window.event,t=t===void 0?16:sO(t.type)),t):1}function dr(t,e,n,r){if(50<ou)throw ou=0,nv=null,Error(te(185));Ec(t,n,r),(!(ke&2)||t!==kt)&&(t===kt&&(!(ke&2)&&(bp|=n),St===4&&Ii(t,Lt)),wn(t,r),n===1&&ke===0&&!(e.mode&1)&&(ls=dt()+500,mp&&oo()))}function wn(t,e){var n=t.callbackNode;CD(t,e);var r=Th(t,t===kt?Lt:0);if(r===0)n!==null&&ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ix(n),e===1)t.tag===0?k$(Yx.bind(null,t)):AO(Yx.bind(null,t)),A$(function(){!(ke&6)&&oo()}),n=null;else{switch(tO(r)){case 1:n=cb;break;case 4:n=JI;break;case 16:n=Eh;break;case 536870912:n=ZI;break;default:n=Eh}n=Ek(n,yk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yk(t,e){if(uh=-1,ch=0,ke&6)throw Error(te(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var r=Th(t,t===kt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zh(t,r);else{e=r;var i=ke;ke|=2;var o=bk();(kt!==t||Lt!==e)&&(Vr=null,ls=dt()+500,Mo(t,e));do try{Q$();break}catch(s){vk(t,s)}while(1);Sb(),Fh.current=o,ke=i,yt!==null?e=0:(kt=null,Lt=0,e=St)}if(e!==0){if(e===2&&(i=Oy(t),i!==0&&(r=i,e=rv(t,i))),e===1)throw n=Nu,Mo(t,0),Ii(t,r),wn(t,dt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!X$(i)&&(e=zh(t,r),e===2&&(o=Oy(t),o!==0&&(r=o,e=rv(t,o))),e===1))throw n=Nu,Mo(t,0),Ii(t,r),wn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:_o(t,mn,Vr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Lb+500-dt(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(_o.bind(null,t,mn,Vr),e);break}_o(t,mn,Vr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K$(r/1960))-r,10<r){t.timeoutHandle=$y(_o.bind(null,t,mn,Vr),r);break}_o(t,mn,Vr);break;case 5:_o(t,mn,Vr);break;default:throw Error(te(329))}}}return wn(t,dt()),t.callbackNode===n?yk.bind(null,t):null}function rv(t,e){var n=iu;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=zh(t,e),t!==2&&(e=mn,mn=n,e!==null&&iv(e)),t}function iv(t){mn===null?mn=t:mn.push.apply(mn,t)}function X$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~$b,e&=~bp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Yx(t){if(ke&6)throw Error(te(327));qa();var e=Th(t,0);if(!(e&1))return wn(t,dt()),null;var n=zh(t,e);if(t.tag!==0&&n===2){var r=Oy(t);r!==0&&(e=r,n=rv(t,r))}if(n===1)throw n=Nu,Mo(t,0),Ii(t,e),wn(t,dt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,mn,Vr),wn(t,dt()),null}function Vb(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(ls=dt()+500,mp&&oo())}}function Ho(t){Ri!==null&&Ri.tag===0&&!(ke&6)&&qa();var e=ke;ke|=1;var n=Wn.transition,r=Le;try{if(Wn.transition=null,Le=1,t)return t()}finally{Le=r,Wn.transition=n,ke=e,!(ke&6)&&oo()}}function Fb(){Pn=$a.current,Qe($a)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T$(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(_b(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kh();break;case 3:as(),Qe(bn),Qe(nn),Ob();break;case 5:Ib(r);break;case 4:as();break;case 13:Qe(ot);break;case 19:Qe(ot);break;case 10:Eb(r.type._context);break;case 22:case 23:Fb()}n=n.return}if(kt=t,yt=t=Wi(t.current,null),Lt=Pn=e,St=0,Nu=null,$b=bp=Go=0,mn=iu=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return t}function vk(t,e){do{var n=yt;try{if(Sb(),ah.current=Vh,Lh){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lh=!1}if(Wo=0,Ot=wt=at=null,nu=!1,Ou=0,Db.current=null,n===null||n.return===null){St=1,Nu=e,yt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Lt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=$x(a);if(p!==null){p.flags&=-257,Lx(p,a,s,o,e),p.mode&1&&Dx(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Dx(o,u,e),Bb();break e}l=Error(te(426))}}else if(tt&&s.mode&1){var b=$x(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Lx(b,a,s,o,e),wb(ss(l,s));break e}}o=l=ss(l,s),St!==4&&(St=2),iu===null?iu=[o]:iu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=tk(o,l,e);kx(o,_);break e;case 1:s=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ui===null||!Ui.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=nk(o,s,e);kx(o,O);break e}}o=o.return}while(o!==null)}wk(n)}catch(T){e=T,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function bk(){var t=Fh.current;return Fh.current=Vh,t===null?Vh:t}function Bb(){(St===0||St===3||St===2)&&(St=4),kt===null||!(Go&268435455)&&!(bp&268435455)||Ii(kt,Lt)}function zh(t,e){var n=ke;ke|=2;var r=bk();(kt!==t||Lt!==e)&&(Vr=null,Mo(t,e));do try{Y$();break}catch(i){vk(t,i)}while(1);if(Sb(),ke=n,Fh.current=r,yt!==null)throw Error(te(261));return kt=null,Lt=0,St}function Y$(){for(;yt!==null;)_k(yt)}function Q$(){for(;yt!==null&&!xD();)_k(yt)}function _k(t){var e=Sk(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?wk(t):yt=e,Db.current=null}function wk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=W$(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,yt=null;return}}else if(n=z$(n,e,Pn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);St===0&&(St=5)}function _o(t,e,n){var r=Le,i=Wn.transition;try{Wn.transition=null,Le=1,J$(t,e,n,r)}finally{Wn.transition=i,Le=r}return null}function J$(t,e,n,r){do qa();while(Ri!==null);if(ke&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ND(t,o),t===kt&&(yt=kt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kf||(kf=!0,Ek(Eh,function(){return qa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var a=Le;Le=1;var s=ke;ke|=4,Db.current=null,H$(t,n),mk(n,t),v$(My),Ah=!!Ry,My=Ry=null,t.current=n,q$(n),SD(),ke=s,Le=a,Wn.transition=o}else t.current=n;if(kf&&(kf=!1,Ri=t,Uh=i),o=t.pendingLanes,o===0&&(Ui=null),AD(n.stateNode),wn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bh)throw Bh=!1,t=tv,tv=null,t;return Uh&1&&t.tag!==0&&qa(),o=t.pendingLanes,o&1?t===nv?ou++:(ou=0,nv=t):ou=0,oo(),null}function qa(){if(Ri!==null){var t=tO(Uh),e=Wn.transition,n=Le;try{if(Wn.transition=null,Le=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,Uh=0,ke&6)throw Error(te(331));var i=ke;for(ke|=4,le=t.current;le!==null;){var o=le,a=o.child;if(le.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(le=u;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(f!==null)f.return=h,le=f;else for(;le!==null;){h=le;var d=h.sibling,p=h.return;if(hk(h),h===u){le=null;break}if(d!==null){d.return=p,le=d;break}le=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}le=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,le=a;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,le=_;break e}le=o.return}}var v=t.current;for(le=v;le!==null;){a=le;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,le=w;else e:for(a=v;le!==null;){if(s=le,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vp(9,s)}}catch(T){ct(s,s.return,T)}if(s===a){le=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,le=O;break e}le=s.return}}if(ke=i,oo(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(cp,t)}catch{}r=!0}return r}finally{Le=n,Wn.transition=e}}return!1}function Qx(t,e,n){e=ss(n,e),e=tk(t,e,1),t=Bi(t,e,1),e=cn(),t!==null&&(Ec(t,1,e),wn(t,e))}function ct(t,e,n){if(t.tag===3)Qx(t,t,n);else for(;e!==null;){if(e.tag===3){Qx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=ss(n,t),t=nk(e,t,1),e=Bi(e,t,1),t=cn(),e!==null&&(Ec(e,1,t),wn(e,t));break}}e=e.return}}function Z$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Lt&n)===n&&(St===4||St===3&&(Lt&130023424)===Lt&&500>dt()-Lb?Mo(t,0):$b|=n),wn(t,e)}function xk(t,e){e===0&&(t.mode&1?(e=_f,_f<<=1,!(_f&130023424)&&(_f=4194304)):e=1);var n=cn();t=oi(t,e),t!==null&&(Ec(t,e,n),wn(t,n))}function eL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xk(t,n)}function tL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),xk(t,n)}var Sk;Sk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,U$(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&PO(e,jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lh(t,e),t=e.pendingProps;var i=rs(e,nn.current);Ha(e,n),i=Cb(null,e,r,t,i,n);var o=Nb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(o=!0,Ch(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ab(e),i.updater=yp,e.stateNode=i,i._reactInternals=e,Wy(e,r,t,n),e=qy(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&bb(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rL(r),t=ir(r,t),i){case 0:e=Hy(null,e,r,t,n);break e;case 1:e=Bx(null,e,r,t,n);break e;case 11:e=Vx(null,e,r,t,n);break e;case 14:e=Fx(null,e,r,ir(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Bx(t,e,r,i,n);case 3:e:{if(ak(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jO(t,e),Dh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ss(Error(te(423)),e),e=Ux(t,e,r,n,i);break e}else if(r!==i){i=ss(Error(te(424)),e),e=Ux(t,e,r,n,i);break e}else for(kn=Fi(e.stateNode.containerInfo.firstChild),Nn=e,tt=!0,lr=null,n=CO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===i){e=ai(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return RO(e),t===null&&By(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Dy(r,i)?a=null:o!==null&&Dy(r,o)&&(e.flags|=32),ok(t,e),sn(t,e,a,n),e.child;case 6:return t===null&&By(e),null;case 13:return sk(t,e,n);case 4:return Pb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Vx(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,He(Rh,r._currentValue),r._currentValue=a,o!==null)if(gr(o.value,a)){if(o.children===i.children&&!bn.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uy(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Uy(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ha(e,n),i=Kn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),Fx(t,e,r,i,n);case 15:return rk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),lh(t,e),e.tag=1,_n(r)?(t=!0,Ch(e)):t=!1,Ha(e,n),ek(e,r,i),Wy(e,r,i,n),qy(null,e,r,!0,t,n);case 19:return lk(t,e,n);case 22:return ik(t,e,n)}throw Error(te(156,e.tag))};function Ek(t,e){return QI(t,e)}function nL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new nL(t,e,n,r)}function Ub(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rL(t){if(typeof t=="function")return Ub(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sb)return 11;if(t===lb)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Ub(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Pa:return Do(n.children,i,o,e);case ab:a=8,i|=8;break;case py:return t=Un(12,n,e,i|2),t.elementType=py,t.lanes=o,t;case my:return t=Un(13,n,e,i),t.elementType=my,t.lanes=o,t;case gy:return t=Un(19,n,e,i),t.elementType=gy,t.lanes=o,t;case RI:return _p(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NI:a=10;break e;case jI:a=9;break e;case sb:a=11;break e;case lb:a=14;break e;case Ei:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Un(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Do(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function _p(t,e,n,r){return t=Un(22,t,r,e),t.elementType=RI,t.lanes=n,t.stateNode={isHidden:!1},t}function Sg(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Eg(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ig(0),this.expirationTimes=ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ig(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zb(t,e,n,r,i,o,a,s,l){return t=new iL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Un(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ab(o),t}function oL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tk(t){if(!t)return Ji;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(_n(n))return TO(t,n,e)}return e}function Ak(t,e,n,r,i,o,a,s,l){return t=zb(n,r,!0,t,i,o,a,s,l),t.context=Tk(null),n=t.current,r=cn(),i=zi(n),o=Qr(r,i),o.callback=e??null,Bi(n,o,i),t.current.lanes=i,Ec(t,i,r),wn(t,r),t}function wp(t,e,n,r){var i=e.current,o=cn(),a=zi(i);return n=Tk(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,a),t!==null&&(dr(t,i,a,o),oh(t,i,a)),a}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wb(t,e){Jx(t,e),(t=t.alternate)&&Jx(t,e)}function aL(){return null}var Pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gb(t){this._internalRoot=t}xp.prototype.render=Gb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));wp(t,e,null,null)};xp.prototype.unmount=Gb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ho(function(){wp(null,t,null,null)}),e[ii]=null}};function xp(t){this._internalRoot=t}xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=iO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&aO(t)}};function Hb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zx(){}function sL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Wh(a);o.call(u)}}var a=Ak(e,r,t,0,null,!1,!1,"",Zx);return t._reactRootContainer=a,t[ii]=a.current,Eu(t.nodeType===8?t.parentNode:t),Ho(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Wh(l);s.call(u)}}var l=zb(t,0,!1,null,null,!1,!1,"",Zx);return t._reactRootContainer=l,t[ii]=l.current,Eu(t.nodeType===8?t.parentNode:t),Ho(function(){wp(e,l,n,r)}),l}function Ep(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Wh(a);s.call(l)}}wp(e,a,t,i)}else a=sL(n,e,t,i,r);return Wh(a)}nO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wl(e.pendingLanes);n!==0&&(fb(e,n|1),wn(e,dt()),!(ke&6)&&(ls=dt()+500,oo()))}break;case 13:Ho(function(){var r=oi(t,1);if(r!==null){var i=cn();dr(r,t,1,i)}}),Wb(t,1)}};hb=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=cn();dr(e,t,134217728,n)}Wb(t,134217728)}};rO=function(t){if(t.tag===13){var e=zi(t),n=oi(t,e);if(n!==null){var r=cn();dr(n,t,e,r)}Wb(t,e)}};iO=function(){return Le};oO=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Ay=function(t,e,n){switch(e){case"input":if(by(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pp(r);if(!i)throw Error(te(90));DI(r),by(r,i)}}}break;case"textarea":LI(t,n);break;case"select":e=n.value,e!=null&&Ua(t,!!n.multiple,e,!1)}};GI=Vb;HI=Ho;var lL={usingClientEntryPoint:!1,Events:[Ac,Ca,pp,zI,WI,Vb]},Il={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uL={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XI(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{cp=Cf.inject(uL),Er=Cf}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lL;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hb(e))throw Error(te(200));return oL(t,e,null,n)};Mn.createRoot=function(t,e){if(!Hb(t))throw Error(te(299));var n=!1,r="",i=Pk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zb(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,Eu(t.nodeType===8?t.parentNode:t),new Gb(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=XI(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Ho(t)};Mn.hydrate=function(t,e,n){if(!Sp(e))throw Error(te(200));return Ep(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!Hb(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Pk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Ak(e,null,t,1,n??null,i,!1,o,a),t[ii]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xp(e)};Mn.render=function(t,e,n){if(!Sp(e))throw Error(te(200));return Ep(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Sp(t))throw Error(te(40));return t._reactRootContainer?(Ho(function(){Ep(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Mn.unstable_batchedUpdates=Vb;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sp(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Ep(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function Ik(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ik)}catch(t){console.error(t)}}Ik(),II.exports=Mn;var cL=II.exports,eS=cL;hy.createRoot=eS.createRoot,hy.hydrateRoot=eS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[h],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ok(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new hL;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dL=function(t){const e=Ok(t);return kk.encodeByteArray(e,!0)},Gh=function(t){return dL(t).replace(/\./g,"")},Ck=function(t){try{return kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=()=>pL().__FIREBASE_DEFAULTS__,gL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return mL()||gL()||yL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nk=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vL=t=>{const e=Nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jk=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config},Rk=t=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Gh(JSON.stringify(n)),Gh(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function xL(){var t;const e=(t=Tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AL(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IL(){try{return typeof indexedDB=="object"}catch{return!1}}function OL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?CL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new mi(i,s,r)}}function CL(t,e){return t.replace(NL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NL=/\{\$([^}]+)}/g;function jL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(tS(o)&&tS(a)){if(!Hh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RL(t,e){const n=new ML(t,e);return n.subscribe.bind(n)}class ML{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tg),i.error===void 0&&(i.error=Tg),i.complete===void 0&&(i.complete=Tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VL(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LL(t){return t===wo?void 0:t}function VL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $L(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const BL={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},UL=Pe.INFO,zL={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qb{constructor(e){this.name=e,this._logLevel=UL,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const GL=(t,e)=>e.some(n=>t instanceof n);let nS,rS;function HL(){return nS||(nS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qL(){return rS||(rS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mk=new WeakMap,ov=new WeakMap,Dk=new WeakMap,Ag=new WeakMap,Kb=new WeakMap;function KL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Gi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Mk.set(n,t)}).catch(()=>{}),Kb.set(e,t),e}function XL(t){if(ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});ov.set(t,e)}let av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YL(t){av=t(av)}function QL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pg(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),Gi(r)}:qL().includes(t)?function(...e){return t.apply(Pg(this),e),Gi(Mk.get(this))}:function(...e){return Gi(t.apply(Pg(this),e))}}function JL(t){return typeof t=="function"?QL(t):(t instanceof IDBTransaction&&XL(t),GL(t,HL())?new Proxy(t,av):t)}function Gi(t){if(t instanceof IDBRequest)return KL(t);if(Ag.has(t))return Ag.get(t);const e=JL(t);return e!==t&&(Ag.set(t,e),Kb.set(e,t)),e}const Pg=t=>Kb.get(t);function ZL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Gi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Gi(a.result),l.oldVersion,l.newVersion,Gi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const e4=["get","getKey","getAll","getAllKeys","count"],t4=["put","add","delete","clear"],Ig=new Map;function iS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ig.set(e,o),o}YL(t=>({...t,get:(e,n,r)=>iS(e,n)||t.get(e,n,r),has:(e,n)=>!!iS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sv="@firebase/app",oS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new qb("@firebase/app"),i4="@firebase/app-compat",o4="@firebase/analytics-compat",a4="@firebase/analytics",s4="@firebase/app-check-compat",l4="@firebase/app-check",u4="@firebase/auth",c4="@firebase/auth-compat",f4="@firebase/database",h4="@firebase/data-connect",d4="@firebase/database-compat",p4="@firebase/functions",m4="@firebase/functions-compat",g4="@firebase/installations",y4="@firebase/installations-compat",v4="@firebase/messaging",b4="@firebase/messaging-compat",_4="@firebase/performance",w4="@firebase/performance-compat",x4="@firebase/remote-config",S4="@firebase/remote-config-compat",E4="@firebase/storage",T4="@firebase/storage-compat",A4="@firebase/firestore",P4="@firebase/vertexai-preview",I4="@firebase/firestore-compat",O4="firebase",k4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",C4={[sv]:"fire-core",[i4]:"fire-core-compat",[a4]:"fire-analytics",[o4]:"fire-analytics-compat",[l4]:"fire-app-check",[s4]:"fire-app-check-compat",[u4]:"fire-auth",[c4]:"fire-auth-compat",[f4]:"fire-rtdb",[h4]:"fire-data-connect",[d4]:"fire-rtdb-compat",[p4]:"fire-fn",[m4]:"fire-fn-compat",[g4]:"fire-iid",[y4]:"fire-iid-compat",[v4]:"fire-fcm",[b4]:"fire-fcm-compat",[_4]:"fire-perf",[w4]:"fire-perf-compat",[x4]:"fire-rc",[S4]:"fire-rc-compat",[E4]:"fire-gcs",[T4]:"fire-gcs-compat",[A4]:"fire-fst",[I4]:"fire-fst-compat",[P4]:"fire-vertex","fire-js":"fire-js",[O4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,N4=new Map,uv=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){const e=t.name;if(uv.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const n of qh.values())aS(n,t);for(const n of N4.values())aS(n,t);return!0}function Xb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Ic("app","Firebase",j4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=k4;function $k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=jk()),!n)throw Hi.create("no-options");const o=qh.get(i);if(o){if(Hh(n,o.options)&&Hh(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}const a=new FL(i);for(const l of uv.values())a.addComponent(l);const s=new R4(n,r,a);return qh.set(i,s),s}function Lk(t=lv){const e=qh.get(t);if(!e&&t===lv&&jk())return $k();if(!e)throw Hi.create("no-app",{appName:t});return e}function qi(t,e,n){var r;let i=(r=C4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(s.join(" "));return}us(new qo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",D4=1,ju="firebase-heartbeat-store";let Og=null;function Vk(){return Og||(Og=ZL(M4,D4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Og}async function $4(t){try{const n=(await Vk()).transaction(ju),r=await n.objectStore(ju).get(Fk(t));return await n.done,r}catch(e){if(e instanceof mi)si.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function sS(t,e){try{const r=(await Vk()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,Fk(t)),await r.done}catch(n){if(n instanceof mi)si.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function Fk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=1024,V4=30*24*60*60*1e3;class F4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=V4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lS(),{heartbeatsToSend:r,unsentEntries:i}=B4(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return si.warn(n),""}}}function lS(){return new Date().toISOString().substring(0,10)}function B4(t,e=L4){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),uS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IL()?OL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uS(t){return Gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){us(new qo("platform-logger",e=>new n4(e),"PRIVATE")),us(new qo("heartbeat",e=>new F4(e),"PRIVATE")),qi(sv,oS,t),qi(sv,oS,"esm2017"),qi("fire-js","")}z4("");var W4="firebase",G4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(W4,G4,"app");var cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,Bk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(k,C,R){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return E.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var k=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)k[C]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(C=0;16>C;++C)k[C]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],C=S.g[2];var R=S.g[3],N=E+(R^I&(C^R))+k[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=R+(C^E&(I^C))+k[1]+3905402710&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(I^R&(E^I))+k[2]+606105819&4294967295,C=R+(N<<17&4294967295|N>>>15),N=I+(E^C&(R^E))+k[3]+3250441966&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(R^I&(C^R))+k[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=R+(C^E&(I^C))+k[5]+1200080426&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(I^R&(E^I))+k[6]+2821735955&4294967295,C=R+(N<<17&4294967295|N>>>15),N=I+(E^C&(R^E))+k[7]+4249261313&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(R^I&(C^R))+k[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=R+(C^E&(I^C))+k[9]+2336552879&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(I^R&(E^I))+k[10]+4294925233&4294967295,C=R+(N<<17&4294967295|N>>>15),N=I+(E^C&(R^E))+k[11]+2304563134&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(R^I&(C^R))+k[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=R+(C^E&(I^C))+k[13]+4254626195&4294967295,R=E+(N<<12&4294967295|N>>>20),N=C+(I^R&(E^I))+k[14]+2792965006&4294967295,C=R+(N<<17&4294967295|N>>>15),N=I+(E^C&(R^E))+k[15]+1236535329&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(C^R&(I^C))+k[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=R+(I^C&(E^I))+k[6]+3225465664&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(R^E))+k[11]+643717713&4294967295,C=R+(N<<14&4294967295|N>>>18),N=I+(R^E&(C^R))+k[0]+3921069994&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(I^C))+k[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=R+(I^C&(E^I))+k[10]+38016083&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(R^E))+k[15]+3634488961&4294967295,C=R+(N<<14&4294967295|N>>>18),N=I+(R^E&(C^R))+k[4]+3889429448&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(I^C))+k[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=R+(I^C&(E^I))+k[14]+3275163606&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(R^E))+k[3]+4107603335&4294967295,C=R+(N<<14&4294967295|N>>>18),N=I+(R^E&(C^R))+k[8]+1163531501&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^R&(I^C))+k[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=R+(I^C&(E^I))+k[2]+4243563512&4294967295,R=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(R^E))+k[7]+1735328473&4294967295,C=R+(N<<14&4294967295|N>>>18),N=I+(R^E&(C^R))+k[12]+2368359562&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(I^C^R)+k[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=R+(E^I^C)+k[8]+2272392833&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^I)+k[11]+1839030562&4294967295,C=R+(N<<16&4294967295|N>>>16),N=I+(C^R^E)+k[14]+4259657740&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^R)+k[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=R+(E^I^C)+k[4]+1272893353&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^I)+k[7]+4139469664&4294967295,C=R+(N<<16&4294967295|N>>>16),N=I+(C^R^E)+k[10]+3200236656&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^R)+k[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=R+(E^I^C)+k[0]+3936430074&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^I)+k[3]+3572445317&4294967295,C=R+(N<<16&4294967295|N>>>16),N=I+(C^R^E)+k[6]+76029189&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^R)+k[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=R+(E^I^C)+k[12]+3873151461&4294967295,R=E+(N<<11&4294967295|N>>>21),N=C+(R^E^I)+k[15]+530742520&4294967295,C=R+(N<<16&4294967295|N>>>16),N=I+(C^R^E)+k[2]+3299628645&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(C^(I|~R))+k[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=R+(I^(E|~C))+k[7]+1126891415&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~I))+k[14]+2878612391&4294967295,C=R+(N<<15&4294967295|N>>>17),N=I+(R^(C|~E))+k[5]+4237533241&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~R))+k[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=R+(I^(E|~C))+k[3]+2399980690&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~I))+k[10]+4293915773&4294967295,C=R+(N<<15&4294967295|N>>>17),N=I+(R^(C|~E))+k[1]+2240044497&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~R))+k[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=R+(I^(E|~C))+k[15]+4264355552&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~I))+k[6]+2734768916&4294967295,C=R+(N<<15&4294967295|N>>>17),N=I+(R^(C|~E))+k[13]+1309151649&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~R))+k[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=R+(I^(E|~C))+k[11]+3174756917&4294967295,R=E+(N<<10&4294967295|N>>>22),N=C+(E^(R|~I))+k[2]+718787259&4294967295,C=R+(N<<15&4294967295|N>>>17),N=I+(R^(C|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,k=this.B,C=this.h,R=0;R<E;){if(C==0)for(;R<=I;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<E;)if(k[C++]=S.charCodeAt(R++),C==this.blockSize){i(this,k),C=0;break}}else for(;R<E;)if(k[C++]=S[R++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var k=0;32>k;k+=8)S[I++]=this.g[E]>>>k&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],k=!0,C=S.length-1;0<=C;C--){var R=S[C]|0;k&&R==E||(I[C]=R,k=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(u(-S));for(var E=[],I=1,k=0;S>=I;k++)E[k]=S/I|0,I*=4294967296;return new a(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),k=f,C=0;C<S.length;C+=8){var R=Math.min(8,S.length-C),N=parseInt(S.substring(C,C+R),E);8>R?(R=u(Math.pow(E,R)),k=k.j(R).add(u(N))):(k=k.j(I),k=k.add(u(N)))}return k}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-b(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var k=this.i(I);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,k="";;){var C=O(I,E).g;I=_(I,C.j(E));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=C,m(I))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=_(this,S),g(S)?-1:m(S)?0:1};function b(S){for(var E=S.g.length,I=[],k=0;k<E;k++)I[k]=~S.g[k];return new a(I,~S.h).add(d)}t.abs=function(){return g(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0,C=0;C<=E;C++){var R=k+(this.i(C)&65535)+(S.i(C)&65535),N=(R>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=N>>>16,R&=65535,N&=65535,I[C]=N<<16|R}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(b(E))}t.j=function(S){if(m(this)||m(S))return f;if(g(this))return g(S)?b(this).j(b(S)):b(b(this).j(S));if(g(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],k=0;k<2*E;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<S.g.length;C++){var R=this.i(k)>>>16,N=this.i(k)&65535,U=S.i(C)>>>16,W=S.i(C)&65535;I[2*k+2*C]+=N*W,v(I,2*k+2*C),I[2*k+2*C+1]+=R*W,v(I,2*k+2*C+1),I[2*k+2*C+1]+=N*U,v(I,2*k+2*C+1),I[2*k+2*C+2]+=R*U,v(I,2*k+2*C+2)}for(k=0;k<E;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=E;k<2*E;k++)I[k]=0;return new a(I,0)};function v(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function O(S,E){if(m(E))throw Error("division by zero");if(m(S))return new w(f,f);if(g(S))return E=O(b(S),E),new w(b(E.g),b(E.h));if(g(E))return E=O(S,b(E)),new w(b(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=d,k=E;0>=k.l(S);)I=T(I),k=T(k);var C=P(I,1),R=P(k,1);for(k=P(k,2),I=P(I,2);!m(k);){var N=R.add(k);0>=N.l(S)&&(C=C.add(I),R=N),k=P(k,1),I=P(I,1)}return E=_(S,C.j(E)),new w(C,E)}for(C=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(I),N=R.j(E);g(N)||0<N.l(S);)I-=k,R=u(I),N=R.j(E);m(R)&&(R=d),C=C.add(R),S=_(S,N)}return new w(C,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)&S.i(k);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)|S.i(k);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)^S.i(k);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],k=0;k<E;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(I,S.h)}function P(S,E){var I=E>>5;E%=32;for(var k=S.g.length-I,C=[],R=0;R<k;R++)C[R]=0<E?S.i(R+I)>>>E|S.i(R+I+1)<<32-E:S.i(R+I);return new a(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,$o=a}).apply(typeof cS<"u"?cS:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uk,Hl,zk,hh,cv,Wk,Gk,Hk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var j=0;j<c.length-1;j++){var D=c[j];if(!(D in A))break e;A=A[D]}c=c[c.length-1],j=A[c],y=y(j),y!=j&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function o(c,y){c instanceof String&&(c+="");var A=0,j=!1,D={next:function(){if(!j&&A<c.length){var z=A++;return{value:y(z,c[z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function u(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function h(c,y,A){return c.call.apply(c.bind,arguments)}function f(c,y,A){if(!c)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,j),c.apply(y,D)}}return function(){return c.apply(y,arguments)}}function d(c,y,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function p(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function m(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(j,D,z){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return y.prototype[D].apply(j,re)}}function g(c){const y=c.length;if(0<y){const A=Array(y);for(let j=0;j<y;j++)A[j]=c[j];return A}return[]}function b(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const D=c.length||0,z=j.length||0;c.length=D+z;for(let re=0;re<z;re++)c[D+re]=j[re]}else c.push(j)}}class _{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(c,y,A){for(const j in c)y.call(A,c[j],j,c)}function S(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function E(c){const y={};for(const A in c)y[A]=c[A];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let A,j;for(let D=1;D<arguments.length;D++){j=arguments[D];for(A in j)c[A]=j[A];for(let z=0;z<I.length;z++)A=I[z],Object.prototype.hasOwnProperty.call(j,A)&&(c[A]=j[A])}}function C(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function R(c){s.setTimeout(()=>{throw c},0)}function N(){var c=G;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,A){const j=W.get();j.set(y,A),this.h?this.h.next=j:this.g=j,this.h=j}}var W=new _(()=>new B,c=>c.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,L=!1,G=new U,Q=()=>{const c=s.Promise.resolve(void 0);K=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){R(A)}var y=W;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}L=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,y),s.removeEventListener("test",A,y)}catch{}return c}();function he(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(T){e:{try{O(y.nodeName);var D=!0;break e}catch{}D=!1}D||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&he.aa.h.call(this)}}m(he,Y);var me={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),de=0;function X(c,y,A,j,D){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!j,this.ha=D,this.key=++de,this.da=this.fa=!1}function ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ge(c){this.src=c,this.g={},this.h=0}ge.prototype.add=function(c,y,A,j,D){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var re=Ne(c,y,j,D);return-1<re?(y=c[re],A||(y.fa=!1)):(y=new X(y,this.src,z,!!j,D),y.fa=A,c.push(y)),y};function q(c,y){var A=y.type;if(A in c.g){var j=c.g[A],D=Array.prototype.indexOf.call(j,y,void 0),z;(z=0<=D)&&Array.prototype.splice.call(j,D,1),z&&(ae(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function Ne(c,y,A,j){for(var D=0;D<c.length;++D){var z=c[D];if(!z.da&&z.listener==y&&z.capture==!!A&&z.ha==j)return D}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),$e={};function V(c,y,A,j,D){if(j&&j.once)return Ze(c,y,A,j,D);if(Array.isArray(y)){for(var z=0;z<y.length;z++)V(c,y[z],A,j,D);return null}return A=Dm(A),c&&c[ee]?c.K(y,A,u(j)?!!j.capture:!!j,D):se(c,y,A,!1,j,D)}function se(c,y,A,j,D,z){if(!y)throw Error("Invalid event type");var re=u(D)?!!D.capture:!!D,Ue=ha(c);if(Ue||(c[fe]=Ue=new ge(c)),A=Ue.add(y,A,j,re,z),A.proxy)return A;if(j=Je(),A.proxy=j,j.src=c,j.listener=A,c.addEventListener)oe||(D=re),D===void 0&&(D=!1),c.addEventListener(y.toString(),j,D);else if(c.attachEvent)c.attachEvent(vr(y.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Je(){function c(A){return y.call(c.src,c.listener,A)}const y=sl;return c}function Ze(c,y,A,j,D){if(Array.isArray(y)){for(var z=0;z<y.length;z++)Ze(c,y[z],A,j,D);return null}return A=Dm(A),c&&c[ee]?c.L(y,A,u(j)?!!j.capture:!!j,D):se(c,y,A,!0,j,D)}function zt(c,y,A,j,D){if(Array.isArray(y))for(var z=0;z<y.length;z++)zt(c,y[z],A,j,D);else j=u(j)?!!j.capture:!!j,A=Dm(A),c&&c[ee]?(c=c.i,y=String(y).toString(),y in c.g&&(z=c.g[y],A=Ne(z,A,j,D),-1<A&&(ae(z[A]),Array.prototype.splice.call(z,A,1),z.length==0&&(delete c.g[y],c.h--)))):c&&(c=ha(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ne(y,A,j,D)),(A=-1<c?y[c]:null)&&Zn(A))}function Zn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ee])q(y.i,c);else{var A=c.type,j=c.proxy;y.removeEventListener?y.removeEventListener(A,j,c.capture):y.detachEvent?y.detachEvent(vr(A),j):y.addListener&&y.removeListener&&y.removeListener(j),(A=ha(y))?(q(A,c),A.h==0&&(A.src=null,y[fe]=null)):ae(c)}}}function vr(c){return c in $e?$e[c]:$e[c]="on"+c}function sl(c,y){if(c.da)c=!0;else{y=new he(y,this);var A=c.listener,j=c.ha||c.src;c.fa&&Zn(c),c=A.call(j,y)}return c}function ha(c){return c=c[fe],c instanceof ge?c:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dm(c){return typeof c=="function"?c:(c[da]||(c[da]=function(y){return c.handleEvent(y)}),c[da])}function Wt(){F.call(this),this.i=new ge(this),this.M=this,this.F=null}m(Wt,F),Wt.prototype[ee]=!0,Wt.prototype.removeEventListener=function(c,y,A,j){zt(this,c,y,A,j)};function on(c,y){var A,j=c.F;if(j)for(A=[];j;j=j.F)A.push(j);if(c=c.M,j=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var D=y;y=new Y(j,c),k(y,D)}if(D=!0,A)for(var z=A.length-1;0<=z;z--){var re=y.g=A[z];D=Qc(re,j,!0,y)&&D}if(re=y.g=c,D=Qc(re,j,!0,y)&&D,D=Qc(re,j,!1,y)&&D,A)for(z=0;z<A.length;z++)re=y.g=A[z],D=Qc(re,j,!1,y)&&D}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],j=0;j<A.length;j++)ae(A[j]);delete c.g[y],c.h--}}this.F=null},Wt.prototype.K=function(c,y,A,j){return this.i.add(String(c),y,!1,A,j)},Wt.prototype.L=function(c,y,A,j){return this.i.add(String(c),y,!0,A,j)};function Qc(c,y,A,j){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var D=!0,z=0;z<y.length;++z){var re=y[z];if(re&&!re.da&&re.capture==A){var Ue=re.listener,Nt=re.ha||re.src;re.fa&&q(c.i,re),D=Ue.call(Nt,j)!==!1&&D}}return D&&!j.defaultPrevented}function Qw(c,y,A){if(typeof c=="function")A&&(c=d(c,A));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(c,y||0)}function Jw(c){c.g=Qw(()=>{c.g=null,c.i&&(c.i=!1,Jw(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class dM extends F{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Jw(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(c){F.call(this),this.h=c,this.g={}}m(ll,F);var Zw=[];function e1(c){P(c.g,function(y,A){this.g.hasOwnProperty(A)&&Zn(y)},c),c.g={}}ll.prototype.N=function(){ll.aa.N.call(this),e1(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $m=s.JSON.stringify,pM=s.JSON.parse,mM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function Lm(){}Lm.prototype.h=null;function t1(c){return c.h||(c.h=c.i())}function n1(){}var ul={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vm(){Y.call(this,"d")}m(Vm,Y);function Fm(){Y.call(this,"c")}m(Fm,Y);var ho={},r1=null;function Jc(){return r1=r1||new Wt}ho.La="serverreachability";function i1(c){Y.call(this,ho.La,c)}m(i1,Y);function cl(c){const y=Jc();on(y,new i1(y))}ho.STAT_EVENT="statevent";function o1(c,y){Y.call(this,ho.STAT_EVENT,c),this.stat=y}m(o1,Y);function an(c){const y=Jc();on(y,new o1(y,c))}ho.Ma="timingevent";function a1(c,y){Y.call(this,ho.Ma,c),this.size=y}m(a1,Y);function fl(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},y)}function hl(){this.g=!0}hl.prototype.xa=function(){this.g=!1};function gM(c,y,A,j,D,z){c.info(function(){if(c.g)if(z)for(var re="",Ue=z.split("&"),Nt=0;Nt<Ue.length;Nt++){var je=Ue[Nt].split("=");if(1<je.length){var Gt=je[0];je=je[1];var Ht=Gt.split("_");re=2<=Ht.length&&Ht[1]=="type"?re+(Gt+"="+je+"&"):re+(Gt+"=redacted&")}}else re=null;else re=z;return"XMLHTTP REQ ("+j+") [attempt "+D+"]: "+y+`
`+A+`
`+re})}function yM(c,y,A,j,D,z,re){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+D+"]: "+y+`
`+A+`
`+z+" "+re})}function pa(c,y,A,j){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bM(c,A)+(j?" "+j:"")})}function vM(c,y){c.info(function(){return"TIMEOUT: "+y})}hl.prototype.info=function(){};function bM(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var j=A[c];if(!(2>j.length)){var D=j[1];if(Array.isArray(D)&&!(1>D.length)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(var re=1;re<D.length;re++)D[re]=""}}}}return $m(A)}catch{return y}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bm;function ef(){}m(ef,Lm),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},Bm=new ef;function bi(c,y,A,j){this.j=c,this.i=y,this.l=A,this.R=j||1,this.U=new ll(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l1}function l1(){this.i=null,this.g="",this.h=!1}var u1={},Um={};function zm(c,y,A){c.L=1,c.v=of(Dr(y)),c.m=A,c.P=!0,c1(c,null)}function c1(c,y){c.F=Date.now(),tf(c),c.A=Dr(c.v);var A=c.A,j=c.R;Array.isArray(j)||(j=[String(j)]),E1(A.i,"t",j),c.C=0,A=c.j.J,c.h=new l1,c.g=U1(c.j,A?y:null,!c.m),0<c.O&&(c.M=new dM(d(c.Y,c,c.g),c.O)),y=c.U,A=c.g,j=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Zw[0]=D.toString()),D=Zw);for(var z=0;z<D.length;z++){var re=V(A,D[z],j||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cl(),gM(c.i,c.u,c.A,c.l,c.R,c.m)}bi.prototype.ca=function(c){c=c.target;const y=this.M;y&&$r(c)==3?y.j():this.Y(c)},bi.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=$r(this.g);var y=this.g.Ba();const ya=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||C1(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=ya?cl(3):cl(2)),Wm(this);var A=this.g.Z();this.X=A;t:if(f1(this)){var j=C1(this.g);c="";var D=j.length,z=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),dl(this);var re="";break t}this.h.i=new s.TextDecoder}for(y=0;y<D;y++)this.h.h=!0,c+=this.h.i.decode(j[y],{stream:!(z&&y==D-1)});j.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=A==200,yM(this.i,this.u,this.A,this.l,this.R,Ht,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ue)){var je=Ue;break t}}je=null}if(A=je)pa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gm(this,A);else{this.o=!1,this.s=3,an(12),po(this),dl(this);break e}}if(this.P){A=!0;let er;for(;!this.J&&this.C<re.length;)if(er=_M(this,re),er==Um){Ht==4&&(this.s=4,an(14),A=!1),pa(this.i,this.l,null,"[Incomplete Response]");break}else if(er==u1){this.s=4,an(15),pa(this.i,this.l,re,"[Invalid Chunk]"),A=!1;break}else pa(this.i,this.l,er,null),Gm(this,er);if(f1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||re.length!=0||this.h.h||(this.s=1,an(16),A=!1),this.o=this.o&&A,!A)pa(this.i,this.l,re,"[Invalid Chunked Response]"),po(this),dl(this);else if(0<re.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Qm(Gt),Gt.M=!0,an(11))}}else pa(this.i,this.l,re,null),Gm(this,re);Ht==4&&po(this),this.o&&!this.J&&(Ht==4?L1(this.j,this):(this.o=!1,tf(this)))}else $M(this.g),A==400&&0<re.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),po(this),dl(this)}}}catch{}finally{}};function f1(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _M(c,y){var A=c.C,j=y.indexOf(`
`,A);return j==-1?Um:(A=Number(y.substring(A,j)),isNaN(A)?u1:(j+=1,j+A>y.length?Um:(y=y.slice(j,j+A),c.C=j+A,y)))}bi.prototype.cancel=function(){this.J=!0,po(this)};function tf(c){c.S=Date.now()+c.I,h1(c,c.I)}function h1(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fl(d(c.ba,c),y)}function Wm(c){c.B&&(s.clearTimeout(c.B),c.B=null)}bi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vM(this.i,this.A),this.L!=2&&(cl(),an(17)),po(this),this.s=2,dl(this)):h1(this,this.S-c)};function dl(c){c.j.G==0||c.J||L1(c.j,c)}function po(c){Wm(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,e1(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Gm(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||Hm(A.h,c))){if(!c.K&&Hm(A.h,c)&&A.G==3){try{var j=A.Da.g.parse(y)}catch{j=null}if(Array.isArray(j)&&j.length==3){var D=j;if(D[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)ff(A),uf(A);else break e;Ym(A),an(18)}}else A.za=D[1],0<A.za-A.T&&37500>D[2]&&A.F&&A.v==0&&!A.C&&(A.C=fl(d(A.Za,A),6e3));if(1>=m1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else go(A,11)}else if((c.K||A.g==c)&&ff(A),!v(y))for(D=A.Da.g.parse(y),y=0;y<D.length;y++){let je=D[y];if(A.T=je[0],je=je[1],A.G==2)if(je[0]=="c"){A.K=je[1],A.ia=je[2];const Gt=je[3];Gt!=null&&(A.la=Gt,A.j.info("VER="+A.la));const Ht=je[4];Ht!=null&&(A.Aa=Ht,A.j.info("SVER="+A.Aa));const ya=je[5];ya!=null&&typeof ya=="number"&&0<ya&&(j=1.5*ya,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const er=c.g;if(er){const df=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(df){var z=j.h;z.g||df.indexOf("spdy")==-1&&df.indexOf("quic")==-1&&df.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(qm(z,z.h),z.h=null))}if(j.D){const Jm=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Jm&&(j.ya=Jm,qe(j.I,j.D,Jm))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var re=c;if(j.qa=B1(j,j.J?j.ia:null,j.W),re.K){g1(j.h,re);var Ue=re,Nt=j.L;Nt&&(Ue.I=Nt),Ue.B&&(Wm(Ue),tf(Ue)),j.g=re}else D1(j);0<A.i.length&&cf(A)}else je[0]!="stop"&&je[0]!="close"||go(A,7);else A.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?go(A,7):Xm(A):je[0]!="noop"&&A.l&&A.l.ta(je),A.v=0)}}cl(4)}catch{}}var wM=class{constructor(c,y){this.g=c,this.map=y}};function d1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function m1(c){return c.h?1:c.g?c.g.size:0}function Hm(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qm(c,y){c.g?c.g.add(y):c.h=y}function g1(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}d1.prototype.cancel=function(){if(this.i=y1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function y1(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return g(c.i)}function xM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,j=0;j<A;j++)y.push(c[j]);return y}y=[],A=0;for(j in c)y[A++]=c[j];return y}function SM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const j in c)y[A++]=j;return y}}}function v1(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=SM(c),j=xM(c),D=j.length,z=0;z<D;z++)y.call(void 0,j[z],A&&A[z],c)}var b1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EM(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var j=c[A].indexOf("="),D=null;if(0<=j){var z=c[A].substring(0,j);D=c[A].substring(j+1)}else z=c[A];y(z,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function mo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mo){this.h=c.h,nf(this,c.j),this.o=c.o,this.g=c.g,rf(this,c.s),this.l=c.l;var y=c.i,A=new gl;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),_1(this,A),this.m=c.m}else c&&(y=String(c).match(b1))?(this.h=!1,nf(this,y[1]||"",!0),this.o=pl(y[2]||""),this.g=pl(y[3]||"",!0),rf(this,y[4]),this.l=pl(y[5]||"",!0),_1(this,y[6]||"",!0),this.m=pl(y[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}mo.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ml(y,w1,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ml(y,w1,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(ml(A,A.charAt(0)=="/"?PM:AM,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",ml(A,OM)),c.join("")};function Dr(c){return new mo(c)}function nf(c,y,A){c.j=A?pl(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function rf(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _1(c,y,A){y instanceof gl?(c.i=y,kM(c.i,c.h)):(A||(y=ml(y,IM)),c.i=new gl(y,c.h))}function qe(c,y,A){c.i.set(y,A)}function of(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pl(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ml(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,TM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function TM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var w1=/[#\/\?@]/g,AM=/[#\?:]/g,PM=/[#\?]/g,IM=/[#\?@]/g,OM=/#/g;function gl(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function _i(c){c.g||(c.g=new Map,c.h=0,c.i&&EM(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=gl.prototype,t.add=function(c,y){_i(this),this.i=null,c=ma(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function x1(c,y){_i(c),y=ma(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function S1(c,y){return _i(c),y=ma(c,y),c.g.has(y)}t.forEach=function(c,y){_i(this),this.g.forEach(function(A,j){A.forEach(function(D){c.call(y,D,j,this)},this)},this)},t.na=function(){_i(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let j=0;j<y.length;j++){const D=c[j];for(let z=0;z<D.length;z++)A.push(y[j])}return A},t.V=function(c){_i(this);let y=[];if(typeof c=="string")S1(this,c)&&(y=y.concat(this.g.get(ma(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return _i(this),this.i=null,c=ma(this,c),S1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function E1(c,y,A){x1(c,y),0<A.length&&(c.i=null,c.g.set(ma(c,y),g(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var j=y[A];const z=encodeURIComponent(String(j)),re=this.V(j);for(j=0;j<re.length;j++){var D=z;re[j]!==""&&(D+="="+encodeURIComponent(String(re[j]))),c.push(D)}}return this.i=c.join("&")};function ma(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function kM(c,y){y&&!c.j&&(_i(c),c.i=null,c.g.forEach(function(A,j){var D=j.toLowerCase();j!=D&&(x1(this,j),E1(this,D,A))},c)),c.j=y}function CM(c,y){const A=new hl;if(s.Image){const j=new Image;j.onload=p(wi,A,"TestLoadImage: loaded",!0,y,j),j.onerror=p(wi,A,"TestLoadImage: error",!1,y,j),j.onabort=p(wi,A,"TestLoadImage: abort",!1,y,j),j.ontimeout=p(wi,A,"TestLoadImage: timeout",!1,y,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else y(!1)}function NM(c,y){const A=new hl,j=new AbortController,D=setTimeout(()=>{j.abort(),wi(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:j.signal}).then(z=>{clearTimeout(D),z.ok?wi(A,"TestPingServer: ok",!0,y):wi(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(D),wi(A,"TestPingServer: error",!1,y)})}function wi(c,y,A,j,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),j(A)}catch{}}function jM(){this.g=new mM}function RM(c,y,A){const j=A||"";try{v1(c,function(D,z){let re=D;u(D)&&(re=$m(D)),y.push(j+z+"="+encodeURIComponent(re))})}catch(D){throw y.push(j+"type="+encodeURIComponent("_badmap")),D}}function af(c){this.l=c.Ub||null,this.j=c.eb||!1}m(af,Lm),af.prototype.g=function(){return new sf(this.l,this.j)},af.prototype.i=function(c){return function(){return c}}({});function sf(c,y){Wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(sf,Wt),t=sf.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,vl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function T1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yl(this):vl(this),this.readyState==3&&T1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,yl(this))},t.Qa=function(c){this.g&&(this.response=c,yl(this))},t.ga=function(){this.g&&yl(this)};function yl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vl(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function vl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function A1(c){let y="";return P(c,function(A,j){y+=j,y+=":",y+=A,y+=`\r
`}),y}function Km(c,y,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=A1(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):qe(c,y,A))}function ut(c){Wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ut,Wt);var MM=/^https?$/i,DM=["POST","PUT"];t=ut.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bm.g(),this.v=this.o?t1(this.o):t1(Bm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(z){P1(this,z);return}if(c=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var D in j)A.set(D,j[D]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const z of j.keys())A.set(z,j.get(z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(DM,y,void 0))||j||D||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,re]of A)this.g.setRequestHeader(z,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{k1(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){P1(this,z)}};function P1(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,I1(c),lf(c)}function I1(c){c.A||(c.A=!0,on(c,"complete"),on(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,on(this,"complete"),on(this,"abort"),lf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lf(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?O1(this):this.bb())},t.bb=function(){O1(this)};function O1(c){if(c.h&&typeof a<"u"&&(!c.v[1]||$r(c)!=4||c.Z()!=2)){if(c.u&&$r(c)==4)Qw(c.Ea,0,c);else if(on(c,"readystatechange"),$r(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var j;if(j=re===0){var D=String(c.D).match(b1)[1]||null;!D&&s.self&&s.self.location&&(D=s.self.location.protocol.slice(0,-1)),j=!MM.test(D?D.toLowerCase():"")}A=j}if(A)on(c,"complete"),on(c,"success");else{c.m=6;try{var z=2<$r(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",I1(c)}}finally{lf(c)}}}}function lf(c,y){if(c.g){k1(c);const A=c.g,j=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||on(c,"ready");try{A.onreadystatechange=j}catch{}}}function k1(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pM(y)}};function C1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $M(c){const y={};c=(c.g&&2<=$r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(v(c[j]))continue;var A=C(c[j]);const D=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=y[D]||[];y[D]=z,z.push(A)}S(y,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function N1(c){this.Aa=0,this.i=[],this.j=new hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bl("baseRetryDelayMs",5e3,c),this.cb=bl("retryDelaySeedMs",1e4,c),this.Wa=bl("forwardChannelMaxRetries",2,c),this.wa=bl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new d1(c&&c.concurrentRequestLimit),this.Da=new jM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N1.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,j){an(0),this.W=c,this.H=y||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=B1(this,null,this.W),cf(this)};function Xm(c){if(j1(c),c.G==3){var y=c.U++,A=Dr(c.I);if(qe(A,"SID",c.K),qe(A,"RID",y),qe(A,"TYPE","terminate"),_l(c,A),y=new bi(c,c.j,y),y.L=2,y.v=of(Dr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=y.v,A=!0),A||(y.g=U1(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tf(y)}F1(c)}function uf(c){c.g&&(Qm(c),c.g.cancel(),c.g=null)}function j1(c){uf(c),c.u&&(s.clearTimeout(c.u),c.u=null),ff(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function cf(c){if(!p1(c.h)&&!c.s){c.s=!0;var y=c.Ga;K||Q(),L||(K(),L=!0),G.add(y,c),c.B=0}}function LM(c,y){return m1(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fl(d(c.Ga,c,y),V1(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const D=new bi(this,this.j,c);let z=this.o;if(this.S&&(z?(z=E(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(D.H=z,z=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(y+=j,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=M1(this,D,y),A=Dr(this.I),qe(A,"RID",c),qe(A,"CVER",22),this.D&&qe(A,"X-HTTP-Session-Id",this.D),_l(this,A),z&&(this.O?y="headers="+encodeURIComponent(String(A1(z)))+"&"+y:this.m&&Km(A,this.m,z)),qm(this.h,D),this.Ua&&qe(A,"TYPE","init"),this.P?(qe(A,"$req",y),qe(A,"SID","null"),D.T=!0,zm(D,A,null)):zm(D,A,y),this.G=2}}else this.G==3&&(c?R1(this,c):this.i.length==0||p1(this.h)||R1(this))};function R1(c,y){var A;y?A=y.l:A=c.U++;const j=Dr(c.I);qe(j,"SID",c.K),qe(j,"RID",A),qe(j,"AID",c.T),_l(c,j),c.m&&c.o&&Km(j,c.m,c.o),A=new bi(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=M1(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qm(c.h,A),zm(A,j,y)}function _l(c,y){c.H&&P(c.H,function(A,j){qe(y,j,A)}),c.l&&v1({},function(A,j){qe(y,j,A)})}function M1(c,y,A){A=Math.min(c.i.length,A);var j=c.l?d(c.l.Na,c.l,c):null;e:{var D=c.i;let z=-1;for(;;){const re=["count="+A];z==-1?0<A?(z=D[0].g,re.push("ofs="+z)):z=0:re.push("ofs="+z);let Ue=!0;for(let Nt=0;Nt<A;Nt++){let je=D[Nt].g;const Gt=D[Nt].map;if(je-=z,0>je)z=Math.max(0,D[Nt].g-100),Ue=!1;else try{RM(Gt,re,"req"+je+"_")}catch{j&&j(Gt)}}if(Ue){j=re.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,j}function D1(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;K||Q(),L||(K(),L=!0),G.add(y,c),c.v=0}}function Ym(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fl(d(c.Fa,c),V1(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fl(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),uf(this),$1(this))};function Qm(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function $1(c){c.g=new bi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dr(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),_l(c,y),c.m&&c.o&&Km(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=of(Dr(y)),A.m=null,A.P=!0,c1(A,c)}t.Za=function(){this.C!=null&&(this.C=null,uf(this),Ym(this),an(19))};function ff(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function L1(c,y){var A=null;if(c.g==y){ff(c),Qm(c),c.g=null;var j=2}else if(Hm(c.h,y))A=y.D,g1(c.h,y),j=1;else return;if(c.G!=0){if(y.o)if(j==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var D=c.B;j=Jc(),on(j,new a1(j,A)),cf(c)}else D1(c);else if(D=y.s,D==3||D==0&&0<y.X||!(j==1&&LM(c,y)||j==2&&Ym(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),D){case 1:go(c,5);break;case 4:go(c,10);break;case 3:go(c,6);break;default:go(c,2)}}}function V1(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function go(c,y){if(c.j.info("Error code "+y),y==2){var A=d(c.fb,c),j=c.Xa;const D=!j;j=new mo(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nf(j,"https"),of(j),D?CM(j.toString(),A):NM(j.toString(),A)}else an(2);c.G=0,c.l&&c.l.sa(y),F1(c),j1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function F1(c){if(c.G=0,c.ka=[],c.l){const y=y1(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function B1(c,y,A){var j=A instanceof mo?Dr(A):new mo(A);if(j.g!="")y&&(j.g=y+"."+j.g),rf(j,j.s);else{var D=s.location;j=D.protocol,y=y?y+"."+D.hostname:D.hostname,D=+D.port;var z=new mo(null);j&&nf(z,j),y&&(z.g=y),D&&rf(z,D),A&&(z.l=A),j=z}return A=c.D,y=c.ya,A&&y&&qe(j,A,y),qe(j,"VER",c.la),_l(c,j),j}function U1(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ut(new af({eb:A})):new ut(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z1(){}t=z1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hf(){}hf.prototype.g=function(c,y){return new En(c,y)};function En(c,y){Wt.call(this),this.g=new N1(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!v(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!v(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ga(this)}m(En,Wt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Xm(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=$m(c),c=A);y.i.push(new wM(y.Ya++,c)),y.G==3&&cf(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Xm(this.g),delete this.g,En.aa.N.call(this)};function W1(c){Vm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}m(W1,Vm);function G1(){Fm.call(this),this.status=1}m(G1,Fm);function ga(c){this.g=c}m(ga,z1),ga.prototype.ua=function(){on(this.g,"a")},ga.prototype.ta=function(c){on(this.g,new W1(c))},ga.prototype.sa=function(c){on(this.g,new G1)},ga.prototype.ra=function(){on(this.g,"b")},hf.prototype.createWebChannel=hf.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Hk=function(){return new hf},Gk=function(){return Jc()},Wk=ho,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,hh=Zc,s1.COMPLETE="complete",zk=s1,n1.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Hl=n1,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Uk=ut}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const fS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new qb("@firebase/firestore");function Ol(){return Ko.logLevel}function ce(t,...e){if(Ko.logLevel<=Pe.DEBUG){const n=e.map(Yb);Ko.debug(`Firestore (${Gs}): ${t}`,...n)}}function li(t,...e){if(Ko.logLevel<=Pe.ERROR){const n=e.map(Yb);Ko.error(`Firestore (${Gs}): ${t}`,...n)}}function cs(t,...e){if(Ko.logLevel<=Pe.WARN){const n=e.map(Yb);Ko.warn(`Firestore (${Gs}): ${t}`,...n)}}function Yb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ve(t,e){t||_e()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K4{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Qt(e)}}class X4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Q4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Tt(0,0))}static max(){return new we(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Ru{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const e3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ru{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return e3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function t3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Zi(i,ye.empty(),e)}function n3(t){return new Zi(t.readTime,t.key,-1)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(we.min(),ye.empty(),-1)}static max(){return new Zi(we.max(),ye.empty(),-1)}}function r3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==i3)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{a[u]=h,++s,s===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function a3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qb.oe=-1;function Ap(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function s3(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}}class jf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=o??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Mt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dS(this.data.getIterator())}getIteratorFrom(e){return new dS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class dS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Vt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yk("Invalid base64 string: "+o):o}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const l3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=l3.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zb(t){const e=t.mapValue.fields.__previous_value__;return Jb(e)?Zb(e):e}function Mu(t){const e=eo(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Du{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jb(t)?4:f3(t)?9007199254740991:c3(t)?10:11:_e()}function Cr(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=eo(i.timestampValue),s=eo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xo(i.bytesValue).isEqual(Xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ht(i.doubleValue),s=ht(o.doubleValue);return a===s?Kh(a)===Kh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return fs(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(hS(a)!==hS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Cr(a[l],s[l])))return!1;return!0}(t,e);default:return _e()}}function $u(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function hs(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ht(o.integerValue||o.doubleValue),l=ht(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return pS(t.timestampValue,e.timestampValue);case 4:return pS(Mu(t),Mu(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Xo(o),l=Xo(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const h=Re(s[u],l[u]);if(h!==0)return h}return Re(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Re(ht(o.latitude),ht(a.latitude));return s!==0?s:Re(ht(o.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,h;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Re(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:mS(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Rf.mapValue&&a===Rf.mapValue)return 0;if(o===Rf.mapValue)return 1;if(a===Rf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Re(l[f],h[f]);if(d!==0)return d;const p=hs(s[l[f]],u[h[f]]);if(p!==0)return p}return Re(l.length,h.length)}(t.mapValue,e.mapValue);default:throw _e()}}function pS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=eo(t),r=eo(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function mS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hs(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}function ds(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${fv(n.fields[a])}`;return i+"}"}(t.mapValue):_e()}function hv(t){return!!t&&"integerValue"in t}function e_(t){return!!t&&"arrayValue"in t}function gS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function c3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=au(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=au(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){aa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new gn(au(this.value))}}function Qk(t){const e=[];return aa(t.fields,(n,r)=>{const i=new Dt([n]);if(dh(r)){const o=Qk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function vS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=hs(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function h3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{}class xt extends Jk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p3(e,n,r):n==="array-contains"?new y3(e,r):n==="in"?new v3(e,r):n==="not-in"?new b3(e,r):n==="array-contains-any"?new _3(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m3(e,r):new g3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends Jk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return Zk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zk(t){return t.op==="and"}function eC(t){return d3(t)&&Zk(t)}function d3(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function dv(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+ds(t.value);if(eC(t))return t.filters.map(e=>dv(e)).join(",");{const e=t.filters.map(n=>dv(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&tC(a,i.filters[s]),!0):!1}(t,e):void _e()}function nC(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${ds(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class p3 extends xt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class m3 extends xt{constructor(e,n){super(e,"in",n),this.keys=rC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g3 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=rC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class y3 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e_(n)&&$u(n.arrayValue,this.value)}}class v3 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class b3 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$u(this.value.arrayValue,n)}}class _3 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function _S(t,e=null,n=[],r=[],i=null,o=null,a=null){return new w3(t,e,n,r,i,o,a)}function t_(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ds(r)).join(",")),e.ue=n}return e.ue}function n_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bS(t.startAt,e.startAt)&&bS(t.endAt,e.endAt)}function pv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x3(t,e,n,r,i,o,a,s){return new Pp(t,e,n,r,i,o,a,s)}function Ip(t){return new Pp(t)}function wS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S3(t){return t.collectionGroup!==null}function su(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Vt(Dt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yh(o,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new Yh(Dt.keyField(),r))}return e.ce}function Ar(t){const e=xe(t);return e.le||(e.le=E3(e,su(t))),e.le}function E3(t,e){if(t.limitType==="F")return _S(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yh(i.field,o)});const n=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;return _S(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mv(t,e,n){return new Pp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Op(t,e){return n_(Ar(t),Ar(e))&&t.limitType===e.limitType}function iC(t){return`${t_(Ar(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nC(i)).join(", ")}]`),Ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ds(i)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of su(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=vS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,su(r),i)||r.endAt&&!function(a,s,l){const u=vS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,su(r),i))}(t,e)}function T3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oC(t){return(e,n)=>{let r=!1;for(const i of su(t)){const o=A3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?hs(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Xk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new lt(ye.comparator);function ui(){return P3}const aC=new lt(ye.comparator);function ql(...t){let e=aC;for(const n of t)e=e.insert(n.key,n);return e}function sC(t){let e=aC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oo(){return lu()}function lC(){return lu()}function lu(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const I3=new lt(ye.comparator),O3=new Vt(ye.comparator);function Ae(...t){let e=O3;for(const n of t)e=e.add(n);return e}const k3=new Vt(Re);function C3(){return k3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function cC(t,e){return s3(e)?uC(e):r_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this._=void 0}}function N3(t,e,n){return t instanceof Qh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jb(o)&&(o=Zb(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Lu?hC(t,e):t instanceof Vu?dC(t,e):function(i,o){const a=fC(i,o),s=xS(a)+xS(i.Pe);return hv(a)&&hv(i.Pe)?uC(s):r_(i.serializer,s)}(t,e)}function j3(t,e,n){return t instanceof Lu?hC(t,e):t instanceof Vu?dC(t,e):n}function fC(t,e){return t instanceof Fu?function(r){return hv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qh extends Cp{}class Lu extends Cp{constructor(e){super(),this.elements=e}}function hC(t,e){const n=pC(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vu extends Cp{constructor(e){super(),this.elements=e}}function dC(t,e){let n=pC(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class Fu extends Cp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xS(t){return ht(t.integerValue||t.doubleValue)}function pC(t){return e_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.field=e,this.transform=n}}function M3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lu&&i instanceof Lu||r instanceof Vu&&i instanceof Vu?fs(r.elements,i.elements,Cr):r instanceof Fu&&i instanceof Fu?Cr(r.Pe,i.Pe):r instanceof Qh&&i instanceof Qh}(t.transform,e.transform)}class D3{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Np{}function mC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i_(t.key,pr.none()):new Nc(t.key,t.data,pr.none());{const n=t.data,r=gn.empty();let i=new Vt(Dt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ao(t.key,r,new Cn(i.toArray()),pr.none())}}function $3(t,e,n){t instanceof Nc?function(i,o,a){const s=i.value.clone(),l=ES(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ao?function(i,o,a){if(!ph(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=ES(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(gC(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function uu(t,e,n,r){return t instanceof Nc?function(o,a,s,l){if(!ph(o.precondition,a))return s;const u=o.value.clone(),h=TS(o.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ao?function(o,a,s,l){if(!ph(o.precondition,a))return s;const u=TS(o.fieldTransforms,l,a),h=a.data;return h.setAll(gC(o)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return ph(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function L3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fC(r.transform,i||null);o!=null&&(n===null&&(n=gn.empty()),n.set(r.field,o))}return n||null}function SS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(o,a)=>M3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends Np{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends Np{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ES(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,j3(a,s,n[i]))}return r}function TS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,N3(o,a,e))}return r}class i_ extends Np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V3 extends Np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lC();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=mC(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(n,r)=>SS(n,r))&&fs(this.baseMutations,e.baseMutations,(n,r)=>SS(n,r))}}class o_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return I3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new o_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Oe;function z3(t){switch(t){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function yC(t){if(t===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(t){case mt.OK:return J.OK;case mt.CANCELLED:return J.CANCELLED;case mt.UNKNOWN:return J.UNKNOWN;case mt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case mt.INTERNAL:return J.INTERNAL;case mt.UNAVAILABLE:return J.UNAVAILABLE;case mt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case mt.NOT_FOUND:return J.NOT_FOUND;case mt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case mt.ABORTED:return J.ABORTED;case mt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case mt.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Oe=mt||(mt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new $o([4294967295,4294967295],0);function AS(t){const e=W3().encode(t),n=new Bk;return n.update(e),new Uint8Array(n.digest())}function PS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $o([n,r],0),new $o([i,o],0)]}class a_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$o.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($o.fromNumber(r)));return i.compare(G3)===1&&(i=new $o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=AS(e),[r,i]=PS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new a_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=AS(e),[r,i]=PS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jp(we.min(),i,new lt(Re),ui(),Ae())}}class jc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class vC{constructor(e,n){this.targetId=e,this.me=n}}class bC{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IS{constructor(){this.fe=0,this.ge=kS(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new jc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H3{constructor(e){this.Le=e,this.Be=new Map,this.ke=ui(),this.qe=OS(),this.Qe=new lt(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(pv(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,Zt.newNoDocument(a,we.min()))}else Ve(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Xo(r).toUint8Array()}catch(l){if(l instanceof Yk)return cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new a_(a,i,o)}catch(l){return cs(l instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&pv(s.target)){const l=new ye(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Zt.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new jp(e,n,this.Qe,this.ke,r);return this.ke=ui(),this.qe=OS(),this.Qe=new lt(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new IS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new IS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function OS(){return new lt(ye.comparator)}function kS(){return new lt(ye.comparator)}const q3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),K3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),X3=(()=>({and:"AND",or:"OR"}))();class Y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gv(t,e){return t.useProto3Json||Ap(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q3(t,e){return Jh(t,e.toTimestamp())}function Pr(t){return Ve(!!t),we.fromTimestamp(function(n){const r=eo(n);return new Tt(r.seconds,r.nanos)}(t))}function s_(t,e){return yv(t,e).canonicalString()}function yv(t,e){const n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wC(t){const e=nt.fromString(t);return Ve(AC(e)),e}function vv(t,e){return s_(t.databaseId,e.path)}function kg(t,e){const n=wC(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(SC(n))}function xC(t,e){return s_(t.databaseId,e)}function J3(t){const e=wC(t);return e.length===4?nt.emptyPath():SC(e)}function bv(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SC(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CS(t,e,n){return{name:vv(t,e),fields:n.value.mapValue.fields}}function Z3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string"),Ut.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const h=u.code===void 0?J.UNKNOWN:yC(u.code);return new pe(h,u.message||"")}(a);n=new bC(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(t,r.document.name),o=Pr(r.document.updateTime),a=r.document.createTime?Pr(r.document.createTime):we.min(),s=new gn({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(i,o,a,s),u=r.targetIds||[],h=r.removedTargetIds||[];n=new mh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(t,r.document),o=r.readTime?Pr(r.readTime):we.min(),a=Zt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new mh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(t,r.document),o=r.removedTargetIds||[];n=new mh([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new U3(i,o),s=r.targetId;n=new vC(s,a)}}return n}function eV(t,e){let n;if(e instanceof Nc)n={update:CS(t,e.key,e.value)};else if(e instanceof i_)n={delete:vv(t,e.key)};else if(e instanceof ao)n={update:CS(t,e.key,e.data),updateMask:uV(e.fieldMask)};else{if(!(e instanceof V3))return _e();n={verify:vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Qh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Lu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Vu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Fu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Q3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function tV(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Pr(i.updateTime):Pr(o);return a.isEqual(we.min())&&(a=Pr(o)),new D3(a,i.transformResults||[])}(n,e))):[]}function nV(t,e){return{documents:[xC(t,e.path)]}}function rV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xC(t,i);const o=function(u){if(u.length!==0)return TC(Nr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:Ea(d.field),direction:aV(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=gv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function iV(t){let e=J3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=EC(f);return d instanceof Nr&&eC(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new Yh(Ta(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,Ap(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Xh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Xh(p,d)}(n.endAt)),x3(e,i,a,o,s,"F",l,u)}function oV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ta(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ta(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ta(n.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ta(n.unaryFilter.field);return xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>EC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function aV(t){return q3[t]}function sV(t){return K3[t]}function lV(t){return X3[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ta(t){return Dt.fromServerFormat(t.fieldPath)}function TC(t){return t instanceof xt?function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(gS(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(gS(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:sV(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>TC(i));return r.length===1?r[0]:{compositeFilter:{op:lV(n.op),filters:r}}}(t):_e()}function uV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,o=we.min(),a=we.min(),s=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.ct=e}}function fV(t){const e=iV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.un=new dV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Zi.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class dV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ps(0)}static kn(){return new ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uu(r.mutation,i,Cn.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=ql();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=ui();const a=lu(),s=function(){return lu()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ao)?o=o.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),uu(h.mutation,u,h.mutation.getFieldMask(),Tt.now())):a.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return s.set(u,new mV(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=lu();let i=new lt((a,s)=>a-s),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Cn.empty();h=s.applyToLocalView(u,h),r.set(l,h);const f=(i.get(s.batchId)||Ae()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,h=l.value,f=lC();h.forEach(d=>{if(!o.has(d)){const p=mC(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(Oo());let s=-1,l=o;return a.next(u=>Z.forEach(u,(h,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(h)?Z.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(h=>({batchId:s,changes:sC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ql();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,l=>{const u=function(f,d){return new Pp(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Zt.newInvalidDocument(h)))});let s=ql();return a.forEach((l,u)=>{const h=o.get(l);h!==void 0&&uu(h.mutation,u,Cn.empty(),Tt.now()),kp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:fV(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.overlays=new lt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oo();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=Oo(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Oo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const s=Oo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>s.set(u,h)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new B3(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ae(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Tr=new Vt(Pt.Er),this.dr=new Vt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new nt([])),r=new Pt(n,e),i=new Pt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new nt([])),r=new Pt(n,e),i=new Pt(n,e+1);let o=Ae();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(Pt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new F3(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Pt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Re);return n.forEach(i=>{const o=new Pt(i,0),a=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new Pt(new ye(o),0);let s=new Vt(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Mr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zt.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ui();const a=n.path,s=new ye(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||r3(n3(h),r)<=0||(i.has(h.key)||kp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xV(this)}getSize(e){return Z.resolve(this.size)}}class xV extends pV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.persistence=e,this.Nr=new Hs(n=>t_(n),n_),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new l_,this.targetCount=0,this.kr=ps.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ps(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Qb(0),this.Kr=!1,this.Kr=!0,this.$r=new bV,this.referenceDelegate=e(this),this.Ur=new SV(this),this.indexManager=new hV,this.remoteDocumentCache=function(i){return new wV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cV(n),this.Gr=new yV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _V(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new TV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class TV extends o3{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Jr=new l_,this.Yr=null}static Zr(e){return new u_(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new c_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PL()?8:a3(rn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new AV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ol()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Ol()<=Pe.DEBUG&&ce("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ol()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):Z.resolve())}Yi(e,n){if(wS(n))return Z.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mv(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ae(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,mv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return wS(n)||i.isEqual(we.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(Ol()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(n)),this.rs(e,a,n,t3(i,-1)).next(s=>s))})}ts(e,n){let r=new Vt(oC(e));return n.forEach((i,o)=>{kp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ol()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lt(Re),this._s=new Hs(o=>t_(o),n_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function OV(t,e,n,r){return new IV(t,e,n,r)}async function PC(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ae();for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function kV(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,h){const f=u.batch,d=f.keys();let p=Z.resolve();return d.forEach(m=>{p=p.next(()=>h.getEntry(l,m)).next(g=>{const b=u.docVersions.get(m);Ve(b!==null),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ae();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IC(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function CV(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ut.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(f,p),function(g,b,_){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,p,h)&&s.push(n.Ur.updateTargetData(o,p))});let l=ui(),u=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),s.push(NV(o,a,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(we.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(h)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function NV(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=ui();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ce("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function jV(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RV(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Mi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _v(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Cc(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function NS(t,e,n){const r=xe(t);let i=we.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,h){const f=xe(l),d=f._s.get(h);return d!==void 0?Z.resolve(f.os.get(d)):f.Ur.getTargetData(u,h)}(r,a,Ar(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:we.min(),n?o:Ae())).next(s=>(MV(r,T3(e),s),{documents:s,Ts:o})))}function MV(t,e,n){let r=t.us.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class jS{constructor(){this.activeTargetIds=C3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DV{constructor(){this.so=new jS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function Cg(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class FV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Cg(),l=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(h=>(ce("RestConnection",`Received RPC '${n}' ${s}: `,h),h),h=>{throw cs("RestConnection",`RPC '${n}' ${s} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=LV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Cg();return new Promise((a,s)=>{const l=new Uk;l.setWithCredentials(!0),l.listenOnce(zk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hh.NO_ERROR:const h=l.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case hh.TIMEOUT:ce(Xt,`RPC '${e}' ${o} timed out`),s(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const f=l.getStatus();if(ce(Xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(p.status);s(new pe(m,p.message))}else s(new pe(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new pe(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ce(Xt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ce(Xt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Cg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Hk(),s=Gk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");ce(Xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,p=!1;const m=new VV({Io:b=>{p?ce(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(d||(ce(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ce(Xt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),g=(b,_,v)=>{b.listen(_,w=>{try{v(w)}catch(O){setTimeout(()=>{throw O},0)}})};return g(f,Hl.EventType.OPEN,()=>{p||(ce(Xt,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,Hl.EventType.CLOSE,()=>{p||(p=!0,ce(Xt,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,Hl.EventType.ERROR,b=>{p||(p=!0,cs(Xt,`RPC '${e}' stream ${i} transport errored:`,b),m.So(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),g(f,Hl.EventType.MESSAGE,b=>{var _;if(!p){const v=b.data[0];Ve(!!v);const w=v,O=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(O){ce(Xt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let P=function(I){const k=mt[I];if(k!==void 0)return yC(k)}(T),S=O.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+T+" with message "+O.message),p=!0,m.So(new pe(P,S)),f.close()}else ce(Xt,`RPC '${e}' stream ${i} received:`,v),m.bo(v)}}),g(s,Wk.STAT_EVENT,b=>{b.stat===cv.PROXY?ce(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===cv.NOPROXY&&ce(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){return new Y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BV extends kC{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Z3(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?we.min():a.readTime?Pr(a.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=bv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=pv(l)?{documents:nV(o,l)}:{query:rV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=_C(o,a.resumeToken);const u=gv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(we.min())>0){s.readTime=Jh(o,a.snapshotVersion.toTimestamp());const u=gv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=oV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=bv(this.serializer),n.removeTarget=e,this.a_(n)}}class UV extends kC{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tV(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=bv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,yv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,yv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(li(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{sa(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Rc(u),u.q_.set("Unknown"),u.L_.delete(4),await Mp(u)}(this))})}),this.q_=new WV(r,i)}}async function Mp(t){if(sa(t))for(const e of t.B_)await e(!0)}async function Rc(t){for(const e of t.B_)await e(!1)}function CC(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),p_(n)?d_(n):qs(n).r_()&&h_(n,e))}function f_(t,e){const n=xe(t),r=qs(n);n.N_.delete(e),r.r_()&&NC(n,e),n.N_.size===0&&(r.r_()?r.o_():sa(n)&&n.q_.set("Unknown"))}function h_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(t).A_(e)}function NC(t,e){t.Q_.xe(e),qs(t).R_(e)}function d_(t){t.Q_=new H3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qs(t).start(),t.q_.v_()}function p_(t){return sa(t)&&!qs(t).n_()&&t.N_.size>0}function sa(t){return xe(t).L_.size===0}function jC(t){t.Q_=void 0}async function HV(t){t.q_.set("Online")}async function qV(t){t.N_.forEach((e,n)=>{h_(t,e)})}async function KV(t,e){jC(t),p_(t)?(t.q_.M_(e),d_(t)):t.q_.set("Unknown")}async function XV(t,e,n){if(t.q_.set("Online"),e instanceof bC&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof mh?t.Q_.Ke(e):e instanceof vC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await IC(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Ut.EMPTY_BYTE_STRING,h.snapshotVersion)),NC(o,l);const f=new Mi(h.target,l,u,h.sequenceNumber);h_(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!Cc(e))throw e;t.L_.add(1),await Rc(t),t.q_.set("Offline"),n||(n=()=>IC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Mp(t)})}function RC(t,e){return e().catch(n=>Zh(t,n,e))}async function Dp(t){const e=xe(t),n=to(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YV(e);)try{const i=await jV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QV(e,i)}catch(i){await Zh(e,i)}MC(e)&&DC(e)}function YV(t){return sa(t)&&t.O_.length<10}function QV(t,e){t.O_.push(e);const n=to(t);n.r_()&&n.V_&&n.m_(e.mutations)}function MC(t){return sa(t)&&!to(t).n_()&&t.O_.length>0}function DC(t){to(t).start()}async function JV(t){to(t).p_()}async function ZV(t){const e=to(t);for(const n of t.O_)e.m_(n.mutations)}async function eF(t,e,n){const r=t.O_.shift(),i=o_.from(r,e,n);await RC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dp(t)}async function tF(t,e){e&&to(t).V_&&await async function(r,i){if(function(a){return z3(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();to(r).s_(),await RC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Dp(r)}}(t,e),MC(t)&&DC(t)}async function MS(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=sa(n);n.L_.add(3),await Rc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Mp(n)}async function nF(t,e){const n=xe(t);e?(n.L_.delete(2),await Mp(n)):e||(n.L_.add(2),await Rc(n),n.q_.set("Unknown"))}function qs(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new BV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:HV.bind(null,t),Ro:qV.bind(null,t),mo:KV.bind(null,t),d_:XV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),p_(t)?d_(t):t.q_.set("Unknown")):(await t.K_.stop(),jC(t))})),t.K_}function to(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new UV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JV.bind(null,t),mo:tF.bind(null,t),f_:ZV.bind(null,t),g_:eF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dp(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new m_(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(li("AsyncQueue",`${e}: ${t}`),Cc(t))return new pe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.W_=new lt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ms{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new ms(e,n,Ka.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iF{constructor(){this.queries=$S(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=$S(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function $S(){return new Hs(t=>iC(t),Op)}async function y_(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new rF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=g_(a,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&b_(n)}async function v_(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oF(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&b_(n)}function aF(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function b_(t){t.Y_.forEach(e=>{e.next()})}var wv,LS;(LS=wv||(wv={})).ea="default",LS.Cache="cache";class __{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.key=e}}class LC{constructor(e){this.key=e}}class sF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=oC(e),this.Ra=new Ka(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new DS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),p=kp(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),b=!0):this.ga(d,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=g?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(p,m){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return g(p)-g(m)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new ms(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new LC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $C(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ms.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uF{constructor(e){this.key=e,this.va=!1}}class cF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Hs(s=>iC(s),Op),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(ye.comparator),this.Na=new Map,this.La=new l_,this.Ba={},this.ka=new Map,this.qa=ps.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fF(t,e,n=!0){const r=WC(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await VC(r,e,n,!0),i}async function hF(t,e){const n=WC(t);await VC(n,e,!0,!1)}async function VC(t,e,n,r){const i=await RV(t.localStore,Ar(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await dF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&CC(t.remoteStore,i),s}async function dF(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,b,_,v){let w=b.view.ma(_);w.ns&&(w=await NS(g.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,w)));const O=v&&v.targetChanges.get(b.targetId),T=v&&v.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(w,g.isPrimaryClient,O,T);return FS(g,b.targetId,P.wa),P.snapshot}(t,f,d,p);const o=await NS(t.localStore,e,!0),a=new sF(e,o.Ts),s=a.ma(o.documents),l=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);FS(t,n,u.wa);const h=new lF(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function pF(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Op(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _v(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&f_(r.remoteStore,i.targetId),xv(r,i.targetId)}).catch(kc)):(xv(r,i.targetId),await _v(r.localStore,i.targetId,!0))}async function mF(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),f_(n.remoteStore,r.targetId))}async function gF(t,e,n){const r=SF(t);try{const i=await function(a,s){const l=xe(a),u=Tt.now(),h=s.reduce((p,m)=>p.add(m.key),Ae());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ui(),g=Ae();return l.cs.getEntries(p,h).next(b=>{m=b,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{f=b;const _=[];for(const v of s){const w=L3(v,f.get(v.key).overlayedDocument);w!=null&&_.push(new ao(v.key,w,Qk(w.value.mapValue),pr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(b=>{d=b;const _=b.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,_)})}).then(()=>({batchId:d.batchId,changes:sC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new lt(Re)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Mc(r,i.changes),await Dp(r.remoteStore)}catch(i){const o=g_(i,"Failed to persist write");n.reject(o)}}async function FC(t,e){const n=xe(t);try{const r=await CV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ve(a.va):i.removedDocuments.size>0&&(Ve(a.va),a.va=!1))}),await Mc(n,r,e)}catch(r){await kc(r)}}function VS(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=xe(a);l.onlineState=s;let u=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&b_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yF(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new lt(ye.comparator);a=a.insert(o,Zt.newNoDocument(o,we.min()));const s=Ae().add(o),l=new jp(we.min(),new Map,new lt(Re),a,s);await FC(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),w_(r)}else await _v(r.localStore,e,!1).then(()=>xv(r,e,n)).catch(kc)}async function vF(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await kV(n.localStore,e);UC(n,r,null),BC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,i)}catch(i){await kc(i)}}async function bF(t,e,n){const r=xe(t);try{const i=await function(a,s){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ve(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);UC(r,e,n),BC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,i)}catch(i){await kc(i)}}function BC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UC(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zC(t,r)})}function zC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(f_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),w_(t))}function FS(t,e,n){for(const r of n)r instanceof $C?(t.La.addReference(r.key,e),_F(t,r)):r instanceof LC?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zC(t,r.key)):_e()}function _F(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),w_(t))}function w_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(nt.fromString(e)),r=t.qa.next();t.Na.set(r,new uF(n)),t.Oa=t.Oa.insert(n,r),CC(t.remoteStore,new Mi(Ar(Ip(n.path)),r,"TargetPurposeLimboResolution",Qb.oe))}}async function Mc(t,e,n){const r=xe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=c_.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const h=xe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,d=>Z.forEach(d.$i,p=>h.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Z.forEach(d.Ui,p=>h.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Cc(f))throw f;ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=h.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.os=h.os.insert(d,g)}}}(r.localStore,o))}async function wF(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await PC(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new pe(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.hs)}}function xF(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function WC(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.Ca.d_=oF.bind(null,e.eventManager),e.Ca.$a=aF.bind(null,e.eventManager),e}function SF(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return OV(this.persistence,new PV,e.initialUser,this.serializer)}Ga(e){return new EV(u_.Zr,this.serializer)}Wa(e){return new DV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class Sv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wF.bind(null,this.syncEngine),await nF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iF}()}createDatastore(e){const n=Rp(e.databaseInfo.databaseId),r=function(o){return new FV(o)}(e.databaseInfo);return function(o,a,s,l){return new zV(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new GV(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>VS(this.syncEngine,n,0),function(){return RS.D()?new RS:new $V}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,h){const f=new cF(i,o,a,s,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);ce("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Rc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sv.provider={build:()=>new Sv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=Kk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TF(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MS(e.remoteStore,i)),t._onlineComponents=e}async function TF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new ed)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await jg(t,new ed);return t._offlineComponents}async function GC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await BS(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await BS(t,new Sv))),t._onlineComponents}function AF(t){return GC(t).then(e=>e.syncEngine)}async function td(t){const e=await GC(t),n=e.eventManager;return n.onListen=fF.bind(null,e.syncEngine),n.onUnlisten=pF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mF.bind(null,e.syncEngine),n}function PF(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const h=new x_({next:d=>{h.Za(),a.enqueueAndForget(()=>v_(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new __(Ip(s.path),h,{includeMetadataChanges:!0,_a:!0});return y_(o,f)}(await td(t),t.asyncQueue,e,n,r)),r.promise}function IF(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const h=new x_({next:d=>{h.Za(),a.enqueueAndForget(()=>v_(o,f)),d.fromCache&&l.source==="server"?u.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new __(s,h,{includeMetadataChanges:!0,_a:!0});return y_(o,f)}(await td(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e,n){if(!n)throw new pe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OF(t,e,n,r){if(e===!0&&r===!0)throw new pe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zS(t){if(!ye.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WS(t){if(ye.isDocumentKey(t))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S_(t);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H4;switch(r.type){case"firstParty":return new Y4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=US.get(n);r&&(ce("ComponentProvider","Removing Datastore"),US.delete(n),r.terminate())}(this),Promise.resolve()}}function kF(t,e,n,r={}){var i;const o=(t=Gn(t,$p))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Qt.MOCK_USER;else{s=_L(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(u)}t._authCredentials=new q4(new qk(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ki extends Dc{constructor(e,n,r){super(e,n,Ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ye(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function nr(t,e,...n){if(t=Bt(t),qC("collection","path",e),t instanceof $p){const r=nt.fromString(e,...n);return WS(r),new Ki(t,null,r)}{if(!(t instanceof xn||t instanceof Ki))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return WS(r),new Ki(t.firestore,null,r)}}function pn(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=Kk.newId()),qC("doc","path",e),t instanceof $p){const r=nt.fromString(e,...n);return zS(r),new xn(t,null,new ye(r))}{if(!(t instanceof xn||t instanceof Ki))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return zS(r),new xn(t.firestore,t instanceof Ki?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OC(this,"async_queue_retry"),this.Vu=()=>{const r=Ng();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cc(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=m_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function qS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class no extends $p{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HS(e),this._firestoreClient=void 0,await e}}}function CF(t,e){const n=typeof t=="object"?t:Lk(),r=typeof t=="string"?t:e||"(default)",i=Xb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vL("firestore");o&&kF(i,...o)}return i}function Lp(t){if(t._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NF(t),t._firestoreClient}function NF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,h){return new u3(s,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new EF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(Ut.fromBase64String(e))}catch(n){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gs(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^__.*__$/;class RF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class KC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class A_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new A_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XC(this.Cu)&&jF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rp(e)}Qu(e,n,r,i=!1){return new A_({Cu:e,methodName:n,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YC(t){const e=t._freezeSettings(),n=Rp(t._databaseId);return new MF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DF(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);I_("Data must be an object, but it was:",a,r);const s=QC(r,a);let l,u;if(o.merge)l=new Cn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=Ev(e,f,n);if(!a.contains(d))throw new pe(J.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);ZC(h,d)||h.push(d)}l=new Cn(h),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new RF(new gn(s),l,u)}class Bp extends Fp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}class P_ extends Fp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Fu(e.serializer,cC(e.serializer,this.$u));return new R3(e.path,n)}isEqual(e){return e instanceof P_&&this.$u===e.$u}}function $F(t,e,n,r){const i=t.Qu(1,e,n);I_("Data must be an object, but it was:",i,r);const o=[],a=gn.empty();aa(r,(l,u)=>{const h=O_(e,l,n);u=Bt(u);const f=i.Nu(h);if(u instanceof Bp)o.push(h);else{const d=Up(u,f);d!=null&&(o.push(h),a.set(h,d))}});const s=new Cn(o);return new KC(a,s,i.fieldTransforms)}function LF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Ev(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Ev(e,o[d])),l.push(o[d+1]);const u=[],h=gn.empty();for(let d=s.length-1;d>=0;--d)if(!ZC(u,s[d])){const p=s[d];let m=l[d];m=Bt(m);const g=a.Nu(p);if(m instanceof Bp)u.push(p);else{const b=Up(m,g);b!=null&&(u.push(p),h.set(p,b))}}const f=new Cn(u);return new KC(h,f,a.fieldTransforms)}function Up(t,e){if(JC(t=Bt(t)))return I_("Unsupported field value:",e,t),QC(t,e);if(t instanceof Fp)return function(r,i){if(!XC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Up(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tt.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Tt){const o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof E_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gs)return{bytesValue:_C(i.serializer,r._byteString)};if(r instanceof xn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof T_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return r_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${S_(r)}`)}(t,e)}function QC(t,e){const n={};return Xk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(r,i)=>{const o=Up(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof E_||t instanceof gs||t instanceof xn||t instanceof Fp||t instanceof T_)}function I_(t,e,n){if(!JC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=S_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ev(t,e,n){if((e=Bt(e))instanceof Vp)return e._internalPath;if(typeof e=="string")return O_(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const VF=new RegExp("[~\\*/\\[\\]]");function O_(t,e,n){if(e.search(VF)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vp(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pe(J.INVALID_ARGUMENT,s+t+l)}function ZC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FF extends e2{data(){return super.data()}}function t2(t,e){return typeof e=="string"?O_(t,e):e instanceof Vp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BF{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new T_(o)}convertGeoPoint(e){return new E_(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=eo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ve(AC(r));const i=new Du(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||li(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r2 extends e2{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gh extends r2{data(e={}){return super.data(e)}}class i2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gh(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new gh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new gh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),h=a.indexOf(s.doc.key)),{type:zF(s.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){t=Gn(t,xn);const e=Gn(t.firestore,no);return PF(Lp(e),t._key).then(n=>o2(e,t,n))}class k_ extends BF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function KS(t){t=Gn(t,Dc);const e=Gn(t.firestore,no),n=Lp(e),r=new k_(e);return n2(t._query),IF(n,t._query).then(i=>new i2(e,r,t,i))}function xo(t,e,n,...r){t=Gn(t,xn);const i=Gn(t.firestore,no),o=YC(i);let a;return a=typeof(e=Bt(e))=="string"||e instanceof Vp?LF(o,"updateDoc",t._key,e,n,r):$F(o,"updateDoc",t._key,e),C_(i,[a.toMutation(t._key,pr.exists(!0))])}function Df(t){return C_(Gn(t.firestore,no),[new i_(t._key,pr.none())])}function kl(t,e){const n=Gn(t.firestore,no),r=pn(t),i=UF(t.converter,e);return C_(n,[DF(YC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function La(t,...e){var n,r,i;t=Bt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||qS(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qS(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(t instanceof xn)u=Gn(t.firestore,no),h=Ip(t._key.path),l={next:f=>{e[a]&&e[a](o2(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Gn(t,Dc);u=Gn(f.firestore,no),h=f._query;const d=new k_(u);l={next:p=>{e[a]&&e[a](new i2(u,d,f,p))},error:e[a+1],complete:e[a+2]},n2(t._query)}return function(d,p,m,g){const b=new x_(g),_=new __(p,b,m);return d.asyncQueue.enqueueAndForget(async()=>y_(await td(d),_)),()=>{b.Za(),d.asyncQueue.enqueueAndForget(async()=>v_(await td(d),_))}}(Lp(u),h,s,l)}function C_(t,e){return function(r,i){const o=new Jr;return r.asyncQueue.enqueueAndForget(async()=>gF(await AF(r),i,o)),o.promise}(Lp(t),e)}function o2(t,e,n){const r=n.docs.get(e._key),i=new k_(t);return new r2(t,i,e._key,r,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function yo(t){return new P_("increment",t)}(function(e,n=!0){(function(i){Gs=i})(Ws),us(new qo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new no(new K4(r.getProvider("auth-internal")),new J4(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(u.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),qi(fS,"4.7.3",e),qi(fS,"4.7.3","esm2017")})();function N_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GF=a2,s2=new Ic("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new qb("@firebase/auth");function HF(t,...e){rd.logLevel<=Pe.WARN&&rd.warn(`Auth (${Ws}): ${t}`,...e)}function yh(t,...e){rd.logLevel<=Pe.ERROR&&rd.error(`Auth (${Ws}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw R_(t,...e)}function mr(t,...e){return R_(t,...e)}function j_(t,e,n){const r=Object.assign(Object.assign({},GF()),{[e]:n});return new Ic("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return j_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),j_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function R_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s2.create(t,...e)}function be(t,e,...n){if(!t)throw R_(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function ci(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KF(){return XS()==="http:"||XS()==="https:"}function XS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||EL()||"connection"in navigator)?navigator.onLine:!0}function YF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=wL()||TL()}get(){return XF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new $c(3e4,6e4);function D_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,i={}){return u2(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Oc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return SL()||(u.referrerPolicy="no-referrer"),l2.fetch()(c2(t,t.config.apiHost,n,s),u)})}async function u2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QF),e);try{const i=new e6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw $f(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $f(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw $f(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw j_(t,h,u);jr(t,h)}}catch(i){if(i instanceof mi)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function ZF(t,e,n,r,i={}){const o=await Ks(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function c2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?M_(t.config,i):`${t.config.apiScheme}://${i}`}class e6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),JF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function f2(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n6(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=$_(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:cu(Rg(i.auth_time)),issuedAtTime:cu(Rg(i.iat)),expirationTime:cu(Rg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Rg(t){return Number(t)*1e3}function $_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ck(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YS(t){const e=$_(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&r6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bu(t,f2(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?h2(o.providerUserInfo):[],s=a6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Av(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function o6(t){const e=Bt(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function h2(t){return t.map(e=>{var{providerId:n}=e,r=N_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){const n=await u2(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=c2(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",l2.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l6(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",D_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=YS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await s6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Xa;return r&&(be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=N_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Av(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await Bu(this,t6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:O,isAnonymous:T,providerData:P,stsTokenManager:S}=n;be(w&&S,e,"internal-error");const E=Xa.fromJSON(this.name,S);be(typeof w=="string",e,"internal-error"),Si(f,e.name),Si(d,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof T=="boolean",e,"internal-error"),Si(p,e.name),Si(m,e.name),Si(g,e.name),Si(b,e.name),Si(_,e.name),Si(v,e.name);const I=new Hr({uid:w,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:_,lastLoginAt:v});return P&&Array.isArray(P)&&(I.providerData=P.map(k=>Object.assign({},k))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const o=new Hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?h2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Xa;s.updateFromIdToken(r);const l=new Hr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Av(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Map;function qr(t){ci(t instanceof Function,"Expected a class definition");let e=QS.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d2.type="NONE";const JS=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=vh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ya(qr(JS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||qr(JS);const a=vh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const h=await u._get(a);if(h){const f=Hr._fromJSON(e,h);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ya(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Ya(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b2(e))return"Blackberry";if(_2(e))return"Webos";if(m2(e))return"Safari";if((e.includes("chrome/")||g2(e))&&!e.includes("edge/"))return"Chrome";if(v2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p2(t=rn()){return/firefox\//i.test(t)}function m2(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g2(t=rn()){return/crios\//i.test(t)}function y2(t=rn()){return/iemobile/i.test(t)}function v2(t=rn()){return/android/i.test(t)}function b2(t=rn()){return/blackberry/i.test(t)}function _2(t=rn()){return/webos/i.test(t)}function L_(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u6(t=rn()){var e;return L_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c6(){return AL()&&document.documentMode===10}function w2(t=rn()){return L_(t)||v2(t)||_2(t)||b2(t)||/windows phone/i.test(t)||y2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e=[]){let n;switch(t){case"Browser":n=ZS(rn());break;case"Worker":n=`${ZS(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",D_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=6;class p6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:d6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new f6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f2(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(Lo(this));const n=e?Bt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h6(this),n=new p6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zp(t){return Bt(t)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=RL(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g6(t){V_=t}function y6(t){return V_.loadJS(t)}function v6(){return V_.gapiScript}function b6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t,e){const n=Xb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hh(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function w6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x6(t,e,n){const r=zp(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=S2(e),{host:a,port:s}=S6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||E6()}function S2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S6(t){const e=S2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:tE(a)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return ZF(t,"POST","/v1/accounts:signInWithIdp",D_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="http://localhost";class Qo extends E2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=N_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Qo(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:T6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends F_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Lc{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Lc{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Hr._fromIdTokenResponse(e,r,i),a=nE(r);return new ys({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nE(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends mi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new od(e,n,r,i)}}function T2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,o,e,r):o})}async function A6(t,e,n=!1){const r=await Bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const o=await Bu(t,T2(r,i,e,t),n);be(o.idToken,r,"internal-error");const a=$_(o.idToken);be(a,r,"internal-error");const{sub:s}=a;return be(t.uid===s,r,"user-mismatch"),ys._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e,n=!1){if(Wr(t.app))return Promise.reject(Lo(t));const r="signIn",i=await T2(t,r,e),o=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function O6(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function k6(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function C6(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function rE(t){return Bt(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1e3,j6=10;class P2 extends A2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);c6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P2.type="LOCAL";const R6=P2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2 extends A2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I2.type="SESSION";const O2=I2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await M6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=B_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function $6(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function L6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F6(){return k2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebaseLocalStorageDb",B6=1,sd="firebaseLocalStorage",N2="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gp(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function U6(){const t=indexedDB.deleteDatabase(C2);return new Vc(t).toPromise()}function Pv(){const t=indexedDB.open(C2,B6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:N2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await U6(),e(await Pv()))})})}async function iE(t,e,n){const r=Gp(t,!0).put({[N2]:e,value:n});return new Vc(r).toPromise()}async function z6(t,e){const n=Gp(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function oE(t,e){const n=Gp(t,!0).delete(e);return new Vc(n).toPromise()}const W6=800,G6=3;class j2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>G6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wp._getInstance(F6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new D6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pv();return await iE(e,ad,"1"),await oE(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Gp(i,!1).getAll();return new Vc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j2.type="LOCAL";const H6=j2;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return e?qr(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends E2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q6(t){return I6(t.auth,new U_(t),t.bypassAuthState)}function K6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),P6(n,new U_(t),t.bypassAuthState)}async function X6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),A6(n,new U_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q6;case"linkViaPopup":case"linkViaRedirect":return X6;case"reauthViaPopup":case"reauthViaRedirect":return K6;default:jr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new $c(2e3,1e4);async function Q6(t,e,n){if(Wr(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=zp(t);qF(t,e,F_);const i=R2(r,n);return new ko(r,"signInViaPopup",e,i).executeNotNull()}class ko extends M2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y6.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="pendingRedirect",bh=new Map;class Z6 extends M2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await eB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eB(t,e){const n=rB(e),r=nB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tB(t,e){bh.set(t._key(),e)}function nB(t){return qr(t._redirectPersistence)}function rB(t){return vh(J6,t.config.apiKey,t.name)}async function iB(t,e,n=!1){if(Wr(t.app))return Promise.reject(Lo(t));const r=zp(t),i=R2(r,e),a=await new Z6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=10*60*1e3;class aB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oB&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cB=/^https?/;async function fB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lB(t);for(const n of e)try{if(hB(n))return}catch{}jr(t,"unauthorized-domain")}function hB(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!cB.test(n))return!1;if(uB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new $c(3e4,6e4);function sE(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pB(t){return new Promise((e,n)=>{var r,i,o;function a(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(mr(t,"network-request-failed"))},timeout:dB.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ir().gapi)===null||o===void 0)&&o.load)a();else{const s=b6("iframefcb");return Ir()[s]=()=>{gapi.load?a():n(mr(t,"network-request-failed"))},y6(`${v6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw _h=null,e})}let _h=null;function mB(t){return _h=_h||pB(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new $c(5e3,15e3),yB="__/auth/iframe",vB="emulator/auth/iframe",bB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_B=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wB(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M_(e,vB):`https://${t.config.authDomain}/${yB}`,r={apiKey:e.apiKey,appName:t.name,v:Ws},i=_B.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Oc(r).slice(1)}`}async function xB(t){const e=await mB(t),n=Ir().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:wB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=mr(t,"network-request-failed"),s=Ir().setTimeout(()=>{o(a)},gB.get());function l(){Ir().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EB=500,TB=600,AB="_blank",PB="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IB(t,e,n,r=EB,i=TB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},SB),{width:r.toString(),height:i.toString(),top:o,left:a}),u=rn().toLowerCase();n&&(s=g2(u)?AB:n),p2(u)&&(e=e||PB,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(u6(u)&&s!=="_self")return OB(e||"",s),new lE(null);const f=window.open(e||"",s,h);be(f,t,"popup-blocked");try{f.focus()}catch{}return new lE(f)}function OB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="__/auth/handler",CB="emulator/auth/handler",NB=encodeURIComponent("fac");async function uE(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ws,eventId:i};if(e instanceof F_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",jL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(o||{}))a[h]=f}if(e instanceof Lc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const l=await t._getAppCheckToken(),u=l?`#${NB}=${encodeURIComponent(l)}`:"";return`${jB(t)}?${Oc(s).slice(1)}${u}`}function jB({config:t}){return t.emulator?M_(t,CB):`https://${t.authDomain}/${kB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class RB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O2,this._completeRedirectFn=iB,this._overrideRedirectResult=tB}async _openPopup(e,n,r,i){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await uE(e,n,r,Tv(),i);return IB(e,a,B_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await uE(e,n,r,Tv(),i);return $6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xB(e),r=new aB(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Mg];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w2()||m2()||L_()}}const MB=RB;var cE="@firebase/auth",fE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LB(t){us(new qo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x2(t)},u=new m6(r,i,o,l);return w6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),us(new qo("auth-internal",e=>{const n=zp(e.getProvider("auth").getImmediate());return(r=>new DB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(cE,fE,$B(t)),qi(cE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=5*60,FB=Rk("authIdTokenMaxAge")||VB;let hE=null;const BB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FB)return;const i=n==null?void 0:n.token;hE!==i&&(hE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UB(t=Lk()){const e=Xb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_6(t,{popupRedirectResolver:MB,persistence:[H6,R6,O2]}),r=Rk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=BB(o.toString());k6(n,a,()=>a(n.currentUser)),O6(n,s=>a(s))}}const i=Nk("auth");return i&&x6(n,`http://${i}`),n}function zB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LB("Browser");const WB={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},$2=$k(WB),it=CF($2),Lf=UB($2),GB=new Br;function HB({teams:t=[],stats:e=[],onSubmit:n}){const[r,i]=$.useState({teamName:"",opponent:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[o,a]=$.useState(""),s=$.useMemo(()=>{const m=new Map;for(const g of t)g&&g.id&&!m.has(g.name.toLowerCase())&&m.set(g.name.toLowerCase(),g);return Array.from(m.values())},[t]),l=$.useMemo(()=>[...new Set(e.map(g=>g.opponent).filter(Boolean))],[e]);$.useEffect(()=>{s.length>0&&!r.teamName&&i(m=>({...m,teamName:s[0].name}))},[s,r.teamName]);const u=m=>{const g=m.target.value;i(b=>({...b,opponent:g}))},h=l.some(m=>m.toLowerCase()===r.opponent.toLowerCase()),f=l.find(m=>r.opponent.length>=2&&m.toLowerCase().includes(r.opponent.toLowerCase())&&m.toLowerCase()!==r.opponent.toLowerCase()),d=m=>{const{name:g,value:b}=m.target;i(_=>({..._,[g]:b}))},p=m=>{if(!r.teamName||!r.opponent){a("Please select a team and enter an opponent name.");return}a("");const g=new Date(`${r.date}T${r.time}`).toISOString();typeof n=="function"?n({...r,timestamp:g},m):a("Internal error: Game submit not available.")};return x.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"flex items-center justify-center mb-6",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"date",name:"date",value:r.date,onChange:d,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),x.jsx("input",{type:"time",name:"time",value:r.time,onChange:d,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),o&&x.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:o}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sahil's Team"}),x.jsxs("select",{name:"teamName",value:r.teamName,onChange:d,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[x.jsx("option",{value:"",disabled:!0,children:"Select Team"}),s.map(m=>x.jsx("option",{value:m.name,children:m.name},m.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),x.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:r.opponent,onChange:u,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r.opponent&&x.jsx("div",{className:"mt-2 text-sm",children:h?x.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):f?x.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",x.jsx("button",{type:"button",onClick:()=>i(m=>({...m,opponent:f})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:f}),"?"]}):x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[x.jsx("button",{onClick:()=>p("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",children:"Start Live Game & Track Stats"}),x.jsx("button",{onClick:()=>p("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function L2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L2(t))&&(r&&(r+=" "),r+=e);return r}var qB=Array.isArray,Sn=qB,KB=typeof pf=="object"&&pf&&pf.Object===Object&&pf,V2=KB,XB=V2,YB=typeof self=="object"&&self&&self.Object===Object&&self,QB=XB||YB||Function("return this")(),Mr=QB,JB=Mr,ZB=JB.Symbol,Fc=ZB,dE=Fc,F2=Object.prototype,e5=F2.hasOwnProperty,t5=F2.toString,Cl=dE?dE.toStringTag:void 0;function n5(t){var e=e5.call(t,Cl),n=t[Cl];try{t[Cl]=void 0;var r=!0}catch{}var i=t5.call(t);return r&&(e?t[Cl]=n:delete t[Cl]),i}var r5=n5,i5=Object.prototype,o5=i5.toString;function a5(t){return o5.call(t)}var s5=a5,pE=Fc,l5=r5,u5=s5,c5="[object Null]",f5="[object Undefined]",mE=pE?pE.toStringTag:void 0;function h5(t){return t==null?t===void 0?f5:c5:mE&&mE in Object(t)?l5(t):u5(t)}var gi=h5;function d5(t){return t!=null&&typeof t=="object"}var yi=d5,p5=gi,m5=yi,g5="[object Symbol]";function y5(t){return typeof t=="symbol"||m5(t)&&p5(t)==g5}var Xs=y5,v5=Sn,b5=Xs,_5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w5=/^\w*$/;function x5(t,e){if(v5(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||b5(t)?!0:w5.test(t)||!_5.test(t)||e!=null&&t in Object(e)}var z_=x5;function S5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var so=S5;const Ys=We(so);var E5=gi,T5=so,A5="[object AsyncFunction]",P5="[object Function]",I5="[object GeneratorFunction]",O5="[object Proxy]";function k5(t){if(!T5(t))return!1;var e=E5(t);return e==P5||e==I5||e==A5||e==O5}var W_=k5;const Se=We(W_);var C5=Mr,N5=C5["__core-js_shared__"],j5=N5,Dg=j5,gE=function(){var t=/[^.]+$/.exec(Dg&&Dg.keys&&Dg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function R5(t){return!!gE&&gE in t}var M5=R5,D5=Function.prototype,$5=D5.toString;function L5(t){if(t!=null){try{return $5.call(t)}catch{}try{return t+""}catch{}}return""}var B2=L5,V5=W_,F5=M5,B5=so,U5=B2,z5=/[\\^$.*+?()[\]{}|]/g,W5=/^\[object .+?Constructor\]$/,G5=Function.prototype,H5=Object.prototype,q5=G5.toString,K5=H5.hasOwnProperty,X5=RegExp("^"+q5.call(K5).replace(z5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y5(t){if(!B5(t)||F5(t))return!1;var e=V5(t)?X5:W5;return e.test(U5(t))}var Q5=Y5;function J5(t,e){return t==null?void 0:t[e]}var Z5=J5,eU=Q5,tU=Z5;function nU(t,e){var n=tU(t,e);return eU(n)?n:void 0}var la=nU,rU=la,iU=rU(Object,"create"),Hp=iU,yE=Hp;function oU(){this.__data__=yE?yE(null):{},this.size=0}var aU=oU;function sU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lU=sU,uU=Hp,cU="__lodash_hash_undefined__",fU=Object.prototype,hU=fU.hasOwnProperty;function dU(t){var e=this.__data__;if(uU){var n=e[t];return n===cU?void 0:n}return hU.call(e,t)?e[t]:void 0}var pU=dU,mU=Hp,gU=Object.prototype,yU=gU.hasOwnProperty;function vU(t){var e=this.__data__;return mU?e[t]!==void 0:yU.call(e,t)}var bU=vU,_U=Hp,wU="__lodash_hash_undefined__";function xU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_U&&e===void 0?wU:e,this}var SU=xU,EU=aU,TU=lU,AU=pU,PU=bU,IU=SU;function Qs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qs.prototype.clear=EU;Qs.prototype.delete=TU;Qs.prototype.get=AU;Qs.prototype.has=PU;Qs.prototype.set=IU;var OU=Qs;function kU(){this.__data__=[],this.size=0}var CU=kU;function NU(t,e){return t===e||t!==t&&e!==e}var G_=NU,jU=G_;function RU(t,e){for(var n=t.length;n--;)if(jU(t[n][0],e))return n;return-1}var qp=RU,MU=qp,DU=Array.prototype,$U=DU.splice;function LU(t){var e=this.__data__,n=MU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$U.call(e,n,1),--this.size,!0}var VU=LU,FU=qp;function BU(t){var e=this.__data__,n=FU(e,t);return n<0?void 0:e[n][1]}var UU=BU,zU=qp;function WU(t){return zU(this.__data__,t)>-1}var GU=WU,HU=qp;function qU(t,e){var n=this.__data__,r=HU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var KU=qU,XU=CU,YU=VU,QU=UU,JU=GU,ZU=KU;function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=XU;Js.prototype.delete=YU;Js.prototype.get=QU;Js.prototype.has=JU;Js.prototype.set=ZU;var Kp=Js,e9=la,t9=Mr,n9=e9(t9,"Map"),H_=n9,vE=OU,r9=Kp,i9=H_;function o9(){this.size=0,this.__data__={hash:new vE,map:new(i9||r9),string:new vE}}var a9=o9;function s9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var l9=s9,u9=l9;function c9(t,e){var n=t.__data__;return u9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Xp=c9,f9=Xp;function h9(t){var e=f9(this,t).delete(t);return this.size-=e?1:0,e}var d9=h9,p9=Xp;function m9(t){return p9(this,t).get(t)}var g9=m9,y9=Xp;function v9(t){return y9(this,t).has(t)}var b9=v9,_9=Xp;function w9(t,e){var n=_9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var x9=w9,S9=a9,E9=d9,T9=g9,A9=b9,P9=x9;function Zs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zs.prototype.clear=S9;Zs.prototype.delete=E9;Zs.prototype.get=T9;Zs.prototype.has=A9;Zs.prototype.set=P9;var q_=Zs,U2=q_,I9="Expected a function";function K_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(I9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(K_.Cache||U2),n}K_.Cache=U2;var z2=K_;const O9=We(z2);var k9=z2,C9=500;function N9(t){var e=k9(t,function(r){return n.size===C9&&n.clear(),r}),n=e.cache;return e}var j9=N9,R9=j9,M9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D9=/\\(\\)?/g,$9=R9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(M9,function(n,r,i,o){e.push(i?o.replace(D9,"$1"):r||n)}),e}),L9=$9;function V9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var X_=V9,bE=Fc,F9=X_,B9=Sn,U9=Xs,z9=1/0,_E=bE?bE.prototype:void 0,wE=_E?_E.toString:void 0;function W2(t){if(typeof t=="string")return t;if(B9(t))return F9(t,W2)+"";if(U9(t))return wE?wE.call(t):"";var e=t+"";return e=="0"&&1/t==-z9?"-0":e}var W9=W2,G9=W9;function H9(t){return t==null?"":G9(t)}var G2=H9,q9=Sn,K9=z_,X9=L9,Y9=G2;function Q9(t,e){return q9(t)?t:K9(t,e)?[t]:X9(Y9(t))}var H2=Q9,J9=Xs,Z9=1/0;function ez(t){if(typeof t=="string"||J9(t))return t;var e=t+"";return e=="0"&&1/t==-Z9?"-0":e}var Yp=ez,tz=H2,nz=Yp;function rz(t,e){e=tz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nz(e[n++])];return n&&n==r?t:void 0}var Y_=rz,iz=Y_;function oz(t,e,n){var r=t==null?void 0:iz(t,e);return r===void 0?n:r}var q2=oz;const Hn=We(q2);function az(t){return t==null}var sz=az;const Ee=We(sz);var lz=gi,uz=Sn,cz=yi,fz="[object String]";function hz(t){return typeof t=="string"||!uz(t)&&cz(t)&&lz(t)==fz}var dz=hz;const Jo=We(dz);var K2={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_=Symbol.for("react.element"),J_=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),pz=Symbol.for("react.server_context"),nm=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),om=Symbol.for("react.memo"),am=Symbol.for("react.lazy"),mz=Symbol.for("react.offscreen"),X2;X2=Symbol.for("react.module.reference");function Qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Q_:switch(t=t.type,t){case Qp:case Zp:case Jp:case rm:case im:return t;default:switch(t=t&&t.$$typeof,t){case pz:case tm:case nm:case am:case om:case em:return t;default:return e}}case J_:return e}}}Fe.ContextConsumer=tm;Fe.ContextProvider=em;Fe.Element=Q_;Fe.ForwardRef=nm;Fe.Fragment=Qp;Fe.Lazy=am;Fe.Memo=om;Fe.Portal=J_;Fe.Profiler=Zp;Fe.StrictMode=Jp;Fe.Suspense=rm;Fe.SuspenseList=im;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return Qn(t)===tm};Fe.isContextProvider=function(t){return Qn(t)===em};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Q_};Fe.isForwardRef=function(t){return Qn(t)===nm};Fe.isFragment=function(t){return Qn(t)===Qp};Fe.isLazy=function(t){return Qn(t)===am};Fe.isMemo=function(t){return Qn(t)===om};Fe.isPortal=function(t){return Qn(t)===J_};Fe.isProfiler=function(t){return Qn(t)===Zp};Fe.isStrictMode=function(t){return Qn(t)===Jp};Fe.isSuspense=function(t){return Qn(t)===rm};Fe.isSuspenseList=function(t){return Qn(t)===im};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qp||t===Zp||t===Jp||t===rm||t===im||t===mz||typeof t=="object"&&t!==null&&(t.$$typeof===am||t.$$typeof===om||t.$$typeof===em||t.$$typeof===tm||t.$$typeof===nm||t.$$typeof===X2||t.getModuleId!==void 0)};Fe.typeOf=Qn;K2.exports=Fe;var gz=K2.exports,yz=gi,vz=yi,bz="[object Number]";function _z(t){return typeof t=="number"||vz(t)&&yz(t)==bz}var Y2=_z;const wz=We(Y2);var xz=Y2;function Sz(t){return xz(t)&&t!=+t}var Ez=Sz;const Bc=We(Ez);var fr=function(e){return e===0?0:e>0?1:-1},Co=function(e){return Jo(e)&&e.indexOf("%")===e.length-1},ie=function(e){return wz(e)&&!Bc(e)},Tz=function(e){return Ee(e)},Et=function(e){return ie(e)||Jo(e)},Az=0,Uc=function(e){var n=++Az;return"".concat(e||"").concat(n)},Zo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!Jo(e))return r;var o;if(Co(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Bc(o)&&(o=r),i&&o>n&&(o=n),o},Ni=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Pz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ur=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function ld(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hn(r,e))===n})}var Iz=function(e,n){return ie(e)&&ie(n)?e-n:Jo(e)&&Jo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ja(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}var Oz=["viewBox","children"],kz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xE=["points","pathLength"],$g={svg:Oz,polygon:xE,polyline:xE},Z_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Ys(r))return null;var i={};return Object.keys(r).forEach(function(o){Z_.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Cz=function(e,n,r){return function(i){return e(n,r,i),null}},cd=function(e,n,r){if(!Ys(e)||Iv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Z_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Cz(a,n,r))}),i},Nz=["children"],jz=["children"];function SE(t,e){if(t==null)return{};var n=Rz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}var EE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TE=null,Lg=null,ew=function t(e){if(e===TE&&Array.isArray(Lg))return Lg;var n=[];return $.Children.forEach(e,function(r){Ee(r)||(gz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Lg=n,TE=e,n};function qn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zr(i)}):r=[Zr(e)],ew(t).forEach(function(i){var o=Hn(i,"type.displayName")||Hn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function In(t,e){var n=qn(t,e);return n&&n[0]}var AE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},Mz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Dz=function(e){return e&&e.type&&Jo(e.type)&&Mz.indexOf(e.type)>=0},$z=function(e){return e&&Ov(e)==="object"&&"clipDot"in e},Lz=function(e,n,r,i){var o,a=(o=$g==null?void 0:$g[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&a.includes(n)||kz.includes(n))||r&&Z_.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Ys(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Lz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},kv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return PE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!PE(o,a))return!1}return!0},PE=function(e,n){if(Ee(e)&&Ee(n))return!0;if(!Ee(e)&&!Ee(n)){var r=e.props||{},i=r.children,o=SE(r,Nz),a=n.props||{},s=a.children,l=SE(a,jz);return i&&s?Ja(o,l)&&kv(i,s):!i&&!s?Ja(o,l):!1}return!1},IE=function(e,n){var r=[],i={};return ew(e).forEach(function(o,a){if(Dz(o))r.push(o);else if(o){var s=Zr(o.type),l=n[s]||{},u=l.handler,h=l.once;if(u&&(!h||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Vz=function(e){var n=e&&e.type;return n&&EE[n]?EE[n]:null},Fz=function(e,n){return ew(n).indexOf(e)},Bz=["children","width","height","viewBox","className","style","title","desc"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(this,arguments)}function Uz(t,e){if(t==null)return{};var n=zz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Uz(t,Bz),h=i||{width:n,height:r,x:0,y:0},f=Ce("recharts-surface",o);return M.createElement("svg",Cv({},Ie(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var Wz=["children","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function Gz(t,e){if(t==null)return{};var n=Hz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=Gz(t,Wz),o=Ce("recharts-layer",r);return M.createElement("g",jv({className:o},Ie(i,!0),{ref:e}),n)}),ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function qz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Kz=qz,Xz=Kz;function Yz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Xz(t,e,n)}var Qz=Yz,Jz="\\ud800-\\udfff",Zz="\\u0300-\\u036f",e8="\\ufe20-\\ufe2f",t8="\\u20d0-\\u20ff",n8=Zz+e8+t8,r8="\\ufe0e\\ufe0f",i8="\\u200d",o8=RegExp("["+i8+Jz+n8+r8+"]");function a8(t){return o8.test(t)}var Q2=a8;function s8(t){return t.split("")}var l8=s8,J2="\\ud800-\\udfff",u8="\\u0300-\\u036f",c8="\\ufe20-\\ufe2f",f8="\\u20d0-\\u20ff",h8=u8+c8+f8,d8="\\ufe0e\\ufe0f",p8="["+J2+"]",Rv="["+h8+"]",Mv="\\ud83c[\\udffb-\\udfff]",m8="(?:"+Rv+"|"+Mv+")",Z2="[^"+J2+"]",eN="(?:\\ud83c[\\udde6-\\uddff]){2}",tN="[\\ud800-\\udbff][\\udc00-\\udfff]",g8="\\u200d",nN=m8+"?",rN="["+d8+"]?",y8="(?:"+g8+"(?:"+[Z2,eN,tN].join("|")+")"+rN+nN+")*",v8=rN+nN+y8,b8="(?:"+[Z2+Rv+"?",Rv,eN,tN,p8].join("|")+")",_8=RegExp(Mv+"(?="+Mv+")|"+b8+v8,"g");function w8(t){return t.match(_8)||[]}var x8=w8,S8=l8,E8=Q2,T8=x8;function A8(t){return E8(t)?T8(t):S8(t)}var P8=A8,I8=Qz,O8=Q2,k8=P8,C8=G2;function N8(t){return function(e){e=C8(e);var n=O8(e)?k8(e):void 0,r=n?n[0]:e.charAt(0),i=n?I8(n,1).join(""):e.slice(1);return r[t]()+i}}var j8=N8,R8=j8,M8=R8("toUpperCase"),D8=M8;const sm=We(D8);function Ge(t){return function(){return t}}const iN=Math.cos,fd=Math.sin,yr=Math.sqrt,hd=Math.PI,lm=2*hd,Dv=Math.PI,$v=2*Dv,So=1e-6,$8=$v-So;function oN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function L8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class V8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oN:L8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,h=a-e,f=s-n,d=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>So)if(!(Math.abs(f*l-u*h)>So)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,b=p*p+m*m,_=Math.sqrt(g),v=Math.sqrt(d),w=o*Math.tan((Dv-Math.acos((g+d-b)/(2*_*v)))/2),O=w/v,T=w/_;Math.abs(O-1)>So&&this._append`L${e+O*h},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*p>h*m)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,h=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>So||Math.abs(this._y1-h)>So)&&this._append`L${u},${h}`,r&&(d<0&&(d=d%$v+$v),d>$8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=h}`:d>So&&this._append`A${r},${r},0,${+(d>=Dv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new V8(e)}function nw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aN(t){this._context=t}aN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function um(t){return new aN(t)}function sN(t){return t[0]}function lN(t){return t[1]}function uN(t,e){var n=Ge(!0),r=null,i=um,o=null,a=tw(s);t=typeof t=="function"?t:t===void 0?sN:Ge(t),e=typeof e=="function"?e:e===void 0?lN:Ge(e);function s(l){var u,h=(l=nw(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=h;++u)!(u<h&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ge(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ge(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vf(t,e,n){var r=null,i=Ge(!0),o=null,a=um,s=null,l=tw(u);t=typeof t=="function"?t:t===void 0?sN:Ge(+t),e=typeof e=="function"?e:Ge(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lN:Ge(+n);function u(f){var d,p,m,g=(f=nw(f)).length,b,_=!1,v,w=new Array(g),O=new Array(g);for(o==null&&(s=a(v=l())),d=0;d<=g;++d){if(!(d<g&&i(b=f[d],d,f))===_)if(_=!_)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(w[m],O[m]);s.lineEnd(),s.areaEnd()}_&&(w[d]=+t(b,d,f),O[d]=+e(b,d,f),s.point(r?+r(b,d,f):w[d],n?+n(b,d,f):O[d]))}if(v)return s=null,v+""||null}function h(){return uN().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ge(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ge(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(n)},u.lineX1=function(){return h().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ge(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class cN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function F8(t){return new cN(t,!0)}function B8(t){return new cN(t,!1)}const rw={draw(t,e){const n=yr(e/hd);t.moveTo(n,0),t.arc(0,0,n,0,lm)}},U8={draw(t,e){const n=yr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fN=yr(1/3),z8=fN*2,W8={draw(t,e){const n=yr(e/z8),r=n*fN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},G8={draw(t,e){const n=yr(e),r=-n/2;t.rect(r,r,n,n)}},H8=.8908130915292852,hN=fd(hd/10)/fd(7*hd/10),q8=fd(lm/10)*hN,K8=-iN(lm/10)*hN,X8={draw(t,e){const n=yr(e*H8),r=q8*n,i=K8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=lm*o/5,s=iN(a),l=fd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Vg=yr(3),Y8={draw(t,e){const n=-yr(e/(Vg*3));t.moveTo(0,n*2),t.lineTo(-Vg*n,-n),t.lineTo(Vg*n,-n),t.closePath()}},$n=-.5,Ln=yr(3)/2,Lv=1/yr(12),Q8=(Lv/2+1)*3,J8={draw(t,e){const n=yr(e/Q8),r=n/2,i=n*Lv,o=r,a=n*Lv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo($n*r-Ln*i,Ln*r+$n*i),t.lineTo($n*o-Ln*a,Ln*o+$n*a),t.lineTo($n*s-Ln*l,Ln*s+$n*l),t.lineTo($n*r+Ln*i,$n*i-Ln*r),t.lineTo($n*o+Ln*a,$n*a-Ln*o),t.lineTo($n*s+Ln*l,$n*l-Ln*s),t.closePath()}};function Z8(t,e){let n=null,r=tw(i);t=typeof t=="function"?t:Ge(t||rw),e=typeof e=="function"?e:Ge(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function dd(){}function pd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dN(t){this._context=t}dN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eW(t){return new dN(t)}function pN(t){this._context=t}pN.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tW(t){return new pN(t)}function mN(t){this._context=t}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nW(t){return new mN(t)}function gN(t){this._context=t}gN.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rW(t){return new gN(t)}function OE(t){return t<0?-1:1}function kE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(OE(o)+OE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function CE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function md(t){this._context=t}md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fg(this,this._t0,CE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fg(this,CE(this,n=kE(this,t,e)),n);break;default:Fg(this,this._t0,n=kE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yN(t){this._context=new vN(t)}(yN.prototype=Object.create(md.prototype)).point=function(t,e){md.prototype.point.call(this,e,t)};function vN(t){this._context=t}vN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function iW(t){return new md(t)}function oW(t){return new yN(t)}function bN(t){this._context=t}bN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NE(t),i=NE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aW(t){return new bN(t)}function cm(t,e){this._context=t,this._t=e}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sW(t){return new cm(t,.5)}function lW(t){return new cm(t,0)}function uW(t){return new cm(t,1)}function vs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cW(t,e){return t[e]}function fW(t){const e=[];return e.key=t,e}function hW(){var t=Ge([]),e=Vv,n=vs,r=cW;function i(o){var a=Array.from(t.apply(this,arguments),fW),s,l=a.length,u=-1,h;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,h=nw(e(a));s<l;++s)a[h[s]].index=s;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ge(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Vv:typeof o=="function"?o:Ge(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??vs,i):n},i}function dW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}vs(t,e)}}function pW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}vs(t,e)}}function mW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var h=t[e[s]],f=h[r][1]||0,d=h[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],b=g[r][1]||0,_=g[r-1][1]||0;p+=b-_}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,vs(t,e)}}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var gW=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function jE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return e=vW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vW(t){var e=bW(t,"string");return Uu(e)=="symbol"?e:e+""}function bW(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _W(t,e){if(t==null)return{};var n=wW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _N={symbolCircle:rw,symbolCross:U8,symbolDiamond:W8,symbolSquare:G8,symbolStar:X8,symbolTriangle:Y8,symbolWye:J8},xW=Math.PI/180,SW=function(e){var n="symbol".concat(sm(e));return _N[n]||rw},EW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TW=function(e,n){_N["symbol".concat(sm(e))]=n},iw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_W(e,gW),u=RE(RE({},l),{},{type:r,size:o,sizeType:s}),h=function(){var b=SW(r),_=Z8().type(b).size(EW(o,s,r));return _()},f=u.className,d=u.cx,p=u.cy,m=Ie(u,!0);return d===+d&&p===+p&&o===+o?M.createElement("path",Fv({},m,{className:Ce("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:h()})):null};iw.registerSymbol=TW;function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xN(r.key),r)}}function IW(t,e,n){return e&&DE(t.prototype,e),n&&DE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OW(t,e,n){return e=gd(e),kW(t,wN()?Reflect.construct(e,n||[],gd(t).constructor):e.apply(t,n))}function kW(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CW(t)}function CW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wN=function(){return!!t})()}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function NW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uv(t,e)}function zu(t,e,n){return e=xN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xN(t){var e=jW(t,"string");return bs(e)=="symbol"?e:e+""}function jW(t,e){if(bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vn=32,ow=function(t){function e(){return PW(this,e),OW(this,e,arguments)}return NW(e,t),IW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Vn/2,a=Vn/6,s=Vn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Vn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Vn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=AW({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(iw,{fill:l,cx:o,cy:o,size:Vn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Vn,height:Vn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,b=Ce(zu(zu({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Se(p.value)?null:p.value;ei(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return M.createElement("li",Bv({className:b,style:f,key:"legend-item-".concat(m)},cd(r.props,p,m)),M.createElement(Nv,{width:a,height:a,viewBox:h,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(_,p,m):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);zu(ow,"displayName","Legend");zu(ow,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RW=Kp;function MW(){this.__data__=new RW,this.size=0}var DW=MW;function $W(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var LW=$W;function VW(t){return this.__data__.get(t)}var FW=VW;function BW(t){return this.__data__.has(t)}var UW=BW,zW=Kp,WW=H_,GW=q_,HW=200;function qW(t,e){var n=this.__data__;if(n instanceof zW){var r=n.__data__;if(!WW||r.length<HW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GW(r)}return n.set(t,e),this.size=n.size,this}var KW=qW,XW=Kp,YW=DW,QW=LW,JW=FW,ZW=UW,e7=KW;function el(t){var e=this.__data__=new XW(t);this.size=e.size}el.prototype.clear=YW;el.prototype.delete=QW;el.prototype.get=JW;el.prototype.has=ZW;el.prototype.set=e7;var SN=el,t7="__lodash_hash_undefined__";function n7(t){return this.__data__.set(t,t7),this}var r7=n7;function i7(t){return this.__data__.has(t)}var o7=i7,a7=q_,s7=r7,l7=o7;function yd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new a7;++e<n;)this.add(t[e])}yd.prototype.add=yd.prototype.push=s7;yd.prototype.has=l7;var EN=yd;function u7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var TN=u7;function c7(t,e){return t.has(e)}var AN=c7,f7=EN,h7=TN,d7=AN,p7=1,m7=2;function g7(t,e,n,r,i,o){var a=n&p7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,p=n&m7?new f7:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var b=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!h7(e,function(_,v){if(!d7(p,v)&&(m===_||i(m,_,n,r,o)))return p.push(v)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var PN=g7,y7=Mr,v7=y7.Uint8Array,b7=v7;function _7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var w7=_7;function x7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var aw=x7,$E=Fc,LE=b7,S7=G_,E7=PN,T7=w7,A7=aw,P7=1,I7=2,O7="[object Boolean]",k7="[object Date]",C7="[object Error]",N7="[object Map]",j7="[object Number]",R7="[object RegExp]",M7="[object Set]",D7="[object String]",$7="[object Symbol]",L7="[object ArrayBuffer]",V7="[object DataView]",VE=$E?$E.prototype:void 0,Bg=VE?VE.valueOf:void 0;function F7(t,e,n,r,i,o,a){switch(n){case V7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L7:return!(t.byteLength!=e.byteLength||!o(new LE(t),new LE(e)));case O7:case k7:case j7:return S7(+t,+e);case C7:return t.name==e.name&&t.message==e.message;case R7:case D7:return t==e+"";case N7:var s=T7;case M7:var l=r&P7;if(s||(s=A7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=I7,a.set(t,e);var h=E7(s(t),s(e),r,i,o,a);return a.delete(t),h;case $7:if(Bg)return Bg.call(t)==Bg.call(e)}return!1}var B7=F7;function U7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var IN=U7,z7=IN,W7=Sn;function G7(t,e,n){var r=e(t);return W7(t)?r:z7(r,n(t))}var H7=G7;function q7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var K7=q7;function X7(){return[]}var Y7=X7,Q7=K7,J7=Y7,Z7=Object.prototype,eG=Z7.propertyIsEnumerable,FE=Object.getOwnPropertySymbols,tG=FE?function(t){return t==null?[]:(t=Object(t),Q7(FE(t),function(e){return eG.call(t,e)}))}:J7,nG=tG;function rG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var iG=rG,oG=gi,aG=yi,sG="[object Arguments]";function lG(t){return aG(t)&&oG(t)==sG}var uG=lG,BE=uG,cG=yi,ON=Object.prototype,fG=ON.hasOwnProperty,hG=ON.propertyIsEnumerable,dG=BE(function(){return arguments}())?BE:function(t){return cG(t)&&fG.call(t,"callee")&&!hG.call(t,"callee")},sw=dG,vd={exports:{}};function pG(){return!1}var mG=pG;vd.exports;(function(t,e){var n=Mr,r=mG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(vd,vd.exports);var kN=vd.exports,gG=9007199254740991,yG=/^(?:0|[1-9]\d*)$/;function vG(t,e){var n=typeof t;return e=e??gG,!!e&&(n=="number"||n!="symbol"&&yG.test(t))&&t>-1&&t%1==0&&t<e}var lw=vG,bG=9007199254740991;function _G(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bG}var uw=_G,wG=gi,xG=uw,SG=yi,EG="[object Arguments]",TG="[object Array]",AG="[object Boolean]",PG="[object Date]",IG="[object Error]",OG="[object Function]",kG="[object Map]",CG="[object Number]",NG="[object Object]",jG="[object RegExp]",RG="[object Set]",MG="[object String]",DG="[object WeakMap]",$G="[object ArrayBuffer]",LG="[object DataView]",VG="[object Float32Array]",FG="[object Float64Array]",BG="[object Int8Array]",UG="[object Int16Array]",zG="[object Int32Array]",WG="[object Uint8Array]",GG="[object Uint8ClampedArray]",HG="[object Uint16Array]",qG="[object Uint32Array]",Xe={};Xe[VG]=Xe[FG]=Xe[BG]=Xe[UG]=Xe[zG]=Xe[WG]=Xe[GG]=Xe[HG]=Xe[qG]=!0;Xe[EG]=Xe[TG]=Xe[$G]=Xe[AG]=Xe[LG]=Xe[PG]=Xe[IG]=Xe[OG]=Xe[kG]=Xe[CG]=Xe[NG]=Xe[jG]=Xe[RG]=Xe[MG]=Xe[DG]=!1;function KG(t){return SG(t)&&xG(t.length)&&!!Xe[wG(t)]}var XG=KG;function YG(t){return function(e){return t(e)}}var CN=YG,bd={exports:{}};bd.exports;(function(t,e){var n=V2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(bd,bd.exports);var QG=bd.exports,JG=XG,ZG=CN,UE=QG,zE=UE&&UE.isTypedArray,eH=zE?ZG(zE):JG,NN=eH,tH=iG,nH=sw,rH=Sn,iH=kN,oH=lw,aH=NN,sH=Object.prototype,lH=sH.hasOwnProperty;function uH(t,e){var n=rH(t),r=!n&&nH(t),i=!n&&!r&&iH(t),o=!n&&!r&&!i&&aH(t),a=n||r||i||o,s=a?tH(t.length,String):[],l=s.length;for(var u in t)(e||lH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oH(u,l)))&&s.push(u);return s}var cH=uH,fH=Object.prototype;function hH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fH;return t===n}var dH=hH;function pH(t,e){return function(n){return t(e(n))}}var jN=pH,mH=jN,gH=mH(Object.keys,Object),yH=gH,vH=dH,bH=yH,_H=Object.prototype,wH=_H.hasOwnProperty;function xH(t){if(!vH(t))return bH(t);var e=[];for(var n in Object(t))wH.call(t,n)&&n!="constructor"&&e.push(n);return e}var SH=xH,EH=W_,TH=uw;function AH(t){return t!=null&&TH(t.length)&&!EH(t)}var zc=AH,PH=cH,IH=SH,OH=zc;function kH(t){return OH(t)?PH(t):IH(t)}var fm=kH,CH=H7,NH=nG,jH=fm;function RH(t){return CH(t,jH,NH)}var MH=RH,WE=MH,DH=1,$H=Object.prototype,LH=$H.hasOwnProperty;function VH(t,e,n,r,i,o){var a=n&DH,s=WE(t),l=s.length,u=WE(e),h=u.length;if(l!=h&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:LH.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){d=s[f];var _=t[d],v=e[d];if(r)var w=a?r(v,_,d,e,t,o):r(_,v,d,t,e,o);if(!(w===void 0?_===v||i(_,v,n,r,o):w)){g=!1;break}b||(b=d=="constructor")}if(g&&!b){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var FH=VH,BH=la,UH=Mr,zH=BH(UH,"DataView"),WH=zH,GH=la,HH=Mr,qH=GH(HH,"Promise"),KH=qH,XH=la,YH=Mr,QH=XH(YH,"Set"),RN=QH,JH=la,ZH=Mr,eq=JH(ZH,"WeakMap"),tq=eq,zv=WH,Wv=H_,Gv=KH,Hv=RN,qv=tq,MN=gi,tl=B2,GE="[object Map]",nq="[object Object]",HE="[object Promise]",qE="[object Set]",KE="[object WeakMap]",XE="[object DataView]",rq=tl(zv),iq=tl(Wv),oq=tl(Gv),aq=tl(Hv),sq=tl(qv),Eo=MN;(zv&&Eo(new zv(new ArrayBuffer(1)))!=XE||Wv&&Eo(new Wv)!=GE||Gv&&Eo(Gv.resolve())!=HE||Hv&&Eo(new Hv)!=qE||qv&&Eo(new qv)!=KE)&&(Eo=function(t){var e=MN(t),n=e==nq?t.constructor:void 0,r=n?tl(n):"";if(r)switch(r){case rq:return XE;case iq:return GE;case oq:return HE;case aq:return qE;case sq:return KE}return e});var lq=Eo,Ug=SN,uq=PN,cq=B7,fq=FH,YE=lq,QE=Sn,JE=kN,hq=NN,dq=1,ZE="[object Arguments]",eT="[object Array]",Ff="[object Object]",pq=Object.prototype,tT=pq.hasOwnProperty;function mq(t,e,n,r,i,o){var a=QE(t),s=QE(e),l=a?eT:YE(t),u=s?eT:YE(e);l=l==ZE?Ff:l,u=u==ZE?Ff:u;var h=l==Ff,f=u==Ff,d=l==u;if(d&&JE(t)){if(!JE(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Ug),a||hq(t)?uq(t,e,n,r,i,o):cq(t,e,l,n,r,i,o);if(!(n&dq)){var p=h&&tT.call(t,"__wrapped__"),m=f&&tT.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,b=m?e.value():e;return o||(o=new Ug),i(g,b,n,r,o)}}return d?(o||(o=new Ug),fq(t,e,n,r,i,o)):!1}var gq=mq,yq=gq,nT=yi;function DN(t,e,n,r,i){return t===e?!0:t==null||e==null||!nT(t)&&!nT(e)?t!==t&&e!==e:yq(t,e,n,r,DN,i)}var cw=DN,vq=SN,bq=cw,_q=1,wq=2;function xq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],h=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new vq;if(r)var d=r(u,h,l,t,e,f);if(!(d===void 0?bq(h,u,_q|wq,r,f):d))return!1}}return!0}var Sq=xq,Eq=so;function Tq(t){return t===t&&!Eq(t)}var $N=Tq,Aq=$N,Pq=fm;function Iq(t){for(var e=Pq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aq(i)]}return e}var Oq=Iq;function kq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var LN=kq,Cq=Sq,Nq=Oq,jq=LN;function Rq(t){var e=Nq(t);return e.length==1&&e[0][2]?jq(e[0][0],e[0][1]):function(n){return n===t||Cq(n,t,e)}}var Mq=Rq;function Dq(t,e){return t!=null&&e in Object(t)}var $q=Dq,Lq=H2,Vq=sw,Fq=Sn,Bq=lw,Uq=uw,zq=Yp;function Wq(t,e,n){e=Lq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=zq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Uq(i)&&Bq(a,i)&&(Fq(t)||Vq(t)))}var Gq=Wq,Hq=$q,qq=Gq;function Kq(t,e){return t!=null&&qq(t,e,Hq)}var Xq=Kq,Yq=cw,Qq=q2,Jq=Xq,Zq=z_,eK=$N,tK=LN,nK=Yp,rK=1,iK=2;function oK(t,e){return Zq(t)&&eK(e)?tK(nK(t),e):function(n){var r=Qq(n,t);return r===void 0&&r===e?Jq(n,t):Yq(e,r,rK|iK)}}var aK=oK;function sK(t){return t}var nl=sK;function lK(t){return function(e){return e==null?void 0:e[t]}}var uK=lK,cK=Y_;function fK(t){return function(e){return cK(e,t)}}var hK=fK,dK=uK,pK=hK,mK=z_,gK=Yp;function yK(t){return mK(t)?dK(gK(t)):pK(t)}var vK=yK,bK=Mq,_K=aK,wK=nl,xK=Sn,SK=vK;function EK(t){return typeof t=="function"?t:t==null?wK:typeof t=="object"?xK(t)?_K(t[0],t[1]):bK(t):SK(t)}var lo=EK;function TK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var VN=TK;function AK(t){return t!==t}var PK=AK;function IK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var OK=IK,kK=VN,CK=PK,NK=OK;function jK(t,e,n){return e===e?NK(t,e,n):kK(t,CK,n)}var RK=jK,MK=RK;function DK(t,e){var n=t==null?0:t.length;return!!n&&MK(t,e,0)>-1}var $K=DK;function LK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var VK=LK;function FK(){}var BK=FK,zg=RN,UK=BK,zK=aw,WK=1/0,GK=zg&&1/zK(new zg([,-0]))[1]==WK?function(t){return new zg(t)}:UK,HK=GK,qK=EN,KK=$K,XK=VK,YK=AN,QK=HK,JK=aw,ZK=200;function eX(t,e,n){var r=-1,i=KK,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=XK;else if(o>=ZK){var u=e?null:QK(t);if(u)return JK(u);a=!1,i=YK,l=new qK}else l=e?[]:s;e:for(;++r<o;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(h)}else i(l,f,n)||(l!==s&&l.push(f),s.push(h))}return s}var tX=eX,nX=lo,rX=tX;function iX(t,e){return t&&t.length?rX(t,nX(e)):[]}var oX=iX;const rT=We(oX);function FN(t,e,n){return e===!0?rT(t,n):Se(e)?rT(t,e):t}function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}var aX=["ref"];function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UN(r.key),r)}}function lX(t,e,n){return e&&oT(t.prototype,e),n&&oT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uX(t,e,n){return e=_d(e),cX(t,BN()?Reflect.construct(e,n||[],_d(t).constructor):e.apply(t,n))}function cX(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fX(t)}function fX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BN=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(t)}function hX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kv(t,e)}function hm(t,e,n){return e=UN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UN(t){var e=dX(t,"string");return _s(e)=="symbol"?e:e+""}function dX(t,e){if(_s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pX(t,e){if(t==null)return{};var n=mX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gX(t){return t.value}function yX(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=pX(e,aX);return M.createElement(ow,n)}var aT=1,Vo=function(t){function e(){var n;sX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uX(this,e,[].concat(i)),hm(n,"lastBoundingBox",{width:-1,height:-1}),n}return hX(e,t),lX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aT||Math.abs(i.height-this.lastBoundingBox.height)>aT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Lr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,h=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((h||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Lr(Lr({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,f=Lr(Lr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},yX(o,Lr(Lr({},this.props),{},{payload:FN(h,u,gX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Lr(Lr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ie(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);hm(Vo,"displayName","Legend");hm(Vo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sT=Fc,vX=sw,bX=Sn,lT=sT?sT.isConcatSpreadable:void 0;function _X(t){return bX(t)||vX(t)||!!(lT&&t&&t[lT])}var wX=_X,xX=IN,SX=wX;function zN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=SX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?zN(s,e-1,n,r,i):xX(i,s):r||(i[i.length]=s)}return i}var WN=zN;function EX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var TX=EX,AX=TX,PX=AX(),IX=PX,OX=IX,kX=fm;function CX(t,e){return t&&OX(t,e,kX)}var GN=CX,NX=zc;function jX(t,e){return function(n,r){if(n==null)return n;if(!NX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var RX=jX,MX=GN,DX=RX,$X=DX(MX),fw=$X,LX=fw,VX=zc;function FX(t,e){var n=-1,r=VX(t)?Array(t.length):[];return LX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var HN=FX;function BX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var UX=BX,uT=Xs;function zX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=uT(t),a=e!==void 0,s=e===null,l=e===e,u=uT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var WX=zX,GX=WX;function HX(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=GX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var qX=HX,Wg=X_,KX=Y_,XX=lo,YX=HN,QX=UX,JX=CN,ZX=qX,eY=nl,tY=Sn;function nY(t,e,n){e.length?e=Wg(e,function(o){return tY(o)?function(a){return KX(a,o.length===1?o[0]:o)}:o}):e=[eY];var r=-1;e=Wg(e,JX(XX));var i=YX(t,function(o,a,s){var l=Wg(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return QX(i,function(o,a){return ZX(o,a,n)})}var rY=nY;function iY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var oY=iY,aY=oY,cT=Math.max;function sY(t,e,n){return e=cT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=cT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),aY(t,this,s)}}var lY=sY;function uY(t){return function(){return t}}var cY=uY,fY=la,hY=function(){try{var t=fY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),qN=hY,dY=cY,fT=qN,pY=nl,mY=fT?function(t,e){return fT(t,"toString",{configurable:!0,enumerable:!1,value:dY(e),writable:!0})}:pY,gY=mY,yY=800,vY=16,bY=Date.now;function _Y(t){var e=0,n=0;return function(){var r=bY(),i=vY-(r-n);if(n=r,i>0){if(++e>=yY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wY=_Y,xY=gY,SY=wY,EY=SY(xY),TY=EY,AY=nl,PY=lY,IY=TY;function OY(t,e){return IY(PY(t,e,AY),t+"")}var kY=OY,CY=G_,NY=zc,jY=lw,RY=so;function MY(t,e,n){if(!RY(n))return!1;var r=typeof e;return(r=="number"?NY(n)&&jY(e,n.length):r=="string"&&e in n)?CY(n[e],t):!1}var dm=MY,DY=WN,$Y=rY,LY=kY,hT=dm,VY=LY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&hT(t,e[0],e[1])?e=[]:n>2&&hT(e[0],e[1],e[2])&&(e=[e[0]]),$Y(t,DY(e,1),[])}),FY=VY;const hw=We(FY);function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function BY(t,e){return GY(t)||WY(t,e)||zY(t,e)||UY()}function UY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t,e){if(t){if(typeof t=="string")return dT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dT(t,e)}}function dT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function GY(t){if(Array.isArray(t))return t}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){HY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HY(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=KY(t,"string");return Wu(e)=="symbol"?e:e+""}function KY(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XY(t){return Array.isArray(t)&&Et(t[0])&&Et(t[1])?t.join(" ~ "):t}var YY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,h=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,b=e.labelFormatter,_=e.accessibilityLayer,v=_===void 0?!1:_,w=function(){if(h&&h.length){var R={padding:0,margin:0},N=(d?hw(h,d):h).map(function(U,W){if(U.type==="none")return null;var B=Gg({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),K=U.formatter||f||XY,L=U.value,G=U.name,Q=L,ne=G;if(K&&Q!=null&&ne!=null){var F=K(L,G,U,W,h);if(Array.isArray(F)){var Y=BY(F,2);Q=Y[0],ne=Y[1]}else Q=F}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:B},Et(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Et(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Q),M.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},O=Gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Gg({margin:0},u),P=!Ee(g),S=P?g:"",E=Ce("recharts-default-tooltip",p),I=Ce("recharts-tooltip-label",m);P&&b&&h!==void 0&&h!==null&&(S=b(g,h));var k=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Xv({className:E,style:O},k),M.createElement("p",{className:I,style:T},M.isValidElement(S)?S:"".concat(S)),w())};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Bf(t,e,n){return e=QY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=JY(t,"string");return Gu(e)=="symbol"?e:e+""}function JY(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nl="recharts-tooltip-wrapper",ZY={visibility:"hidden"};function eQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(Nl,Bf(Bf(Bf(Bf({},"".concat(Nl,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(Nl,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(Nl,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(Nl,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function mT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var h=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?h:f;if(a[r]){var d=h,p=l[r];return d<p?Math.max(f,l[r]):Math.max(h,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(h,l[r]):Math.max(f,l[r])}function tQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,h,f;return a.height>0&&a.width>0&&n?(h=mT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=mT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=tQ({translateX:h,translateY:f,useTranslate3d:s})):u=ZY,{cssProperties:u,cssClasses:eQ({translateX:h,translateY:f,coordinate:n})}}function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){Qv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XN(r.key),r)}}function iQ(t,e,n){return e&&vT(t.prototype,e),n&&vT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t,e,n){return e=wd(e),aQ(t,KN()?Reflect.construct(e,n||[],wd(t).constructor):e.apply(t,n))}function aQ(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sQ(t)}function sQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KN=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function lQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function Qv(t,e,n){return e=XN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XN(t){var e=uQ(t,"string");return ws(e)=="symbol"?e:e+""}function uQ(t,e){if(ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bT=1,cQ=function(t){function e(){var n;rQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oQ(this,e,[].concat(i)),Qv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qv(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return lQ(e,t),iQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>bT||Math.abs(r.height-this.state.lastBoundingBox.height)>bT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,h=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,v=i.wrapperStyle,w=nQ({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),O=w.cssClasses,T=w.cssProperties,P=yT(yT({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(E){r.wrapperNode=E}},u)}}])}($.PureComponent),fQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:fQ(),get:function(e){return ti[e]},set:function(e,n){if(typeof e=="string")ti[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ti[i]=e[i]})}}};function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QN(r.key),r)}}function dQ(t,e,n){return e&&xT(t.prototype,e),n&&xT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pQ(t,e,n){return e=xd(e),mQ(t,YN()?Reflect.construct(e,n||[],xd(t).constructor):e.apply(t,n))}function mQ(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gQ(t)}function gQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YN=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function yQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(t,e)}function dw(t,e,n){return e=QN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QN(t){var e=vQ(t,"string");return xs(e)=="symbol"?e:e+""}function vQ(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bQ(t){return t.dataKey}function _Q(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(YY,e)}var wr=function(t){function e(){return hQ(this,e),pQ(this,e,arguments)}return yQ(e,t),dQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,h=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,b=i.position,_=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,O=i.wrapperStyle,T=m??[];f&&T.length&&(T=FN(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,bQ));var P=T.length>0;return M.createElement(cQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:h,hasPayload:P,offset:p,position:b,reverseDirection:_,useTranslate3d:v,viewBox:w,wrapperStyle:O},_Q(u,wT(wT({},this.props),{},{payload:T})))}}])}($.PureComponent);dw(wr,"displayName","Tooltip");dw(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wQ=Mr,xQ=function(){return wQ.Date.now()},SQ=xQ,EQ=/\s/;function TQ(t){for(var e=t.length;e--&&EQ.test(t.charAt(e)););return e}var AQ=TQ,PQ=AQ,IQ=/^\s+/;function OQ(t){return t&&t.slice(0,PQ(t)+1).replace(IQ,"")}var kQ=OQ,CQ=kQ,ST=so,NQ=Xs,ET=0/0,jQ=/^[-+]0x[0-9a-f]+$/i,RQ=/^0b[01]+$/i,MQ=/^0o[0-7]+$/i,DQ=parseInt;function $Q(t){if(typeof t=="number")return t;if(NQ(t))return ET;if(ST(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ST(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CQ(t);var n=RQ.test(t);return n||MQ.test(t)?DQ(t.slice(2),n?2:8):jQ.test(t)?ET:+t}var JN=$Q,LQ=so,Hg=SQ,TT=JN,VQ="Expected a function",FQ=Math.max,BQ=Math.min;function UQ(t,e,n){var r,i,o,a,s,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(VQ);e=TT(e)||0,LQ(n)&&(h=!!n.leading,f="maxWait"in n,o=f?FQ(TT(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(P){var S=r,E=i;return r=i=void 0,u=P,a=t.apply(E,S),a}function m(P){return u=P,s=setTimeout(_,e),h?p(P):a}function g(P){var S=P-l,E=P-u,I=e-S;return f?BQ(I,o-E):I}function b(P){var S=P-l,E=P-u;return l===void 0||S>=e||S<0||f&&E>=o}function _(){var P=Hg();if(b(P))return v(P);s=setTimeout(_,g(P))}function v(P){return s=void 0,d&&r?p(P):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:v(Hg())}function T(){var P=Hg(),S=b(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),a}return T.cancel=w,T.flush=O,T}var zQ=UQ,WQ=zQ,GQ=so,HQ="Expected a function";function qQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(HQ);return GQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WQ(t,e,{leading:r,maxWait:e,trailing:i})}var KQ=qQ;const ZN=We(KQ);function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=QQ(t,"string");return Hu(e)=="symbol"?e:e+""}function QQ(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JQ(t,e){return nJ(t)||tJ(t,e)||eJ(t,e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(t,e){if(t){if(typeof t=="string")return PT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(t,e)}}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nJ(t){if(Array.isArray(t))return t}var rJ=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,h=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,b=t.id,_=t.className,v=t.onResize,w=t.style,O=w===void 0?{}:w,T=$.useRef(null),P=$.useRef();P.current=v,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),E=JQ(S,2),I=E[0],k=E[1],C=$.useCallback(function(N,U){k(function(W){var B=Math.round(N),K=Math.round(U);return W.containerWidth===B&&W.containerHeight===K?W:{containerWidth:B,containerHeight:K}})},[]);$.useEffect(function(){var N=function(G){var Q,ne=G[0].contentRect,F=ne.width,Y=ne.height;C(F,Y),(Q=P.current)===null||Q===void 0||Q.call(P,F,Y)};g>0&&(N=ZN(N,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),W=T.current.getBoundingClientRect(),B=W.width,K=W.height;return C(B,K),U.observe(T.current),function(){U.disconnect()}},[C,g]);var R=$.useMemo(function(){var N=I.containerWidth,U=I.containerHeight;if(N<0||U<0)return null;ei(Co(a)||Co(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Co(a)?N:a,B=Co(l)?U:l;n&&n>0&&(W?B=W/n:B&&(W=B*n),d&&B>d&&(B=d)),ei(W>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,B,a,l,h,f,n);var K=!Array.isArray(p)&&Zr(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?$.cloneElement(L,Uf({width:W,height:B},K?{style:Uf({height:"100%",width:"100%",maxHeight:B,maxWidth:W},L.props.style)}:{})):L})},[n,p,l,d,f,h,I,a]);return M.createElement("div",{id:b?"".concat(b):void 0,className:Ce("recharts-responsive-container",_),style:Uf(Uf({},O),{},{width:a,height:l,minWidth:h,minHeight:f,maxHeight:d}),ref:T},R)}),ej=function(e){return null};ej.displayName="Cell";function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return qu(e)=="symbol"?e:e+""}function aJ(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ba={widthCache:{},cacheCount:0},sJ=2e3,lJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OT="recharts_measurement_span";function uJ(t){var e=Zv({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var fu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ti.isSsr)return{width:0,height:0};var r=uJ(n),i=JSON.stringify({text:e,copyStyle:r});if(ba.widthCache[i])return ba.widthCache[i];try{var o=document.getElementById(OT);o||(o=document.createElement("span"),o.setAttribute("id",OT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Zv(Zv({},lJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ba.widthCache[i]=l,++ba.cacheCount>sJ&&(ba.cacheCount=0,ba.widthCache={}),l}catch{return{width:0,height:0}}},cJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Sd(t,e){return pJ(t)||dJ(t,e)||hJ(t,e)||fJ()}function fJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(t,e){if(t){if(typeof t=="string")return kT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(t,e)}}function kT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pJ(t){if(Array.isArray(t))return t}function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yJ(r.key),r)}}function gJ(t,e,n){return e&&CT(t.prototype,e),n&&CT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yJ(t){var e=vJ(t,"string");return Ku(e)=="symbol"?e:e+""}function vJ(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_J=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wJ=Object.keys(tj),Va="NaN";function xJ(t,e){return t*tj[e]}var zf=function(){function t(e,n){mJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bJ.test(n)&&(this.num=NaN,this.unit=""),wJ.includes(n)&&(this.num=xJ(e,n),this.unit="px")}return gJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_J.exec(n))!==null&&r!==void 0?r:[],o=Sd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function nj(t){if(t.includes(Va))return Va;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=NT.exec(e))!==null&&n!==void 0?n:[],i=Sd(r,4),o=i[1],a=i[2],s=i[3],l=zf.parse(o??""),u=zf.parse(s??""),h=a==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return Va;e=e.replace(NT,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=jT.exec(e))!==null&&f!==void 0?f:[],p=Sd(d,4),m=p[1],g=p[2],b=p[3],_=zf.parse(m??""),v=zf.parse(b??""),w=g==="+"?_.add(v):_.subtract(v);if(w.isNaN())return Va;e=e.replace(jT,w.toString())}return e}var RT=/\(([^()]*)\)/;function SJ(t){for(var e=t;e.includes("(");){var n=RT.exec(e),r=Sd(n,2),i=r[1];e=e.replace(RT,nj(i))}return e}function EJ(t){var e=t.replace(/\s+/g,"");return e=SJ(e),e=nj(e),e}function TJ(t){try{return EJ(t)}catch{return Va}}function qg(t){var e=TJ(t.slice(5,-1));return e===Va?"":e}var AJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PJ=["dx","dy","angle","className","breakAll"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function MT(t,e){if(t==null)return{};var n=IJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DT(t,e){return NJ(t)||CJ(t,e)||kJ(t,e)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function NJ(t){if(Array.isArray(t))return t}var rj=/[ \f\n\r\t\v\u2028\u2029]+/,ij=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ee(n)||(r?o=n.toString().split(""):o=n.toString().split(rj));var a=o.map(function(l){return{word:l,width:fu(l,i).width}}),s=r?0:fu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},jJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,h=ie(a),f=s,d=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(B,K){var L=K.word,G=K.width,Q=B[B.length-1];if(Q&&(i==null||o||Q.width+G+r<Number(i)))Q.words.push(L),Q.width+=G+r;else{var ne={words:[L],width:G};B.push(ne)}return B},[])},p=d(n),m=function(W){return W.reduce(function(B,K){return B.width>K.width?B:K})};if(!h)return p;for(var g="",b=function(W){var B=f.slice(0,W),K=ij({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,L=d(K),G=L.length>a||m(L).width>Number(i);return[G,L]},_=0,v=f.length-1,w=0,O;_<=v&&w<=f.length-1;){var T=Math.floor((_+v)/2),P=T-1,S=b(P),E=DT(S,2),I=E[0],k=E[1],C=b(T),R=DT(C,1),N=R[0];if(!I&&!N&&(_=T+1),I&&N&&(v=T-1),!I&&N){O=k;break}w++}return O||p},LT=function(e){var n=Ee(e)?[]:e.toString().split(rj);return[{words:n}]},RJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ti.isSsr){var l,u,h=ij({breakAll:a,children:i,style:o});if(h){var f=h.wordsWithComputedWidth,d=h.spaceWidth;l=f,u=d}else return LT(i);return jJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return LT(i)},VT="#808080",Ed=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,h=e.scaleToFit,f=h===void 0?!1:h,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,b=e.fill,_=b===void 0?VT:b,v=MT(e,AJ),w=$.useMemo(function(){return RJ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),O=v.dx,T=v.dy,P=v.angle,S=v.className,E=v.breakAll,I=MT(v,PJ);if(!Et(r)||!Et(o))return null;var k=r+(ie(O)?O:0),C=o+(ie(T)?T:0),R;switch(g){case"start":R=qg("calc(".concat(u,")"));break;case"middle":R=qg("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=qg("calc(".concat(w.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=w[0].width,W=v.width;N.push("scale(".concat((ie(W)?W/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(k,", ").concat(C,")")),N.length&&(I.transform=N.join(" ")),M.createElement("text",e0({},Ie(I,!0),{x:k,y:C,className:Ce("recharts-text",S),textAnchor:p,fill:_.includes("url")?VT:_}),w.map(function(B,K){var L=B.words.join(E?"":" ");return M.createElement("tspan",{x:k,dy:K===0?R:s,key:"".concat(L,"-").concat(K)},L)}))};function Xi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pw(t){let e,n,r;t.length!==2?(e=Xi,n=(s,l)=>Xi(t(s),l),r=(s,l)=>t(s)-l):(e=t===Xi||t===MJ?t:DJ,n=t,r=t);function i(s,l,u=0,h=s.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<0?u=f+1:h=f}while(u<h)}return u}function o(s,l,u=0,h=s.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function a(s,l,u=0,h=s.length){const f=i(s,l,u,h-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function DJ(){return 0}function oj(t){return t===null?NaN:+t}function*$J(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const LJ=pw(Xi),VJ=LJ.right;pw(oj).center;const Wc=VJ;class FT extends Map{constructor(e,n=UJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BT(this,e))}has(e){return super.has(BT(this,e))}set(e,n){return super.set(FJ(this,e),n)}delete(e){return super.delete(BJ(this,e))}}function BT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function FJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zJ(t=Xi){if(t===Xi)return aj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WJ=Math.sqrt(50),GJ=Math.sqrt(10),HJ=Math.sqrt(2);function Td(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=WJ?10:o>=GJ?5:o>=HJ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Td(t,e,n*2):[s,l,u]}function t0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Td(e,t,n):Td(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function n0(t,e,n){return e=+e,t=+t,n=+n,Td(t,e,n)[2]}function r0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?n0(e,t,n):n0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function zT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function sj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aj:zJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,h=Math.log(l),f=.5*Math.exp(2*h/3),d=.5*Math.sqrt(h*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));sj(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(jl(t,n,e),i(t[r],o)>0&&jl(t,n,r);a<s;){for(jl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?jl(t,n,s):(++s,jl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function jl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qJ(t,e,n){if(t=Float64Array.from($J(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zT(t);if(e>=1)return UT(t);var r,i=(r-1)*e,o=Math.floor(i),a=UT(sj(t,o).subarray(0,o+1)),s=zT(t.subarray(o+1));return a+(s-a)*(i-o)}}function KJ(t,e,n=oj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function XJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const i0=Symbol("implicit");function mw(){var t=new FT,e=[],n=[],r=i0;function i(o){let a=t.get(o);if(a===void 0){if(r!==i0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new FT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mw(e,n).unknown(r)},Jn.apply(i,arguments),i}function Xu(){var t=mw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,h=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*h,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var b=XJ(d).map(function(_){return m+o*_});return n(p?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),f()):h},t.copy=function(){return Xu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(h)},Jn.apply(f(),arguments)}function lj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lj(e())},t}function hu(){return lj(Xu.apply(null,arguments).paddingInner(1))}function gw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gc(){}var Yu=.7,Ad=1/Yu,Za="\\s*([+-]?\\d+)\\s*",Qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YJ=/^#([0-9a-f]{3,8})$/,QJ=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),JJ=new RegExp(`^rgb\\(${Or},${Or},${Or}\\)$`),ZJ=new RegExp(`^rgba\\(${Za},${Za},${Za},${Qu}\\)$`),eZ=new RegExp(`^rgba\\(${Or},${Or},${Or},${Qu}\\)$`),tZ=new RegExp(`^hsl\\(${Qu},${Or},${Or}\\)$`),nZ=new RegExp(`^hsla\\(${Qu},${Or},${Or},${Qu}\\)$`),WT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gw(Gc,Ju,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GT,formatHex:GT,formatHex8:rZ,formatHsl:iZ,formatRgb:HT,toString:HT});function GT(){return this.rgb().formatHex()}function rZ(){return this.rgb().formatHex8()}function iZ(){return cj(this).formatHsl()}function HT(){return this.rgb().formatRgb()}function Ju(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=YJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qT(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QJ.exec(t))?new vn(e[1],e[2],e[3],1):(e=JJ.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZJ.exec(t))?Wf(e[1],e[2],e[3],e[4]):(e=eZ.exec(t))?Wf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tZ.exec(t))?YT(e[1],e[2]/100,e[3]/100,1):(e=nZ.exec(t))?YT(e[1],e[2]/100,e[3]/100,e[4]):WT.hasOwnProperty(t)?qT(WT[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function qT(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function Wf(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function oZ(t){return t instanceof Gc||(t=Ju(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function o0(t,e,n,r){return arguments.length===1?oZ(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gw(vn,o0,uj(Gc,{brighter(t){return t=t==null?Ad:Math.pow(Ad,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yu:Math.pow(Yu,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(Fo(this.r),Fo(this.g),Fo(this.b),Pd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KT,formatHex:KT,formatHex8:aZ,formatRgb:XT,toString:XT}));function KT(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function aZ(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function XT(){const t=Pd(this.opacity);return`${t===1?"rgb(":"rgba("}${Fo(this.r)}, ${Fo(this.g)}, ${Fo(this.b)}${t===1?")":`, ${t})`}`}function Pd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function No(t){return t=Fo(t),(t<16?"0":"")+t.toString(16)}function YT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new cr(t,e,n,r)}function cj(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);if(t instanceof Gc||(t=Ju(t)),!t)return new cr;if(t instanceof cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new cr(a,s,l,t.opacity)}function sZ(t,e,n,r){return arguments.length===1?cj(t):new cr(t,e,n,r??1)}function cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gw(cr,sZ,uj(Gc,{brighter(t){return t=t==null?Ad:Math.pow(Ad,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yu:Math.pow(Yu,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(Kg(t>=240?t-240:t+120,i,r),Kg(t,i,r),Kg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new cr(QT(this.h),Gf(this.s),Gf(this.l),Pd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pd(this.opacity);return`${t===1?"hsl(":"hsla("}${QT(this.h)}, ${Gf(this.s)*100}%, ${Gf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QT(t){return t=(t||0)%360,t<0?t+360:t}function Gf(t){return Math.max(0,Math.min(1,t||0))}function Kg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yw=t=>()=>t;function lZ(t,e){return function(n){return t+n*e}}function uZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cZ(t){return(t=+t)==1?fj:function(e,n){return n-e?uZ(e,n,t):yw(isNaN(e)?n:e)}}function fj(t,e){var n=e-t;return n?lZ(t,n):yw(isNaN(t)?e:t)}const JT=function t(e){var n=cZ(e);function r(i,o){var a=n((i=o0(i)).r,(o=o0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=fj(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function fZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=rl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function pZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Id(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var a0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xg=new RegExp(a0.source,"g");function gZ(t){return function(){return t}}function yZ(t){return function(e){return t(e)+""}}function vZ(t,e){var n=a0.lastIndex=Xg.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=a0.exec(t))&&(i=Xg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Id(r,i)})),n=Xg.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?yZ(l[0].x):gZ(e):(e=l.length,function(u){for(var h=0,f;h<e;++h)s[(f=l[h]).i]=f.x(u);return s.join("")})}function rl(t,e){var n=typeof e,r;return e==null||n==="boolean"?yw(e):(n==="number"?Id:n==="string"?(r=Ju(e))?(e=r,JT):vZ:e instanceof Ju?JT:e instanceof Date?pZ:hZ(e)?fZ:Array.isArray(e)?dZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mZ:Id)(t,e)}function vw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bZ(t,e){e===void 0&&(e=t,t=rl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function _Z(t){return function(){return t}}function Od(t){return+t}var ZT=[0,1];function un(t){return t}function s0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_Z(isNaN(e)?NaN:.5)}function wZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=s0(i,r),o=n(a,o)):(r=s0(r,i),o=n(o,a)),function(s){return o(r(s))}}function SZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=s0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Wc(t,s,1,r)-1;return o[l](i[l](s))}}function Hc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pm(){var t=ZT,e=ZT,n=rl,r,i,o,a=un,s,l,u;function h(){var d=Math.min(t.length,e.length);return a!==un&&(a=wZ(t[0],t[d-1])),s=d>2?SZ:xZ,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),Id)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Od),h()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=vw,h()},f.clamp=function(d){return arguments.length?(a=d?!0:un,h()):a!==un},f.interpolate=function(d){return arguments.length?(n=d,h()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,h()}}function bw(){return pm()(un,un)}function EZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ss(t){return t=kd(Math.abs(t)),t?t[1]:NaN}function TZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function AZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var PZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zu(t){if(!(e=PZ.exec(t)))throw new Error("invalid format: "+t);var e;return new _w({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zu.prototype=_w.prototype;function _w(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hj;function OZ(t,e){var n=kd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kd(t,Math.max(0,e+o-1))[0]}function eA(t,e){var n=kd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eA(t*100,e),r:eA,s:OZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nA(t){return t}var rA=Array.prototype.map,iA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kZ(t){var e=t.grouping===void 0||t.thousands===void 0?nA:TZ(rA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?nA:AZ(rA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Zu(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,b=f.zero,_=f.width,v=f.comma,w=f.precision,O=f.trim,T=f.type;T==="n"?(v=!0,T="g"):tA[T]||(w===void 0&&(w=12),O=!0,T="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=g==="$"?r:/[%p]/.test(T)?a:"",E=tA[T],I=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(C){var R=P,N=S,U,W,B;if(T==="c")N=E(C)+N,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),w),O&&(C=IZ(C)),K&&+C==0&&m!=="+"&&(K=!1),R=(K?m==="("?m:s:m==="-"||m==="("?"":m)+R,N=(T==="s"?iA[8+hj/3]:"")+N+(K&&m==="("?")":""),I){for(U=-1,W=C.length;++U<W;)if(B=C.charCodeAt(U),48>B||B>57){N=(B===46?i+C.slice(U+1):C.slice(U))+N,C=C.slice(0,U);break}}}v&&!b&&(C=e(C,1/0));var L=R.length+C.length+N.length,G=L<_?new Array(_-L+1).join(d):"";switch(v&&b&&(C=e(G+C,G.length?_-N.length:1/0),G=""),p){case"<":C=R+C+N+G;break;case"=":C=R+G+C+N;break;case"^":C=G.slice(0,L=G.length>>1)+R+C+N+G.slice(L);break;default:C=G+R+C+N;break}return o(C)}return k.toString=function(){return f+""},k}function h(f,d){var p=u((f=Zu(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ss(d)/3)))*3,g=Math.pow(10,-m),b=iA[8+m/3];return function(_){return p(g*_)+b}}return{format:u,formatPrefix:h}}var Hf,ww,dj;CZ({thousands:",",grouping:[3],currency:["$",""]});function CZ(t){return Hf=kZ(t),ww=Hf.format,dj=Hf.formatPrefix,Hf}function NZ(t){return Math.max(0,-Ss(Math.abs(t)))}function jZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ss(e)/3)))*3-Ss(Math.abs(t)))}function RZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ss(e)-Ss(t))+1}function pj(t,e,n,r){var i=r0(t,e,n),o;switch(r=Zu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=jZ(i,a))&&(r.precision=o),dj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=RZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return ww(r)}function uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return t0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,h=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);h-- >0;){if(u=n0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Cd(){var t=bw();return t.copy=function(){return Hc(t,Cd())},Jn.apply(t,arguments),uo(t)}function mj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Od),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return mj(t).unknown(e)},t=arguments.length?Array.from(t,Od):[0,1],uo(n)}function gj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function oA(t){return Math.log(t)}function aA(t){return Math.exp(t)}function MZ(t){return-Math.log(-t)}function DZ(t){return-Math.exp(-t)}function $Z(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LZ(t){return t===10?$Z:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sA(t){return(e,n)=>-t(-e,n)}function xw(t){const e=t(oA,aA),n=e.domain;let r=10,i,o;function a(){return i=VZ(r),o=LZ(r),n()[0]<0?(i=sA(i),o=sA(o),t(MZ,DZ)):t(oA,aA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],h=l[l.length-1];const f=h<u;f&&([u,h]=[h,u]);let d=i(u),p=i(h),m,g;const b=s==null?10:+s;let _=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>h)break;_.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>h)break;_.push(g)}_.length*2<b&&(_=t0(u,h,b))}else _=t0(d,p,Math.min(p-d,b)).map(o);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zu(l)).precision==null&&(l.trim=!0),l=ww(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return h=>{let f=h/o(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=u?l(h):""}},e.nice=()=>n(gj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function yj(){const t=xw(pm()).domain([1,10]);return t.copy=()=>Hc(t,yj()).base(t.base()),Jn.apply(t,arguments),t}function lA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sw(t){var e=1,n=t(lA(e),uA(e));return n.constant=function(r){return arguments.length?t(lA(e=+r),uA(e)):e},uo(n)}function vj(){var t=Sw(pm());return t.copy=function(){return Hc(t,vj()).constant(t.constant())},Jn.apply(t,arguments)}function cA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BZ(t){return t<0?-t*t:t*t}function Ew(t){var e=t(un,un),n=1;function r(){return n===1?t(un,un):n===.5?t(FZ,BZ):t(cA(n),cA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},uo(e)}function Tw(){var t=Ew(pm());return t.copy=function(){return Hc(t,Tw()).exponent(t.exponent())},Jn.apply(t,arguments),t}function UZ(){return Tw.apply(null,arguments).exponent(.5)}function fA(t){return Math.sign(t)*t*t}function zZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bj(){var t=bw(),e=[0,1],n=!1,r;function i(o){var a=zZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(fA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Od)).map(fA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Jn.apply(i,arguments),uo(i)}function _j(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=KJ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Wc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Xi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _j().domain(t).range(e).unknown(r)},Jn.apply(o,arguments)}function wj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Wc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return wj().domain([t,e]).range(i).unknown(o)},Jn.apply(uo(a),arguments)}function xj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Wc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xj().domain(t).range(e).unknown(n)},Jn.apply(i,arguments)}const Yg=new Date,Qg=new Date;function At(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>At(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Yg.setTime(+o),Qg.setTime(+a),t(Yg),t(Qg),Math.floor(n(Yg,Qg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Nd=At(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?At(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nd);Nd.range;const Kr=1e3,zn=Kr*60,Xr=zn*60,fi=Xr*24,Aw=fi*7,hA=fi*30,Jg=fi*365,jo=At(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCSeconds());jo.range;const Pw=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());Pw.range;const Iw=At(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());Iw.range;const Ow=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getHours());Ow.range;const kw=At(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCHours());kw.range;const qc=At(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/fi,t=>t.getDate()-1);qc.range;const mm=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);mm.range;const Sj=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));Sj.range;function ua(t){return At(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zn)/Aw)}const gm=ua(0),jd=ua(1),WZ=ua(2),GZ=ua(3),Es=ua(4),HZ=ua(5),qZ=ua(6);gm.range;jd.range;WZ.range;GZ.range;Es.range;HZ.range;qZ.range;function ca(t){return At(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Aw)}const ym=ca(0),Rd=ca(1),KZ=ca(2),XZ=ca(3),Ts=ca(4),YZ=ca(5),QZ=ca(6);ym.range;Rd.range;KZ.range;XZ.range;Ts.range;YZ.range;QZ.range;const Cw=At(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cw.range;const Nw=At(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nw.range;const hi=At(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hi.range;const di=At(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});di.range;function Ej(t,e,n,r,i,o){const a=[[jo,1,Kr],[jo,5,5*Kr],[jo,15,15*Kr],[jo,30,30*Kr],[o,1,zn],[o,5,5*zn],[o,15,15*zn],[o,30,30*zn],[i,1,Xr],[i,3,3*Xr],[i,6,6*Xr],[i,12,12*Xr],[r,1,fi],[r,2,2*fi],[n,1,Aw],[e,1,hA],[e,3,3*hA],[t,1,Jg]];function s(u,h,f){const d=h<u;d&&([u,h]=[h,u]);const p=f&&typeof f.range=="function"?f:l(u,h,f),m=p?p.range(u,+h+1):[];return d?m.reverse():m}function l(u,h,f){const d=Math.abs(h-u)/f,p=pw(([,,b])=>b).right(a,d);if(p===a.length)return t.every(r0(u/Jg,h/Jg,f));if(p===0)return Nd.every(Math.max(r0(u,h,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[JZ,ZZ]=Ej(di,Nw,ym,Sj,kw,Iw),[eee,tee]=Ej(hi,Cw,gm,qc,Ow,Pw);function Zg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ey(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ml(i),h=Dl(i),f=Ml(o),d=Dl(o),p=Ml(a),m=Dl(a),g=Ml(s),b=Dl(s),_=Ml(l),v=Dl(l),w={a:K,A:L,b:G,B:Q,c:null,d:vA,e:vA,f:Tee,g:Mee,G:$ee,H:xee,I:See,j:Eee,L:Tj,m:Aee,M:Pee,p:ne,q:F,Q:wA,s:xA,S:Iee,u:Oee,U:kee,V:Cee,w:Nee,W:jee,x:null,X:null,y:Ree,Y:Dee,Z:Lee,"%":_A},O={a:Y,A:oe,b:he,B:me,c:null,d:bA,e:bA,f:Uee,g:Jee,G:ete,H:Vee,I:Fee,j:Bee,L:Pj,m:zee,M:Wee,p:ee,q:de,Q:wA,s:xA,S:Gee,u:Hee,U:qee,V:Kee,w:Xee,W:Yee,x:null,X:null,y:Qee,Y:Zee,Z:tte,"%":_A},T={a:k,A:C,b:R,B:N,c:U,d:gA,e:gA,f:vee,g:mA,G:pA,H:yA,I:yA,j:pee,L:yee,m:dee,M:mee,p:I,q:hee,Q:_ee,s:wee,S:gee,u:see,U:lee,V:uee,w:aee,W:cee,x:W,X:B,y:mA,Y:pA,Z:fee,"%":bee};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),O.x=P(n,O),O.X=P(r,O),O.c=P(e,O);function P(X,ae){return function(ge){var q=[],Ne=-1,fe=0,$e=X.length,V,se,Je;for(ge instanceof Date||(ge=new Date(+ge));++Ne<$e;)X.charCodeAt(Ne)===37&&(q.push(X.slice(fe,Ne)),(se=dA[V=X.charAt(++Ne)])!=null?V=X.charAt(++Ne):se=V==="e"?" ":"0",(Je=ae[V])&&(V=Je(ge,se)),q.push(V),fe=Ne+1);return q.push(X.slice(fe,Ne)),q.join("")}}function S(X,ae){return function(ge){var q=Rl(1900,void 0,1),Ne=E(q,X,ge+="",0),fe,$e;if(Ne!=ge.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(fe=ey(Rl(q.y,0,1)),$e=fe.getUTCDay(),fe=$e>4||$e===0?Rd.ceil(fe):Rd(fe),fe=mm.offset(fe,(q.V-1)*7),q.y=fe.getUTCFullYear(),q.m=fe.getUTCMonth(),q.d=fe.getUTCDate()+(q.w+6)%7):(fe=Zg(Rl(q.y,0,1)),$e=fe.getDay(),fe=$e>4||$e===0?jd.ceil(fe):jd(fe),fe=qc.offset(fe,(q.V-1)*7),q.y=fe.getFullYear(),q.m=fe.getMonth(),q.d=fe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),$e="Z"in q?ey(Rl(q.y,0,1)).getUTCDay():Zg(Rl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-($e+5)%7:q.w+q.U*7-($e+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,ey(q)):Zg(q)}}function E(X,ae,ge,q){for(var Ne=0,fe=ae.length,$e=ge.length,V,se;Ne<fe;){if(q>=$e)return-1;if(V=ae.charCodeAt(Ne++),V===37){if(V=ae.charAt(Ne++),se=T[V in dA?ae.charAt(Ne++):V],!se||(q=se(X,ge,q))<0)return-1}else if(V!=ge.charCodeAt(q++))return-1}return q}function I(X,ae,ge){var q=u.exec(ae.slice(ge));return q?(X.p=h.get(q[0].toLowerCase()),ge+q[0].length):-1}function k(X,ae,ge){var q=p.exec(ae.slice(ge));return q?(X.w=m.get(q[0].toLowerCase()),ge+q[0].length):-1}function C(X,ae,ge){var q=f.exec(ae.slice(ge));return q?(X.w=d.get(q[0].toLowerCase()),ge+q[0].length):-1}function R(X,ae,ge){var q=_.exec(ae.slice(ge));return q?(X.m=v.get(q[0].toLowerCase()),ge+q[0].length):-1}function N(X,ae,ge){var q=g.exec(ae.slice(ge));return q?(X.m=b.get(q[0].toLowerCase()),ge+q[0].length):-1}function U(X,ae,ge){return E(X,e,ae,ge)}function W(X,ae,ge){return E(X,n,ae,ge)}function B(X,ae,ge){return E(X,r,ae,ge)}function K(X){return a[X.getDay()]}function L(X){return o[X.getDay()]}function G(X){return l[X.getMonth()]}function Q(X){return s[X.getMonth()]}function ne(X){return i[+(X.getHours()>=12)]}function F(X){return 1+~~(X.getMonth()/3)}function Y(X){return a[X.getUTCDay()]}function oe(X){return o[X.getUTCDay()]}function he(X){return l[X.getUTCMonth()]}function me(X){return s[X.getUTCMonth()]}function ee(X){return i[+(X.getUTCHours()>=12)]}function de(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ae=P(X+="",w);return ae.toString=function(){return X},ae},parse:function(X){var ae=S(X+="",!1);return ae.toString=function(){return X},ae},utcFormat:function(X){var ae=P(X+="",O);return ae.toString=function(){return X},ae},utcParse:function(X){var ae=S(X+="",!0);return ae.toString=function(){return X},ae}}}var dA={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,ree=/^%/,iee=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oee(t){return t.replace(iee,"\\$&")}function Ml(t){return new RegExp("^(?:"+t.map(oee).join("|")+")","i")}function Dl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aee(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function see(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pA(t,e,n){var r=Ct.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mA(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hee(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gA(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yA(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Ct.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bee(t,e,n){var r=ree.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _ee(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vA(t,e){return Me(t.getDate(),e,2)}function xee(t,e){return Me(t.getHours(),e,2)}function See(t,e){return Me(t.getHours()%12||12,e,2)}function Eee(t,e){return Me(1+qc.count(hi(t),t),e,3)}function Tj(t,e){return Me(t.getMilliseconds(),e,3)}function Tee(t,e){return Tj(t,e)+"000"}function Aee(t,e){return Me(t.getMonth()+1,e,2)}function Pee(t,e){return Me(t.getMinutes(),e,2)}function Iee(t,e){return Me(t.getSeconds(),e,2)}function Oee(t){var e=t.getDay();return e===0?7:e}function kee(t,e){return Me(gm.count(hi(t)-1,t),e,2)}function Aj(t){var e=t.getDay();return e>=4||e===0?Es(t):Es.ceil(t)}function Cee(t,e){return t=Aj(t),Me(Es.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function Nee(t){return t.getDay()}function jee(t,e){return Me(jd.count(hi(t)-1,t),e,2)}function Ree(t,e){return Me(t.getFullYear()%100,e,2)}function Mee(t,e){return t=Aj(t),Me(t.getFullYear()%100,e,2)}function Dee(t,e){return Me(t.getFullYear()%1e4,e,4)}function $ee(t,e){var n=t.getDay();return t=n>=4||n===0?Es(t):Es.ceil(t),Me(t.getFullYear()%1e4,e,4)}function Lee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function bA(t,e){return Me(t.getUTCDate(),e,2)}function Vee(t,e){return Me(t.getUTCHours(),e,2)}function Fee(t,e){return Me(t.getUTCHours()%12||12,e,2)}function Bee(t,e){return Me(1+mm.count(di(t),t),e,3)}function Pj(t,e){return Me(t.getUTCMilliseconds(),e,3)}function Uee(t,e){return Pj(t,e)+"000"}function zee(t,e){return Me(t.getUTCMonth()+1,e,2)}function Wee(t,e){return Me(t.getUTCMinutes(),e,2)}function Gee(t,e){return Me(t.getUTCSeconds(),e,2)}function Hee(t){var e=t.getUTCDay();return e===0?7:e}function qee(t,e){return Me(ym.count(di(t)-1,t),e,2)}function Ij(t){var e=t.getUTCDay();return e>=4||e===0?Ts(t):Ts.ceil(t)}function Kee(t,e){return t=Ij(t),Me(Ts.count(di(t),t)+(di(t).getUTCDay()===4),e,2)}function Xee(t){return t.getUTCDay()}function Yee(t,e){return Me(Rd.count(di(t)-1,t),e,2)}function Qee(t,e){return Me(t.getUTCFullYear()%100,e,2)}function Jee(t,e){return t=Ij(t),Me(t.getUTCFullYear()%100,e,2)}function Zee(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function ete(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ts(t):Ts.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function tte(){return"+0000"}function _A(){return"%"}function wA(t){return+t}function xA(t){return Math.floor(+t/1e3)}var _a,Oj,kj;nte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nte(t){return _a=nee(t),Oj=_a.format,_a.parse,kj=_a.utcFormat,_a.utcParse,_a}function rte(t){return new Date(t)}function ite(t){return t instanceof Date?+t:+new Date(+t)}function jw(t,e,n,r,i,o,a,s,l,u){var h=bw(),f=h.invert,d=h.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),v=u("%b %d"),w=u("%B"),O=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?m:a(P)<P?g:o(P)<P?b:r(P)<P?i(P)<P?_:v:n(P)<P?w:O)(P)}return h.invert=function(P){return new Date(f(P))},h.domain=function(P){return arguments.length?d(Array.from(P,ite)):d().map(rte)},h.ticks=function(P){var S=d();return t(S[0],S[S.length-1],P??10)},h.tickFormat=function(P,S){return S==null?T:u(S)},h.nice=function(P){var S=d();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?d(gj(S,P)):h},h.copy=function(){return Hc(h,jw(t,e,n,r,i,o,a,s,l,u))},h}function ote(){return Jn.apply(jw(eee,tee,hi,Cw,gm,qc,Ow,Pw,jo,Oj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ate(){return Jn.apply(jw(JZ,ZZ,di,Nw,ym,mm,kw,Iw,jo,kj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vm(){var t=0,e=1,n,r,i,o,a=un,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function h(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=h(rl),u.rangeRound=h(vw),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function co(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cj(){var t=uo(vm()(un));return t.copy=function(){return co(t,Cj())},vi.apply(t,arguments)}function Nj(){var t=xw(vm()).domain([1,10]);return t.copy=function(){return co(t,Nj()).base(t.base())},vi.apply(t,arguments)}function jj(){var t=Sw(vm());return t.copy=function(){return co(t,jj()).constant(t.constant())},vi.apply(t,arguments)}function Rw(){var t=Ew(vm());return t.copy=function(){return co(t,Rw()).exponent(t.exponent())},vi.apply(t,arguments)}function ste(){return Rw.apply(null,arguments).exponent(.5)}function Rj(){var t=[],e=un;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qJ(t,o/r))},n.copy=function(){return Rj(e).domain(t)},vi.apply(n,arguments)}function bm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=un,h,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+h(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=h(t=+t),o=h(e=+e),a=h(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(b){var _,v,w;return arguments.length?([_,v,w]=b,u=bZ(g,[_,v,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(rl),p.rangeRound=m(vw),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return h=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Mj(){var t=uo(bm()(un));return t.copy=function(){return co(t,Mj())},vi.apply(t,arguments)}function Dj(){var t=xw(bm()).domain([.1,1,10]);return t.copy=function(){return co(t,Dj()).base(t.base())},vi.apply(t,arguments)}function $j(){var t=Sw(bm());return t.copy=function(){return co(t,$j()).constant(t.constant())},vi.apply(t,arguments)}function Mw(){var t=Ew(bm());return t.copy=function(){return co(t,Mw()).exponent(t.exponent())},vi.apply(t,arguments)}function lte(){return Mw.apply(null,arguments).exponent(.5)}const SA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xu,scaleDiverging:Mj,scaleDivergingLog:Dj,scaleDivergingPow:Mw,scaleDivergingSqrt:lte,scaleDivergingSymlog:$j,scaleIdentity:mj,scaleImplicit:i0,scaleLinear:Cd,scaleLog:yj,scaleOrdinal:mw,scalePoint:hu,scalePow:Tw,scaleQuantile:_j,scaleQuantize:wj,scaleRadial:bj,scaleSequential:Cj,scaleSequentialLog:Nj,scaleSequentialPow:Rw,scaleSequentialQuantile:Rj,scaleSequentialSqrt:ste,scaleSequentialSymlog:jj,scaleSqrt:UZ,scaleSymlog:vj,scaleThreshold:xj,scaleTime:ote,scaleUtc:ate,tickFormat:pj},Symbol.toStringTag,{value:"Module"}));var ute=Xs;function cte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!ute(a):n(a,s)))var s=a,l=o}return l}var Lj=cte;function fte(t,e){return t>e}var hte=fte,dte=Lj,pte=hte,mte=nl;function gte(t){return t&&t.length?dte(t,mte,pte):void 0}var yte=gte;const _m=We(yte);function vte(t,e){return t<e}var bte=vte,_te=Lj,wte=bte,xte=nl;function Ste(t){return t&&t.length?_te(t,xte,wte):void 0}var Ete=Ste;const wm=We(Ete);var Tte=X_,Ate=lo,Pte=HN,Ite=Sn;function Ote(t,e){var n=Ite(t)?Tte:Pte;return n(t,Ate(e))}var kte=Ote,Cte=WN,Nte=kte;function jte(t,e){return Cte(Nte(t,e),1)}var Rte=jte;const Mte=We(Rte);var Dte=cw;function $te(t,e){return Dte(t,e)}var Lte=$te;const xm=We(Lte);var il=1e9,Vte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,rt=!0,Yn="[DecimalError] ",Bo=Yn+"Invalid argument: ",Dw=Yn+"Exponent out of range: ",ol=Math.floor,To=Math.pow,Fte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,It=1e7,Ye=7,Vj=9007199254740991,Md=ol(Vj/Ye),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ye;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return ni(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return ze(ni(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return vt(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(On))throw Error(Yn+"NaN");if(n.s<1)throw Error(Yn+(n.s?"NaN":"-Infinity"));return n.eq(On)?new r(0):(rt=!1,e=ni(ec(n,o),ec(t,o),o),rt=!0,ze(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Uj(e,t):Fj(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yn+"NaN");return n.s?(rt=!1,e=ni(n,t,0,1).times(t),rt=!0,n.minus(e)):ze(new r(n),i)};ue.naturalExponential=ue.exp=function(){return Bj(this)};ue.naturalLogarithm=ue.ln=function(){return ec(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fj(e,t):Uj(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bo+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Ye+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yn+"NaN")}for(t=vt(s),rt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Sr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ol((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ni(s,o,a+2)).times(.5),Sr(o.d).slice(0,a)===(e=Sr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return rt=!0,ze(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,a,s,l,u,h=this,f=h.constructor,d=h.d,p=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%It|0,e=s/It|0;o[i]=(o[i]+e)%It|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,rt?ze(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Rr(t,0,il),e===void 0?e=r.rounding:Rr(e,0,8),ze(n,t+vt(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ea(r,!0):(Rr(t,0,il),e===void 0?e=i.rounding:Rr(e,0,8),r=ze(new i(r),t+1,e),n=ea(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ea(i):(Rr(t,0,il),e===void 0?e=o.rounding:Rr(e,0,8),r=ze(new o(i),t+vt(i)+1,e),n=ea(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return ze(new e(t),vt(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,h=+(t=new l(t));if(!t.s)return new l(On);if(s=new l(s),!s.s){if(t.s<1)throw Error(Yn+"Infinity");return s}if(s.eq(On))return s;if(r=l.precision,t.eq(On))return ze(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=h<0?-h:h)<=Vj){for(i=new l(On),e=Math.ceil(r/Ye+4),rt=!1;n%2&&(i=i.times(s),TA(i.d,e)),n=ol(n/2),n!==0;)s=s.times(s),TA(s.d,e);return rt=!0,t.s<0?new l(On).div(i):ze(i,r)}}else if(o<0)throw Error(Yn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,rt=!1,i=t.times(ec(s,r+u)),rt=!0,i=Bj(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=vt(i),r=ea(i,n<=o.toExpNeg||n>=o.toExpPos)):(Rr(t,1,il),e===void 0?e=o.rounding:Rr(e,0,8),i=ze(new o(i),t,e),n=vt(i),r=ea(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Rr(t,1,il),e===void 0?e=r.rounding:Rr(e,0,8)),ze(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return ea(t,e<=n.toExpNeg||e>=n.toExpPos)};function Fj(t,e){var n,r,i,o,a,s,l,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),rt?ze(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ye),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/It|0,l[o]%=It;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,rt?ze(e,f):e}function Rr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bo+t)}function Sr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ye-r.length,n&&(o+=Ai(n)),o+=r;a=t[e],r=a+"",n=Ye-r.length,n&&(o+=Ai(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ni=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%It|0,a=o/It|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*It+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,h,f,d,p,m,g,b,_,v,w,O,T,P,S,E,I=r.constructor,k=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Yn+"Division by zero");for(l=r.e-i.e,S=R.length,T=C.length,p=new I(k),m=p.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--l,o==null?v=o=I.precision:a?v=o+(vt(r)-vt(i))+1:v=o,v<0)return new I(0);if(v=v/Ye+2|0,u=0,S==1)for(h=0,R=R[0],v++;(u<T||h)&&v--;u++)w=h*It+(C[u]||0),m[u]=w/R|0,h=w%R|0;else{for(h=It/(R[0]+1)|0,h>1&&(R=t(R,h),C=t(C,h),S=R.length,T=C.length),O=S,g=C.slice(0,S),b=g.length;b<S;)g[b++]=0;E=R.slice(),E.unshift(0),P=R[0],R[1]>=It/2&&++P;do h=0,s=e(R,g,S,b),s<0?(_=g[0],S!=b&&(_=_*It+(g[1]||0)),h=_/P|0,h>1?(h>=It&&(h=It-1),f=t(R,h),d=f.length,b=g.length,s=e(f,g,d,b),s==1&&(h--,n(f,S<d?E:R,d))):(h==0&&(s=h=1),f=R.slice()),d=f.length,d<b&&f.unshift(0),n(g,f,b),s==-1&&(b=g.length,s=e(R,g,S,b),s<1&&(h++,n(g,S<b?E:R,b))),b=g.length):s===0&&(h++,g=[0]),m[u++]=h,s&&g[0]?g[b++]=C[O]||0:(g=[C[O]],b=1);while((O++<T||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,ze(p,a?o+vt(p)+1:o)}}();function Bj(t,e){var n,r,i,o,a,s,l=0,u=0,h=t.constructor,f=h.precision;if(vt(t)>16)throw Error(Dw+vt(t));if(!t.s)return new h(On);for(e==null?(rt=!1,s=f):s=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(To(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new h(On),h.precision=s;;){if(i=ze(i.times(t),s),n=n.times(++l),a=o.plus(ni(i,n,s)),Sr(a.d).slice(0,s)===Sr(o.d).slice(0,s)){for(;u--;)o=ze(o.times(o),s);return h.precision=f,e==null?(rt=!0,ze(o,f)):o}o=a}}function vt(t){for(var e=t.e*Ye,n=t.d[0];n>=10;n/=10)e++;return e}function ty(t,e,n){if(e>t.LN10.sd())throw rt=!0,n&&(t.precision=n),Error(Yn+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function Ai(t){for(var e="";t--;)e+="0";return e}function ec(t,e){var n,r,i,o,a,s,l,u,h,f=1,d=10,p=t,m=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(Yn+(p.s?"NaN":"-Infinity"));if(p.eq(On))return new g(0);if(e==null?(rt=!1,u=b):u=e,p.eq(10))return e==null&&(rt=!0),ty(g,u);if(u+=d,g.precision=u,n=Sr(m),r=n.charAt(0),o=vt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Sr(p.d),r=n.charAt(0),f++;o=vt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=ty(g,u+2,b).times(o+""),p=ec(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=b,e==null?(rt=!0,ze(p,b)):p;for(s=a=p=ni(p.minus(On),p.plus(On),u),h=ze(p.times(p),u),i=3;;){if(a=ze(a.times(h),u),l=s.plus(ni(a,new g(i),u)),Sr(l.d).slice(0,u)===Sr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(ty(g,u+2,b).times(o+""))),s=ni(s,new g(f),u),g.precision=b,e==null?(rt=!0,ze(s,b)):s;s=l,i+=2}}function EA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ol(n/Ye),t.d=[],r=(n+1)%Ye,n<0&&(r+=Ye),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ye;r<i;)t.d.push(+e.slice(r,r+=Ye));e=e.slice(r),r=Ye-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),rt&&(t.e>Md||t.e<-Md))throw Error(Dw+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,a,s,l,u,h,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ye,i=e,u=f[h=0];else{if(h=Math.ceil((r+1)/Ye),o=f.length,h>=o)return t;for(u=o=f[h],a=1;o>=10;o/=10)a++;r%=Ye,i=r-Ye+a}if(n!==void 0&&(o=To(10,a-i-1),s=u/o%10|0,l=e<0||f[h+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/To(10,a-i):0:f[h-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=vt(t),f.length=1,e=e-o-1,f[0]=To(10,(Ye-e%Ye)%Ye),t.e=ol(-e/Ye)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=h,o=1,h--):(f.length=h+1,o=To(10,Ye-r),f[h]=i>0?(u/To(10,a-i)%To(10,i)|0)*o:0),l)for(;;)if(h==0){(f[0]+=o)==It&&(f[0]=1,++t.e);break}else{if(f[h]+=o,f[h]!=It)break;f[h--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(rt&&(t.e>Md||t.e<-Md))throw Error(Dw+vt(t));return t}function Uj(t,e){var n,r,i,o,a,s,l,u,h,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),rt?ze(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(h=a<0,h?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Ye),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){h=l[i]<f[i];break}a=0}for(h&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=It-1;--l[o],l[i]+=It}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,rt?ze(e,p):e):new d(0)}function ea(t,e,n){var r,i=vt(t),o=Sr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ai(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ai(-i-1)+o,n&&(r=n-a)>0&&(o+=Ai(r))):i>=a?(o+=Ai(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ai(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ai(r))),t.s<0?"-"+o:o}function TA(t,e){if(t.length>e)return t.length=e,!0}function zj(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Bo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return EA(a,o.toString())}else if(typeof o!="string")throw Error(Bo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Fte.test(o))EA(a,o);else throw Error(Bo+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zj,i.config=i.set=Bte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Bte(t){if(!t||typeof t!="object")throw Error(Yn+"Object expected");var e,n,r,i=["precision",1,il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ol(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bo+n+": "+r);return this}var $w=zj(Vte);On=new $w(1);const Be=$w;function Ute(t){return Hte(t)||Gte(t)||Wte(t)||zte()}function zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return l0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l0(t,e)}}function Gte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hte(t){if(Array.isArray(t))return l0(t)}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qte=function(e){return e},Wj={"@@functional/placeholder":!0},Gj=function(e){return e===Wj},AA=function(e){return function n(){return arguments.length===0||arguments.length===1&&Gj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Kte=function t(e,n){return e===1?n:AA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Wj}).length;return a>=e?n.apply(void 0,i):t(e-a,AA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var h=i.map(function(f){return Gj(f)?l.shift():f});return n.apply(void 0,Ute(h).concat(l))}))})},Sm=function(e){return Kte(e.length,e)},u0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Xte=Sm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Yte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},c0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Hj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Qte(t){var e;return t===0?e=1:e=Math.floor(new Be(t).abs().log(10).toNumber())+1,e}function Jte(t,e,n){for(var r=new Be(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Zte=Sm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ene=Sm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),tne=Sm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Em={rangeStep:Jte,getDigitCount:Qte,interpolateNumber:Zte,uninterpolateNumber:ene,uninterpolateTruncation:tne};function f0(t){return ine(t)||rne(t)||qj(t)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ine(t){if(Array.isArray(t))return h0(t)}function tc(t,e){return sne(t)||ane(t,e)||qj(t,e)||one()}function one(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qj(t,e){if(t){if(typeof t=="string")return h0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h0(t,e)}}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ane(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function sne(t){if(Array.isArray(t))return t}function Kj(t){var e=tc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Xj(t,e,n){if(t.lte(0))return new Be(0);var r=Em.getDigitCount(t.toNumber()),i=new Be(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Be(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Be(Math.ceil(l))}function lne(t,e,n){var r=1,i=new Be(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Be(10).pow(Em.getDigitCount(t)-1),i=new Be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Be(Math.floor(t)))}else t===0?i=new Be(Math.floor((e-1)/2)):n||(i=new Be(Math.floor(t)));var a=Math.floor((e-1)/2),s=Yte(Xte(function(l){return i.add(new Be(l-a).mul(r)).toNumber()}),u0);return s(0,e)}function Yj(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var o=Xj(new Be(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Be(0):(a=new Be(t).add(e).div(2),a=a.sub(new Be(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Be(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?Yj(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Be(s).mul(o)),tickMax:a.add(new Be(l).mul(o))})}function une(t){var e=tc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Kj([n,r]),l=tc(s,2),u=l[0],h=l[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(f0(u0(0,i-1).map(function(){return 1/0}))):[].concat(f0(u0(0,i-1).map(function(){return-1/0})),[h]);return n>r?c0(f):f}if(u===h)return lne(u,i,o);var d=Yj(u,h,a,o),p=d.step,m=d.tickMin,g=d.tickMax,b=Em.rangeStep(m,g.add(new Be(.1).mul(p)),p);return n>r?c0(b):b}function cne(t,e){var n=tc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Kj([r,i]),s=tc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(e,2),f=Xj(new Be(u).sub(l).div(h-1),o,0),d=[].concat(f0(Em.rangeStep(new Be(l),new Be(u).sub(new Be(.99).mul(f)),f)),[u]);return r>i?c0(d):d}var fne=Hj(une),hne=Hj(cne),dne=!0,ny="Invariant failed";function ta(t,e){if(!t){if(dne)throw new Error(ny);var n=typeof e=="function"?e():e,r=n?"".concat(ny,": ").concat(n):ny;throw new Error(r)}}var pne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function mne(t,e){return bne(t)||vne(t,e)||yne(t,e)||gne()}function gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(t,e){if(t){if(typeof t=="string")return PA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(t,e)}}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bne(t){if(Array.isArray(t))return t}function _ne(t,e){if(t==null)return{};var n=wne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zj(r.key),r)}}function Sne(t,e,n){return e&&IA(t.prototype,e),n&&IA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ene(t,e,n){return e=$d(e),Tne(t,Qj()?Reflect.construct(e,n||[],$d(t).constructor):e.apply(t,n))}function Tne(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(t)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qj=function(){return!!t})()}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d0(t,e)}function Jj(t,e,n){return e=Zj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zj(t){var e=Ine(t,"string");return As(e)=="symbol"?e:e+""}function Ine(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kc=function(t){function e(){return xne(this,e),Ene(this,e,arguments)}return Pne(e,t),Sne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,h=r.xAxis,f=r.yAxis,d=_ne(r,pne),p=Ie(d,!1);this.props.direction==="x"&&h.type!=="number"&&ta(!1);var m=l.map(function(g){var b=u(g,s),_=b.x,v=b.y,w=b.value,O=b.errorVal;if(!O)return null;var T=[],P,S;if(Array.isArray(O)){var E=mne(O,2);P=E[0],S=E[1]}else P=S=O;if(o==="vertical"){var I=h.scale,k=v+i,C=k+a,R=k-a,N=I(w-P),U=I(w+S);T.push({x1:U,y1:C,x2:U,y2:R}),T.push({x1:N,y1:k,x2:U,y2:k}),T.push({x1:N,y1:C,x2:N,y2:R})}else if(o==="horizontal"){var W=f.scale,B=_+i,K=B-a,L=B+a,G=W(w-P),Q=W(w+S);T.push({x1:K,y1:Q,x2:L,y2:Q}),T.push({x1:B,y1:G,x2:B,y2:Q}),T.push({x1:K,y1:G,x2:L,y2:G})}return M.createElement(pt,Dd({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),T.map(function(ne){return M.createElement("line",Dd({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return M.createElement(pt,{className:"recharts-errorBars"},m)}}])}(M.Component);Jj(Kc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Jj(Kc,"displayName","ErrorBar");function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return e=kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Cne(t,"string");return nc(e)=="symbol"?e:e+""}function Cne(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=In(n,Vo);if(!a)return null;var s=Vo.defaultProps,l=s!==void 0?vo(vo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(h,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return h.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(h){var f=h.item,d=f.type.defaultProps,p=d!==void 0?vo(vo({},d),f.props):{},m=p.dataKey,g=p.name,b=p.legendType,_=p.hide;return{inactive:_,dataKey:m,type:l.iconType||b||"square",color:Lw(f),value:g||m,payload:p}}),vo(vo(vo({},l),Vo.getWithHeight(a,i)),{},{payload:u,item:a})};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function kA(t){return Mne(t)||Rne(t)||jne(t)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return p0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p0(t,e)}}function Rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mne(t){if(Array.isArray(t))return p0(t)}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function es(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=$ne(t,"string");return rc(e)=="symbol"?e:e+""}function $ne(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rn(t,e,n){return Ee(t)||Ee(e)?n:Et(e)?Hn(t,e,n):Se(e)?e(t):n}function du(t,e,n,r){var i=Mte(t,function(s){return Rn(s,e)});if(n==="number"){var o=i.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[wm(o),_m(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ee(s)}):i;return a.map(function(s){return Et(s)||s instanceof Date?s:""})}var Lne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var h=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(fr(f-h)!==fr(d-f)){var m=[];if(fr(d-f)===fr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+h)/2),m[1]=Math.max(g,(g+h)/2)}else{p=h;var b=d+l[1]-l[0];m[0]=Math.min(f,(b+f)/2),m[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var v=Math.min(h,d),w=Math.max(h,d);if(e>(v+f)/2&&e<=(w+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},Lw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Vne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var h=o[s[l]].stackGroups,f=Object.keys(h),d=0,p=f.length;d<p;d++){var m=h[f[d]],g=m.items,b=m.cateAxisId,_=g.filter(function(S){return Zr(S.type).indexOf("Bar")>=0});if(_&&_.length){var v=_[0].type.defaultProps,w=v!==void 0?ft(ft({},v),_[0].props):_[0].props,O=w.barSize,T=w[b];a[T]||(a[T]=[]);var P=Ee(O)?n:O;a[T].push({item:_[0],stackList:_.slice(1),barSize:Ee(P)?void 0:Zo(P,r,0)})}}return a},Fne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Zo(n,i,0,!0),h,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(O,T){return O+T.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,b={offset:g-u,size:0};h=a.reduce(function(O,T){var P={item:T.item,position:{offset:b.offset+b.size+u,size:d?p:T.barSize}},S=[].concat(kA(O),[P]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var _=Zo(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var v=(i-2*_-(l-1)*u)/l;v>1&&(v>>=0);var w=s===+s?Math.min(v,s):v;h=a.reduce(function(O,T,P){var S=[].concat(kA(O),[{item:T.item,position:{offset:_+(v+u)*P+(v-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return h},Bne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=eR({children:o,legendWidth:l});if(u){var h=i||{},f=h.width,d=h.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ie(e[p]))return ft(ft({},e),{},es({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ie(e[m]))return ft(ft({},e),{},es({},m,e[m]+(d||0)))}return e},Une=function(e,n,r){return Ee(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},tR=function(e,n,r,i,o){var a=n.props.children,s=qn(a,Kc).filter(function(u){return Une(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var f=Rn(h,r);if(Ee(f))return u;var d=Array.isArray(f)?[wm(f),_m(f)]:[f,f],p=l.reduce(function(m,g){var b=Rn(h,g,0),_=d[0]-Math.abs(Array.isArray(b)?b[0]:b),v=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},zne=function(e,n,r,i,o){var a=n.map(function(s){return tR(e,s,r,o,i)}).filter(function(s){return!Ee(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},nR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&tR(e,l,u,i)||du(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var h=0,f=u.length;h<f;h++)s[u[h]]||(s[u[h]]=!0,l.push(u[h]));return l},[])},rR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},iR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Yr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?fr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return h.filter(function(f){return!Bc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},ry=new WeakMap,qf=function(e,n){if(typeof n!="function")return e;ry.has(e)||ry.set(e,new WeakMap);var r=ry.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Wne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Xu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Cd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:hu(),realScaleType:"point"}:o==="category"?{scale:Xu(),realScaleType:"band"}:{scale:Cd(),realScaleType:"linear"};if(Jo(i)){var l="scale".concat(sm(i));return{scale:(SA[l]||hu)(),realScaleType:SA[l]?l:"point"}}return Se(i)?{scale:i}:{scale:hu(),realScaleType:"point"}},NA=1e-4,Gne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-NA,a=Math.max(i[0],i[1])+NA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Hne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},qne=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Kne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Bc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Xne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Bc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Yne={sign:Kne,expand:dW,none:vs,silhouette:pW,wiggle:mW,positive:Xne},Qne=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Yne[r],a=hW().keys(i).value(function(s,l){return+Rn(s,l,0)}).order(Vv).offset(o);return a(e)},Jne=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ft(ft({},d.type.defaultProps),d.props):d.props,g=m.stackId,b=m.hide;if(b)return f;var _=m[r],v=f[_]||{hasStack:!1,stackGroups:{}};if(Et(g)){var w=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(d),v.hasStack=!0,v.stackGroups[g]=w}else v.stackGroups[Uc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return ft(ft({},f),{},es({},_,v))},l),h={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,b){var _=p.stackGroups[b];return ft(ft({},g),{},es({},b,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:Qne(e,_.items,o)}))},m)}return ft(ft({},f),{},es({},d,p))},h)},Zne=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=fne(u,o,s);return e.domain([wm(h),_m(h)]),{niceTicks:h}}if(o&&i==="number"){var f=e.domain(),d=hne(f,o,s);return{niceTicks:d}}return null};function jA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ee(i[e.dataKey])){var s=ld(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Rn(i,Ee(a)?e.dataKey:a);return Ee(l)?null:e.scale(l)}var RA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Rn(a,n.dataKey,n.domain[s]);return Ee(l)?null:n.scale(l)-o/2+i},ere=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},tre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Et(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},nre=function(e){return e.reduce(function(n,r){return[wm(r.concat([n[0]]).filter(ie)),_m(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},oR=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,h){var f=nre(h.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m0=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MA.test(e[0])){var o=+MA.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(DA.test(e[1])){var a=+DA.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ld=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=hw(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],h=o[s-1];a=Math.min((u.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},$A=function(e,n,r){return!e||!e.length||xm(e,Hn(r,"type.defaultProps.domain"))?n:e},aR=function(e,n){var r=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,h=r.hide;return ft(ft({},Ie(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Lw(e),value:Rn(n,i),type:l,payload:n,chartType:u,hide:h})};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=ore(t,"string");return ic(e)=="symbol"?e:e+""}function ore(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vd=Math.PI/180,are=function(e){return e*180/Math.PI},$t=function(e,n,r,i){return{x:e+Math.cos(-Vd*i)*r,y:n+Math.sin(-Vd*i)*r}},sre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},lre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=sre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:are(u),angleInRadian:u}},ure=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},cre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},FA=function(e,n){var r=e.x,i=e.y,o=lre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var h=ure(n),f=h.startAngle,d=h.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?VA(VA({},n),{},{radius:a,angle:cre(p,n)}):null};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}var fre=["offset"];function hre(t){return gre(t)||mre(t)||pre(t)||dre()}function dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pre(t,e){if(t){if(typeof t=="string")return g0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g0(t,e)}}function mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gre(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yre(t,e){if(t==null)return{};var n=vre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=_re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=wre(t,"string");return oc(e)=="symbol"?e:e+""}function wre(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}var xre=function(e){var n=e.value,r=e.formatter,i=Ee(e.children)?n:e.children;return Se(r)?r(i):i},Sre=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ere=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,h=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,b=(f+d)/2,_=Sre(p,m),v=_>=0?1:-1,w,O;i==="insideStart"?(w=p+v*a,O=g):i==="insideEnd"?(w=m-v*a,O=!g):i==="end"&&(w=m+v*a,O=g),O=_<=0?O:!O;var T=$t(u,h,b,w),P=$t(u,h,b,w+(O?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Ee(e.id)?Uc("recharts-radial-line-"):e.id;return M.createElement("text",ac({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Tre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,h=o.startAngle,f=o.endAngle,d=(h+f)/2;if(i==="outside"){var p=$t(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,_=$t(a,s,b,d),v=_.x,w=_.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Are=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,h=a.height,f=h>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,b=g*i,_=g>0?"end":"start",v=g>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return _t(_t({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+h+d,textAnchor:"middle",verticalAnchor:m};return _t(_t({},O),r?{height:Math.max(r.y+r.height-(l+h),0),width:u}:{})}if(o==="left"){var T={x:s-b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"};return _t(_t({},T),r?{width:Math.max(T.x-r.x,0),height:h}:{})}if(o==="right"){var P={x:s+u+b,y:l+h/2,textAnchor:v,verticalAnchor:"middle"};return _t(_t({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var S=r?{width:u,height:h}:{};return o==="insideLeft"?_t({x:s+b,y:l+h/2,textAnchor:v,verticalAnchor:"middle"},S):o==="insideRight"?_t({x:s+u-b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideTop"?_t({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},S):o==="insideBottom"?_t({x:s+u/2,y:l+h-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?_t({x:s+b,y:l+d,textAnchor:v,verticalAnchor:m},S):o==="insideTopRight"?_t({x:s+u-b,y:l+d,textAnchor:_,verticalAnchor:m},S):o==="insideBottomLeft"?_t({x:s+b,y:l+h-d,textAnchor:v,verticalAnchor:p},S):o==="insideBottomRight"?_t({x:s+u-b,y:l+h-d,textAnchor:_,verticalAnchor:p},S):Ys(o)&&(ie(o.x)||Co(o.x))&&(ie(o.y)||Co(o.y))?_t({x:s+Zo(o.x,u),y:l+Zo(o.y,h),textAnchor:"end",verticalAnchor:"end"},S):_t({x:s+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Pre=function(e){return"cx"in e&&ie(e.cx)};function en(t){var e=t.offset,n=e===void 0?5:e,r=yre(t,fre),i=_t({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,h=i.className,f=h===void 0?"":h,d=i.textBreakAll;if(!o||Ee(s)&&Ee(l)&&!$.isValidElement(u)&&!Se(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(Se(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=xre(i);var m=Pre(o),g=Ie(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ere(i,p,g);var b=m?Tre(i):Are(i);return M.createElement(Ed,ac({className:Ce("recharts-label",f)},g,b,{breakAll:d}),p)}en.displayName="Label";var sR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,h=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,b=e.height,_=e.clockWise,v=e.labelViewBox;if(v)return v;if(ie(g)&&ie(b)){if(ie(f)&&ie(d))return{x:f,y:d,width:g,height:b};if(ie(p)&&ie(m))return{x:p,y:m,width:g,height:b}}return ie(f)&&ie(d)?{x:f,y:d,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:h||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Ire=function(e,n){return e?e===!0?M.createElement(en,{key:"label-implicit",viewBox:n}):Et(e)?M.createElement(en,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===en?$.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(en,{key:"label-implicit",content:e,viewBox:n}):Se(e)?M.createElement(en,{key:"label-implicit",content:e,viewBox:n}):Ys(e)?M.createElement(en,ac({viewBox:n},e,{key:"label-implicit"})):null:null},Ore=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=sR(e),a=qn(i,en).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ire(e.label,n||o);return[s].concat(hre(a))};en.parseViewBox=sR;en.renderCallByParent=Ore;function kre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Cre=kre;const Nre=We(Cre);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}var jre=["valueAccessor"],Rre=["data","dataKey","clockWise","id","textBreakAll"];function Mre(t){return Vre(t)||Lre(t)||$re(t)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y0(t,e)}}function Lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vre(t){if(Array.isArray(t))return y0(t)}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=Ure(t,"string");return sc(e)=="symbol"?e:e+""}function Ure(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WA(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wre=function(e){return Array.isArray(e.value)?Nre(e.value):e.value};function Yi(t){var e=t.valueAccessor,n=e===void 0?Wre:e,r=WA(t,jre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=WA(r,Rre);return!i||!i.length?null:M.createElement(pt,{className:"recharts-label-list"},i.map(function(h,f){var d=Ee(o)?n(h,f):Rn(h&&h.payload,o),p=Ee(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(en,Fd({},Ie(h,!0),u,p,{parentViewBox:h.parentViewBox,value:d,textBreakAll:l,viewBox:en.parseViewBox(Ee(a)?h:zA(zA({},h),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Yi.displayName="LabelList";function Gre(t,e){return t?t===!0?M.createElement(Yi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Se(t)?M.createElement(Yi,{key:"labelList-implicit",data:e,content:t}):Ys(t)?M.createElement(Yi,Fd({data:e},t,{key:"labelList-implicit"})):null:null}function Hre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=qn(r,Yi).map(function(a,s){return $.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Gre(t.label,e);return[o].concat(Mre(i))}Yi.renderCallByParent=Hre;function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Xre(t,"string");return lc(e)=="symbol"?e:e+""}function Xre(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yre=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Kf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,h=l*(s?1:-1)+i,f=Math.asin(l/h)/Vd,d=u?o:o+a*f,p=$t(n,r,h,d),m=$t(n,r,i,d),g=u?o-a*f:o,b=$t(n,r,h*Math.cos(f*Vd),g);return{center:p,circleTangency:m,lineTangency:b,theta:f}},lR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Yre(a,s),u=a+l,h=$t(n,r,o,a),f=$t(n,r,o,u),d="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=$t(n,r,i,a),m=$t(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Qre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,f=fr(h-u),d=Kf({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,b=Kf({cx:n,cy:r,radius:o,angle:h,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,v=b.lineTangency,w=b.theta,O=l?Math.abs(u-h):Math.abs(u-h)-g-w;if(O<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var P=Kf({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,E=P.lineTangency,I=P.theta,k=Kf({cx:n,cy:r,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,R=k.lineTangency,N=k.theta,U=l?Math.abs(u-h):Math.abs(u-h)-I-N;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Jre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uR=function(e){var n=HA(HA({},Jre),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,d=n.className;if(a<o||h===f)return null;var p=Ce("recharts-sector",d),m=a-o,g=Zo(s,m,0,!0),b;return g>0&&Math.abs(h-f)<360?b=Qre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}):b=lR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:f}),M.createElement("path",v0({},Ie(n,!0),{className:p,d:b,role:"img"}))};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return e=eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return uc(e)=="symbol"?e:e+""}function tie(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XA={curveBasisClosed:tW,curveBasisOpen:nW,curveBasis:eW,curveBumpX:F8,curveBumpY:B8,curveLinearClosed:rW,curveLinear:um,curveMonotoneX:iW,curveMonotoneY:oW,curveNatural:aW,curveStep:sW,curveStepAfter:uW,curveStepBefore:lW},Xf=function(e){return e.x===+e.x&&e.y===+e.y},$l=function(e){return e.x},Ll=function(e){return e.y},nie=function(e,n){if(Se(e))return e;var r="curve".concat(sm(e));return(r==="curveMonotone"||r==="curveBump")&&n?XA["".concat(r).concat(n==="vertical"?"Y":"X")]:XA[r]||um},rie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,h=nie(r,s),f=u?o.filter(function(g){return Xf(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return Xf(g)}):a,m=f.map(function(g,b){return KA(KA({},g),{},{base:p[b]})});return s==="vertical"?d=Vf().y(Ll).x1($l).x0(function(g){return g.base.x}):d=Vf().x($l).y1(Ll).y0(function(g){return g.base.y}),d.defined(Xf).curve(h),d(m)}return s==="vertical"&&ie(a)?d=Vf().y(Ll).x1($l).x0(a):ie(a)?d=Vf().x($l).y1(Ll).y0(a):d=uN().x($l).y(Ll),d.defined(Xf).curve(h),d(f)},_0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rie(e):i;return $.createElement("path",b0({},Ie(e,!1),ud(e),{className:Ce("recharts-curve",n),d:a,ref:o}))},cR={exports:{}},iie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oie=iie,aie=oie;function fR(){}function hR(){}hR.resetWarningCache=fR;var sie=function(){function t(r,i,o,a,s,l){if(l!==aie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:hR,resetWarningCache:fR};return n.PropTypes=n,n};cR.exports=sie();var lie=cR.exports;const De=We(lie);var uie=Object.getOwnPropertyNames,cie=Object.getOwnPropertySymbols,fie=Object.prototype.hasOwnProperty;function YA(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Yf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function QA(t){return uie(t).concat(cie(t))}var hie=Object.hasOwn||function(t,e){return fie.call(t,e)};function fa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var die="__v",pie="__o",mie="_owner",JA=Object.getOwnPropertyDescriptor,ZA=Object.keys;function gie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yie(t,e){return fa(t.getTime(),e.getTime())}function vie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bie(t,e){return t===e}function eP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),h=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){h=i[f]=!0;break}f++}if(!h)return!1;l++}return!0}var _ie=fa;function wie(t,e,n){var r=ZA(t),i=r.length;if(ZA(e).length!==i)return!1;for(;i-- >0;)if(!dR(t,e,n,r[i]))return!1;return!0}function Vl(t,e,n){var r=QA(t),i=r.length;if(QA(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!dR(t,e,n,o)||(a=JA(t,o),s=JA(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function xie(t,e){return fa(t.valueOf(),e.valueOf())}function Sie(t,e){return t.source===e.source&&t.flags===e.flags}function tP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,h=0;(s=l.next())&&!s.done;){if(!i[h]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function Eie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Tie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function dR(t,e,n,r){return(r===mie||r===pie||r===die)&&(t.$$typeof||e.$$typeof)?!0:hie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Aie="[object Arguments]",Pie="[object Boolean]",Iie="[object Date]",Oie="[object Error]",kie="[object Map]",Cie="[object Number]",Nie="[object Object]",jie="[object RegExp]",Rie="[object Set]",Mie="[object String]",Die="[object URL]",$ie=Array.isArray,nP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,rP=Object.assign,Lie=Object.prototype.toString.call.bind(Object.prototype.toString);function Vie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,h=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,b){if(m===g)return!0;if(m==null||g==null)return!1;var _=typeof m;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?a(m,g,b):_==="function"?i(m,g,b):!1;var v=m.constructor;if(v!==g.constructor)return!1;if(v===Object)return s(m,g,b);if($ie(m))return e(m,g,b);if(nP!=null&&nP(m))return f(m,g,b);if(v===Date)return n(m,g,b);if(v===RegExp)return u(m,g,b);if(v===Map)return o(m,g,b);if(v===Set)return h(m,g,b);var w=Lie(m);return w===Iie?n(m,g,b):w===jie?u(m,g,b):w===kie?o(m,g,b):w===Rie?h(m,g,b):w===Nie?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,b):w===Die?d(m,g,b):w===Oie?r(m,g,b):w===Aie?s(m,g,b):w===Pie||w===Cie||w===Mie?l(m,g,b):!1}}function Fie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Vl:gie,areDatesEqual:yie,areErrorsEqual:vie,areFunctionsEqual:bie,areMapsEqual:r?YA(eP,Vl):eP,areNumbersEqual:_ie,areObjectsEqual:r?Vl:wie,arePrimitiveWrappersEqual:xie,areRegExpsEqual:Sie,areSetsEqual:r?YA(tP,Vl):tP,areTypedArraysEqual:r?Vl:Eie,areUrlsEqual:Tie};if(n&&(i=rP({},i,n(i))),e){var o=Yf(i.areArraysEqual),a=Yf(i.areMapsEqual),s=Yf(i.areObjectsEqual),l=Yf(i.areSetsEqual);i=rP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Bie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Uie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var h=r(),f=h.cache,d=f===void 0?e?new WeakMap:void 0:f,p=h.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var zie=fo();fo({strict:!0});fo({circular:!0});fo({circular:!0,strict:!0});fo({createInternalComparator:function(){return fa}});fo({strict:!0,createInternalComparator:function(){return fa}});fo({circular:!0,createInternalComparator:function(){return fa}});fo({circular:!0,createInternalComparator:function(){return fa},strict:!0});function fo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Fie(t),l=Vie(s),u=r?r(l):Bie(l);return Uie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Wie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Wie(i)};requestAnimationFrame(r)}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function Gie(t){return Xie(t)||Kie(t)||qie(t)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qie(t,e){if(t){if(typeof t=="string")return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xie(t){if(Array.isArray(t))return t}function Yie(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Gie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){iP(i.bind(null,u),l);return}i(l),iP(i.bind(null,u));return}w0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){pR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pR(t,e,n){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Jie(t,"string");return cc(e)==="symbol"?e:String(e)}function Jie(t,e){if(cc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},eoe=function(e){return e},toe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pu=function(e,n){return Object.keys(n).reduce(function(r,i){return sP(sP({},r),{},pR({},i,e(i,n[i])))},{})},lP=function(e,n,r){return e.map(function(i){return"".concat(toe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function noe(t,e){return ooe(t)||ioe(t,e)||mR(t,e)||roe()}function roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ooe(t){if(Array.isArray(t))return t}function aoe(t){return uoe(t)||loe(t)||mR(t)||soe()}function soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(t,e){if(t){if(typeof t=="string")return x0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x0(t,e)}}function loe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uoe(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bd=1e-4,gR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},uP=function(e,n){return function(r){var i=gR(e,n);return yR(i,r)}},coe=function(e,n){return function(r){var i=gR(e,n),o=[].concat(aoe(i.map(function(a,s){return a*s}).slice(1)),[0]);return yR(o,r)}},cP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=noe(u,4);i=h[0],o=h[1],a=h[2],s=h[3]}}}var f=uP(i,a),d=uP(o,s),p=coe(i,a),m=function(_){return _>1?1:_<0?0:_},g=function(_){for(var v=_>1?1:_,w=v,O=0;O<8;++O){var T=f(w)-v,P=p(w);if(Math.abs(T-v)<Bd||P<Bd)return d(w);w=m(w-T/P)}return d(w)};return g.isStepper=!1,g},foe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(h,f,d){var p=-(h-f)*r,m=d*o,g=d+(p-m)*s/1e3,b=d*s/1e3+h;return Math.abs(b-f)<Bd&&Math.abs(g)<Bd?[f,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},hoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cP(i);case"spring":return foe();default:if(i.split("(")[0]==="cubic-bezier")return cP(i)}return typeof i=="function"?i:null};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function fP(t){return moe(t)||poe(t)||vR(t)||doe()}function doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function moe(t){if(Array.isArray(t))return E0(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){S0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S0(t,e,n){return e=goe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function goe(t){var e=yoe(t,"string");return fc(e)==="symbol"?e:String(e)}function yoe(t,e){if(fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t,e){return woe(t)||_oe(t,e)||vR(t,e)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vR(t,e){if(t){if(typeof t=="string")return E0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E0(t,e)}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _oe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function woe(t){if(Array.isArray(t))return t}var Ud=function(e,n,r){return e+(n-e)*r},T0=function(e){var n=e.from,r=e.to;return n!==r},xoe=function t(e,n,r){var i=pu(function(o,a){if(T0(a)){var s=e(a.from,a.to,a.velocity),l=voe(s,2),u=l[0],h=l[1];return jt(jt({},a),{},{from:u,velocity:h})}return a},n);return r<1?pu(function(o,a){return T0(a)?jt(jt({},a),{},{velocity:Ud(a.velocity,i[o].velocity,r),from:Ud(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Soe=function(t,e,n,r,i){var o=Zie(t,e),a=o.reduce(function(b,_){return jt(jt({},b),{},S0({},_,[t[_],e[_]]))},{}),s=o.reduce(function(b,_){return jt(jt({},b),{},S0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,h,f=function(){return null},d=function(){return pu(function(_,v){return v.from},s)},p=function(){return!Object.values(s).filter(T0).length},m=function(_){u||(u=_);var v=_-u,w=v/n.dt;s=xoe(n,s,w),i(jt(jt(jt({},t),e),d())),u=_,p()||(l=requestAnimationFrame(f))},g=function(_){h||(h=_);var v=(_-h)/r,w=pu(function(T,P){return Ud.apply(void 0,fP(P).concat([n(v)]))},a);if(i(jt(jt(jt({},t),e),w)),v<1)l=requestAnimationFrame(f);else{var O=pu(function(T,P){return Ud.apply(void 0,fP(P).concat([n(1)]))},a);i(jt(jt(jt({},t),e),O))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}var Eoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Toe(t,e){if(t==null)return{};var n=Aoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iy(t){return koe(t)||Ooe(t)||Ioe(t)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function koe(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){Yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yl(t,e,n){return e=bR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bR(r.key),r)}}function Noe(t,e,n){return e&&pP(t.prototype,e),n&&pP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bR(t){var e=joe(t,"string");return Ps(e)==="symbol"?e:String(e)}function joe(t,e){if(Ps(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ps(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P0(t,e)}function Moe(t){var e=Doe();return function(){var r=zd(t),i;if(e){var o=zd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return I0(this,i)}}function I0(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0(t)}function O0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Doe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}var Tm=function(t){Roe(n,t);var e=Moe(n);function n(r,i){var o;Coe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,h=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(O0(o)),o.changeStyle=o.changeStyle.bind(O0(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:h}),I0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},I0(o);o.state={style:l?Yl({},l,u):u}}else o.state={style:{}};return o}return Noe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,h=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?Yl({},l,h):h};this.state&&d&&(l&&d[l]!==h||!l&&d!==h)&&this.setState(p);return}if(!(zie(i.to,h)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var b={style:l?Yl({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(b)}this.runAnimation(rr(rr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,h=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Soe(a,s,hoe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,h,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],h=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,b,_){if(_===0)return g;var v=b.duration,w=b.easing,O=w===void 0?"ease":w,T=b.style,P=b.properties,S=b.onAnimationEnd,E=_>0?a[_-1]:b,I=P||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(iy(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:v,easing:O}),v]);var k=lP(I,v,O),C=rr(rr(rr({},E.style),T),{},{transition:k});return[].concat(iy(g),[C,v,S]).filter(eoe)};return this.manager.start([l].concat(iy(a.reduce(p,[h,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Yie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Yl({},s,l):l,b=lP(Object.keys(g),a,u);m.start([h,o,rr(rr({},g),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Toe(i,Eoe),u=$.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,b=g===void 0?{}:g,_=m.className,v=$.cloneElement(p,rr(rr({},l),{},{style:rr(rr({},b),h),className:_}));return v};return u===1?f($.Children.only(o)):M.createElement("div",null,$.Children.map(o,function(d){return f(d)}))}}]),n}($.PureComponent);Tm.displayName="Animate";Tm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tm.propTypes={from:De.oneOfType([De.object,De.string]),to:De.oneOfType([De.object,De.string]),attributeName:De.string,duration:De.number,begin:De.number,easing:De.oneOfType([De.string,De.func]),steps:De.arrayOf(De.shape({duration:De.number.isRequired,style:De.object.isRequired,easing:De.oneOfType([De.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),De.func]),properties:De.arrayOf("string"),onAnimationEnd:De.func})),children:De.oneOfType([De.node,De.func]),isActive:De.bool,canBegin:De.bool,onAnimationEnd:De.func,shouldReAnimate:De.bool,onAnimationStart:De.func,onAnimationReStart:De.func};const Is=Tm;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function $oe(t,e){return Boe(t)||Foe(t,e)||Voe(t,e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Foe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Boe(t){if(Array.isArray(t))return t}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return e=zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=Woe(t,"string");return hc(e)=="symbol"?e:e+""}function Woe(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];h="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),h+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),h+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),h+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);h="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Goe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),h=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=h&&i>=f&&i<=d}return!1},Hoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vw=function(e){var n=yP(yP({},Hoe),e),r=$.useRef(),i=$.useState(-1),o=$oe(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,h=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,_=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var w=Ce("recharts-rectangle",p);return v?M.createElement(Is,{canBegin:a>0,from:{width:h,height:f,x:l,y:u},to:{width:h,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:v},function(O){var T=O.width,P=O.height,S=O.x,E=O.y;return M.createElement(Is,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:_,easing:m},M.createElement("path",Wd({},Ie(n,!0),{className:w,d:vP(S,E,T,P,d),ref:r})))}):M.createElement("path",Wd({},Ie(n,!0),{className:w,d:vP(l,u,h,f,d)}))};function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}var Fw=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",k0({},Ie(e,!1),ud(e),{className:a,cx:n,cy:r,r:i})):null};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}var qoe=["x","y","top","left","width","height","className"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Koe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return e=Yoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Qoe(t,"string");return dc(e)=="symbol"?e:e+""}function Qoe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Joe(t,e){if(t==null)return{};var n=Zoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},tae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,h=e.width,f=h===void 0?0:h,d=e.height,p=d===void 0?0:d,m=e.className,g=Joe(e,qoe),b=Koe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ie(r)||!ie(o)||!ie(f)||!ie(p)||!ie(s)||!ie(u)?null:M.createElement("path",C0({},Ie(b,!0),{className:Ce("recharts-cross",m),d:eae(r,o,f,p,s,u)}))},nae=jN,rae=nae(Object.getPrototypeOf,Object),iae=rae,oae=gi,aae=iae,sae=yi,lae="[object Object]",uae=Function.prototype,cae=Object.prototype,_R=uae.toString,fae=cae.hasOwnProperty,hae=_R.call(Object);function dae(t){if(!sae(t)||oae(t)!=lae)return!1;var e=aae(t);if(e===null)return!0;var n=fae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_R.call(n)==hae}var pae=dae;const mae=We(pae);var gae=gi,yae=yi,vae="[object Boolean]";function bae(t){return t===!0||t===!1||yae(t)&&gae(t)==vae}var _ae=bae;const wae=We(_ae);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function xae(t,e){return Aae(t)||Tae(t,e)||Eae(t,e)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Aae(t){if(Array.isArray(t))return t}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return e=Iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Oae(t,"string");return pc(e)=="symbol"?e:e+""}function Oae(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cae=function(e){var n=xP(xP({},kae),e),r=$.useRef(),i=$.useState(-1),o=xae(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,h=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||d!==+d||h===0&&f===0||d===0)return null;var v=Ce("recharts-trapezoid",p);return _?M.createElement(Is,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:h,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(w){var O=w.upperWidth,T=w.lowerWidth,P=w.height,S=w.x,E=w.y;return M.createElement(Is,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:m},M.createElement("path",Gd({},Ie(n,!0),{className:v,d:SP(S,E,O,T,P),ref:r})))}):M.createElement("g",null,M.createElement("path",Gd({},Ie(n,!0),{className:v,d:SP(l,u,h,f,d)})))},Nae=["option","shapeType","propTransformer","activeClassName","isActive"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function jae(t,e){if(t==null)return{};var n=Rae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return e=Dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=$ae(t,"string");return mc(e)=="symbol"?e:e+""}function $ae(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lae(t,e){return Hd(Hd({},e),t)}function Vae(t,e){return t==="symbols"}function TP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Vw,n);case"trapezoid":return M.createElement(Cae,n);case"sector":return M.createElement(uR,n);case"symbols":if(Vae(e))return M.createElement(iw,n);break;default:return null}}function Fae(t){return $.isValidElement(t)?t.props:t}function Bae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Lae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=jae(t,Nae),u;if($.isValidElement(e))u=$.cloneElement(e,Hd(Hd({},l),Fae(e)));else if(Se(e))u=e(l);else if(mae(e)&&!wae(e)){var h=i(e,l);u=M.createElement(TP,{shapeType:n,elementProps:h})}else{var f=l;u=M.createElement(TP,{shapeType:n,elementProps:f})}return s?M.createElement(pt,{className:a},u):u}function Am(t,e){return e!=null&&"trapezoids"in t.props}function Pm(t,e){return e!=null&&"sectors"in t.props}function gc(t,e){return e!=null&&"points"in t.props}function Uae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function zae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Wae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Gae(t,e){var n;return Am(t,e)?n=Uae:Pm(t,e)?n=zae:gc(t,e)&&(n=Wae),n}function Hae(t,e){var n;return Am(t,e)?n="trapezoids":Pm(t,e)?n="sectors":gc(t,e)&&(n="points"),n}function qae(t,e){if(Am(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Pm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gc(t,e)?e.payload:{}}function Kae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Hae(n,e),o=qae(n,e),a=r.filter(function(l,u){var h=xm(o,l),f=n.props[i].filter(function(m){var g=Gae(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return h&&p}),s=r.indexOf(a[a.length-1]);return s}var Xae=Math.ceil,Yae=Math.max;function Qae(t,e,n,r){for(var i=-1,o=Yae(Xae((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Jae=Qae,Zae=JN,AP=1/0,ese=17976931348623157e292;function tse(t){if(!t)return t===0?t:0;if(t=Zae(t),t===AP||t===-AP){var e=t<0?-1:1;return e*ese}return t===t?t:0}var wR=tse,nse=Jae,rse=dm,oy=wR;function ise(t){return function(e,n,r){return r&&typeof r!="number"&&rse(e,n,r)&&(n=r=void 0),e=oy(e),n===void 0?(n=e,e=0):n=oy(n),r=r===void 0?e<n?1:-1:oy(r),nse(e,n,r,t)}}var ose=ise,ase=ose,sse=ase(),lse=sse;const qd=We(lse);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){xR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xR(t,e,n){return e=use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return yc(e)=="symbol"?e:e+""}function cse(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=["Webkit","Moz","O","ms"],hse=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=fse.reduce(function(o,a){return IP(IP({},o),{},xR({},a+r,n))},{});return i[e]=n,i};function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ER(r.key),r)}}function pse(t,e,n){return e&&kP(t.prototype,e),n&&kP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mse(t,e,n){return e=Xd(e),gse(t,SR()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function gse(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yse(t)}function yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N0(t,e)}function An(t,e,n){return e=ER(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ER(t){var e=bse(t,"string");return Os(e)=="symbol"?e:e+""}function bse(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _se=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=hu().domain(qd(0,l)).range([o,o+a-s]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},CP=function(e){return e.changedTouches&&!!e.changedTouches.length},ks=function(t){function e(n){var r;return dse(this,e),r=mse(this,e,[n]),An(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),An(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),An(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),An(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),An(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),An(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),An(r,"handleSlideDragStart",function(i){var o=CP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vse(e,t),pse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,h=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===h?h:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Rn(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,h=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+h-f-s,u+h-f-a):g<0&&(g=Math.max(g,u-a,u-s));var b=this.getIndex({startX:a+g,endX:s+g});(b.startIndex!==d||b.endIndex!==p)&&m&&m(b),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=CP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],h=this.props,f=h.x,d=h.width,p=h.travellerWidth,m=h.onChange,g=h.gap,b=h.data,_={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),_[a]=u+v;var w=this.getIndex(_),O=w.startIndex,T=w.endIndex,P=function(){var E=b.length-1;return a==="startX"&&(s>l?O%g===0:T%g===0)||s<l&&T===E||a==="endX"&&(s>l?T%g===0:O%g===0)||s>l&&T===E};this.setState(An(An({},a,u+v),"brushMoveStartX",r.pageX),function(){m&&P()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,h=this.state[i],f=s.indexOf(h);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(An({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,h=r.padding,f=$.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,h=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,b=l.endIndex,_=Math.max(r,this.props.x),v=ay(ay({},Ie(this.props,!1)),{},{x:_,y:u,width:h,height:f}),w=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[b])===null||a===void 0?void 0:a.name);return M.createElement(pt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,h=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,h=this.state,f=h.startX,d=h.endX,p=5,m={pointerEvents:"none",fill:u};return M.createElement(pt,{className:"recharts-brush-texts"},M.createElement(Ed,Kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),M.createElement(Ed,Kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,h=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,b=d.isSlideMoving,_=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!ie(s)||!ie(l)||!ie(u)||!ie(h)||u<=0||h<=0)return null;var w=Ce("recharts-brush",o),O=M.Children.count(a)===1,T=hse("userSelect","none");return M.createElement(pt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||b||_||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,h=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return ay({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?_se({data:o,width:a,x:s,travellerWidth:l,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}($.PureComponent);An(ks,"displayName","Brush");An(ks,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wse=fw;function xse(t,e){var n;return wse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Sse=xse,Ese=TN,Tse=lo,Ase=Sse,Pse=Sn,Ise=dm;function Ose(t,e,n){var r=Pse(t)?Ese:Ase;return n&&Ise(t,e,n)&&(e=void 0),r(t,Tse(e))}var kse=Ose;const Cse=We(kse);var kr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},NP=qN;function Nse(t,e,n){e=="__proto__"&&NP?NP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jse=Nse,Rse=jse,Mse=GN,Dse=lo;function $se(t,e){var n={};return e=Dse(e),Mse(t,function(r,i,o){Rse(n,i,e(r,i,o))}),n}var Lse=$se;const Vse=We(Lse);function Fse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Bse=Fse,Use=fw;function zse(t,e){var n=!0;return Use(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Wse=zse,Gse=Bse,Hse=Wse,qse=lo,Kse=Sn,Xse=dm;function Yse(t,e,n){var r=Kse(t)?Gse:Hse;return n&&Xse(t,e,n)&&(e=void 0),r(t,qse(e))}var Qse=Yse;const TR=We(Qse);var Jse=["x","y"];function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return e=ele(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ele(t){var e=tle(t,"string");return vc(e)=="symbol"?e:e+""}function tle(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nle(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ile(t,e){var n=t.x,r=t.y,i=nle(t,Jse),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),h=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Fl(Fl(Fl(Fl(Fl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:h,width:d,name:e.name,radius:e.radius})}function RP(t){return M.createElement(Bae,j0({shapeType:"rectangle",propTransformer:ile,activeClassName:"recharts-active-bar"},t))}var ole=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||Tz(r);return o?e(r,i):(o||ta(!1),n)}},ale=["value","background"],AR;function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function sle(t,e){if(t==null)return{};var n=lle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function cle(t,e,n){return e&&DP(t.prototype,e),n&&DP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fle(t,e,n){return e=Qd(e),hle(t,PR()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function hle(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R0(t,e)}function Di(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=mle(t,"string");return Cs(e)=="symbol"?e:e+""}function mle(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xc=function(t){function e(){var n;ule(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fle(this,e,[].concat(i)),Di(n,"state",{isAnimationFinished:!1}),Di(n,"id",Uc("recharts-bar-")),Di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ple(e,t),cle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,h=Ie(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=gt(gt(gt({},h),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(pt,Yd({className:"recharts-bar-rectangle"},cd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),M.createElement(RP,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,d=this.state.prevData;return M.createElement(Is,{begin:l,duration:u,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(b,_){var v=d&&d[_];if(v){var w=ur(v.x,b.x),O=ur(v.y,b.y),T=ur(v.width,b.width),P=ur(v.height,b.height);return gt(gt({},b),{},{x:w(m),y:O(m),width:T(m),height:P(m)})}if(a==="horizontal"){var S=ur(0,b.height),E=S(m);return gt(gt({},b),{},{y:b.y+b.height-E,height:E})}var I=ur(0,b.width),k=I(m);return gt(gt({},b),{},{width:k})});return M.createElement(pt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!xm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ie(this.props.background,!1);return o.map(function(u,h){u.value;var f=u.background,d=sle(u,ale);if(!f)return null;var p=gt(gt(gt(gt(gt({},d),{},{fill:"#eee"},f),l),cd(r.props,u,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return M.createElement(RP,Yd({key:"background-bar-".concat(h),option:r.props.background,isActive:h===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,h=o.children,f=qn(h,Kc);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,_){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:Rn(b,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(pt,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,h=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=Ce("recharts-bar",a),v=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,O=v||w,T=Ee(g)?this.id:g;return M.createElement(pt,{className:_},v||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:v?u:u-f/2,y:w?h:h-d/2,width:v?f:f*2,height:w?d:d*2}))):null,M.createElement(pt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||b)&&Yi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);AR=Xc;Di(Xc,"displayName","Bar");Di(Xc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Di(Xc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Hne(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,b=g!==void 0?gt(gt({},g),n.props):n.props,_=b.dataKey,v=b.children,w=b.minPointSize,O=m==="horizontal"?a:o,T=u?O.scale.domain():null,P=ere({numericAxis:O}),S=qn(v,ej),E=f.map(function(I,k){var C,R,N,U,W,B;u?C=qne(u[h+k],T):(C=Rn(I,_),Array.isArray(C)||(C=[P,C]));var K=ole(w,AR.defaultProps.minPointSize)(C[1],k);if(m==="horizontal"){var L,G=[a.scale(C[0]),a.scale(C[1])],Q=G[0],ne=G[1];R=RA({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:k}),N=(L=ne??Q)!==null&&L!==void 0?L:void 0,U=p.size;var F=Q-ne;if(W=Number.isNaN(F)?0:F,B={x:R,y:a.y,width:U,height:a.height},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var Y=fr(W||K)*(Math.abs(K)-Math.abs(W));N-=Y,W+=Y}}else{var oe=[o.scale(C[0]),o.scale(C[1])],he=oe[0],me=oe[1];if(R=he,N=RA({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:k}),U=me-he,W=p.size,B={x:o.x,y:N,width:o.width,height:W},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var ee=fr(U||K)*(Math.abs(K)-Math.abs(U));U+=ee}}return gt(gt(gt({},I),{},{x:R,y:N,width:U,height:W,value:u?C:C[1],payload:I,background:B},S&&S[k]&&S[k].props),{},{tooltipPayload:[aR(n,I)],tooltipPosition:{x:R+U/2,y:N+W/2}})});return gt({data:E,layout:m},d)});function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OR(r.key),r)}}function yle(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Im(t,e,n){return e=OR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OR(t){var e=vle(t,"string");return bc(e)=="symbol"?e:e+""}function vle(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ble=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,h=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!In(u,Xc);return h.reduce(function(p,m){var g=n[m],b=g.orientation,_=g.domain,v=g.padding,w=v===void 0?{}:v,O=g.mirror,T=g.reversed,P="".concat(b).concat(O?"Mirror":""),S,E,I,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=_[1]-_[0],N=1/0,U=g.categoricalDomain.sort(Iz);if(U.forEach(function(oe,he){he>0&&(N=Math.min((oe||0)-(U[he-1]||0),N))}),Number.isFinite(N)){var W=N/R,B=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=W*B/2),g.padding==="no-gap"){var K=Zo(e.barCategoryGap,W*B),L=W*B/2;S=L-K-(L-K)/B*K}}}i==="xAxis"?E=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:E=g.range,T&&(E=[E[1],E[0]]);var G=Wne(g,o,d),Q=G.scale,ne=G.realScaleType;Q.domain(_).range(E),Gne(Q);var F=Zne(Q,ar(ar({},g),{},{realScaleType:ne}));i==="xAxis"?(C=b==="top"&&!O||b==="bottom"&&O,I=r.left,k=f[P]-C*g.height):i==="yAxis"&&(C=b==="left"&&!O||b==="right"&&O,I=f[P]-C*g.width,k=r.top);var Y=ar(ar(ar({},g),F),{},{realScaleType:ne,x:I,y:k,scale:Q,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Y.bandSize=Ld(Y,F),!g.hide&&i==="xAxis"?f[P]+=(C?-1:1)*Y.height:g.hide||(f[P]+=(C?-1:1)*Y.width),ar(ar({},p),{},Im({},m,Y))},{})},kR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},_le=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return kR({x:n,y:r},{x:i,y:o})},CR=function(){function t(e){gle(this,t),this.scale=e}return yle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Im(CR,"EPS",1e-4);var Bw=function(e){var n=Object.keys(e).reduce(function(r,i){return ar(ar({},r),{},Im({},i,CR.create(e[i])))},{});return ar(ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Vse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return TR(i,function(o,a){return n[a].isInRange(o)})}})};function wle(t){return(t%180+180)%180}var xle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=wle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Sle=lo,Ele=zc,Tle=fm;function Ale(t){return function(e,n,r){var i=Object(e);if(!Ele(e)){var o=Sle(n);e=Tle(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Ple=Ale,Ile=wR;function Ole(t){var e=Ile(t),n=e%1;return e===e?n?e-n:e:0}var kle=Ole,Cle=VN,Nle=lo,jle=kle,Rle=Math.max;function Mle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:jle(n);return i<0&&(i=Rle(r+i,0)),Cle(t,Nle(e),i)}var Dle=Mle,$le=Ple,Lle=Dle,Vle=$le(Lle),Fle=Vle;const Ble=We(Fle);var Ule=O9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Uw=$.createContext(void 0),zw=$.createContext(void 0),NR=$.createContext(void 0),jR=$.createContext({}),RR=$.createContext(void 0),MR=$.createContext(0),DR=$.createContext(0),VP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,h=Ule(o);return M.createElement(Uw.Provider,{value:r},M.createElement(zw.Provider,{value:i},M.createElement(jR.Provider,{value:o},M.createElement(NR.Provider,{value:h},M.createElement(RR.Provider,{value:a},M.createElement(MR.Provider,{value:u},M.createElement(DR.Provider,{value:l},s)))))))},zle=function(){return $.useContext(RR)},$R=function(e){var n=$.useContext(Uw);n==null&&ta(!1);var r=n[e];return r==null&&ta(!1),r},Wle=function(){var e=$.useContext(Uw);return Ni(e)},Gle=function(){var e=$.useContext(zw),n=Ble(e,function(r){return TR(r.domain,Number.isFinite)});return n||Ni(e)},LR=function(e){var n=$.useContext(zw);n==null&&ta(!1);var r=n[e];return r==null&&ta(!1),r},Hle=function(){var e=$.useContext(NR);return e},qle=function(){return $.useContext(jR)},Ww=function(){return $.useContext(DR)},Gw=function(){return $.useContext(MR)};function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function Xle(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yle(t,e,n){return e=Jd(e),Qle(t,VR()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Qle(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M0(t,e)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hw(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=eue(t,"string");return Ns(e)=="symbol"?e:e+""}function eue(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tue(t,e){return oue(t)||iue(t,e)||rue(t,e)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oue(t){if(Array.isArray(t))return t}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(this,arguments)}var aue=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Se(e)?r=e(n):r=M.createElement("line",D0({},n,{className:"recharts-reference-line-line"})),r},sue=function(e,n,r,i,o,a,s,l,u){var h=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(kr(u,"discard")&&!e.y.isInRange(g))return null;var b=[{x:h+d,y:g},{x:h,y:g}];return l==="left"?b.reverse():b}if(n){var _=u.x,v=e.x.apply(_,{position:a});if(kr(u,"discard")&&!e.x.isInRange(v))return null;var w=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?w.reverse():w}if(i){var O=u.segment,T=O.map(function(P){return e.apply(P,{position:a})});return kr(u,"discard")&&Cse(T,function(P){return!e.isInRange(P)})?null:T}return null};function lue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=zle(),h=$R(i),f=LR(o),d=Hle();if(!u||!d)return null;ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Bw({x:h.scale,y:f.scale}),m=Et(e),g=Et(n),b=r&&r.length===2,_=sue(p,m,g,b,d,t.position,h.orientation,f.orientation,t);if(!_)return null;var v=tue(_,2),w=v[0],O=w.x,T=w.y,P=v[1],S=P.x,E=P.y,I=kr(t,"hidden")?"url(#".concat(u,")"):void 0,k=UP(UP({clipPath:I},Ie(t,!0)),{},{x1:O,y1:T,x2:S,y2:E});return M.createElement(pt,{className:Ce("recharts-reference-line",s)},aue(a,k),en.renderCallByParent(t,_le({x1:O,y1:T,x2:S,y2:E})))}var qw=function(t){function e(){return Kle(this,e),Yle(this,e,arguments)}return Zle(e,t),Xle(e,[{key:"render",value:function(){return M.createElement(lue,this.props)}}])}(M.Component);Hw(qw,"displayName","ReferenceLine");Hw(qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function cue(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fue(t,e,n){return e=Zd(e),hue(t,BR()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function hue(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return due(t)}function due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function pue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L0(t,e)}function Om(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=mue(t,"string");return js(e)=="symbol"?e:e+""}function mue(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Bw({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return kr(e,"discard")&&!a.isInRange(s)?null:s},km=function(t){function e(){return uue(this,e),fue(this,e,arguments)}return pue(e,t),cue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Et(i),h=Et(o);if(ei(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=gue(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,b=m.className,_=kr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=GP(GP({clipPath:_},Ie(this.props,!0)),{},{cx:d,cy:p});return M.createElement(pt,{className:Ce("recharts-reference-dot",b)},e.renderDot(g,v),en.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);Om(km,"displayName","ReferenceDot");Om(km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Om(km,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(Fw,$0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WR(r.key),r)}}function vue(t,e,n){return e&&XP(t.prototype,e),n&&XP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,n){return e=ep(e),_ue(t,zR()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function _ue(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F0(t,e)}function Cm(t,e,n){return e=WR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WR(t){var e=Sue(t,"string");return Rs(e)=="symbol"?e:e+""}function Sue(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,h=o.xAxis,f=o.yAxis;if(!h||!f)return null;var d=Bw({x:h.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return kr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:kR(p,m)},Nm=function(t){function e(){return yue(this,e),bue(this,e,arguments)}return xue(e,t),vue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,h=r.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Et(i),d=Et(o),p=Et(a),m=Et(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var b=Eue(f,d,p,m,this.props);if(!b&&!g)return null;var _=kr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return M.createElement(pt,{className:Ce("recharts-reference-area",l)},e.renderRect(g,KP(KP({clipPath:_},Ie(this.props,!0)),b)),en.renderCallByParent(this.props,b))}}])}(M.Component);Cm(Nm,"displayName","ReferenceArea");Cm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cm(Nm,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(Vw,V0({},e,{className:"recharts-reference-area-rect"})),n});function GR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Tue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xle(r,n)}function Aue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function tp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Pue(t,e){return GR(t,e+1)}function Iue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,h=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:GR(r,u)};var g=l,b,_=function(){return b===void 0&&(b=n(m,g)),b},v=m.coordinate,w=l===0||tp(t,v,_,h,s);w||(l=0,h=a,u+=1),w&&(h=v+t*(_()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Cue(t,"string");return _c(e)=="symbol"?e:e+""}function Cue(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var b=t*(p.coordinate+t*g()/2-l);o[d]=p=Yt(Yt({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[d]=p=Yt(Yt({},p),{},{tickCoord:p.coordinate});var _=tp(t,p.tickCoord,g,s,l);_&&(l=p.tickCoord-t*(g()/2+i),o[d]=Yt(Yt({},p),{},{isShow:!0}))},h=a-1;h>=0;h--)u(h);return o}function jue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var h=r[s-1],f=n(h,s-1),d=t*(h.coordinate+t*f/2-u);a[s-1]=h=Yt(Yt({},h),{},{tickCoord:d>0?h.coordinate-d*t:h.coordinate});var p=tp(t,h.tickCoord,function(){return f},l,u);p&&(u=h.tickCoord-t*(f/2+i),a[s-1]=Yt(Yt({},h),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(v){var w=a[v],O,T=function(){return O===void 0&&(O=n(w,v)),O};if(v===0){var P=t*(w.coordinate-t*T()/2-l);a[v]=w=Yt(Yt({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else a[v]=w=Yt(Yt({},w),{},{tickCoord:w.coordinate});var S=tp(t,w.tickCoord,T,l,u);S&&(l=w.tickCoord+t*(T()/2+i),a[v]=Yt(Yt({},w),{},{isShow:!0}))},b=0;b<m;b++)g(b);return a}function Kw(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,h=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||ti.isSsr)return Pue(i,typeof l=="number"&&ie(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=h&&p==="width"?fu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,O){var T=Se(u)?u(w.value,O):w.value;return p==="width"?Tue(fu(T,{fontSize:e,letterSpacing:n}),m,f):fu(T,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?fr(i[1].coordinate-i[0].coordinate):1,_=Aue(o,b,p);return l==="equidistantPreserveStart"?Iue(b,_,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=jue(b,_,g,i,a,l==="preserveStartEnd"):d=Nue(b,_,g,i,a),d.filter(function(v){return v.isShow}))}var Rue=["viewBox"],Mue=["viewBox"],Due=["ticks"];function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sy(t,e){if(t==null)return{};var n=$ue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function Vue(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fue(t,e,n){return e=np(e),Bue(t,HR()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function Bue(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function zue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B0(t,e)}function Xw(t,e,n){return e=qR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=Wue(t,"string");return Ms(e)=="symbol"?e:e+""}function Wue(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var al=function(t){function e(n){var r;return Lue(this,e),r=Fue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zue(e,t),Vue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=sy(r,Rue),s=this.props,l=s.viewBox,u=sy(s,Mue);return!Ja(o,l)||!Ja(a,u)||!Ja(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,h=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,b,_,v,w=f?-1:1,O=r.tickSize||h,T=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,b=a+ +!f*l,g=b-w*O,v=g-w*d,_=T;break;case"left":g=b=r.coordinate,m=o+ +!f*s,p=m-w*O,_=p-w*d,v=T;break;case"right":g=b=r.coordinate,m=o+ +f*s,p=m+w*O,_=p+w*d,v=T;break;default:p=m=r.coordinate,b=a+ +f*l,g=b+w*O,v=g+w*d,_=T;break}return{line:{x1:p,y1:g,x2:m,y2:b},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,h=r.axisLine,f=bt(bt(bt({},Ie(this.props,!1)),Ie(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=bt(bt({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=bt(bt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",Fa({},f,{className:Ce("recharts-cartesian-axis-line",Hn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,h=s.tick,f=s.tickFormatter,d=s.unit,p=Kw(bt(bt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Ie(this.props,!1),_=Ie(h,!1),v=bt(bt({},b),{},{fill:"none"},Ie(l,!1)),w=p.map(function(O,T){var P=a.getTickLineCoord(O),S=P.line,E=P.tick,I=bt(bt(bt(bt({textAnchor:m,verticalAnchor:g},b),{},{stroke:"none",fill:u},_),E),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(pt,Fa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},cd(a.props,O,T)),l&&M.createElement("line",Fa({},v,S,{className:Ce("recharts-cartesian-axis-tick-line",Hn(l,"className"))})),h&&e.renderTickItem(h,I,"".concat(Se(f)?f(O.value,T):O.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var f=this.props,d=f.ticks,p=sy(f,Due),m=d;return Se(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:M.createElement(pt,{className:Ce("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),en.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ce(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,bt(bt({},i),{},{className:s})):Se(r)?a=r(bt(bt({},i),{},{className:s})):a=M.createElement(Ed,Fa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}($.Component);Xw(al,"displayName","CartesianAxis");Xw(al,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gue=["x1","y1","x2","y2","key"],Hue=["offset"];function na(t){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(t)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kue(t){var e=Xue(t,"string");return na(e)=="symbol"?e:e+""}function Xue(t,e){if(na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}function eI(t,e){if(t==null)return{};var n=Yue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Que=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KR(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=eI(e,Gue),u=Ie(l,!1);u.offset;var h=eI(u,Hue);n=M.createElement("line",Ro({},h,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Jue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=tn(tn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return KR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Zue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=tn(tn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return KR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function ece(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var h=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==h[0]&&h.unshift(0);var f=h.map(function(d,p){var m=!h[p+1],g=m?i+a-d:h[p+1]-d;if(g<=0)return null;var b=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==h[0]&&h.unshift(0);var f=h.map(function(d,p){var m=!h[p+1],g=m?o+s-d:h[p+1]-d;if(g<=0)return null;var b=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return iR(Kw(tn(tn(tn({},al.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},rce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return iR(Kw(tn(tn(tn({},al.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},wa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XR(t){var e,n,r,i,o,a,s=Ww(),l=Gw(),u=qle(),h=tn(tn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:wa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:wa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:wa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:wa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:wa.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:wa.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=h.x,d=h.y,p=h.width,m=h.height,g=h.syncWithTicks,b=h.horizontalValues,_=h.verticalValues,v=Wle(),w=Gle();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(f)||f!==+f||!ie(d)||d!==+d)return null;var O=h.verticalCoordinatesGenerator||nce,T=h.horizontalCoordinatesGenerator||rce,P=h.horizontalPoints,S=h.verticalPoints;if((!P||!P.length)&&Se(T)){var E=b&&b.length,I=T({yAxis:w?tn(tn({},w),{},{ticks:E?b:w.ticks}):void 0,width:s,height:l,offset:u},E?!0:g);ei(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(na(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Se(O)){var k=_&&_.length,C=O({xAxis:v?tn(tn({},v),{},{ticks:k?_:v.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);ei(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(na(C),"]")),Array.isArray(C)&&(S=C)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Que,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),M.createElement(Jue,Ro({},h,{offset:u,horizontalPoints:P,xAxis:v,yAxis:w})),M.createElement(Zue,Ro({},h,{offset:u,verticalPoints:S,xAxis:v,yAxis:w})),M.createElement(ece,Ro({},h,{horizontalPoints:P})),M.createElement(tce,Ro({},h,{verticalPoints:S})))}XR.displayName="CartesianGrid";var ice=["type","layout","connectNulls","ref"],oce=["key"];function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function tI(t,e){if(t==null)return{};var n=ace(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xa(t){return cce(t)||uce(t)||lce(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cce(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QR(r.key),r)}}function hce(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dce(t,e,n){return e=rp(e),pce(t,YR()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function pce(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function sr(t,e,n){return e=QR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QR(t){var e=yce(t,"string");return Ds(e)=="symbol"?e:e+""}function yce(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yc=function(t){function e(){var n;fce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dce(this,e,[].concat(i)),sr(n,"state",{isAnimationFinished:!0,totalLength:0}),sr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),sr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,v){return _+v});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var h=Math.floor(a/u),f=a%u,d=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(xa(l.slice(0,m)),[f-g]);break}var b=p.length%2===0?[0,d]:[d];return[].concat(xa(e.repeat(l,h)),xa(p),b).map(function(_){return"".concat(_,"px")}).join(", ")}),sr(n,"id",Uc("recharts-line-")),sr(n,"pathRef",function(a){n.mainCurve=a}),sr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),sr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return gce(e,t),hce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,h=o.children,f=qn(h,Kc);if(!f)return null;var d=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Rn(g.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(pt,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,h=s.dataKey,f=Ie(this.props,!1),d=Ie(l,!0),p=u.map(function(g,b){var _=Tn(Tn(Tn({key:"dot-".concat(b),r:3},f),d),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:h,payload:g.payload,points:u});return e.renderDotItem(l,_)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(pt,mu({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,h=s.connectNulls;s.ref;var f=tI(s,ice),d=Tn(Tn(Tn({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:h});return M.createElement(_0,mu({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,h=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,b=a.height,_=this.state,v=_.prevPoints,w=_.totalLength;return M.createElement(Is,{begin:h,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(v){var P=v.length/s.length,S=s.map(function(R,N){var U=Math.floor(N*P);if(v[U]){var W=v[U],B=ur(W.x,R.x),K=ur(W.y,R.y);return Tn(Tn({},R),{},{x:B(T),y:K(T)})}if(m){var L=ur(g*2,R.x),G=ur(b/2,R.y);return Tn(Tn({},R),{},{x:L(T),y:G(T)})}return Tn(Tn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(S,r,i)}var E=ur(0,w),I=E(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(I,w,C)}else k=o.generateSimpleStrokeDasharray(w,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,h=l.totalLength;return s&&a&&a.length&&(!u&&h>0||!xm(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,h=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,v=s.length===1,w=Ce("recharts-line",l),O=u&&u.allowDataOverflow,T=h&&h.allowDataOverflow,P=O||T,S=Ee(b)?this.id:b,E=(r=Ie(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=E.r,k=I===void 0?3:I,C=E.strokeWidth,R=C===void 0?2:C,N=$z(a)?a:{},U=N.clipDot,W=U===void 0?!0:U,B=k*2+R;return M.createElement(pt,{className:w},O||T?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:O?d:d-p/2,y:T?f:f-m/2,width:O?p:p*2,height:T?m:m*2})),!W&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:d-B/2,y:f-B/2,width:p+B,height:m+B}))):null,!v&&this.renderCurve(P,S),this.renderErrorBar(P,S),(v||a)&&this.renderDots(P,W,S),(!g||_)&&Yi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(xa(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(xa(a),xa(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=tI(i,oce),l=Ce("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(Fw,mu({key:a},s,{className:l}))}return o}}])}($.PureComponent);sr(Yc,"displayName","Line");sr(Yc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});sr(Yc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,h=e.layout,f=l.map(function(d,p){var m=Rn(d,a);return h==="horizontal"?{x:jA({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Ee(m)?null:r.scale(m),value:m,payload:d}:{x:Ee(m)?null:n.scale(m),y:jA({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return Tn({points:f,layout:h},u)});function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eM(r.key),r)}}function bce(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=ip(e),wce(t,JR()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function wce(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W0(t,e)}function ZR(t,e,n){return e=eM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eM(t){var e=Ece(t,"string");return $s(e)=="symbol"?e:e+""}function Ece(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function Tce(t){var e=t.xAxisId,n=Ww(),r=Gw(),i=$R(e);return i==null?null:$.createElement(al,G0({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Yr(a,!0)}}))}var jm=function(t){function e(){return vce(this,e),_ce(this,e,arguments)}return Sce(e,t),bce(e,[{key:"render",value:function(){return $.createElement(Tce,this.props)}}])}($.Component);ZR(jm,"displayName","XAxis");ZR(jm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function Pce(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,n){return e=op(e),Oce(t,tM()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(t)}function kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Cce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H0(t,e)}function nM(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=Nce(t,"string");return Ls(e)=="symbol"?e:e+""}function Nce(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}var jce=function(e){var n=e.yAxisId,r=Ww(),i=Gw(),o=LR(n);return o==null?null:$.createElement(al,q0({},o,{className:Ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Yr(s,!0)}}))},Rm=function(t){function e(){return Ace(this,e),Ice(this,e,arguments)}return Cce(e,t),Pce(e,[{key:"render",value:function(){return $.createElement(jce,this.props)}}])}($.Component);nM(Rm,"displayName","YAxis");nM(Rm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aI(t){return $ce(t)||Dce(t)||Mce(t)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mce(t,e){if(t){if(typeof t=="string")return K0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(t,e)}}function Dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ce(t){if(Array.isArray(t))return K0(t)}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X0=function(e,n,r,i,o){var a=qn(e,qw),s=qn(e,km),l=[].concat(aI(a),aI(s)),u=qn(e,Nm),h="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,b){if(b.props[h]===r&&kr(b.props,"extendDomain")&&ie(b.props[f])){var _=b.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,b){if(b.props[h]===r&&kr(b.props,"extendDomain")&&ie(b.props[p])&&ie(b.props[m])){var _=b.props[p],v=b.props[m];return[Math.min(g[0],_,v),Math.max(g[1],_,v)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,b){return ie(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},d)),d},iM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function o(l,u,h,f,d){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new i(h,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},s.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,h,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var b=this._events[g],_=arguments.length,v,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,d),!0;case 5:return b.fn.call(b.context,h,f,d,p),!0;case 6:return b.fn.call(b.context,h,f,d,p,m),!0}for(w=1,v=new Array(_-1);w<_;w++)v[w-1]=arguments[w];b.fn.apply(b.context,v)}else{var O=b.length,T;for(w=0;w<O;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),_){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,h);break;case 3:b[w].fn.call(b[w].context,h,f);break;case 4:b[w].fn.call(b[w].context,h,f,d);break;default:if(!v)for(T=1,v=new Array(_-1);T<_;T++)v[T-1]=arguments[T];b[w].fn.apply(b[w].context,v)}}return!0},s.prototype.on=function(u,h,f){return o(this,u,h,f,!1)},s.prototype.once=function(u,h,f){return o(this,u,h,f,!0)},s.prototype.removeListener=function(u,h,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!h)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===h&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,b=[],_=m.length;g<_;g++)(m[g].fn!==h||d&&!m[g].once||f&&m[g].context!==f)&&b.push(m[g]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(iM);var Lce=iM.exports;const Vce=We(Lce);var ly=new Vce,uy="recharts.syncMouseEvents";function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function Bce(t,e,n){return e&&sI(t.prototype,e),n&&sI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cy(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t){var e=Uce(t,"string");return wc(e)=="symbol"?e:e+""}function Uce(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zce=function(){function t(){Fce(this,t),cy(this,"activeIndex",0),cy(this,"coordinateList",[]),cy(this,"layout","horizontal")}return Bce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,h=n.offset,f=h===void 0?null:h,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Wce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function Gce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function aM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=$t(e,n,r,i),s=$t(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Hce(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,h=e.outerRadius,f=e.angle,d=$t(s,l,u,f),p=$t(s,l,h,f);r=d.x,i=d.y,o=p.x,a=p.y}else return aM(e);return[{x:r,y:i},{x:o,y:a}]}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return e=Kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Xce(t,"string");return xc(e)=="symbol"?e:e+""}function Xce(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,h=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=_0;if(d==="ScatterChart")m=a,g=tae;else if(d==="BarChart")m=Gce(f,a,l,h),g=Vw;else if(f==="radial"){var b=aM(a),_=b.cx,v=b.cy,w=b.radius,O=b.startAngle,T=b.endAngle;m={cx:_,cy:v,startAngle:O,endAngle:T,innerRadius:w,outerRadius:w},g=uR}else m={points:Hce(f,a,l)},g=_0;var P=Qf(Qf(Qf(Qf({stroke:"#ccc",pointerEvents:"none"},l),m),Ie(p,!1)),{},{payload:s,payloadIndex:u,className:Ce("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,P):$.createElement(g,P)}var Qce=["item"],Jce=["children","className","width","height","style","compact","title","desc"];function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}function uI(t,e){return tfe(t)||efe(t,e)||lM(t,e)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tfe(t){if(Array.isArray(t))return t}function cI(t,e){if(t==null)return{};var n=nfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function ife(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ofe(t,e,n){return e=ap(e),afe(t,sM()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function afe(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sfe(t)}function sfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y0(t,e)}function Fs(t){return ffe(t)||cfe(t)||lM(t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lM(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ffe(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=hfe(t,"string");return Vs(e)=="symbol"?e:e+""}function hfe(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dfe={xAxis:["bottom","top"],yAxis:["left","right"]},pfe={width:"100%",height:"100%"},cM={x:0,y:0};function Jf(t){return t}var mfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},gfe=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),$t(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),$t(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return cM},Mm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Fs(s),Fs(u)):s},[]);return a.length>0?a:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function fM(t){return t==="number"?[0,"auto"]:void 0}var J0=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Mm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=ld(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Fs(l),[aR(u,d)]):l},[])},dI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=mfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,h=Lne(a,s,u,l);if(h>=0&&u){var f=u[h]&&u[h].value,d=J0(e,n,h,f),p=gfe(r,s,h,o);return{activeTooltipIndex:h,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},yfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,f=e.children,d=e.stackOffset,p=rR(h,o);return r.reduce(function(m,g){var b,_=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,v=_.type,w=_.dataKey,O=_.allowDataOverflow,T=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,E=_.includeHidden,I=_[a];if(m[I])return m;var k=Mm(e.data,{graphicalItems:i.filter(function(F){var Y,oe=a in F.props?F.props[a]:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y[a];return oe===I}),dataStartIndex:l,dataEndIndex:u}),C=k.length,R,N,U;Wce(_.domain,O,v)&&(R=m0(_.domain,null,O),p&&(v==="number"||P!=="auto")&&(U=du(k,w,"category")));var W=fM(v);if(!R||R.length===0){var B,K=(B=_.domain)!==null&&B!==void 0?B:W;if(w){if(R=du(k,w,v),v==="category"&&p){var L=Pz(R);T&&L?(N=R,R=qd(0,C)):T||(R=$A(K,R,g).reduce(function(F,Y){return F.indexOf(Y)>=0?F:[].concat(Fs(F),[Y])},[]))}else if(v==="category")T?R=R.filter(function(F){return F!==""&&!Ee(F)}):R=$A(K,R,g).reduce(function(F,Y){return F.indexOf(Y)>=0||Y===""||Ee(Y)?F:[].concat(Fs(F),[Y])},[]);else if(v==="number"){var G=zne(k,i.filter(function(F){var Y,oe,he=a in F.props?F.props[a]:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y[a],me="hide"in F.props?F.props.hide:(oe=F.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return he===I&&(E||!me)}),w,o,h);G&&(R=G)}p&&(v==="number"||P!=="auto")&&(U=du(k,w,"category"))}else p?R=qd(0,C):s&&s[I]&&s[I].hasStack&&v==="number"?R=d==="expand"?[0,1]:oR(s[I].stackGroups,l,u):R=nR(k,i.filter(function(F){var Y=a in F.props?F.props[a]:F.type.defaultProps[a],oe="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return Y===I&&(E||!oe)}),v,h,!0);if(v==="number")R=X0(f,R,I,o,S),K&&(R=m0(K,R,O));else if(v==="category"&&K){var Q=K,ne=R.every(function(F){return Q.indexOf(F)>=0});ne&&(R=Q)}}return H(H({},m),{},ve({},I,H(H({},_),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=_.domain)!==null&&b!==void 0?b:W,isCategorical:p,layout:h})))},{})},vfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,f=e.children,d=Mm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=rR(h,o),g=-1;return r.reduce(function(b,_){var v=_.type.defaultProps!==void 0?H(H({},_.type.defaultProps),_.props):_.props,w=v[a],O=fM("number");if(!b[w]){g++;var T;return m?T=qd(0,p):s&&s[w]&&s[w].hasStack?(T=oR(s[w].stackGroups,l,u),T=X0(f,T,w,o)):(T=m0(O,nR(d,r.filter(function(P){var S,E,I=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],k="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===w&&!k}),"number",h),i.defaultProps.allowDataOverflow),T=X0(f,T,w,o)),H(H({},b),{},ve({},w,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:Hn(dfe,"".concat(o,".").concat(g%2),null),domain:T,originalDomain:O,isCategorical:m,layout:h})))}return b},{})},bfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.children,f="".concat(i,"Id"),d=qn(h,o),p={};return d&&d.length?p=yfe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=vfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},_fe=function(e){var n=Ni(e),r=Yr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ld(n,r)}},pI=function(e){var n=e.children,r=e.defaultShowTooltip,i=In(n,ks),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},wfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zr(n&&n.type);return r&&r.indexOf("Bar")>=0})},mI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,h=r.height,f=r.children,d=r.margin||{},p=In(f,ks),m=In(f,Vo),g=Object.keys(l).reduce(function(T,P){var S=l[P],E=S.orientation;return!S.mirror&&!S.hide?H(H({},T),{},ve({},E,T[E]+S.width)):T},{left:d.left||0,right:d.right||0}),b=Object.keys(a).reduce(function(T,P){var S=a[P],E=S.orientation;return!S.mirror&&!S.hide?H(H({},T),{},ve({},E,Hn(T,"".concat(E))+S.height)):T},{top:d.top||0,bottom:d.bottom||0}),_=H(H({},b),g),v=_.bottom;p&&(_.bottom+=p.props.height||ks.defaultProps.height),m&&n&&(_=Bne(_,i,r,n));var w=u-_.left-_.right,O=h-_.top-_.bottom;return H(H({brushBottom:v},_),{},{width:Math.max(w,0),height:Math.max(O,0)})},Sfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Efe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,h=e.formatAxisMap,f=e.defaultProps,d=function(_,v){var w=v.graphicalItems,O=v.stackGroups,T=v.offset,P=v.updateId,S=v.dataStartIndex,E=v.dataEndIndex,I=_.barSize,k=_.layout,C=_.barGap,R=_.barCategoryGap,N=_.maxBarSize,U=mI(k),W=U.numericAxisName,B=U.cateAxisName,K=wfe(w),L=[];return w.forEach(function(G,Q){var ne=Mm(_.data,{graphicalItems:[G],dataStartIndex:S,dataEndIndex:E}),F=G.type.defaultProps!==void 0?H(H({},G.type.defaultProps),G.props):G.props,Y=F.dataKey,oe=F.maxBarSize,he=F["".concat(W,"Id")],me=F["".concat(B,"Id")],ee={},de=l.reduce(function(Zn,vr){var sl=v["".concat(vr.axisType,"Map")],ha=F["".concat(vr.axisType,"Id")];sl&&sl[ha]||vr.axisType==="zAxis"||ta(!1);var da=sl[ha];return H(H({},Zn),{},ve(ve({},vr.axisType,da),"".concat(vr.axisType,"Ticks"),Yr(da)))},ee),X=de[B],ae=de["".concat(B,"Ticks")],ge=O&&O[he]&&O[he].hasStack&&tre(G,O[he].stackGroups),q=Zr(G.type).indexOf("Bar")>=0,Ne=Ld(X,ae),fe=[],$e=K&&Vne({barSize:I,stackGroups:O,totalSize:Sfe(de,B)});if(q){var V,se,Je=Ee(oe)?N:oe,Ze=(V=(se=Ld(X,ae,!0))!==null&&se!==void 0?se:Je)!==null&&V!==void 0?V:0;fe=Fne({barGap:C,barCategoryGap:R,bandSize:Ze!==Ne?Ze:Ne,sizeList:$e[me],maxBarSize:Je}),Ze!==Ne&&(fe=fe.map(function(Zn){return H(H({},Zn),{},{position:H(H({},Zn.position),{},{offset:Zn.position.offset-Ze/2})})}))}var zt=G&&G.type&&G.type.getComposedData;zt&&L.push({props:H(H({},zt(H(H({},de),{},{displayedData:ne,props:_,dataKey:Y,item:G,bandSize:Ne,barPosition:fe,offset:T,stackedData:ge,layout:k,dataStartIndex:S,dataEndIndex:E}))),{},ve(ve(ve({key:G.key||"item-".concat(Q)},W,de[W]),B,de[B]),"animationId",P)),childIndex:Fz(G,_.children),item:G})}),L},p=function(_,v){var w=_.props,O=_.dataStartIndex,T=_.dataEndIndex,P=_.updateId;if(!AE({props:w}))return null;var S=w.children,E=w.layout,I=w.stackOffset,k=w.data,C=w.reverseStackOrder,R=mI(E),N=R.numericAxisName,U=R.cateAxisName,W=qn(S,r),B=Jne(k,W,"".concat(N,"Id"),"".concat(U,"Id"),I,C),K=l.reduce(function(F,Y){var oe="".concat(Y.axisType,"Map");return H(H({},F),{},ve({},oe,bfe(w,H(H({},Y),{},{graphicalItems:W,stackGroups:Y.axisType===N&&B,dataStartIndex:O,dataEndIndex:T}))))},{}),L=xfe(H(H({},K),{},{props:w,graphicalItems:W}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(F){K[F]=h(w,K[F],L,F.replace("Map",""),n)});var G=K["".concat(U,"Map")],Q=_fe(G),ne=d(w,H(H({},K),{},{dataStartIndex:O,dataEndIndex:T,updateId:P,graphicalItems:W,stackGroups:B,offset:L}));return H(H({formattedGraphicalItems:ne,graphicalItems:W,offset:L,stackGroups:B},Q),K)},m=function(b){function _(v){var w,O,T;return rfe(this,_),T=ofe(this,_,[v]),ve(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(T,"accessibilityManager",new zce),ve(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,E=S.dataStartIndex,I=S.dataEndIndex,k=S.updateId;T.setState(H({legendBBox:P},p({props:T.props,dataStartIndex:E,dataEndIndex:I,updateId:k},H(H({},T.state),{},{legendBBox:P}))))}}),ve(T,"handleReceiveSyncEvent",function(P,S,E){if(T.props.syncId===P){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),ve(T,"handleBrushChange",function(P){var S=P.startIndex,E=P.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return H({dataStartIndex:S,dataEndIndex:E},p({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),ve(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var E=H(H({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseEnter;Se(I)&&I(E,P)}}),ve(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),E=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseMove;Se(I)&&I(E,P)}),ve(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ve(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ve(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),ve(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;Se(E)&&E(S,P)}),ve(T,"handleOuterEvent",function(P){var S=Vz(P),E=Hn(T.props,"".concat(S));if(S&&Se(E)){var I,k;/.*touch.*/i.test(S)?k=T.getMouseInfo(P.changedTouches[0]):k=T.getMouseInfo(P),E((I=k)!==null&&I!==void 0?I:{},P)}}),ve(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var E=H(H({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onClick;Se(I)&&I(E,P)}}),ve(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(Se(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(Se(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ve(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),ve(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),ve(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(Se(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(Se(S)){var E=T.getMouseInfo(P);S(E,P)}}),ve(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&ly.emit(uy,T.props.syncId,P,T.eventEmitterSymbol)}),ve(T,"applySyncEvent",function(P){var S=T.props,E=S.layout,I=S.syncMethod,k=T.state.updateId,C=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(H({dataStartIndex:C,dataEndIndex:R},p({props:T.props,dataStartIndex:C,dataEndIndex:R,updateId:k},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,W=P.activeTooltipIndex,B=T.state,K=B.offset,L=B.tooltipTicks;if(!K)return;if(typeof I=="function")W=I(L,P);else if(I==="value"){W=-1;for(var G=0;G<L.length;G++)if(L[G].value===P.activeLabel){W=G;break}}var Q=H(H({},K),{},{x:K.left,y:K.top}),ne=Math.min(N,Q.x+Q.width),F=Math.min(U,Q.y+Q.height),Y=L[W]&&L[W].value,oe=J0(T.state,T.props.data,W),he=L[W]?{x:E==="horizontal"?L[W].coordinate:ne,y:E==="horizontal"?F:L[W].coordinate}:cM;T.setState(H(H({},P),{},{activeLabel:Y,activeCoordinate:he,activePayload:oe,activeTooltipIndex:W}))}else T.setState(P)}),ve(T,"renderCursor",function(P){var S,E=T.state,I=E.isTooltipActive,k=E.activeCoordinate,C=E.activePayload,R=E.offset,N=E.activeTooltipIndex,U=E.tooltipAxisBandSize,W=T.getTooltipEventType(),B=(S=P.props.active)!==null&&S!==void 0?S:I,K=T.props.layout,L=P.key||"_recharts-cursor";return M.createElement(Yce,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:B,layout:K,offset:R,tooltipAxisBandSize:U,tooltipEventType:W})}),ve(T,"renderPolarAxis",function(P,S,E){var I=Hn(P,"type.axisType"),k=Hn(T.state,"".concat(I,"Map")),C=P.type.defaultProps,R=C!==void 0?H(H({},C),P.props):P.props,N=k&&k[R["".concat(I,"Id")]];return $.cloneElement(P,H(H({},N),{},{className:Ce(I,N.className),key:P.key||"".concat(S,"-").concat(E),ticks:Yr(N,!0)}))}),ve(T,"renderPolarGrid",function(P){var S=P.props,E=S.radialLines,I=S.polarAngles,k=S.polarRadius,C=T.state,R=C.radiusAxisMap,N=C.angleAxisMap,U=Ni(R),W=Ni(N),B=W.cx,K=W.cy,L=W.innerRadius,G=W.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:Yr(W,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(k)?k:Yr(U,!0).map(function(Q){return Q.coordinate}),cx:B,cy:K,innerRadius:L,outerRadius:G,key:P.key||"polar-grid",radialLines:E})}),ve(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,E=S.children,I=S.width,k=S.height,C=T.props.margin||{},R=I-(C.left||0)-(C.right||0),N=eR({children:E,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!N)return null;var U=N.item,W=cI(N,Qce);return $.cloneElement(U,H(H({},W),{},{chartWidth:I,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ve(T,"renderTooltip",function(){var P,S=T.props,E=S.children,I=S.accessibilityLayer,k=In(E,wr);if(!k)return null;var C=T.state,R=C.isTooltipActive,N=C.activeCoordinate,U=C.activePayload,W=C.activeLabel,B=C.offset,K=(P=k.props.active)!==null&&P!==void 0?P:R;return $.cloneElement(k,{viewBox:H(H({},B),{},{x:B.left,y:B.top}),active:K,label:W,payload:K?U:[],coordinate:N,accessibilityLayer:I})}),ve(T,"renderBrush",function(P){var S=T.props,E=S.margin,I=S.data,k=T.state,C=k.offset,R=k.dataStartIndex,N=k.dataEndIndex,U=k.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:qf(T.handleBrushChange,P.props.onChange),data:I,x:ie(P.props.x)?P.props.x:C.left,y:ie(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:ie(P.props.width)?P.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(U)})}),ve(T,"renderReferenceElement",function(P,S,E){if(!P)return null;var I=T,k=I.clipPathId,C=T.state,R=C.xAxisMap,N=C.yAxisMap,U=C.offset,W=P.type.defaultProps||{},B=P.props,K=B.xAxisId,L=K===void 0?W.xAxisId:K,G=B.yAxisId,Q=G===void 0?W.yAxisId:G;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(E),xAxis:R[L],yAxis:N[Q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),ve(T,"renderActivePoints",function(P){var S=P.item,E=P.activePoint,I=P.basePoint,k=P.childIndex,C=P.isRange,R=[],N=S.props.key,U=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,W=U.activeDot,B=U.dataKey,K=H(H({index:k,dataKey:B,cx:E.x,cy:E.y,r:4,fill:Lw(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ie(W,!1)),ud(W));return R.push(_.renderActiveDot(W,K,"".concat(N,"-activePoint-").concat(k))),I?R.push(_.renderActiveDot(W,H(H({},K),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(k))):C&&R.push(null),R}),ve(T,"renderGraphicChild",function(P,S,E){var I=T.filterFormatItem(P,S,E);if(!I)return null;var k=T.getTooltipEventType(),C=T.state,R=C.isTooltipActive,N=C.tooltipAxis,U=C.activeTooltipIndex,W=C.activeLabel,B=T.props.children,K=In(B,wr),L=I.props,G=L.points,Q=L.isRange,ne=L.baseLine,F=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,Y=F.activeDot,oe=F.hide,he=F.activeBar,me=F.activeShape,ee=!!(!oe&&R&&K&&(Y||he||me)),de={};k!=="axis"&&K&&K.props.trigger==="click"?de={onClick:qf(T.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(de={onMouseLeave:qf(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:qf(T.handleItemMouseEnter,P.props.onMouseEnter)});var X=$.cloneElement(P,H(H({},I.props),de));function ae(vr){return typeof N.dataKey=="function"?N.dataKey(vr.payload):null}if(ee)if(U>=0){var ge,q;if(N.dataKey&&!N.allowDuplicatedCategory){var Ne=typeof N.dataKey=="function"?ae:"payload.".concat(N.dataKey.toString());ge=ld(G,Ne,W),q=Q&&ne&&ld(ne,Ne,W)}else ge=G==null?void 0:G[U],q=Q&&ne&&ne[U];if(me||he){var fe=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[$.cloneElement(P,H(H(H({},I.props),de),{},{activeIndex:fe})),null,null]}if(!Ee(ge))return[X].concat(Fs(T.renderActivePoints({item:I,activePoint:ge,basePoint:q,childIndex:U,isRange:Q})))}else{var $e,V=($e=T.getItemByXY(T.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:X},se=V.graphicalItem,Je=se.item,Ze=Je===void 0?P:Je,zt=se.childIndex,Zn=H(H(H({},I.props),de),{},{activeIndex:zt});return[$.cloneElement(Ze,Zn),null,null]}return Q?[X,null,null]:[X,null]}),ve(T,"renderCustomized",function(P,S,E){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(E)},T.props),T.state))}),ve(T,"renderMap",{CartesianGrid:{handler:Jf,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Jf},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Jf},YAxis:{handler:Jf},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:Uc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=ZN(T.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return lfe(_,b),ife(_,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,T=w.data,P=w.height,S=w.layout,E=In(O,wr);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=J0(this.state,T,I,k),R=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,U=S==="horizontal",W=U?{x:R,y:N}:{y:R,x:N},B=this.state.formattedGraphicalItems.find(function(L){var G=L.item;return G.type.name==="Scatter"});B&&(W=H(H({},W),B.props.points[I].tooltipPosition),C=B.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:W};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){kv([In(w.children,wr)],[In(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=In(this.props.children,wr);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),P=cJ(T),S={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},E=T.width/O.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,E);if(!I)return null;var k=this.state,C=k.xAxisMap,R=k.yAxisMap,N=this.getTooltipEventType(),U=dI(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&C&&R){var W=Ni(C).scale,B=Ni(R).scale,K=W&&W.invert?W.invert(S.chartX):null,L=B&&B.invert?B.invert(S.chartY):null;return H(H({},S),{},{xValue:K,yValue:L},U)}return U?H(H({},S),U):null}},{key:"inRange",value:function(w,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=w/T,E=O/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,k=S>=I.left&&S<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return k?{x:S,y:E}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var U=Ni(R);return FA({x:S,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),T=In(w,wr),P={};T&&O==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=ud(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){ly.on(uy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ly.removeListener(uy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,T){for(var P=this.state.formattedGraphicalItems,S=0,E=P.length;S<E;S++){var I=P[S];if(I.item===w||I.props.key===w.key||O===Zr(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,T=O.left,P=O.top,S=O.height,E=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:T,y:P,height:S,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,T){var P=uI(T,2),S=P[0],E=P[1];return H(H({},O),{},ve({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,T){var P=uI(T,2),S=P[0],E=P[1];return H(H({},O),{},ve({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,T=O.formattedGraphicalItems,P=O.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var I=T[S],k=I.props,C=I.item,R=C.type.defaultProps!==void 0?H(H({},C.type.defaultProps),C.props):C.props,N=Zr(C.type);if(N==="Bar"){var U=(k.data||[]).find(function(L){return Goe(w,L)});if(U)return{graphicalItem:I,payload:U}}else if(N==="RadialBar"){var W=(k.data||[]).find(function(L){return FA(w,L)});if(W)return{graphicalItem:I,payload:W}}else if(Am(I,P)||Pm(I,P)||gc(I,P)){var B=Kae({graphicalItem:I,activeTooltipItem:P,itemData:R.data}),K=R.activeIndex===void 0?B:R.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:K}),payload:gc(I,P)?R.data[B]:I.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!AE(this))return null;var O=this.props,T=O.children,P=O.className,S=O.width,E=O.height,I=O.style,k=O.compact,C=O.title,R=O.desc,N=cI(O,Jce),U=Ie(N,!1);if(k)return M.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Nv,Ba({},U,{width:S,height:E,title:C,desc:R}),this.renderClipPath(),IE(T,this.renderMap)));if(this.props.accessibilityLayer){var W,B;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(B=this.props.role)!==null&&B!==void 0?B:"application",U.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},U.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return M.createElement(VP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ba({className:Ce("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:E},I)},K,{ref:function(G){w.container=G}}),M.createElement(Nv,Ba({},U,{width:S,height:E,title:C,desc:R,style:pfe}),this.renderClipPath(),IE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ve(m,"displayName",n),ve(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(m,"getDerivedStateFromProps",function(b,_){var v=b.dataKey,w=b.data,O=b.children,T=b.width,P=b.height,S=b.layout,E=b.stackOffset,I=b.margin,k=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var R=pI(b);return H(H(H({},R),{},{updateId:0},p(H(H({props:b},R),{},{updateId:0}),_)),{},{prevDataKey:v,prevData:w,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(v!==_.prevDataKey||w!==_.prevData||T!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||E!==_.prevStackOffset||!Ja(I,_.prevMargin)){var N=pI(b),U={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},W=H(H({},dI(_,w,S)),{},{updateId:_.updateId+1}),B=H(H(H({},N),U),W);return H(H(H({},B),p(H({props:b},B),_)),{},{prevDataKey:v,prevData:w,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(!kv(O,_.prevChildren)){var K,L,G,Q,ne=In(O,ks),F=ne&&(K=(L=ne.props)===null||L===void 0?void 0:L.startIndex)!==null&&K!==void 0?K:k,Y=ne&&(G=(Q=ne.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&G!==void 0?G:C,oe=F!==k||Y!==C,he=!Ee(w),me=he&&!oe?_.updateId:_.updateId+1;return H(H({updateId:me},p(H(H({props:b},_),{},{updateId:me,dataStartIndex:F,dataEndIndex:Y}),_)),{},{prevChildren:O,dataStartIndex:F,dataEndIndex:Y})}return null}),ve(m,"renderActiveDot",function(b,_,v){var w;return $.isValidElement(b)?w=$.cloneElement(b,_):Se(b)?w=b(_):w=M.createElement(Fw,_),M.createElement(pt,{className:"recharts-active-dot",key:v},w)});var g=$.forwardRef(function(_,v){return M.createElement(m,Ba({},_,{ref:v}))});return g.displayName=m.displayName,g},Tfe=Efe({chartName:"LineChart",GraphicalChild:Yc,axisComponents:[{axisType:"xAxis",AxisComp:jm},{axisType:"yAxis",AxisComp:Rm}],formatAxisMap:ble});const Afe=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),Pfe=({className:t=""})=>x.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Ife=({className:t=""})=>x.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("circle",{cx:"12",cy:"8",r:"4"}),x.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),hM=({className:t=""})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),Ofe=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[x.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),x.jsx("polyline",{points:"16 6 12 2 8 6"}),x.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),kfe=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Cfe=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Nfe=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),jfe=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[x.jsx("path",{d:"M3 3v18h18"}),x.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Rfe=({className:t=""})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:x.jsx("polyline",{points:"9 18 15 12 9 6"})}),sp=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Mfe=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Dfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:x.jsx(Mfe,{})})]}),x.jsx("div",{style:{width:"100%",height:300},children:x.jsx(rJ,{children:x.jsxs(Tfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[x.jsx(XR,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(jm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),x.jsx(Rm,{stroke:"#6b7280"}),x.jsx(wr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return x.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&x.jsxs("div",{children:[x.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),x.jsxs("div",{children:[x.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),x.jsx(Vo,{wrapperStyle:{color:"#e2e8f0"}}),x.jsx(Yc,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const $fe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},Lfe=t=>{const e=[];return Object.values($fe).forEach(n=>{n.check(t)&&e.push(n)}),e},Vfe=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return x.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[x.jsx("span",{children:t.emoji}),x.jsx("span",{className:"hidden sm:inline",children:t.name})]})},Ffe=({badges:t})=>t.length===0?null:x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:""}),x.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),x.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>x.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&x.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),Bfe=({badges:t})=>t.length===0?x.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):x.jsxs("div",{className:"mt-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" Achievements"}),x.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>x.jsx(Vfe,{badge:e,size:"sm"},e.id))})]}),Ufe=({className:t=""})=>x.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),zfe=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Wfe=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=$.useState(!1),[o,a]=$.useState(""),[s,l]=$.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),d={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(` iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
 Google Photos (shareable links)
 iCloud Shared Albums
 Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,d];n(t,p),a(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},h=f=>{const d=e.filter(p=>p.id!==f);n(t,d)};return x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:" Game Photos"}),x.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[x.jsx(zfe,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&x.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[x.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),x.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),x.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),x.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",x.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",x.jsx("br",{})," ",x.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&x.jsx("div",{className:"space-y-2",children:e.map(f=>x.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[x.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:d=>{d.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&x.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:""})]}),x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),x.jsx("button",{onClick:()=>h(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:""})]},f.id))}),e.length===0&&!r&&x.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},Gfe=({photos:t=[]})=>t.length===0?null:x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx(Ufe,{className:"w-3 h-3 text-gray-500"}),x.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),x.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>x.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&x.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),Hfe=Wfe,qfe=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],ra=t=>!t||!t.email||t.isAnonymous?!1:qfe.includes(t.email.toLowerCase()),Bl=t=>ra(t),lp=t=>ra(t),Kfe=t=>ra(t),fy=t=>ra(t),Xfe=t=>!t||t.isAnonymous?"guest":ra(t)?"admin":"viewer",dn=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},Yfe=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Qfe=({isExpanded:t,className:e=""})=>x.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),et=({label:t,value:e,onClick:n,clickable:r})=>x.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""}`,onClick:r?n:void 0,children:[x.jsx("span",{className:"text-xs text-orange-500 mb-1",children:t}),x.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function Jfe(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function Zfe({user:t,stats:e=[],onDeleteGame:n,onUpdateGamePhotos:r,externalFilters:i={},isUserAdmin:o=!1}){$.useState("");const[a,s]=$.useState(null),[l,u]=$.useState(i.searchTerm||""),[h,f]=$.useState(i.dateFilter||""),[d,p]=$.useState(i.outcomeFilter||""),[m,g]=$.useState([]),[b,_]=$.useState(!0),[v,w]=$.useState(1),[O,T]=$.useState(null),[P,S]=$.useState(null);$.useState(!1);const[E,I]=$.useState([]),[k,C]=$.useState(!1),[R,N]=$.useState(!1),U=4;$.useEffect(()=>{u(i.searchTerm||""),f(i.dateFilter||""),p(i.outcomeFilter||""),w(1)},[i]);const W=$.useMemo(()=>{const V=new Set;return(e||[]).forEach(se=>{se.opponent&&V.add(se.opponent.trim())}),Array.from(V)},[e]);$.useMemo(()=>l?W.filter(V=>V.toLowerCase().includes(l.toLowerCase())).slice(0,7):[],[W,l]);const B=(e||[]).reduce((V,se)=>(V.points=(V.points||0)+(parseInt(se.points,10)||0),V.fg2m=(V.fg2m||0)+(parseInt(se.fg2m,10)||0),V.fg2a=(V.fg2a||0)+(parseInt(se.fg2a,10)||0),V.fg3m=(V.fg3m||0)+(parseInt(se.fg3m,10)||0),V.fg3a=(V.fg3a||0)+(parseInt(se.fg3a,10)||0),V.ftm=(V.ftm||0)+(parseInt(se.ftm,10)||0),V.fta=(V.fta||0)+(parseInt(se.fta,10)||0),V.rebounds=(V.rebounds||0)+(parseInt(se.rebounds,10)||0),V.assists=(V.assists||0)+(parseInt(se.assists,10)||0),V.steals=(V.steals||0)+(parseInt(se.steals,10)||0),V.blocks=(V.blocks||0)+(parseInt(se.blocks,10)||0),V.fouls=(V.fouls||0)+(parseInt(se.fouls,10)||0),V.turnovers=(V.turnovers||0)+(parseInt(se.turnovers,10)||0),V.gamesPlayed=(V.gamesPlayed||0)+1,V),{}),K=(B.fg2m||0)+(B.fg3m||0),L=(B.fg2a||0)+(B.fg3a||0),G=(V,se)=>!se||se===0?"0%":`${Math.round(V/se*100)}%`,Q=(V,se)=>!se||se===0?V>0?`${V.toFixed(1)}`:"0.0":(V/se).toFixed(2),ne=$.useMemo(()=>{let V=[...e||[]];return l&&(V=V.filter(se=>(se.opponent||"").toLowerCase().includes(l.toLowerCase()))),h&&(V=V.filter(se=>se.date===h)),d&&(V=V.filter(se=>se.outcome===d)),V.sort((se,Je)=>se.timestamp<Je.timestamp?1:se.timestamp>Je.timestamp?-1:0),V},[e,l,h,d]),F=$.useMemo(()=>{const V=(v-1)*U;return ne.slice(V,V+U)},[ne,v]),Y=Math.ceil(ne.length/U),oe=(V,se)=>{if(V==="gamesPlayed")s({statKey:V,statName:"Games Played per Age",data:Jfe(e||[])});else{const Je=[...e||[]].sort((Ze,zt)=>(Ze.timestamp||0)-(zt.timestamp||0)).map(Ze=>({value:V==="assistTurnoverRatio"?Ze.turnovers?(Ze.assists/Ze.turnovers).toFixed(2):"0.00":Ze[V]||0,date:new Date(Ze.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:Ze.teamName,opponent:Ze.opponent}));s({statKey:V,statName:se,data:Je})}},he=()=>{if(!o){dn("select and delete games");return}C(!k),I([])},me=V=>{o&&I(se=>se.includes(V)?se.filter(Je=>Je!==V):[...se,V])},ee=()=>{if(!o)return;const V=F.map(se=>se.id);I(V)},de=()=>{I([])},X=()=>{if(!lp(t)){dn("delete games");return}N(!0)},ae=()=>{E.forEach(V=>{n(V)}),I([]),C(!1),N(!1)},ge=V=>{if(!lp(t)){dn("delete games");return}T(V)},q=()=>{P&&(onDeleteTeam(P),S(null))},Ne=V=>{k||g(se=>se.includes(V)?se.filter(Je=>Je!==V):[...se,V])},fe=V=>V==null||V===""?0:V,$e=V=>{if(!V)return"No date";const se=new Date(V);return se.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+se.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return x.jsxs(x.Fragment,{children:[a&&x.jsx(Dfe,{graphData:a,onClose:()=>s(null)}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"lg:col-span-1 space-y-6",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),x.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[x.jsx(et,{label:"Games Played",value:B.gamesPlayed||0}),x.jsx(et,{label:"Points",value:B.points||0,clickable:!0,onClick:()=>oe("points","Points")}),x.jsx(et,{label:"Rebounds",value:B.rebounds||0,clickable:!0,onClick:()=>oe("rebounds","Rebounds")}),x.jsx(et,{label:"Assists",value:B.assists||0,clickable:!0,onClick:()=>oe("assists","Assists")}),x.jsx(et,{label:"Steals",value:B.steals||0,clickable:!0,onClick:()=>oe("steals","Steals")}),x.jsx(et,{label:"Blocks",value:B.blocks||0,clickable:!0,onClick:()=>oe("blocks","Blocks")}),x.jsx(et,{label:"Fouls",value:B.fouls||0,clickable:!0,onClick:()=>oe("fouls","Fouls")}),x.jsx(et,{label:"Turnovers",value:B.turnovers||0,clickable:!0,onClick:()=>oe("turnovers","Turnovers")}),x.jsx(et,{label:"A/T Ratio",value:Q(B.assists,B.turnovers)})]}),x.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),x.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[x.jsx(et,{label:"FG%",value:G(K,L)}),x.jsx(et,{label:"FT%",value:G(B.ftm,B.fta)}),x.jsx(et,{label:"2-Point %",value:G(B.fg2m,B.fg2a)}),x.jsx(et,{label:"3-Point %",value:G(B.fg3m,B.fg3a)})]})]})}),x.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>_(!b),children:[x.jsx(Qfe,{isExpanded:b}),x.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"})]}),b&&x.jsxs(x.Fragment,{children:[(i.searchTerm||i.dateFilter||i.outcomeFilter)&&x.jsxs("div",{className:"mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[x.jsx("div",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 mb-1",children:"Active Filters:"}),x.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-300",children:[i.searchTerm&&x.jsxs("span",{className:"block",children:[" Opponent: ",i.searchTerm]}),i.dateFilter&&x.jsxs("span",{className:"block",children:[" Date: ",new Date(i.dateFilter).toLocaleDateString()]}),i.outcomeFilter&&x.jsxs("span",{className:"block",children:[" Result: ",i.outcomeFilter==="W"?"Wins":i.outcomeFilter==="L"?"Losses":"Ties"]})]}),x.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Use the filter button in the header to modify filters"})]}),o&&x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:he,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${k?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:k?"Cancel":"Select"}),k&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:ee,className:"px-2 py-1 rounded text-xs bg-blue-500 text-white hover:bg-blue-600",children:"Select All"}),x.jsx("button",{onClick:de,className:"px-2 py-1 rounded text-xs bg-gray-500 text-white hover:bg-gray-600",children:"Clear"})]})]}),k&&E.length>0&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[E.length," selected"]}),x.jsxs("button",{onClick:X,className:"px-3 py-1 rounded text-sm bg-red-500 text-white hover:bg-red-600 flex items-center gap-1",children:[x.jsx(sp,{}),"Delete Selected"]})]})]}),x.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:F.length>0?F.map(V=>{const se=m.includes(V.id),Je=E.includes(V.id),Ze=Lfe(V);return x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[x.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>k&&o?me(V.id):Ne(V.id),children:[x.jsxs("div",{className:"flex items-center gap-2",children:[k&&o&&x.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Je?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:zt=>{zt.stopPropagation(),me(V.id)},children:Je&&x.jsx(Yfe,{className:"w-3 h-3 text-white"})}),(!k||!o)&&x.jsx(Rfe,{className:`transition-transform duration-200 text-black dark:text-white ${se?"rotate-90":""}`,style:{minWidth:20}}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:$e(V.timestamp)}),x.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[V.teamName," vs ",V.opponent]}),V.location&&x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:[" ",V.location]}),x.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:V.adminName?`Scored by ${V.adminName}`:""}),x.jsx(Ffe,{badges:Ze}),x.jsx(Gfe,{photos:V.photos})]})]}),x.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${V.outcome==="W"?"bg-green-100 text-green-800":V.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[V.outcome||"T"," ",fe(V.myTeamScore),"-",fe(V.opponentScore)]}),o&&!k&&x.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:zt=>{zt.stopPropagation(),ge(V.id)},title:"Delete Game",children:x.jsx(sp,{})})]})]}),se&&!k&&x.jsxs("div",{className:"p-4 pt-2 relative",children:[x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[x.jsx(et,{label:"Points",value:fe(V.points)}),x.jsx(et,{label:"2-Point Made/Att",value:`${fe(V.fg2m)}/${fe(V.fg2a)}`}),x.jsx(et,{label:"3-Point Made/Att",value:`${fe(V.fg3m)}/${fe(V.fg3a)}`}),x.jsx(et,{label:"FT Made/Att",value:`${fe(V.ftm)}/${fe(V.fta)}`}),x.jsx(et,{label:"Rebounds",value:fe(V.rebounds)}),x.jsx(et,{label:"Assists",value:fe(V.assists)}),x.jsx(et,{label:"Steals",value:fe(V.steals)}),x.jsx(et,{label:"Blocks",value:fe(V.blocks)}),x.jsx(et,{label:"Fouls",value:fe(V.fouls)}),x.jsx(et,{label:"Turnovers",value:fe(V.turnovers)}),x.jsx(et,{label:"A/T Ratio",value:Q(fe(V.assists),fe(V.turnovers))})]}),x.jsx(Bfe,{badges:Ze}),o&&x.jsx(Hfe,{gameId:V.id,photos:V.photos||[],onPhotosUpdate:r||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},V.id)}):x.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),Y>1&&x.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[x.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>w(V=>Math.max(1,V-1)),disabled:v===1,children:"Prev"}),x.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",v," of ",Y]}),x.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>w(V=>Math.min(Y,V+1)),disabled:v===Y,children:"Next"})]})]})]})]}),o&&R&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",E.length," Games?"]}),x.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete ",E.length," selected game",E.length!==1?"s":"","? This cannot be undone."]}),x.jsxs("div",{className:"flex gap-4 justify-end",children:[x.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>N(!1),children:"Cancel"}),x.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:ae,children:["Delete ",E.length," Game",E.length!==1?"s":""]})]})]})}),o&&O&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),x.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this game? This cannot be undone."}),x.jsxs("div",{className:"flex gap-4 justify-end",children:[x.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>T(null),children:"Cancel"}),x.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{O&&(n(O),T(null))},children:"Delete"})]})]})}),o&&P&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),x.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),x.jsx("div",{className:"flex gap-4 justify-end",children:x.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:q,children:"Delete"})})]})})]})}const ehe=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function the({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=$.useRef(null);$.useEffect(()=>{const f=d=>{o.current&&!o.current.contains(d.target)&&r&&r()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.date).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),r&&r()},h=f=>{n(f),r&&r()};return x.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&x.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600",children:[x.jsx(ehe,{className:"w-3 h-3"}),"Clear"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),x.jsxs("select",{value:e.searchTerm||"",onChange:f=>h({...e,searchTerm:f.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All opponents"}),a.map((f,d)=>x.jsx("option",{value:f,children:f},d))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),x.jsxs("select",{value:e.dateFilter||"",onChange:f=>h({...e,dateFilter:f.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All dates"}),s.map((f,d)=>x.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},d))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),x.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>h({...e,outcomeFilter:f.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All games"}),x.jsx("option",{value:"W",children:"Wins"}),x.jsx("option",{value:"L",children:"Losses"}),x.jsx("option",{value:"T",children:"Ties"})]})]}),l&&x.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&x.jsxs("span",{className:"block",children:[" Opponent: ",e.searchTerm]}),e.dateFilter&&x.jsxs("span",{className:"block",children:[" Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&x.jsxs("span",{className:"block",children:[" Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const nhe=({active:t})=>x.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function Zf({user:t,onSignOut:e,setPage:n,theme:r,page:i,liveGameId:o,goToLiveGame:a,openSettingsModal:s,onSignIn:l,isUserAdmin:u=!1,games:h=[],dashboardFilters:f={},onDashboardFiltersChange:d}){const[p,m]=$.useState(!1),g=!!o,b=()=>u?"bg-gradient-to-r from-amber-50/90 via-orange-50/90 to-red-50/90 dark:from-amber-900/40 dark:via-orange-900/40 dark:to-red-900/40 border-b-2 border-orange-200/50 dark:border-orange-700/50":"bg-slate-50/80 dark:bg-slate-800/80",_=()=>{g&&(i==="live_admin"&&u?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&a():a())},v=x.jsxs("button",{disabled:!g,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${g?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:_,title:g?"Watch Live Game":"No Live Game In Progress",children:[x.jsx(nhe,{active:g}),x.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),w=f.searchTerm||f.dateFilter||f.outcomeFilter,O=P=>{d&&d(P)},T=()=>{if(!u){alert("Access denied. Only administrators can access settings.");return}s()};return x.jsx("header",{className:`${b()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500 shadow-sm`,children:x.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{n(u?"game_setup":"dashboard")},children:[x.jsx("span",{className:"text-2xl animate-spin-slow group-hover:scale-110 transition-transform duration-300",children:""}),x.jsx("span",{className:"hidden sm:inline text-lg font-bold bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent",children:"Sahil's Stats"})]}),v]}),x.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[x.jsx("button",{onClick:T,disabled:!u,className:`flex items-center justify-center rounded-lg p-2 transition-all ${u?"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 cursor-pointer":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:u?"Settings":"Settings (Admin Only)",children:x.jsx(Pfe,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),x.jsx("button",{onClick:()=>n("dashboard"),className:"flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg p-2 transition-all",title:"Dashboard",children:x.jsx(jfe,{className:"h-5 w-5"})}),t&&x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>{i==="dashboard"&&m(!p)},className:`flex items-center justify-center rounded-lg p-2 transition-all border-2 ${i==="dashboard"?`bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 cursor-pointer ${w?"border-orange-300 shadow-sm shadow-orange-300/30":"border-transparent"}`:"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed border-transparent"}`,title:i==="dashboard"?"Filter games":"Filter only available on Dashboard",disabled:i!=="dashboard",children:[x.jsx(Afe,{className:"h-5 w-5 sm:h-6 sm:w-6"}),w&&i==="dashboard"&&x.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full"})]}),p&&i==="dashboard"&&x.jsx(the,{games:h,filters:f,onFiltersChange:O,onClose:()=>m(!1)})]}),t&&!t.isAnonymous?x.jsx("button",{onClick:e,className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all",title:"Sign Out",children:x.jsx(kfe,{className:"h-5 w-5"})}):l&&x.jsx("button",{onClick:l,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all",title:"Sign In with Google",children:x.jsx(Ife,{className:"h-5 w-5"})})]})]})})})}function rhe({onSignIn:t}){return x.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:x.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx(hM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),x.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),x.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[x.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:x.jsx("strong",{children:" Welcome to Sahil's Stats!"})}),x.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:" Anyone can view games and stats  Family admins can sign in to create and manage games  Click the basketball logo above to view the dashboard"})]}),x.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[x.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[x.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),x.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),x.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),x.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),x.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function ln({label:t,value:e,onIncrement:n,onDecrement:r}){return x.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[x.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:""}),x.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),x.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function ts({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),x.jsx("div",{className:"flex justify-center items-center gap-4",children:a?x.jsx(ln,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):x.jsxs(x.Fragment,{children:[x.jsx(ln,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),x.jsx(ln,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function Yw({status:t}){return t==="saving"?x.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[x.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),x.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const ihe=({isExpanded:t,className:e=""})=>x.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function ohe({db:t,gameId:e,user:n,onEndGame:r}){var Q,ne;const[i,o]=$.useState(null),[a,s]=$.useState(""),[l,u]=$.useState(!1),[h,f]=$.useState(null),[d,p]=$.useState(0),[m,g]=$.useState(0),b=$.useRef(null),_=$.useRef(null);$.useEffect(()=>{const F=La(pn(t,"liveGames",e),Y=>{if(Y.exists()){const oe={id:Y.id,...Y.data()};_.current=oe.period,o(oe);const he=Date.now();if(oe.isRunning&&oe.clockStartTime){const me=he-oe.clockStartTime,ee=Math.floor(me/1e3),de=Math.max(0,oe.clockAtStart-ee),X=Math.max(0,oe.clockAtStart*1e3-me)/100;p(de),g(X)}else p(oe.clock||0),g((oe.clock||0)*10)}else o(null),p(0)});return()=>{F(),b.current&&(clearInterval(b.current),b.current=null)}},[t,e]),$.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const F=d<=60?100:1e3;b.current=setInterval(()=>{const oe=Date.now()-i.clockStartTime,he=Math.floor(oe/1e3),me=Math.max(0,i.clockAtStart-he),ee=Math.max(0,i.clockAtStart*1e3-oe)/100;p(me),g(ee),me<=0&&i.isRunning&&v()},F)}else b.current&&(clearInterval(b.current),b.current=null);return()=>{b.current&&(clearInterval(b.current),b.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,d,e]);const v=()=>{if(!i)return;const Y=i.gameFormat==="halves"?2:4;i.period===Y?xo(pn(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):xo(pn(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},w=(F,Y)=>{if(!i)return;const oe=F==="home"?"homeScore":"awayScore";if(Y<0&&i[oe]<=0)return;const he={[oe]:yo(Y)};if(!i.isRunning){const ee=Date.now();he.isRunning=!0,he.clockStartTime=ee,he.clockAtStart=i.clock||i.periodLength*60}const me=xo(pn(t,"liveGames",e),he);T(me)},O=(F,Y)=>{const oe=pn(t,"liveGames",e),he=i.playerStats,me=Math.max(0,he[F]+Y),ee={[`playerStats.${F}`]:me};if(!i.isRunning){const X=Date.now();ee.isRunning=!0,ee.clockStartTime=X,ee.clockAtStart=i.clock||i.periodLength*60}Y>0?(F==="fg2m"&&(ee.homeScore=yo(2)),F==="fg3m"&&(ee.homeScore=yo(3)),F==="ftm"&&(ee.homeScore=yo(1))):Y<0&&(F==="fg2m"&&he.fg2m>0&&(ee.homeScore=yo(-2)),F==="fg3m"&&he.fg3m>0&&(ee.homeScore=yo(-3)),F==="ftm"&&he.ftm>0&&(ee.homeScore=yo(-1))),F==="fg2m"&&Y>0&&me>he.fg2a&&(ee["playerStats.fg2a"]=me),F==="fg2a"&&Y<0&&me<he.fg2m&&(ee["playerStats.fg2m"]=me),F==="fg3m"&&Y>0&&me>he.fg3a&&(ee["playerStats.fg3a"]=me),F==="fg3a"&&Y<0&&me<he.fg3m&&(ee["playerStats.fg3m"]=me),F==="ftm"&&Y>0&&me>he.fta&&(ee["playerStats.fta"]=me),F==="fta"&&Y<0&&me<he.ftm&&(ee["playerStats.ftm"]=me);const de=xo(oe,ee);T(de)},T=async F=>{f("saving");try{await F,f("success")}catch{f("error")}finally{setTimeout(()=>{f(null)},1200)}},P=()=>{if(!i)return;const F=Date.now();let Y;if(i.isRunning){const he=i.clockStartTime?Math.floor((F-i.clockStartTime)/1e3):0,me=Math.max(0,i.clockAtStart-he);Y={isRunning:!1,clock:me,clockStartTime:null,clockAtStart:me}}else Y={isRunning:!0,clockStartTime:F,clockAtStart:i.clock||i.periodLength*60};const oe=xo(pn(t,"liveGames",e),Y);T(oe)},S=()=>{const F=pn(t,"liveGames",e),oe=i.gameFormat==="halves"?2:4;i.period===oe?typeof r=="function"&&r(e):xo(F,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},E=()=>{const F=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(F),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return x.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const I=(F,Y)=>{if(F<=59){const oe=Math.floor(Y/10),he=Math.floor(Y%10);return`${oe}.${he}`}else return`${String(Math.floor(F/60)).padStart(2,"0")}:${String(F%60).padStart(2,"0")}`},k=i.playerStats||{},C=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,U=i.period===N,W=U&&d===0&&!i.isRunning,B=W||U?"End Game":"Next",K=d<=120||U&&d===0,L=d<=60&&d>0,G=Math.max(((Q=i.teamName)==null?void 0:Q.length)||1,((ne=i.opponent)==null?void 0:ne.length)||1);return x.jsxs("div",{className:"h-screen flex flex-col",children:[W&&x.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[x.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),x.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[x.jsx("div",{className:"absolute top-2 right-2",children:x.jsx(Yw,{status:h})}),x.jsx("div",{className:"flex justify-center items-center text-center mb-4",children:x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${L?"text-red-500 animate-pulse scale-110 font-bold":K?"text-red-500 animate-pulse":""}`,children:I(d,m)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[C," ",i.period]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.teamName}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[x.jsx("button",{onClick:()=>w("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:""}),x.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),x.jsx("button",{onClick:()=>w("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.opponent}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[x.jsx("button",{onClick:()=>w("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:""}),x.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),x.jsx("button",{onClick:()=>w("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:x.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[x.jsx(ihe,{isExpanded:!l}),x.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx(ts,{label:"2-Pointers",madeValue:k.fg2m,attValue:k.fg2a,onStatChange:O,madeKey:"fg2m",attKey:"fg2a"}),x.jsx(ts,{label:"3-Pointers",madeValue:k.fg3m,attValue:k.fg3a,onStatChange:O,madeKey:"fg3m",attKey:"fg3a"}),x.jsx(ts,{label:"Free Throws",madeValue:k.ftm,attValue:k.fta,onStatChange:O,madeKey:"ftm",attKey:"fta"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsx(ln,{label:"Rebounds",value:k.rebounds,onIncrement:()=>O("rebounds",1),onDecrement:()=>O("rebounds",-1)}),x.jsx(ln,{label:"Assists",value:k.assists,onIncrement:()=>O("assists",1),onDecrement:()=>O("assists",-1)}),x.jsx(ln,{label:"Steals",value:k.steals,onIncrement:()=>O("steals",1),onDecrement:()=>O("steals",-1)}),x.jsx(ln,{label:"Blocks",value:k.blocks,onIncrement:()=>O("blocks",1),onDecrement:()=>O("blocks",-1)}),x.jsx(ln,{label:"Fouls",value:k.fouls,onIncrement:()=>O("fouls",1),onDecrement:()=>O("fouls",-1)}),x.jsx(ln,{label:"Turnovers",value:k.turnovers,onIncrement:()=>O("turnovers",1),onDecrement:()=>O("turnovers",-1)})]})]})]}),x.jsx("div",{className:"h-20"})]})}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:x.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsx("button",{onClick:E,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:a||x.jsx(Ofe,{})}),x.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:W,children:i.isRunning?"Pause":"Start"}),x.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg ${W?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:B})]})})})]})]})}function gI({db:t,gameId:e,user:n}){const[r,i]=$.useState(null),[o,a]=$.useState(null),[s,l]=$.useState(0),[u,h]=$.useState(0),f=$.useRef(null);if($.useEffect(()=>{if(!t||!e)return;const w=pn(t,"liveGames",e),O=La(w,T=>{if(T.exists()){const P=T.data();i(P);const S=Date.now();if(P.isRunning&&P.clockStartTime){const E=S-P.clockStartTime,I=Math.floor(E/1e3),k=Math.max(0,P.clockAtStart-I),C=Math.max(0,P.clockAtStart*1e3-E)/100;l(k),h(C)}else l(P.clock||0),h((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{O(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),$.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const w=s<=60?100:1e3;f.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),S=Math.max(0,r.clockAtStart-P),E=Math.max(0,r.clockAtStart*1e3-T)/100;l(S),h(E)},w)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return x.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[x.jsx(hM,{className:"hover:animate-spin-slow transition-transform"}),x.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return x.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const d=r.playerStats||r.sahilStats||{},m=[{label:"Points",value:(Number(d.fg2m)||0)*2+(Number(d.fg3m)||0)*3+(Number(d.ftm)||0)},{label:"2PT Made",value:d.fg2m??0},{label:"2PT Attempted",value:d.fg2a??0},{label:"3PT Made",value:d.fg3m??0},{label:"3PT Attempted",value:d.fg3a??0},{label:"FT Made",value:d.ftm??0},{label:"FT Attempted",value:d.fta??0},{label:"Assists",value:d.assists??0},{label:"Rebounds",value:d.rebounds??0},{label:"Steals",value:d.steals??0},{label:"Fouls",value:d.fouls??0}],g=(w,O)=>{if(w<=59){const T=Math.floor(O/10),P=Math.floor(O%10);return`${T}.${P}`}else return`${String(Math.floor(w/60)).padStart(2,"0")}:${String(w%60).padStart(2,"0")}`},b=r.gameFormat==="halves"?"Half":"Period",_=s<=120,v=s<=60&&s>0;return x.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[x.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),x.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex justify-around items-center text-center",children:[x.jsxs("div",{className:"w-1/3",children:[x.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:r.teamName}),x.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:r.homeScore})]}),x.jsxs("div",{className:"w-1/3",children:[x.jsx("p",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${v?"text-red-500 animate-pulse scale-110 font-bold":_?"text-red-500 animate-pulse":""}`,children:g(s,u)}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[b," ",r.period]})]}),x.jsxs("div",{className:"w-1/3",children:[x.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:r.opponent}),x.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:r.awayScore})]})]})}),x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:x.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[x.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:x.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:m.map(w=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[x.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:w.label}),x.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:w.value})]},w.label))})]})]})}function ahe({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=$.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});$.useEffect(()=>{var p,m,g,b,_,v,w,O,T,P,S,E;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((m=t.playerStats)==null?void 0:m.fg2a)||0,fg3m:t.fg3m||((g=t.playerStats)==null?void 0:g.fg3m)||0,fg3a:t.fg3a||((b=t.playerStats)==null?void 0:b.fg3a)||0,ftm:t.ftm||((_=t.playerStats)==null?void 0:_.ftm)||0,fta:t.fta||((v=t.playerStats)==null?void 0:v.fta)||0,rebounds:t.rebounds||((w=t.playerStats)==null?void 0:w.rebounds)||0,assists:t.assists||((O=t.playerStats)==null?void 0:O.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((S=t.playerStats)==null?void 0:S.fouls)||0,turnovers:t.turnovers||((E=t.playerStats)==null?void 0:E.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,h=(p,m)=>{const g=p==="home"?"myTeamScore":"opponentScore";l(b=>({...b,[g]:Math.max(0,b[g]+m)}))},f=(p,m)=>{l(g=>{const b={...g},_=Math.max(0,g[p]+m);return b[p]=_,p==="fg2m"&&_>g.fg2a&&(b.fg2a=_),p==="fg2a"&&_<g.fg2m&&(b.fg2m=_),p==="fg3m"&&_>g.fg3a&&(b.fg3a=_),p==="fg3a"&&_<g.fg3m&&(b.fg3m=_),p==="ftm"&&_>g.fta&&(b.fta=_),p==="fta"&&_<g.ftm&&(b.ftm=_),b})},d=()=>{n(s)};return t?x.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[x.jsx("div",{className:"absolute top-2 right-2",children:o&&x.jsx(Yw,{status:o})}),x.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[x.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[x.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),x.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),x.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[x.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[x.jsx("button",{onClick:()=>h("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),x.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),x.jsx("button",{onClick:()=>h("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[x.jsx("button",{onClick:()=>h("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),x.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),x.jsx("button",{onClick:()=>h("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(ts,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),x.jsx(ts,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),x.jsx(ts,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsx(ln,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),x.jsx(ln,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),x.jsx(ln,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),x.jsx(ln,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),x.jsx(ln,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),x.jsx(ln,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:x.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[x.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),x.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):x.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function she({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:h,onDeleteAllLiveGames:f}){const[d,p]=$.useState(""),[m,g]=$.useState(""),b=Array.from(new Map(n.map(S=>[S.id,S])).values()),_=async S=>{const E=S.trim();if(!E||n.some(I=>I.name.toLowerCase()===E.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(E),g("success"),p("")}catch{g("error")}setTimeout(()=>g(""),1200)},v=async S=>{g("saving");try{await i(S),g("success")}catch{g("error")}setTimeout(()=>g(""),1200)},w=S=>{a(S),localStorage.setItem("gameFormat",S),g("success"),setTimeout(()=>g(""),1200)},O=S=>{const E=Number(S);h(E),localStorage.setItem("periodLength",E.toString()),g("success"),setTimeout(()=>g(""),1200)},T=()=>{l(),g("success"),setTimeout(()=>g(""),1200)},P=async()=>{g("saving");try{await f(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}};return t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[x.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:""}),x.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",x.jsx(Yw,{status:m})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),x.jsxs("div",{className:"flex gap-2 mb-3",children:[x.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:d,onChange:S=>p(S.target.value),onKeyDown:S=>{S.key==="Enter"&&d.trim()&&_(d.trim())}}),x.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>_(d),disabled:!d.trim(),children:"Add"})]}),x.jsx("ul",{className:"space-y-2",children:b.map(S=>x.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[x.jsx("span",{children:S.name}),x.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>v(S.id),title:"Delete Team",children:x.jsx(sp,{className:"h-5 w-5"})})]},S.id))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),x.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>w("periods")}),"Periods"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>w("halves")}),"Halves"]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),x.jsx("input",{type:"number",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24",value:u,onChange:S=>O(S.target.value)})]})]}),x.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[x.jsx("button",{onClick:T,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:s==="dark"?x.jsx(Cfe,{className:"h-6 w-6"}):x.jsx(Nfe,{className:"h-6 w-6"})}),x.jsx("button",{onClick:P,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:x.jsx(sp,{className:"h-6 w-6"})})]})]})}):null}function lhe(){const[t,e]=$.useState(null),[n,r]=$.useState(!1),[i,o]=$.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=$.useState(!0),[l,u]=$.useState(!0),[h,f]=$.useState("game_setup"),[d,p]=$.useState([]),[m,g]=$.useState([]),[b,_]=$.useState([]),[v,w]=$.useState(null),[O,T]=$.useState(null),[P,S]=$.useState(!1),[E,I]=$.useState(()=>localStorage.getItem("gameFormat")||"halves"),[k,C]=$.useState(()=>parseInt(localStorage.getItem("periodLength"))||20),[R,N]=$.useState(2);$.useEffect(()=>C6(Lf,de=>{e(de),r(ra(de)),s(!1)}),[]),$.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const U=$.useCallback(()=>o(ee=>ee==="dark"?"light":"dark"),[]);$.useEffect(()=>{if(!t)return;const ee=nr(it,"teams");return La(ee,X=>{p(X.docs.map(ae=>({id:ae.id,...ae.data()})))})},[t]),$.useEffect(()=>{if(!t)return;const ee=nr(it,"games");return La(ee,X=>{const ae=X.docs.map(ge=>({id:ge.id,...ge.data()}));g(ae)})},[t]),$.useEffect(()=>{if(!t)return;const ee=nr(it,"stats");return La(ee,X=>{_(X.docs.map(ae=>({id:ae.id,...ae.data()})))})},[t]),$.useEffect(()=>{u(!0);const ee=nr(it,"liveGames"),de=La(ee,X=>{X.empty?w(null):w(X.docs[0].id),u(!1)});return()=>de()},[h]),$.useEffect(()=>{!t&&v&&h!=="live_viewer"&&f("live_viewer")},[t,v,h]);const W=async(ee,de)=>{if(!Bl(t)){dn("update game photos");return}try{await xo(pn(it,"games",ee),{photos:de}),g(X=>X.map(ae=>ae.id===ee?{...ae,photos:de}:ae))}catch(X){console.error("Error updating game photos:",X)}},B=$.useCallback(async ee=>{if(!lp(t)){dn("delete teams");return}await Df(pn(it,"teams",ee)),p(de=>de.filter(X=>X.id!==ee))},[t]),K=async ee=>{if(!Bl(t))return dn("add teams"),null;if(d.some(ae=>ae.name.toLowerCase()===ee.toLowerCase()))return null;const X=await kl(nr(it,"teams"),{name:ee});return p(ae=>[...ae,{name:ee,id:X.id}]),{name:ee,id:X.id}},L=$.useCallback(async ee=>{if(!Bl(t)){dn("add games");return}const de=await kl(nr(it,"games"),ee);g(X=>[...X,{...ee,id:de.id}])},[t]),G=$.useCallback(async ee=>{if(!Bl(t)){dn("add statistics");return}const de=ee.fg2m*2+ee.fg3m*3+ee.ftm;let X="T";ee.myTeamScore>ee.opponentScore?X="W":ee.myTeamScore<ee.opponentScore&&(X="L");const ae={...O,...ee,points:de,outcome:X,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""},ge=await kl(nr(it,"games"),ae);g(q=>[...q,{...ae,id:ge.id}]),T(null),f("dashboard")},[O,t]),Q=$.useCallback(async ee=>{if(!lp(t)){dn("delete games");return}await Df(pn(it,"games",ee)),g(de=>de.filter(X=>X.id!==ee)),_(de=>de.filter(X=>X.gameId!==ee))},[t]),ne=async ee=>{if(!fy(t)){dn("manage live games");return}try{const de=pn(it,"liveGames",ee),X=await WF(de);if(!X.exists()){console.log("Live game not found for endGame, id:",ee);return}const ae=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",ge=X.data(),q=ge.playerStats||{},Ne=ge.homeScore??0,fe=ge.awayScore??0;let $e="T";Ne>fe?$e="W":Ne<fe&&($e="L");const V={...ge,myTeamScore:Ne,opponentScore:fe,outcome:$e,points:(q.fg2m??0)*2+(q.fg3m??0)*3+(q.ftm??0)*1,fg2m:q.fg2m??0,fg2a:q.fg2a??0,fg3m:q.fg3m??0,fg3a:q.fg3a??0,ftm:q.ftm??0,fta:q.fta??0,rebounds:q.rebounds??0,assists:q.assists??0,steals:q.steals??0,blocks:q.blocks??0,fouls:q.fouls??0,turnovers:q.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:ae,isRunning:!1},se=await kl(nr(it,"games"),V);await Df(de),w(null),f("game_setup");const Je=nr(it,"games"),Ze=await KS(Je);g(Ze.docs.map(zt=>({id:zt.id,...zt.data()})))}catch(de){console.error("Failed to save/end game:",de)}},F=async()=>{if(!fy(t)){dn("delete live games");return}const ee=await KS(nr(it,"liveGames"));for(let de of ee.docs)await Df(pn(it,"liveGames",de.id));w(null)},Y=async()=>{try{const de=(await Q6(Lf,GB)).user;if(!ra(de)){await rE(Lf),alert(`Access denied. Only family administrators can sign in.

Your email: ${de.email}

To view games, you can browse without signing in.`);return}}catch(ee){if(console.error("Sign in error:",ee),ee.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},oe=async()=>{try{h==="live_admin"&&v&&n&&await ne(v),await rE(Lf),e(null),r(!1),f("game_setup"),w(null),g([]),_([])}catch(ee){console.error("Error signing out:",ee)}},he=async(ee,de)=>{if(!Bl(t)){dn("create games");return}const X={...ee,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:de==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:k?k*60:600,period:1,gameFormat:E||"halves",periodLength:k||20,numPeriods:E==="halves"?2:4};if(de==="live"){if(!fy(t)){dn("start live games");return}const ae=await kl(nr(it,"liveGames"),X);w(ae.id),f("live_admin")}else T(X),f("add_stat")},me=()=>{if(!Kfe(t)){dn("access settings");return}S(!0)};return a||l?x.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[x.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:""}),x.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&h==="live_viewer"?v?x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(Zf,{user:null,db:it,onSignOut:oe,setPage:f,theme:i,toggleTheme:U,page:h,liveGameId:v,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:F,openSettingsModal:me,onSignIn:Y,isUserAdmin:!1}),x.jsx("main",{className:"flex-1",children:x.jsx(gI,{db:it,user:null,gameId:v,setPage:f,teams:d,stats:b,games:m})})]}):x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(Zf,{user:null,db:it,onSignOut:oe,setPage:f,theme:i,toggleTheme:U,page:h,liveGameId:v,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:F,openSettingsModal:me,isUserAdmin:!1}),x.jsx("main",{className:"flex-1 flex items-center justify-center",children:x.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&h!=="live_viewer"?x.jsx(rhe,{onSignIn:Y}):t&&!n&&(h==="game_setup"||h==="add_stat"||h==="live_admin")?x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(Zf,{user:t,db:it,onSignOut:oe,setPage:f,theme:i,toggleTheme:U,page:h,liveGameId:v,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:F,openSettingsModal:me,isUserAdmin:n}),x.jsx("main",{className:"flex-1 flex items-center justify-center",children:x.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",x.jsx("span",{className:"font-medium",children:Xfe(t)})]}),x.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(Zf,{user:t,db:it,onSignOut:oe,setPage:f,theme:i,toggleTheme:U,page:h,liveGameId:v,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:F,openSettingsModal:me,isUserAdmin:n}),x.jsx(she,{open:P,onClose:()=>S(!1),teams:d,onAddTeam:K,onDeleteTeam:B,gameFormat:E,setGameFormat:I,periodLength:k,setPeriodLength:C,theme:i,toggleTheme:U,setPage:f,onDeleteAllLiveGames:F}),x.jsxs("main",{className:"flex-1",children:[t&&n&&h==="game_setup"&&x.jsx(HB,{user:t,teams:d,stats:m,onAddTeam:K,setPage:f,games:m,onAddGame:L,setLiveGameId:w,onSubmit:he,gameFormat:E,periodLength:k,numPeriods:R}),t&&h==="dashboard"&&x.jsx(Zfe,{user:t,teams:d,games:m,stats:m,onDeleteGame:Q,onDeleteTeam:B,onAddTeam:K,onUpdateGamePhotos:W,isUserAdmin:n}),t&&n&&h==="add_stat"&&O&&x.jsx(ahe,{gameConfig:O,isLive:!1,onSave:G,onCancel:()=>{T(null),f("game_setup")}}),t&&n&&h==="live_admin"&&v&&x.jsx(ohe,{user:t,db:it,gameId:v,setPage:f,teams:d,stats:b,games:m,onEndGame:ne}),t&&h==="live_viewer"&&v&&x.jsx(gI,{db:it,user:t,gameId:v,setPage:f,teams:d,stats:b,games:m})]})]})}hy.createRoot(document.getElementById("root")).render(x.jsx(M.StrictMode,{children:x.jsx(lhe,{})}));
