(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oN={exports:{}},qm={},sN={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),q4=Symbol.for("react.portal"),K4=Symbol.for("react.fragment"),Y4=Symbol.for("react.strict_mode"),Q4=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),Z4=Symbol.for("react.forward_ref"),eV=Symbol.for("react.suspense"),tV=Symbol.for("react.memo"),nV=Symbol.for("react.lazy"),ZS=Symbol.iterator;function rV(t){return t===null||typeof t!="object"?null:(t=ZS&&t[ZS]||t["@@iterator"],typeof t=="function"?t:null)}var aN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lN=Object.assign,uN={};function Bl(t,e,n){this.props=t,this.context=e,this.refs=uN,this.updater=n||aN}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cN(){}cN.prototype=Bl.prototype;function wb(t,e,n){this.props=t,this.context=e,this.refs=uN,this.updater=n||aN}var bb=wb.prototype=new cN;bb.constructor=wb;lN(bb,Bl.prototype);bb.isPureReactComponent=!0;var eT=Array.isArray,fN=Object.prototype.hasOwnProperty,xb={current:null},hN={key:!0,ref:!0,__self:!0,__source:!0};function dN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)fN.call(e,r)&&!hN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zf,type:t,key:o,ref:s,props:i,_owner:xb.current}}function iV(t,e){return{$$typeof:zf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eb(t){return typeof t=="object"&&t!==null&&t.$$typeof===zf}function oV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tT=/\/+/g;function Yy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oV(""+t.key):e.toString(36)}function Ed(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zf:case q4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Yy(s,0):r,eT(i)?(n="",t!=null&&(n=t.replace(tT,"$&/")+"/"),Ed(i,e,n,"",function(u){return u})):i!=null&&(Eb(i)&&(i=iV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",eT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Yy(o,a);s+=Ed(o,e,n,l,i)}else if(l=rV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Yy(o,a++),s+=Ed(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $h(t,e,n){if(t==null)return t;var r=[],i=0;return Ed(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Sd={transition:null},aV={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Sd,ReactCurrentOwner:xb};function pN(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:$h,forEach:function(t,e,n){$h(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $h(t,function(){e++}),e},toArray:function(t){return $h(t,function(e){return e})||[]},only:function(t){if(!Eb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Bl;Oe.Fragment=K4;Oe.Profiler=Q4;Oe.PureComponent=wb;Oe.StrictMode=Y4;Oe.Suspense=eV;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aV;Oe.act=pN;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fN.call(e,l)&&!hN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zf,type:t.type,key:i,ref:o,props:r,_owner:s}};Oe.createContext=function(t){return t={$$typeof:J4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X4,_context:t},t.Consumer=t};Oe.createElement=dN;Oe.createFactory=function(t){var e=dN.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:Z4,render:t}};Oe.isValidElement=Eb;Oe.lazy=function(t){return{$$typeof:nV,_payload:{_status:-1,_result:t},_init:sV}};Oe.memo=function(t,e){return{$$typeof:tV,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Sd.transition;Sd.transition={};try{t()}finally{Sd.transition=e}};Oe.unstable_act=pN;Oe.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Oe.useContext=function(t){return Tn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Oe.useId=function(){return Tn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Oe.useRef=function(t){return Tn.current.useRef(t)};Oe.useState=function(t){return Tn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return Tn.current.useTransition()};Oe.version="18.3.1";sN.exports=Oe;var j=sN.exports;const D=Qe(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lV=j,uV=Symbol.for("react.element"),cV=Symbol.for("react.fragment"),fV=Object.prototype.hasOwnProperty,hV=lV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dV={key:!0,ref:!0,__self:!0,__source:!0};function mN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fV.call(e,r)&&!dV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uV,type:t,key:o,ref:s,props:i,_owner:hV.current}}qm.Fragment=cV;qm.jsx=mN;qm.jsxs=mN;oN.exports=qm;var x=oN.exports,y0={},gN={exports:{}},Zn={},yN={exports:{}},vN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,G){var Y=F.length;F.push(G);e:for(;0<Y;){var ne=Y-1>>>1,B=F[ne];if(0<i(B,G))F[ne]=G,F[Y]=B,Y=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],Y=F.pop();if(Y!==G){F[0]=Y;e:for(var ne=0,B=F.length,Q=B>>>1;ne<Q;){var ce=2*(ne+1)-1,he=F[ce],pe=ce+1,_e=F[pe];if(0>i(he,Y))pe<B&&0>i(_e,he)?(F[ne]=_e,F[pe]=Y,ne=pe):(F[ne]=he,F[ce]=Y,ne=ce);else if(pe<B&&0>i(_e,Y))F[ne]=_e,F[pe]=Y,ne=pe;else break e}}return G}function i(F,G){var Y=F.sortIndex-G.sortIndex;return Y!==0?Y:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,c=null,d=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=F)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function C(F){if(g=!1,E(F),!m)if(n(l)!==null)m=!0,q(T);else{var G=n(u);G!==null&&K(C,G.startTime-F)}}function T(F,G){m=!1,g&&(g=!1,_(S),S=-1),p=!0;var Y=d;try{for(E(G),c=n(l);c!==null&&(!(c.expirationTime>G)||F&&!k());){var ne=c.callback;if(typeof ne=="function"){c.callback=null,d=c.priorityLevel;var B=ne(c.expirationTime<=G);G=t.unstable_now(),typeof B=="function"?c.callback=B:c===n(l)&&r(l),E(G)}else r(l);c=n(l)}if(c!==null)var Q=!0;else{var ce=n(u);ce!==null&&K(C,ce.startTime-G),Q=!1}return Q}finally{c=null,d=Y,p=!1}}var I=!1,b=null,S=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function M(){if(b!==null){var F=t.unstable_now();O=F;var G=!0;try{G=b(!0,F)}finally{G?N():(I=!1,b=null)}}else I=!1}var N;if(typeof w=="function")N=function(){w(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=M,N=function(){W.postMessage(null)}}else N=function(){v(M,0)};function q(F){b=F,I||(I=!0,N())}function K(F,G){S=v(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,q(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return F()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=d;d=F;try{return G()}finally{d=Y}},t.unstable_scheduleCallback=function(F,G,Y){var ne=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Y+B,F={id:f++,callback:G,priorityLevel:F,startTime:Y,expirationTime:B,sortIndex:-1},Y>ne?(F.sortIndex=Y,e(u,F),n(l)===null&&F===n(u)&&(g?(_(S),S=-1):g=!0,K(C,Y-ne))):(F.sortIndex=B,e(l,F),m||p||(m=!0,q(T))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var G=d;return function(){var Y=d;d=G;try{return F.apply(this,arguments)}finally{d=Y}}}})(vN);yN.exports=vN;var pV=yN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mV=j,Xn=pV;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _N=new Set,Ic={};function Ks(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(Ic[t]=e,t=0;t<e.length;t++)_N.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v0=Object.prototype.hasOwnProperty,gV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nT={},rT={};function yV(t){return v0.call(rT,t)?!0:v0.call(nT,t)?!1:gV.test(t)?rT[t]=!0:(nT[t]=!0,!1)}function vV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _V(t,e,n,r){if(e===null||typeof e>"u"||vV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function Tb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);tn[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);tn[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sb,Tb);tn[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ab(t,e,n,r){var i=tn.hasOwnProperty(e)?tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_V(e,n,i,r)&&(n=null),r||i===null?yV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=mV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),_a=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Ib=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),wN=Symbol.for("react.provider"),bN=Symbol.for("react.context"),Pb=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),xN=Symbol.for("react.offscreen"),iT=Symbol.iterator;function Tu(t){return t===null||typeof t!="object"?null:(t=iT&&t[iT]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Qy;function Yu(t){if(Qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qy=e&&e[1]||""}return`
`+Qy+t}var Xy=!1;function Jy(t,e){if(!t||Xy)return"";Xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Xy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yu(t):""}function wV(t){switch(t.tag){case 5:return Yu(t.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return t=Jy(t.type,!1),t;case 11:return t=Jy(t.type.render,!1),t;case 1:return t=Jy(t.type,!0),t;default:return""}}function x0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case _a:return"Portal";case _0:return"Profiler";case Ib:return"StrictMode";case w0:return"Suspense";case b0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bN:return(t.displayName||"Context")+".Consumer";case wN:return(t._context.displayName||"Context")+".Provider";case Pb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:x0(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return x0(t(e))}catch{}}return null}function bV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x0(e);case 8:return e===Ib?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xV(t){var e=EN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=xV(t))}function SN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function E0(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TN(t,e){e=e.checked,e!=null&&Ab(t,"checked",e,!1)}function S0(t,e){TN(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T0(t,e.type,n):e.hasOwnProperty("defaultValue")&&T0(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T0(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function A0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Qu(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function AN(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uh,PN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EV=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(t){EV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ic[e]=ic[t]})});function CN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ic.hasOwnProperty(t)&&ic[t]?(""+e).trim():e+"px"}function ON(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SV=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P0(t,e){if(e){if(SV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function C0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=null;function Ob(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var k0=null,La=null,$a=null;function uT(t){if(t=Hf(t)){if(typeof k0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Jm(e),k0(t.stateNode,t.type,e))}}function kN(t){La?$a?$a.push(t):$a=[t]:La=t}function NN(){if(La){var t=La,e=$a;if($a=La=null,uT(t),e)for(t=0;t<e.length;t++)uT(e[t])}}function RN(t,e){return t(e)}function MN(){}var Zy=!1;function DN(t,e,n){if(Zy)return t(e,n);Zy=!0;try{return RN(t,e,n)}finally{Zy=!1,(La!==null||$a!==null)&&(MN(),NN())}}function Cc(t,e){var n=t.stateNode;if(n===null)return null;var r=Jm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var N0=!1;if(Ci)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){N0=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{N0=!1}function TV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var oc=!1,Gd=null,Hd=!1,R0=null,AV={onError:function(t){oc=!0,Gd=t}};function IV(t,e,n,r,i,o,s,a,l){oc=!1,Gd=null,TV.apply(AV,arguments)}function PV(t,e,n,r,i,o,s,a,l){if(IV.apply(this,arguments),oc){if(oc){var u=Gd;oc=!1,Gd=null}else throw Error(te(198));Hd||(Hd=!0,R0=u)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cT(t){if(Ys(t)!==t)throw Error(te(188))}function CV(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cT(i),t;if(o===r)return cT(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function LN(t){return t=CV(t),t!==null?$N(t):null}function $N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$N(t);if(e!==null)return e;t=t.sibling}return null}var FN=Xn.unstable_scheduleCallback,fT=Xn.unstable_cancelCallback,OV=Xn.unstable_shouldYield,kV=Xn.unstable_requestPaint,bt=Xn.unstable_now,NV=Xn.unstable_getCurrentPriorityLevel,kb=Xn.unstable_ImmediatePriority,VN=Xn.unstable_UserBlockingPriority,qd=Xn.unstable_NormalPriority,RV=Xn.unstable_LowPriority,UN=Xn.unstable_IdlePriority,Km=null,Hr=null;function MV(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Km,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:LV,DV=Math.log,jV=Math.LN2;function LV(t){return t>>>=0,t===0?32:31-(DV(t)/jV|0)|0}var Bh=64,zh=4194304;function Xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xu(a):(o&=s,o!==0&&(r=Xu(o)))}else s=n&~i,s!==0?r=Xu(s):o!==0&&(r=Xu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mr(e),i=1<<n,r|=t[n],e&=~i;return r}function $V(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=$V(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function M0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BN(){var t=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),t}function ev(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=n}function VV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function zN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WN,Rb,GN,HN,qN,D0=!1,Wh=[],go=null,yo=null,vo=null,Oc=new Map,kc=new Map,oo=[],UV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hT(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Iu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hf(e),e!==null&&Rb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BV(t,e,n,r,i){switch(e){case"focusin":return go=Iu(go,t,e,n,r,i),!0;case"dragenter":return yo=Iu(yo,t,e,n,r,i),!0;case"mouseover":return vo=Iu(vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oc.set(o,Iu(Oc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kc.set(o,Iu(kc.get(o)||null,t,e,n,r,i)),!0}return!1}function KN(t){var e=cs(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=jN(n),e!==null){t.blockedOn=e,qN(t.priority,function(){GN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O0=r,n.target.dispatchEvent(r),O0=null}else return e=Hf(n),e!==null&&Rb(e),t.blockedOn=n,!1;e.shift()}return!0}function dT(t,e,n){Td(t)&&n.delete(e)}function zV(){D0=!1,go!==null&&Td(go)&&(go=null),yo!==null&&Td(yo)&&(yo=null),vo!==null&&Td(vo)&&(vo=null),Oc.forEach(dT),kc.forEach(dT)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,D0||(D0=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,zV)))}function Nc(t){function e(i){return Pu(i,t)}if(0<Wh.length){Pu(Wh[0],t);for(var n=1;n<Wh.length;n++){var r=Wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&Pu(go,t),yo!==null&&Pu(yo,t),vo!==null&&Pu(vo,t),Oc.forEach(e),kc.forEach(e),n=0;n<oo.length;n++)r=oo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oo.length&&(n=oo[0],n.blockedOn===null);)KN(n),n.blockedOn===null&&oo.shift()}var Fa=Bi.ReactCurrentBatchConfig,Yd=!0;function WV(t,e,n,r){var i=ze,o=Fa.transition;Fa.transition=null;try{ze=1,Mb(t,e,n,r)}finally{ze=i,Fa.transition=o}}function GV(t,e,n,r){var i=ze,o=Fa.transition;Fa.transition=null;try{ze=4,Mb(t,e,n,r)}finally{ze=i,Fa.transition=o}}function Mb(t,e,n,r){if(Yd){var i=j0(t,e,n,r);if(i===null)cv(t,e,r,Qd,n),hT(t,r);else if(BV(i,t,e,n,r))r.stopPropagation();else if(hT(t,r),e&4&&-1<UV.indexOf(t)){for(;i!==null;){var o=Hf(i);if(o!==null&&WN(o),o=j0(t,e,n,r),o===null&&cv(t,e,r,Qd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cv(t,e,r,null,n)}}var Qd=null;function j0(t,e,n,r){if(Qd=null,t=Ob(r),t=cs(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function YN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NV()){case kb:return 1;case VN:return 4;case qd:case RV:return 16;case UN:return 536870912;default:return 16}default:return 16}}var fo=null,Db=null,Ad=null;function QN(){if(Ad)return Ad;var t,e=Db,n=e.length,r,i="value"in fo?fo.value:fo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ad=i.slice(t,1<r?1-r:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gh(){return!0}function pT(){return!1}function er(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gh:pT,this.isPropagationStopped=pT,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),e}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=er(zl),Gf=dt({},zl,{view:0,detail:0}),HV=er(Gf),tv,nv,Cu,Ym=dt({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(tv=t.screenX-Cu.screenX,nv=t.screenY-Cu.screenY):nv=tv=0,Cu=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:nv}}),mT=er(Ym),qV=dt({},Ym,{dataTransfer:0}),KV=er(qV),YV=dt({},Gf,{relatedTarget:0}),rv=er(YV),QV=dt({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),XV=er(QV),JV=dt({},zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZV=er(JV),e3=dt({},zl,{data:0}),gT=er(e3),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=r3[t])?!!e[t]:!1}function Lb(){return i3}var o3=dt({},Gf,{key:function(t){if(t.key){var e=t3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lb,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s3=er(o3),a3=dt({},Ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=er(a3),l3=dt({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lb}),u3=er(l3),c3=dt({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=er(c3),h3=dt({},Ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d3=er(h3),p3=[9,13,27,32],$b=Ci&&"CompositionEvent"in window,sc=null;Ci&&"documentMode"in document&&(sc=document.documentMode);var m3=Ci&&"TextEvent"in window&&!sc,XN=Ci&&(!$b||sc&&8<sc&&11>=sc),vT=String.fromCharCode(32),_T=!1;function JN(t,e){switch(t){case"keyup":return p3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function g3(t,e){switch(t){case"compositionend":return ZN(e);case"keypress":return e.which!==32?null:(_T=!0,vT);case"textInput":return t=e.data,t===vT&&_T?null:t;default:return null}}function y3(t,e){if(ba)return t==="compositionend"||!$b&&JN(t,e)?(t=QN(),Ad=Db=fo=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XN&&e.locale!=="ko"?null:e.data;default:return null}}var v3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v3[t.type]:e==="textarea"}function eR(t,e,n,r){kN(r),e=Xd(e,"onChange"),0<e.length&&(n=new jb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ac=null,Rc=null;function _3(t){fR(t,0)}function Qm(t){var e=Sa(t);if(SN(e))return t}function w3(t,e){if(t==="change")return e}var tR=!1;if(Ci){var iv;if(Ci){var ov="oninput"in document;if(!ov){var bT=document.createElement("div");bT.setAttribute("oninput","return;"),ov=typeof bT.oninput=="function"}iv=ov}else iv=!1;tR=iv&&(!document.documentMode||9<document.documentMode)}function xT(){ac&&(ac.detachEvent("onpropertychange",nR),Rc=ac=null)}function nR(t){if(t.propertyName==="value"&&Qm(Rc)){var e=[];eR(e,Rc,t,Ob(t)),DN(_3,e)}}function b3(t,e,n){t==="focusin"?(xT(),ac=e,Rc=n,ac.attachEvent("onpropertychange",nR)):t==="focusout"&&xT()}function x3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qm(Rc)}function E3(t,e){if(t==="click")return Qm(e)}function S3(t,e){if(t==="input"||t==="change")return Qm(e)}function T3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:T3;function Mc(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v0.call(e,i)||!Fr(t[i],e[i]))return!1}return!0}function ET(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ST(t,e){var n=ET(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ET(n)}}function rR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iR(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function Fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A3(t){var e=iR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rR(n.ownerDocument.documentElement,n)){if(r!==null&&Fb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ST(n,o);var s=ST(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I3=Ci&&"documentMode"in document&&11>=document.documentMode,xa=null,L0=null,lc=null,$0=!1;function TT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$0||xa==null||xa!==Wd(r)||(r=xa,"selectionStart"in r&&Fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Mc(lc,r)||(lc=r,r=Xd(L0,"onSelect"),0<r.length&&(e=new jb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function Hh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},sv={},oR={};Ci&&(oR=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Xm(t){if(sv[t])return sv[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oR)return sv[t]=e[n];return t}var sR=Xm("animationend"),aR=Xm("animationiteration"),lR=Xm("animationstart"),uR=Xm("transitionend"),cR=new Map,AT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){cR.set(t,e),Ks(e,[t])}for(var av=0;av<AT.length;av++){var lv=AT[av],P3=lv.toLowerCase(),C3=lv[0].toUpperCase()+lv.slice(1);Vo(P3,"on"+C3)}Vo(sR,"onAnimationEnd");Vo(aR,"onAnimationIteration");Vo(lR,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(uR,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function IT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PV(r,e,void 0,t),t.currentTarget=null}function fR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;IT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;IT(i,a,u),o=l}}}if(Hd)throw t=R0,Hd=!1,R0=null,t}function nt(t,e){var n=e[z0];n===void 0&&(n=e[z0]=new Set);var r=t+"__bubble";n.has(r)||(hR(e,t,2,!1),n.add(r))}function uv(t,e,n){var r=0;e&&(r|=4),hR(n,t,r,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[qh]){t[qh]=!0,_N.forEach(function(n){n!=="selectionchange"&&(O3.has(n)||uv(n,!1,t),uv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,uv("selectionchange",!1,e))}}function hR(t,e,n,r){switch(YN(e)){case 1:var i=WV;break;case 4:i=GV;break;default:i=Mb}n=i.bind(null,e,n,t),i=void 0,!N0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}DN(function(){var u=o,f=Ob(n),c=[];e:{var d=cR.get(t);if(d!==void 0){var p=jb,m=t;switch(t){case"keypress":if(Id(n)===0)break e;case"keydown":case"keyup":p=s3;break;case"focusin":m="focus",p=rv;break;case"focusout":m="blur",p=rv;break;case"beforeblur":case"afterblur":p=rv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=u3;break;case sR:case aR:case lR:p=XV;break;case uR:p=f3;break;case"scroll":p=HV;break;case"wheel":p=d3;break;case"copy":case"cut":case"paste":p=ZV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yT}var g=(e&4)!==0,v=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,_!==null&&(C=Cc(w,_),C!=null&&g.push(jc(w,C,E)))),v)break;w=w.return}0<g.length&&(d=new p(d,m,null,n,f),c.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==O0&&(m=n.relatedTarget||n.fromElement)&&(cs(m)||m[Oi]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?cs(m):null,m!==null&&(v=Ys(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=mT,C="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=yT,C="onPointerLeave",_="onPointerEnter",w="pointer"),v=p==null?d:Sa(p),E=m==null?d:Sa(m),d=new g(C,w+"leave",p,n,f),d.target=v,d.relatedTarget=E,C=null,cs(f)===u&&(g=new g(_,w+"enter",m,n,f),g.target=E,g.relatedTarget=v,C=g),v=C,p&&m)t:{for(g=p,_=m,w=0,E=g;E;E=ca(E))w++;for(E=0,C=_;C;C=ca(C))E++;for(;0<w-E;)g=ca(g),w--;for(;0<E-w;)_=ca(_),E--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=ca(g),_=ca(_)}g=null}else g=null;p!==null&&PT(c,d,p,g,!1),m!==null&&v!==null&&PT(c,v,m,g,!0)}}e:{if(d=u?Sa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=w3;else if(wT(d))if(tR)T=S3;else{T=x3;var I=b3}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=E3);if(T&&(T=T(t,u))){eR(c,T,n,f);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&T0(d,"number",d.value)}switch(I=u?Sa(u):window,t){case"focusin":(wT(I)||I.contentEditable==="true")&&(xa=I,L0=u,lc=null);break;case"focusout":lc=L0=xa=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,TT(c,n,f);break;case"selectionchange":if(I3)break;case"keydown":case"keyup":TT(c,n,f)}var b;if($b)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ba?JN(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(XN&&n.locale!=="ko"&&(ba||S!=="onCompositionStart"?S==="onCompositionEnd"&&ba&&(b=QN()):(fo=f,Db="value"in fo?fo.value:fo.textContent,ba=!0)),I=Xd(u,S),0<I.length&&(S=new gT(S,t,null,n,f),c.push({event:S,listeners:I}),b?S.data=b:(b=ZN(n),b!==null&&(S.data=b)))),(b=m3?g3(t,n):y3(t,n))&&(u=Xd(u,"onBeforeInput"),0<u.length&&(f=new gT("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=b))}fR(c,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Cc(t,n),o!=null&&r.unshift(jc(t,o,i)),o=Cc(t,e),o!=null&&r.push(jc(t,o,i))),t=t.return}return r}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PT(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cc(n,o),l!=null&&s.unshift(jc(n,l,a))):i||(l=Cc(n,o),l!=null&&s.push(jc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var k3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function CT(t){return(typeof t=="string"?t:""+t).replace(k3,`
`).replace(N3,"")}function Kh(t,e,n){if(e=CT(e),CT(t)!==e&&n)throw Error(te(425))}function Jd(){}var F0=null,V0=null;function U0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(t){return OT.resolve(null).then(t).catch(D3)}:B0;function D3(t){setTimeout(function(){throw t})}function fv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nc(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Wl,Lc="__reactProps$"+Wl,Oi="__reactContainer$"+Wl,z0="__reactEvents$"+Wl,j3="__reactListeners$"+Wl,L3="__reactHandles$"+Wl;function cs(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kT(t);t!==null;){if(n=t[Wr])return n;t=kT(t)}return e}t=n,n=t.parentNode}return null}function Hf(t){return t=t[Wr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Jm(t){return t[Lc]||null}var W0=[],Ta=-1;function Uo(t){return{current:t}}function st(t){0>Ta||(t.current=W0[Ta],W0[Ta]=null,Ta--)}function et(t,e){Ta++,W0[Ta]=t.current,t.current=e}var No={},yn=Uo(No),Mn=Uo(!1),Cs=No;function tl(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function Zd(){st(Mn),st(yn)}function NT(t,e,n){if(yn.current!==No)throw Error(te(168));et(yn,e),et(Mn,n)}function dR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,bV(t)||"Unknown",i));return dt({},n,r)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Cs=yn.current,et(yn,t),et(Mn,Mn.current),!0}function RT(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=dR(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,st(Mn),st(yn),et(yn,t)):st(Mn),et(Mn,n)}var ci=null,Zm=!1,hv=!1;function pR(t){ci===null?ci=[t]:ci.push(t)}function $3(t){Zm=!0,pR(t)}function Bo(){if(!hv&&ci!==null){hv=!0;var t=0,e=ze;try{var n=ci;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,Zm=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),FN(kb,Bo),i}finally{ze=e,hv=!1}}return null}var Aa=[],Ia=0,tp=null,np=0,or=[],sr=0,Os=null,hi=1,di="";function ts(t,e){Aa[Ia++]=np,Aa[Ia++]=tp,tp=t,np=e}function mR(t,e,n){or[sr++]=hi,or[sr++]=di,or[sr++]=Os,Os=t;var r=hi;t=di;var i=32-Mr(r)-1;r&=~(1<<i),n+=1;var o=32-Mr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hi=1<<32-Mr(e)+i|n<<i|r,di=o+t}else hi=1<<o|n<<i|r,di=t}function Vb(t){t.return!==null&&(ts(t,1),mR(t,1,0))}function Ub(t){for(;t===tp;)tp=Aa[--Ia],Aa[Ia]=null,np=Aa[--Ia],Aa[Ia]=null;for(;t===Os;)Os=or[--sr],or[sr]=null,di=or[--sr],or[sr]=null,hi=or[--sr],or[sr]=null}var Qn=null,Kn=null,lt=!1,Ir=null;function gR(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:hi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Kn=null,!0):!1;default:return!1}}function G0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H0(t){if(lt){var e=Kn;if(e){var n=e;if(!MT(t,e)){if(G0(t))throw Error(te(418));e=_o(n.nextSibling);var r=Qn;e&&MT(t,e)?gR(r,n):(t.flags=t.flags&-4097|2,lt=!1,Qn=t)}}else{if(G0(t))throw Error(te(418));t.flags=t.flags&-4097|2,lt=!1,Qn=t}}}function DT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function Yh(t){if(t!==Qn)return!1;if(!lt)return DT(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!U0(t.type,t.memoizedProps)),e&&(e=Kn)){if(G0(t))throw yR(),Error(te(418));for(;e;)gR(t,e),e=_o(e.nextSibling)}if(DT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Qn?_o(t.stateNode.nextSibling):null;return!0}function yR(){for(var t=Kn;t;)t=_o(t.nextSibling)}function nl(){Kn=Qn=null,lt=!1}function Bb(t){Ir===null?Ir=[t]:Ir.push(t)}var F3=Bi.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Qh(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jT(t){var e=t._init;return e(t._payload)}function vR(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Eo(_,w),_.index=0,_.sibling=null,_}function o(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,C){return w===null||w.tag!==6?(w=_v(E,_.mode,C),w.return=_,w):(w=i(w,E),w.return=_,w)}function l(_,w,E,C){var T=E.type;return T===wa?f(_,w,E.props.children,C,E.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===no&&jT(T)===w.type)?(C=i(w,E.props),C.ref=Ou(_,w,E),C.return=_,C):(C=Md(E.type,E.key,E.props,null,_.mode,C),C.ref=Ou(_,w,E),C.return=_,C)}function u(_,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=wv(E,_.mode,C),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function f(_,w,E,C,T){return w===null||w.tag!==7?(w=xs(E,_.mode,C,T),w.return=_,w):(w=i(w,E),w.return=_,w)}function c(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_v(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fh:return E=Md(w.type,w.key,w.props,null,_.mode,E),E.ref=Ou(_,null,w),E.return=_,E;case _a:return w=wv(w,_.mode,E),w.return=_,w;case no:var C=w._init;return c(_,C(w._payload),E)}if(Qu(w)||Tu(w))return w=xs(w,_.mode,E,null),w.return=_,w;Qh(_,w)}return null}function d(_,w,E,C){var T=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(_,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fh:return E.key===T?l(_,w,E,C):null;case _a:return E.key===T?u(_,w,E,C):null;case no:return T=E._init,d(_,w,T(E._payload),C)}if(Qu(E)||Tu(E))return T!==null?null:f(_,w,E,C,null);Qh(_,E)}return null}function p(_,w,E,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(E)||null,a(w,_,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fh:return _=_.get(C.key===null?E:C.key)||null,l(w,_,C,T);case _a:return _=_.get(C.key===null?E:C.key)||null,u(w,_,C,T);case no:var I=C._init;return p(_,w,E,I(C._payload),T)}if(Qu(C)||Tu(C))return _=_.get(E)||null,f(w,_,C,T,null);Qh(w,C)}return null}function m(_,w,E,C){for(var T=null,I=null,b=w,S=w=0,P=null;b!==null&&S<E.length;S++){b.index>S?(P=b,b=null):P=b.sibling;var O=d(_,b,E[S],C);if(O===null){b===null&&(b=P);break}t&&b&&O.alternate===null&&e(_,b),w=o(O,w,S),I===null?T=O:I.sibling=O,I=O,b=P}if(S===E.length)return n(_,b),lt&&ts(_,S),T;if(b===null){for(;S<E.length;S++)b=c(_,E[S],C),b!==null&&(w=o(b,w,S),I===null?T=b:I.sibling=b,I=b);return lt&&ts(_,S),T}for(b=r(_,b);S<E.length;S++)P=p(b,_,S,E[S],C),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?S:P.key),w=o(P,w,S),I===null?T=P:I.sibling=P,I=P);return t&&b.forEach(function(k){return e(_,k)}),lt&&ts(_,S),T}function g(_,w,E,C){var T=Tu(E);if(typeof T!="function")throw Error(te(150));if(E=T.call(E),E==null)throw Error(te(151));for(var I=T=null,b=w,S=w=0,P=null,O=E.next();b!==null&&!O.done;S++,O=E.next()){b.index>S?(P=b,b=null):P=b.sibling;var k=d(_,b,O.value,C);if(k===null){b===null&&(b=P);break}t&&b&&k.alternate===null&&e(_,b),w=o(k,w,S),I===null?T=k:I.sibling=k,I=k,b=P}if(O.done)return n(_,b),lt&&ts(_,S),T;if(b===null){for(;!O.done;S++,O=E.next())O=c(_,O.value,C),O!==null&&(w=o(O,w,S),I===null?T=O:I.sibling=O,I=O);return lt&&ts(_,S),T}for(b=r(_,b);!O.done;S++,O=E.next())O=p(b,_,S,O.value,C),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?S:O.key),w=o(O,w,S),I===null?T=O:I.sibling=O,I=O);return t&&b.forEach(function(M){return e(_,M)}),lt&&ts(_,S),T}function v(_,w,E,C){if(typeof E=="object"&&E!==null&&E.type===wa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Fh:e:{for(var T=E.key,I=w;I!==null;){if(I.key===T){if(T=E.type,T===wa){if(I.tag===7){n(_,I.sibling),w=i(I,E.props.children),w.return=_,_=w;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===no&&jT(T)===I.type){n(_,I.sibling),w=i(I,E.props),w.ref=Ou(_,I,E),w.return=_,_=w;break e}n(_,I);break}else e(_,I);I=I.sibling}E.type===wa?(w=xs(E.props.children,_.mode,C,E.key),w.return=_,_=w):(C=Md(E.type,E.key,E.props,null,_.mode,C),C.ref=Ou(_,w,E),C.return=_,_=C)}return s(_);case _a:e:{for(I=E.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=wv(E,_.mode,C),w.return=_,_=w}return s(_);case no:return I=E._init,v(_,w,I(E._payload),C)}if(Qu(E))return m(_,w,E,C);if(Tu(E))return g(_,w,E,C);Qh(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=_v(E,_.mode,C),w.return=_,_=w),s(_)):n(_,w)}return v}var rl=vR(!0),_R=vR(!1),rp=Uo(null),ip=null,Pa=null,zb=null;function Wb(){zb=Pa=ip=null}function Gb(t){var e=rp.current;st(rp),t._currentValue=e}function q0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Va(t,e){ip=t,zb=Pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(zb!==t)if(t={context:t,memoizedValue:e,next:null},Pa===null){if(ip===null)throw Error(te(308));Pa=t,ip.dependencies={lanes:0,firstContext:t}}else Pa=Pa.next=t;return e}var fs=null;function Hb(t){fs===null?fs=[t]:fs.push(t)}function wR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hb(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ro=!1;function qb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,Hb(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function Pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}function LT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function op(t,e,n,r){var i=t.updateQueue;ro=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,f=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){c=m.call(p,c,d);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,c,d):m,d==null)break e;c=dt({},c,d);break e;case 2:ro=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=c):f=f.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ns|=s,t.lanes=s,t.memoizedState=c}}function $T(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var qf={},qr=Uo(qf),$c=Uo(qf),Fc=Uo(qf);function hs(t){if(t===qf)throw Error(te(174));return t}function Kb(t,e){switch(et(Fc,e),et($c,t),et(qr,qf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:I0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=I0(e,t)}st(qr),et(qr,e)}function il(){st(qr),st($c),st(Fc)}function xR(t){hs(Fc.current);var e=hs(qr.current),n=I0(e,t.type);e!==n&&(et($c,t),et(qr,n))}function Yb(t){$c.current===t&&(st(qr),st($c))}var ft=Uo(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dv=[];function Qb(){for(var t=0;t<dv.length;t++)dv[t]._workInProgressVersionPrimary=null;dv.length=0}var Cd=Bi.ReactCurrentDispatcher,pv=Bi.ReactCurrentBatchConfig,ks=0,ht=null,kt=null,Ut=null,ap=!1,uc=!1,Vc=0,V3=0;function an(){throw Error(te(321))}function Xb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function Jb(t,e,n,r,i,o){if(ks=o,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cd.current=t===null||t.memoizedState===null?W3:G3,t=n(r,i),uc){o=0;do{if(uc=!1,Vc=0,25<=o)throw Error(te(301));o+=1,Ut=kt=null,e.updateQueue=null,Cd.current=H3,t=n(r,i)}while(uc)}if(Cd.current=lp,e=kt!==null&&kt.next!==null,ks=0,Ut=kt=ht=null,ap=!1,e)throw Error(te(300));return t}function Zb(){var t=Vc!==0;return Vc=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function pr(){if(kt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Ut===null?ht.memoizedState:Ut.next;if(e!==null)Ut=e,kt=t;else{if(t===null)throw Error(te(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Uc(t,e){return typeof e=="function"?e(t):e}function mv(t){var e=pr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((ks&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=r):l=l.next=c,ht.lanes|=f,Ns|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ht.lanes|=o,Ns|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gv(t){var e=pr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fr(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ER(){}function SR(t,e){var n=ht,r=pr(),i=e(),o=!Fr(r.memoizedState,i);if(o&&(r.memoizedState=i,On=!0),r=r.queue,ex(IR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Bc(9,AR.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(te(349));ks&30||TR(n,e,i)}return i}function TR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AR(t,e,n,r){e.value=n,e.getSnapshot=r,PR(e)&&CR(t)}function IR(t,e,n){return n(function(){PR(e)&&CR(t)})}function PR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function CR(t){var e=ki(t,1);e!==null&&Dr(e,t,1,-1)}function FT(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:t},e.queue=t,t=t.dispatch=z3.bind(null,ht,t),[e.memoizedState,t]}function Bc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OR(){return pr().memoizedState}function Od(t,e,n,r){var i=Br();ht.flags|=t,i.memoizedState=Bc(1|e,n,void 0,r===void 0?null:r)}function eg(t,e,n,r){var i=pr();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&Xb(r,s.deps)){i.memoizedState=Bc(e,n,o,r);return}}ht.flags|=t,i.memoizedState=Bc(1|e,n,o,r)}function VT(t,e){return Od(8390656,8,t,e)}function ex(t,e){return eg(2048,8,t,e)}function kR(t,e){return eg(4,2,t,e)}function NR(t,e){return eg(4,4,t,e)}function RR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MR(t,e,n){return n=n!=null?n.concat([t]):null,eg(4,4,RR.bind(null,e,t),n)}function tx(){}function DR(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jR(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LR(t,e,n){return ks&21?(Fr(n,e)||(n=BN(),ht.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function U3(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=pv.transition;pv.transition={};try{t(!1),e()}finally{ze=n,pv.transition=r}}function $R(){return pr().memoizedState}function B3(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FR(t))VR(e,n);else if(n=wR(t,e,n,r),n!==null){var i=Sn();Dr(n,t,r,i),UR(n,e,r)}}function z3(t,e,n){var r=xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FR(t))VR(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fr(a,s)){var l=e.interleaved;l===null?(i.next=i,Hb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wR(t,e,i,r),n!==null&&(i=Sn(),Dr(n,t,r,i),UR(n,e,r))}}function FR(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function VR(t,e){uc=ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}var lp={readContext:dr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},W3={readContext:dr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:VT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,RR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=B3.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:FT,useDebugValue:tx,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=FT(!1),e=t[0];return t=U3.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Br();if(lt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Wt===null)throw Error(te(349));ks&30||TR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,VT(IR.bind(null,r,o,t),[t]),r.flags|=2048,Bc(9,AR.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Wt.identifierPrefix;if(lt){var n=di,r=hi;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G3={readContext:dr,useCallback:DR,useContext:dr,useEffect:ex,useImperativeHandle:MR,useInsertionEffect:kR,useLayoutEffect:NR,useMemo:jR,useReducer:mv,useRef:OR,useState:function(){return mv(Uc)},useDebugValue:tx,useDeferredValue:function(t){var e=pr();return LR(e,kt.memoizedState,t)},useTransition:function(){var t=mv(Uc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:SR,useId:$R,unstable_isNewReconciler:!1},H3={readContext:dr,useCallback:DR,useContext:dr,useEffect:ex,useImperativeHandle:MR,useInsertionEffect:kR,useLayoutEffect:NR,useMemo:jR,useReducer:gv,useRef:OR,useState:function(){return gv(Uc)},useDebugValue:tx,useDeferredValue:function(t){var e=pr();return kt===null?e.memoizedState=t:LR(e,kt.memoizedState,t)},useTransition:function(){var t=gv(Uc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:SR,useId:$R,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function K0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tg={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=xo(t),o=xi(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Dr(e,t,i,r),Pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=xo(t),o=xi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Dr(e,t,i,r),Pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=xo(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Dr(e,t,r,n),Pd(e,t,r))}};function UT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(i,o):!0}function BR(t,e,n){var r=!1,i=No,o=e.contextType;return typeof o=="object"&&o!==null?o=dr(o):(i=Dn(e)?Cs:yn.current,r=e.contextTypes,o=(r=r!=null)?tl(t,i):No),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function BT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tg.enqueueReplaceState(e,e.state,null)}function Y0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dr(o):(o=Dn(e)?Cs:yn.current,i.context=tl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(K0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tg.enqueueReplaceState(i,i.state,null),op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e){try{var n="",r=e;do n+=wV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function yv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Q0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q3=typeof WeakMap=="function"?WeakMap:Map;function zR(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cp||(cp=!0,s_=r),Q0(t,e)},n}function WR(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Q0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Q0(t,e),typeof r!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function zT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new q3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aU.bind(null,t,e,n),e.then(t,t))}function WT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var K3=Bi.ReactCurrentOwner,On=!1;function bn(t,e,n,r){e.child=t===null?_R(e,null,n,r):rl(e,t.child,n,r)}function HT(t,e,n,r,i){n=n.render;var o=e.ref;return Va(e,i),r=Jb(t,e,n,r,o,i),n=Zb(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(lt&&n&&Vb(e),e.flags|=1,bn(t,e,r,i),e.child)}function qT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ux(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GR(t,e,o,r,i)):(t=Md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(s,r)&&t.ref===e.ref)return Ni(t,e,i)}return e.flags|=1,t=Eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function GR(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mc(o,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Ni(t,e,i)}return X0(t,e,n,r,i)}function HR(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Oa,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Oa,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Oa,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Oa,Gn),Gn|=r;return bn(t,e,i,n),e.child}function qR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X0(t,e,n,r,i){var o=Dn(n)?Cs:yn.current;return o=tl(e,o),Va(e,i),n=Jb(t,e,n,r,o,i),r=Zb(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(lt&&r&&Vb(e),e.flags|=1,bn(t,e,n,i),e.child)}function KT(t,e,n,r,i){if(Dn(n)){var o=!0;ep(e)}else o=!1;if(Va(e,i),e.stateNode===null)kd(t,e),BR(e,n,r),Y0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=Dn(n)?Cs:yn.current,u=tl(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&BT(e,s,r,u),ro=!1;var d=e.memoizedState;s.state=d,op(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Mn.current||ro?(typeof f=="function"&&(K0(e,n,f,r),l=e.memoizedState),(a=ro||UT(e,n,a,r,d,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,c=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dr(l):(l=Dn(n)?Cs:yn.current,l=tl(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||d!==l)&&BT(e,s,r,l),ro=!1,d=e.memoizedState,s.state=d,op(e,r,s,i);var m=e.memoizedState;a!==c||d!==m||Mn.current||ro?(typeof p=="function"&&(K0(e,n,p,r),m=e.memoizedState),(u=ro||UT(e,n,u,r,d,m,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return J0(t,e,n,r,o,i)}function J0(t,e,n,r,i,o){qR(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&RT(e,n,!1),Ni(t,e,o);r=e.stateNode,K3.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=rl(e,t.child,null,o),e.child=rl(e,null,a,o)):bn(t,e,a,o),e.memoizedState=r.state,i&&RT(e,n,!0),e.child}function KR(t){var e=t.stateNode;e.pendingContext?NT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NT(t,e.context,!1),Kb(t,e.containerInfo)}function YT(t,e,n,r,i){return nl(),Bb(i),e.flags|=256,bn(t,e,n,r),e.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function e_(t){return{baseLanes:t,cachePool:null,transitions:null}}function YR(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ft,i&1),t===null)return H0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ig(s,r,0,null),t=xs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=e_(n),e.memoizedState=Z0,t):nx(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Y3(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Eo(a,o):(o=xs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?e_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Z0,r}return o=t.child,t=o.sibling,r=Eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nx(t,e){return e=ig({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xh(t,e,n,r){return r!==null&&Bb(r),rl(e,t.child,null,n),t=nx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y3(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=yv(Error(te(422))),Xh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ig({mode:"visible",children:r.children},i,0,null),o=xs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&rl(e,t.child,null,s),e.child.memoizedState=e_(s),e.memoizedState=Z0,o);if(!(e.mode&1))return Xh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=yv(o,r,void 0),Xh(t,e,s,r)}if(a=(s&t.childLanes)!==0,On||a){if(r=Wt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ki(t,i),Dr(r,t,i,-1))}return lx(),r=yv(Error(te(421))),Xh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Kn=_o(i.nextSibling),Qn=e,lt=!0,Ir=null,t!==null&&(or[sr++]=hi,or[sr++]=di,or[sr++]=Os,hi=t.id,di=t.overflow,Os=e),e=nx(e,r.children),e.flags|=4096,e)}function QT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q0(t.return,e,n)}function vv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QR(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QT(t,n,e);else if(t.tag===19)QT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vv(e,!0,n,null,o);break;case"together":vv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q3(t,e,n){switch(e.tag){case 3:KR(e),nl();break;case 5:xR(e);break;case 1:Dn(e.type)&&ep(e);break;case 4:Kb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(rp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?YR(t,e,n):(et(ft,ft.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);et(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,HR(t,e,n)}return Ni(t,e,n)}var XR,t_,JR,ZR;XR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};t_=function(){};JR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(qr.current);var o=null;switch(n){case"input":i=E0(t,i),r=E0(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=A0(t,i),r=A0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jd)}P0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ZR=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function X3(t,e,n){var r=e.pendingProps;switch(Ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Dn(e.type)&&Zd(),ln(e),null;case 3:return r=e.stateNode,il(),st(Mn),st(yn),Qb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(u_(Ir),Ir=null))),t_(t,e),ln(e),null;case 5:Yb(e);var i=hs(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)JR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return ln(e),null}if(t=hs(qr.current),Yh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Wr]=e,r[Lc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Ju.length;i++)nt(Ju[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":oT(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":aT(r,o),nt("invalid",r)}P0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Kh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Kh(r.textContent,a,t),i=["children",""+a]):Ic.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":Vh(r),sT(r,o,!0);break;case"textarea":Vh(r),lT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wr]=e,t[Lc]=r,XR(t,e,!1,!1),e.stateNode=t;e:{switch(s=C0(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ju.length;i++)nt(Ju[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":oT(t,r),i=E0(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":aT(t,r),i=A0(t,r),nt("invalid",t);break;default:i=r}P0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ON(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pc(t,l):typeof l=="number"&&Pc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ic.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&Ab(t,o,l,s))}switch(n){case"input":Vh(t),sT(t,r,!1);break;case"textarea":Vh(t),lT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ja(t,!!r.multiple,o,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)ZR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=hs(Fc.current),hs(qr.current),Yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(o=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:Kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return ln(e),null;case 13:if(st(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Kn!==null&&e.mode&1&&!(e.flags&128))yR(),nl(),e.flags|=98560,o=!1;else if(o=Yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Wr]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),o=!1}else Ir!==null&&(u_(Ir),Ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Mt===0&&(Mt=3):lx())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return il(),t_(t,e),t===null&&Dc(e.stateNode.containerInfo),ln(e),null;case 10:return Gb(e.type._context),ln(e),null;case 17:return Dn(e.type)&&Zd(),ln(e),null;case 19:if(st(ft),o=e.memoizedState,o===null)return ln(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ku(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=sp(t),s!==null){for(e.flags|=128,ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>sl&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=sp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return ln(e),null}else 2*bt()-o.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ft.current,et(ft,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return ax(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function J3(t,e){switch(Ub(e),e.tag){case 1:return Dn(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),st(Mn),st(yn),Qb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yb(e),null;case 13:if(st(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ft),null;case 4:return il(),null;case 10:return Gb(e.type._context),null;case 22:case 23:return ax(),null;case 24:return null;default:return null}}var Jh=!1,hn=!1,Z3=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function n_(t,e,n){try{n()}catch(r){gt(t,e,r)}}var XT=!1;function eU(t,e){if(F0=Yd,t=iR(),Fb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(l=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++f===r&&(l=s),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V0={focusedElem:t,selectionRange:n},Yd=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Er(e.type,g),v);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(C){gt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=XT,XT=!1,m}function cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&n_(e,n,o)}i=i.next}while(i!==r)}}function ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function r_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e2(t){var e=t.alternate;e!==null&&(t.alternate=null,e2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Lc],delete e[z0],delete e[j3],delete e[L3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t2(t){return t.tag===5||t.tag===3||t.tag===4}function JT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jd));else if(r!==4&&(t=t.child,t!==null))for(i_(t,e,n),t=t.sibling;t!==null;)i_(t,e,n),t=t.sibling}function o_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o_(t,e,n),t=t.sibling;t!==null;)o_(t,e,n),t=t.sibling}var Yt=null,Sr=!1;function eo(t,e,n){for(n=n.child;n!==null;)n2(t,e,n),n=n.sibling}function n2(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Km,n)}catch{}switch(n.tag){case 5:hn||Ca(n,e);case 6:var r=Yt,i=Sr;Yt=null,eo(t,e,n),Yt=r,Sr=i,Yt!==null&&(Sr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Sr?(t=Yt,n=n.stateNode,t.nodeType===8?fv(t.parentNode,n):t.nodeType===1&&fv(t,n),Nc(t)):fv(Yt,n.stateNode));break;case 4:r=Yt,i=Sr,Yt=n.stateNode.containerInfo,Sr=!0,eo(t,e,n),Yt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&n_(n,e,s),i=i.next}while(i!==r)}eo(t,e,n);break;case 1:if(!hn&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}eo(t,e,n);break;case 21:eo(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,eo(t,e,n),hn=r):eo(t,e,n);break;default:eo(t,e,n)}}function ZT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z3),e.forEach(function(r){var i=uU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Sr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Sr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Yt===null)throw Error(te(160));n2(o,s,i),Yt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r2(e,t),e=e.sibling}function r2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Ur(t),r&4){try{cc(3,t,t.return),ng(3,t)}catch(g){gt(t,t.return,g)}try{cc(5,t,t.return)}catch(g){gt(t,t.return,g)}}break;case 1:wr(e,t),Ur(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(wr(e,t),Ur(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var i=t.stateNode;try{Pc(i,"")}catch(g){gt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&TN(i,o),C0(a,s);var u=C0(a,o);for(s=0;s<l.length;s+=2){var f=l[s],c=l[s+1];f==="style"?ON(i,c):f==="dangerouslySetInnerHTML"?PN(i,c):f==="children"?Pc(i,c):Ab(i,f,c,u)}switch(a){case"input":S0(i,o);break;case"textarea":AN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ja(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ja(i,!!o.multiple,o.defaultValue,!0):ja(i,!!o.multiple,o.multiple?[]:"",!1))}i[Lc]=o}catch(g){gt(t,t.return,g)}}break;case 6:if(wr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){gt(t,t.return,g)}}break;case 3:if(wr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(g){gt(t,t.return,g)}break;case 4:wr(e,t),Ur(t);break;case 13:wr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ox=bt())),r&4&&ZT(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||f,wr(e,t),hn=u):wr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(le=t,f=t.child;f!==null;){for(c=le=f;le!==null;){switch(d=le,p=d.child,d.tag){case 0:case 11:case 14:case 15:cc(4,d,d.return);break;case 1:Ca(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){gt(r,n,g)}}break;case 5:Ca(d,d.return);break;case 22:if(d.memoizedState!==null){tA(c);continue}}p!==null?(p.return=d,le=p):tA(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CN("display",s))}catch(g){gt(t,t.return,g)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(g){gt(t,t.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:wr(e,t),Ur(t),r&4&&ZT(t);break;case 21:break;default:wr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pc(i,""),r.flags&=-33);var o=JT(t);o_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=JT(t);i_(t,a,s);break;default:throw Error(te(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tU(t,e,n){le=t,i2(t)}function i2(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Jh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Jh;var u=hn;if(Jh=s,(hn=l)&&!u)for(le=i;le!==null;)s=le,l=s.child,s.tag===22&&s.memoizedState!==null?nA(i):l!==null?(l.return=s,le=l):nA(i);for(;o!==null;)le=o,i2(o),o=o.sibling;le=i,Jh=a,hn=u}eA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):eA(t)}}function eA(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||ng(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$T(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$T(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Nc(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}hn||e.flags&512&&r_(e)}catch(d){gt(e,e.return,d)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function tA(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function nA(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ng(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{r_(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{r_(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var nU=Math.ceil,up=Bi.ReactCurrentDispatcher,rx=Bi.ReactCurrentOwner,ur=Bi.ReactCurrentBatchConfig,je=0,Wt=null,At=null,Zt=0,Gn=0,Oa=Uo(0),Mt=0,zc=null,Ns=0,rg=0,ix=0,fc=null,Pn=null,ox=0,sl=1/0,ui=null,cp=!1,s_=null,bo=null,Zh=!1,ho=null,fp=0,hc=0,a_=null,Nd=-1,Rd=0;function Sn(){return je&6?bt():Nd!==-1?Nd:Nd=bt()}function xo(t){return t.mode&1?je&2&&Zt!==0?Zt&-Zt:F3.transition!==null?(Rd===0&&(Rd=BN()),Rd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:YN(t.type)),t):1}function Dr(t,e,n,r){if(50<hc)throw hc=0,a_=null,Error(te(185));Wf(t,n,r),(!(je&2)||t!==Wt)&&(t===Wt&&(!(je&2)&&(rg|=n),Mt===4&&so(t,Zt)),jn(t,r),n===1&&je===0&&!(e.mode&1)&&(sl=bt()+500,Zm&&Bo()))}function jn(t,e){var n=t.callbackNode;FV(t,e);var r=Kd(t,t===Wt?Zt:0);if(r===0)n!==null&&fT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fT(n),e===1)t.tag===0?$3(rA.bind(null,t)):pR(rA.bind(null,t)),M3(function(){!(je&6)&&Bo()}),n=null;else{switch(zN(r)){case 1:n=kb;break;case 4:n=VN;break;case 16:n=qd;break;case 536870912:n=UN;break;default:n=qd}n=h2(n,o2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o2(t,e){if(Nd=-1,Rd=0,je&6)throw Error(te(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=Kd(t,t===Wt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hp(t,r);else{e=r;var i=je;je|=2;var o=a2();(Wt!==t||Zt!==e)&&(ui=null,sl=bt()+500,bs(t,e));do try{oU();break}catch(a){s2(t,a)}while(1);Wb(),up.current=o,je=i,At!==null?e=0:(Wt=null,Zt=0,e=Mt)}if(e!==0){if(e===2&&(i=M0(t),i!==0&&(r=i,e=l_(t,i))),e===1)throw n=zc,bs(t,0),so(t,r),jn(t,bt()),n;if(e===6)so(t,r);else{if(i=t.current.alternate,!(r&30)&&!rU(i)&&(e=hp(t,r),e===2&&(o=M0(t),o!==0&&(r=o,e=l_(t,o))),e===1))throw n=zc,bs(t,0),so(t,r),jn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ns(t,Pn,ui);break;case 3:if(so(t,r),(r&130023424)===r&&(e=ox+500-bt(),10<e)){if(Kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=B0(ns.bind(null,t,Pn,ui),e);break}ns(t,Pn,ui);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nU(r/1960))-r,10<r){t.timeoutHandle=B0(ns.bind(null,t,Pn,ui),r);break}ns(t,Pn,ui);break;case 5:ns(t,Pn,ui);break;default:throw Error(te(329))}}}return jn(t,bt()),t.callbackNode===n?o2.bind(null,t):null}function l_(t,e){var n=fc;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=hp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&u_(e)),t}function u_(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function rU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~ix,e&=~rg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mr(e),r=1<<n;t[n]=-1,e&=~r}}function rA(t){if(je&6)throw Error(te(327));Ua();var e=Kd(t,0);if(!(e&1))return jn(t,bt()),null;var n=hp(t,e);if(t.tag!==0&&n===2){var r=M0(t);r!==0&&(e=r,n=l_(t,r))}if(n===1)throw n=zc,bs(t,0),so(t,e),jn(t,bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,Pn,ui),jn(t,bt()),null}function sx(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(sl=bt()+500,Zm&&Bo())}}function Rs(t){ho!==null&&ho.tag===0&&!(je&6)&&Ua();var e=je;je|=1;var n=ur.transition,r=ze;try{if(ur.transition=null,ze=1,t)return t()}finally{ze=r,ur.transition=n,je=e,!(je&6)&&Bo()}}function ax(){Gn=Oa.current,st(Oa)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R3(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(Ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:il(),st(Mn),st(yn),Qb();break;case 5:Yb(r);break;case 4:il();break;case 13:st(ft);break;case 19:st(ft);break;case 10:Gb(r.type._context);break;case 22:case 23:ax()}n=n.return}if(Wt=t,At=t=Eo(t.current,null),Zt=Gn=e,Mt=0,zc=null,ix=rg=Ns=0,Pn=fc=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fs=null}return t}function s2(t,e){do{var n=At;try{if(Wb(),Cd.current=lp,ap){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ap=!1}if(ks=0,Ut=kt=ht=null,uc=!1,Vc=0,rx.current=null,n===null||n.return===null){Mt=1,zc=e,At=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=WT(s);if(p!==null){p.flags&=-257,GT(p,s,a,o,e),p.mode&1&&zT(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){zT(o,u,e),lx();break e}l=Error(te(426))}}else if(lt&&a.mode&1){var v=WT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),GT(v,s,a,o,e),Bb(ol(l,a));break e}}o=l=ol(l,a),Mt!==4&&(Mt=2),fc===null?fc=[o]:fc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=zR(o,l,e);LT(o,_);break e;case 1:a=l;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(bo===null||!bo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=WR(o,a,e);LT(o,C);break e}}o=o.return}while(o!==null)}u2(n)}catch(T){e=T,At===n&&n!==null&&(At=n=n.return);continue}break}while(1)}function a2(){var t=up.current;return up.current=lp,t===null?lp:t}function lx(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Wt===null||!(Ns&268435455)&&!(rg&268435455)||so(Wt,Zt)}function hp(t,e){var n=je;je|=2;var r=a2();(Wt!==t||Zt!==e)&&(ui=null,bs(t,e));do try{iU();break}catch(i){s2(t,i)}while(1);if(Wb(),je=n,up.current=r,At!==null)throw Error(te(261));return Wt=null,Zt=0,Mt}function iU(){for(;At!==null;)l2(At)}function oU(){for(;At!==null&&!OV();)l2(At)}function l2(t){var e=f2(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?u2(t):At=e,rx.current=null}function u2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J3(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,At=null;return}}else if(n=X3(n,e,Gn),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Mt===0&&(Mt=5)}function ns(t,e,n){var r=ze,i=ur.transition;try{ur.transition=null,ze=1,sU(t,e,n,r)}finally{ur.transition=i,ze=r}return null}function sU(t,e,n,r){do Ua();while(ho!==null);if(je&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(VV(t,o),t===Wt&&(At=Wt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,h2(qd,function(){return Ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var s=ze;ze=1;var a=je;je|=4,rx.current=null,eU(t,n),r2(n,t),A3(V0),Yd=!!F0,V0=F0=null,t.current=n,tU(n),kV(),je=a,ze=s,ur.transition=o}else t.current=n;if(Zh&&(Zh=!1,ho=t,fp=i),o=t.pendingLanes,o===0&&(bo=null),MV(n.stateNode),jn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cp)throw cp=!1,t=s_,s_=null,t;return fp&1&&t.tag!==0&&Ua(),o=t.pendingLanes,o&1?t===a_?hc++:(hc=0,a_=t):hc=0,Bo(),null}function Ua(){if(ho!==null){var t=zN(fp),e=ur.transition,n=ze;try{if(ur.transition=null,ze=16>t?16:t,ho===null)var r=!1;else{if(t=ho,ho=null,fp=0,je&6)throw Error(te(331));var i=je;for(je|=4,le=t.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var f=le;switch(f.tag){case 0:case 11:case 15:cc(8,f,o)}var c=f.child;if(c!==null)c.return=f,le=c;else for(;le!==null;){f=le;var d=f.sibling,p=f.return;if(e2(f),f===u){le=null;break}if(d!==null){d.return=p,le=d;break}le=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,le=_;break e}le=o.return}}var w=t.current;for(le=w;le!==null;){s=le;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,le=E;else e:for(s=w;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ng(9,a)}}catch(T){gt(a,a.return,T)}if(a===s){le=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,le=C;break e}le=a.return}}if(je=i,Bo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Km,t)}catch{}r=!0}return r}finally{ze=n,ur.transition=e}}return!1}function iA(t,e,n){e=ol(n,e),e=zR(t,e,1),t=wo(t,e,1),e=Sn(),t!==null&&(Wf(t,1,e),jn(t,e))}function gt(t,e,n){if(t.tag===3)iA(t,t,n);else for(;e!==null;){if(e.tag===3){iA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bo===null||!bo.has(r))){t=ol(n,t),t=WR(e,t,1),e=wo(e,t,1),t=Sn(),e!==null&&(Wf(e,1,t),jn(e,t));break}}e=e.return}}function aU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Zt&n)===n&&(Mt===4||Mt===3&&(Zt&130023424)===Zt&&500>bt()-ox?bs(t,0):ix|=n),jn(t,e)}function c2(t,e){e===0&&(t.mode&1?(e=zh,zh<<=1,!(zh&130023424)&&(zh=4194304)):e=1);var n=Sn();t=ki(t,e),t!==null&&(Wf(t,e,n),jn(t,n))}function lU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c2(t,n)}function uU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),c2(t,n)}var f2;f2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,Q3(t,e,n);On=!!(t.flags&131072)}else On=!1,lt&&e.flags&1048576&&mR(e,np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kd(t,e),t=e.pendingProps;var i=tl(e,yn.current);Va(e,n),i=Jb(null,e,r,t,i,n);var o=Zb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(o=!0,ep(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qb(e),i.updater=tg,e.stateNode=i,i._reactInternals=e,Y0(e,r,t,n),e=J0(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&Vb(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fU(r),t=Er(r,t),i){case 0:e=X0(null,e,r,t,n);break e;case 1:e=KT(null,e,r,t,n);break e;case 11:e=HT(null,e,r,t,n);break e;case 14:e=qT(null,e,r,Er(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),X0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),KT(t,e,r,i,n);case 3:e:{if(KR(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bR(t,e),op(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ol(Error(te(423)),e),e=YT(t,e,r,n,i);break e}else if(r!==i){i=ol(Error(te(424)),e),e=YT(t,e,r,n,i);break e}else for(Kn=_o(e.stateNode.containerInfo.firstChild),Qn=e,lt=!0,Ir=null,n=_R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===i){e=Ni(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return xR(e),t===null&&H0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,U0(r,i)?s=null:o!==null&&U0(r,o)&&(e.flags|=32),qR(t,e),bn(t,e,s,n),e.child;case 6:return t===null&&H0(e),null;case 13:return YR(t,e,n);case 4:return Kb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),HT(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,et(rp,r._currentValue),r._currentValue=s,o!==null)if(Fr(o.value,s)){if(o.children===i.children&&!Mn.current){e=Ni(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),q0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),q0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Va(e,n),i=dr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),qT(t,e,r,i,n);case 15:return GR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),kd(t,e),e.tag=1,Dn(r)?(t=!0,ep(e)):t=!1,Va(e,n),BR(e,r,i),Y0(e,r,i,n),J0(null,e,r,!0,t,n);case 19:return QR(t,e,n);case 22:return HR(t,e,n)}throw Error(te(156,e.tag))};function h2(t,e){return FN(t,e)}function cU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new cU(t,e,n,r)}function ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fU(t){if(typeof t=="function")return ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pb)return 11;if(t===Cb)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Md(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ux(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wa:return xs(n.children,i,o,e);case Ib:s=8,i|=8;break;case _0:return t=ar(12,n,e,i|2),t.elementType=_0,t.lanes=o,t;case w0:return t=ar(13,n,e,i),t.elementType=w0,t.lanes=o,t;case b0:return t=ar(19,n,e,i),t.elementType=b0,t.lanes=o,t;case xN:return ig(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wN:s=10;break e;case bN:s=9;break e;case Pb:s=11;break e;case Cb:s=14;break e;case no:s=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=ar(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xs(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function ig(t,e,n,r){return t=ar(22,t,r,e),t.elementType=xN,t.lanes=n,t.stateNode={isHidden:!1},t}function _v(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function wv(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cx(t,e,n,r,i,o,s,a,l){return t=new hU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ar(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qb(o),t}function dU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function d2(t){if(!t)return No;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Dn(n))return dR(t,n,e)}return e}function p2(t,e,n,r,i,o,s,a,l){return t=cx(n,r,!0,t,i,o,s,a,l),t.context=d2(null),n=t.current,r=Sn(),i=xo(n),o=xi(r,i),o.callback=e??null,wo(n,o,i),t.current.lanes=i,Wf(t,i,r),jn(t,r),t}function og(t,e,n,r){var i=e.current,o=Sn(),s=xo(i);return n=d2(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Dr(t,i,s,o),Pd(t,i,s)),s}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fx(t,e){oA(t,e),(t=t.alternate)&&oA(t,e)}function pU(){return null}var m2=typeof reportError=="function"?reportError:function(t){console.error(t)};function hx(t){this._internalRoot=t}sg.prototype.render=hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));og(t,e,null,null)};sg.prototype.unmount=hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){og(null,t,null,null)}),e[Oi]=null}};function sg(t){this._internalRoot=t}sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=HN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oo.length&&e!==0&&e<oo[n].priority;n++);oo.splice(n,0,t),n===0&&KN(t)}};function dx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sA(){}function mU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=dp(s);o.call(u)}}var s=p2(e,r,t,0,null,!1,!1,"",sA);return t._reactRootContainer=s,t[Oi]=s.current,Dc(t.nodeType===8?t.parentNode:t),Rs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=dp(l);a.call(u)}}var l=cx(t,0,!1,null,null,!1,!1,"",sA);return t._reactRootContainer=l,t[Oi]=l.current,Dc(t.nodeType===8?t.parentNode:t),Rs(function(){og(e,l,n,r)}),l}function lg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=dp(s);a.call(l)}}og(e,s,t,i)}else s=mU(n,e,t,i,r);return dp(s)}WN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xu(e.pendingLanes);n!==0&&(Nb(e,n|1),jn(e,bt()),!(je&6)&&(sl=bt()+500,Bo()))}break;case 13:Rs(function(){var r=ki(t,1);if(r!==null){var i=Sn();Dr(r,t,1,i)}}),fx(t,1)}};Rb=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=Sn();Dr(e,t,134217728,n)}fx(t,134217728)}};GN=function(t){if(t.tag===13){var e=xo(t),n=ki(t,e);if(n!==null){var r=Sn();Dr(n,t,e,r)}fx(t,e)}};HN=function(){return ze};qN=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};k0=function(t,e,n){switch(e){case"input":if(S0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jm(r);if(!i)throw Error(te(90));SN(r),S0(r,i)}}}break;case"textarea":AN(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};RN=sx;MN=Rs;var gU={usingClientEntryPoint:!1,Events:[Hf,Sa,Jm,kN,NN,sx]},Nu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yU={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LN(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||pU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Km=ed.inject(yU),Hr=ed}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gU;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dx(e))throw Error(te(200));return dU(t,e,null,n)};Zn.createRoot=function(t,e){if(!dx(t))throw Error(te(299));var n=!1,r="",i=m2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cx(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,Dc(t.nodeType===8?t.parentNode:t),new hx(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=LN(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return Rs(t)};Zn.hydrate=function(t,e,n){if(!ag(e))throw Error(te(200));return lg(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!dx(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=m2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=p2(e,null,t,1,n??null,i,!1,o,s),t[Oi]=e.current,Dc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sg(e)};Zn.render=function(t,e,n){if(!ag(e))throw Error(te(200));return lg(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!ag(t))throw Error(te(40));return t._reactRootContainer?(Rs(function(){lg(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Zn.unstable_batchedUpdates=sx;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ag(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return lg(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function g2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g2)}catch(t){console.error(t)}}g2(),gN.exports=Zn;var vU=gN.exports,aA=vU;y0.createRoot=aA.createRoot,y0.hydrateRoot=aA.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(t,e){if(!t)throw Gl(e)},Gl=function(t){return new Error("Firebase Database ("+y2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_U=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,c=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[f],n[c],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||c==null)throw new wU;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),c!==64){const m=u<<6&192|c;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _2=function(t){const e=v2(t);return px.encodeByteArray(e,!0)},pp=function(t){return _2(t).replace(/\./g,"")},mp=function(t){try{return px.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){return w2(void 0,t)}function w2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xU(n)||(t[n]=w2(t[n],e[n]));return t}function xU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=()=>EU().__FIREBASE_DEFAULTS__,TU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mp(t[1]);return e&&JSON.parse(e)},ug=()=>{try{return SU()||TU()||AU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b2=t=>{var e,n;return(n=(e=ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},x2=t=>{const e=b2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E2=()=>{var t;return(t=ug())===null||t===void 0?void 0:t.config},S2=t=>{var e;return(e=ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[pp(JSON.stringify(n)),pp(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function IU(){var t;const e=(t=ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OU(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I2(){return y2.NODE_ADMIN===!0}function kU(){return!IU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NU(){try{return typeof indexedDB=="object"}catch{return!1}}function RU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MU,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kf.prototype.create)}}class Kf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?DU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new zi(i,a,r)}}function DU(t,e){return t.replace(jU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return JSON.parse(t)}function zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Wc(mp(o[0])||""),n=Wc(mp(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},LU=function(t){const e=P2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$U=function(t){const e=P2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function al(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function c_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(lA(o)&&lA(s)){if(!yp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=a^o&(s^a),f=1518500249):(u=o^s^a,f=1859775393):c<60?(u=o&s|a&(o|s),f=2400959708):(u=o^s^a,f=3395469782);const d=(i<<5|i>>>27)+u+l+f+r[c]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function VU(t,e){const n=new UU(t,e);return n.subscribe.bind(n)}class UU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bv),i.error===void 0&&(i.error=bv),i.complete===void 0&&(i.complete=bv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bv(){}function gx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,re(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HU(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GU(t){return t===rs?void 0:t}function HU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const KU={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},YU=ke.INFO,QU={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},XU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=YU,this._logHandler=XU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const JU=(t,e)=>e.some(n=>t instanceof n);let uA,cA;function ZU(){return uA||(uA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eB(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C2=new WeakMap,f_=new WeakMap,O2=new WeakMap,xv=new WeakMap,yx=new WeakMap;function tB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(So(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&C2.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function nB(t){if(f_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});f_.set(t,e)}let h_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rB(t){h_=t(h_)}function iB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ev(this),e,...n);return O2.set(r,e.sort?e.sort():[e]),So(r)}:eB().includes(t)?function(...e){return t.apply(Ev(this),e),So(C2.get(this))}:function(...e){return So(t.apply(Ev(this),e))}}function oB(t){return typeof t=="function"?iB(t):(t instanceof IDBTransaction&&nB(t),JU(t,ZU())?new Proxy(t,h_):t)}function So(t){if(t instanceof IDBRequest)return tB(t);if(xv.has(t))return xv.get(t);const e=oB(t);return e!==t&&(xv.set(t,e),yx.set(e,t)),e}const Ev=t=>yx.get(t);function sB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=So(s);return r&&s.addEventListener("upgradeneeded",l=>{r(So(s.result),l.oldVersion,l.newVersion,So(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aB=["get","getKey","getAll","getAllKeys","count"],lB=["put","add","delete","clear"],Sv=new Map;function fA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sv.get(e))return Sv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aB.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Sv.set(e,o),o}rB(t=>({...t,get:(e,n,r)=>fA(e,n)||t.get(e,n,r),has:(e,n)=>!!fA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d_="@firebase/app",hA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new hg("@firebase/app"),fB="@firebase/app-compat",hB="@firebase/analytics-compat",dB="@firebase/analytics",pB="@firebase/app-check-compat",mB="@firebase/app-check",gB="@firebase/auth",yB="@firebase/auth-compat",vB="@firebase/database",_B="@firebase/data-connect",wB="@firebase/database-compat",bB="@firebase/functions",xB="@firebase/functions-compat",EB="@firebase/installations",SB="@firebase/installations-compat",TB="@firebase/messaging",AB="@firebase/messaging-compat",IB="@firebase/performance",PB="@firebase/performance-compat",CB="@firebase/remote-config",OB="@firebase/remote-config-compat",kB="@firebase/storage",NB="@firebase/storage-compat",RB="@firebase/firestore",MB="@firebase/vertexai-preview",DB="@firebase/firestore-compat",jB="firebase",LB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",$B={[d_]:"fire-core",[fB]:"fire-core-compat",[dB]:"fire-analytics",[hB]:"fire-analytics-compat",[mB]:"fire-app-check",[pB]:"fire-app-check-compat",[gB]:"fire-auth",[yB]:"fire-auth-compat",[vB]:"fire-rtdb",[_B]:"fire-data-connect",[wB]:"fire-rtdb-compat",[bB]:"fire-fn",[xB]:"fire-fn-compat",[EB]:"fire-iid",[SB]:"fire-iid-compat",[TB]:"fire-fcm",[AB]:"fire-fcm-compat",[IB]:"fire-perf",[PB]:"fire-perf-compat",[CB]:"fire-rc",[OB]:"fire-rc-compat",[kB]:"fire-gcs",[NB]:"fire-gcs-compat",[RB]:"fire-fst",[DB]:"fire-fst-compat",[MB]:"fire-vertex","fire-js":"fire-js",[jB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map,FB=new Map,m_=new Map;function dA(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ms(t){const e=t.name;if(m_.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;m_.set(e,t);for(const n of vp.values())dA(n,t);for(const n of FB.values())dA(n,t);return!0}function dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Kf("app","Firebase",VB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=LB;function k2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=E2()),!n)throw To.create("no-options");const o=vp.get(i);if(o){if(yp(n,o.options)&&yp(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}const s=new qU(i);for(const l of m_.values())s.addComponent(l);const a=new UB(n,r,s);return vp.set(i,a),a}function vx(t=p_){const e=vp.get(t);if(!e&&t===p_&&E2())return k2();if(!e)throw To.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=$B[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(a.join(" "));return}Ms(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="firebase-heartbeat-database",zB=1,Gc="firebase-heartbeat-store";let Tv=null;function N2(){return Tv||(Tv=sB(BB,zB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw To.create("idb-open",{originalErrorMessage:t.message})})),Tv}async function WB(t){try{const n=(await N2()).transaction(Gc),r=await n.objectStore(Gc).get(R2(t));return await n.done,r}catch(e){if(e instanceof zi)Ri.warn(e.message);else{const n=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function pA(t,e){try{const r=(await N2()).transaction(Gc,"readwrite");await r.objectStore(Gc).put(e,R2(t)),await r.done}catch(n){if(n instanceof zi)Ri.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(r.message)}}}function R2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=1024,HB=30*24*60*60*1e3;class qB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=HB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mA(),{heartbeatsToSend:r,unsentEntries:i}=KB(this._heartbeatsCache.heartbeats),o=pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ri.warn(n),""}}}function mA(){return new Date().toISOString().substring(0,10)}function KB(t,e=GB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NU()?RU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gA(t){return pp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){Ms(new Ro("platform-logger",e=>new uB(e),"PRIVATE")),Ms(new Ro("heartbeat",e=>new qB(e),"PRIVATE")),Kr(d_,hA,t),Kr(d_,hA,"esm2017"),Kr("fire-js","")}QB("");var XB="firebase",JB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(XB,JB,"app");var yA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,M2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function P(){}P.prototype=S.prototype,b.D=S.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(O,k,M){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return S.prototype[k].apply(O,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,P){P||(P=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(k=0;16>k;++k)O[k]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=b.g[0],P=b.g[1],k=b.g[2];var M=b.g[3],N=S+(M^P&(k^M))+O[0]+3614090360&4294967295;S=P+(N<<7&4294967295|N>>>25),N=M+(k^S&(P^k))+O[1]+3905402710&4294967295,M=S+(N<<12&4294967295|N>>>20),N=k+(P^M&(S^P))+O[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(S^k&(M^S))+O[3]+3250441966&4294967295,P=k+(N<<22&4294967295|N>>>10),N=S+(M^P&(k^M))+O[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(k^S&(P^k))+O[5]+1200080426&4294967295,M=S+(N<<12&4294967295|N>>>20),N=k+(P^M&(S^P))+O[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(S^k&(M^S))+O[7]+4249261313&4294967295,P=k+(N<<22&4294967295|N>>>10),N=S+(M^P&(k^M))+O[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(k^S&(P^k))+O[9]+2336552879&4294967295,M=S+(N<<12&4294967295|N>>>20),N=k+(P^M&(S^P))+O[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(S^k&(M^S))+O[11]+2304563134&4294967295,P=k+(N<<22&4294967295|N>>>10),N=S+(M^P&(k^M))+O[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(k^S&(P^k))+O[13]+4254626195&4294967295,M=S+(N<<12&4294967295|N>>>20),N=k+(P^M&(S^P))+O[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(S^k&(M^S))+O[15]+1236535329&4294967295,P=k+(N<<22&4294967295|N>>>10),N=S+(k^M&(P^k))+O[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(S^P))+O[6]+3225465664&4294967295,M=S+(N<<9&4294967295|N>>>23),N=k+(S^P&(M^S))+O[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(k^M))+O[0]+3921069994&4294967295,P=k+(N<<20&4294967295|N>>>12),N=S+(k^M&(P^k))+O[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(S^P))+O[10]+38016083&4294967295,M=S+(N<<9&4294967295|N>>>23),N=k+(S^P&(M^S))+O[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(k^M))+O[4]+3889429448&4294967295,P=k+(N<<20&4294967295|N>>>12),N=S+(k^M&(P^k))+O[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(S^P))+O[14]+3275163606&4294967295,M=S+(N<<9&4294967295|N>>>23),N=k+(S^P&(M^S))+O[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(k^M))+O[8]+1163531501&4294967295,P=k+(N<<20&4294967295|N>>>12),N=S+(k^M&(P^k))+O[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(S^P))+O[2]+4243563512&4294967295,M=S+(N<<9&4294967295|N>>>23),N=k+(S^P&(M^S))+O[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(k^M))+O[12]+2368359562&4294967295,P=k+(N<<20&4294967295|N>>>12),N=S+(P^k^M)+O[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^k)+O[8]+2272392833&4294967295,M=S+(N<<11&4294967295|N>>>21),N=k+(M^S^P)+O[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^S)+O[14]+4259657740&4294967295,P=k+(N<<23&4294967295|N>>>9),N=S+(P^k^M)+O[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^k)+O[4]+1272893353&4294967295,M=S+(N<<11&4294967295|N>>>21),N=k+(M^S^P)+O[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^S)+O[10]+3200236656&4294967295,P=k+(N<<23&4294967295|N>>>9),N=S+(P^k^M)+O[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^k)+O[0]+3936430074&4294967295,M=S+(N<<11&4294967295|N>>>21),N=k+(M^S^P)+O[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^S)+O[6]+76029189&4294967295,P=k+(N<<23&4294967295|N>>>9),N=S+(P^k^M)+O[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^k)+O[12]+3873151461&4294967295,M=S+(N<<11&4294967295|N>>>21),N=k+(M^S^P)+O[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^S)+O[2]+3299628645&4294967295,P=k+(N<<23&4294967295|N>>>9),N=S+(k^(P|~M))+O[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~k))+O[7]+1126891415&4294967295,M=S+(N<<10&4294967295|N>>>22),N=k+(S^(M|~P))+O[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~S))+O[5]+4237533241&4294967295,P=k+(N<<21&4294967295|N>>>11),N=S+(k^(P|~M))+O[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~k))+O[3]+2399980690&4294967295,M=S+(N<<10&4294967295|N>>>22),N=k+(S^(M|~P))+O[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~S))+O[1]+2240044497&4294967295,P=k+(N<<21&4294967295|N>>>11),N=S+(k^(P|~M))+O[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~k))+O[15]+4264355552&4294967295,M=S+(N<<10&4294967295|N>>>22),N=k+(S^(M|~P))+O[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~S))+O[13]+1309151649&4294967295,P=k+(N<<21&4294967295|N>>>11),N=S+(k^(P|~M))+O[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~k))+O[11]+3174756917&4294967295,M=S+(N<<10&4294967295|N>>>22),N=k+(S^(M|~P))+O[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~S))+O[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var P=S-this.blockSize,O=this.B,k=this.h,M=0;M<S;){if(k==0)for(;M<=P;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<S;)if(O[k++]=b.charCodeAt(M++),k==this.blockSize){i(this,O),k=0;break}}else for(;M<S;)if(O[k++]=b[M++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var P=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=P&255,P/=256;for(this.u(b),b=Array(16),S=P=0;4>S;++S)for(var O=0;32>O;O+=8)b[P++]=this.g[S]>>>O&255;return b};function o(b,S){var P=a;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=S(b)}function s(b,S){this.h=S;for(var P=[],O=!0,k=b.length-1;0<=k;k--){var M=b[k]|0;O&&M==S||(P[k]=M,O=!1)}this.g=P}var a={};function l(b){return-128<=b&&128>b?o(b,function(S){return new s([S|0],0>S?-1:0)}):new s([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return c;if(0>b)return v(u(-b));for(var S=[],P=1,O=0;b>=P;O++)S[O]=b/P|0,P*=4294967296;return new s(S,0)}function f(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return v(f(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),O=c,k=0;k<b.length;k+=8){var M=Math.min(8,b.length-k),N=parseInt(b.substring(k,k+M),S);8>M?(M=u(Math.pow(S,M)),O=O.j(M).add(u(N))):(O=O.j(P),O=O.add(u(N)))}return O}var c=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();for(var b=0,S=1,P=0;P<this.g.length;P++){var O=this.i(P);b+=(0<=O?O:4294967296+O)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(g(this))return"-"+v(this).toString(b);for(var S=u(Math.pow(b,6)),P=this,O="";;){var k=C(P,S).g;P=_(P,k.j(S));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=k,m(P))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=_(this,b),g(b)?-1:m(b)?0:1};function v(b){for(var S=b.g.length,P=[],O=0;O<S;O++)P[O]=~b.g[O];return new s(P,~b.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],O=0,k=0;k<=S;k++){var M=O+(this.i(k)&65535)+(b.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);O=N>>>16,M&=65535,N&=65535,P[k]=N<<16|M}return new s(P,P[P.length-1]&-2147483648?-1:0)};function _(b,S){return b.add(v(S))}t.j=function(b){if(m(this)||m(b))return c;if(g(this))return g(b)?v(this).j(v(b)):v(v(this).j(b));if(g(b))return v(this.j(v(b)));if(0>this.l(p)&&0>b.l(p))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,P=[],O=0;O<2*S;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<b.g.length;k++){var M=this.i(O)>>>16,N=this.i(O)&65535,V=b.i(k)>>>16,W=b.i(k)&65535;P[2*O+2*k]+=N*W,w(P,2*O+2*k),P[2*O+2*k+1]+=M*W,w(P,2*O+2*k+1),P[2*O+2*k+1]+=N*V,w(P,2*O+2*k+1),P[2*O+2*k+2]+=M*V,w(P,2*O+2*k+2)}for(O=0;O<S;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=S;O<2*S;O++)P[O]=0;return new s(P,0)};function w(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function E(b,S){this.g=b,this.h=S}function C(b,S){if(m(S))throw Error("division by zero");if(m(b))return new E(c,c);if(g(b))return S=C(v(b),S),new E(v(S.g),v(S.h));if(g(S))return S=C(b,v(S)),new E(v(S.g),S.h);if(30<b.g.length){if(g(b)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=S;0>=O.l(b);)P=T(P),O=T(O);var k=I(P,1),M=I(O,1);for(O=I(O,2),P=I(P,2);!m(O);){var N=M.add(O);0>=N.l(b)&&(k=k.add(P),M=N),O=I(O,1),P=I(P,1)}return S=_(b,k.j(S)),new E(k,S)}for(k=c;0<=b.l(S);){for(P=Math.max(1,Math.floor(b.m()/S.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=u(P),N=M.j(S);g(N)||0<N.l(b);)P-=O,M=u(P),N=M.j(S);m(M)&&(M=d),k=k.add(M),b=_(b,N)}return new E(k,b)}t.A=function(b){return C(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)&b.i(O);return new s(P,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)|b.i(O);return new s(P,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)^b.i(O);return new s(P,this.h^b.h)};function T(b){for(var S=b.g.length+1,P=[],O=0;O<S;O++)P[O]=b.i(O)<<1|b.i(O-1)>>>31;return new s(P,b.h)}function I(b,S){var P=S>>5;S%=32;for(var O=b.g.length-P,k=[],M=0;M<O;M++)k[M]=0<S?b.i(M+P)>>>S|b.i(M+P+1)<<32-S:b.i(M+P);return new s(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,Es=s}).apply(typeof yA<"u"?yA:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D2,Zu,j2,Dd,g_,L2,$2,F2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,A){return h==Array.prototype||h==Object.prototype||(h[y]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var y=0;y<h.length;++y){var A=h[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var A=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in A))break e;A=A[$]}h=h[h.length-1],R=A[h],y=y(R),y!=R&&y!=null&&e(A,h,{configurable:!0,writable:!0,value:y})}}function o(h,y){h instanceof String&&(h+="");var A=0,R=!1,$={next:function(){if(!R&&A<h.length){var z=A++;return{value:y(z,h[z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function u(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function f(h,y,A){return h.call.apply(h.bind,arguments)}function c(h,y,A){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function d(h,y,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:c,d.apply(null,arguments)}function p(h,y){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function m(h,y){function A(){}A.prototype=y.prototype,h.aa=y.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(R,$,z){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return y.prototype[$].apply(R,oe)}}function g(h){const y=h.length;if(0<y){const A=Array(y);for(let R=0;R<y;R++)A[R]=h[R];return A}return[]}function v(h,y){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const $=h.length||0,z=R.length||0;h.length=$+z;for(let oe=0;oe<z;oe++)h[$+oe]=R[oe]}else h.push(R)}}class _{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function C(h){return C[" "](h),h}C[" "]=function(){};var T=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(h,y,A){for(const R in h)y.call(A,h[R],R,h)}function b(h,y){for(const A in h)y.call(void 0,h[A],A,h)}function S(h){const y={};for(const A in h)y[A]=h[A];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let A,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(A in R)h[A]=R[A];for(let z=0;z<P.length;z++)A=P[z],Object.prototype.hasOwnProperty.call(R,A)&&(h[A]=R[A])}}function k(h){var y=1;h=h.split(":");const A=[];for(;0<y&&h.length;)A.push(h.shift()),y--;return h.length&&A.push(h.join(":")),A}function M(h){a.setTimeout(()=>{throw h},0)}function N(){var h=G;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class V{constructor(){this.h=this.g=null}add(y,A){const R=W.get();R.set(y,A),this.h?this.h.next=R:this.g=R,this.h=R}}var W=new _(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,G=new V,Y=()=>{const h=a.Promise.resolve(void 0);K=()=>{h.then(ne)}};var ne=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(A){M(A)}var y=W;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}F=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};a.addEventListener("test",A,y),a.removeEventListener("test",A,y)}catch{}return h}();function he(h,y){if(Q.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(T){e:{try{C(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else A=="mouseover"?y=h.fromElement:A=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:pe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&he.aa.h.call(this)}}m(he,Q);var pe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function ae(h,y,A,R,$){this.listener=h,this.proxy=null,this.src=y,this.type=A,this.capture=!!R,this.ha=$,this.key=++Xe,this.da=this.fa=!1}function X(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,y,A,R,$){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var oe=ge(h,y,R,$);return-1<oe?(y=h[oe],A||(y.fa=!1)):(y=new ae(y,this.src,z,!!R,$),y.fa=A,h.push(y)),y};function U(h,y){var A=y.type;if(A in h.g){var R=h.g[A],$=Array.prototype.indexOf.call(R,y,void 0),z;(z=0<=$)&&Array.prototype.splice.call(R,$,1),z&&(X(y),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ge(h,y,A,R){for(var $=0;$<h.length;++$){var z=h[$];if(!z.da&&z.listener==y&&z.capture==!!A&&z.ha==R)return $}return-1}var L="closure_lm_"+(1e6*Math.random()|0),ee={};function Te(h,y,A,R,$){if(R&&R.once)return vr(h,y,A,R,$);if(Array.isArray(y)){for(var z=0;z<y.length;z++)Te(h,y[z],A,R,$);return null}return A=Ny(A),h&&h[_e]?h.K(y,A,u(R)?!!R.capture:!!R,$):Me(h,y,A,!1,R,$)}function Me(h,y,A,R,$,z){if(!y)throw Error("Invalid event type");var oe=u($)?!!$.capture:!!$,qe=ia(h);if(qe||(h[L]=qe=new ie(h)),A=qe.add(y,A,R,oe,z),A.proxy)return A;if(R=Et(),A.proxy=R,R.src=h,R.listener=A,h.addEventListener)ce||($=oe),$===void 0&&($=!1),h.addEventListener(y.toString(),R,$);else if(h.attachEvent)h.attachEvent(tr(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Et(){function h(A){return y.call(h.src,h.listener,A)}const y=Qi;return h}function vr(h,y,A,R,$){if(Array.isArray(y)){for(var z=0;z<y.length;z++)vr(h,y[z],A,R,$);return null}return A=Ny(A),h&&h[_e]?h.L(y,A,u(R)?!!R.capture:!!R,$):Me(h,y,A,!0,R,$)}function Yi(h,y,A,R,$){if(Array.isArray(y))for(var z=0;z<y.length;z++)Yi(h,y[z],A,R,$);else R=u(R)?!!R.capture:!!R,A=Ny(A),h&&h[_e]?(h=h.i,y=String(y).toString(),y in h.g&&(z=h.g[y],A=ge(z,A,R,$),-1<A&&(X(z[A]),Array.prototype.splice.call(z,A,1),z.length==0&&(delete h.g[y],h.h--)))):h&&(h=ia(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ge(y,A,R,$)),(A=-1<h?y[h]:null)&&Un(A))}function Un(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[_e])U(y.i,h);else{var A=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(A,R,h.capture):y.detachEvent?y.detachEvent(tr(A),R):y.addListener&&y.removeListener&&y.removeListener(R),(A=ia(y))?(U(A,h),A.h==0&&(A.src=null,y[L]=null)):X(h)}}}function tr(h){return h in ee?ee[h]:ee[h]="on"+h}function Qi(h,y){if(h.da)h=!0;else{y=new he(y,this);var A=h.listener,R=h.ha||h.src;h.fa&&Un(h),h=A.call(R,y)}return h}function ia(h){return h=h[L],h instanceof ie?h:null}var oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ny(h){return typeof h=="function"?h:(h[oa]||(h[oa]=function(y){return h.handleEvent(y)}),h[oa])}function rn(){B.call(this),this.i=new ie(this),this.M=this,this.F=null}m(rn,B),rn.prototype[_e]=!0,rn.prototype.removeEventListener=function(h,y,A,R){Yi(this,h,y,A,R)};function _n(h,y){var A,R=h.F;if(R)for(A=[];R;R=R.F)A.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new Q(y,h);else if(y instanceof Q)y.target=y.target||h;else{var $=y;y=new Q(R,h),O(y,$)}if($=!0,A)for(var z=A.length-1;0<=z;z--){var oe=y.g=A[z];$=bh(oe,R,!0,y)&&$}if(oe=y.g=h,$=bh(oe,R,!0,y)&&$,$=bh(oe,R,!1,y)&&$,A)for(z=0;z<A.length;z++)oe=y.g=A[z],$=bh(oe,R,!1,y)&&$}rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var A=h.g[y],R=0;R<A.length;R++)X(A[R]);delete h.g[y],h.h--}}this.F=null},rn.prototype.K=function(h,y,A,R){return this.i.add(String(h),y,!1,A,R)},rn.prototype.L=function(h,y,A,R){return this.i.add(String(h),y,!0,A,R)};function bh(h,y,A,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,z=0;z<y.length;++z){var oe=y[z];if(oe&&!oe.da&&oe.capture==A){var qe=oe.listener,Ht=oe.ha||oe.src;oe.fa&&U(h.i,oe),$=qe.call(Ht,R)!==!1&&$}}return $&&!R.defaultPrevented}function iS(h,y,A){if(typeof h=="function")A&&(h=d(h,A));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(h,y||0)}function oS(h){h.g=iS(()=>{h.g=null,h.i&&(h.i=!1,oS(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class b4 extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:oS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hu(h){B.call(this),this.h=h,this.g={}}m(hu,B);var sS=[];function aS(h){I(h.g,function(y,A){this.g.hasOwnProperty(A)&&Un(y)},h),h.g={}}hu.prototype.N=function(){hu.aa.N.call(this),aS(this)},hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ry=a.JSON.stringify,x4=a.JSON.parse,E4=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function My(){}My.prototype.h=null;function lS(h){return h.h||(h.h=h.i())}function uS(){}var du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dy(){Q.call(this,"d")}m(Dy,Q);function jy(){Q.call(this,"c")}m(jy,Q);var Yo={},cS=null;function xh(){return cS=cS||new rn}Yo.La="serverreachability";function fS(h){Q.call(this,Yo.La,h)}m(fS,Q);function pu(h){const y=xh();_n(y,new fS(y))}Yo.STAT_EVENT="statevent";function hS(h,y){Q.call(this,Yo.STAT_EVENT,h),this.stat=y}m(hS,Q);function wn(h){const y=xh();_n(y,new hS(y,h))}Yo.Ma="timingevent";function dS(h,y){Q.call(this,Yo.Ma,h),this.size=y}m(dS,Q);function mu(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},y)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function S4(h,y,A,R,$,z){h.info(function(){if(h.g)if(z)for(var oe="",qe=z.split("&"),Ht=0;Ht<qe.length;Ht++){var $e=qe[Ht].split("=");if(1<$e.length){var on=$e[0];$e=$e[1];var sn=on.split("_");oe=2<=sn.length&&sn[1]=="type"?oe+(on+"="+$e+"&"):oe+(on+"=redacted&")}}else oe=null;else oe=z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+A+`
`+oe})}function T4(h,y,A,R,$,z,oe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+A+`
`+z+" "+oe})}function sa(h,y,A,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+I4(h,A)+(R?" "+R:"")})}function A4(h,y){h.info(function(){return"TIMEOUT: "+y})}gu.prototype.info=function(){};function I4(h,y){if(!h.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var R=A[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var z=$[0];if(z!="noop"&&z!="stop"&&z!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return Ry(A)}catch{return y}}var Eh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ly;function Sh(){}m(Sh,My),Sh.prototype.g=function(){return new XMLHttpRequest},Sh.prototype.i=function(){return{}},Ly=new Sh;function Xi(h,y,A,R){this.j=h,this.i=y,this.l=A,this.R=R||1,this.U=new hu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mS}function mS(){this.i=null,this.g="",this.h=!1}var gS={},$y={};function Fy(h,y,A){h.L=1,h.v=Ph(oi(y)),h.m=A,h.P=!0,yS(h,null)}function yS(h,y){h.F=Date.now(),Th(h),h.A=oi(h.v);var A=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),kS(A.i,"t",R),h.C=0,A=h.j.J,h.h=new mS,h.g=YS(h.j,A?y:null,!h.m),0<h.O&&(h.M=new b4(d(h.Y,h,h.g),h.O)),y=h.U,A=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(sS[0]=$.toString()),$=sS);for(var z=0;z<$.length;z++){var oe=Te(A,$[z],R||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),pu(),S4(h.i,h.u,h.A,h.l,h.R,h.m)}Xi.prototype.ca=function(h){h=h.target;const y=this.M;y&&si(h)==3?y.j():this.Y(h)},Xi.prototype.Y=function(h){try{if(h==this.g)e:{const sn=si(this.g);var y=this.g.Ba();const ua=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||$S(this.g)))){this.J||sn!=4||y==7||(y==8||0>=ua?pu(3):pu(2)),Vy(this);var A=this.g.Z();this.X=A;t:if(vS(this)){var R=$S(this.g);h="";var $=R.length,z=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),yu(this);var oe="";break t}this.h.i=new a.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(z&&y==$-1)});R.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=A==200,T4(this.i,this.u,this.A,this.l,this.R,sn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ht=this.g;if((qe=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(qe)){var $e=qe;break t}}$e=null}if(A=$e)sa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uy(this,A);else{this.o=!1,this.s=3,wn(12),Qo(this),yu(this);break e}}if(this.P){A=!0;let _r;for(;!this.J&&this.C<oe.length;)if(_r=P4(this,oe),_r==$y){sn==4&&(this.s=4,wn(14),A=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==gS){this.s=4,wn(15),sa(this.i,this.l,oe,"[Invalid Chunk]"),A=!1;break}else sa(this.i,this.l,_r,null),Uy(this,_r);if(vS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||oe.length!=0||this.h.h||(this.s=1,wn(16),A=!1),this.o=this.o&&A,!A)sa(this.i,this.l,oe,"[Invalid Chunked Response]"),Qo(this),yu(this);else if(0<oe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),qy(on),on.M=!0,wn(11))}}else sa(this.i,this.l,oe,null),Uy(this,oe);sn==4&&Qo(this),this.o&&!this.J&&(sn==4?GS(this.j,this):(this.o=!1,Th(this)))}else G4(this.g),A==400&&0<oe.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Qo(this),yu(this)}}}catch{}finally{}};function vS(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function P4(h,y){var A=h.C,R=y.indexOf(`
`,A);return R==-1?$y:(A=Number(y.substring(A,R)),isNaN(A)?gS:(R+=1,R+A>y.length?$y:(y=y.slice(R,R+A),h.C=R+A,y)))}Xi.prototype.cancel=function(){this.J=!0,Qo(this)};function Th(h){h.S=Date.now()+h.I,_S(h,h.I)}function _S(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mu(d(h.ba,h),y)}function Vy(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Xi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(A4(this.i,this.A),this.L!=2&&(pu(),wn(17)),Qo(this),this.s=2,yu(this)):_S(this,this.S-h)};function yu(h){h.j.G==0||h.J||GS(h.j,h)}function Qo(h){Vy(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,aS(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Uy(h,y){try{var A=h.j;if(A.G!=0&&(A.g==h||By(A.h,h))){if(!h.K&&By(A.h,h)&&A.G==3){try{var R=A.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)Mh(A),Nh(A);else break e;Hy(A),wn(18)}}else A.za=$[1],0<A.za-A.T&&37500>$[2]&&A.F&&A.v==0&&!A.C&&(A.C=mu(d(A.Za,A),6e3));if(1>=xS(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Jo(A,11)}else if((h.K||A.g==h)&&Mh(A),!w(y))for($=A.Da.g.parse(y),y=0;y<$.length;y++){let $e=$[y];if(A.T=$e[0],$e=$e[1],A.G==2)if($e[0]=="c"){A.K=$e[1],A.ia=$e[2];const on=$e[3];on!=null&&(A.la=on,A.j.info("VER="+A.la));const sn=$e[4];sn!=null&&(A.Aa=sn,A.j.info("SVER="+A.Aa));const ua=$e[5];ua!=null&&typeof ua=="number"&&0<ua&&(R=1.5*ua,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const _r=h.g;if(_r){const jh=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jh){var z=R.h;z.g||jh.indexOf("spdy")==-1&&jh.indexOf("quic")==-1&&jh.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(zy(z,z.h),z.h=null))}if(R.D){const Ky=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ky&&(R.ya=Ky,tt(R.I,R.D,Ky))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var oe=h;if(R.qa=KS(R,R.J?R.ia:null,R.W),oe.K){ES(R.h,oe);var qe=oe,Ht=R.L;Ht&&(qe.I=Ht),qe.B&&(Vy(qe),Th(qe)),R.g=oe}else zS(R);0<A.i.length&&Rh(A)}else $e[0]!="stop"&&$e[0]!="close"||Jo(A,7);else A.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Jo(A,7):Gy(A):$e[0]!="noop"&&A.l&&A.l.ta($e),A.v=0)}}pu(4)}catch{}}var C4=class{constructor(h,y){this.g=h,this.map=y}};function wS(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xS(h){return h.h?1:h.g?h.g.size:0}function By(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function zy(h,y){h.g?h.g.add(y):h.h=y}function ES(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}wS.prototype.cancel=function(){if(this.i=SS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function SS(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const A of h.g.values())y=y.concat(A.D);return y}return g(h.i)}function O4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var y=[],A=h.length,R=0;R<A;R++)y.push(h[R]);return y}y=[],A=0;for(R in h)y[A++]=h[R];return y}function k4(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var y=[];h=h.length;for(var A=0;A<h;A++)y.push(A);return y}y=[],A=0;for(const R in h)y[A++]=R;return y}}}function TS(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var A=k4(h),R=O4(h),$=R.length,z=0;z<$;z++)y.call(void 0,R[z],A&&A[z],h)}var AS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N4(h,y){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var R=h[A].indexOf("="),$=null;if(0<=R){var z=h[A].substring(0,R);$=h[A].substring(R+1)}else z=h[A];y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Xo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Xo){this.h=h.h,Ah(this,h.j),this.o=h.o,this.g=h.g,Ih(this,h.s),this.l=h.l;var y=h.i,A=new wu;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),IS(this,A),this.m=h.m}else h&&(y=String(h).match(AS))?(this.h=!1,Ah(this,y[1]||"",!0),this.o=vu(y[2]||""),this.g=vu(y[3]||"",!0),Ih(this,y[4]),this.l=vu(y[5]||"",!0),IS(this,y[6]||"",!0),this.m=vu(y[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Xo.prototype.toString=function(){var h=[],y=this.j;y&&h.push(_u(y,PS,!0),":");var A=this.g;return(A||y=="file")&&(h.push("//"),(y=this.o)&&h.push(_u(y,PS,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(_u(A,A.charAt(0)=="/"?D4:M4,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",_u(A,L4)),h.join("")};function oi(h){return new Xo(h)}function Ah(h,y,A){h.j=A?vu(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ih(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function IS(h,y,A){y instanceof wu?(h.i=y,$4(h.i,h.h)):(A||(y=_u(y,j4)),h.i=new wu(y,h.h))}function tt(h,y,A){h.i.set(y,A)}function Ph(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vu(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _u(h,y,A){return typeof h=="string"?(h=encodeURI(h).replace(y,R4),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function R4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var PS=/[#\/\?@]/g,M4=/[#\?:]/g,D4=/[#\?]/g,j4=/[#\?@]/g,L4=/#/g;function wu(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ji(h){h.g||(h.g=new Map,h.h=0,h.i&&N4(h.i,function(y,A){h.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=wu.prototype,t.add=function(h,y){Ji(this),this.i=null,h=aa(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(y),this.h+=1,this};function CS(h,y){Ji(h),y=aa(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function OS(h,y){return Ji(h),y=aa(h,y),h.g.has(y)}t.forEach=function(h,y){Ji(this),this.g.forEach(function(A,R){A.forEach(function($){h.call(y,$,R,this)},this)},this)},t.na=function(){Ji(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let R=0;R<y.length;R++){const $=h[R];for(let z=0;z<$.length;z++)A.push(y[R])}return A},t.V=function(h){Ji(this);let y=[];if(typeof h=="string")OS(this,h)&&(y=y.concat(this.g.get(aa(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)y=y.concat(h[A])}return y},t.set=function(h,y){return Ji(this),this.i=null,h=aa(this,h),OS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function kS(h,y,A){CS(h,y),0<A.length&&(h.i=null,h.g.set(aa(h,y),g(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var R=y[A];const z=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var $=z;oe[R]!==""&&($+="="+encodeURIComponent(String(oe[R]))),h.push($)}}return this.i=h.join("&")};function aa(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function $4(h,y){y&&!h.j&&(Ji(h),h.i=null,h.g.forEach(function(A,R){var $=R.toLowerCase();R!=$&&(CS(this,R),kS(this,$,A))},h)),h.j=y}function F4(h,y){const A=new gu;if(a.Image){const R=new Image;R.onload=p(Zi,A,"TestLoadImage: loaded",!0,y,R),R.onerror=p(Zi,A,"TestLoadImage: error",!1,y,R),R.onabort=p(Zi,A,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(Zi,A,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function V4(h,y){const A=new gu,R=new AbortController,$=setTimeout(()=>{R.abort(),Zi(A,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(z=>{clearTimeout($),z.ok?Zi(A,"TestPingServer: ok",!0,y):Zi(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Zi(A,"TestPingServer: error",!1,y)})}function Zi(h,y,A,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(A)}catch{}}function U4(){this.g=new E4}function B4(h,y,A){const R=A||"";try{TS(h,function($,z){let oe=$;u($)&&(oe=Ry($)),y.push(R+z+"="+encodeURIComponent(oe))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function Ch(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Ch,My),Ch.prototype.g=function(){return new Oh(this.l,this.j)},Ch.prototype.i=function(h){return function(){return h}}({});function Oh(h,y){rn.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Oh,rn),t=Oh.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,xu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function NS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?bu(this):xu(this),this.readyState==3&&NS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bu(this))},t.Qa=function(h){this.g&&(this.response=h,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xu(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=y.next();return h.join(`\r
`)};function xu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function RS(h){let y="";return I(h,function(A,R){y+=R,y+=":",y+=A,y+=`\r
`}),y}function Wy(h,y,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=RS(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):tt(h,y,A))}function pt(h){rn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(pt,rn);var z4=/^https?$/i,W4=["POST","PUT"];t=pt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ly.g(),this.v=this.o?lS(this.o):lS(Ly),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(z){MS(this,z);return}if(h=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)A.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const z of R.keys())A.set(z,R.get(z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),$=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(W4,y,void 0))||R||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,oe]of A)this.g.setRequestHeader(z,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LS(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){MS(this,z)}};function MS(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,DS(h),kh(h)}function DS(h){h.A||(h.A=!0,_n(h,"complete"),_n(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,_n(this,"complete"),_n(this,"abort"),kh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kh(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jS(this):this.bb())},t.bb=function(){jS(this)};function jS(h){if(h.h&&typeof s<"u"&&(!h.v[1]||si(h)!=4||h.Z()!=2)){if(h.u&&si(h)==4)iS(h.Ea,0,h);else if(_n(h,"readystatechange"),si(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var R;if(R=oe===0){var $=String(h.D).match(AS)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),R=!z4.test($?$.toLowerCase():"")}A=R}if(A)_n(h,"complete"),_n(h,"success");else{h.m=6;try{var z=2<si(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",DS(h)}}finally{kh(h)}}}}function kh(h,y){if(h.g){LS(h);const A=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||_n(h,"ready");try{A.onreadystatechange=R}catch{}}}function LS(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),x4(y)}};function $S(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function G4(h){const y={};h=(h.g&&2<=si(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(w(h[R]))continue;var A=k(h[R]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=y[$]||[];y[$]=z,z.push(A)}b(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(h,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||y}function FS(h){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,h),this.cb=Eu("retryDelaySeedMs",1e4,h),this.Wa=Eu("forwardChannelMaxRetries",2,h),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new wS(h&&h.concurrentRequestLimit),this.Da=new U4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=FS.prototype,t.la=8,t.G=1,t.connect=function(h,y,A,R){wn(0),this.W=h,this.H=y||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=KS(this,null,this.W),Rh(this)};function Gy(h){if(VS(h),h.G==3){var y=h.U++,A=oi(h.I);if(tt(A,"SID",h.K),tt(A,"RID",y),tt(A,"TYPE","terminate"),Su(h,A),y=new Xi(h,h.j,y),y.L=2,y.v=Ph(oi(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=y.v,A=!0),A||(y.g=YS(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Th(y)}qS(h)}function Nh(h){h.g&&(qy(h),h.g.cancel(),h.g=null)}function VS(h){Nh(h),h.u&&(a.clearTimeout(h.u),h.u=null),Mh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Rh(h){if(!bS(h.h)&&!h.s){h.s=!0;var y=h.Ga;K||Y(),F||(K(),F=!0),G.add(y,h),h.B=0}}function H4(h,y){return xS(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mu(d(h.Ga,h,y),HS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Xi(this,this.j,h);let z=this.o;if(this.S&&(z?(z=S(z),O(z,this.S)):z=this.S),this.m!==null||this.O||($.H=z,z=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=BS(this,$,y),A=oi(this.I),tt(A,"RID",h),tt(A,"CVER",22),this.D&&tt(A,"X-HTTP-Session-Id",this.D),Su(this,A),z&&(this.O?y="headers="+encodeURIComponent(String(RS(z)))+"&"+y:this.m&&Wy(A,this.m,z)),zy(this.h,$),this.Ua&&tt(A,"TYPE","init"),this.P?(tt(A,"$req",y),tt(A,"SID","null"),$.T=!0,Fy($,A,null)):Fy($,A,y),this.G=2}}else this.G==3&&(h?US(this,h):this.i.length==0||bS(this.h)||US(this))};function US(h,y){var A;y?A=y.l:A=h.U++;const R=oi(h.I);tt(R,"SID",h.K),tt(R,"RID",A),tt(R,"AID",h.T),Su(h,R),h.m&&h.o&&Wy(R,h.m,h.o),A=new Xi(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),y&&(h.i=y.D.concat(h.i)),y=BS(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),zy(h.h,A),Fy(A,R,y)}function Su(h,y){h.H&&I(h.H,function(A,R){tt(y,R,A)}),h.l&&TS({},function(A,R){tt(y,R,A)})}function BS(h,y,A){A=Math.min(h.i.length,A);var R=h.l?d(h.l.Na,h.l,h):null;e:{var $=h.i;let z=-1;for(;;){const oe=["count="+A];z==-1?0<A?(z=$[0].g,oe.push("ofs="+z)):z=0:oe.push("ofs="+z);let qe=!0;for(let Ht=0;Ht<A;Ht++){let $e=$[Ht].g;const on=$[Ht].map;if($e-=z,0>$e)z=Math.max(0,$[Ht].g-100),qe=!1;else try{B4(on,oe,"req"+$e+"_")}catch{R&&R(on)}}if(qe){R=oe.join("&");break e}}}return h=h.i.splice(0,A),y.D=h,R}function zS(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;K||Y(),F||(K(),F=!0),G.add(y,h),h.v=0}}function Hy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mu(d(h.Fa,h),HS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,WS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mu(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Nh(this),WS(this))};function qy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function WS(h){h.g=new Xi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=oi(h.qa);tt(y,"RID","rpc"),tt(y,"SID",h.K),tt(y,"AID",h.T),tt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(y,"TO",h.ja),tt(y,"TYPE","xmlhttp"),Su(h,y),h.m&&h.o&&Wy(y,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=Ph(oi(y)),A.m=null,A.P=!0,yS(A,h)}t.Za=function(){this.C!=null&&(this.C=null,Nh(this),Hy(this),wn(19))};function Mh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function GS(h,y){var A=null;if(h.g==y){Mh(h),qy(h),h.g=null;var R=2}else if(By(h.h,y))A=y.D,ES(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;R=xh(),_n(R,new dS(R,A)),Rh(h)}else zS(h);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&H4(h,y)||R==2&&Hy(h)))switch(A&&0<A.length&&(y=h.h,y.i=y.i.concat(A)),$){case 1:Jo(h,5);break;case 4:Jo(h,10);break;case 3:Jo(h,6);break;default:Jo(h,2)}}}function HS(h,y){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*y}function Jo(h,y){if(h.j.info("Error code "+y),y==2){var A=d(h.fb,h),R=h.Xa;const $=!R;R=new Xo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ah(R,"https"),Ph(R),$?F4(R.toString(),A):V4(R.toString(),A)}else wn(2);h.G=0,h.l&&h.l.sa(y),qS(h),VS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function qS(h){if(h.G=0,h.ka=[],h.l){const y=SS(h.h);(y.length!=0||h.i.length!=0)&&(v(h.ka,y),v(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function KS(h,y,A){var R=A instanceof Xo?oi(A):new Xo(A);if(R.g!="")y&&(R.g=y+"."+R.g),Ih(R,R.s);else{var $=a.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var z=new Xo(null);R&&Ah(z,R),y&&(z.g=y),$&&Ih(z,$),A&&(z.l=A),R=z}return A=h.D,y=h.ya,A&&y&&tt(R,A,y),tt(R,"VER",h.la),Su(h,R),R}function YS(h,y,A){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new pt(new Ch({eb:A})):new pt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QS(){}t=QS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dh(){}Dh.prototype.g=function(h,y){return new Bn(h,y)};function Bn(h,y){rn.call(this),this.g=new FS(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!w(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new la(this)}m(Bn,rn),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Gy(this.g)},Bn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=Ry(h),h=A);y.i.push(new C4(y.Ya++,h)),y.G==3&&Rh(y)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Gy(this.g),delete this.g,Bn.aa.N.call(this)};function XS(h){Dy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const A in y){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}m(XS,Dy);function JS(){jy.call(this),this.status=1}m(JS,jy);function la(h){this.g=h}m(la,QS),la.prototype.ua=function(){_n(this.g,"a")},la.prototype.ta=function(h){_n(this.g,new XS(h))},la.prototype.sa=function(h){_n(this.g,new JS)},la.prototype.ra=function(){_n(this.g,"b")},Dh.prototype.createWebChannel=Dh.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,F2=function(){return new Dh},$2=function(){return xh()},L2=Yo,g_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,Dd=Eh,pS.COMPLETE="complete",j2=pS,uS.EventType=du,du.OPEN="a",du.CLOSE="b",du.ERROR="c",du.MESSAGE="d",rn.prototype.listen=rn.prototype.K,Zu=uS,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,D2=pt}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const vA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new hg("@firebase/firestore");function Ru(){return Ds.logLevel}function fe(t,...e){if(Ds.logLevel<=ke.DEBUG){const n=e.map(_x);Ds.debug(`Firestore (${ql}): ${t}`,...n)}}function Mi(t,...e){if(Ds.logLevel<=ke.ERROR){const n=e.map(_x);Ds.error(`Firestore (${ql}): ${t}`,...n)}}function ll(t,...e){if(Ds.logLevel<=ke.WARN){const n=e.map(_x);Ds.warn(`Firestore (${ql}): ${t}`,...n)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function We(t,e){t||be()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class e6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t6{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ei,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ei)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new V2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new fn(e)}}class n6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class r6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new n6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new i6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new jt(0,0))}static max(){return new xe(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Hc{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const a6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Hc{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return a6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ut.fromString(e))}static fromName(e){return new me(ut.fromString(e).popFirst(5))}static empty(){return new me(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ut(e.slice()))}}function l6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Mo(i,me.empty(),e)}function u6(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(xe.min(),me.empty(),-1)}static max(){return new Mo(xe.max(),me.empty(),-1)}}function c6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==f6)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function d6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wx.oe=-1;function pg(t){return t==null}function _p(t){return t===0&&1/t==-1/0}function p6(t){return typeof t=="number"&&Number.isInteger(t)&&!_p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pt=class y_{constructor(e,n){this.comparator=e,this.root=n||Ao.EMPTY}insert(e,n){return new y_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ao.BLACK,null,null))}remove(e){return new y_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}},nd=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ao=class li{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??li.RED,this.left=i??li.EMPTY,this.right=o??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new li(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}};Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1;Ao.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wA(this.data.getIterator())}getIteratorFrom(e){return new wA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class wA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new z2("Invalid base64 string: "+o):o}}(e);return new nn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const m6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(We(!!t),typeof t=="string"){let e=0;const n=m6.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xx(t){const e=t.mapValue.fields.__previous_value__;return bx(e)?xx(e):e}function qc(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bx(t)?4:v6(t)?9007199254740991:y6(t)?10:11:be()}function ei(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return js(i.bytesValue).isEqual(js(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?_p(s)===_p(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_A(s)!==_A(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ei(s[l],a[l])))return!1;return!0}(t,e);default:return be()}}function Yc(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bA(t.timestampValue,e.timestampValue);case 4:return bA(qc(t),qc(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=js(o),l=js(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Fe(a[u],l[u]);if(f!==0)return f}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Fe(wt(o.latitude),wt(s.latitude));return a!==0?a:Fe(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,f;const c=o.fields||{},d=s.fields||{},p=(a=c.value)===null||a===void 0?void 0:a.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Fe(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:xA(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rd.mapValue&&s===rd.mapValue)return 0;if(o===rd.mapValue)return 1;if(s===rd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let c=0;c<l.length&&c<f.length;++c){const d=Fe(l[c],f[c]);if(d!==0)return d;const p=cl(a[l[c]],u[f[c]]);if(p!==0)return p}return Fe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw be()}}function bA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Do(t),r=Do(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function xA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=cl(n[i],r[i]);if(o)return o}return Fe(n.length,r.length)}function fl(t){return v_(t)}function v_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=v_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${v_(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function __(t){return!!t&&"integerValue"in t}function Ex(t){return!!t&&"arrayValue"in t}function EA(t){return!!t&&"nullValue"in t}function SA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jd(t){return!!t&&"mapValue"in t}function y6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=dc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(dc(this.value))}}function W2(t){const e=[];return Xs(t.fields,(n,r)=>{const i=new Xt([n]);if(jd(r)){const o=W2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,xe.min(),xe.min(),xe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,xe.min(),xe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,xe.min(),xe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.position=e,this.inclusive=n}}function TA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=cl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function _6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{}class Nt extends G2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b6(e,n,r):n==="array-contains"?new S6(e,r):n==="in"?new T6(e,r):n==="not-in"?new A6(e,r):n==="array-contains-any"?new I6(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x6(e,r):new E6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends G2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ti(e,n)}matches(e){return H2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function H2(t){return t.op==="and"}function q2(t){return w6(t)&&H2(t)}function w6(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function w_(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(q2(t))return t.filters.map(e=>w_(e)).join(",");{const e=t.filters.map(n=>w_(n)).join(",");return`${t.op}(${e})`}}function K2(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(t,e):t instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&K2(s,i.filters[a]),!0):!1}(t,e):void be()}function Y2(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(Y2).join(" ,")+"}"}(t):"Filter"}class b6 extends Nt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class x6 extends Nt{constructor(e,n){super(e,"in",n),this.keys=Q2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E6 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Q2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class S6 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ex(n)&&Yc(n.arrayValue,this.value)}}class T6 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class A6 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yc(this.value.arrayValue,n)}}class I6 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function IA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new P6(t,e,n,r,i,o,s)}function Sx(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>w_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fl(r)).join(",")),e.ue=n}return e.ue}function Tx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AA(t.startAt,e.startAt)&&AA(t.endAt,e.endAt)}function b_(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function C6(t,e,n,r,i,o,s,a){return new mg(t,e,n,r,i,o,s,a)}function gg(t){return new mg(t)}function PA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O6(t){return t.collectionGroup!==null}function pc(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new en(Xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bp(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new bp(Xt.keyField(),r))}return e.ce}function Yr(t){const e=Ee(t);return e.le||(e.le=k6(e,pc(t))),e.le}function k6(t,e){if(t.limitType==="F")return IA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bp(i.field,o)});const n=t.endAt?new wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wp(t.startAt.position,t.startAt.inclusive):null;return IA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x_(t,e,n){return new mg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yg(t,e){return Tx(Yr(t),Yr(e))&&t.limitType===e.limitType}function X2(t){return`${Sx(Yr(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y2(i)).join(", ")}]`),pg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fl(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function vg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of pc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=TA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,pc(r),i)||r.endAt&&!function(s,a,l){const u=TA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,pc(r),i))}(t,e)}function N6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J2(t){return(e,n)=>{let r=!1;for(const i of pc(t)){const o=R6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function R6(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?cl(l,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return B2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Pt(me.comparator);function Di(){return M6}const Z2=new Pt(me.comparator);function ec(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function eM(t){let e=Z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return mc()}function tM(){return mc()}function mc(){return new Kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const D6=new Pt(me.comparator),j6=new en(me.comparator);function Ne(...t){let e=j6;for(const n of t)e=e.add(n);return e}const L6=new en(Fe);function $6(){return L6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function nM(t){return{integerValue:""+t}}function rM(t,e){return p6(e)?nM(e):Ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this._=void 0}}function F6(t,e,n){return t instanceof xp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bx(o)&&(o=xx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qc?oM(t,e):t instanceof Xc?sM(t,e):function(i,o){const s=iM(i,o),a=CA(s)+CA(i.Pe);return __(s)&&__(i.Pe)?nM(a):Ax(i.serializer,a)}(t,e)}function V6(t,e,n){return t instanceof Qc?oM(t,e):t instanceof Xc?sM(t,e):n}function iM(t,e){return t instanceof Jc?function(r){return __(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xp extends _g{}class Qc extends _g{constructor(e){super(),this.elements=e}}function oM(t,e){const n=aM(e);for(const r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends _g{constructor(e){super(),this.elements=e}}function sM(t,e){let n=aM(e);for(const r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class Jc extends _g{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function CA(t){return wt(t.integerValue||t.doubleValue)}function aM(t){return Ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.field=e,this.transform=n}}function B6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Xc&&i instanceof Xc?ul(r.elements,i.elements,ei):r instanceof Jc&&i instanceof Jc?ei(r.Pe,i.Pe):r instanceof xp&&i instanceof xp}(t.transform,e.transform)}class z6{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wg{}function lM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ix(t.key,jr.none()):new Xf(t.key,t.data,jr.none());{const n=t.data,r=Cn.empty();let i=new en(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zo(t.key,r,new Yn(i.toArray()),jr.none())}}function W6(t,e,n){t instanceof Xf?function(i,o,s){const a=i.value.clone(),l=kA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zo?function(i,o,s){if(!Ld(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=kA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(uM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof Xf?function(o,s,a,l){if(!Ld(o.precondition,s))return a;const u=o.value.clone(),f=NA(o.fieldTransforms,l,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zo?function(o,s,a,l){if(!Ld(o.precondition,s))return a;const u=NA(o.fieldTransforms,l,s),f=s.data;return f.setAll(uM(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,s,a){return Ld(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function G6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=iM(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function OA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(o,s)=>B6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xf extends wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zo extends wg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kA(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,V6(s,a,n[i]))}return r}function NA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,F6(o,s,e))}return r}class Ix extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H6 extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&W6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=lM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,r)=>OA(n,r))&&ul(this.baseMutations,e.baseMutations,(n,r)=>OA(n,r))}}class Px{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=function(){return D6}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Px(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,De;function Q6(t){switch(t){default:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function cM(t){if(t===void 0)return Mi("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(De=St||(St={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Es([4294967295,4294967295],0);function RA(t){const e=X6().encode(t),n=new M2;return n.update(e),new Uint8Array(n.digest())}function MA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Es([n,r],0),new Es([i,o],0)]}class Cx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Es.fromNumber(r)));return i.compare(J6)===1&&(i=new Es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=RA(e),[r,i]=MA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Cx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=RA(e),[r,i]=MA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bg(xe.min(),i,new Pt(Fe),Di(),Ne())}}class Jf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jf(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class fM{constructor(e,n){this.targetId=e,this.me=n}}class hM{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DA{constructor(){this.fe=0,this.ge=LA(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Jf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Di(),this.qe=jA(),this.Qe=new Pt(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(b_(o))if(r===0){const s=new me(o.path);this.Ue(n,s,dn.newNoDocument(s,xe.min()))}else We(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=js(r).toUint8Array()}catch(l){if(l instanceof z2)return ll("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cx(s,i,o)}catch(l){return ll(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&b_(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,dn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ne();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new bg(e,n,this.Qe,this.ke,r);return this.ke=Di(),this.qe=jA(),this.Qe=new Pt(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jA(){return new Pt(me.comparator)}function LA(){return new Pt(me.comparator)}const e5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),n5=(()=>({and:"AND",or:"OR"}))();class r5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E_(t,e){return t.useProto3Json||pg(e)?e:{value:e}}function Ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i5(t,e){return Ep(t,e.toTimestamp())}function Qr(t){return We(!!t),xe.fromTimestamp(function(n){const r=Do(n);return new jt(r.seconds,r.nanos)}(t))}function Ox(t,e){return S_(t,e).canonicalString()}function S_(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pM(t){const e=ut.fromString(t);return We(_M(e)),e}function T_(t,e){return Ox(t.databaseId,e.path)}function Av(t,e){const n=pM(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(gM(n))}function mM(t,e){return Ox(t.databaseId,e)}function o5(t){const e=pM(t);return e.length===4?ut.emptyPath():gM(e)}function A_(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gM(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $A(t,e,n){return{name:T_(t,e),fields:n.value.mapValue.fields}}function s5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(We(f===void 0||typeof f=="string"),nn.fromBase64String(f||"")):(We(f===void 0||f instanceof Buffer||f instanceof Uint8Array),nn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const f=u.code===void 0?J.UNKNOWN:cM(u.code);return new de(f,u.message||"")}(s);n=new hM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Av(t,r.document.name),o=Qr(r.document.updateTime),s=r.document.createTime?Qr(r.document.createTime):xe.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new $d(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Av(t,r.document),o=r.readTime?Qr(r.readTime):xe.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $d([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Av(t,r.document),o=r.removedTargetIds||[];n=new $d([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Y6(i,o),a=r.targetId;n=new fM(a,s)}}return n}function a5(t,e){let n;if(e instanceof Xf)n={update:$A(t,e.key,e.value)};else if(e instanceof Ix)n={delete:T_(t,e.key)};else if(e instanceof zo)n={update:$A(t,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof H6))return be();n={verify:T_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof xp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:i5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function l5(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Qr(i.updateTime):Qr(o);return s.isEqual(xe.min())&&(s=Qr(o)),new z6(s,i.transformResults||[])}(n,e))):[]}function u5(t,e){return{documents:[mM(t,e.path)]}}function c5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mM(t,i);const o=function(u){if(u.length!==0)return vM(ti.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:ya(d.field),direction:d5(d.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=E_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function f5(t){let e=o5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(c){const d=yM(c);return d instanceof ti&&q2(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(c){return c.map(d=>function(m){return new bp(va(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,pg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,p=c.values||[];return new wp(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,p=c.values||[];return new wp(p,d)}(n.endAt)),C6(e,i,s,o,a,"F",l,u)}function h5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=va(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=va(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=va(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(r=>yM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function d5(t){return e5[t]}function p5(t){return t5[t]}function m5(t){return n5[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return Xt.fromServerFormat(t.fieldPath)}function vM(t){return t instanceof Nt?function(n){if(n.op==="=="){if(SA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(EA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(EA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:p5(n.op),value:n.value}}}(t):t instanceof ti?function(n){const r=n.getFilters().map(i=>vM(i));return r.length===1?r[0]:{compositeFilter:{op:m5(n.op),filters:r}}}(t):be()}function g5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _M(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i,o=xe.min(),s=xe.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.ct=e}}function v5(t){const e=f5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.un=new w5}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Mo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class w5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new en(ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hl(0)}static kn(){return new hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.changes=new Kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gc(r.mutation,i,Yn.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ec();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Di();const s=mc(),a=function(){return mc()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof zo)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),gc(f.mutation,u,f.mutation.getFieldMask(),jt.now())):s.set(u.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var c;return a.set(u,new x5(f,(c=s.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mc();let i=new Pt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Yn.empty();f=a.applyToLocalView(u,f),r.set(l,f);const c=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,c=tM();f.forEach(d=>{if(!o.has(d)){const p=lM(n.get(d),r.get(d));p!==null&&c.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,c))}return Z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(ds());let a=-1,l=o;return s.next(u=>Z.forEach(u,(f,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),o.get(f)?Z.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ne())).next(f=>({batchId:a,changes:eM(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ec();return this.indexManager.getCollectionParents(e,o).next(a=>Z.forEach(a,l=>{const u=function(c,d){return new mg(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const f=u.getKey();s.get(f)===null&&(s=s.insert(f,dn.newInvalidDocument(f)))});let a=ec();return s.forEach((l,u)=>{const f=o.get(l);f!==void 0&&gc(f.mutation,u,Yn.empty(),jt.now()),vg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:v5(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.overlays=new Pt(me.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pt((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=ds(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=ds(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K6(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ne(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Tr=new en(Ft.Er),this.dr=new en(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ft(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new ut([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new ut([])),r=new Ft(n,e),i=new Ft(n,e+1);let o=Ne();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(Ft.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new q6(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Fe);return n.forEach(i=>{const o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new Ft(new me(o),0);let a=new en(Fe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ft(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.Mr=e,this.docs=function(){return new Pt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Di();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Di();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||c6(u6(f),r)<=0||(i.has(f.key)||vg(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C5(this)}getSize(e){return Z.resolve(this.size)}}class C5 extends b5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.persistence=e,this.Nr=new Kl(n=>Sx(n),Tx),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kx,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wx(0),this.Kr=!1,this.Kr=!0,this.$r=new A5,this.referenceDelegate=e(this),this.Ur=new O5(this),this.indexManager=new _5,this.remoteDocumentCache=function(i){return new P5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new y5(n),this.Gr=new S5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new I5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new N5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class N5 extends h6{constructor(e){super(),this.currentSequenceNumber=e}}class Nx{constructor(e){this.persistence=e,this.Jr=new kx,this.Yr=null}static Zr(e){return new Nx(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Rx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kU()?8:d6(vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new R5;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ru()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Ru()<=ke.DEBUG&&fe("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ru()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):Z.resolve())}Yi(e,n){if(PA(n))return Z.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=x_(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,x_(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return PA(n)||i.isEqual(xe.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Z.resolve(null):(Ru()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.rs(e,s,n,l6(i,-1)).next(a=>a))})}ts(e,n){let r=new en(J2(e));return n.forEach((i,o)=>{vg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ru()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pt(Fe),this._s=new Kl(o=>Sx(o),Tx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function j5(t,e,n,r){return new D5(t,e,n,r)}async function wM(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const u of i){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function L5(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const c=u.batch,d=c.keys();let p=Z.resolve();return d.forEach(m=>{p=p.next(()=>f.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);We(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bM(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $5(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,c)=>{const d=i.get(c);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,c).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,c)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(c,p),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,p,f)&&a.push(n.Ur.updateTargetData(o,p))});let l=Di(),u=Ne();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(F5(o,s,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(xe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(c=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function F5(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Di();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function V5(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U5(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new po(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function I_(t,e,n){const r=Ee(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Qf(s))throw s;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function FA(t,e,n){const r=Ee(t);let i=xe.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,f){const c=Ee(l),d=c._s.get(f);return d!==void 0?Z.resolve(c.os.get(d)):c.Ur.getTargetData(u,f)}(r,s,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:Ne())).next(a=>(B5(r,N6(e),a),{documents:a,Ts:o})))}function B5(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class VA{constructor(){this.activeTargetIds=$6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z5{constructor(){this.so=new VA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function Iv(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class q5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Iv(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(f=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ll("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ql}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=G5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Iv();return new Promise((s,a)=>{const l=new D2;l.setWithCredentials(!0),l.listenOnce(j2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dd.NO_ERROR:const f=l.getResponseJson();fe(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Dd.TIMEOUT:fe(un,`RPC '${e}' ${o} timed out`),a(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const c=l.getStatus();if(fe(un,`RPC '${e}' ${o} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(p.status);a(new de(m,p.message))}else a(new de(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(un,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);fe(un,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Iv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=F2(),a=$2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");fe(un,`Creating RPC '${e}' stream ${i}: ${f}`,l);const c=s.createWebChannel(f,l);let d=!1,p=!1;const m=new H5({Io:v=>{p?fe(un,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(fe(un,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),fe(un,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},To:()=>c.close()}),g=(v,_,w)=>{v.listen(_,E=>{try{w(E)}catch(C){setTimeout(()=>{throw C},0)}})};return g(c,Zu.EventType.OPEN,()=>{p||(fe(un,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(c,Zu.EventType.CLOSE,()=>{p||(p=!0,fe(un,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(c,Zu.EventType.ERROR,v=>{p||(p=!0,ll(un,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new de(J.UNAVAILABLE,"The operation could not be completed")))}),g(c,Zu.EventType.MESSAGE,v=>{var _;if(!p){const w=v.data[0];We(!!w);const E=w,C=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(C){fe(un,`RPC '${e}' stream ${i} received error:`,C);const T=C.status;let I=function(P){const O=St[P];if(O!==void 0)return cM(O)}(T),b=C.message;I===void 0&&(I=J.INTERNAL,b="Unknown error status: "+T+" with message "+C.message),p=!0,m.So(new de(I,b)),c.close()}else fe(un,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(a,L2.STAT_EVENT,v=>{v.stat===g_.PROXY?fe(un,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===g_.NOPROXY&&fe(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){return new r5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K5 extends EM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=s5(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Qr(s.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=A_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=b_(l)?{documents:u5(o,l)}:{query:c5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dM(o,s.resumeToken);const u=E_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=Ep(o,s.snapshotVersion.toTimestamp());const u=E_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=h5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=A_(this.serializer),n.removeTarget=e,this.a_(n)}}class Y5 extends EM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=l5(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=A_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,S_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,S_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Js(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ee(l);u.L_.add(4),await Zf(u),u.q_.set("Unknown"),u.L_.delete(4),await Eg(u)}(this))})}),this.q_=new X5(r,i)}}async function Eg(t){if(Js(t))for(const e of t.B_)await e(!0)}async function Zf(t){for(const e of t.B_)await e(!1)}function SM(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Lx(n)?jx(n):Yl(n).r_()&&Dx(n,e))}function Mx(t,e){const n=Ee(t),r=Yl(n);n.N_.delete(e),r.r_()&&TM(n,e),n.N_.size===0&&(r.r_()?r.o_():Js(n)&&n.q_.set("Unknown"))}function Dx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).A_(e)}function TM(t,e){t.Q_.xe(e),Yl(t).R_(e)}function jx(t){t.Q_=new Z6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.q_.v_()}function Lx(t){return Js(t)&&!Yl(t).n_()&&t.N_.size>0}function Js(t){return Ee(t).L_.size===0}function AM(t){t.Q_=void 0}async function Z5(t){t.q_.set("Online")}async function e9(t){t.N_.forEach((e,n)=>{Dx(t,e)})}async function t9(t,e){AM(t),Lx(t)?(t.q_.M_(e),jx(t)):t.q_.set("Unknown")}async function n9(t,e,n){if(t.q_.set("Online"),e instanceof hM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sp(t,r)}else if(e instanceof $d?t.Q_.Ke(e):e instanceof fM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await bM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.N_.get(u);f&&o.N_.set(u,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const f=o.N_.get(l);if(!f)return;o.N_.set(l,f.withResumeToken(nn.EMPTY_BYTE_STRING,f.snapshotVersion)),TM(o,l);const c=new po(f.target,l,u,f.sequenceNumber);Dx(o,c)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Sp(t,r)}}async function Sp(t,e,n){if(!Qf(e))throw e;t.L_.add(1),await Zf(t),t.q_.set("Offline"),n||(n=()=>bM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Eg(t)})}function IM(t,e){return e().catch(n=>Sp(t,n,e))}async function Sg(t){const e=Ee(t),n=jo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r9(e);)try{const i=await V5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,i9(e,i)}catch(i){await Sp(e,i)}PM(e)&&CM(e)}function r9(t){return Js(t)&&t.O_.length<10}function i9(t,e){t.O_.push(e);const n=jo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function PM(t){return Js(t)&&!jo(t).n_()&&t.O_.length>0}function CM(t){jo(t).start()}async function o9(t){jo(t).p_()}async function s9(t){const e=jo(t);for(const n of t.O_)e.m_(n.mutations)}async function a9(t,e,n){const r=t.O_.shift(),i=Px.from(r,e,n);await IM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sg(t)}async function l9(t,e){e&&jo(t).V_&&await async function(r,i){if(function(s){return Q6(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();jo(r).s_(),await IM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sg(r)}}(t,e),PM(t)&&CM(t)}async function BA(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.L_.add(3),await Zf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Eg(n)}async function u9(t,e){const n=Ee(t);e?(n.L_.delete(2),await Eg(n)):e||(n.L_.add(2),await Zf(n),n.q_.set("Unknown"))}function Yl(t){return t.K_||(t.K_=function(n,r,i){const o=Ee(n);return o.w_(),new K5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Z5.bind(null,t),Ro:e9.bind(null,t),mo:t9.bind(null,t),d_:n9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Lx(t)?jx(t):t.q_.set("Unknown")):(await t.K_.stop(),AM(t))})),t.K_}function jo(t){return t.U_||(t.U_=function(n,r,i){const o=Ee(n);return o.w_(),new Y5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o9.bind(null,t),mo:l9.bind(null,t),f_:s9.bind(null,t),g_:a9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sg(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new $x(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Qf(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.W_=new Pt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class dl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new dl(e,n,Ba.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class f9{constructor(){this.queries=WA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=WA(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function WA(){return new Kl(t=>X2(t),yg)}async function Vx(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new c9,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Fx(s,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Bx(n)}async function Ux(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h9(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Bx(n)}function d9(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Bx(t){t.Y_.forEach(e=>{e.next()})}var P_,GA;(GA=P_||(P_={})).ea="default",GA.Cache="cache";class zx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.key=e}}class kM{constructor(e){this.key=e}}class p9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=J2(e),this.Ra=new Ba(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zA,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const d=i.get(f),p=vg(this.query,c)?c:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(p?(s=s.add(p),o=g?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,c)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return g(p)-g(m)}(f.type,c.type)||this.Aa(f.doc,c.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new dl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new OM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return dl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class m9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g9{constructor(e){this.key=e,this.va=!1}}class y9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Kl(a=>X2(a),yg),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(me.comparator),this.Na=new Map,this.La=new kx,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function v9(t,e,n=!0){const r=LM(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await NM(r,e,n,!0),i}async function _9(t,e){const n=LM(t);await NM(n,e,!0,!1)}async function NM(t,e,n,r){const i=await U5(t.localStore,Yr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await w9(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&SM(t.remoteStore,i),a}async function w9(t,e,n,r,i){t.Ka=(c,d,p)=>async function(g,v,_,w){let E=v.view.ma(_);E.ns&&(E=await FA(g.localStore,v.query,!1).then(({documents:b})=>v.view.ma(b,E)));const C=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(E,g.isPrimaryClient,C,T);return qA(g,v.targetId,I.wa),I.snapshot}(t,c,d,p);const o=await FA(t.localStore,e,!0),s=new p9(e,o.Ts),a=s.ma(o.documents),l=Jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);qA(t,n,u.wa);const f=new m9(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function b9(t,e,n){const r=Ee(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!yg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await I_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mx(r.remoteStore,i.targetId),C_(r,i.targetId)}).catch(Yf)):(C_(r,i.targetId),await I_(r.localStore,i.targetId,!0))}async function x9(t,e){const n=Ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mx(n.remoteStore,r.targetId))}async function E9(t,e,n){const r=O9(t);try{const i=await function(s,a){const l=Ee(s),u=jt.now(),f=a.reduce((p,m)=>p.add(m.key),Ne());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Di(),g=Ne();return l.cs.getEntries(p,f).next(v=>{m=v,m.forEach((_,w)=>{w.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{c=v;const _=[];for(const w of a){const E=G6(w,c.get(w.key).overlayedDocument);E!=null&&_.push(new zo(w.key,E,W2(E.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(v=>{d=v;const _=v.applyToLocalDocumentSet(c,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:d.batchId,changes:eM(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Pt(Fe)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await eh(r,i.changes),await Sg(r.remoteStore)}catch(i){const o=Fx(i,"Failed to persist write");n.reject(o)}}async function RM(t,e){const n=Ee(t);try{const r=await $5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?We(s.va):i.removedDocuments.size>0&&(We(s.va),s.va=!1))}),await eh(n,r,e)}catch(r){await Yf(r)}}function HA(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let u=!1;l.queries.forEach((f,c)=>{for(const d of c.j_)d.Z_(a)&&(u=!0)}),u&&Bx(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S9(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Pt(me.comparator);s=s.insert(o,dn.newNoDocument(o,xe.min()));const a=Ne().add(o),l=new bg(xe.min(),new Map,new Pt(Fe),s,a);await RM(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Wx(r)}else await I_(r.localStore,e,!1).then(()=>C_(r,e,n)).catch(Yf)}async function T9(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await L5(n.localStore,e);DM(n,r,null),MM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eh(n,i)}catch(i){await Yf(i)}}async function A9(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(c=>(We(c!==null),f=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);DM(r,e,n),MM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eh(r,i)}catch(i){await Yf(i)}}function MM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function DM(t,e,n){const r=Ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function C_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jM(t,r)})}function jM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Mx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Wx(t))}function qA(t,e,n){for(const r of n)r instanceof OM?(t.La.addReference(r.key,e),I9(t,r)):r instanceof kM?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jM(t,r.key)):be()}function I9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Wx(t))}function Wx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(ut.fromString(e)),r=t.qa.next();t.Na.set(r,new g9(n)),t.Oa=t.Oa.insert(n,r),SM(t.remoteStore,new po(Yr(gg(n.path)),r,"TargetPurposeLimboResolution",wx.oe))}}async function eh(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const c=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=Rx.Wi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const f=Ee(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Z.forEach(u,d=>Z.forEach(d.$i,p=>f.persistence.referenceDelegate.addReference(c,d.targetId,p)).next(()=>Z.forEach(d.Ui,p=>f.persistence.referenceDelegate.removeReference(c,d.targetId,p)))))}catch(c){if(!Qf(c))throw c;fe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const d=c.targetId;if(!c.fromCache){const p=f.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);f.os=f.os.insert(d,g)}}}(r.localStore,o))}async function P9(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await wM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new de(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eh(n,r.hs)}}function C9(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let i=Ne();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function LM(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.Ca.d_=h9.bind(null,e.eventManager),e.Ca.$a=d9.bind(null,e.eventManager),e}function O9(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A9.bind(null,e),e}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return j5(this.persistence,new M5,e.initialUser,this.serializer)}Ga(e){return new k5(Nx.Zr,this.serializer)}Wa(e){return new z5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class O_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P9.bind(null,this.syncEngine),await u9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f9}()}createDatastore(e){const n=xg(e.databaseInfo.databaseId),r=function(o){return new q5(o)}(e.databaseInfo);return function(o,s,a,l){return new Q5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new J5(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HA(this.syncEngine,n,0),function(){return UA.D()?new UA:new W5}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,f){const c=new y9(i,o,s,a,l,u);return f&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);fe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Zf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=U2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N9(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BA(e.remoteStore,i)),t._onlineComponents=e}async function N9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new Tp)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Cv(t,new Tp);return t._offlineComponents}async function $M(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await KA(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await KA(t,new O_))),t._onlineComponents}function R9(t){return $M(t).then(e=>e.syncEngine)}async function Ap(t){const e=await $M(t),n=e.eventManager;return n.onListen=v9.bind(null,e.syncEngine),n.onUnlisten=b9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x9.bind(null,e.syncEngine),n}function M9(t,e,n={}){const r=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const f=new Gx({next:d=>{f.Za(),s.enqueueAndForget(()=>Ux(o,c));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new zx(gg(a.path),f,{includeMetadataChanges:!0,_a:!0});return Vx(o,c)}(await Ap(t),t.asyncQueue,e,n,r)),r.promise}function D9(t,e,n={}){const r=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const f=new Gx({next:d=>{f.Za(),s.enqueueAndForget(()=>Ux(o,c)),d.fromCache&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new zx(a,f,{includeMetadataChanges:!0,_a:!0});return Vx(o,c)}(await Ap(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j9(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QA(t){if(!me.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XA(t){if(me.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hx(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZB;switch(r.type){case"firstParty":return new r6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YA.get(n);r&&(fe("ComponentProvider","Removing Datastore"),YA.delete(n),r.terminate())}(this),Promise.resolve()}}function L9(t,e,n,r={}){var i;const o=(t=cr(t,Tg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=T2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new e6(new V2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Io extends th{constructor(e,n,r){super(e,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new me(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function br(t,e,...n){if(t=_t(t),VM("collection","path",e),t instanceof Tg){const r=ut.fromString(e,...n);return XA(r),new Io(t,null,r)}{if(!(t instanceof Ln||t instanceof Io))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return XA(r),new Io(t.firestore,null,r)}}function In(t,e,...n){if(t=_t(t),arguments.length===1&&(e=U2.newId()),VM("doc","path",e),t instanceof Tg){const r=ut.fromString(e,...n);return QA(r),new Ln(t,null,new me(r))}{if(!(t instanceof Ln||t instanceof Io))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return QA(r),new Ln(t.firestore,t instanceof Io?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xM(this,"async_queue_retry"),this.Vu=()=>{const r=Pv();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ei;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qf(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=$x.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Lo extends Tg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZA(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:vx(),r=typeof t=="string"?t:e||"(default)",i=dg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=x2("firestore");o&&L9(i,...o)}return i}function Ag(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F9(t),t._firestoreClient}function F9(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,f){return new g6(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,FM(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new k9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(nn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pl(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xf(e,this.data,n,this.fieldTransforms)}}class UM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Yx{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Yx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ip(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BM(this.Cu)&&V9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class B9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xg(e)}Qu(e,n,r,i=!1){return new Yx({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zM(t){const e=t._freezeSettings(),n=xg(t._databaseId);return new B9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z9(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Xx("Data must be an object, but it was:",s,r);const a=WM(r,s);let l,u;if(o.merge)l=new Yn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const c of o.mergeFields){const d=k_(e,c,n);if(!s.contains(d))throw new de(J.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);HM(f,d)||f.push(d)}l=new Yn(f),u=s.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=s.fieldTransforms;return new U9(new Cn(a),l,u)}class Cg extends Pg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cg}}class Qx extends Pg{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Jc(e.serializer,rM(e.serializer,this.$u));return new U6(e.path,n)}isEqual(e){return e instanceof Qx&&this.$u===e.$u}}function W9(t,e,n,r){const i=t.Qu(1,e,n);Xx("Data must be an object, but it was:",i,r);const o=[],s=Cn.empty();Xs(r,(l,u)=>{const f=Jx(e,l,n);u=_t(u);const c=i.Nu(f);if(u instanceof Cg)o.push(f);else{const d=Og(u,c);d!=null&&(o.push(f),s.set(f,d))}});const a=new Yn(o);return new UM(s,a,i.fieldTransforms)}function G9(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[k_(e,r,n)],l=[i];if(o.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(k_(e,o[d])),l.push(o[d+1]);const u=[],f=Cn.empty();for(let d=a.length-1;d>=0;--d)if(!HM(u,a[d])){const p=a[d];let m=l[d];m=_t(m);const g=s.Nu(p);if(m instanceof Cg)u.push(p);else{const v=Og(m,g);v!=null&&(u.push(p),f.set(p,v))}}const c=new Yn(u);return new UM(f,c,s.fieldTransforms)}function Og(t,e){if(GM(t=_t(t)))return Xx("Unsupported field value:",e,t),WM(t,e);if(t instanceof Pg)return function(r,i){if(!BM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Og(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof qx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:dM(i.serializer,r._byteString)};if(r instanceof Ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ox(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kx)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ax(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Hx(r)}`)}(t,e)}function WM(t,e){const n={};return B2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,i)=>{const o=Og(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof qx||t instanceof pl||t instanceof Ln||t instanceof Pg||t instanceof Kx)}function Xx(t,e,n){if(!GM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function k_(t,e,n){if((e=_t(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return Jx(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function Jx(t,e,n){if(e.search(H9)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ig(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new de(J.INVALID_ARGUMENT,a+t+l)}function HM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q9 extends qM{data(){return super.data()}}function KM(t,e){return typeof e=="string"?Jx(t,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K9{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new Kx(o)}convertGeoPoint(e){return new qx(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);We(_M(r));const i=new Kc(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QM extends qM{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(KM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fd extends QM{data(e={}){return super.data(e)}}class XM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:Q9(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){t=cr(t,Ln);const e=cr(t.firestore,Lo);return M9(Ag(e),t._key).then(n=>JM(e,t,n))}class Zx extends K9{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function tI(t){t=cr(t,th);const e=cr(t.firestore,Lo),n=Ag(e),r=new Zx(e);return YM(t._query),D9(n,t._query).then(i=>new XM(e,r,t,i))}function is(t,e,n,...r){t=cr(t,Ln);const i=cr(t.firestore,Lo),o=zM(i);let s;return s=typeof(e=_t(e))=="string"||e instanceof Ig?G9(o,"updateDoc",t._key,e,n,r):W9(o,"updateDoc",t._key,e),e1(i,[s.toMutation(t._key,jr.exists(!0))])}function od(t){return e1(cr(t.firestore,Lo),[new Ix(t._key,jr.none())])}function Mu(t,e){const n=cr(t.firestore,Lo),r=In(t),i=Y9(t.converter,e);return e1(n,[z9(zM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function ka(t,...e){var n,r,i;t=_t(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eI(e[s])){const c=e[s];e[s]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[s+1]=(r=c.error)===null||r===void 0?void 0:r.bind(c),e[s+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let l,u,f;if(t instanceof Ln)u=cr(t.firestore,Lo),f=gg(t._key.path),l={next:c=>{e[s]&&e[s](JM(u,t,c))},error:e[s+1],complete:e[s+2]};else{const c=cr(t,th);u=cr(c.firestore,Lo),f=c._query;const d=new Zx(u);l={next:p=>{e[s]&&e[s](new XM(u,d,c,p))},error:e[s+1],complete:e[s+2]},YM(t._query)}return function(d,p,m,g){const v=new Gx(g),_=new zx(p,v,m);return d.asyncQueue.enqueueAndForget(async()=>Vx(await Ap(d),_)),()=>{v.Za(),d.asyncQueue.enqueueAndForget(async()=>Ux(await Ap(d),_))}}(Ag(u),f,a,l)}function e1(t,e){return function(r,i){const o=new Ei;return r.asyncQueue.enqueueAndForget(async()=>E9(await R9(r),i,o)),o.promise}(Ag(t),e)}function JM(t,e,n){const r=n.docs.get(e._key),i=new Zx(t);return new QM(t,i,e._key,r,new nc(n.hasPendingWrites,n.fromCache),e.converter)}function Zo(t){return new Qx("increment",t)}(function(e,n=!0){(function(i){ql=i})(Qs),Ms(new Ro("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Lo(new t6(r.getProvider("auth-internal")),new o6(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kr(vA,"4.7.3",e),Kr(vA,"4.7.3","esm2017")})();function t1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J9=ZM,eD=new Kf("auth","Firebase",ZM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new hg("@firebase/auth");function Z9(t,...e){Pp.logLevel<=ke.WARN&&Pp.warn(`Auth (${Qs}): ${t}`,...e)}function Vd(t,...e){Pp.logLevel<=ke.ERROR&&Pp.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw r1(t,...e)}function Lr(t,...e){return r1(t,...e)}function n1(t,e,n){const r=Object.assign(Object.assign({},J9()),{[e]:n});return new Kf("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return n1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ez(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ni(t,"argument-error"),n1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eD.create(t,...e)}function we(t,e,...n){if(!t)throw r1(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function ji(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tz(){return nI()==="http:"||nI()==="https:"}function nI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tz()||CU()||"connection"in navigator)?navigator.onLine:!0}function rz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=mx()||A2()}get(){return nz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new nh(3e4,6e4);function o1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ql(t,e,n,r,i={}){return nD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return PU()||(u.referrerPolicy="no-referrer"),tD.fetch()(rD(t,t.config.apiHost,n,a),u)})}async function nD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iz),e);try{const i=new az(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw sd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw sd(t,"user-disabled",s);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw n1(t,f,u);ni(t,f)}}catch(i){if(i instanceof zi)throw i;ni(t,"network-request-failed",{message:String(i)})}}async function sz(t,e,n,r,i={}){const o=await Ql(t,e,n,r,i);return"mfaPendingCredential"in o&&ni(t,"multi-factor-auth-required",{_serverResponse:o}),o}function rD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?i1(t.config,i):`${t.config.apiScheme}://${i}`}class az{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),oz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e){return Ql(t,"POST","/v1/accounts:delete",e)}async function iD(t,e){return Ql(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uz(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=s1(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:yc(Ov(i.auth_time)),issuedAtTime:yc(Ov(i.iat)),expirationTime:yc(Ov(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ov(t){return Number(t)*1e3}function s1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=mp(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rI(t){const e=s1(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&cz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zc(t,iD(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oD(o.providerUserInfo):[],a=dz(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new R_(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,c)}async function hz(t){const e=_t(t);await Cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oD(t){return t.map(e=>{var{providerId:n}=e,r=t1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){const n=await nD(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mz(t,e){return Ql(t,"POST","/v2/accounts:revokeToken",o1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=rI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await pz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new za;return r&&(we(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=t1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new R_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uz(this,e)}reload(){return hz(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Zc(this,lz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,f;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:C,isAnonymous:T,providerData:I,stsTokenManager:b}=n;we(E&&b,e,"internal-error");const S=za.fromJSON(this.name,b);we(typeof E=="string",e,"internal-error"),to(c,e.name),to(d,e.name),we(typeof C=="boolean",e,"internal-error"),we(typeof T=="boolean",e,"internal-error"),to(p,e.name),to(m,e.name),to(g,e.name),to(v,e.name),to(_,e.name),to(w,e.name);const P=new gi({uid:E,auth:e,email:d,emailVerified:C,displayName:c,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:w});return I&&Array.isArray(I)&&(P.providerData=I.map(O=>Object.assign({},O))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new za;i.updateFromServerResponse(n);const o=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?oD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new za;a.updateFromIdToken(r);const l=new gi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new R_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;function yi(t){ji(t instanceof Function,"Expected a class definition");let e=iI.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sD.type="NONE";const oI=sD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ud("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wa(yi(oI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||yi(oI);const s=Ud(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const c=gi._fromJSON(e,f);u!==o&&(a=c),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Wa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hD(e))return"Blackberry";if(dD(e))return"Webos";if(lD(e))return"Safari";if((e.includes("chrome/")||uD(e))&&!e.includes("edge/"))return"Chrome";if(fD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aD(t=vn()){return/firefox\//i.test(t)}function lD(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uD(t=vn()){return/crios\//i.test(t)}function cD(t=vn()){return/iemobile/i.test(t)}function fD(t=vn()){return/android/i.test(t)}function hD(t=vn()){return/blackberry/i.test(t)}function dD(t=vn()){return/webos/i.test(t)}function a1(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gz(t=vn()){var e;return a1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yz(){return OU()&&document.documentMode===10}function pD(t=vn()){return a1(t)||fD(t)||dD(t)||hD(t)||/windows phone/i.test(t)||cD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e=[]){let n;switch(t){case"Browser":n=sI(vn());break;case"Worker":n=`${sI(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e={}){return Ql(t,"GET","/v2/passwordPolicy",o1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=6;class bz{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:wz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aI(this),this.idTokenSubscription=new aI(this),this.beforeStateQueue=new vz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iD(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Ss(this));const n=e?_t(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _z(this),n=new bz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kg(t){return _t(t)}class aI{constructor(e){this.auth=e,this.observer=null,this.addObserver=VU(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ez(t){l1=t}function Sz(t){return l1.loadJS(t)}function Tz(){return l1.gapiScript}function Az(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){const n=dg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(yp(o,e??{}))return i;ni(i,"already-initialized")}return n.initialize({options:e})}function Pz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cz(t,e,n){const r=kg(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=gD(e),{host:s,port:a}=Oz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||kz()}function gD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oz(t){const e=gD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:lI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:lI(s)}}}function lI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e){return sz(t,"POST","/v1/accounts:signInWithIdp",o1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="http://localhost";class $s extends yD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=t1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new $s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:Nz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends u1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends rh{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends rh{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends rh{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await gi._fromIdTokenResponse(e,r,i),s=uI(r);return new ml({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uI(r);return new ml({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends zi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Op.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Op(e,n,r,i)}}function vD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Op._fromErrorAndOperation(t,o,e,r):o})}async function Rz(t,e,n=!1){const r=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(Ss(r));const i="reauthenticate";try{const o=await Zc(t,vD(r,i,e,t),n);we(o.idToken,r,"internal-error");const s=s1(o.idToken);we(s,r,"internal-error");const{sub:a}=s;return we(t.uid===a,r,"user-mismatch"),ml._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e,n=!1){if(pi(t.app))return Promise.reject(Ss(t));const r="signIn",i=await vD(t,r,e),o=await ml._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function jz(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function Lz(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function $z(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function Fz(t){return _t(t).signOut()}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=1e3,Uz=10;class wD extends _D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);yz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wD.type="LOCAL";const Bz=wD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends _D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bD.type="SESSION";const xD=bD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ng(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await zz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=c1("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function Gz(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function Hz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Kz(){return ED()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebaseLocalStorageDb",Yz=1,Np="firebaseLocalStorage",TD="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function Qz(){const t=indexedDB.deleteDatabase(SD);return new ih(t).toPromise()}function M_(){const t=indexedDB.open(SD,Yz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Np,{keyPath:TD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),await Qz(),e(await M_()))})})}async function cI(t,e,n){const r=Rg(t,!0).put({[TD]:e,value:n});return new ih(r).toPromise()}async function Xz(t,e){const n=Rg(t,!1).get(e),r=await new ih(n).toPromise();return r===void 0?null:r.value}function fI(t,e){const n=Rg(t,!0).delete(e);return new ih(n).toPromise()}const Jz=800,Zz=3;class AD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ED()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ng._getInstance(Kz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Hz(),!this.activeServiceWorker)return;this.sender=new Wz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await cI(e,kp,"1"),await fI(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Xz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Rg(i,!1).getAll();return new ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AD.type="LOCAL";const e8=AD;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){return e?yi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends yD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t8(t){return Dz(t.auth,new f1(t),t.bypassAuthState)}function n8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Mz(n,new f1(t),t.bypassAuthState)}async function r8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Rz(n,new f1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t8;case"linkViaPopup":case"linkViaRedirect":return r8;case"reauthViaPopup":case"reauthViaRedirect":return n8;default:ni(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=new nh(2e3,1e4);async function o8(t,e,n){if(pi(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=kg(t);ez(t,e,u1);const i=ID(r,n);return new ps(r,"signInViaPopup",e,i).executeNotNull()}class ps extends PD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=c1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i8.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="pendingRedirect",Bd=new Map;class a8 extends PD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await l8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l8(t,e){const n=f8(e),r=c8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u8(t,e){Bd.set(t._key(),e)}function c8(t){return yi(t._redirectPersistence)}function f8(t){return Ud(s8,t.config.apiKey,t.name)}async function h8(t,e,n=!1){if(pi(t.app))return Promise.reject(Ss(t));const r=kg(t),i=ID(r,e),s=await new a8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=10*60*1e3;class p8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d8&&this.cachedEventUids.clear(),this.cachedEventUids.has(hI(e))}saveEventToCache(e){this.cachedEventUids.add(hI(e)),this.lastProcessedEventTime=Date.now()}}function hI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e={}){return Ql(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v8=/^https?/;async function _8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g8(t);for(const n of e)try{if(w8(n))return}catch{}ni(t,"unauthorized-domain")}function w8(t){const e=N_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!v8.test(n))return!1;if(y8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=new nh(3e4,6e4);function dI(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x8(t){return new Promise((e,n)=>{var r,i,o;function s(){dI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dI(),n(Lr(t,"network-request-failed"))},timeout:b8.get()})}if(!((i=(r=Xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xr().gapi)===null||o===void 0)&&o.load)s();else{const a=Az("iframefcb");return Xr()[a]=()=>{gapi.load?s():n(Lr(t,"network-request-failed"))},Sz(`${Tz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function E8(t){return zd=zd||x8(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new nh(5e3,15e3),T8="__/auth/iframe",A8="emulator/auth/iframe",I8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C8(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i1(e,A8):`https://${t.config.authDomain}/${T8}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},i=P8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hl(r).slice(1)}`}async function O8(t){const e=await E8(t),n=Xr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:C8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Lr(t,"network-request-failed"),a=Xr().setTimeout(()=>{o(s)},S8.get());function l(){Xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N8=500,R8=600,M8="_blank",D8="http://localhost";class pI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j8(t,e,n,r=N8,i=R8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},k8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=vn().toLowerCase();n&&(a=uD(u)?M8:n),aD(u)&&(e=e||D8,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(gz(u)&&a!=="_self")return L8(e||"",a),new pI(null);const c=window.open(e||"",a,f);we(c,t,"popup-blocked");try{c.focus()}catch{}return new pI(c)}function L8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="__/auth/handler",F8="emulator/auth/handler",V8=encodeURIComponent("fac");async function mI(t,e,n,r,i,o){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:i};if(e instanceof u1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",c_(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,c]of Object.entries(o||{}))s[f]=c}if(e instanceof rh){const f=e.getScopes().filter(c=>c!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${V8}=${encodeURIComponent(l)}`:"";return`${U8(t)}?${Hl(a).slice(1)}${u}`}function U8({config:t}){return t.emulator?i1(t,F8):`https://${t.authDomain}/${$8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="webStorageSupport";class B8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xD,this._completeRedirectFn=h8,this._overrideRedirectResult=u8}async _openPopup(e,n,r,i){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await mI(e,n,r,N_(),i);return j8(e,s,c1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await mI(e,n,r,N_(),i);return Gz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O8(e),r=new p8(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kv,{type:kv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kv];s!==void 0&&n(!!s),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pD()||lD()||a1()}}const z8=B8;var gI="@firebase/auth",yI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H8(t){Ms(new Ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;we(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mD(t)},u=new xz(r,i,o,l);return Pz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new Ro("auth-internal",e=>{const n=kg(e.getProvider("auth").getImmediate());return(r=>new W8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(gI,yI,G8(t)),Kr(gI,yI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=5*60,K8=S2("authIdTokenMaxAge")||q8;let vI=null;const Y8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K8)return;const i=n==null?void 0:n.token;vI!==i&&(vI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q8(t=vx()){const e=dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Iz(t,{popupRedirectResolver:z8,persistence:[e8,Bz,xD]}),r=S2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Y8(o.toString());Lz(n,s,()=>s(n.currentUser)),jz(n,a=>s(a))}}const i=b2("auth");return i&&Cz(n,`http://${i}`),n}function X8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ez({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H8("Browser");const _I="@firebase/database",wI="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OD="";function J8(t){OD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Z8(e)}}catch{}return new eW},ms=kD("localStorage"),D_=kD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new hg("@firebase/database"),tW=function(){let t=1;return function(){return t++}}(),ND=function(t){const e=zU(t),n=new FU;n.update(e);const r=n.digest();return px.encodeByteArray(r)},oh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=oh.apply(null,r):typeof r=="object"?e+=zt(r):e+=r,e+=" "}return e};let Ts=null,bI=!0;const nW=function(t,e){re(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ha.logLevel=ke.VERBOSE,Ts=Ha.log.bind(Ha),e&&D_.set("logging_enabled",!0)):typeof t=="function"?Ts=t:(Ts=null,D_.remove("logging_enabled"))},pn=function(...t){if(bI===!0&&(bI=!1,Ts===null&&D_.get("logging_enabled")===!0&&nW(!0)),Ts){const e=oh.apply(null,t);Ts(e)}},sh=function(t){return function(...e){pn(t,...e)}},j_=function(...t){const e="FIREBASE INTERNAL ERROR: "+oh(...t);Ha.error(e)},Li=function(...t){const e=`FIREBASE FATAL ERROR: ${oh(...t)}`;throw Ha.error(e),new Error(e)},$n=function(...t){const e="FIREBASE WARNING: "+oh(...t);Ha.warn(e)},rW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},RD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},iW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gl="[MIN_NAME]",Fs="[MAX_NAME]",Xl=function(t,e){if(t===e)return 0;if(t===gl||e===Fs)return-1;if(e===gl||t===Fs)return 1;{const n=xI(t),r=xI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},oW=function(t,e){return t===e?0:t<e?-1:1},Du=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zt(e))},h1=function(t){if(typeof t!="object"||t===null)return zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=zt(e[r]),n+=":",n+=h1(t[e[r]]);return n+="}",n},MD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DD=function(t){re(!RD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let d=parseInt(f.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},sW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lW(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const uW=new RegExp("^-?(0*)\\d{1,10}$"),cW=-2147483648,fW=2147483647,xI=function(t){if(uW.test(t)){const e=Number(t);if(e>=cW&&e<=fW)return e}return null},Jl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $n("Exception was thrown by user callback.",n),e},Math.floor(0))}},hW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$n(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$n(e)}}class qa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="5",jD="v",LD="s",$D="r",FD="f",VD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UD="ls",BD="p",L_="ac",zD="websocket",WD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ms.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ms.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HD(t,e,n){re(typeof e=="string","typeof type must == string"),re(typeof n=="object","typeof params must == object");let r;if(e===zD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===WD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mW(t)&&(n.ns=t.namespace);const i=[];return Fn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this.counters_={}}incrementCounter(e,n=1){Wi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv={},Rv={};function p1(t){const e=t.toString();return Nv[e]||(Nv[e]=new gW),Nv[e]}function yW(t,e){const n=t.toString();return Rv[n]||(Rv[n]=e()),Rv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="start",_W="close",wW="pLPCommand",bW="pRTLPCB",qD="id",KD="pw",YD="ser",xW="cb",EW="seg",SW="ts",TW="d",AW="dframe",QD=1870,XD=30,IW=QD-XD,PW=25e3,CW=3e4;class Na{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sh(e),this.stats_=p1(n),this.urlFn=l=>(this.appCheckToken&&(l[L_]=this.appCheckToken),HD(n,WD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CW)),iW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new m1((...o)=>{const[s,a,l,u,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===EI)this.id=a,this.password=l;else if(s===_W)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[EI]="t",r[YD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jD]=d1,this.transportSessionId&&(r[LD]=this.transportSessionId),this.lastSessionId&&(r[UD]=this.lastSessionId),this.applicationId&&(r[BD]=this.applicationId),this.appCheckToken&&(r[L_]=this.appCheckToken),typeof location<"u"&&location.hostname&&VD.test(location.hostname)&&(r[$D]=FD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Na.forceAllow_=!0}static forceDisallow(){Na.forceDisallow_=!0}static isAvailable(){return Na.forceAllow_?!0:!Na.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sW()&&!aW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_2(n),i=MD(r,IW);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[AW]="t",r[qD]=e,r[KD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class m1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tW(),window[wW+this.uniqueCallbackIdentifier]=e,window[bW+this.uniqueCallbackIdentifier]=n,this.myIFrame=m1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){pn("frame writing exception"),a.stack&&pn(a.stack),pn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qD]=this.myID,e[KD]=this.myPW,e[YD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XD+r.length<=QD;){const s=this.pendingSegs.shift();r=r+"&"+EW+i+"="+s.seg+"&"+SW+i+"="+s.ts+"&"+TW+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(PW)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=16384,kW=45e3;let Rp=null;typeof MozWebSocket<"u"?Rp=MozWebSocket:typeof WebSocket<"u"&&(Rp=WebSocket);class Cr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sh(this.connId),this.stats_=p1(n),this.connURL=Cr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[jD]=d1,typeof location<"u"&&location.hostname&&VD.test(location.hostname)&&(s[$D]=FD),n&&(s[LD]=n),r&&(s[UD]=r),i&&(s[L_]=i),o&&(s[BD]=o),HD(e,zD,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ms.set("previous_websocket_failure",!0);try{let r;I2(),this.mySock=new Rp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Rp!==null&&!Cr.forceDisallow_}static previouslyFailed(){return ms.isInMemoryStorage||ms.get("previous_websocket_failure")===!0}markConnectionHealthy(){ms.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(re(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MD(n,OW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2;Cr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Na,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Cr&&Cr.isAvailable();let r=n&&!Cr.previouslyFailed();if(e.webSocketOnly&&(n||$n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cr];else{const i=this.transports_=[];for(const o of ef.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);ef.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ef.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=6e4,RW=5e3,MW=10*1024,DW=100*1024,Mv="t",SI="d",jW="s",TI="r",LW="e",AI="o",II="a",PI="n",CI="p",$W="h";class FW{constructor(e,n,r,i,o,s,a,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sh("c:"+this.id+":"),this.transportManager_=new ef(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=vc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mv in e){const n=e[Mv];n===II?this.upgradeIfSecondaryHealthy_():n===TI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===AI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:II,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Du(Mv,e);if(SI in e){const r=e[SI];if(n===$W){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jW?this.onConnectionShutdown_(r):n===TI?this.onReset_(r):n===LW?j_("Server Error: "+r):n===AI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),d1!==r&&$n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ms.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZD=class{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){re(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends ZD{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mp}getInitialEvent(e){return re(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=32,kI=768;let Ye=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Ue(){return new Ye("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $o(t){return t.pieces_.length-t.pieceNum_}function Ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function ej(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tj(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nj(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function Rt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ye(n,0)}function Pe(t){return t.pieceNum_>=t.pieces_.length}function kn(t,e){const n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return kn(Ze(t),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function g1(t,e){if($o(t)!==$o(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($o(t)>$o(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class UW{constructor(e,n){this.errorPrefix_=n,this.parts_=tj(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fg(this.parts_[r]);rj(this)}}function BW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fg(e),rj(t)}function zW(t){const e=t.parts_.pop();t.byteLength_-=fg(e),t.parts_.length>0&&(t.byteLength_-=1)}function rj(t){if(t.byteLength_>kI)throw new Error(t.errorPrefix_+"has a key path longer than "+kI+" bytes ("+t.byteLength_+").");if(t.parts_.length>OI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OI+") or object contains a cycle "+os(t))}function os(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends ZD{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new y1}getInitialEvent(e){return re(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=1e3,WW=60*5*1e3,NI=30*1e3,GW=1.3,HW=3e4,qW="server_kill",RI=3;class Si extends JD{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Si.nextPersistentConnectionId_++,this.log_=sh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ju,this.maxReconnectDelay_=WW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!I2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");y1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(zt(o)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new cg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;Si.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wi(e,"w")){const r=al(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();$n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$U(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=LU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):j_("Unrecognized action received from server: "+zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HW&&(this.reconnectDelay_=ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Si.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(c){re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);s?pn("getToken() completed but was canceled"):(pn("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,a=new FW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{$n(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(qW)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&$n(c),l())}}}interrupt(e){pn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],c_(this.interruptReasons_)&&(this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>h1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){pn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RI&&(this.reconnectDelay_=NI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){pn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+OD.replace(/\./g,"-")]=1,mx()?e["framework.cordova"]=1:A2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mp.getInstance().currentlyOnline();return c_(this.interruptReasons_)&&e}}Si.nextPersistentConnectionId_=0;Si.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(gl,e),i=new Ie(gl,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;class ij extends Mg{static get __EMPTY_NODE(){return ad}static set __EMPTY_NODE(e){ad=e}compare(e,n){return Xl(e.name,n.name)}isDefinedOn(e){throw Gl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Fs,ad)}makePost(e,n){return re(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,ad)}toString(){return".key"}}const Ka=new ij;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Nn.EMPTY_NODE,this.right=o??Nn.EMPTY_NODE}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class KW{copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nn{constructor(e,n=Nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new Nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ld(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ld(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ld(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ld(this.root_,null,this.comparator_,!0,e)}}Nn.EMPTY_NODE=new KW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t,e){return Xl(t.name,e.name)}function v1(t,e){return Xl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_;function QW(t){$_=t}const oj=function(t){return typeof t=="number"?"number:"+DD(t):"string:"+t},sj=function(t){if(t.isLeafNode()){const e=t.val();re(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wi(e,".sv"),"Priority must be a string or number.")}else re(t===$_||t.isEmpty(),"priority of unexpected type.");re(t===$_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MI;class $t{constructor(e,n=$t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sj(this.priorityNode_)}static set __childrenNodeConstructor(e){MI=e}static get __childrenNodeConstructor(){return MI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:Ae(e)===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(re(r!==".priority"||$o(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oj(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DD(this.value_):e+=this.value_,this.lazyHash_=ND(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $t.__childrenNodeConstructor?-1:(re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$t.VALUE_TYPE_ORDER.indexOf(n),o=$t.VALUE_TYPE_ORDER.indexOf(r);return re(i>=0,"Unknown leaf type: "+n),re(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$t.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aj,lj;function XW(t){aj=t}function JW(t){lj=t}class ZW extends Mg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Xl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Fs,new $t("[PRIORITY-POST]",lj))}makePost(e,n){const r=aj(e);return new Ie(n,new $t("[PRIORITY-POST]",r))}toString(){return".priority"}}const vt=new ZW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=Math.log(2);class tG{constructor(e){const n=o=>parseInt(Math.log(o)/eG,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dp=function(t,e,n,r){t.sort(e);const i=function(l,u){const f=u-l;let c,d;if(f===0)return null;if(f===1)return c=t[l],d=n?n(c):c,new Bt(d,c.node,Bt.BLACK,null,null);{const p=parseInt(f/2,10)+l,m=i(l,p),g=i(p+1,u);return c=t[p],d=n?n(c):c,new Bt(d,c.node,Bt.BLACK,m,g)}},o=function(l){let u=null,f=null,c=t.length;const d=function(m,g){const v=c-m,_=c;c-=m;const w=i(v+1,_),E=t[v],C=n?n(E):E;p(new Bt(C,E.node,g,null,w))},p=function(m){u?(u.left=m,u=m):(f=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(m+1));g?d(v,Bt.BLACK):(d(v,Bt.BLACK),d(v,Bt.RED))}return f},s=new tG(t.length),a=o(s);return new Nn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dv;const fa={};class vi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return re(fa&&vt,"ChildrenNode.ts has not been loaded"),Dv=Dv||new vi({".priority":fa},{".priority":vt}),Dv}get(e){const n=al(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nn?n:null}hasIndex(e){return Wi(this.indexSet_,e.toString())}addIndex(e,n){re(e!==Ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ie.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Dp(r,e.getCompare()):a=fa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new vi(f,u)}addToIndexes(e,n){const r=gp(this.indexes_,(i,o)=>{const s=al(this.indexSet_,o);if(re(s,"Missing index implementation for "+o),i===fa)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ie.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Dp(a,s.getCompare())}else return fa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new vi(r,this.indexSet_)}removeFromIndexes(e,n){const r=gp(this.indexes_,i=>{if(i===fa)return i;{const o=n.get(e.name);return o?i.remove(new Ie(e.name,o)):i}});return new vi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;class ve{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sj(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lu||(Lu=new ve(new Nn(v1),null,vi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lu}updatePriority(e){return this.children_.isEmpty()?this:new ve(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Lu:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(re(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Lu:this.priorityNode_;return new ve(i,s,o)}}updateChild(e,n){const r=Ae(e);if(r===null)return n;{re(Ae(e)!==".priority"||$o(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ze(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(vt,(s,a)=>{n[s]=a.val(e),r++,o&&ve.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oj(this.getPriority().val())+":"),this.forEachChild(vt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ND(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ie(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ie.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ah?-1:0}withIndex(e){if(e===Ka||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ve(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ka||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(vt),i=n.getIterator(vt);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ka?null:this.indexMap_.get(e.toString())}}ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nG extends ve{constructor(){super(new Nn(v1),ve.EMPTY_NODE,vi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}}const ah=new nG;Object.defineProperties(Ie,{MIN:{value:new Ie(gl,ve.EMPTY_NODE)},MAX:{value:new Ie(Fs,ah)}});ij.__EMPTY_NODE=ve.EMPTY_NODE;$t.__childrenNodeConstructor=ve;QW(ah);JW(ah);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=!0;function Qt(t,e=null){if(t===null)return ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),re(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $t(n,Qt(e))}if(!(t instanceof Array)&&rG){const n=[];let r=!1;if(Fn(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Qt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ie(s,l)))}}),n.length===0)return ve.EMPTY_NODE;const o=Dp(n,YW,s=>s.name,v1);if(r){const s=Dp(n,vt.getCompare());return new ve(o,Qt(e),new vi({".priority":s},{".priority":vt}))}else return new ve(o,Qt(e),vi.Default)}else{let n=ve.EMPTY_NODE;return Fn(t,(r,i)=>{if(Wi(t,r)&&r.substring(0,1)!=="."){const o=Qt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Qt(e))}}XW(Qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG extends Mg{constructor(e){super(),this.indexPath_=e,re(!Pe(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Xl(e.name,n.name):o}makePost(e,n){const r=Qt(e),i=ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const e=ve.EMPTY_NODE.updateChild(this.indexPath_,ah);return new Ie(Fs,e)}toString(){return tj(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG extends Mg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Xl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=Qt(e);return new Ie(n,r)}toString(){return".value"}}const sG=new oG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return{type:"value",snapshotNode:t}}function yl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function nf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function aG(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){re(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(tf(n,a)):re(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(yl(n,r)):s.trackChildChange(nf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(vt,(i,o)=>{n.hasChild(i)||r.trackChildChange(tf(i,o))}),n.isLeafNode()||n.forEachChild(vt,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(nf(i,o,s))}else r.trackChildChange(yl(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ve.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.indexedFilter_=new _1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=rf.getStartPost_(e),this.endPost_=rf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ie(n,r))||(r=ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ve.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ve.EMPTY_NODE);const o=this;return n.forEachChild(vt,(s,a)=>{o.matches(new Ie(s,a))||(i=i.updateImmediateChild(s,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new rf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ie(n,r))||(r=ve.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ve.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ve.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(d,p)=>c(p,d)}else s=this.index_.getCompare();const a=e;re(a.numChildren()===this.limit_,"");const l=new Ie(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const c=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,l);if(f&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(nf(n,r,c)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(tf(n,c));const g=a.updateImmediateChild(n,ve.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(yl(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:f&&s(u,l)>=0?(o!=null&&(o.trackChildChange(tf(u.name,u.node)),o.trackChildChange(yl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ve.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gl}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vt}copy(){const e=new w1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uG(t){return t.loadsAllData()?new _1(t.getIndex()):t.hasLimit()?new lG(t):new rf(t)}function DI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vt?n="$priority":t.index_===sG?n="$value":t.index_===Ka?n="$key":(re(t.index_ instanceof iG,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends JD{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=jp.getListenId_(e,r),a={};this.listens_[s]=a;const l=DI(e._queryParams);this.restRequest_(o+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),al(this.listens_,s)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=jp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=DI(e._queryParams),r=e._path.toString(),i=new cg;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Hl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Wc(a.responseText)}catch{$n("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$n("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return{value:null,children:new Map}}function cj(t,e,n){if(Pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ae(e);t.children.has(r)||t.children.set(r,Lp());const i=t.children.get(r);e=Ze(e),cj(i,e,n)}}function F_(t,e,n){t.value!==null?n(e,t.value):fG(t,(r,i)=>{const o=new Ye(e.toString()+"/"+r);F_(i,o,n)})}function fG(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=10*1e3,dG=30*1e3,pG=5*60*1e3;class mG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hG(e);const r=LI+(dG-LI)*Math.random();vc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Fn(e,(i,o)=>{o>0&&Wi(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),vc(this.reportStats_.bind(this),Math.floor(Math.random()*2*pG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nr||(Nr={}));function fj(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function b1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function x1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nr.ACK_USER_WRITE,this.source=fj()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new $p(Ue(),n,this.revert)}}else return re(Ae(this.path)===e,"operationForChild called for unrelated child."),new $p(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.source=e,this.path=n,this.type=Nr.LISTEN_COMPLETE}operationForChild(e){return Pe(this.path)?new of(this.source,Ue()):new of(this.source,Ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nr.OVERWRITE}operationForChild(e){return Pe(this.path)?new Vs(this.source,Ue(),this.snap.getImmediateChild(e)):new Vs(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nr.MERGE}operationForChild(e){if(Pe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Vs(this.source,Ue(),n.value):new sf(this.source,Ue(),n)}else return re(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sf(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yG(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(aG(s.childName,s.snapshotNode))}),$u(t,i,"child_removed",e,r,n),$u(t,i,"child_added",e,r,n),$u(t,i,"child_moved",o,r,n),$u(t,i,"child_changed",e,r,n),$u(t,i,"value",e,r,n),i}function $u(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>_G(t,a,l)),s.forEach(a=>{const l=vG(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function vG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _G(t,e,n){if(e.childName==null||n.childName==null)throw Gl("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){return{eventCache:t,serverCache:e}}function _c(t,e,n,r){return Dg(new Us(e,n,r),t.serverCache)}function hj(t,e,n,r){return Dg(t.eventCache,new Us(e,n,r))}function V_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv;const wG=()=>(jv||(jv=new Nn(oW)),jv);class it{constructor(e,n=wG()){this.value=e,this.children=n}static fromObject(e){let n=new it(null);return Fn(e,(r,i)=>{n=n.set(new Ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(Pe(e))return null;{const r=Ae(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ze(e),n);return o!=null?{path:Rt(new Ye(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(Ze(e)):new it(null)}}set(e,n){if(Pe(e))return new it(n,this.children);{const r=Ae(e),o=(this.children.get(r)||new it(null)).set(Ze(e),n),s=this.children.insert(r,o);return new it(this.value,s)}}remove(e){if(Pe(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=Ae(e),r=this.children.get(n);if(r){const i=r.remove(Ze(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new it(null):new it(this.value,o)}else return this}}get(e){if(Pe(e))return this.value;{const n=Ae(e),r=this.children.get(n);return r?r.get(Ze(e)):null}}setTree(e,n){if(Pe(e))return n;{const r=Ae(e),o=(this.children.get(r)||new it(null)).setTree(Ze(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new it(this.value,s)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Rt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Pe(e))return null;{const o=Ae(e),s=this.children.get(o);return s?s.findOnPath_(Ze(e),Rt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,r){if(Pe(e))return this;{this.value&&r(n,this.value);const i=Ae(e),o=this.children.get(i);return o?o.foreachOnPath_(Ze(e),Rt(n,i),r):new it(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Rt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.writeTree_=e}static empty(){return new $r(new it(null))}}function wc(t,e,n){if(Pe(e))return new $r(new it(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=kn(i,e);return o=o.updateChild(s,n),new $r(t.writeTree_.set(i,o))}else{const i=new it(n),o=t.writeTree_.setTree(e,i);return new $r(o)}}}function $I(t,e,n){let r=t;return Fn(n,(i,o)=>{r=wc(r,Rt(e,i),o)}),r}function FI(t,e){if(Pe(e))return $r.empty();{const n=t.writeTree_.setTree(e,new it(null));return new $r(n)}}function U_(t,e){return Zs(t,e)!=null}function Zs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kn(n.path,e)):null}function VI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vt,(r,i)=>{e.push(new Ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ie(r,i.value))}),e}function Po(t,e){if(Pe(e))return t;{const n=Zs(t,e);return n!=null?new $r(new it(n)):new $r(t.writeTree_.subtree(e))}}function B_(t){return t.writeTree_.isEmpty()}function vl(t,e){return dj(Ue(),t.writeTree_,e)}function dj(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(re(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=dj(Rt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Rt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){return yj(e,t)}function bG(t,e,n,r,i){re(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wc(t.visibleWrites,e,n)),t.lastWriteId=r}function xG(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function EG(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);re(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&SG(a,r.path)?i=!1:kr(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return TG(t),!0;if(r.snap)t.visibleWrites=FI(t.visibleWrites,r.path);else{const a=r.children;Fn(a,l=>{t.visibleWrites=FI(t.visibleWrites,Rt(r.path,l))})}return!0}else return!1}function SG(t,e){if(t.snap)return kr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kr(Rt(t.path,n),e))return!0;return!1}function TG(t){t.visibleWrites=pj(t.allWrites,AG,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function AG(t){return t.visible}function pj(t,e,n){let r=$r.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)kr(n,s)?(a=kn(n,s),r=wc(r,a,o.snap)):kr(s,n)&&(a=kn(s,n),r=wc(r,Ue(),o.snap.getChild(a)));else if(o.children){if(kr(n,s))a=kn(n,s),r=$I(r,a,o.children);else if(kr(s,n))if(a=kn(s,n),Pe(a))r=$I(r,Ue(),o.children);else{const l=al(o.children,Ae(a));if(l){const u=l.getChild(Ze(a));r=wc(r,Ue(),u)}}}else throw Gl("WriteRecord should have .snap or .children")}}return r}function mj(t,e,n,r,i){if(!r&&!i){const o=Zs(t.visibleWrites,e);if(o!=null)return o;{const s=Po(t.visibleWrites,e);if(B_(s))return n;if(n==null&&!U_(s,Ue()))return null;{const a=n||ve.EMPTY_NODE;return vl(s,a)}}}else{const o=Po(t.visibleWrites,e);if(!i&&B_(o))return n;if(!i&&n==null&&!U_(o,Ue()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(kr(u.path,e)||kr(e,u.path))},a=pj(t.allWrites,s,e),l=n||ve.EMPTY_NODE;return vl(a,l)}}}function IG(t,e,n){let r=ve.EMPTY_NODE;const i=Zs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Po(t.visibleWrites,e);return n.forEachChild(vt,(s,a)=>{const l=vl(Po(o,new Ye(s)),a);r=r.updateImmediateChild(s,l)}),VI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Po(t.visibleWrites,e);return VI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function PG(t,e,n,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Rt(e,n);if(U_(t.visibleWrites,o))return null;{const s=Po(t.visibleWrites,o);return B_(s)?i.getChild(n):vl(s,i.getChild(n))}}function CG(t,e,n,r){const i=Rt(e,n),o=Zs(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Po(t.visibleWrites,i);return vl(s,r.getNode().getImmediateChild(n))}else return null}function OG(t,e){return Zs(t.visibleWrites,e)}function kG(t,e,n,r,i,o,s){let a;const l=Po(t.visibleWrites,e),u=Zs(l,Ue());if(u!=null)a=u;else if(n!=null)a=vl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const f=[],c=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=d.getNext();for(;p&&f.length<i;)c(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}function NG(){return{visibleWrites:$r.empty(),allWrites:[],lastWriteId:-1}}function Fp(t,e,n,r){return mj(t.writeTree,t.treePath,e,n,r)}function S1(t,e){return IG(t.writeTree,t.treePath,e)}function UI(t,e,n,r){return PG(t.writeTree,t.treePath,e,n,r)}function Vp(t,e){return OG(t.writeTree,Rt(t.treePath,e))}function RG(t,e,n,r,i,o){return kG(t.writeTree,t.treePath,e,n,r,i,o)}function T1(t,e,n){return CG(t.writeTree,t.treePath,e,n)}function gj(t,e){return yj(Rt(t.treePath,e),t.writeTree)}function yj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),re(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,nf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,tf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,yl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,nf(r,e.snapshotNode,i.oldSnap));else throw Gl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const vj=new DG;class A1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bs(this.viewCache_),o=RG(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t){return{filter:t}}function LG(t,e){re(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),re(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function $G(t,e,n,r,i){const o=new MG;let s,a;if(n.type===Nr.OVERWRITE){const u=n;u.source.fromUser?s=z_(t,e,u.path,u.snap,r,i,o):(re(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Pe(u.path),s=Up(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Nr.MERGE){const u=n;u.source.fromUser?s=VG(t,e,u.path,u.children,r,i,o):(re(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=W_(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Nr.ACK_USER_WRITE){const u=n;u.revert?s=zG(t,e,u.path,r,i,o):s=UG(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Nr.LISTEN_COMPLETE)s=BG(t,e,n.path,r,o);else throw Gl("Unknown operation type: "+n.type);const l=o.getChanges();return FG(e,s,l),{viewCache:s,changes:l}}function FG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=V_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(uj(V_(e)))}}function _j(t,e,n,r,i,o){const s=e.eventCache;if(Vp(r,n)!=null)return e;{let a,l;if(Pe(n))if(re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Bs(e),f=u instanceof ve?u:ve.EMPTY_NODE,c=S1(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=Fp(r,Bs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Ae(n);if(u===".priority"){re($o(n)===1,"Can't have a priority with additional path components");const f=s.getNode();l=e.serverCache.getNode();const c=UI(r,n,f,l);c!=null?a=t.filter.updatePriority(f,c):a=s.getNode()}else{const f=Ze(n);let c;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const d=UI(r,n,s.getNode(),l);d!=null?c=s.getNode().getImmediateChild(u).updateChild(f,d):c=s.getNode().getImmediateChild(u)}else c=T1(r,u,e.serverCache);c!=null?a=t.filter.updateChild(s.getNode(),u,c,f,i,o):a=s.getNode()}}return _c(e,a,s.isFullyInitialized()||Pe(n),t.filter.filtersNodes())}}function Up(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const f=s?t.filter:t.filter.getIndexedFilter();if(Pe(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),p,null)}else{const p=Ae(n);if(!l.isCompleteForPath(n)&&$o(n)>1)return e;const m=Ze(n),v=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=f.updatePriority(l.getNode(),v):u=f.updateChild(l.getNode(),p,v,m,vj,null)}const c=hj(e,u,l.isFullyInitialized()||Pe(n),f.filtersNodes()),d=new A1(i,c,o);return _j(t,c,n,i,d,a)}function z_(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const f=new A1(i,e,o);if(Pe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=_c(e,u,!0,t.filter.filtersNodes());else{const c=Ae(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=_c(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Ze(n),p=a.getNode().getImmediateChild(c);let m;if(Pe(d))m=r;else{const g=f.getCompleteChild(c);g!=null?ej(d)===".priority"&&g.getChild(nj(d)).isEmpty()?m=g:m=g.updateChild(d,r):m=ve.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),c,m,d,f,s);l=_c(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function BI(t,e){return t.eventCache.isCompleteForChild(e)}function VG(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const f=Rt(n,l);BI(e,Ae(f))&&(a=z_(t,a,f,u,i,o,s))}),r.foreach((l,u)=>{const f=Rt(n,l);BI(e,Ae(f))||(a=z_(t,a,f,u,i,o,s))}),a}function zI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function W_(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Pe(n)?u=r:u=new it(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),m=zI(t,p,d);l=Up(t,l,new Ye(c),m,i,o,s,a)}}),u.children.inorderTraversal((c,d)=>{const p=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!p){const m=e.serverCache.getNode().getImmediateChild(c),g=zI(t,m,d);l=Up(t,l,new Ye(c),g,i,o,s,a)}}),l}function UG(t,e,n,r,i,o,s){if(Vp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Up(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Pe(n)){let u=new it(null);return l.getNode().forEachChild(Ka,(f,c)=>{u=u.set(new Ye(f),c)}),W_(t,e,n,u,i,o,a,s)}else return e}else{let u=new it(null);return r.foreach((f,c)=>{const d=Rt(n,f);l.isCompleteForPath(d)&&(u=u.set(f,l.getNode().getChild(d)))}),W_(t,e,n,u,i,o,a,s)}}function BG(t,e,n,r,i){const o=e.serverCache,s=hj(e,o.getNode(),o.isFullyInitialized()||Pe(n),o.isFiltered());return _j(t,s,n,r,vj,i)}function zG(t,e,n,r,i,o){let s;if(Vp(r,n)!=null)return e;{const a=new A1(r,e,i),l=e.eventCache.getNode();let u;if(Pe(n)||Ae(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Fp(r,Bs(e));else{const c=e.serverCache.getNode();re(c instanceof ve,"serverChildren would be complete if leaf node"),f=S1(r,c)}f=f,u=t.filter.updateFullNode(l,f,o)}else{const f=Ae(n);let c=T1(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=t.filter.updateChild(l,f,c,Ze(n),a,o):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,ve.EMPTY_NODE,Ze(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Fp(r,Bs(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Vp(r,Ue())!=null,_c(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _1(r.getIndex()),o=uG(r);this.processor_=jG(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(ve.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ve.EMPTY_NODE,a.getNode(),null),f=new Us(l,s.isFullyInitialized(),i.filtersNodes()),c=new Us(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Dg(c,f),this.eventGenerator_=new gG(this.query_)}get query(){return this.query_}}function GG(t){return t.viewCache_.serverCache.getNode()}function HG(t,e){const n=Bs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pe(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function WI(t){return t.eventRegistrations_.length===0}function qG(t,e){t.eventRegistrations_.push(e)}function GI(t,e,n){const r=[];if(n){re(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function HI(t,e,n,r){e.type===Nr.MERGE&&e.source.queryId!==null&&(re(Bs(t.viewCache_),"We should always have a full cache before handling merges"),re(V_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=$G(t.processor_,i,e,n,r);return LG(t.processor_,o.viewCache),re(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,wj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function KG(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vt,(o,s)=>{r.push(yl(o,s))}),n.isFullyInitialized()&&r.push(uj(n.getNode())),wj(t,r,n.getNode(),e)}function wj(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return yG(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;class YG{constructor(){this.views=new Map}}function QG(t){re(!Bp,"__referenceConstructor has already been defined"),Bp=t}function XG(){return re(Bp,"Reference.ts has not been loaded"),Bp}function JG(t){return t.views.size===0}function I1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return re(o!=null,"SyncTree gave us an op for an invalid query."),HI(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(HI(s,e,n,r));return o}}function ZG(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Fp(n,i?r:null),l=!1;a?l=!0:r instanceof ve?(a=S1(n,r),l=!1):(a=ve.EMPTY_NODE,l=!1);const u=Dg(new Us(a,l,!1),new Us(r,i,!1));return new WG(e,u)}return s}function eH(t,e,n,r,i,o){const s=ZG(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),qG(s,n),KG(s,n)}function tH(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Fo(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(GI(u,n,r)),WI(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(GI(l,n,r)),WI(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Fo(t)&&o.push(new(XG())(e._repo,e._path)),{removed:o,events:s}}function bj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ya(t,e){let n=null;for(const r of t.views.values())n=n||HG(r,e);return n}function xj(t,e){if(e._queryParams.loadsAllData())return jg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ej(t,e){return xj(t,e)!=null}function Fo(t){return jg(t)!=null}function jg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;function nH(t){re(!zp,"__referenceConstructor has already been defined"),zp=t}function rH(){return re(zp,"Reference.ts has not been loaded"),zp}let iH=1;class qI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=NG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sj(t,e,n,r,i){return bG(t.pendingWriteTree_,e,n,r,i),i?lh(t,new Vs(fj(),e,n)):[]}function gs(t,e,n=!1){const r=xG(t.pendingWriteTree_,e);if(EG(t.pendingWriteTree_,e)){let o=new it(null);return r.snap!=null?o=o.set(Ue(),!0):Fn(r.children,s=>{o=o.set(new Ye(s),!0)}),lh(t,new $p(r.path,o,n))}else return[]}function Lg(t,e,n){return lh(t,new Vs(b1(),e,n))}function oH(t,e,n){const r=it.fromObject(n);return lh(t,new sf(b1(),e,r))}function sH(t,e){return lh(t,new of(b1(),e))}function aH(t,e,n){const r=C1(t,n);if(r){const i=O1(r),o=i.path,s=i.queryId,a=kn(o,e),l=new of(x1(s),a);return k1(t,o,l)}else return[]}function G_(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||Ej(s,e))){const l=tH(s,e,n,r);JG(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(o,(d,p)=>Fo(p));if(f&&!c){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=cH(d);for(let m=0;m<p.length;++m){const g=p[m],v=g.query,_=Ij(t,g);t.listenProvider_.startListening(bc(v),Wp(t,v),_.hashFn,_.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(bc(e),null):u.forEach(d=>{const p=t.queryToTagMap.get($g(d));t.listenProvider_.stopListening(bc(d),p)}))}fH(t,u)}return a}function lH(t,e,n,r){const i=C1(t,r);if(i!=null){const o=O1(i),s=o.path,a=o.queryId,l=kn(s,e),u=new Vs(x1(a),l,n);return k1(t,s,u)}else return[]}function uH(t,e,n,r){const i=C1(t,r);if(i){const o=O1(i),s=o.path,a=o.queryId,l=kn(s,e),u=it.fromObject(n),f=new sf(x1(a),l,u);return k1(t,s,f)}else return[]}function KI(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=kn(d,i);o=o||Ya(p,m),s=s||Fo(p)});let a=t.syncPointTree_.get(i);a?(s=s||Fo(a),o=o||Ya(a,Ue())):(a=new YG,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=ve.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=Ya(m,Ue());g&&(o=o.updateImmediateChild(p,g))}));const u=Ej(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=$g(e);re(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=hH();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const f=E1(t.pendingWriteTree_,i);let c=eH(a,e,n,f,o,l);if(!u&&!s&&!r){const d=xj(a,e);c=c.concat(dH(t,e,d))}return c}function P1(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=kn(s,e),u=Ya(a,l);if(u)return u});return mj(i,e,o,n,!0)}function lh(t,e){return Tj(e,t.syncPointTree_,null,E1(t.pendingWriteTree_,Ue()))}function Tj(t,e,n,r){if(Pe(t.path))return Aj(t,e,n,r);{const i=e.get(Ue());n==null&&i!=null&&(n=Ya(i,Ue()));let o=[];const s=Ae(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,f=gj(r,s);o=o.concat(Tj(a,l,u,f))}return i&&(o=o.concat(I1(i,t,r,n))),o}}function Aj(t,e,n,r){const i=e.get(Ue());n==null&&i!=null&&(n=Ya(i,Ue()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=gj(r,s),f=t.operationForChild(s);f&&(o=o.concat(Aj(f,a,l,u)))}),i&&(o=o.concat(I1(i,t,r,n))),o}function Ij(t,e){const n=e.query,r=Wp(t,n);return{hashFn:()=>(GG(e)||ve.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?aH(t,n._path,r):sH(t,n._path);{const o=lW(i,n);return G_(t,n,null,o)}}}}function Wp(t,e){const n=$g(e);return t.queryToTagMap.get(n)}function $g(t){return t._path.toString()+"$"+t._queryIdentifier}function C1(t,e){return t.tagToQueryMap.get(e)}function O1(t){const e=t.indexOf("$");return re(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function k1(t,e,n){const r=t.syncPointTree_.get(e);re(r,"Missing sync point for query tag that we're tracking");const i=E1(t.pendingWriteTree_,e);return I1(r,n,i,null)}function cH(t){return t.fold((e,n,r)=>{if(n&&Fo(n))return[jg(n)];{let i=[];return n&&(i=bj(n)),Fn(r,(o,s)=>{i=i.concat(s)}),i}})}function bc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rH())(t._repo,t._path):t}function fH(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=$g(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function hH(){return iH++}function dH(t,e,n){const r=e._path,i=Wp(t,e),o=Ij(t,n),s=t.listenProvider_.startListening(bc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)re(!Fo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,f,c)=>{if(!Pe(u)&&f&&Fo(f))return[jg(f).query];{let d=[];return f&&(d=d.concat(bj(f).map(p=>p.query))),Fn(c,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const f=l[u];t.listenProvider_.stopListening(bc(f),Wp(t,f))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new N1(n)}node(){return this.node_}}class R1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rt(this.path_,e);return new R1(this.syncTree_,n)}node(){return P1(this.syncTree_,this.path_)}}const pH=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},YI=function(t,e,n){if(!t||typeof t!="object")return t;if(re(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return mH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gH(t[".sv"],e);re(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},mH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:re(!1,"Unexpected server value: "+t)}},gH=function(t,e,n){t.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&re(!1,"Unexpected increment value: "+r);const i=e.node();if(re(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},yH=function(t,e,n,r){return M1(e,new R1(n,t),r)},Pj=function(t,e,n){return M1(t,new N1(e),n)};function M1(t,e,n){const r=t.getPriority().val(),i=YI(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=YI(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new $t(a,Qt(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new $t(i))),s.forEachChild(vt,(a,l)=>{const u=M1(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function j1(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,i=Ae(n);for(;i!==null;){const o=al(r.node.children,i)||{children:{},childCount:0};r=new D1(i,r,o),n=Ze(n),i=Ae(n)}return r}function Zl(t){return t.node.value}function Cj(t,e){t.node.value=e,H_(t)}function Oj(t){return t.node.childCount>0}function vH(t){return Zl(t)===void 0&&!Oj(t)}function Fg(t,e){Fn(t.node.children,(n,r)=>{e(new D1(n,t,r))})}function kj(t,e,n,r){n&&!r&&e(t),Fg(t,i=>{kj(i,e,!0,r)}),n&&r&&e(t)}function _H(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uh(t){return new Ye(t.parent===null?t.name:uh(t.parent)+"/"+t.name)}function H_(t){t.parent!==null&&wH(t.parent,t.name,t)}function wH(t,e,n){const r=vH(n),i=Wi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,H_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,H_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/[\[\].#$\/\u0000-\u001F\u007F]/,xH=/[\[\].#$\u0000-\u001F\u007F]/,Lv=10*1024*1024,Nj=function(t){return typeof t=="string"&&t.length!==0&&!bH.test(t)},Rj=function(t){return typeof t=="string"&&t.length!==0&&!xH.test(t)},EH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Rj(t)},SH=function(t,e,n,r){r&&e===void 0||L1(gx(t,"value"),e,n)},L1=function(t,e,n){const r=n instanceof Ye?new UW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+os(r));if(typeof e=="function")throw new Error(t+"contains a function "+os(r)+" with contents = "+e.toString());if(RD(e))throw new Error(t+"contains "+e.toString()+" "+os(r));if(typeof e=="string"&&e.length>Lv/3&&fg(e)>Lv)throw new Error(t+"contains a string greater than "+Lv+" utf8 bytes "+os(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Fn(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Nj(s)))throw new Error(t+" contains an invalid key ("+s+") "+os(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BW(r,s),L1(t,a,r),zW(r)}),i&&o)throw new Error(t+' contains ".value" child '+os(r)+" in addition to actual children.")}},Mj=function(t,e,n,r){if(!(r&&n===void 0)&&!Rj(n))throw new Error(gx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},TH=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mj(t,e,n,r)},Dj=function(t,e){if(Ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},AH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Nj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!EH(n))throw new Error(gx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $1(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!g1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function jj(t,e,n){$1(t,n),Lj(t,r=>g1(r,e))}function $i(t,e,n){$1(t,n),Lj(t,r=>kr(r,e)||kr(e,r))}function Lj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(PH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function PH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ts&&pn("event: "+n.toString()),Jl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="repo_interrupt",OH=25;class kH{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lp(),this.transactionQueueTree_=new D1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NH(t,e,n){if(t.stats_=p1(t.repoInfo_),t.forceRestClient_||hW())t.server_=new jp(t.repoInfo_,(r,i,o,s)=>{QI(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>XI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Si(t.repoInfo_,e,(r,i,o,s)=>{QI(t,r,i,o,s)},r=>{XI(t,r)},r=>{MH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=yW(t.repoInfo_,()=>new mG(t.stats_,t.server_)),t.infoData_=new cG,t.infoSyncTree_=new qI({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Lg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),V1(t,"connected",!1),t.serverSyncTree_=new qI({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);$i(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function RH(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function F1(t){return pH({timestamp:RH(t)})}function QI(t,e,n,r,i){t.dataUpdateCount++;const o=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=gp(n,u=>Qt(u));s=uH(t.serverSyncTree_,o,l,i)}else{const l=Qt(n);s=lH(t.serverSyncTree_,o,l,i)}else if(r){const l=gp(n,u=>Qt(u));s=oH(t.serverSyncTree_,o,l)}else{const l=Qt(n);s=Lg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Vg(t,o)),$i(t.eventQueue_,a,s)}function XI(t,e){V1(t,"connected",e),e===!1&&jH(t)}function MH(t,e){Fn(e,(n,r)=>{V1(t,n,r)})}function V1(t,e,n){const r=new Ye("/.info/"+e),i=Qt(n);t.infoData_.updateSnapshot(r,i);const o=Lg(t.infoSyncTree_,r,i);$i(t.eventQueue_,r,o)}function $j(t){return t.nextWriteId_++}function DH(t,e,n,r,i){U1(t,"set",{path:e.toString(),value:n,priority:r});const o=F1(t),s=Qt(n,r),a=P1(t.serverSyncTree_,e),l=Pj(s,a,o),u=$j(t),f=Sj(t.serverSyncTree_,e,l,u,!0);$1(t.eventQueue_,f),t.server_.put(e.toString(),s.val(!0),(d,p)=>{const m=d==="ok";m||$n("set at "+e+" failed: "+d);const g=gs(t.serverSyncTree_,u,!m);$i(t.eventQueue_,e,g),FH(t,i,d,p)});const c=zj(t,e);Vg(t,c),$i(t.eventQueue_,c,[])}function jH(t){U1(t,"onDisconnectEvents");const e=F1(t),n=Lp();F_(t.onDisconnect_,Ue(),(i,o)=>{const s=yH(i,o,t.serverSyncTree_,e);cj(n,i,s)});let r=[];F_(n,Ue(),(i,o)=>{r=r.concat(Lg(t.serverSyncTree_,i,o));const s=zj(t,i);Vg(t,s)}),t.onDisconnect_=Lp(),$i(t.eventQueue_,Ue(),r)}function LH(t,e,n){let r;Ae(e._path)===".info"?r=KI(t.infoSyncTree_,e,n):r=KI(t.serverSyncTree_,e,n),jj(t.eventQueue_,e._path,r)}function JI(t,e,n){let r;Ae(e._path)===".info"?r=G_(t.infoSyncTree_,e,n):r=G_(t.serverSyncTree_,e,n),jj(t.eventQueue_,e._path,r)}function $H(t){t.persistentConnection_&&t.persistentConnection_.interrupt(CH)}function U1(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pn(n,...e)}function FH(t,e,n,r){e&&Jl(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Fj(t,e,n){return P1(t.serverSyncTree_,e,n)||ve.EMPTY_NODE}function B1(t,e=t.transactionQueueTree_){if(e||Ug(t,e),Zl(e)){const n=Uj(t,e);re(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&VH(t,uh(e),n)}else Oj(e)&&Fg(e,n=>{B1(t,n)})}function VH(t,e,n){const r=n.map(u=>u.currentWriteId),i=Fj(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const f=n[u];re(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=kn(e,f.path);o=o.updateChild(c,f.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{U1(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(gs(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Ug(t,j1(t.transactionQueueTree_,e)),B1(t,t.transactionQueueTree_),$i(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)Jl(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{$n("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Vg(t,e)}},s)}function Vg(t,e){const n=Vj(t,e),r=uh(n),i=Uj(t,n);return UH(t,i,r),r}function UH(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=kn(n,l.path);let f=!1,c;if(re(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat(gs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=OH)f=!0,c="maxretry",i=i.concat(gs(t.serverSyncTree_,l.currentWriteId,!0));else{const d=Fj(t,l.path,s);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){L1("transaction failed: Data returned ",p,l.path);let m=Qt(p);typeof p=="object"&&p!=null&&Wi(p,".priority")||(m=m.updatePriority(d.getPriority()));const v=l.currentWriteId,_=F1(t),w=Pj(m,d,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=$j(t),s.splice(s.indexOf(v),1),i=i.concat(Sj(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(gs(t.serverSyncTree_,v,!0))}else f=!0,c="nodata",i=i.concat(gs(t.serverSyncTree_,l.currentWriteId,!0))}$i(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(c==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(c),!1,null))))}Ug(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Jl(r[a]);B1(t,t.transactionQueueTree_)}function Vj(t,e){let n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Zl(r)===void 0;)r=j1(r,n),e=Ze(e),n=Ae(e);return r}function Uj(t,e){const n=[];return Bj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Bj(t,e,n){const r=Zl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Fg(e,i=>{Bj(t,i,n)})}function Ug(t,e){const n=Zl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Cj(e,n.length>0?n:void 0)}Fg(e,r=>{Ug(t,r)})}function zj(t,e){const n=uh(Vj(t,e)),r=j1(t.transactionQueueTree_,e);return _H(r,i=>{$v(t,i)}),$v(t,r),kj(r,i=>{$v(t,i)}),n}function $v(t,e){const n=Zl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(re(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(re(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(gs(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Cj(e,void 0):n.length=o+1,$i(t.eventQueue_,uh(e),i);for(let s=0;s<r.length;s++)Jl(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function zH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$n(`Invalid query segment '${n}' in query '${t}'`)}return e}const ZI=function(t,e){const n=WH(t),r=n.namespace;n.domain==="firebase.com"&&Li(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new GD(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},WH=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=BH(t.substring(f,c)));const d=zH(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+zt(this.snapshot.exportVal())}}class Gj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pe(this._path)?null:ej(this._path)}get ref(){return new Gi(this._repo,this._path)}get _queryIdentifier(){const e=jI(this._queryParams),n=h1(e);return n==="{}"?"default":n}get _queryObject(){return jI(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof z1))return!1;const n=this._repo===e._repo,r=g1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+VW(this._path)}}class Gi extends z1{constructor(e,n){super(e,n,new w1,!1)}get parent(){const e=nj(this._path);return e===null?null:new Gi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class af{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ye(e),r=Gp(this.ref,e);return new af(this._node.getChild(n),r,vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new af(i,Gp(this.ref,r),vt)))}hasChild(e){const n=new Ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W1(t,e){return t=_t(t),t._checkNotDeleted("ref"),e!==void 0?Gp(t._root,e):t._root}function Gp(t,e){return t=_t(t),Ae(t._path)===null?TH("child","path",e,!1):Mj("child","path",e,!1),new Gi(t._repo,Rt(t._path,e))}function HH(t){return Dj("remove",t._path),Hj(t,null)}function Hj(t,e){t=_t(t),Dj("set",t._path),SH("set",e,t._path,!1);const n=new cg;return DH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class G1{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Wj("value",this,new af(e.snapshotNode,new Gi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gj(this,e,n):null}matches(e){return e instanceof G1?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class H1{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gj(this,e,n):null}createEvent(e,n){re(e.childName!=null,"Child events should have a childName.");const r=Gp(new Gi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Wj(e.type,this,new af(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof H1?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qH(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(f,c)=>{JI(t._repo,t,a),l(f,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new GH(n,o||void 0),a=e==="value"?new G1(s):new H1(e,s);return LH(t._repo,t,a),()=>JI(t._repo,t,a)}function KH(t,e,n,r){return qH(t,"value",e,n,r)}QG(Gi);nH(Gi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="FIREBASE_DATABASE_EMULATOR_HOST",q_={};let QH=!1;function XH(t,e,n,r){t.repoInfo_=new GD(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function JH(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=ZI(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[YH]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=ZI(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const f=i&&l?new qa(qa.OWNER):new pW(t.name,t.options,e);AH("Invalid Firebase Database URL",s),Pe(s.path)||Li("Database URL must point to the root of a Firebase Database (not including a child path).");const c=e7(a,t,f,new dW(t.name,n));return new t7(c,t)}function ZH(t,e){const n=q_[e];(!n||n[t.key]!==t)&&Li(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$H(t),delete n[t.key]}function e7(t,e,n,r){let i=q_[e.name];i||(i={},q_[e.name]=i);let o=i[t.toURLString()];return o&&Li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new kH(t,QH,n,r),i[t.toURLString()]=o,o}class t7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gi(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Li("Cannot call "+e+" on a deleted database.")}}function n7(t=vx(),e){const n=dg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=x2("database");r&&r7(n,...r)}return n}function r7(t,e,n,r={}){t=_t(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Li("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qa(qa.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:T2(r.mockUserToken,t.app.options.projectId);o=new qa(s)}XH(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){J8(Qs),Ms(new Ro("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return JH(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Kr(_I,wI,t),Kr(_I,wI,"esm2017")}Si.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Si.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};i7();const o7={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},q1=k2(o7),mt=$9(q1),Fv=Q8(q1),s7=new fi,K1=n7(q1);function a7({teams:t=[],stats:e=[],onSubmit:n}){const[r,i]=j.useState({teamName:"",opponent:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[o,s]=j.useState(""),a=j.useMemo(()=>{const m=new Map;for(const g of t)g&&g.id&&!m.has(g.name.toLowerCase())&&m.set(g.name.toLowerCase(),g);return Array.from(m.values())},[t]),l=j.useMemo(()=>[...new Set(e.map(g=>g.opponent).filter(Boolean))],[e]);j.useEffect(()=>{a.length>0&&!r.teamName&&i(m=>({...m,teamName:a[0].name}))},[a,r.teamName]);const u=m=>{const g=m.target.value;i(v=>({...v,opponent:g}))},f=l.some(m=>m.toLowerCase()===r.opponent.toLowerCase()),c=l.find(m=>r.opponent.length>=2&&m.toLowerCase().includes(r.opponent.toLowerCase())&&m.toLowerCase()!==r.opponent.toLowerCase()),d=m=>{const{name:g,value:v}=m.target;i(_=>({..._,[g]:v}))},p=m=>{if(!r.teamName||!r.opponent){s("Please select a team and enter an opponent name.");return}s("");const g=new Date(`${r.date}T${r.time}`).toISOString();typeof n=="function"?n({...r,timestamp:g},m):s("Internal error: Game submit not available.")};return x.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"flex items-center justify-center mb-6",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-700 rounded-lg px-2 py-1 border border-gray-300 dark:border-gray-600",children:[x.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),x.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),x.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),x.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),x.jsx("input",{type:"date",name:"date",value:r.date,onChange:d,className:"bg-transparent text-gray-900 dark:text-white text-sm outline-none appearance-none w-24"})]}),x.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-700 rounded-lg px-2 py-1 border border-gray-300 dark:border-gray-600",children:[x.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polyline",{points:"12,6 12,12 16,14"})]}),x.jsx("input",{type:"time",name:"time",value:r.time,onChange:d,className:"bg-transparent text-gray-900 dark:text-white text-sm outline-none appearance-none w-24"})]})]})}),o&&x.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:o}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sahil's Team"}),x.jsxs("select",{name:"teamName",value:r.teamName,onChange:d,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[x.jsx("option",{value:"",disabled:!0,children:"Select Team"}),a.map(m=>x.jsx("option",{value:m.name,children:m.name},m.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),x.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:r.opponent,onChange:u,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r.opponent&&x.jsx("div",{className:"mt-2 text-sm",children:f?x.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):c?x.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",x.jsx("button",{type:"button",onClick:()=>i(m=>({...m,opponent:c})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:c}),"?"]}):x.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[x.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),x.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[x.jsx("button",{onClick:()=>p("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",children:"Start Live Game & Track Stats"}),x.jsx("button",{onClick:()=>p("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function qj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qj(t))&&(r&&(r+=" "),r+=e);return r}var l7=Array.isArray,Vn=l7,u7=typeof Lh=="object"&&Lh&&Lh.Object===Object&&Lh,Kj=u7,c7=Kj,f7=typeof self=="object"&&self&&self.Object===Object&&self,h7=c7||f7||Function("return this")(),ii=h7,d7=ii,p7=d7.Symbol,ch=p7,eP=ch,Yj=Object.prototype,m7=Yj.hasOwnProperty,g7=Yj.toString,Fu=eP?eP.toStringTag:void 0;function y7(t){var e=m7.call(t,Fu),n=t[Fu];try{t[Fu]=void 0;var r=!0}catch{}var i=g7.call(t);return r&&(e?t[Fu]=n:delete t[Fu]),i}var v7=y7,_7=Object.prototype,w7=_7.toString;function b7(t){return w7.call(t)}var x7=b7,tP=ch,E7=v7,S7=x7,T7="[object Null]",A7="[object Undefined]",nP=tP?tP.toStringTag:void 0;function I7(t){return t==null?t===void 0?A7:T7:nP&&nP in Object(t)?E7(t):S7(t)}var Hi=I7;function P7(t){return t!=null&&typeof t=="object"}var qi=P7,C7=Hi,O7=qi,k7="[object Symbol]";function N7(t){return typeof t=="symbol"||O7(t)&&C7(t)==k7}var eu=N7,R7=Vn,M7=eu,D7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j7=/^\w*$/;function L7(t,e){if(R7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||M7(t)?!0:j7.test(t)||!D7.test(t)||e!=null&&t in Object(e)}var Y1=L7;function $7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wo=$7;const tu=Qe(Wo);var F7=Hi,V7=Wo,U7="[object AsyncFunction]",B7="[object Function]",z7="[object GeneratorFunction]",W7="[object Proxy]";function G7(t){if(!V7(t))return!1;var e=F7(t);return e==B7||e==z7||e==U7||e==W7}var Q1=G7;const Se=Qe(Q1);var H7=ii,q7=H7["__core-js_shared__"],K7=q7,Vv=K7,rP=function(){var t=/[^.]+$/.exec(Vv&&Vv.keys&&Vv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Y7(t){return!!rP&&rP in t}var Q7=Y7,X7=Function.prototype,J7=X7.toString;function Z7(t){if(t!=null){try{return J7.call(t)}catch{}try{return t+""}catch{}}return""}var Qj=Z7,eq=Q1,tq=Q7,nq=Wo,rq=Qj,iq=/[\\^$.*+?()[\]{}|]/g,oq=/^\[object .+?Constructor\]$/,sq=Function.prototype,aq=Object.prototype,lq=sq.toString,uq=aq.hasOwnProperty,cq=RegExp("^"+lq.call(uq).replace(iq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fq(t){if(!nq(t)||tq(t))return!1;var e=eq(t)?cq:oq;return e.test(rq(t))}var hq=fq;function dq(t,e){return t==null?void 0:t[e]}var pq=dq,mq=hq,gq=pq;function yq(t,e){var n=gq(t,e);return mq(n)?n:void 0}var ea=yq,vq=ea,_q=vq(Object,"create"),Bg=_q,iP=Bg;function wq(){this.__data__=iP?iP(null):{},this.size=0}var bq=wq;function xq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Eq=xq,Sq=Bg,Tq="__lodash_hash_undefined__",Aq=Object.prototype,Iq=Aq.hasOwnProperty;function Pq(t){var e=this.__data__;if(Sq){var n=e[t];return n===Tq?void 0:n}return Iq.call(e,t)?e[t]:void 0}var Cq=Pq,Oq=Bg,kq=Object.prototype,Nq=kq.hasOwnProperty;function Rq(t){var e=this.__data__;return Oq?e[t]!==void 0:Nq.call(e,t)}var Mq=Rq,Dq=Bg,jq="__lodash_hash_undefined__";function Lq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dq&&e===void 0?jq:e,this}var $q=Lq,Fq=bq,Vq=Eq,Uq=Cq,Bq=Mq,zq=$q;function nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nu.prototype.clear=Fq;nu.prototype.delete=Vq;nu.prototype.get=Uq;nu.prototype.has=Bq;nu.prototype.set=zq;var Wq=nu;function Gq(){this.__data__=[],this.size=0}var Hq=Gq;function qq(t,e){return t===e||t!==t&&e!==e}var X1=qq,Kq=X1;function Yq(t,e){for(var n=t.length;n--;)if(Kq(t[n][0],e))return n;return-1}var zg=Yq,Qq=zg,Xq=Array.prototype,Jq=Xq.splice;function Zq(t){var e=this.__data__,n=Qq(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Jq.call(e,n,1),--this.size,!0}var eK=Zq,tK=zg;function nK(t){var e=this.__data__,n=tK(e,t);return n<0?void 0:e[n][1]}var rK=nK,iK=zg;function oK(t){return iK(this.__data__,t)>-1}var sK=oK,aK=zg;function lK(t,e){var n=this.__data__,r=aK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var uK=lK,cK=Hq,fK=eK,hK=rK,dK=sK,pK=uK;function ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ru.prototype.clear=cK;ru.prototype.delete=fK;ru.prototype.get=hK;ru.prototype.has=dK;ru.prototype.set=pK;var Wg=ru,mK=ea,gK=ii,yK=mK(gK,"Map"),J1=yK,oP=Wq,vK=Wg,_K=J1;function wK(){this.size=0,this.__data__={hash:new oP,map:new(_K||vK),string:new oP}}var bK=wK;function xK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var EK=xK,SK=EK;function TK(t,e){var n=t.__data__;return SK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Gg=TK,AK=Gg;function IK(t){var e=AK(this,t).delete(t);return this.size-=e?1:0,e}var PK=IK,CK=Gg;function OK(t){return CK(this,t).get(t)}var kK=OK,NK=Gg;function RK(t){return NK(this,t).has(t)}var MK=RK,DK=Gg;function jK(t,e){var n=DK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LK=jK,$K=bK,FK=PK,VK=kK,UK=MK,BK=LK;function iu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}iu.prototype.clear=$K;iu.prototype.delete=FK;iu.prototype.get=VK;iu.prototype.has=UK;iu.prototype.set=BK;var Z1=iu,Xj=Z1,zK="Expected a function";function eE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(eE.Cache||Xj),n}eE.Cache=Xj;var Jj=eE;const WK=Qe(Jj);var GK=Jj,HK=500;function qK(t){var e=GK(t,function(r){return n.size===HK&&n.clear(),r}),n=e.cache;return e}var KK=qK,YK=KK,QK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XK=/\\(\\)?/g,JK=YK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(QK,function(n,r,i,o){e.push(i?o.replace(XK,"$1"):r||n)}),e}),ZK=JK;function eY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tE=eY,sP=ch,tY=tE,nY=Vn,rY=eu,iY=1/0,aP=sP?sP.prototype:void 0,lP=aP?aP.toString:void 0;function Zj(t){if(typeof t=="string")return t;if(nY(t))return tY(t,Zj)+"";if(rY(t))return lP?lP.call(t):"";var e=t+"";return e=="0"&&1/t==-iY?"-0":e}var oY=Zj,sY=oY;function aY(t){return t==null?"":sY(t)}var eL=aY,lY=Vn,uY=Y1,cY=ZK,fY=eL;function hY(t,e){return lY(t)?t:uY(t,e)?[t]:cY(fY(t))}var tL=hY,dY=eu,pY=1/0;function mY(t){if(typeof t=="string"||dY(t))return t;var e=t+"";return e=="0"&&1/t==-pY?"-0":e}var Hg=mY,gY=tL,yY=Hg;function vY(t,e){e=gY(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[yY(e[n++])];return n&&n==r?t:void 0}var nE=vY,_Y=nE;function wY(t,e,n){var r=t==null?void 0:_Y(t,e);return r===void 0?n:r}var nL=wY;const fr=Qe(nL);function bY(t){return t==null}var xY=bY;const Ce=Qe(xY);var EY=Hi,SY=Vn,TY=qi,AY="[object String]";function IY(t){return typeof t=="string"||!SY(t)&&TY(t)&&EY(t)==AY}var PY=IY;const zs=Qe(PY);var rL={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=Symbol.for("react.element"),iE=Symbol.for("react.portal"),qg=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),Xg=Symbol.for("react.context"),CY=Symbol.for("react.server_context"),Jg=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),ny=Symbol.for("react.lazy"),OY=Symbol.for("react.offscreen"),iL;iL=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rE:switch(t=t.type,t){case qg:case Yg:case Kg:case Zg:case ey:return t;default:switch(t=t&&t.$$typeof,t){case CY:case Xg:case Jg:case ny:case ty:case Qg:return t;default:return e}}case iE:return e}}}Ge.ContextConsumer=Xg;Ge.ContextProvider=Qg;Ge.Element=rE;Ge.ForwardRef=Jg;Ge.Fragment=qg;Ge.Lazy=ny;Ge.Memo=ty;Ge.Portal=iE;Ge.Profiler=Yg;Ge.StrictMode=Kg;Ge.Suspense=Zg;Ge.SuspenseList=ey;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return gr(t)===Xg};Ge.isContextProvider=function(t){return gr(t)===Qg};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rE};Ge.isForwardRef=function(t){return gr(t)===Jg};Ge.isFragment=function(t){return gr(t)===qg};Ge.isLazy=function(t){return gr(t)===ny};Ge.isMemo=function(t){return gr(t)===ty};Ge.isPortal=function(t){return gr(t)===iE};Ge.isProfiler=function(t){return gr(t)===Yg};Ge.isStrictMode=function(t){return gr(t)===Kg};Ge.isSuspense=function(t){return gr(t)===Zg};Ge.isSuspenseList=function(t){return gr(t)===ey};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qg||t===Yg||t===Kg||t===Zg||t===ey||t===OY||typeof t=="object"&&t!==null&&(t.$$typeof===ny||t.$$typeof===ty||t.$$typeof===Qg||t.$$typeof===Xg||t.$$typeof===Jg||t.$$typeof===iL||t.getModuleId!==void 0)};Ge.typeOf=gr;rL.exports=Ge;var kY=rL.exports,NY=Hi,RY=qi,MY="[object Number]";function DY(t){return typeof t=="number"||RY(t)&&NY(t)==MY}var oL=DY;const jY=Qe(oL);var LY=oL;function $Y(t){return LY(t)&&t!=+t}var FY=$Y;const fh=Qe(FY);var Rr=function(e){return e===0?0:e>0?1:-1},ys=function(e){return zs(e)&&e.indexOf("%")===e.length-1},se=function(e){return jY(e)&&!fh(e)},VY=function(e){return Ce(e)},Dt=function(e){return se(e)||zs(e)},UY=0,hh=function(e){var n=++UY;return"".concat(e||"").concat(n)},Ws=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(e)&&!zs(e))return r;var o;if(ys(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return fh(o)&&(o=r),i&&o>n&&(o=n),o},co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},BY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Pr=function(e,n){return se(e)&&se(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var zY=function(e,n){return se(e)&&se(n)?e-n:zs(e)&&zs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function K_(t){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}var WY=["viewBox","children"],GY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uP=["points","pathLength"],Uv={svg:WY,polygon:uP,polyline:uP},oE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!tu(r))return null;var i={};return Object.keys(r).forEach(function(o){oE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},HY=function(e,n,r){return function(i){return e(n,r,i),null}},Kp=function(e,n,r){if(!tu(e)||K_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];oE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=HY(s,n,r))}),i},qY=["children"],KY=["children"];function cP(t,e){if(t==null)return{};var n=YY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y_(t){"@babel/helpers - typeof";return Y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(t)}var fP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hP=null,Bv=null,sE=function t(e){if(e===hP&&Array.isArray(Bv))return Bv;var n=[];return j.Children.forEach(e,function(r){Ce(r)||(kY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Bv=n,hP=e,n};function hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ti(i)}):r=[Ti(e)],sE(t).forEach(function(i){var o=fr(i,"type.displayName")||fr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Hn(t,e){var n=hr(t,e);return n&&n[0]}var dP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!se(r)||r<=0||!se(i)||i<=0)},QY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],XY=function(e){return e&&e.type&&zs(e.type)&&QY.indexOf(e.type)>=0},JY=function(e){return e&&Y_(e)==="object"&&"clipDot"in e},ZY=function(e,n,r,i){var o,s=(o=Uv==null?void 0:Uv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&s.includes(n)||GY.includes(n))||r&&oE.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!tu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;ZY((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Q_=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!pP(o,s))return!1}return!0},pP=function(e,n){if(Ce(e)&&Ce(n))return!0;if(!Ce(e)&&!Ce(n)){var r=e.props||{},i=r.children,o=cP(r,qY),s=n.props||{},a=s.children,l=cP(s,KY);return i&&a?Qa(o,l)&&Q_(i,a):!i&&!a?Qa(o,l):!1}return!1},mP=function(e,n){var r=[],i={};return sE(e).forEach(function(o,s){if(XY(o))r.push(o);else if(o){var a=Ti(o.type),l=n[a]||{},u=l.handler,f=l.once;if(u&&(!f||!i[a])){var c=u(o,a,s);r.push(c),i[a]=!0}}}),r},eQ=function(e){var n=e&&e.type;return n&&fP[n]?fP[n]:null},tQ=function(e,n){return sE(n).indexOf(e)},nQ=["children","width","height","viewBox","className","style","title","desc"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function rQ(t,e){if(t==null)return{};var n=iQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=rQ(t,nQ),f=i||{width:n,height:r,x:0,y:0},c=Le("recharts-surface",o);return D.createElement("svg",X_({},Re(u,!0,"svg"),{className:c,width:n,height:r,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),D.createElement("title",null,a),D.createElement("desc",null,l),e)}var oQ=["children","className"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function sQ(t,e){if(t==null)return{};var n=aQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=sQ(t,oQ),o=Le("recharts-layer",r);return D.createElement("g",Z_({className:o},Re(i,!0),{ref:e}),n)}),Ai=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function lQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var uQ=lQ,cQ=uQ;function fQ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cQ(t,e,n)}var hQ=fQ,dQ="\\ud800-\\udfff",pQ="\\u0300-\\u036f",mQ="\\ufe20-\\ufe2f",gQ="\\u20d0-\\u20ff",yQ=pQ+mQ+gQ,vQ="\\ufe0e\\ufe0f",_Q="\\u200d",wQ=RegExp("["+_Q+dQ+yQ+vQ+"]");function bQ(t){return wQ.test(t)}var sL=bQ;function xQ(t){return t.split("")}var EQ=xQ,aL="\\ud800-\\udfff",SQ="\\u0300-\\u036f",TQ="\\ufe20-\\ufe2f",AQ="\\u20d0-\\u20ff",IQ=SQ+TQ+AQ,PQ="\\ufe0e\\ufe0f",CQ="["+aL+"]",ew="["+IQ+"]",tw="\\ud83c[\\udffb-\\udfff]",OQ="(?:"+ew+"|"+tw+")",lL="[^"+aL+"]",uL="(?:\\ud83c[\\udde6-\\uddff]){2}",cL="[\\ud800-\\udbff][\\udc00-\\udfff]",kQ="\\u200d",fL=OQ+"?",hL="["+PQ+"]?",NQ="(?:"+kQ+"(?:"+[lL,uL,cL].join("|")+")"+hL+fL+")*",RQ=hL+fL+NQ,MQ="(?:"+[lL+ew+"?",ew,uL,cL,CQ].join("|")+")",DQ=RegExp(tw+"(?="+tw+")|"+MQ+RQ,"g");function jQ(t){return t.match(DQ)||[]}var LQ=jQ,$Q=EQ,FQ=sL,VQ=LQ;function UQ(t){return FQ(t)?VQ(t):$Q(t)}var BQ=UQ,zQ=hQ,WQ=sL,GQ=BQ,HQ=eL;function qQ(t){return function(e){e=HQ(e);var n=WQ(e)?GQ(e):void 0,r=n?n[0]:e.charAt(0),i=n?zQ(n,1).join(""):e.slice(1);return r[t]()+i}}var KQ=qQ,YQ=KQ,QQ=YQ("toUpperCase"),XQ=QQ;const ry=Qe(XQ);function Je(t){return function(){return t}}const dL=Math.cos,Yp=Math.sin,Vr=Math.sqrt,Qp=Math.PI,iy=2*Qp,nw=Math.PI,rw=2*nw,ss=1e-6,JQ=rw-ss;function pL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ZQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pL:ZQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,f=s-e,c=a-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ss)if(!(Math.abs(c*l-u*f)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,v=p*p+m*m,_=Math.sqrt(g),w=Math.sqrt(d),E=o*Math.tan((nw-Math.acos((g+d-v)/(2*_*w)))/2),C=E/w,T=E/_;Math.abs(C-1)>ss&&this._append`L${e+C*f},${n+C*c}`,this._append`A${o},${o},0,0,${+(c*p>f*m)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,f=n+l,c=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-f)>ss)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%rw+rw),d>JQ?this._append`A${r},${r},0,1,${c},${e-a},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>ss&&this._append`A${r},${r},0,${+(d>=nw)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new eX(e)}function lE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mL(t){this._context=t}mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function oy(t){return new mL(t)}function gL(t){return t[0]}function yL(t){return t[1]}function vL(t,e){var n=Je(!0),r=null,i=oy,o=null,s=aE(a);t=typeof t=="function"?t:t===void 0?gL:Je(t),e=typeof e=="function"?e:e===void 0?yL:Je(e);function a(l){var u,f=(l=lE(l)).length,c,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,u,l),+e(c,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Je(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ud(t,e,n){var r=null,i=Je(!0),o=null,s=oy,a=null,l=aE(u);t=typeof t=="function"?t:t===void 0?gL:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yL:Je(+n);function u(c){var d,p,m,g=(c=lE(c)).length,v,_=!1,w,E=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=c[d],d,c))===_)if(_=!_)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=d-1;m>=p;--m)a.point(E[m],C[m]);a.lineEnd(),a.areaEnd()}_&&(E[d]=+t(v,d,c),C[d]=+e(v,d,c),a.point(r?+r(v,d,c):E[d],n?+n(v,d,c):C[d]))}if(w)return a=null,w+""||null}function f(){return vL().defined(i).curve(s).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Je(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Je(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Je(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Je(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Je(!!c),u):i},u.curve=function(c){return arguments.length?(s=c,o!=null&&(a=s(o)),u):s},u.context=function(c){return arguments.length?(c==null?o=a=null:a=s(o=c),u):o},u}class _L{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tX(t){return new _L(t,!0)}function nX(t){return new _L(t,!1)}const uE={draw(t,e){const n=Vr(e/Qp);t.moveTo(n,0),t.arc(0,0,n,0,iy)}},rX={draw(t,e){const n=Vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wL=Vr(1/3),iX=wL*2,oX={draw(t,e){const n=Vr(e/iX),r=n*wL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sX={draw(t,e){const n=Vr(e),r=-n/2;t.rect(r,r,n,n)}},aX=.8908130915292852,bL=Yp(Qp/10)/Yp(7*Qp/10),lX=Yp(iy/10)*bL,uX=-dL(iy/10)*bL,cX={draw(t,e){const n=Vr(e*aX),r=lX*n,i=uX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=iy*o/5,a=dL(s),l=Yp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},zv=Vr(3),fX={draw(t,e){const n=-Vr(e/(zv*3));t.moveTo(0,n*2),t.lineTo(-zv*n,-n),t.lineTo(zv*n,-n),t.closePath()}},nr=-.5,rr=Vr(3)/2,iw=1/Vr(12),hX=(iw/2+1)*3,dX={draw(t,e){const n=Vr(e/hX),r=n/2,i=n*iw,o=r,s=n*iw+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(nr*r-rr*i,rr*r+nr*i),t.lineTo(nr*o-rr*s,rr*o+nr*s),t.lineTo(nr*a-rr*l,rr*a+nr*l),t.lineTo(nr*r+rr*i,nr*i-rr*r),t.lineTo(nr*o+rr*s,nr*s-rr*o),t.lineTo(nr*a+rr*l,nr*l-rr*a),t.closePath()}};function pX(t,e){let n=null,r=aE(i);t=typeof t=="function"?t:Je(t||uE),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Je(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Xp(){}function Jp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xL(t){this._context=t}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mX(t){return new xL(t)}function EL(t){this._context=t}EL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gX(t){return new EL(t)}function SL(t){this._context=t}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yX(t){return new SL(t)}function TL(t){this._context=t}TL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vX(t){return new TL(t)}function gP(t){return t<0?-1:1}function yP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(gP(o)+gP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function vP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wv(this,this._t0,vP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wv(this,vP(this,n=yP(this,t,e)),n);break;default:Wv(this,this._t0,n=yP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AL(t){this._context=new IL(t)}(AL.prototype=Object.create(Zp.prototype)).point=function(t,e){Zp.prototype.point.call(this,e,t)};function IL(t){this._context=t}IL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function _X(t){return new Zp(t)}function wX(t){return new AL(t)}function PL(t){this._context=t}PL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_P(t),i=_P(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _P(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function bX(t){return new PL(t)}function sy(t,e){this._context=t,this._t=e}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xX(t){return new sy(t,.5)}function EX(t){return new sy(t,0)}function SX(t){return new sy(t,1)}function _l(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ow(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TX(t,e){return t[e]}function AX(t){const e=[];return e.key=t,e}function IX(){var t=Je([]),e=ow,n=_l,r=TX;function i(o){var s=Array.from(t.apply(this,arguments),AX),a,l=s.length,u=-1,f;for(const c of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(c,s[a].key,u,o)]).data=c;for(a=0,f=lE(e(s));a<l;++a)s[f[a]].index=a;return n(s,f),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Je(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ow:typeof o=="function"?o:Je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??_l,i):n},i}function PX(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}_l(t,e)}}function CX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}_l(t,e)}}function OX(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var f=t[e[a]],c=f[r][1]||0,d=f[r-1][1]||0,p=(c-d)/2,m=0;m<a;++m){var g=t[e[m]],v=g[r][1]||0,_=g[r-1][1]||0;p+=v-_}l+=c,u+=p*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,_l(t,e)}}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}var kX=["type","size","sizeType"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){NX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NX(t,e,n){return e=RX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=MX(t,"string");return lf(e)=="symbol"?e:e+""}function MX(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t,e){if(t==null)return{};var n=jX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CL={symbolCircle:uE,symbolCross:rX,symbolDiamond:oX,symbolSquare:sX,symbolStar:cX,symbolTriangle:fX,symbolWye:dX},LX=Math.PI/180,$X=function(e){var n="symbol".concat(ry(e));return CL[n]||uE},FX=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*LX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VX=function(e,n){CL["symbol".concat(ry(e))]=n},cE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=DX(e,kX),u=bP(bP({},l),{},{type:r,size:o,sizeType:a}),f=function(){var v=$X(r),_=pX().type(v).size(FX(o,a,r));return _()},c=u.className,d=u.cx,p=u.cy,m=Re(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",sw({},m,{className:Le("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(p,")"),d:f()})):null};cE.registerSymbol=VX;function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function zX(t,e,n){return e&&EP(t.prototype,e),n&&EP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t,e,n){return e=em(e),GX(t,OL()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function GX(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(t)}function HX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function qX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function uf(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t){var e=KX(t,"string");return wl(e)=="symbol"?e:e+""}function KX(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ir=32,fE=function(t){function e(){return BX(this,e),WX(this,e,arguments)}return qX(e,t),zX(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ir/2,s=ir/6,a=ir/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ir,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ir,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=UX({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(cE,{fill:l,cx:o,cy:o,size:ir,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ir,height:ir},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,v=Le(uf(uf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Se(p.value)?null:p.value;Ai(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return D.createElement("li",aw({className:v,style:c,key:"legend-item-".concat(m)},Kp(r.props,p,m)),D.createElement(J_,{width:s,height:s,viewBox:f,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(_,p,m):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);uf(fE,"displayName","Legend");uf(fE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YX=Wg;function QX(){this.__data__=new YX,this.size=0}var XX=QX;function JX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZX=JX;function eJ(t){return this.__data__.get(t)}var tJ=eJ;function nJ(t){return this.__data__.has(t)}var rJ=nJ,iJ=Wg,oJ=J1,sJ=Z1,aJ=200;function lJ(t,e){var n=this.__data__;if(n instanceof iJ){var r=n.__data__;if(!oJ||r.length<aJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sJ(r)}return n.set(t,e),this.size=n.size,this}var uJ=lJ,cJ=Wg,fJ=XX,hJ=ZX,dJ=tJ,pJ=rJ,mJ=uJ;function ou(t){var e=this.__data__=new cJ(t);this.size=e.size}ou.prototype.clear=fJ;ou.prototype.delete=hJ;ou.prototype.get=dJ;ou.prototype.has=pJ;ou.prototype.set=mJ;var NL=ou,gJ="__lodash_hash_undefined__";function yJ(t){return this.__data__.set(t,gJ),this}var vJ=yJ;function _J(t){return this.__data__.has(t)}var wJ=_J,bJ=Z1,xJ=vJ,EJ=wJ;function tm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bJ;++e<n;)this.add(t[e])}tm.prototype.add=tm.prototype.push=xJ;tm.prototype.has=EJ;var RL=tm;function SJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ML=SJ;function TJ(t,e){return t.has(e)}var DL=TJ,AJ=RL,IJ=ML,PJ=DL,CJ=1,OJ=2;function kJ(t,e,n,r,i,o){var s=n&CJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var c=-1,d=!0,p=n&OJ?new AJ:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var m=t[c],g=e[c];if(r)var v=s?r(g,m,c,e,t,o):r(m,g,c,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!IJ(e,function(_,w){if(!PJ(p,w)&&(m===_||i(m,_,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var jL=kJ,NJ=ii,RJ=NJ.Uint8Array,MJ=RJ;function DJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jJ=DJ;function LJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var hE=LJ,SP=ch,TP=MJ,$J=X1,FJ=jL,VJ=jJ,UJ=hE,BJ=1,zJ=2,WJ="[object Boolean]",GJ="[object Date]",HJ="[object Error]",qJ="[object Map]",KJ="[object Number]",YJ="[object RegExp]",QJ="[object Set]",XJ="[object String]",JJ="[object Symbol]",ZJ="[object ArrayBuffer]",eZ="[object DataView]",AP=SP?SP.prototype:void 0,Gv=AP?AP.valueOf:void 0;function tZ(t,e,n,r,i,o,s){switch(n){case eZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZJ:return!(t.byteLength!=e.byteLength||!o(new TP(t),new TP(e)));case WJ:case GJ:case KJ:return $J(+t,+e);case HJ:return t.name==e.name&&t.message==e.message;case YJ:case XJ:return t==e+"";case qJ:var a=VJ;case QJ:var l=r&BJ;if(a||(a=UJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=zJ,s.set(t,e);var f=FJ(a(t),a(e),r,i,o,s);return s.delete(t),f;case JJ:if(Gv)return Gv.call(t)==Gv.call(e)}return!1}var nZ=tZ;function rZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var LL=rZ,iZ=LL,oZ=Vn;function sZ(t,e,n){var r=e(t);return oZ(t)?r:iZ(r,n(t))}var aZ=sZ;function lZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var uZ=lZ;function cZ(){return[]}var fZ=cZ,hZ=uZ,dZ=fZ,pZ=Object.prototype,mZ=pZ.propertyIsEnumerable,IP=Object.getOwnPropertySymbols,gZ=IP?function(t){return t==null?[]:(t=Object(t),hZ(IP(t),function(e){return mZ.call(t,e)}))}:dZ,yZ=gZ;function vZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _Z=vZ,wZ=Hi,bZ=qi,xZ="[object Arguments]";function EZ(t){return bZ(t)&&wZ(t)==xZ}var SZ=EZ,PP=SZ,TZ=qi,$L=Object.prototype,AZ=$L.hasOwnProperty,IZ=$L.propertyIsEnumerable,PZ=PP(function(){return arguments}())?PP:function(t){return TZ(t)&&AZ.call(t,"callee")&&!IZ.call(t,"callee")},dE=PZ,nm={exports:{}};function CZ(){return!1}var OZ=CZ;nm.exports;(function(t,e){var n=ii,r=OZ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(nm,nm.exports);var FL=nm.exports,kZ=9007199254740991,NZ=/^(?:0|[1-9]\d*)$/;function RZ(t,e){var n=typeof t;return e=e??kZ,!!e&&(n=="number"||n!="symbol"&&NZ.test(t))&&t>-1&&t%1==0&&t<e}var pE=RZ,MZ=9007199254740991;function DZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MZ}var mE=DZ,jZ=Hi,LZ=mE,$Z=qi,FZ="[object Arguments]",VZ="[object Array]",UZ="[object Boolean]",BZ="[object Date]",zZ="[object Error]",WZ="[object Function]",GZ="[object Map]",HZ="[object Number]",qZ="[object Object]",KZ="[object RegExp]",YZ="[object Set]",QZ="[object String]",XZ="[object WeakMap]",JZ="[object ArrayBuffer]",ZZ="[object DataView]",eee="[object Float32Array]",tee="[object Float64Array]",nee="[object Int8Array]",ree="[object Int16Array]",iee="[object Int32Array]",oee="[object Uint8Array]",see="[object Uint8ClampedArray]",aee="[object Uint16Array]",lee="[object Uint32Array]",rt={};rt[eee]=rt[tee]=rt[nee]=rt[ree]=rt[iee]=rt[oee]=rt[see]=rt[aee]=rt[lee]=!0;rt[FZ]=rt[VZ]=rt[JZ]=rt[UZ]=rt[ZZ]=rt[BZ]=rt[zZ]=rt[WZ]=rt[GZ]=rt[HZ]=rt[qZ]=rt[KZ]=rt[YZ]=rt[QZ]=rt[XZ]=!1;function uee(t){return $Z(t)&&LZ(t.length)&&!!rt[jZ(t)]}var cee=uee;function fee(t){return function(e){return t(e)}}var VL=fee,rm={exports:{}};rm.exports;(function(t,e){var n=Kj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(rm,rm.exports);var hee=rm.exports,dee=cee,pee=VL,CP=hee,OP=CP&&CP.isTypedArray,mee=OP?pee(OP):dee,UL=mee,gee=_Z,yee=dE,vee=Vn,_ee=FL,wee=pE,bee=UL,xee=Object.prototype,Eee=xee.hasOwnProperty;function See(t,e){var n=vee(t),r=!n&&yee(t),i=!n&&!r&&_ee(t),o=!n&&!r&&!i&&bee(t),s=n||r||i||o,a=s?gee(t.length,String):[],l=a.length;for(var u in t)(e||Eee.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wee(u,l)))&&a.push(u);return a}var Tee=See,Aee=Object.prototype;function Iee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Aee;return t===n}var Pee=Iee;function Cee(t,e){return function(n){return t(e(n))}}var BL=Cee,Oee=BL,kee=Oee(Object.keys,Object),Nee=kee,Ree=Pee,Mee=Nee,Dee=Object.prototype,jee=Dee.hasOwnProperty;function Lee(t){if(!Ree(t))return Mee(t);var e=[];for(var n in Object(t))jee.call(t,n)&&n!="constructor"&&e.push(n);return e}var $ee=Lee,Fee=Q1,Vee=mE;function Uee(t){return t!=null&&Vee(t.length)&&!Fee(t)}var dh=Uee,Bee=Tee,zee=$ee,Wee=dh;function Gee(t){return Wee(t)?Bee(t):zee(t)}var ay=Gee,Hee=aZ,qee=yZ,Kee=ay;function Yee(t){return Hee(t,Kee,qee)}var Qee=Yee,kP=Qee,Xee=1,Jee=Object.prototype,Zee=Jee.hasOwnProperty;function ete(t,e,n,r,i,o){var s=n&Xee,a=kP(t),l=a.length,u=kP(e),f=u.length;if(l!=f&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in e:Zee.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++c<l;){d=a[c];var _=t[d],w=e[d];if(r)var E=s?r(w,_,d,e,t,o):r(_,w,d,t,e,o);if(!(E===void 0?_===w||i(_,w,n,r,o):E)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var C=t.constructor,T=e.constructor;C!=T&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var tte=ete,nte=ea,rte=ii,ite=nte(rte,"DataView"),ote=ite,ste=ea,ate=ii,lte=ste(ate,"Promise"),ute=lte,cte=ea,fte=ii,hte=cte(fte,"Set"),zL=hte,dte=ea,pte=ii,mte=dte(pte,"WeakMap"),gte=mte,uw=ote,cw=J1,fw=ute,hw=zL,dw=gte,WL=Hi,su=Qj,NP="[object Map]",yte="[object Object]",RP="[object Promise]",MP="[object Set]",DP="[object WeakMap]",jP="[object DataView]",vte=su(uw),_te=su(cw),wte=su(fw),bte=su(hw),xte=su(dw),as=WL;(uw&&as(new uw(new ArrayBuffer(1)))!=jP||cw&&as(new cw)!=NP||fw&&as(fw.resolve())!=RP||hw&&as(new hw)!=MP||dw&&as(new dw)!=DP)&&(as=function(t){var e=WL(t),n=e==yte?t.constructor:void 0,r=n?su(n):"";if(r)switch(r){case vte:return jP;case _te:return NP;case wte:return RP;case bte:return MP;case xte:return DP}return e});var Ete=as,Hv=NL,Ste=jL,Tte=nZ,Ate=tte,LP=Ete,$P=Vn,FP=FL,Ite=UL,Pte=1,VP="[object Arguments]",UP="[object Array]",cd="[object Object]",Cte=Object.prototype,BP=Cte.hasOwnProperty;function Ote(t,e,n,r,i,o){var s=$P(t),a=$P(e),l=s?UP:LP(t),u=a?UP:LP(e);l=l==VP?cd:l,u=u==VP?cd:u;var f=l==cd,c=u==cd,d=l==u;if(d&&FP(t)){if(!FP(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Hv),s||Ite(t)?Ste(t,e,n,r,i,o):Tte(t,e,l,n,r,i,o);if(!(n&Pte)){var p=f&&BP.call(t,"__wrapped__"),m=c&&BP.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return o||(o=new Hv),i(g,v,n,r,o)}}return d?(o||(o=new Hv),Ate(t,e,n,r,i,o)):!1}var kte=Ote,Nte=kte,zP=qi;function GL(t,e,n,r,i){return t===e?!0:t==null||e==null||!zP(t)&&!zP(e)?t!==t&&e!==e:Nte(t,e,n,r,GL,i)}var gE=GL,Rte=NL,Mte=gE,Dte=1,jte=2;function Lte(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],f=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var c=new Rte;if(r)var d=r(u,f,l,t,e,c);if(!(d===void 0?Mte(f,u,Dte|jte,r,c):d))return!1}}return!0}var $te=Lte,Fte=Wo;function Vte(t){return t===t&&!Fte(t)}var HL=Vte,Ute=HL,Bte=ay;function zte(t){for(var e=Bte(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ute(i)]}return e}var Wte=zte;function Gte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var qL=Gte,Hte=$te,qte=Wte,Kte=qL;function Yte(t){var e=qte(t);return e.length==1&&e[0][2]?Kte(e[0][0],e[0][1]):function(n){return n===t||Hte(n,t,e)}}var Qte=Yte;function Xte(t,e){return t!=null&&e in Object(t)}var Jte=Xte,Zte=tL,ene=dE,tne=Vn,nne=pE,rne=mE,ine=Hg;function one(t,e,n){e=Zte(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=ine(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&rne(i)&&nne(s,i)&&(tne(t)||ene(t)))}var sne=one,ane=Jte,lne=sne;function une(t,e){return t!=null&&lne(t,e,ane)}var cne=une,fne=gE,hne=nL,dne=cne,pne=Y1,mne=HL,gne=qL,yne=Hg,vne=1,_ne=2;function wne(t,e){return pne(t)&&mne(e)?gne(yne(t),e):function(n){var r=hne(n,t);return r===void 0&&r===e?dne(n,t):fne(e,r,vne|_ne)}}var bne=wne;function xne(t){return t}var au=xne;function Ene(t){return function(e){return e==null?void 0:e[t]}}var Sne=Ene,Tne=nE;function Ane(t){return function(e){return Tne(e,t)}}var Ine=Ane,Pne=Sne,Cne=Ine,One=Y1,kne=Hg;function Nne(t){return One(t)?Pne(kne(t)):Cne(t)}var Rne=Nne,Mne=Qte,Dne=bne,jne=au,Lne=Vn,$ne=Rne;function Fne(t){return typeof t=="function"?t:t==null?jne:typeof t=="object"?Lne(t)?Dne(t[0],t[1]):Mne(t):$ne(t)}var Go=Fne;function Vne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var KL=Vne;function Une(t){return t!==t}var Bne=Une;function zne(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Wne=zne,Gne=KL,Hne=Bne,qne=Wne;function Kne(t,e,n){return e===e?qne(t,e,n):Gne(t,Hne,n)}var Yne=Kne,Qne=Yne;function Xne(t,e){var n=t==null?0:t.length;return!!n&&Qne(t,e,0)>-1}var Jne=Xne;function Zne(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ere=Zne;function tre(){}var nre=tre,qv=zL,rre=nre,ire=hE,ore=1/0,sre=qv&&1/ire(new qv([,-0]))[1]==ore?function(t){return new qv(t)}:rre,are=sre,lre=RL,ure=Jne,cre=ere,fre=DL,hre=are,dre=hE,pre=200;function mre(t,e,n){var r=-1,i=ure,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=cre;else if(o>=pre){var u=e?null:hre(t);if(u)return dre(u);s=!1,i=fre,l=new lre}else l=e?[]:a;e:for(;++r<o;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,s&&c===c){for(var d=l.length;d--;)if(l[d]===c)continue e;e&&l.push(c),a.push(f)}else i(l,c,n)||(l!==a&&l.push(c),a.push(f))}return a}var gre=mre,yre=Go,vre=gre;function _re(t,e){return t&&t.length?vre(t,yre(e)):[]}var wre=_re;const WP=Qe(wre);function YL(t,e,n){return e===!0?WP(t,n):Se(e)?WP(t,e):t}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}var bre=["ref"];function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XL(r.key),r)}}function Ere(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sre(t,e,n){return e=im(e),Tre(t,QL()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Tre(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Are(t)}function Are(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Ire(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function ly(t,e,n){return e=XL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XL(t){var e=Pre(t,"string");return bl(e)=="symbol"?e:e+""}function Pre(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cre(t,e){if(t==null)return{};var n=Ore(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kre(t){return t.value}function Nre(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Cre(e,bre);return D.createElement(fE,n)}var qP=1,As=function(t){function e(){var n;xre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sre(this,e,[].concat(i)),ly(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ire(e,t),Ere(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qP||Math.abs(i.height-this.lastBoundingBox.height)>qP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();c={left:((u||0)-p.width)/2}}else c=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();d={top:((f||0)-m.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},c),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=ai(ai({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(p){r.wrapperNode=p}},Nre(o,ai(ai({},this.props),{},{payload:YL(f,u,kre)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ai(ai({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&se(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);ly(As,"displayName","Legend");ly(As,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KP=ch,Rre=dE,Mre=Vn,YP=KP?KP.isConcatSpreadable:void 0;function Dre(t){return Mre(t)||Rre(t)||!!(YP&&t&&t[YP])}var jre=Dre,Lre=LL,$re=jre;function JL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=$re),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?JL(a,e-1,n,r,i):Lre(i,a):r||(i[i.length]=a)}return i}var ZL=JL;function Fre(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Vre=Fre,Ure=Vre,Bre=Ure(),zre=Bre,Wre=zre,Gre=ay;function Hre(t,e){return t&&Wre(t,e,Gre)}var e$=Hre,qre=dh;function Kre(t,e){return function(n,r){if(n==null)return n;if(!qre(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Yre=Kre,Qre=e$,Xre=Yre,Jre=Xre(Qre),yE=Jre,Zre=yE,eie=dh;function tie(t,e){var n=-1,r=eie(t)?Array(t.length):[];return Zre(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var t$=tie;function nie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var rie=nie,QP=eu;function iie(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=QP(t),s=e!==void 0,a=e===null,l=e===e,u=QP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var oie=iie,sie=oie;function aie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=sie(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var lie=aie,Kv=tE,uie=nE,cie=Go,fie=t$,hie=rie,die=VL,pie=lie,mie=au,gie=Vn;function yie(t,e,n){e.length?e=Kv(e,function(o){return gie(o)?function(s){return uie(s,o.length===1?o[0]:o)}:o}):e=[mie];var r=-1;e=Kv(e,die(cie));var i=fie(t,function(o,s,a){var l=Kv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return hie(i,function(o,s){return pie(o,s,n)})}var vie=yie;function _ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var wie=_ie,bie=wie,XP=Math.max;function xie(t,e,n){return e=XP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=XP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),bie(t,this,a)}}var Eie=xie;function Sie(t){return function(){return t}}var Tie=Sie,Aie=ea,Iie=function(){try{var t=Aie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),n$=Iie,Pie=Tie,JP=n$,Cie=au,Oie=JP?function(t,e){return JP(t,"toString",{configurable:!0,enumerable:!1,value:Pie(e),writable:!0})}:Cie,kie=Oie,Nie=800,Rie=16,Mie=Date.now;function Die(t){var e=0,n=0;return function(){var r=Mie(),i=Rie-(r-n);if(n=r,i>0){if(++e>=Nie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jie=Die,Lie=kie,$ie=jie,Fie=$ie(Lie),Vie=Fie,Uie=au,Bie=Eie,zie=Vie;function Wie(t,e){return zie(Bie(t,e,Uie),t+"")}var Gie=Wie,Hie=X1,qie=dh,Kie=pE,Yie=Wo;function Qie(t,e,n){if(!Yie(n))return!1;var r=typeof e;return(r=="number"?qie(n)&&Kie(e,n.length):r=="string"&&e in n)?Hie(n[e],t):!1}var uy=Qie,Xie=ZL,Jie=vie,Zie=Gie,ZP=uy,eoe=Zie(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZP(t,e[0],e[1])?e=[]:n>2&&ZP(e[0],e[1],e[2])&&(e=[e[0]]),Jie(t,Xie(e,1),[])}),toe=eoe;const vE=Qe(toe);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function noe(t,e){return soe(t)||ooe(t,e)||ioe(t,e)||roe()}function roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(t,e){if(t){if(typeof t=="string")return eC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(t,e)}}function eC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function soe(t){if(Array.isArray(t))return t}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return e=loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=uoe(t,"string");return cf(e)=="symbol"?e:e+""}function uoe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function coe(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var foe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,E=function(){if(f&&f.length){var M={padding:0,margin:0},N=(d?vE(f,d):f).map(function(V,W){if(V.type==="none")return null;var q=Yv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},a),K=V.formatter||c||coe,F=V.value,G=V.name,Y=F,ne=G;if(K&&Y!=null&&ne!=null){var B=K(F,G,V,W,f);if(Array.isArray(B)){var Q=noe(B,2);Y=Q[0],ne=Q[1]}else Y=B}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:q},Dt(ne)?D.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Dt(ne)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Y),D.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:M},N)}return null},C=Yv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Yv({margin:0},u),I=!Ce(g),b=I?g:"",S=Le("recharts-default-tooltip",p),P=Le("recharts-tooltip-label",m);I&&v&&f!==void 0&&f!==null&&(b=v(g,f));var O=w?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",mw({className:S,style:C},O),D.createElement("p",{className:P,style:T},D.isValidElement(b)?b:"".concat(b)),E())};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function fd(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=doe(t,"string");return ff(e)=="symbol"?e:e+""}function doe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vu="recharts-tooltip-wrapper",poe={visibility:"hidden"};function moe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Le(Vu,fd(fd(fd(fd({},"".concat(Vu,"-right"),se(n)&&e&&se(e.x)&&n>=e.x),"".concat(Vu,"-left"),se(n)&&e&&se(e.x)&&n<e.x),"".concat(Vu,"-bottom"),se(r)&&e&&se(e.y)&&r>=e.y),"".concat(Vu,"-top"),se(r)&&e&&se(e.y)&&r<e.y))}function nC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&se(o[r]))return o[r];var f=n[r]-a-i,c=n[r]+i;if(e[r])return s[r]?f:c;if(s[r]){var d=f,p=l[r];return d<p?Math.max(c,l[r]):Math.max(f,l[r])}var m=c+a,g=l[r]+u;return m>g?Math.max(f,l[r]):Math.max(c,l[r])}function goe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yoe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,f,c;return s.height>0&&s.width>0&&n?(f=nC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),c=nC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=goe({translateX:f,translateY:c,useTranslate3d:a})):u=poe,{cssProperties:u,cssClasses:moe({translateX:f,translateY:c,coordinate:n})}}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function _oe(t,e,n){return e&&oC(t.prototype,e),n&&oC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,n){return e=om(e),boe(t,r$()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function boe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(t)}function xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function yw(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=Soe(t,"string");return xl(e)=="symbol"?e:e+""}function Soe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sC=1,Toe=function(t){function e(){var n;voe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=woe(this,e,[].concat(i)),yw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Eoe(e,t),_oe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sC||Math.abs(r.height-this.state.lastBoundingBox.height)>sC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,E=yoe({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),C=E.cssClasses,T=E.cssProperties,I=iC(iC({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&c?"visible":"hidden",position:"absolute",top:0,left:0},w);return D.createElement("div",{tabIndex:-1,className:C,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}(j.PureComponent),Aoe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ii={isSsr:Aoe(),get:function(e){return Ii[e]},set:function(e,n){if(typeof e=="string")Ii[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ii[i]=e[i]})}}};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function Poe(t,e,n){return e&&uC(t.prototype,e),n&&uC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Coe(t,e,n){return e=sm(e),Ooe(t,o$()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function Ooe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(t)}function koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function Noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function _E(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=Roe(t,"string");return El(e)=="symbol"?e:e+""}function Roe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t){return t.dataKey}function Doe(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(foe,e)}var zr=function(t){function e(){return Ioe(this,e),Coe(this,e,arguments)}return Noe(e,t),Poe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,_=i.reverseDirection,w=i.useTranslate3d,E=i.viewBox,C=i.wrapperStyle,T=m??[];c&&T.length&&(T=YL(m.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),g,Moe));var I=T.length>0;return D.createElement(Toe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:f,hasPayload:I,offset:p,position:v,reverseDirection:_,useTranslate3d:w,viewBox:E,wrapperStyle:C},Doe(u,lC(lC({},this.props),{},{payload:T})))}}])}(j.PureComponent);_E(zr,"displayName","Tooltip");_E(zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var joe=ii,Loe=function(){return joe.Date.now()},$oe=Loe,Foe=/\s/;function Voe(t){for(var e=t.length;e--&&Foe.test(t.charAt(e)););return e}var Uoe=Voe,Boe=Uoe,zoe=/^\s+/;function Woe(t){return t&&t.slice(0,Boe(t)+1).replace(zoe,"")}var Goe=Woe,Hoe=Goe,cC=Wo,qoe=eu,fC=0/0,Koe=/^[-+]0x[0-9a-f]+$/i,Yoe=/^0b[01]+$/i,Qoe=/^0o[0-7]+$/i,Xoe=parseInt;function Joe(t){if(typeof t=="number")return t;if(qoe(t))return fC;if(cC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hoe(t);var n=Yoe.test(t);return n||Qoe.test(t)?Xoe(t.slice(2),n?2:8):Koe.test(t)?fC:+t}var a$=Joe,Zoe=Wo,Qv=$oe,hC=a$,ese="Expected a function",tse=Math.max,nse=Math.min;function rse(t,e,n){var r,i,o,s,a,l,u=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError(ese);e=hC(e)||0,Zoe(n)&&(f=!!n.leading,c="maxWait"in n,o=c?tse(hC(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(I){var b=r,S=i;return r=i=void 0,u=I,s=t.apply(S,b),s}function m(I){return u=I,a=setTimeout(_,e),f?p(I):s}function g(I){var b=I-l,S=I-u,P=e-b;return c?nse(P,o-S):P}function v(I){var b=I-l,S=I-u;return l===void 0||b>=e||b<0||c&&S>=o}function _(){var I=Qv();if(v(I))return w(I);a=setTimeout(_,g(I))}function w(I){return a=void 0,d&&r?p(I):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Qv())}function T(){var I=Qv(),b=v(I);if(r=arguments,i=this,l=I,b){if(a===void 0)return m(l);if(c)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return T.cancel=E,T.flush=C,T}var ise=rse,ose=ise,sse=Wo,ase="Expected a function";function lse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ase);return sse(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ose(t,e,{leading:r,maxWait:e,trailing:i})}var use=lse;const l$=Qe(use);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return hf(e)=="symbol"?e:e+""}function hse(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t,e){return yse(t)||gse(t,e)||mse(t,e)||pse()}function pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mse(t,e){if(t){if(typeof t=="string")return pC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function yse(t){if(Array.isArray(t))return t}var vse=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,_=t.className,w=t.onResize,E=t.style,C=E===void 0?{}:E,T=j.useRef(null),I=j.useRef();I.current=w,j.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var b=j.useState({containerWidth:i.width,containerHeight:i.height}),S=dse(b,2),P=S[0],O=S[1],k=j.useCallback(function(N,V){O(function(W){var q=Math.round(N),K=Math.round(V);return W.containerWidth===q&&W.containerHeight===K?W:{containerWidth:q,containerHeight:K}})},[]);j.useEffect(function(){var N=function(G){var Y,ne=G[0].contentRect,B=ne.width,Q=ne.height;k(B,Q),(Y=I.current)===null||Y===void 0||Y.call(I,B,Q)};g>0&&(N=l$(N,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(N),W=T.current.getBoundingClientRect(),q=W.width,K=W.height;return k(q,K),V.observe(T.current),function(){V.disconnect()}},[k,g]);var M=j.useMemo(function(){var N=P.containerWidth,V=P.containerHeight;if(N<0||V<0)return null;Ai(ys(s)||ys(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ai(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=ys(s)?N:s,q=ys(l)?V:l;n&&n>0&&(W?q=W/n:q&&(W=q*n),d&&q>d&&(q=d)),Ai(W>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,q,s,l,f,c,n);var K=!Array.isArray(p)&&Ti(p.type).endsWith("Chart");return D.Children.map(p,function(F){return D.isValidElement(F)?j.cloneElement(F,hd({width:W,height:q},K?{style:hd({height:"100%",width:"100%",maxHeight:q,maxWidth:W},F.props.style)}:{})):F})},[n,p,l,d,c,f,P,s]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Le("recharts-responsive-container",_),style:hd(hd({},C),{},{width:s,height:l,minWidth:f,minHeight:c,maxHeight:d}),ref:T},M)}),u$=function(e){return null};u$.displayName="Cell";function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){_se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=bse(t,"string");return df(e)=="symbol"?e:e+""}function bse(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha={widthCache:{},cacheCount:0},xse=2e3,Ese={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gC="recharts_measurement_span";function Sse(t){var e=_w({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ii.isSsr)return{width:0,height:0};var r=Sse(n),i=JSON.stringify({text:e,copyStyle:r});if(ha.widthCache[i])return ha.widthCache[i];try{var o=document.getElementById(gC);o||(o=document.createElement("span"),o.setAttribute("id",gC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=_w(_w({},Ese),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ha.widthCache[i]=l,++ha.cacheCount>xse&&(ha.cacheCount=0,ha.widthCache={}),l}catch{return{width:0,height:0}}},Tse=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function am(t,e){return Cse(t)||Pse(t,e)||Ise(t,e)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ise(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Cse(t){if(Array.isArray(t))return t}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nse(r.key),r)}}function kse(t,e,n){return e&&vC(t.prototype,e),n&&vC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nse(t){var e=Rse(t,"string");return pf(e)=="symbol"?e:e+""}function Rse(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jse=Object.keys(c$),Ra="NaN";function Lse(t,e){return t*c$[e]}var dd=function(){function t(e,n){Ose(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mse.test(n)&&(this.num=NaN,this.unit=""),jse.includes(n)&&(this.num=Lse(e,n),this.unit="px")}return kse(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Dse.exec(n))!==null&&r!==void 0?r:[],o=am(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function f$(t){if(t.includes(Ra))return Ra;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=_C.exec(e))!==null&&n!==void 0?n:[],i=am(r,4),o=i[1],s=i[2],a=i[3],l=dd.parse(o??""),u=dd.parse(a??""),f=s==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Ra;e=e.replace(_C,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,d=(c=wC.exec(e))!==null&&c!==void 0?c:[],p=am(d,4),m=p[1],g=p[2],v=p[3],_=dd.parse(m??""),w=dd.parse(v??""),E=g==="+"?_.add(w):_.subtract(w);if(E.isNaN())return Ra;e=e.replace(wC,E.toString())}return e}var bC=/\(([^()]*)\)/;function $se(t){for(var e=t;e.includes("(");){var n=bC.exec(e),r=am(n,2),i=r[1];e=e.replace(bC,f$(i))}return e}function Fse(t){var e=t.replace(/\s+/g,"");return e=$se(e),e=f$(e),e}function Vse(t){try{return Fse(t)}catch{return Ra}}function Xv(t){var e=Vse(t.slice(5,-1));return e===Ra?"":e}var Use=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bse=["dx","dy","angle","className","breakAll"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function xC(t,e){if(t==null)return{};var n=zse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EC(t,e){return qse(t)||Hse(t,e)||Gse(t,e)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(t,e){if(t){if(typeof t=="string")return SC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(t,e)}}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function qse(t){if(Array.isArray(t))return t}var h$=/[ \f\n\r\t\v\u2028\u2029]+/,d$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ce(n)||(r?o=n.toString().split(""):o=n.toString().split(h$));var s=o.map(function(l){return{word:l,width:xc(l,i).width}}),a=r?0:xc(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Kse=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,f=se(s),c=a,d=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(q,K){var F=K.word,G=K.width,Y=q[q.length-1];if(Y&&(i==null||o||Y.width+G+r<Number(i)))Y.words.push(F),Y.width+=G+r;else{var ne={words:[F],width:G};q.push(ne)}return q},[])},p=d(n),m=function(W){return W.reduce(function(q,K){return q.width>K.width?q:K})};if(!f)return p;for(var g="…",v=function(W){var q=c.slice(0,W),K=d$({breakAll:u,style:l,children:q+g}).wordsWithComputedWidth,F=d(K),G=F.length>s||m(F).width>Number(i);return[G,F]},_=0,w=c.length-1,E=0,C;_<=w&&E<=c.length-1;){var T=Math.floor((_+w)/2),I=T-1,b=v(I),S=EC(b,2),P=S[0],O=S[1],k=v(T),M=EC(k,1),N=M[0];if(!P&&!N&&(_=T+1),P&&N&&(w=T-1),!P&&N){C=O;break}E++}return C||p},TC=function(e){var n=Ce(e)?[]:e.toString().split(h$);return[{words:n}]},Yse=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Ii.isSsr){var l,u,f=d$({breakAll:s,children:i,style:o});if(f){var c=f.wordsWithComputedWidth,d=f.spaceWidth;l=c,u=d}else return TC(i);return Kse({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return TC(i)},AC="#808080",lm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,_=v===void 0?AC:v,w=xC(e,Use),E=j.useMemo(function(){return Yse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:c,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,c,w.style,w.width]),C=w.dx,T=w.dy,I=w.angle,b=w.className,S=w.breakAll,P=xC(w,Bse);if(!Dt(r)||!Dt(o))return null;var O=r+(se(C)?C:0),k=o+(se(T)?T:0),M;switch(g){case"start":M=Xv("calc(".concat(u,")"));break;case"middle":M=Xv("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=Xv("calc(".concat(E.length-1," * -").concat(a,")"));break}var N=[];if(c){var V=E[0].width,W=w.width;N.push("scale(".concat((se(W)?W/V:1)/V,")"))}return I&&N.push("rotate(".concat(I,", ").concat(O,", ").concat(k,")")),N.length&&(P.transform=N.join(" ")),D.createElement("text",ww({},Re(P,!0),{x:O,y:k,className:Le("recharts-text",b),textAnchor:p,fill:_.includes("url")?AC:_}),E.map(function(q,K){var F=q.words.join(S?"":" ");return D.createElement("tspan",{x:O,dy:K===0?M:a,key:"".concat(F,"-").concat(K)},F)}))};function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wE(t){let e,n,r;t.length!==2?(e=Co,n=(a,l)=>Co(t(a),l),r=(a,l)=>t(a)-l):(e=t===Co||t===Qse?t:Xse,n=t,r=t);function i(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(a[c],l)<0?u=c+1:f=c}while(u<f)}return u}function o(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(a[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function s(a,l,u=0,f=a.length){const c=i(a,l,u,f-1);return c>u&&r(a[c-1],l)>-r(a[c],l)?c-1:c}return{left:i,center:s,right:o}}function Xse(){return 0}function p$(t){return t===null?NaN:+t}function*Jse(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Zse=wE(Co),eae=Zse.right;wE(p$).center;const ph=eae;class IC extends Map{constructor(e,n=rae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PC(this,e))}has(e){return super.has(PC(this,e))}set(e,n){return super.set(tae(this,e),n)}delete(e){return super.delete(nae(this,e))}}function PC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iae(t=Co){if(t===Co)return m$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oae=Math.sqrt(50),sae=Math.sqrt(10),aae=Math.sqrt(2);function um(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=oae?10:o>=sae?5:o>=aae?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?um(t,e,n*2):[a,l,u]}function bw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?um(e,t,n):um(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function xw(t,e,n){return e=+e,t=+t,n=+n,um(t,e,n)[2]}function Ew(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xw(e,t,n):xw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function OC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function g$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?m$:iae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*c/l+d)),m=Math.min(r,Math.floor(e+(l-u)*c/l+d));g$(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(Uu(t,n,e),i(t[r],o)>0&&Uu(t,n,r);s<a;){for(Uu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Uu(t,n,a):(++a,Uu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Uu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lae(t,e,n){if(t=Float64Array.from(Jse(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OC(t);if(e>=1)return CC(t);var r,i=(r-1)*e,o=Math.floor(i),s=CC(g$(t,o).subarray(0,o+1)),a=OC(t.subarray(o+1));return s+(a-s)*(i-o)}}function uae(t,e,n=p$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function cae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ki(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sw=Symbol("implicit");function bE(){var t=new IC,e=[],n=[],r=Sw;function i(o){let s=t.get(o);if(s===void 0){if(r!==Sw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new IC;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bE(e,n).unknown(r)},yr.apply(i,arguments),i}function mf(){var t=bE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*f,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var v=cae(d).map(function(_){return m+o*_});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),c()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,c()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,c()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),c()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),c()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},t.copy=function(){return mf(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(f)},yr.apply(c(),arguments)}function y$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y$(e())},t}function Ec(){return y$(mf.apply(null,arguments).paddingInner(1))}function xE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mh(){}var gf=.7,cm=1/gf,Xa="\\s*([+-]?\\d+)\\s*",yf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fae=/^#([0-9a-f]{3,8})$/,hae=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),dae=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),pae=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${yf}\\)$`),mae=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${yf}\\)$`),gae=new RegExp(`^hsl\\(${yf},${Jr},${Jr}\\)$`),yae=new RegExp(`^hsla\\(${yf},${Jr},${Jr},${yf}\\)$`),kC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xE(mh,vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:NC,formatHex:NC,formatHex8:vae,formatHsl:_ae,formatRgb:RC,toString:RC});function NC(){return this.rgb().formatHex()}function vae(){return this.rgb().formatHex8()}function _ae(){return _$(this).formatHsl()}function RC(){return this.rgb().formatRgb()}function vf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MC(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hae.exec(t))?new Rn(e[1],e[2],e[3],1):(e=dae.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pae.exec(t))?pd(e[1],e[2],e[3],e[4]):(e=mae.exec(t))?pd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gae.exec(t))?LC(e[1],e[2]/100,e[3]/100,1):(e=yae.exec(t))?LC(e[1],e[2]/100,e[3]/100,e[4]):kC.hasOwnProperty(t)?MC(kC[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function MC(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function pd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function wae(t){return t instanceof mh||(t=vf(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function Tw(t,e,n,r){return arguments.length===1?wae(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xE(Rn,Tw,v$(mh,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gf:Math.pow(gf,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Is(this.r),Is(this.g),Is(this.b),fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DC,formatHex:DC,formatHex8:bae,formatRgb:jC,toString:jC}));function DC(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}`}function bae(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}${vs((isNaN(this.opacity)?1:this.opacity)*255)}`}function jC(){const t=fm(this.opacity);return`${t===1?"rgb(":"rgba("}${Is(this.r)}, ${Is(this.g)}, ${Is(this.b)}${t===1?")":`, ${t})`}`}function fm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Is(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vs(t){return t=Is(t),(t<16?"0":"")+t.toString(16)}function LC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Or(t,e,n,r)}function _$(t){if(t instanceof Or)return new Or(t.h,t.s,t.l,t.opacity);if(t instanceof mh||(t=vf(t)),!t)return new Or;if(t instanceof Or)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Or(s,a,l,t.opacity)}function xae(t,e,n,r){return arguments.length===1?_$(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xE(Or,xae,v$(mh,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Or(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gf:Math.pow(gf,t),new Or(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(Jv(t>=240?t-240:t+120,i,r),Jv(t,i,r),Jv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Or($C(this.h),md(this.s),md(this.l),fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fm(this.opacity);return`${t===1?"hsl(":"hsla("}${$C(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $C(t){return t=(t||0)%360,t<0?t+360:t}function md(t){return Math.max(0,Math.min(1,t||0))}function Jv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EE=t=>()=>t;function Eae(t,e){return function(n){return t+n*e}}function Sae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Tae(t){return(t=+t)==1?w$:function(e,n){return n-e?Sae(e,n,t):EE(isNaN(e)?n:e)}}function w$(t,e){var n=e-t;return n?Eae(t,n):EE(isNaN(t)?e:t)}const FC=function t(e){var n=Tae(e);function r(i,o){var s=n((i=Tw(i)).r,(o=Tw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=w$(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Aae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Iae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=lu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Cae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Oae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zv=new RegExp(Aw.source,"g");function kae(t){return function(){return t}}function Nae(t){return function(e){return t(e)+""}}function Rae(t,e){var n=Aw.lastIndex=Zv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Aw.exec(t))&&(i=Zv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:hm(r,i)})),n=Zv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Nae(l[0].x):kae(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)a[(c=l[f]).i]=c.x(u);return a.join("")})}function lu(t,e){var n=typeof e,r;return e==null||n==="boolean"?EE(e):(n==="number"?hm:n==="string"?(r=vf(e))?(e=r,FC):Rae:e instanceof vf?FC:e instanceof Date?Cae:Iae(e)?Aae:Array.isArray(e)?Pae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Oae:hm)(t,e)}function SE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mae(t,e){e===void 0&&(e=t,t=lu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Dae(t){return function(){return t}}function dm(t){return+t}var VC=[0,1];function En(t){return t}function Iw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dae(isNaN(e)?NaN:.5)}function jae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lae(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Iw(i,r),o=n(s,o)):(r=Iw(r,i),o=n(o,s)),function(a){return o(r(a))}}function $ae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Iw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=ph(t,a,1,r)-1;return o[l](i[l](a))}}function gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cy(){var t=VC,e=VC,n=lu,r,i,o,s=En,a,l,u;function f(){var d=Math.min(t.length,e.length);return s!==En&&(s=jae(t[0],t[d-1])),a=d>2?$ae:Lae,l=u=null,c}function c(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return c.invert=function(d){return s(i((u||(u=a(e,t.map(r),hm)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,dm),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=SE,f()},c.clamp=function(d){return arguments.length?(s=d?!0:En,f()):s!==En},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(o=d,c):o},function(d,p){return r=d,i=p,f()}}function TE(){return cy()(En,En)}function Fae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sl(t){return t=pm(Math.abs(t)),t?t[1]:NaN}function Vae(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Uae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _f(t){if(!(e=Bae.exec(t)))throw new Error("invalid format: "+t);var e;return new AE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_f.prototype=AE.prototype;function AE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var b$;function Wae(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(b$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pm(t,Math.max(0,e+o-1))[0]}function UC(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UC(t*100,e),r:UC,s:Wae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zC(t){return t}var WC=Array.prototype.map,GC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gae(t){var e=t.grouping===void 0||t.thousands===void 0?zC:Vae(WC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?zC:Uae(WC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=_f(c);var d=c.fill,p=c.align,m=c.sign,g=c.symbol,v=c.zero,_=c.width,w=c.comma,E=c.precision,C=c.trim,T=c.type;T==="n"?(w=!0,T="g"):BC[T]||(E===void 0&&(E=12),C=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var I=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",b=g==="$"?r:/[%p]/.test(T)?s:"",S=BC[T],P=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(k){var M=I,N=b,V,W,q;if(T==="c")N=S(k)+N,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:S(Math.abs(k),E),C&&(k=zae(k)),K&&+k==0&&m!=="+"&&(K=!1),M=(K?m==="("?m:a:m==="-"||m==="("?"":m)+M,N=(T==="s"?GC[8+b$/3]:"")+N+(K&&m==="("?")":""),P){for(V=-1,W=k.length;++V<W;)if(q=k.charCodeAt(V),48>q||q>57){N=(q===46?i+k.slice(V+1):k.slice(V))+N,k=k.slice(0,V);break}}}w&&!v&&(k=e(k,1/0));var F=M.length+k.length+N.length,G=F<_?new Array(_-F+1).join(d):"";switch(w&&v&&(k=e(G+k,G.length?_-N.length:1/0),G=""),p){case"<":k=M+k+N+G;break;case"=":k=M+G+k+N;break;case"^":k=G.slice(0,F=G.length>>1)+M+k+N+G.slice(F);break;default:k=G+M+k+N;break}return o(k)}return O.toString=function(){return c+""},O}function f(c,d){var p=u((c=_f(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(Sl(d)/3)))*3,g=Math.pow(10,-m),v=GC[8+m/3];return function(_){return p(g*_)+v}}return{format:u,formatPrefix:f}}var gd,IE,x$;Hae({thousands:",",grouping:[3],currency:["$",""]});function Hae(t){return gd=Gae(t),IE=gd.format,x$=gd.formatPrefix,gd}function qae(t){return Math.max(0,-Sl(Math.abs(t)))}function Kae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sl(e)/3)))*3-Sl(Math.abs(t)))}function Yae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sl(e)-Sl(t))+1}function E$(t,e,n,r){var i=Ew(t,e,n),o;switch(r=_f(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Kae(i,s))&&(r.precision=o),x$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Yae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qae(i))&&(r.precision=o-(r.type==="%")*2);break}}return IE(r)}function Ho(t){var e=t.domain;return t.ticks=function(n){var r=e();return bw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return E$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,f=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);f-- >0;){if(u=xw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function mm(){var t=TE();return t.copy=function(){return gh(t,mm())},yr.apply(t,arguments),Ho(t)}function S$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return S$(t).unknown(e)},t=arguments.length?Array.from(t,dm):[0,1],Ho(n)}function T$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function HC(t){return Math.log(t)}function qC(t){return Math.exp(t)}function Qae(t){return-Math.log(-t)}function Xae(t){return-Math.exp(-t)}function Jae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zae(t){return t===10?Jae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ele(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KC(t){return(e,n)=>-t(-e,n)}function PE(t){const e=t(HC,qC),n=e.domain;let r=10,i,o;function s(){return i=ele(r),o=Zae(r),n()[0]<0?(i=KC(i),o=KC(o),t(Qae,Xae)):t(HC,qC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let d=i(u),p=i(f),m,g;const v=a==null?10:+a;let _=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>f)break;_.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>f)break;_.push(g)}_.length*2<v&&(_=bw(u,f,v))}else _=bw(d,p,Math.min(p-d,v)).map(o);return c?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_f(l)).precision==null&&(l.trim=!0),l=IE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return f=>{let c=f/o(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(T$(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function A$(){const t=PE(cy()).domain([1,10]);return t.copy=()=>gh(t,A$()).base(t.base()),yr.apply(t,arguments),t}function YC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CE(t){var e=1,n=t(YC(e),QC(e));return n.constant=function(r){return arguments.length?t(YC(e=+r),QC(e)):e},Ho(n)}function I$(){var t=CE(cy());return t.copy=function(){return gh(t,I$()).constant(t.constant())},yr.apply(t,arguments)}function XC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nle(t){return t<0?-t*t:t*t}function OE(t){var e=t(En,En),n=1;function r(){return n===1?t(En,En):n===.5?t(tle,nle):t(XC(n),XC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ho(e)}function kE(){var t=OE(cy());return t.copy=function(){return gh(t,kE()).exponent(t.exponent())},yr.apply(t,arguments),t}function rle(){return kE.apply(null,arguments).exponent(.5)}function JC(t){return Math.sign(t)*t*t}function ile(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P$(){var t=TE(),e=[0,1],n=!1,r;function i(o){var s=ile(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(JC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,dm)).map(JC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return P$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yr.apply(i,arguments),Ho(i)}function C$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=uae(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[ph(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Co),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return C$().domain(t).range(e).unknown(r)},yr.apply(o,arguments)}function O$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[ph(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return O$().domain([t,e]).range(i).unknown(o)},yr.apply(Ho(s),arguments)}function k$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[ph(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return k$().domain(t).range(e).unknown(n)},yr.apply(i,arguments)}const e0=new Date,t0=new Date;function Lt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Lt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(e0.setTime(+o),t0.setTime(+s),t(e0),t(t0),Math.floor(n(e0,t0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const gm=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gm);gm.range;const _i=1e3,lr=_i*60,wi=lr*60,Fi=wi*24,NE=Fi*7,ZC=Fi*30,n0=Fi*365,_s=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());_s.range;const RE=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*lr)},(t,e)=>(e-t)/lr,t=>t.getMinutes());RE.range;const ME=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*lr)},(t,e)=>(e-t)/lr,t=>t.getUTCMinutes());ME.range;const DE=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*lr)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getHours());DE.range;const jE=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCHours());jE.range;const yh=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lr)/Fi,t=>t.getDate()-1);yh.range;const fy=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fi,t=>t.getUTCDate()-1);fy.range;const N$=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fi,t=>Math.floor(t/Fi));N$.range;function ta(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*lr)/NE)}const hy=ta(0),ym=ta(1),ole=ta(2),sle=ta(3),Tl=ta(4),ale=ta(5),lle=ta(6);hy.range;ym.range;ole.range;sle.range;Tl.range;ale.range;lle.range;function na(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NE)}const dy=na(0),vm=na(1),ule=na(2),cle=na(3),Al=na(4),fle=na(5),hle=na(6);dy.range;vm.range;ule.range;cle.range;Al.range;fle.range;hle.range;const LE=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LE.range;const $E=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$E.range;const Vi=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vi.range;const Ui=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ui.range;function R$(t,e,n,r,i,o){const s=[[_s,1,_i],[_s,5,5*_i],[_s,15,15*_i],[_s,30,30*_i],[o,1,lr],[o,5,5*lr],[o,15,15*lr],[o,30,30*lr],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[r,1,Fi],[r,2,2*Fi],[n,1,NE],[e,1,ZC],[e,3,3*ZC],[t,1,n0]];function a(u,f,c){const d=f<u;d&&([u,f]=[f,u]);const p=c&&typeof c.range=="function"?c:l(u,f,c),m=p?p.range(u,+f+1):[];return d?m.reverse():m}function l(u,f,c){const d=Math.abs(f-u)/c,p=wE(([,,v])=>v).right(s,d);if(p===s.length)return t.every(Ew(u/n0,f/n0,c));if(p===0)return gm.every(Math.max(Ew(u,f,c),1));const[m,g]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(g)}return[a,l]}const[dle,ple]=R$(Ui,$E,dy,N$,jE,ME),[mle,gle]=R$(Vi,LE,hy,yh,DE,RE);function r0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yle(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=zu(i),f=Wu(i),c=zu(o),d=Wu(o),p=zu(s),m=Wu(s),g=zu(a),v=Wu(a),_=zu(l),w=Wu(l),E={a:K,A:F,b:G,B:Y,c:null,d:oO,e:oO,f:Vle,g:Qle,G:Jle,H:Lle,I:$le,j:Fle,L:M$,m:Ule,M:Ble,p:ne,q:B,Q:lO,s:uO,S:zle,u:Wle,U:Gle,V:Hle,w:qle,W:Kle,x:null,X:null,y:Yle,Y:Xle,Z:Zle,"%":aO},C={a:Q,A:ce,b:he,B:pe,c:null,d:sO,e:sO,f:rue,g:due,G:mue,H:eue,I:tue,j:nue,L:j$,m:iue,M:oue,p:_e,q:Xe,Q:lO,s:uO,S:sue,u:aue,U:lue,V:uue,w:cue,W:fue,x:null,X:null,y:hue,Y:pue,Z:gue,"%":aO},T={a:O,A:k,b:M,B:N,c:V,d:rO,e:rO,f:Rle,g:nO,G:tO,H:iO,I:iO,j:Cle,L:Nle,m:Ple,M:Ole,p:P,q:Ile,Q:Dle,s:jle,S:kle,u:xle,U:Ele,V:Sle,w:ble,W:Tle,x:W,X:q,y:nO,Y:tO,Z:Ale,"%":Mle};E.x=I(n,E),E.X=I(r,E),E.c=I(e,E),C.x=I(n,C),C.X=I(r,C),C.c=I(e,C);function I(ae,X){return function(ie){var U=[],ge=-1,L=0,ee=ae.length,Te,Me,Et;for(ie instanceof Date||(ie=new Date(+ie));++ge<ee;)ae.charCodeAt(ge)===37&&(U.push(ae.slice(L,ge)),(Me=eO[Te=ae.charAt(++ge)])!=null?Te=ae.charAt(++ge):Me=Te==="e"?" ":"0",(Et=X[Te])&&(Te=Et(ie,Me)),U.push(Te),L=ge+1);return U.push(ae.slice(L,ge)),U.join("")}}function b(ae,X){return function(ie){var U=Bu(1900,void 0,1),ge=S(U,ae,ie+="",0),L,ee;if(ge!=ie.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(X&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(L=i0(Bu(U.y,0,1)),ee=L.getUTCDay(),L=ee>4||ee===0?vm.ceil(L):vm(L),L=fy.offset(L,(U.V-1)*7),U.y=L.getUTCFullYear(),U.m=L.getUTCMonth(),U.d=L.getUTCDate()+(U.w+6)%7):(L=r0(Bu(U.y,0,1)),ee=L.getDay(),L=ee>4||ee===0?ym.ceil(L):ym(L),L=yh.offset(L,(U.V-1)*7),U.y=L.getFullYear(),U.m=L.getMonth(),U.d=L.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ee="Z"in U?i0(Bu(U.y,0,1)).getUTCDay():r0(Bu(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ee+5)%7:U.w+U.U*7-(ee+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,i0(U)):r0(U)}}function S(ae,X,ie,U){for(var ge=0,L=X.length,ee=ie.length,Te,Me;ge<L;){if(U>=ee)return-1;if(Te=X.charCodeAt(ge++),Te===37){if(Te=X.charAt(ge++),Me=T[Te in eO?X.charAt(ge++):Te],!Me||(U=Me(ae,ie,U))<0)return-1}else if(Te!=ie.charCodeAt(U++))return-1}return U}function P(ae,X,ie){var U=u.exec(X.slice(ie));return U?(ae.p=f.get(U[0].toLowerCase()),ie+U[0].length):-1}function O(ae,X,ie){var U=p.exec(X.slice(ie));return U?(ae.w=m.get(U[0].toLowerCase()),ie+U[0].length):-1}function k(ae,X,ie){var U=c.exec(X.slice(ie));return U?(ae.w=d.get(U[0].toLowerCase()),ie+U[0].length):-1}function M(ae,X,ie){var U=_.exec(X.slice(ie));return U?(ae.m=w.get(U[0].toLowerCase()),ie+U[0].length):-1}function N(ae,X,ie){var U=g.exec(X.slice(ie));return U?(ae.m=v.get(U[0].toLowerCase()),ie+U[0].length):-1}function V(ae,X,ie){return S(ae,e,X,ie)}function W(ae,X,ie){return S(ae,n,X,ie)}function q(ae,X,ie){return S(ae,r,X,ie)}function K(ae){return s[ae.getDay()]}function F(ae){return o[ae.getDay()]}function G(ae){return l[ae.getMonth()]}function Y(ae){return a[ae.getMonth()]}function ne(ae){return i[+(ae.getHours()>=12)]}function B(ae){return 1+~~(ae.getMonth()/3)}function Q(ae){return s[ae.getUTCDay()]}function ce(ae){return o[ae.getUTCDay()]}function he(ae){return l[ae.getUTCMonth()]}function pe(ae){return a[ae.getUTCMonth()]}function _e(ae){return i[+(ae.getUTCHours()>=12)]}function Xe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var X=I(ae+="",E);return X.toString=function(){return ae},X},parse:function(ae){var X=b(ae+="",!1);return X.toString=function(){return ae},X},utcFormat:function(ae){var X=I(ae+="",C);return X.toString=function(){return ae},X},utcParse:function(ae){var X=b(ae+="",!0);return X.toString=function(){return ae},X}}}var eO={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,vle=/^%/,_le=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function wle(t){return t.replace(_le,"\\$&")}function zu(t){return new RegExp("^(?:"+t.map(wle).join("|")+")","i")}function Wu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ble(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xle(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ele(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Sle(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Tle(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tO(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ale(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ile(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ple(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cle(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ole(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kle(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nle(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Rle(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mle(t,e,n){var r=vle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dle(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jle(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oO(t,e){return Ve(t.getDate(),e,2)}function Lle(t,e){return Ve(t.getHours(),e,2)}function $le(t,e){return Ve(t.getHours()%12||12,e,2)}function Fle(t,e){return Ve(1+yh.count(Vi(t),t),e,3)}function M$(t,e){return Ve(t.getMilliseconds(),e,3)}function Vle(t,e){return M$(t,e)+"000"}function Ule(t,e){return Ve(t.getMonth()+1,e,2)}function Ble(t,e){return Ve(t.getMinutes(),e,2)}function zle(t,e){return Ve(t.getSeconds(),e,2)}function Wle(t){var e=t.getDay();return e===0?7:e}function Gle(t,e){return Ve(hy.count(Vi(t)-1,t),e,2)}function D$(t){var e=t.getDay();return e>=4||e===0?Tl(t):Tl.ceil(t)}function Hle(t,e){return t=D$(t),Ve(Tl.count(Vi(t),t)+(Vi(t).getDay()===4),e,2)}function qle(t){return t.getDay()}function Kle(t,e){return Ve(ym.count(Vi(t)-1,t),e,2)}function Yle(t,e){return Ve(t.getFullYear()%100,e,2)}function Qle(t,e){return t=D$(t),Ve(t.getFullYear()%100,e,2)}function Xle(t,e){return Ve(t.getFullYear()%1e4,e,4)}function Jle(t,e){var n=t.getDay();return t=n>=4||n===0?Tl(t):Tl.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function Zle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function sO(t,e){return Ve(t.getUTCDate(),e,2)}function eue(t,e){return Ve(t.getUTCHours(),e,2)}function tue(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function nue(t,e){return Ve(1+fy.count(Ui(t),t),e,3)}function j$(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function rue(t,e){return j$(t,e)+"000"}function iue(t,e){return Ve(t.getUTCMonth()+1,e,2)}function oue(t,e){return Ve(t.getUTCMinutes(),e,2)}function sue(t,e){return Ve(t.getUTCSeconds(),e,2)}function aue(t){var e=t.getUTCDay();return e===0?7:e}function lue(t,e){return Ve(dy.count(Ui(t)-1,t),e,2)}function L$(t){var e=t.getUTCDay();return e>=4||e===0?Al(t):Al.ceil(t)}function uue(t,e){return t=L$(t),Ve(Al.count(Ui(t),t)+(Ui(t).getUTCDay()===4),e,2)}function cue(t){return t.getUTCDay()}function fue(t,e){return Ve(vm.count(Ui(t)-1,t),e,2)}function hue(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function due(t,e){return t=L$(t),Ve(t.getUTCFullYear()%100,e,2)}function pue(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function mue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Al(t):Al.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function gue(){return"+0000"}function aO(){return"%"}function lO(t){return+t}function uO(t){return Math.floor(+t/1e3)}var da,$$,F$;yue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yue(t){return da=yle(t),$$=da.format,da.parse,F$=da.utcFormat,da.utcParse,da}function vue(t){return new Date(t)}function _ue(t){return t instanceof Date?+t:+new Date(+t)}function FE(t,e,n,r,i,o,s,a,l,u){var f=TE(),c=f.invert,d=f.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),w=u("%b %d"),E=u("%B"),C=u("%Y");function T(I){return(l(I)<I?p:a(I)<I?m:s(I)<I?g:o(I)<I?v:r(I)<I?i(I)<I?_:w:n(I)<I?E:C)(I)}return f.invert=function(I){return new Date(c(I))},f.domain=function(I){return arguments.length?d(Array.from(I,_ue)):d().map(vue)},f.ticks=function(I){var b=d();return t(b[0],b[b.length-1],I??10)},f.tickFormat=function(I,b){return b==null?T:u(b)},f.nice=function(I){var b=d();return(!I||typeof I.range!="function")&&(I=e(b[0],b[b.length-1],I??10)),I?d(T$(b,I)):f},f.copy=function(){return gh(f,FE(t,e,n,r,i,o,s,a,l,u))},f}function wue(){return yr.apply(FE(mle,gle,Vi,LE,hy,yh,DE,RE,_s,$$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bue(){return yr.apply(FE(dle,ple,Ui,$E,dy,fy,jE,ME,_s,F$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function py(){var t=0,e=1,n,r,i,o,s=En,a=!1,l;function u(c){return c==null||isNaN(c=+c)?l:s(i===0?.5:(c=(o(c)-n)*i,a?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(a=!!c,u):a},u.interpolator=function(c){return arguments.length?(s=c,u):s};function f(c){return function(d){var p,m;return arguments.length?([p,m]=d,s=c(p,m),u):[s(0),s(1)]}}return u.range=f(lu),u.rangeRound=f(SE),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return o=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V$(){var t=Ho(py()(En));return t.copy=function(){return qo(t,V$())},Ki.apply(t,arguments)}function U$(){var t=PE(py()).domain([1,10]);return t.copy=function(){return qo(t,U$()).base(t.base())},Ki.apply(t,arguments)}function B$(){var t=CE(py());return t.copy=function(){return qo(t,B$()).constant(t.constant())},Ki.apply(t,arguments)}function VE(){var t=OE(py());return t.copy=function(){return qo(t,VE()).exponent(t.exponent())},Ki.apply(t,arguments)}function xue(){return VE.apply(null,arguments).exponent(.5)}function z$(){var t=[],e=En;function n(r){if(r!=null&&!isNaN(r=+r))return e((ph(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lae(t,o/r))},n.copy=function(){return z$(e).domain(t)},Ki.apply(n,arguments)}function my(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=En,f,c=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+f(g))-o)*(r*g<r*o?a:l),u(c?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=f(t=+t),o=f(e=+e),s=f(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(c=!!g,p):c},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var _,w,E;return arguments.length?([_,w,E]=v,u=Mae(g,[_,w,E]),p):[u(0),u(.5),u(1)]}}return p.range=m(lu),p.rangeRound=m(SE),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return f=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function W$(){var t=Ho(my()(En));return t.copy=function(){return qo(t,W$())},Ki.apply(t,arguments)}function G$(){var t=PE(my()).domain([.1,1,10]);return t.copy=function(){return qo(t,G$()).base(t.base())},Ki.apply(t,arguments)}function H$(){var t=CE(my());return t.copy=function(){return qo(t,H$()).constant(t.constant())},Ki.apply(t,arguments)}function UE(){var t=OE(my());return t.copy=function(){return qo(t,UE()).exponent(t.exponent())},Ki.apply(t,arguments)}function Eue(){return UE.apply(null,arguments).exponent(.5)}const cO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mf,scaleDiverging:W$,scaleDivergingLog:G$,scaleDivergingPow:UE,scaleDivergingSqrt:Eue,scaleDivergingSymlog:H$,scaleIdentity:S$,scaleImplicit:Sw,scaleLinear:mm,scaleLog:A$,scaleOrdinal:bE,scalePoint:Ec,scalePow:kE,scaleQuantile:C$,scaleQuantize:O$,scaleRadial:P$,scaleSequential:V$,scaleSequentialLog:U$,scaleSequentialPow:VE,scaleSequentialQuantile:z$,scaleSequentialSqrt:xue,scaleSequentialSymlog:B$,scaleSqrt:rle,scaleSymlog:I$,scaleThreshold:k$,scaleTime:wue,scaleUtc:bue,tickFormat:E$},Symbol.toStringTag,{value:"Module"}));var Sue=eu;function Tue(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Sue(s):n(s,a)))var a=s,l=o}return l}var q$=Tue;function Aue(t,e){return t>e}var Iue=Aue,Pue=q$,Cue=Iue,Oue=au;function kue(t){return t&&t.length?Pue(t,Oue,Cue):void 0}var Nue=kue;const gy=Qe(Nue);function Rue(t,e){return t<e}var Mue=Rue,Due=q$,jue=Mue,Lue=au;function $ue(t){return t&&t.length?Due(t,Lue,jue):void 0}var Fue=$ue;const yy=Qe(Fue);var Vue=tE,Uue=Go,Bue=t$,zue=Vn;function Wue(t,e){var n=zue(t)?Vue:Bue;return n(t,Uue(e))}var Gue=Wue,Hue=ZL,que=Gue;function Kue(t,e){return Hue(que(t,e),1)}var Yue=Kue;const Que=Qe(Yue);var Xue=gE;function Jue(t,e){return Xue(t,e)}var Zue=Jue;const vy=Qe(Zue);var uu=1e9,ece={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zE,ct=!0,mr="[DecimalError] ",Ps=mr+"Invalid argument: ",BE=mr+"Exponent out of range: ",cu=Math.floor,ls=Math.pow,tce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Vt=1e7,ot=7,K$=9007199254740991,_m=cu(K$/ot),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return Pi(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return Ke(Pi(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return It(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(ct=!1,e=Pi(wf(n,o),wf(t,o),o),ct=!0,Ke(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X$(e,t):Y$(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(mr+"NaN");return n.s?(ct=!1,e=Pi(n,t,0,1).times(t),ct=!0,n.minus(e)):Ke(new r(n),i)};ue.naturalExponential=ue.exp=function(){return Q$(this)};ue.naturalLogarithm=ue.ln=function(){return wf(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y$(e,t):X$(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ps+t);if(e=It(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(mr+"NaN")}for(t=It(a),ct=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Pi(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ct=!0,Ke(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,s,a,l,u,f=this,c=f.constructor,d=f.d,p=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%Vt|0,e=a/Vt|0;o[i]=(o[i]+e)%Vt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ct?Ke(t,c.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ri(t,0,uu),e===void 0?e=r.rounding:ri(e,0,8),Ke(n,t+It(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gs(r,!0):(ri(t,0,uu),e===void 0?e=i.rounding:ri(e,0,8),r=Ke(new i(r),t+1,e),n=Gs(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Gs(i):(ri(t,0,uu),e===void 0?e=o.rounding:ri(e,0,8),r=Ke(new o(i),t+It(i)+1,e),n=Gs(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),It(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(mr+"Infinity");return a}if(a.eq(qn))return a;if(r=l.precision,t.eq(qn))return Ke(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=f<0?-f:f)<=K$){for(i=new l(qn),e=Math.ceil(r/ot+4),ct=!1;n%2&&(i=i.times(a),hO(i.d,e)),n=cu(n/2),n!==0;)a=a.times(a),hO(a.d,e);return ct=!0,t.s<0?new l(qn).div(i):Ke(i,r)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ct=!1,i=t.times(wf(a,r+u)),ct=!0,i=Q$(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=It(i),r=Gs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ri(t,1,uu),e===void 0?e=o.rounding:ri(e,0,8),i=Ke(new o(i),t,e),n=It(i),r=Gs(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ri(t,1,uu),e===void 0?e=r.rounding:ri(e,0,8)),Ke(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return Gs(t,e<=n.toExpNeg||e>=n.toExpPos)};function Y$(t,e){var n,r,i,o,s,a,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ct?Ke(e,c):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(c/ot),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Vt|0,l[o]%=Vt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ct?Ke(e,c):e}function ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ps+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=io(n)),o+=r;s=t[e],r=s+"",n=ot-r.length,n&&(o+=io(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Pi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Vt|0,s=o/Vt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Vt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,f,c,d,p,m,g,v,_,w,E,C,T,I,b,S,P=r.constructor,O=r.s==i.s?1:-1,k=r.d,M=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(mr+"Division by zero");for(l=r.e-i.e,b=M.length,T=k.length,p=new P(O),m=p.d=[],u=0;M[u]==(k[u]||0);)++u;if(M[u]>(k[u]||0)&&--l,o==null?w=o=P.precision:s?w=o+(It(r)-It(i))+1:w=o,w<0)return new P(0);if(w=w/ot+2|0,u=0,b==1)for(f=0,M=M[0],w++;(u<T||f)&&w--;u++)E=f*Vt+(k[u]||0),m[u]=E/M|0,f=E%M|0;else{for(f=Vt/(M[0]+1)|0,f>1&&(M=t(M,f),k=t(k,f),b=M.length,T=k.length),C=b,g=k.slice(0,b),v=g.length;v<b;)g[v++]=0;S=M.slice(),S.unshift(0),I=M[0],M[1]>=Vt/2&&++I;do f=0,a=e(M,g,b,v),a<0?(_=g[0],b!=v&&(_=_*Vt+(g[1]||0)),f=_/I|0,f>1?(f>=Vt&&(f=Vt-1),c=t(M,f),d=c.length,v=g.length,a=e(c,g,d,v),a==1&&(f--,n(c,b<d?S:M,d))):(f==0&&(a=f=1),c=M.slice()),d=c.length,d<v&&c.unshift(0),n(g,c,v),a==-1&&(v=g.length,a=e(M,g,b,v),a<1&&(f++,n(g,b<v?S:M,v))),v=g.length):a===0&&(f++,g=[0]),m[u++]=f,a&&g[0]?g[v++]=k[C]||0:(g=[k[C]],v=1);while((C++<T||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,Ke(p,s?o+It(p)+1:o)}}();function Q$(t,e){var n,r,i,o,s,a,l=0,u=0,f=t.constructor,c=f.precision;if(It(t)>16)throw Error(BE+It(t));if(!t.s)return new f(qn);for(e==null?(ct=!1,a=c):a=e,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new f(qn),f.precision=a;;){if(i=Ke(i.times(t),a),n=n.times(++l),s=o.plus(Pi(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=Ke(o.times(o),a);return f.precision=c,e==null?(ct=!0,Ke(o,c)):o}o=s}}function It(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function o0(t,e,n){if(e>t.LN10.sd())throw ct=!0,n&&(t.precision=n),Error(mr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function io(t){for(var e="";t--;)e+="0";return e}function wf(t,e){var n,r,i,o,s,a,l,u,f,c=1,d=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(mr+(p.s?"NaN":"-Infinity"));if(p.eq(qn))return new g(0);if(e==null?(ct=!1,u=v):u=e,p.eq(10))return e==null&&(ct=!0),o0(g,u);if(u+=d,g.precision=u,n=Gr(m),r=n.charAt(0),o=It(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Gr(p.d),r=n.charAt(0),c++;o=It(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=o0(g,u+2,v).times(o+""),p=wf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=v,e==null?(ct=!0,Ke(p,v)):p;for(a=s=p=Pi(p.minus(qn),p.plus(qn),u),f=Ke(p.times(p),u),i=3;;){if(s=Ke(s.times(f),u),l=a.plus(Pi(s,new g(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(o0(g,u+2,v).times(o+""))),a=Pi(a,new g(c),u),g.precision=v,e==null?(ct=!0,Ke(a,v)):a;a=l,i+=2}}function fO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cu(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ct&&(t.e>_m||t.e<-_m))throw Error(BE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,s,a,l,u,f,c=t.d;for(s=1,o=c[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=ot,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/ot),o=c.length,f>=o)return t;for(u=o=c[f],s=1;o>=10;o/=10)s++;r%=ot,i=r-ot+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||c[f+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(o=It(t),c.length=1,e=e-o-1,c[0]=ls(10,(ot-e%ot)%ot),t.e=cu(-e/ot)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,o=1,f--):(c.length=f+1,o=ls(10,ot-r),c[f]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(f==0){(c[0]+=o)==Vt&&(c[0]=1,++t.e);break}else{if(c[f]+=o,c[f]!=Vt)break;c[f--]=0,o=1}for(r=c.length;c[--r]===0;)c.pop();if(ct&&(t.e>_m||t.e<-_m))throw Error(BE+It(t));return t}function X$(t,e){var n,r,i,o,s,a,l,u,f,c,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ct?Ke(e,p):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(f=s<0,f?(n=l,s=-s,a=c.length):(n=c,r=u,a=l.length),i=Math.max(Math.ceil(p/ot),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=c.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}s=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),a=l.length,i=c.length-a;i>0;--i)l[a++]=0;for(i=c.length;i>s;){if(l[--i]<c[i]){for(o=i;o&&l[--o]===0;)l[o]=Vt-1;--l[o],l[i]+=Vt}l[i]-=c[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ct?Ke(e,p):e):new d(0)}function Gs(t,e,n){var r,i=It(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+io(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+io(-i-1)+o,n&&(r=n-s)>0&&(o+=io(r))):i>=s?(o+=io(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+io(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=io(r))),t.s<0?"-"+o:o}function hO(t,e){if(t.length>e)return t.length=e,!0}function J$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ps+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return fO(s,o.toString())}else if(typeof o!="string")throw Error(Ps+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,tce.test(o))fO(s,o);else throw Error(Ps+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=J$,i.config=i.set=nce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nce(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,n,r,i=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ps+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ps+n+": "+r);return this}var zE=J$(ece);qn=new zE(1);const He=zE;function rce(t){return ace(t)||sce(t)||oce(t)||ice()}function ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function sce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ace(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lce=function(e){return e},Z$={"@@functional/placeholder":!0},eF=function(e){return e===Z$},dO=function(e){return function n(){return arguments.length===0||arguments.length===1&&eF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},uce=function t(e,n){return e===1?n:dO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==Z$}).length;return s>=e?n.apply(void 0,i):t(e-s,dO(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=i.map(function(c){return eF(c)?l.shift():c});return n.apply(void 0,rce(f).concat(l))}))})},_y=function(e){return uce(e.length,e)},Cw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cce=_y(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),fce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lce;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Ow=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function hce(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function dce(t,e,n){for(var r=new He(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pce=_y(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mce=_y(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gce=_y(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wy={rangeStep:dce,getDigitCount:hce,interpolateNumber:pce,uninterpolateNumber:mce,uninterpolateTruncation:gce};function kw(t){return _ce(t)||vce(t)||nF(t)||yce()}function yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ce(t){if(Array.isArray(t))return Nw(t)}function bf(t,e){return xce(t)||bce(t,e)||nF(t,e)||wce()}function wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nF(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function xce(t){if(Array.isArray(t))return t}function rF(t){var e=bf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iF(t,e,n){if(t.lte(0))return new He(0);var r=wy.getDigitCount(t.toNumber()),i=new He(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new He(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new He(Math.ceil(l))}function Ece(t,e,n){var r=1,i=new He(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new He(10).pow(wy.getDigitCount(t)-1),i=new He(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):n||(i=new He(Math.floor(t)));var s=Math.floor((e-1)/2),a=fce(cce(function(l){return i.add(new He(l-s).mul(r)).toNumber()}),Cw);return a(0,e)}function oF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var o=iF(new He(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new He(0):(s=new He(t).add(e).div(2),s=s.sub(new He(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new He(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?oF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new He(a).mul(o)),tickMax:s.add(new He(l).mul(o))})}function Sce(t){var e=bf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=rF([n,r]),l=bf(a,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(kw(Cw(0,i-1).map(function(){return 1/0}))):[].concat(kw(Cw(0,i-1).map(function(){return-1/0})),[f]);return n>r?Ow(c):c}if(u===f)return Ece(u,i,o);var d=oF(u,f,s,o),p=d.step,m=d.tickMin,g=d.tickMax,v=wy.rangeStep(m,g.add(new He(.1).mul(p)),p);return n>r?Ow(v):v}function Tce(t,e){var n=bf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=rF([r,i]),a=bf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=iF(new He(u).sub(l).div(f-1),o,0),d=[].concat(kw(wy.rangeStep(new He(l),new He(u).sub(new He(.99).mul(c)),c)),[u]);return r>i?Ow(d):d}var Ace=tF(Sce),Ice=tF(Tce),Pce=!0,s0="Invariant failed";function Hs(t,e){if(!t){if(Pce)throw new Error(s0);var n=typeof e=="function"?e():e,r=n?"".concat(s0,": ").concat(n):s0;throw new Error(r)}}var Cce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function Oce(t,e){return Mce(t)||Rce(t,e)||Nce(t,e)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(t,e){if(t){if(typeof t=="string")return pO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Mce(t){if(Array.isArray(t))return t}function Dce(t,e){if(t==null)return{};var n=jce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lF(r.key),r)}}function $ce(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fce(t,e,n){return e=bm(e),Vce(t,sF()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(t)}function Uce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function aF(t,e,n){return e=lF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lF(t){var e=zce(t,"string");return Il(e)=="symbol"?e:e+""}function zce(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vh=function(t){function e(){return Lce(this,e),Fce(this,e,arguments)}return Bce(e,t),$ce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,d=Dce(r,Cce),p=Re(d,!1);this.props.direction==="x"&&f.type!=="number"&&Hs(!1);var m=l.map(function(g){var v=u(g,a),_=v.x,w=v.y,E=v.value,C=v.errorVal;if(!C)return null;var T=[],I,b;if(Array.isArray(C)){var S=Oce(C,2);I=S[0],b=S[1]}else I=b=C;if(o==="vertical"){var P=f.scale,O=w+i,k=O+s,M=O-s,N=P(E-I),V=P(E+b);T.push({x1:V,y1:k,x2:V,y2:M}),T.push({x1:N,y1:O,x2:V,y2:O}),T.push({x1:N,y1:k,x2:N,y2:M})}else if(o==="horizontal"){var W=c.scale,q=_+i,K=q-s,F=q+s,G=W(E-I),Y=W(E+b);T.push({x1:K,y1:Y,x2:F,y2:Y}),T.push({x1:q,y1:G,x2:q,y2:Y}),T.push({x1:K,y1:G,x2:F,y2:G})}return D.createElement(xt,wm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),T.map(function(ne){return D.createElement("line",wm({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return D.createElement(xt,{className:"recharts-errorBars"},m)}}])}(D.Component);aF(vh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aF(vh,"displayName","ErrorBar");function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return e=Gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Hce(t,"string");return xf(e)=="symbol"?e:e+""}function Hce(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Hn(n,As);if(!s)return null;var a=As.defaultProps,l=a!==void 0?es(es({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(f,c){var d=c.item,p=c.props,m=p.sectors||p.data||[];return f.concat(m.map(function(g){return{type:s.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(f){var c=f.item,d=c.type.defaultProps,p=d!==void 0?es(es({},d),c.props):{},m=p.dataKey,g=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:m,type:l.iconType||v||"square",color:WE(c),value:g||m,payload:p}}),es(es(es({},l),As.getWithHeight(s,i)),{},{payload:u,item:s})};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function yO(t){return Qce(t)||Yce(t)||Kce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qce(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ja(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Jce(t,"string");return Ef(e)=="symbol"?e:e+""}function Jce(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jn(t,e,n){return Ce(t)||Ce(e)?n:Dt(e)?fr(t,e,n):Se(e)?e(t):n}function Sc(t,e,n,r){var i=Que(t,function(a){return Jn(a,e)});if(n==="number"){var o=i.filter(function(a){return se(a)||parseFloat(a)});return o.length?[yy(o),gy(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ce(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var Zce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,c=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Rr(c-f)!==Rr(d-c)){var m=[];if(Rr(d-c)===Rr(l[1]-l[0])){p=d;var g=c+l[1]-l[0];m[0]=Math.min(g,(g+f)/2),m[1]=Math.max(g,(g+f)/2)}else{p=f;var v=d+l[1]-l[0];m[0]=Math.min(c,(v+c)/2),m[1]=Math.max(c,(v+c)/2)}var _=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var w=Math.min(f,d),E=Math.max(f,d);if(e>(w+c)/2&&e<=(E+c)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},WE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},efe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var f=o[a[l]].stackGroups,c=Object.keys(f),d=0,p=c.length;d<p;d++){var m=f[c[d]],g=m.items,v=m.cateAxisId,_=g.filter(function(b){return Ti(b.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,E=w!==void 0?yt(yt({},w),_[0].props):_[0].props,C=E.barSize,T=E[v];s[T]||(s[T]=[]);var I=Ce(C)?n:C;s[T].push({item:_[0],stackList:_.slice(1),barSize:Ce(I)?void 0:Ws(I,r,0)})}}return s},tfe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Ws(n,i,0,!0),f,c=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,m=s.reduce(function(C,T){return C+T.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};f=s.reduce(function(C,T){var I={item:T.item,position:{offset:v.offset+v.size+u,size:d?p:T.barSize}},b=[].concat(yO(C),[I]);return v=b[b.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){b.push({item:S,position:v})}),b},c)}else{var _=Ws(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var w=(i-2*_-(l-1)*u)/l;w>1&&(w>>=0);var E=a===+a?Math.min(w,a):w;f=s.reduce(function(C,T,I){var b=[].concat(yO(C),[{item:T.item,position:{offset:_+(w+u)*I+(w-E)/2,size:E}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){b.push({item:S,position:b[b.length-1].position})}),b},c)}return f},nfe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=uF({children:o,legendWidth:l});if(u){var f=i||{},c=f.width,d=f.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&se(e[p]))return yt(yt({},e),{},Ja({},p,e[p]+(c||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&se(e[m]))return yt(yt({},e),{},Ja({},m,e[m]+(d||0)))}return e},rfe=function(e,n,r){return Ce(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cF=function(e,n,r,i,o){var s=n.props.children,a=hr(s,vh).filter(function(u){return rfe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=Jn(f,r);if(Ce(c))return u;var d=Array.isArray(c)?[yy(c),gy(c)]:[c,c],p=l.reduce(function(m,g){var v=Jn(f,g,0),_=d[0]-Math.abs(Array.isArray(v)?v[0]:v),w=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ife=function(e,n,r,i,o){var s=n.map(function(a){return cF(e,a,r,o,i)}).filter(function(a){return!Ce(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},fF=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&cF(e,l,u,i)||Sc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)a[u[f]]||(a[u[f]]=!0,l.push(u[f]));return l},[])},hF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},dF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Rr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var d=o?o.indexOf(c):c;return{coordinate:i(d)+u,value:c,offset:u}});return f.filter(function(c){return!fh(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,d){return{coordinate:i(c)+u,value:c,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,d){return{coordinate:i(c)+u,value:o?o[c]:c,index:d,offset:u}})},a0=new WeakMap,yd=function(e,n){if(typeof n!="function")return e;a0.has(e)||a0.set(e,new WeakMap);var r=a0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ofe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:mf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:mm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ec(),realScaleType:"point"}:o==="category"?{scale:mf(),realScaleType:"band"}:{scale:mm(),realScaleType:"linear"};if(zs(i)){var l="scale".concat(ry(i));return{scale:(cO[l]||Ec)(),realScaleType:cO[l]?l:"point"}}return Se(i)?{scale:i}:{scale:Ec(),realScaleType:"point"}},_O=1e-4,sfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-_O,s=Math.max(i[0],i[1])+_O,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},afe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},lfe=function(e,n){if(!n||n.length!==2||!se(n[0])||!se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(o[0]=r),(!se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ufe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=fh(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},cfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=fh(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},ffe={sign:ufe,expand:PX,none:_l,silhouette:CX,wiggle:OX,positive:cfe},hfe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=ffe[r],s=IX().keys(i).value(function(a,l){return+Jn(a,l,0)}).order(ow).offset(o);return s(e)},dfe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(c,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},d.type.defaultProps),d.props):d.props,g=m.stackId,v=m.hide;if(v)return c;var _=m[r],w=c[_]||{hasStack:!1,stackGroups:{}};if(Dt(g)){var E=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(d),w.hasStack=!0,w.stackGroups[g]=E}else w.stackGroups[hh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return yt(yt({},c),{},Ja({},_,w))},l),f={};return Object.keys(u).reduce(function(c,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var _=p.stackGroups[v];return yt(yt({},g),{},Ja({},v,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:hfe(e,_.items,o)}))},m)}return yt(yt({},c),{},Ja({},d,p))},f)},pfe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Ace(u,o,a);return e.domain([yy(f),gy(f)]),{niceTicks:f}}if(o&&i==="number"){var c=e.domain(),d=Ice(c,o,a);return{niceTicks:d}}return null};function wO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ce(i[e.dataKey])){var a=Hp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Jn(i,Ce(s)?e.dataKey:s);return Ce(l)?null:e.scale(l)}var bO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Jn(s,n.dataKey,n.domain[a]);return Ce(l)?null:n.scale(l)-o/2+i},mfe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},gfe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},yfe=function(e){return e.reduce(function(n,r){return[yy(r.concat([n[0]]).filter(se)),gy(r.concat([n[1]]).filter(se))]},[1/0,-1/0])},pF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,f){var c=yfe(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dw=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xO.test(e[0])){var o=+xO.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EO.test(e[1])){var s=+EO.exec(e[1])[1];i[1]=n[1]+s}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vE(n,function(c){return c.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],f=o[a-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},SO=function(e,n,r){return!e||!e.length||vy(e,fr(r,"type.defaultProps.domain"))?n:e},mF=function(e,n){var r=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return yt(yt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:WE(e),value:Jn(n,i),type:l,payload:n,chartType:u,hide:f})};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t,e,n){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=wfe(t,"string");return Sf(e)=="symbol"?e:e+""}function wfe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Em=Math.PI/180,bfe=function(e){return e*180/Math.PI},Jt=function(e,n,r,i){return{x:e+Math.cos(-Em*i)*r,y:n+Math.sin(-Em*i)*r}},xfe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Efe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=xfe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:bfe(u),angleInRadian:u}},Sfe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Tfe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},IO=function(e,n){var r=e.x,i=e.y,o=Efe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var f=Sfe(n),c=f.startAngle,d=f.endAngle,p=a,m;if(c<=d){for(;p>d;)p-=360;for(;p<c;)p+=360;m=p>=c&&p<=d}else{for(;p>c;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=c}return m?AO(AO({},n),{},{radius:s,angle:Tfe(p,n)}):null};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var Afe=["offset"];function Ife(t){return kfe(t)||Ofe(t)||Cfe(t)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfe(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function Ofe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nfe(t,e){if(t==null)return{};var n=Rfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){Mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mfe(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=jfe(t,"string");return Tf(e)=="symbol"?e:e+""}function jfe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}var Lfe=function(e){var n=e.value,r=e.formatter,i=Ce(e.children)?n:e.children;return Se(r)?r(i):i},$fe=function(e,n){var r=Rr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ffe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,f=l.cy,c=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(c+d)/2,_=$fe(p,m),w=_>=0?1:-1,E,C;i==="insideStart"?(E=p+w*s,C=g):i==="insideEnd"?(E=m-w*s,C=!g):i==="end"&&(E=m+w*s,C=g),C=_<=0?C:!C;var T=Jt(u,f,v,E),I=Jt(u,f,v,E+(C?1:-1)*359),b="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Ce(e.id)?hh("recharts-radial-line-"):e.id;return D.createElement("text",Af({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",a)}),D.createElement("defs",null,D.createElement("path",{id:S,d:b})),D.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Vfe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,f=o.startAngle,c=o.endAngle,d=(f+c)/2;if(i==="outside"){var p=Jt(s,a,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,_=Jt(s,a,v,d),w=_.x,E=_.y;return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Ufe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,f=s.height,c=f>=0?1:-1,d=c*i,p=c>0?"end":"start",m=c>0?"start":"end",g=u>=0?1:-1,v=g*i,_=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:m};return Ot(Ot({},C),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(o==="left"){var T={x:a-v,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return Ot(Ot({},T),r?{width:Math.max(T.x-r.x,0),height:f}:{})}if(o==="right"){var I={x:a+u+v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return Ot(Ot({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:f}:{})}var b=r?{width:u,height:f}:{};return o==="insideLeft"?Ot({x:a+v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},b):o==="insideRight"?Ot({x:a+u-v,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},b):o==="insideTop"?Ot({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},b):o==="insideBottom"?Ot({x:a+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},b):o==="insideTopLeft"?Ot({x:a+v,y:l+d,textAnchor:w,verticalAnchor:m},b):o==="insideTopRight"?Ot({x:a+u-v,y:l+d,textAnchor:_,verticalAnchor:m},b):o==="insideBottomLeft"?Ot({x:a+v,y:l+f-d,textAnchor:w,verticalAnchor:p},b):o==="insideBottomRight"?Ot({x:a+u-v,y:l+f-d,textAnchor:_,verticalAnchor:p},b):tu(o)&&(se(o.x)||ys(o.x))&&(se(o.y)||ys(o.y))?Ot({x:a+Ws(o.x,u),y:l+Ws(o.y,f),textAnchor:"end",verticalAnchor:"end"},b):Ot({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},b)},Bfe=function(e){return"cx"in e&&se(e.cx)};function mn(t){var e=t.offset,n=e===void 0?5:e,r=Nfe(t,Afe),i=Ot({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,d=i.textBreakAll;if(!o||Ce(a)&&Ce(l)&&!j.isValidElement(u)&&!Se(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(Se(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=Lfe(i);var m=Bfe(o),g=Re(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ffe(i,p,g);var v=m?Vfe(i):Ufe(i);return D.createElement(lm,Af({className:Le("recharts-label",c)},g,v,{breakAll:d}),p)}mn.displayName="Label";var gF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,d=e.y,p=e.top,m=e.left,g=e.width,v=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(se(g)&&se(v)){if(se(c)&&se(d))return{x:c,y:d,width:g,height:v};if(se(p)&&se(m))return{x:p,y:m,width:g,height:v}}return se(c)&&se(d)?{x:c,y:d,width:0,height:0}:se(n)&&se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:f||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},zfe=function(e,n){return e?e===!0?D.createElement(mn,{key:"label-implicit",viewBox:n}):Dt(e)?D.createElement(mn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===mn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Se(e)?D.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):tu(e)?D.createElement(mn,Af({viewBox:n},e,{key:"label-implicit"})):null:null},Wfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=gF(e),s=hr(i,mn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=zfe(e.label,n||o);return[a].concat(Ife(s))};mn.parseViewBox=gF;mn.renderCallByParent=Wfe;function Gfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Hfe=Gfe;const qfe=Qe(Hfe);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}var Kfe=["valueAccessor"],Yfe=["data","dataKey","clockWise","id","textBreakAll"];function Qfe(t){return ehe(t)||Zfe(t)||Jfe(t)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function Zfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ehe(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return e=nhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return If(e)=="symbol"?e:e+""}function rhe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kO(t,e){if(t==null)return{};var n=ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ihe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ohe=function(e){return Array.isArray(e.value)?qfe(e.value):e.value};function Oo(t){var e=t.valueAccessor,n=e===void 0?ohe:e,r=kO(t,Kfe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=kO(r,Yfe);return!i||!i.length?null:D.createElement(xt,{className:"recharts-label-list"},i.map(function(f,c){var d=Ce(o)?n(f,c):Jn(f&&f.payload,o),p=Ce(a)?{}:{id:"".concat(a,"-").concat(c)};return D.createElement(mn,Sm({},Re(f,!0),u,p,{parentViewBox:f.parentViewBox,value:d,textBreakAll:l,viewBox:mn.parseViewBox(Ce(s)?f:OO(OO({},f),{},{clockWise:s})),key:"label-".concat(c),index:c}))}))}Oo.displayName="LabelList";function she(t,e){return t?t===!0?D.createElement(Oo,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Se(t)?D.createElement(Oo,{key:"labelList-implicit",data:e,content:t}):tu(t)?D.createElement(Oo,Sm({data:e},t,{key:"labelList-implicit"})):null:null}function ahe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hr(r,Oo).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=she(t.label,e);return[o].concat(Qfe(i))}Oo.renderCallByParent=ahe;function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return e=uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return Pf(e)=="symbol"?e:e+""}function che(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fhe=function(e,n){var r=Rr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},vd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(a?1:-1)+i,c=Math.asin(l/f)/Em,d=u?o:o+s*c,p=Jt(n,r,f,d),m=Jt(n,r,i,d),g=u?o-s*c:o,v=Jt(n,r,f*Math.cos(c*Em),g);return{center:p,circleTangency:m,lineTangency:v,theta:c}},yF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=fhe(s,a),u=s+l,f=Jt(n,r,o,s),c=Jt(n,r,o,u),d="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var p=Jt(n,r,i,s),m=Jt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},hhe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=Rr(f-u),d=vd({cx:n,cy:r,radius:o,angle:u,sign:c,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,v=vd({cx:n,cy:r,radius:o,angle:f,sign:-c,cornerRadius:s,cornerIsExternal:l}),_=v.circleTangency,w=v.lineTangency,E=v.theta,C=l?Math.abs(u-f):Math.abs(u-f)-g-E;if(C<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):yF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var I=vd({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),b=I.circleTangency,S=I.lineTangency,P=I.theta,O=vd({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=O.circleTangency,M=O.lineTangency,N=O.theta,V=l?Math.abs(u-f):Math.abs(u-f)-P-N;if(V<0&&s===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(c>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},dhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vF=function(e){var n=RO(RO({},dhe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,d=n.className;if(s<o||f===c)return null;var p=Le("recharts-sector",d),m=s-o,g=Ws(a,m,0,!0),v;return g>0&&Math.abs(f-c)<360?v=hhe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):v=yF({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:f,endAngle:c}),D.createElement("path",$w({},Re(n,!0),{className:p,d:v,role:"img"}))};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return e=mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=ghe(t,"string");return Cf(e)=="symbol"?e:e+""}function ghe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jO={curveBasisClosed:gX,curveBasisOpen:yX,curveBasis:mX,curveBumpX:tX,curveBumpY:nX,curveLinearClosed:vX,curveLinear:oy,curveMonotoneX:_X,curveMonotoneY:wX,curveNatural:bX,curveStep:xX,curveStepAfter:SX,curveStepBefore:EX},_d=function(e){return e.x===+e.x&&e.y===+e.y},Gu=function(e){return e.x},Hu=function(e){return e.y},yhe=function(e,n){if(Se(e))return e;var r="curve".concat(ry(e));return(r==="curveMonotone"||r==="curveBump")&&n?jO["".concat(r).concat(n==="vertical"?"Y":"X")]:jO[r]||oy},vhe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=yhe(r,a),c=u?o.filter(function(g){return _d(g)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(g){return _d(g)}):s,m=c.map(function(g,v){return DO(DO({},g),{},{base:p[v]})});return a==="vertical"?d=ud().y(Hu).x1(Gu).x0(function(g){return g.base.x}):d=ud().x(Gu).y1(Hu).y0(function(g){return g.base.y}),d.defined(_d).curve(f),d(m)}return a==="vertical"&&se(s)?d=ud().y(Hu).x1(Gu).x0(s):se(s)?d=ud().x(Gu).y1(Hu).y0(s):d=vL().x(Gu).y(Hu),d.defined(_d).curve(f),d(c)},Vw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?vhe(e):i;return j.createElement("path",Fw({},Re(e,!1),qp(e),{className:Le("recharts-curve",n),d:s,ref:o}))},_F={exports:{}},_he="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",whe=_he,bhe=whe;function wF(){}function bF(){}bF.resetWarningCache=wF;var xhe=function(){function t(r,i,o,s,a,l){if(l!==bhe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bF,resetWarningCache:wF};return n.PropTypes=n,n};_F.exports=xhe();var Ehe=_F.exports;const Be=Qe(Ehe);var She=Object.getOwnPropertyNames,The=Object.getOwnPropertySymbols,Ahe=Object.prototype.hasOwnProperty;function LO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function wd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function $O(t){return She(t).concat(The(t))}var Ihe=Object.hasOwn||function(t,e){return Ahe.call(t,e)};function ra(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Phe="__v",Che="__o",Ohe="_owner",FO=Object.getOwnPropertyDescriptor,VO=Object.keys;function khe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Nhe(t,e){return ra(t.getTime(),e.getTime())}function Rhe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Mhe(t,e){return t===e}function UO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),f=!1,c=0;(a=u.next())&&!a.done;){if(i[c]){c++;continue}var d=s.value,p=a.value;if(n.equals(d[0],p[0],l,c,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var Dhe=ra;function jhe(t,e,n){var r=VO(t),i=r.length;if(VO(e).length!==i)return!1;for(;i-- >0;)if(!xF(t,e,n,r[i]))return!1;return!0}function qu(t,e,n){var r=$O(t),i=r.length;if($O(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!xF(t,e,n,o)||(s=FO(t,o),a=FO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Lhe(t,e){return ra(t.valueOf(),e.valueOf())}function $he(t,e){return t.source===e.source&&t.flags===e.flags}function BO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Fhe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vhe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xF(t,e,n,r){return(r===Ohe||r===Che||r===Phe)&&(t.$$typeof||e.$$typeof)?!0:Ihe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Uhe="[object Arguments]",Bhe="[object Boolean]",zhe="[object Date]",Whe="[object Error]",Ghe="[object Map]",Hhe="[object Number]",qhe="[object Object]",Khe="[object RegExp]",Yhe="[object Set]",Qhe="[object String]",Xhe="[object URL]",Jhe=Array.isArray,zO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WO=Object.assign,Zhe=Object.prototype.toString.call.bind(Object.prototype.toString);function ede(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var _=typeof m;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?s(m,g,v):_==="function"?i(m,g,v):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(m,g,v);if(Jhe(m))return e(m,g,v);if(zO!=null&&zO(m))return c(m,g,v);if(w===Date)return n(m,g,v);if(w===RegExp)return u(m,g,v);if(w===Map)return o(m,g,v);if(w===Set)return f(m,g,v);var E=Zhe(m);return E===zhe?n(m,g,v):E===Khe?u(m,g,v):E===Ghe?o(m,g,v):E===Yhe?f(m,g,v):E===qhe?typeof m.then!="function"&&typeof g.then!="function"&&a(m,g,v):E===Xhe?d(m,g,v):E===Whe?r(m,g,v):E===Uhe?a(m,g,v):E===Bhe||E===Hhe||E===Qhe?l(m,g,v):!1}}function tde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?qu:khe,areDatesEqual:Nhe,areErrorsEqual:Rhe,areFunctionsEqual:Mhe,areMapsEqual:r?LO(UO,qu):UO,areNumbersEqual:Dhe,areObjectsEqual:r?qu:jhe,arePrimitiveWrappersEqual:Lhe,areRegExpsEqual:$he,areSetsEqual:r?LO(BO,qu):BO,areTypedArraysEqual:r?qu:Fhe,areUrlsEqual:Vhe};if(n&&(i=WO({},i,n(i))),e){var o=wd(i.areArraysEqual),s=wd(i.areMapsEqual),a=wd(i.areObjectsEqual),l=wd(i.areSetsEqual);i=WO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function nde(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function rde(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,d=c===void 0?e?new WeakMap:void 0:c,p=f.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var ide=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:function(){return ra}});Ko({strict:!0,createInternalComparator:function(){return ra}});Ko({circular:!0,createInternalComparator:function(){return ra}});Ko({circular:!0,createInternalComparator:function(){return ra},strict:!0});function Ko(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=tde(t),l=ede(a),u=r?r(l):nde(l);return rde({circular:n,comparator:l,createState:i,equals:u,strict:s})}function ode(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):ode(i)};requestAnimationFrame(r)}function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}function sde(t){return cde(t)||ude(t)||lde(t)||ade()}function ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ude(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cde(t){if(Array.isArray(t))return t}function fde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=sde(s),l=a[0],u=a.slice(1);if(typeof l=="number"){GO(i.bind(null,u),l);return}i(l),GO(i.bind(null,u));return}Uw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){EF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EF(t,e,n){return e=hde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=dde(t,"string");return Of(e)==="symbol"?e:String(e)}function dde(t,e){if(Of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},mde=function(e){return e},gde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Tc=function(e,n){return Object.keys(n).reduce(function(r,i){return KO(KO({},r),{},EF({},i,e(i,n[i])))},{})},YO=function(e,n,r){return e.map(function(i){return"".concat(gde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function yde(t,e){return wde(t)||_de(t,e)||SF(t,e)||vde()}function vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wde(t){if(Array.isArray(t))return t}function bde(t){return Sde(t)||Ede(t)||SF(t)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SF(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function Ede(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sde(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tm=1e-4,TF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},AF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},QO=function(e,n){return function(r){var i=TF(e,n);return AF(i,r)}},Tde=function(e,n){return function(r){var i=TF(e,n),o=[].concat(bde(i.map(function(s,a){return s*a}).slice(1)),[0]);return AF(o,r)}},XO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=yde(u,4);i=f[0],o=f[1],s=f[2],a=f[3]}}}var c=QO(i,s),d=QO(o,a),p=Tde(i,s),m=function(_){return _>1?1:_<0?0:_},g=function(_){for(var w=_>1?1:_,E=w,C=0;C<8;++C){var T=c(E)-w,I=p(E);if(Math.abs(T-w)<Tm||I<Tm)return d(E);E=m(E-T/I)}return d(E)};return g.isStepper=!1,g},Ade=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(f,c,d){var p=-(f-c)*r,m=d*o,g=d+(p-m)*a/1e3,v=d*a/1e3+f;return Math.abs(v-c)<Tm&&Math.abs(g)<Tm?[c,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},Ide=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XO(i);case"spring":return Ade();default:if(i.split("(")[0]==="cubic-bezier")return XO(i)}return typeof i=="function"?i:null};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function JO(t){return Ode(t)||Cde(t)||IF(t)||Pde()}function Pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ode(t){if(Array.isArray(t))return Ww(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e,n){return e=kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Nde(t,"string");return kf(e)==="symbol"?e:String(e)}function Nde(t,e){if(kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rde(t,e){return jde(t)||Dde(t,e)||IF(t,e)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IF(t,e){if(t){if(typeof t=="string")return Ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ww(t,e)}}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jde(t){if(Array.isArray(t))return t}var Am=function(e,n,r){return e+(n-e)*r},Gw=function(e){var n=e.from,r=e.to;return n!==r},Lde=function t(e,n,r){var i=Tc(function(o,s){if(Gw(s)){var a=e(s.from,s.to,s.velocity),l=Rde(a,2),u=l[0],f=l[1];return Kt(Kt({},s),{},{from:u,velocity:f})}return s},n);return r<1?Tc(function(o,s){return Gw(s)?Kt(Kt({},s),{},{velocity:Am(s.velocity,i[o].velocity,r),from:Am(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const $de=function(t,e,n,r,i){var o=pde(t,e),s=o.reduce(function(v,_){return Kt(Kt({},v),{},zw({},_,[t[_],e[_]]))},{}),a=o.reduce(function(v,_){return Kt(Kt({},v),{},zw({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,f,c=function(){return null},d=function(){return Tc(function(_,w){return w.from},a)},p=function(){return!Object.values(a).filter(Gw).length},m=function(_){u||(u=_);var w=_-u,E=w/n.dt;a=Lde(n,a,E),i(Kt(Kt(Kt({},t),e),d())),u=_,p()||(l=requestAnimationFrame(c))},g=function(_){f||(f=_);var w=(_-f)/r,E=Tc(function(T,I){return Am.apply(void 0,JO(I).concat([n(w)]))},s);if(i(Kt(Kt(Kt({},t),e),E)),w<1)l=requestAnimationFrame(c);else{var C=Tc(function(T,I){return Am.apply(void 0,JO(I).concat([n(1)]))},s);i(Kt(Kt(Kt({},t),e),C))}};return c=n.isStepper?m:g,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var Fde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vde(t,e){if(t==null)return{};var n=Ude(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ude(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l0(t){return Gde(t)||Wde(t)||zde(t)||Bde()}function Bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zde(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}}function Wde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return Hw(t)}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){rc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rc(t,e,n){return e=PF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function qde(t,e,n){return e&&tk(t.prototype,e),n&&tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PF(t){var e=Kde(t,"string");return Pl(e)==="symbol"?e:String(e)}function Kde(t,e){if(Pl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function Qde(t){var e=Xde();return function(){var r=Im(t),i;if(e){var o=Im(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Kw(this,i)}}function Kw(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yw(t)}function Yw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}var by=function(t){Yde(n,t);var e=Qde(n);function n(r,i){var o;Hde(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,f=s.to,c=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Yw(o)),o.changeStyle=o.changeStyle.bind(Yw(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:f}),Kw(o);if(c&&c.length)o.state={style:c[0].style};else if(u){if(typeof d=="function")return o.state={style:u},Kw(o);o.state={style:l?rc({},l,u):u}}else o.state={style:{}};return o}return qde(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,f=o.to,c=o.from,d=this.state.style;if(a){if(!s){var p={style:l?rc({},l,f):f};this.state&&d&&(l&&d[l]!==f||!l&&d!==f)&&this.setState(p);return}if(!(ide(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?c:i.to;if(this.state&&d){var v={style:l?rc({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(v)}this.runAnimation(xr(xr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,d=i.onAnimationStart,p=$de(s,a,Ide(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,f,m,l,c])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],f=u.style,c=u.duration,d=c===void 0?0:c,p=function(g,v,_){if(_===0)return g;var w=v.duration,E=v.easing,C=E===void 0?"ease":E,T=v.style,I=v.properties,b=v.onAnimationEnd,S=_>0?s[_-1]:v,P=I||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(l0(g),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:w,easing:C}),w]);var O=YO(P,w,C),k=xr(xr(xr({},S.style),T),{},{transition:O});return[].concat(l0(g),[k,w,b]).filter(mde)};return this.manager.start([l].concat(l0(s.reduce(p,[f,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fde());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=a?rc({},a,l):l,v=YO(Object.keys(g),s,u);m.start([f,o,xr(xr({},g),{},{transition:v}),s,c])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Vde(i,Fde),u=j.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!a||u===0||s<=0)return o;var c=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,_=m.className,w=j.cloneElement(p,xr(xr({},l),{},{style:xr(xr({},v),f),className:_}));return w};return u===1?c(j.Children.only(o)):D.createElement("div",null,j.Children.map(o,function(d){return c(d)}))}}]),n}(j.PureComponent);by.displayName="Animate";by.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};by.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};const Cl=by;function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function Jde(t,e){return npe(t)||tpe(t,e)||epe(t,e)||Zde()}function Zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function npe(t){if(Array.isArray(t))return t}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return e=ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=ope(t,"string");return Nf(e)=="symbol"?e:e+""}function ope(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ok=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(s>0&&o instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=o[d]>s?s:o[d];f="M".concat(e,",").concat(n+a*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*c[1])),f+="L ".concat(e+r,",").concat(n+i-a*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*c[3])),f+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);f="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*m," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},spe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),f=Math.max(o,o+a),c=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=f&&i>=c&&i<=d}return!1},ape={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GE=function(e){var n=ik(ik({},ape),e),r=j.useRef(),i=j.useState(-1),o=Jde(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var E=Le("recharts-rectangle",p);return w?D.createElement(Cl,{canBegin:s>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(C){var T=C.width,I=C.height,b=C.x,S=C.y;return D.createElement(Cl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:_,easing:m},D.createElement("path",Pm({},Re(n,!0),{className:E,d:ok(b,S,T,I,d),ref:r})))}):D.createElement("path",Pm({},Re(n,!0),{className:E,d:ok(l,u,f,c,d)}))};function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}var HE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Le("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",Qw({},Re(e,!1),qp(e),{className:s,cx:n,cy:r,r:i})):null};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var lpe=["x","y","top","left","width","height","className"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function upe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cpe(t,e,n){return e=fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=hpe(t,"string");return Rf(e)=="symbol"?e:e+""}function hpe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dpe(t,e){if(t==null)return{};var n=ppe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ppe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mpe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},gpe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,d=e.height,p=d===void 0?0:d,m=e.className,g=dpe(e,lpe),v=upe({x:r,y:o,top:a,left:u,width:c,height:p},g);return!se(r)||!se(o)||!se(c)||!se(p)||!se(a)||!se(u)?null:D.createElement("path",Xw({},Re(v,!0),{className:Le("recharts-cross",m),d:mpe(r,o,c,p,a,u)}))},ype=BL,vpe=ype(Object.getPrototypeOf,Object),_pe=vpe,wpe=Hi,bpe=_pe,xpe=qi,Epe="[object Object]",Spe=Function.prototype,Tpe=Object.prototype,CF=Spe.toString,Ape=Tpe.hasOwnProperty,Ipe=CF.call(Object);function Ppe(t){if(!xpe(t)||wpe(t)!=Epe)return!1;var e=bpe(t);if(e===null)return!0;var n=Ape.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CF.call(n)==Ipe}var Cpe=Ppe;const Ope=Qe(Cpe);var kpe=Hi,Npe=qi,Rpe="[object Boolean]";function Mpe(t){return t===!0||t===!1||Npe(t)&&kpe(t)==Rpe}var Dpe=Mpe;const jpe=Qe(Dpe);function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function Lpe(t,e){return Upe(t)||Vpe(t,e)||Fpe(t,e)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ak(t,e)}}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Upe(t){if(Array.isArray(t))return t}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e,n){return e=zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zpe(t){var e=Wpe(t,"string");return Mf(e)=="symbol"?e:e+""}function Wpe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Gpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hpe=function(e){var n=uk(uk({},Gpe),e),r=j.useRef(),i=j.useState(-1),o=Lpe(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||d!==+d||f===0&&c===0||d===0)return null;var w=Le("recharts-trapezoid",p);return _?D.createElement(Cl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(E){var C=E.upperWidth,T=E.lowerWidth,I=E.height,b=E.x,S=E.y;return D.createElement(Cl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",Cm({},Re(n,!0),{className:w,d:ck(b,S,C,T,I),ref:r})))}):D.createElement("g",null,D.createElement("path",Cm({},Re(n,!0),{className:w,d:ck(l,u,f,c,d)})))},qpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Kpe(t,e){if(t==null)return{};var n=Ype(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qpe(t,e,n){return e=Xpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xpe(t){var e=Jpe(t,"string");return Df(e)=="symbol"?e:e+""}function Jpe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zpe(t,e){return Om(Om({},e),t)}function eme(t,e){return t==="symbols"}function hk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(GE,n);case"trapezoid":return D.createElement(Hpe,n);case"sector":return D.createElement(vF,n);case"symbols":if(eme(e))return D.createElement(cE,n);break;default:return null}}function tme(t){return j.isValidElement(t)?t.props:t}function nme(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Zpe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Kpe(t,qpe),u;if(j.isValidElement(e))u=j.cloneElement(e,Om(Om({},l),tme(e)));else if(Se(e))u=e(l);else if(Ope(e)&&!jpe(e)){var f=i(e,l);u=D.createElement(hk,{shapeType:n,elementProps:f})}else{var c=l;u=D.createElement(hk,{shapeType:n,elementProps:c})}return a?D.createElement(xt,{className:s},u):u}function xy(t,e){return e!=null&&"trapezoids"in t.props}function Ey(t,e){return e!=null&&"sectors"in t.props}function jf(t,e){return e!=null&&"points"in t.props}function rme(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function ime(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ome(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function sme(t,e){var n;return xy(t,e)?n=rme:Ey(t,e)?n=ime:jf(t,e)&&(n=ome),n}function ame(t,e){var n;return xy(t,e)?n="trapezoids":Ey(t,e)?n="sectors":jf(t,e)&&(n="points"),n}function lme(t,e){if(xy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ey(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return jf(t,e)?e.payload:{}}function ume(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ame(n,e),o=lme(n,e),s=r.filter(function(l,u){var f=vy(o,l),c=n.props[i].filter(function(m){var g=sme(n,e);return g(m,e)}),d=n.props[i].indexOf(c[c.length-1]),p=u===d;return f&&p}),a=r.indexOf(s[s.length-1]);return a}var cme=Math.ceil,fme=Math.max;function hme(t,e,n,r){for(var i=-1,o=fme(cme((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var dme=hme,pme=a$,dk=1/0,mme=17976931348623157e292;function gme(t){if(!t)return t===0?t:0;if(t=pme(t),t===dk||t===-dk){var e=t<0?-1:1;return e*mme}return t===t?t:0}var OF=gme,yme=dme,vme=uy,u0=OF;function _me(t){return function(e,n,r){return r&&typeof r!="number"&&vme(e,n,r)&&(n=r=void 0),e=u0(e),n===void 0?(n=e,e=0):n=u0(n),r=r===void 0?e<n?1:-1:u0(r),yme(e,n,r,t)}}var wme=_me,bme=wme,xme=bme(),Eme=xme;const km=Qe(Eme);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){kF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kF(t,e,n){return e=Sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Tme(t,"string");return Lf(e)=="symbol"?e:e+""}function Tme(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ame=["Webkit","Moz","O","ms"],Ime=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Ame.reduce(function(o,s){return mk(mk({},o),{},kF({},s+r,n))},{});return i[e]=n,i};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Wn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function Cme(t,e,n){return e&&yk(t.prototype,e),n&&yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=Rm(e),kme(t,NF()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function kme(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(t)}function Nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function Rme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function Wn(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=Mme(t,"string");return Ol(e)=="symbol"?e:e+""}function Mme(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dme=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ec().domain(km(0,l)).range([o,o+s-a]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},vk=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){function e(n){var r;return Pme(this,e),r=Ome(this,e,[n]),Wn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Wn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wn(r,"handleSlideDragStart",function(i){var o=vk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rme(e,t),Cme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,f=u.length-1,c=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,c),m=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Jn(o[r],a,r);return Se(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+f-c-a,u+f-c-s):g<0&&(g=Math.max(g,u-s,u-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==d||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=vk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],f=this.props,c=f.x,d=f.width,p=f.travellerWidth,m=f.onChange,g=f.gap,v=f.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,c+d-p-u):w<0&&(w=Math.max(w,c-u)),_[s]=u+w;var E=this.getIndex(_),C=E.startIndex,T=E.endIndex,I=function(){var S=v.length-1;return s==="startX"&&(a>l?C%g===0:T%g===0)||a<l&&T===S||s==="endX"&&(a>l?T%g===0:C%g===0)||a>l&&T===S};this.setState(Wn(Wn({},s,u+w),"brushMoveStartX",r.pageX),function(){m&&I()&&m(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,f=this.state[i],c=a.indexOf(f);if(c!==-1){var d=c+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Wn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,f=r.padding,c=j.Children.only(u);return c?D.cloneElement(c,{x:i,y:o,width:s,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,_=Math.max(r,this.props.x),w=c0(c0({},Re(this.props,!1)),{},{x:_,y:u,width:f,height:c}),E=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return D.createElement(xt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),a.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:c,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,d=f.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(xt,{className:"recharts-brush-texts"},D.createElement(lm,Nm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-p,y:s+a/2},m),this.getTextOfTick(i)),D.createElement(lm,Nm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,v=d.isSlideMoving,_=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!se(a)||!se(l)||!se(u)||!se(f)||u<=0||f<=0)return null;var E=Le("recharts-brush",o),C=D.Children.count(s)===1,T=Ime("userSelect","none");return D.createElement(xt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||_||w||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return c0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Dme({data:o,width:s,x:a,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(j.PureComponent);Wn(kl,"displayName","Brush");Wn(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jme=yE;function Lme(t,e){var n;return jme(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var $me=Lme,Fme=ML,Vme=Go,Ume=$me,Bme=Vn,zme=uy;function Wme(t,e,n){var r=Bme(t)?Fme:Ume;return n&&zme(t,e,n)&&(e=void 0),r(t,Vme(e))}var Gme=Wme;const Hme=Qe(Gme);var Zr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_k=n$;function qme(t,e,n){e=="__proto__"&&_k?_k(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Kme=qme,Yme=Kme,Qme=e$,Xme=Go;function Jme(t,e){var n={};return e=Xme(e),Qme(t,function(r,i,o){Yme(n,i,e(r,i,o))}),n}var Zme=Jme;const ege=Qe(Zme);function tge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nge=tge,rge=yE;function ige(t,e){var n=!0;return rge(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var oge=ige,sge=nge,age=oge,lge=Go,uge=Vn,cge=uy;function fge(t,e,n){var r=uge(t)?sge:age;return n&&cge(t,e,n)&&(e=void 0),r(t,lge(e))}var hge=fge;const MF=Qe(hge);var dge=["x","y"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return e=mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return $f(e)=="symbol"?e:e+""}function gge(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t,e){if(t==null)return{};var n=vge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _ge(t,e){var n=t.x,r=t.y,i=yge(t,dge),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),d=parseInt(c,10);return Ku(Ku(Ku(Ku(Ku({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:d,name:e.name,radius:e.radius})}function bk(t){return D.createElement(nme,Zw({shapeType:"rectangle",propTransformer:_ge,activeClassName:"recharts-active-bar"},t))}var wge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=se(r)||VY(r);return o?e(r,i):(o||Hs(!1),n)}},bge=["value","background"],DF;function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function xge(t,e){if(t==null)return{};var n=Ege(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LF(r.key),r)}}function Tge(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t,e,n){return e=Dm(e),Ige(t,jF()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function Ige(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function mo(t,e,n){return e=LF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LF(t){var e=Oge(t,"string");return Nl(e)=="symbol"?e:e+""}function Oge(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _h=function(t){function e(){var n;Sge(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Age(this,e,[].concat(i)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"id",hh("recharts-bar-")),mo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),mo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Cge(e,t),Tge(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,f=Re(this.props,!1);return r&&r.map(function(c,d){var p=d===l,m=p?u:s,g=Tt(Tt(Tt({},f),c),{},{isActive:p,option:m,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(xt,Mm({className:"recharts-bar-rectangle"},Kp(i.props,c,d),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(d)}),D.createElement(bk,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,d=this.state.prevData;return D.createElement(Cl,{begin:l,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(v,_){var w=d&&d[_];if(w){var E=Pr(w.x,v.x),C=Pr(w.y,v.y),T=Pr(w.width,v.width),I=Pr(w.height,v.height);return Tt(Tt({},v),{},{x:E(m),y:C(m),width:T(m),height:I(m)})}if(s==="horizontal"){var b=Pr(0,v.height),S=b(m);return Tt(Tt({},v),{},{y:v.y+v.height-S,height:S})}var P=Pr(0,v.width),O=P(m);return Tt(Tt({},v),{},{width:O})});return D.createElement(xt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!vy(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Re(this.props.background,!1);return o.map(function(u,f){u.value;var c=u.background,d=xge(u,bge);if(!c)return null;var p=Tt(Tt(Tt(Tt(Tt({},d),{},{fill:"#eee"},c),l),Kp(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return D.createElement(bk,Mm({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=hr(f,vh);if(!c)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,_){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Jn(v,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(xt,m,c.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,_=Le("recharts-bar",s),w=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,C=w||E,T=Ce(g)?this.id:g;return D.createElement(xt,{className:_},w||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:w?u:u-c/2,y:E?f:f-d/2,width:w?c:c*2,height:E?d:d*2}))):null,D.createElement(xt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!p||v)&&Oo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);DF=_h;mo(_h,"displayName","Bar");mo(_h,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mo(_h,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,d=t.offset,p=afe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?Tt(Tt({},g),n.props):n.props,_=v.dataKey,w=v.children,E=v.minPointSize,C=m==="horizontal"?s:o,T=u?C.scale.domain():null,I=mfe({numericAxis:C}),b=hr(w,u$),S=c.map(function(P,O){var k,M,N,V,W,q;u?k=lfe(u[f+O],T):(k=Jn(P,_),Array.isArray(k)||(k=[I,k]));var K=wge(E,DF.defaultProps.minPointSize)(k[1],O);if(m==="horizontal"){var F,G=[s.scale(k[0]),s.scale(k[1])],Y=G[0],ne=G[1];M=bO({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:P,index:O}),N=(F=ne??Y)!==null&&F!==void 0?F:void 0,V=p.size;var B=Y-ne;if(W=Number.isNaN(B)?0:B,q={x:M,y:s.y,width:V,height:s.height},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var Q=Rr(W||K)*(Math.abs(K)-Math.abs(W));N-=Q,W+=Q}}else{var ce=[o.scale(k[0]),o.scale(k[1])],he=ce[0],pe=ce[1];if(M=he,N=bO({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),V=pe-he,W=p.size,q={x:o.x,y:N,width:o.width,height:W},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var _e=Rr(V||K)*(Math.abs(K)-Math.abs(V));V+=_e}}return Tt(Tt(Tt({},P),{},{x:M,y:N,width:V,height:W,value:u?k:k[1],payload:P,background:q},b&&b[O]&&b[O].props),{},{tooltipPayload:[mF(n,P)],tooltipPosition:{x:M+V/2,y:N+W/2}})});return Tt({data:S,layout:m},d)});function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$F(r.key),r)}}function Nge(t,e,n){return e&&Sk(t.prototype,e),n&&Sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(t,e,n){return e=$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $F(t){var e=Rge(t,"string");return Ff(e)=="symbol"?e:e+""}function Rge(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mge=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!Hn(u,_h);return f.reduce(function(p,m){var g=n[m],v=g.orientation,_=g.domain,w=g.padding,E=w===void 0?{}:w,C=g.mirror,T=g.reversed,I="".concat(v).concat(C?"Mirror":""),b,S,P,O,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=_[1]-_[0],N=1/0,V=g.categoricalDomain.sort(zY);if(V.forEach(function(ce,he){he>0&&(N=Math.min((ce||0)-(V[he-1]||0),N))}),Number.isFinite(N)){var W=N/M,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(b=W*q/2),g.padding==="no-gap"){var K=Ws(e.barCategoryGap,W*q),F=W*q/2;b=F-K-(F-K)/q*K}}}i==="xAxis"?S=[r.left+(E.left||0)+(b||0),r.left+r.width-(E.right||0)-(b||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(b||0),r.top+r.height-(E.bottom||0)-(b||0)]:S=g.range,T&&(S=[S[1],S[0]]);var G=ofe(g,o,d),Y=G.scale,ne=G.realScaleType;Y.domain(_).range(S),sfe(Y);var B=pfe(Y,Tr(Tr({},g),{},{realScaleType:ne}));i==="xAxis"?(k=v==="top"&&!C||v==="bottom"&&C,P=r.left,O=c[I]-k*g.height):i==="yAxis"&&(k=v==="left"&&!C||v==="right"&&C,P=c[I]-k*g.width,O=r.top);var Q=Tr(Tr(Tr({},g),B),{},{realScaleType:ne,x:P,y:O,scale:Y,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Q.bandSize=xm(Q,B),!g.hide&&i==="xAxis"?c[I]+=(k?-1:1)*Q.height:g.hide||(c[I]+=(k?-1:1)*Q.width),Tr(Tr({},p),{},Sy({},m,Q))},{})},FF=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Dge=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return FF({x:n,y:r},{x:i,y:o})},VF=function(){function t(e){kge(this,t),this.scale=e}return Nge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Sy(VF,"EPS",1e-4);var qE=function(e){var n=Object.keys(e).reduce(function(r,i){return Tr(Tr({},r),{},Sy({},i,VF.create(e[i])))},{});return Tr(Tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return ege(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return MF(i,function(o,s){return n[s].isInRange(o)})}})};function jge(t){return(t%180+180)%180}var Lge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jge(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},$ge=Go,Fge=dh,Vge=ay;function Uge(t){return function(e,n,r){var i=Object(e);if(!Fge(e)){var o=$ge(n);e=Vge(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Bge=Uge,zge=OF;function Wge(t){var e=zge(t),n=e%1;return e===e?n?e-n:e:0}var Gge=Wge,Hge=KL,qge=Go,Kge=Gge,Yge=Math.max;function Qge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Kge(n);return i<0&&(i=Yge(r+i,0)),Hge(t,qge(e),i)}var Xge=Qge,Jge=Bge,Zge=Xge,eye=Jge(Zge),tye=eye;const nye=Qe(tye);var rye=WK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KE=j.createContext(void 0),YE=j.createContext(void 0),UF=j.createContext(void 0),BF=j.createContext({}),zF=j.createContext(void 0),WF=j.createContext(0),GF=j.createContext(0),Ak=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,f=rye(o);return D.createElement(KE.Provider,{value:r},D.createElement(YE.Provider,{value:i},D.createElement(BF.Provider,{value:o},D.createElement(UF.Provider,{value:f},D.createElement(zF.Provider,{value:s},D.createElement(WF.Provider,{value:u},D.createElement(GF.Provider,{value:l},a)))))))},iye=function(){return j.useContext(zF)},HF=function(e){var n=j.useContext(KE);n==null&&Hs(!1);var r=n[e];return r==null&&Hs(!1),r},oye=function(){var e=j.useContext(KE);return co(e)},sye=function(){var e=j.useContext(YE),n=nye(e,function(r){return MF(r.domain,Number.isFinite)});return n||co(e)},qF=function(e){var n=j.useContext(YE);n==null&&Hs(!1);var r=n[e];return r==null&&Hs(!1),r},aye=function(){var e=j.useContext(UF);return e},lye=function(){return j.useContext(BF)},QE=function(){return j.useContext(GF)},XE=function(){return j.useContext(WF)};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YF(r.key),r)}}function cye(t,e,n){return e&&Ik(t.prototype,e),n&&Ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fye(t,e,n){return e=jm(e),hye(t,KF()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function hye(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dye(t)}function dye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function pye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){JE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JE(t,e,n){return e=YF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=mye(t,"string");return Rl(e)=="symbol"?e:e+""}function mye(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gye(t,e){return wye(t)||_ye(t,e)||vye(t,e)||yye()}function yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(t,e){if(t){if(typeof t=="string")return Ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,e)}}function Ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wye(t){if(Array.isArray(t))return t}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}var bye=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Se(e)?r=e(n):r=D.createElement("line",nb({},n,{className:"recharts-reference-line-line"})),r},xye=function(e,n,r,i,o,s,a,l,u){var f=o.x,c=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:s});if(Zr(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:f+d,y:g},{x:f,y:g}];return l==="left"?v.reverse():v}if(n){var _=u.x,w=e.x.apply(_,{position:s});if(Zr(u,"discard")&&!e.x.isInRange(w))return null;var E=[{x:w,y:c+p},{x:w,y:c}];return a==="top"?E.reverse():E}if(i){var C=u.segment,T=C.map(function(I){return e.apply(I,{position:s})});return Zr(u,"discard")&&Hme(T,function(I){return!e.isInRange(I)})?null:T}return null};function Eye(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=iye(),f=HF(i),c=qF(o),d=aye();if(!u||!d)return null;Ai(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qE({x:f.scale,y:c.scale}),m=Dt(e),g=Dt(n),v=r&&r.length===2,_=xye(p,m,g,v,d,t.position,f.orientation,c.orientation,t);if(!_)return null;var w=gye(_,2),E=w[0],C=E.x,T=E.y,I=w[1],b=I.x,S=I.y,P=Zr(t,"hidden")?"url(#".concat(u,")"):void 0,O=Ck(Ck({clipPath:P},Re(t,!0)),{},{x1:C,y1:T,x2:b,y2:S});return D.createElement(xt,{className:Le("recharts-reference-line",a)},bye(s,O),mn.renderCallByParent(t,Dge({x1:C,y1:T,x2:b,y2:S})))}var ZE=function(t){function e(){return uye(this,e),fye(this,e,arguments)}return pye(e,t),cye(e,[{key:"render",value:function(){return D.createElement(Eye,this.props)}}])}(D.Component);JE(ZE,"displayName","ReferenceLine");JE(ZE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XF(r.key),r)}}function Tye(t,e,n){return e&&Rk(t.prototype,e),n&&Rk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aye(t,e,n){return e=Lm(e),Iye(t,QF()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function Iye(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(t)}function Pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QF=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function Cye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Ty(t,e,n){return e=XF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XF(t){var e=Oye(t,"string");return Ml(e)=="symbol"?e:e+""}function Oye(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kye=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=qE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Zr(e,"discard")&&!s.isInRange(a)?null:a},Ay=function(t){function e(){return Sye(this,e),Aye(this,e,arguments)}return Cye(e,t),Tye(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),f=Dt(o);if(Ai(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=kye(this.props);if(!c)return null;var d=c.x,p=c.y,m=this.props,g=m.shape,v=m.className,_=Zr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=Nk(Nk({clipPath:_},Re(this.props,!0)),{},{cx:d,cy:p});return D.createElement(xt,{className:Le("recharts-reference-dot",v)},e.renderDot(g,w),mn.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(D.Component);Ty(Ay,"displayName","ReferenceDot");Ty(Ay,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ty(Ay,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Se(t)?n=t(e):n=D.createElement(HE,rb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Iy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZF(r.key),r)}}function Rye(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mye(t,e,n){return e=$m(e),Dye(t,JF()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function Dye(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(t)}function jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function Lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function Iy(t,e,n){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZF(t){var e=$ye(t,"string");return Dl(e)=="symbol"?e:e+""}function $ye(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fye=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,f=o.xAxis,c=o.yAxis;if(!f||!c)return null;var d=qE({x:f.scale,y:c.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Zr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:FF(p,m)},Py=function(t){function e(){return Nye(this,e),Mye(this,e,arguments)}return Lye(e,t),Rye(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;Ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Dt(i),d=Dt(o),p=Dt(s),m=Dt(a),g=this.props.shape;if(!c&&!d&&!p&&!m&&!g)return null;var v=Fye(c,d,p,m,this.props);if(!v&&!g)return null;var _=Zr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return D.createElement(xt,{className:Le("recharts-reference-area",l)},e.renderRect(g,Dk(Dk({clipPath:_},Re(this.props,!0)),v)),mn.renderCallByParent(this.props,v))}}])}(D.Component);Iy(Py,"displayName","ReferenceArea");Iy(Py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Iy(Py,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Se(t)?n=t(e):n=D.createElement(GE,ob({},e,{className:"recharts-reference-area-rect"})),n});function e4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Vye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Lge(r,n)}function Uye(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Fm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Bye(t,e){return e4(t,e+1)}function zye(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,f=s,c=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:e4(r,u)};var g=l,v,_=function(){return v===void 0&&(v=n(m,g)),v},w=m.coordinate,E=l===0||Fm(t,w,_,f,a);E||(l=0,f=s,u+=1),E&&(f=w+t*(_()/2+i),l+=u)},d;u<=o.length;)if(d=c(),d)return d.v;return[]}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){Wye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wye(t,e,n){return e=Gye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gye(t){var e=Hye(t,"string");return Vf(e)=="symbol"?e:e+""}function Hye(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===s-1){var v=t*(p.coordinate+t*g()/2-l);o[d]=p=cn(cn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=cn(cn({},p),{},{tickCoord:p.coordinate});var _=Fm(t,p.tickCoord,g,a,l);_&&(l=p.tickCoord-t*(g()/2+i),o[d]=cn(cn({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return o}function Kye(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var f=r[a-1],c=n(f,a-1),d=t*(f.coordinate+t*c/2-u);s[a-1]=f=cn(cn({},f),{},{tickCoord:d>0?f.coordinate-d*t:f.coordinate});var p=Fm(t,f.tickCoord,function(){return c},l,u);p&&(u=f.tickCoord-t*(c/2+i),s[a-1]=cn(cn({},f),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(w){var E=s[w],C,T=function(){return C===void 0&&(C=n(E,w)),C};if(w===0){var I=t*(E.coordinate-t*T()/2-l);s[w]=E=cn(cn({},E),{},{tickCoord:I<0?E.coordinate-I*t:E.coordinate})}else s[w]=E=cn(cn({},E),{},{tickCoord:E.coordinate});var b=Fm(t,E.tickCoord,T,l,u);b&&(l=E.tickCoord+t*(T()/2+i),s[w]=cn(cn({},E),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function eS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(se(l)||Ii.isSsr)return Bye(i,typeof l=="number"&&se(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",m=f&&p==="width"?xc(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(E,C){var T=Se(u)?u(E.value,C):E.value;return p==="width"?Vye(xc(T,{fontSize:e,letterSpacing:n}),m,c):xc(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Rr(i[1].coordinate-i[0].coordinate):1,_=Uye(o,v,p);return l==="equidistantPreserveStart"?zye(v,_,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=Kye(v,_,g,i,s,l==="preserveStartEnd"):d=qye(v,_,g,i,s),d.filter(function(w){return w.isShow}))}var Yye=["viewBox"],Qye=["viewBox"],Xye=["ticks"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0(t,e){if(t==null)return{};var n=Jye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function eve(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tve(t,e,n){return e=Vm(e),nve(t,t4()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function nve(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(t)}function rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function ive(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function tS(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4(t){var e=ove(t,"string");return jl(e)=="symbol"?e:e+""}function ove(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fu=function(t){function e(n){var r;return Zye(this,e),r=tve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ive(e,t),eve(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=f0(r,Yye),a=this.props,l=a.viewBox,u=f0(a,Qye);return!Qa(o,l)||!Qa(s,u)||!Qa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,d=i.tickMargin,p,m,g,v,_,w,E=c?-1:1,C=r.tickSize||f,T=se(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=s+ +!c*l,g=v-E*C,w=g-E*d,_=T;break;case"left":g=v=r.coordinate,m=o+ +!c*a,p=m-E*C,_=p-E*d,w=T;break;case"right":g=v=r.coordinate,m=o+ +c*a,p=m+E*C,_=p+E*d,w=T;break;default:p=m=r.coordinate,v=s+ +c*l,g=v+E*C,w=g+E*d,_=T;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=Ct(Ct(Ct({},Re(this.props,!1)),Re(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);c=Ct(Ct({},c),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);c=Ct(Ct({},c),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return D.createElement("line",Ma({},c,{className:Le("recharts-cartesian-axis-line",fr(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,f=a.tick,c=a.tickFormatter,d=a.unit,p=eS(Ct(Ct({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Re(this.props,!1),_=Re(f,!1),w=Ct(Ct({},v),{},{fill:"none"},Re(l,!1)),E=p.map(function(C,T){var I=s.getTickLineCoord(C),b=I.line,S=I.tick,P=Ct(Ct(Ct(Ct({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},_),S),{},{index:T,payload:C,visibleTicksCount:p.length,tickFormatter:c});return D.createElement(xt,Ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Kp(s.props,C,T)),l&&D.createElement("line",Ma({},w,b,{className:Le("recharts-cartesian-axis-tick-line",fr(l,"className"))})),f&&e.renderTickItem(f,P,"".concat(Se(c)?c(C.value,T):C.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,d=c.ticks,p=f0(c,Xye),m=d;return Se(l)&&(m=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:D.createElement(xt,{className:Le("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Le(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?s=D.cloneElement(r,Ct(Ct({},i),{},{className:a})):Se(r)?s=r(Ct(Ct({},i),{},{className:a})):s=D.createElement(lm,Ma({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(j.Component);tS(fu,"displayName","CartesianAxis");tS(fu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sve=["x1","y1","x2","y2","key"],ave=["offset"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e,n){return e=uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=cve(t,"string");return qs(e)=="symbol"?e:e+""}function cve(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(this,arguments)}function Uk(t,e){if(t==null)return{};var n=fve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hve=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function r4(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=Uk(e,sve),u=Re(l,!1);u.offset;var f=Uk(u,ave);n=D.createElement("line",ws({},f,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function dve(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return r4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pve(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return r4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mve(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var m=!f[p+1],g=m?i+s-d:f[p+1]-d;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function gve(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var m=!f[p+1],g=m?o+a-d:f[p+1]-d;if(g<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var yve=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return dF(eS(gn(gn(gn({},fu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},vve=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return dF(eS(gn(gn(gn({},fu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},pa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function i4(t){var e,n,r,i,o,s,a=QE(),l=XE(),u=lye(),f=gn(gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:pa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:pa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:pa.verticalFill,x:se(t.x)?t.x:u.left,y:se(t.y)?t.y:u.top,width:se(t.width)?t.width:u.width,height:se(t.height)?t.height:u.height}),c=f.x,d=f.y,p=f.width,m=f.height,g=f.syncWithTicks,v=f.horizontalValues,_=f.verticalValues,w=oye(),E=sye();if(!se(p)||p<=0||!se(m)||m<=0||!se(c)||c!==+c||!se(d)||d!==+d)return null;var C=f.verticalCoordinatesGenerator||yve,T=f.horizontalCoordinatesGenerator||vve,I=f.horizontalPoints,b=f.verticalPoints;if((!I||!I.length)&&Se(T)){var S=v&&v.length,P=T({yAxis:E?gn(gn({},E),{},{ticks:S?v:E.ticks}):void 0,width:a,height:l,offset:u},S?!0:g);Ai(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qs(P),"]")),Array.isArray(P)&&(I=P)}if((!b||!b.length)&&Se(C)){var O=_&&_.length,k=C({xAxis:w?gn(gn({},w),{},{ticks:O?_:w.ticks}):void 0,width:a,height:l,offset:u},O?!0:g);Ai(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qs(k),"]")),Array.isArray(k)&&(b=k)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(hve,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),D.createElement(dve,ws({},f,{offset:u,horizontalPoints:I,xAxis:w,yAxis:E})),D.createElement(pve,ws({},f,{offset:u,verticalPoints:b,xAxis:w,yAxis:E})),D.createElement(mve,ws({},f,{horizontalPoints:I})),D.createElement(gve,ws({},f,{verticalPoints:b})))}i4.displayName="CartesianGrid";var _ve=["type","layout","connectNulls","ref"],wve=["key"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function Bk(t,e){if(t==null)return{};var n=bve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ma(t){return Tve(t)||Sve(t)||Eve(t)||xve()}function xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eve(t,e){if(t){if(typeof t=="string")return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function Sve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tve(t){if(Array.isArray(t))return lb(t)}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s4(r.key),r)}}function Ive(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pve(t,e,n){return e=Um(e),Cve(t,o4()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Cve(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(t)}function Ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o4=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function Ar(t,e,n){return e=s4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s4(t){var e=Nve(t,"string");return Ll(e)=="symbol"?e:e+""}function Nve(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wh=function(t){function e(){var n;Ave(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pve(this,e,[].concat(i)),Ar(n,"state",{isAnimationFinished:!0,totalLength:0}),Ar(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Ar(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(_,w){return _+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var f=Math.floor(s/u),c=s%u,d=a-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>c){p=[].concat(ma(l.slice(0,m)),[c-g]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(ma(e.repeat(l,f)),ma(p),v).map(function(_){return"".concat(_,"px")}).join(", ")}),Ar(n,"id",hh("recharts-line-")),Ar(n,"pathRef",function(s){n.mainCurve=s}),Ar(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ar(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return kve(e,t),Ive(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,c=hr(f,vh);if(!c)return null;var d=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Jn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(xt,p,c.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,f=a.dataKey,c=Re(this.props,!1),d=Re(l,!0),p=u.map(function(g,v){var _=zn(zn(zn({key:"dot-".concat(v),r:3},c),d),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return e.renderDotItem(l,_)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(xt,Ac({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,f=a.connectNulls;a.ref;var c=Bk(a,_ve),d=zn(zn(zn({},Re(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:f});return D.createElement(Vw,Ac({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,c=s.animationDuration,d=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,_=this.state,w=_.prevPoints,E=_.totalLength;return D.createElement(Cl,{begin:f,duration:c,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var T=C.t;if(w){var I=w.length/a.length,b=a.map(function(M,N){var V=Math.floor(N*I);if(w[V]){var W=w[V],q=Pr(W.x,M.x),K=Pr(W.y,M.y);return zn(zn({},M),{},{x:q(T),y:K(T)})}if(m){var F=Pr(g*2,M.x),G=Pr(v/2,M.y);return zn(zn({},M),{},{x:F(T),y:G(T)})}return zn(zn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(b,r,i)}var S=Pr(0,E),P=S(T),O;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});O=o.getStrokeDasharray(P,E,k)}else O=o.generateSimpleStrokeDasharray(E,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return a&&s&&s.length&&(!u&&f>0||!vy(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=a.length===1,E=Le("recharts-line",l),C=u&&u.allowDataOverflow,T=f&&f.allowDataOverflow,I=C||T,b=Ce(v)?this.id:v,S=(r=Re(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=S.r,O=P===void 0?3:P,k=S.strokeWidth,M=k===void 0?2:k,N=JY(s)?s:{},V=N.clipDot,W=V===void 0?!0:V,q=O*2+M;return D.createElement(xt,{className:E},C||T?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(b)},D.createElement("rect",{x:C?d:d-p/2,y:T?c:c-m/2,width:C?p:p*2,height:T?m:m*2})),!W&&D.createElement("clipPath",{id:"clipPath-dots-".concat(b)},D.createElement("rect",{x:d-q/2,y:c-q/2,width:p+q,height:m+q}))):null,!w&&this.renderCurve(I,b),this.renderErrorBar(I,b),(w||s)&&this.renderDots(I,W,b),(!g||_)&&Oo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ma(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(ma(s),ma(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(Se(r))o=r(i);else{var s=i.key,a=Bk(i,wve),l=Le("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(HE,Ac({key:s},a,{className:l}))}return o}}])}(j.PureComponent);Ar(wh,"displayName","Line");Ar(wh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ar(wh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(d,p){var m=Jn(d,s);return f==="horizontal"?{x:wO({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:Ce(m)?null:r.scale(m),value:m,payload:d}:{x:Ce(m)?null:n.scale(m),y:wO({axis:r,ticks:o,bandSize:a,entry:d,index:p}),value:m,payload:d}});return zn({points:c,layout:f},u)});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Rve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function Mve(t,e,n){return e&&Gk(t.prototype,e),n&&Gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dve(t,e,n){return e=Bm(e),jve(t,a4()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function jve(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lve(t)}function Lve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function $ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function l4(t,e,n){return e=u4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=Fve(t,"string");return $l(e)=="symbol"?e:e+""}function Fve(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function Vve(t){var e=t.xAxisId,n=QE(),r=XE(),i=HF(e);return i==null?null:j.createElement(fu,fb({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bi(s,!0)}}))}var Cy=function(t){function e(){return Rve(this,e),Dve(this,e,arguments)}return $ve(e,t),Mve(e,[{key:"render",value:function(){return j.createElement(Vve,this.props)}}])}(j.Component);l4(Cy,"displayName","XAxis");l4(Cy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Uve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h4(r.key),r)}}function Bve(t,e,n){return e&&Hk(t.prototype,e),n&&Hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zve(t,e,n){return e=zm(e),Wve(t,c4()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function Wve(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(t)}function Gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function Hve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function f4(t,e,n){return e=h4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t){var e=qve(t,"string");return Fl(e)=="symbol"?e:e+""}function qve(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}var Kve=function(e){var n=e.yAxisId,r=QE(),i=XE(),o=qF(n);return o==null?null:j.createElement(fu,db({},o,{className:Le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return bi(a,!0)}}))},Oy=function(t){function e(){return Uve(this,e),zve(this,e,arguments)}return Hve(e,t),Bve(e,[{key:"render",value:function(){return j.createElement(Kve,this.props)}}])}(j.Component);f4(Oy,"displayName","YAxis");f4(Oy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qk(t){return Jve(t)||Xve(t)||Qve(t)||Yve()}function Yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function Xve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jve(t){if(Array.isArray(t))return pb(t)}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mb=function(e,n,r,i,o){var s=hr(e,ZE),a=hr(e,Ay),l=[].concat(qk(s),qk(a)),u=hr(e,Py),f="".concat(i,"Id"),c=i[0],d=n;if(l.length&&(d=l.reduce(function(g,v){if(v.props[f]===r&&Zr(v.props,"extendDomain")&&se(v.props[c])){var _=v.props[c];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},d)),u.length){var p="".concat(c,"1"),m="".concat(c,"2");d=u.reduce(function(g,v){if(v.props[f]===r&&Zr(v.props,"extendDomain")&&se(v.props[p])&&se(v.props[m])){var _=v.props[p],w=v.props[m];return[Math.min(g[0],_,w),Math.max(g[1],_,w)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,v){return se(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},d4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,c,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,c||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,p=c.length,m=new Array(p);d<p;d++)m[d]=c[d].fn;return m},a.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,f,c,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],_=arguments.length,w,E;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,c),!0;case 4:return v.fn.call(v.context,f,c,d),!0;case 5:return v.fn.call(v.context,f,c,d,p),!0;case 6:return v.fn.call(v.context,f,c,d,p,m),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];v.fn.apply(v.context,w)}else{var C=v.length,T;for(E=0;E<C;E++)switch(v[E].once&&this.removeListener(u,v[E].fn,void 0,!0),_){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,f);break;case 3:v[E].fn.call(v[E].context,f,c);break;case 4:v[E].fn.call(v[E].context,f,c,d);break;default:if(!w)for(T=1,w=new Array(_-1);T<_;T++)w[T-1]=arguments[T];v[E].fn.apply(v[E].context,w)}}return!0},a.prototype.on=function(u,f,c){return o(this,u,f,c,!1)},a.prototype.once=function(u,f,c){return o(this,u,f,c,!0)},a.prototype.removeListener=function(u,f,c,d){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!d||m.once)&&(!c||m.context===c)&&s(this,p);else{for(var g=0,v=[],_=m.length;g<_;g++)(m[g].fn!==f||d&&!m[g].once||c&&m[g].context!==c)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(d4);var Zve=d4.exports;const e0e=Qe(Zve);var h0=new e0e,d0="recharts.syncMouseEvents";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function t0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function n0e(t,e,n){return e&&Kk(t.prototype,e),n&&Kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4(t){var e=r0e(t,"string");return Uf(e)=="symbol"?e:e+""}function r0e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i0e=function(){function t(){t0e(this,t),p0(this,"activeIndex",0),p0(this,"coordinateList",[]),p0(this,"layout","horizontal")}return n0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=o+l+u,d=s+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function o0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&se(r)&&se(i))return!0}return!1}function s0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Jt(e,n,r,i),a=Jt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function a0e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,d=Jt(a,l,u,c),p=Jt(a,l,f,c);r=d.x,i=d.y,o=p.x,s=p.y}else return m4(e);return[{x:r,y:i},{x:o,y:s}]}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return e=u0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return Bf(e)=="symbol"?e:e+""}function c0e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Vw;if(d==="ScatterChart")m=s,g=gpe;else if(d==="BarChart")m=s0e(c,s,l,f),g=GE;else if(c==="radial"){var v=m4(s),_=v.cx,w=v.cy,E=v.radius,C=v.startAngle,T=v.endAngle;m={cx:_,cy:w,startAngle:C,endAngle:T,innerRadius:E,outerRadius:E},g=vF}else m={points:a0e(c,s,l)},g=Vw;var I=bd(bd(bd(bd({stroke:"#ccc",pointerEvents:"none"},l),m),Re(p,!1)),{},{payload:a,payloadIndex:u,className:Le("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,I):j.createElement(g,I)}var h0e=["item"],d0e=["children","className","width","height","style","compact","title","desc"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}function Qk(t,e){return g0e(t)||m0e(t,e)||y4(t,e)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function g0e(t){if(Array.isArray(t))return t}function Xk(t,e){if(t==null)return{};var n=y0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function _0e(t,e,n){return e&&Jk(t.prototype,e),n&&Jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w0e(t,e,n){return e=Wm(e),b0e(t,g4()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function b0e(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x0e(t)}function x0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function E0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function Ul(t){return A0e(t)||T0e(t)||y4(t)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(t,e){if(t){if(typeof t=="string")return yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(t,e)}}function T0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A0e(t){if(Array.isArray(t))return yb(t)}function yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=I0e(t,"string");return Vl(e)=="symbol"?e:e+""}function I0e(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P0e={xAxis:["bottom","top"],yAxis:["left","right"]},C0e={width:"100%",height:"100%"},_4={x:0,y:0};function xd(t){return t}var O0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},k0e=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Jt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Jt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return _4},ky=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ul(a),Ul(u)):a},[]);return s.length>0?s:e&&e.length&&se(i)&&se(o)?e.slice(i,o+1):[]};function w4(t){return t==="number"?[0,"auto"]:void 0}var vb=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=ky(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=c===void 0?a:c;d=Hp(p,s.dataKey,i)}else d=c&&c[r]||a[r];return d?[].concat(Ul(l),[mF(u,d)]):l},[])},eN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=O0e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Zce(s,a,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,d=vb(e,n,f,c),p=k0e(r,a,f,o);return{activeTooltipIndex:f,activeLabel:c,activePayload:d,activeCoordinate:p}}return null},N0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,d=e.stackOffset,p=hF(f,o);return r.reduce(function(m,g){var v,_=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,w=_.type,E=_.dataKey,C=_.allowDataOverflow,T=_.allowDuplicatedCategory,I=_.scale,b=_.ticks,S=_.includeHidden,P=_[s];if(m[P])return m;var O=ky(e.data,{graphicalItems:i.filter(function(B){var Q,ce=s in B.props?B.props[s]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[s];return ce===P}),dataStartIndex:l,dataEndIndex:u}),k=O.length,M,N,V;o0e(_.domain,C,w)&&(M=Dw(_.domain,null,C),p&&(w==="number"||I!=="auto")&&(V=Sc(O,E,"category")));var W=w4(w);if(!M||M.length===0){var q,K=(q=_.domain)!==null&&q!==void 0?q:W;if(E){if(M=Sc(O,E,w),w==="category"&&p){var F=BY(M);T&&F?(N=M,M=km(0,k)):T||(M=SO(K,M,g).reduce(function(B,Q){return B.indexOf(Q)>=0?B:[].concat(Ul(B),[Q])},[]))}else if(w==="category")T?M=M.filter(function(B){return B!==""&&!Ce(B)}):M=SO(K,M,g).reduce(function(B,Q){return B.indexOf(Q)>=0||Q===""||Ce(Q)?B:[].concat(Ul(B),[Q])},[]);else if(w==="number"){var G=ife(O,i.filter(function(B){var Q,ce,he=s in B.props?B.props[s]:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q[s],pe="hide"in B.props?B.props.hide:(ce=B.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return he===P&&(S||!pe)}),E,o,f);G&&(M=G)}p&&(w==="number"||I!=="auto")&&(V=Sc(O,E,"category"))}else p?M=km(0,k):a&&a[P]&&a[P].hasStack&&w==="number"?M=d==="expand"?[0,1]:pF(a[P].stackGroups,l,u):M=fF(O,i.filter(function(B){var Q=s in B.props?B.props[s]:B.type.defaultProps[s],ce="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return Q===P&&(S||!ce)}),w,f,!0);if(w==="number")M=mb(c,M,P,o,b),K&&(M=Dw(K,M,C));else if(w==="category"&&K){var Y=K,ne=M.every(function(B){return Y.indexOf(B)>=0});ne&&(M=Y)}}return H(H({},m),{},ye({},P,H(H({},_),{},{axisType:o,domain:M,categoricalDomain:V,duplicateDomain:N,originalDomain:(v=_.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:f})))},{})},R0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,d=ky(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=hF(f,o),g=-1;return r.reduce(function(v,_){var w=_.type.defaultProps!==void 0?H(H({},_.type.defaultProps),_.props):_.props,E=w[s],C=w4("number");if(!v[E]){g++;var T;return m?T=km(0,p):a&&a[E]&&a[E].hasStack?(T=pF(a[E].stackGroups,l,u),T=mb(c,T,E,o)):(T=Dw(C,fF(d,r.filter(function(I){var b,S,P=s in I.props?I.props[s]:(b=I.type.defaultProps)===null||b===void 0?void 0:b[s],O="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===E&&!O}),"number",f),i.defaultProps.allowDataOverflow),T=mb(c,T,E,o)),H(H({},v),{},ye({},E,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:fr(P0e,"".concat(o,".").concat(g%2),null),domain:T,originalDomain:C,isCategorical:m,layout:f})))}return v},{})},M0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),d=hr(f,o),p={};return d&&d.length?p=N0e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=R0e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},D0e=function(e){var n=co(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xm(n,r)}},tN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Hn(n,kl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},j0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},nN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},L0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,f=r.height,c=r.children,d=r.margin||{},p=Hn(c,kl),m=Hn(c,As),g=Object.keys(l).reduce(function(T,I){var b=l[I],S=b.orientation;return!b.mirror&&!b.hide?H(H({},T),{},ye({},S,T[S]+b.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(s).reduce(function(T,I){var b=s[I],S=b.orientation;return!b.mirror&&!b.hide?H(H({},T),{},ye({},S,fr(T,"".concat(S))+b.height)):T},{top:d.top||0,bottom:d.bottom||0}),_=H(H({},v),g),w=_.bottom;p&&(_.bottom+=p.props.height||kl.defaultProps.height),m&&n&&(_=nfe(_,i,r,n));var E=u-_.left-_.right,C=f-_.top-_.bottom;return H(H({brushBottom:w},_),{},{width:Math.max(E,0),height:Math.max(C,0)})},$0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},F0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,d=function(_,w){var E=w.graphicalItems,C=w.stackGroups,T=w.offset,I=w.updateId,b=w.dataStartIndex,S=w.dataEndIndex,P=_.barSize,O=_.layout,k=_.barGap,M=_.barCategoryGap,N=_.maxBarSize,V=nN(O),W=V.numericAxisName,q=V.cateAxisName,K=j0e(E),F=[];return E.forEach(function(G,Y){var ne=ky(_.data,{graphicalItems:[G],dataStartIndex:b,dataEndIndex:S}),B=G.type.defaultProps!==void 0?H(H({},G.type.defaultProps),G.props):G.props,Q=B.dataKey,ce=B.maxBarSize,he=B["".concat(W,"Id")],pe=B["".concat(q,"Id")],_e={},Xe=l.reduce(function(Un,tr){var Qi=w["".concat(tr.axisType,"Map")],ia=B["".concat(tr.axisType,"Id")];Qi&&Qi[ia]||tr.axisType==="zAxis"||Hs(!1);var oa=Qi[ia];return H(H({},Un),{},ye(ye({},tr.axisType,oa),"".concat(tr.axisType,"Ticks"),bi(oa)))},_e),ae=Xe[q],X=Xe["".concat(q,"Ticks")],ie=C&&C[he]&&C[he].hasStack&&gfe(G,C[he].stackGroups),U=Ti(G.type).indexOf("Bar")>=0,ge=xm(ae,X),L=[],ee=K&&efe({barSize:P,stackGroups:C,totalSize:$0e(Xe,q)});if(U){var Te,Me,Et=Ce(ce)?N:ce,vr=(Te=(Me=xm(ae,X,!0))!==null&&Me!==void 0?Me:Et)!==null&&Te!==void 0?Te:0;L=tfe({barGap:k,barCategoryGap:M,bandSize:vr!==ge?vr:ge,sizeList:ee[pe],maxBarSize:Et}),vr!==ge&&(L=L.map(function(Un){return H(H({},Un),{},{position:H(H({},Un.position),{},{offset:Un.position.offset-vr/2})})}))}var Yi=G&&G.type&&G.type.getComposedData;Yi&&F.push({props:H(H({},Yi(H(H({},Xe),{},{displayedData:ne,props:_,dataKey:Q,item:G,bandSize:ge,barPosition:L,offset:T,stackedData:ie,layout:O,dataStartIndex:b,dataEndIndex:S}))),{},ye(ye(ye({key:G.key||"item-".concat(Y)},W,Xe[W]),q,Xe[q]),"animationId",I)),childIndex:tQ(G,_.children),item:G})}),F},p=function(_,w){var E=_.props,C=_.dataStartIndex,T=_.dataEndIndex,I=_.updateId;if(!dP({props:E}))return null;var b=E.children,S=E.layout,P=E.stackOffset,O=E.data,k=E.reverseStackOrder,M=nN(S),N=M.numericAxisName,V=M.cateAxisName,W=hr(b,r),q=dfe(O,W,"".concat(N,"Id"),"".concat(V,"Id"),P,k),K=l.reduce(function(B,Q){var ce="".concat(Q.axisType,"Map");return H(H({},B),{},ye({},ce,M0e(E,H(H({},Q),{},{graphicalItems:W,stackGroups:Q.axisType===N&&q,dataStartIndex:C,dataEndIndex:T}))))},{}),F=L0e(H(H({},K),{},{props:E,graphicalItems:W}),w==null?void 0:w.legendBBox);Object.keys(K).forEach(function(B){K[B]=f(E,K[B],F,B.replace("Map",""),n)});var G=K["".concat(V,"Map")],Y=D0e(G),ne=d(E,H(H({},K),{},{dataStartIndex:C,dataEndIndex:T,updateId:I,graphicalItems:W,stackGroups:q,offset:F}));return H(H({formattedGraphicalItems:ne,graphicalItems:W,offset:F,stackGroups:q},Y),K)},m=function(v){function _(w){var E,C,T;return v0e(this,_),T=w0e(this,_,[w]),ye(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(T,"accessibilityManager",new i0e),ye(T,"handleLegendBBoxUpdate",function(I){if(I){var b=T.state,S=b.dataStartIndex,P=b.dataEndIndex,O=b.updateId;T.setState(H({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:P,updateId:O},H(H({},T.state),{},{legendBBox:I}))))}}),ye(T,"handleReceiveSyncEvent",function(I,b,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(b)}}),ye(T,"handleBrushChange",function(I){var b=I.startIndex,S=I.endIndex;if(b!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var P=T.state.updateId;T.setState(function(){return H({dataStartIndex:b,dataEndIndex:S},p({props:T.props,dataStartIndex:b,dataEndIndex:S,updateId:P},T.state))}),T.triggerSyncEvent({dataStartIndex:b,dataEndIndex:S})}}),ye(T,"handleMouseEnter",function(I){var b=T.getMouseInfo(I);if(b){var S=H(H({},b),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseEnter;Se(P)&&P(S,I)}}),ye(T,"triggeredAfterMouseMove",function(I){var b=T.getMouseInfo(I),S=b?H(H({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseMove;Se(P)&&P(S,I)}),ye(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),ye(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ye(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),ye(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};T.setState(b),T.triggerSyncEvent(b);var S=T.props.onMouseLeave;Se(S)&&S(b,I)}),ye(T,"handleOuterEvent",function(I){var b=eQ(I),S=fr(T.props,"".concat(b));if(b&&Se(S)){var P,O;/.*touch.*/i.test(b)?O=T.getMouseInfo(I.changedTouches[0]):O=T.getMouseInfo(I),S((P=O)!==null&&P!==void 0?P:{},I)}}),ye(T,"handleClick",function(I){var b=T.getMouseInfo(I);if(b){var S=H(H({},b),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onClick;Se(P)&&P(S,I)}}),ye(T,"handleMouseDown",function(I){var b=T.props.onMouseDown;if(Se(b)){var S=T.getMouseInfo(I);b(S,I)}}),ye(T,"handleMouseUp",function(I){var b=T.props.onMouseUp;if(Se(b)){var S=T.getMouseInfo(I);b(S,I)}}),ye(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),ye(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),ye(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),ye(T,"handleDoubleClick",function(I){var b=T.props.onDoubleClick;if(Se(b)){var S=T.getMouseInfo(I);b(S,I)}}),ye(T,"handleContextMenu",function(I){var b=T.props.onContextMenu;if(Se(b)){var S=T.getMouseInfo(I);b(S,I)}}),ye(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&h0.emit(d0,T.props.syncId,I,T.eventEmitterSymbol)}),ye(T,"applySyncEvent",function(I){var b=T.props,S=b.layout,P=b.syncMethod,O=T.state.updateId,k=I.dataStartIndex,M=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(H({dataStartIndex:k,dataEndIndex:M},p({props:T.props,dataStartIndex:k,dataEndIndex:M,updateId:O},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,V=I.chartY,W=I.activeTooltipIndex,q=T.state,K=q.offset,F=q.tooltipTicks;if(!K)return;if(typeof P=="function")W=P(F,I);else if(P==="value"){W=-1;for(var G=0;G<F.length;G++)if(F[G].value===I.activeLabel){W=G;break}}var Y=H(H({},K),{},{x:K.left,y:K.top}),ne=Math.min(N,Y.x+Y.width),B=Math.min(V,Y.y+Y.height),Q=F[W]&&F[W].value,ce=vb(T.state,T.props.data,W),he=F[W]?{x:S==="horizontal"?F[W].coordinate:ne,y:S==="horizontal"?B:F[W].coordinate}:_4;T.setState(H(H({},I),{},{activeLabel:Q,activeCoordinate:he,activePayload:ce,activeTooltipIndex:W}))}else T.setState(I)}),ye(T,"renderCursor",function(I){var b,S=T.state,P=S.isTooltipActive,O=S.activeCoordinate,k=S.activePayload,M=S.offset,N=S.activeTooltipIndex,V=S.tooltipAxisBandSize,W=T.getTooltipEventType(),q=(b=I.props.active)!==null&&b!==void 0?b:P,K=T.props.layout,F=I.key||"_recharts-cursor";return D.createElement(f0e,{key:F,activeCoordinate:O,activePayload:k,activeTooltipIndex:N,chartName:n,element:I,isActive:q,layout:K,offset:M,tooltipAxisBandSize:V,tooltipEventType:W})}),ye(T,"renderPolarAxis",function(I,b,S){var P=fr(I,"type.axisType"),O=fr(T.state,"".concat(P,"Map")),k=I.type.defaultProps,M=k!==void 0?H(H({},k),I.props):I.props,N=O&&O[M["".concat(P,"Id")]];return j.cloneElement(I,H(H({},N),{},{className:Le(P,N.className),key:I.key||"".concat(b,"-").concat(S),ticks:bi(N,!0)}))}),ye(T,"renderPolarGrid",function(I){var b=I.props,S=b.radialLines,P=b.polarAngles,O=b.polarRadius,k=T.state,M=k.radiusAxisMap,N=k.angleAxisMap,V=co(M),W=co(N),q=W.cx,K=W.cy,F=W.innerRadius,G=W.outerRadius;return j.cloneElement(I,{polarAngles:Array.isArray(P)?P:bi(W,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(O)?O:bi(V,!0).map(function(Y){return Y.coordinate}),cx:q,cy:K,innerRadius:F,outerRadius:G,key:I.key||"polar-grid",radialLines:S})}),ye(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,b=T.props,S=b.children,P=b.width,O=b.height,k=T.props.margin||{},M=P-(k.left||0)-(k.right||0),N=uF({children:S,formattedGraphicalItems:I,legendWidth:M,legendContent:u});if(!N)return null;var V=N.item,W=Xk(N,h0e);return j.cloneElement(V,H(H({},W),{},{chartWidth:P,chartHeight:O,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ye(T,"renderTooltip",function(){var I,b=T.props,S=b.children,P=b.accessibilityLayer,O=Hn(S,zr);if(!O)return null;var k=T.state,M=k.isTooltipActive,N=k.activeCoordinate,V=k.activePayload,W=k.activeLabel,q=k.offset,K=(I=O.props.active)!==null&&I!==void 0?I:M;return j.cloneElement(O,{viewBox:H(H({},q),{},{x:q.left,y:q.top}),active:K,label:W,payload:K?V:[],coordinate:N,accessibilityLayer:P})}),ye(T,"renderBrush",function(I){var b=T.props,S=b.margin,P=b.data,O=T.state,k=O.offset,M=O.dataStartIndex,N=O.dataEndIndex,V=O.updateId;return j.cloneElement(I,{key:I.key||"_recharts-brush",onChange:yd(T.handleBrushChange,I.props.onChange),data:P,x:se(I.props.x)?I.props.x:k.left,y:se(I.props.y)?I.props.y:k.top+k.height+k.brushBottom-(S.bottom||0),width:se(I.props.width)?I.props.width:k.width,startIndex:M,endIndex:N,updateId:"brush-".concat(V)})}),ye(T,"renderReferenceElement",function(I,b,S){if(!I)return null;var P=T,O=P.clipPathId,k=T.state,M=k.xAxisMap,N=k.yAxisMap,V=k.offset,W=I.type.defaultProps||{},q=I.props,K=q.xAxisId,F=K===void 0?W.xAxisId:K,G=q.yAxisId,Y=G===void 0?W.yAxisId:G;return j.cloneElement(I,{key:I.key||"".concat(b,"-").concat(S),xAxis:M[F],yAxis:N[Y],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:O})}),ye(T,"renderActivePoints",function(I){var b=I.item,S=I.activePoint,P=I.basePoint,O=I.childIndex,k=I.isRange,M=[],N=b.props.key,V=b.item.type.defaultProps!==void 0?H(H({},b.item.type.defaultProps),b.item.props):b.item.props,W=V.activeDot,q=V.dataKey,K=H(H({index:O,dataKey:q,cx:S.x,cy:S.y,r:4,fill:WE(b.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Re(W,!1)),qp(W));return M.push(_.renderActiveDot(W,K,"".concat(N,"-activePoint-").concat(O))),P?M.push(_.renderActiveDot(W,H(H({},K),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(O))):k&&M.push(null),M}),ye(T,"renderGraphicChild",function(I,b,S){var P=T.filterFormatItem(I,b,S);if(!P)return null;var O=T.getTooltipEventType(),k=T.state,M=k.isTooltipActive,N=k.tooltipAxis,V=k.activeTooltipIndex,W=k.activeLabel,q=T.props.children,K=Hn(q,zr),F=P.props,G=F.points,Y=F.isRange,ne=F.baseLine,B=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,Q=B.activeDot,ce=B.hide,he=B.activeBar,pe=B.activeShape,_e=!!(!ce&&M&&K&&(Q||he||pe)),Xe={};O!=="axis"&&K&&K.props.trigger==="click"?Xe={onClick:yd(T.handleItemMouseEnter,I.props.onClick)}:O!=="axis"&&(Xe={onMouseLeave:yd(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:yd(T.handleItemMouseEnter,I.props.onMouseEnter)});var ae=j.cloneElement(I,H(H({},P.props),Xe));function X(tr){return typeof N.dataKey=="function"?N.dataKey(tr.payload):null}if(_e)if(V>=0){var ie,U;if(N.dataKey&&!N.allowDuplicatedCategory){var ge=typeof N.dataKey=="function"?X:"payload.".concat(N.dataKey.toString());ie=Hp(G,ge,W),U=Y&&ne&&Hp(ne,ge,W)}else ie=G==null?void 0:G[V],U=Y&&ne&&ne[V];if(pe||he){var L=I.props.activeIndex!==void 0?I.props.activeIndex:V;return[j.cloneElement(I,H(H(H({},P.props),Xe),{},{activeIndex:L})),null,null]}if(!Ce(ie))return[ae].concat(Ul(T.renderActivePoints({item:P,activePoint:ie,basePoint:U,childIndex:V,isRange:Y})))}else{var ee,Te=(ee=T.getItemByXY(T.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:ae},Me=Te.graphicalItem,Et=Me.item,vr=Et===void 0?I:Et,Yi=Me.childIndex,Un=H(H(H({},P.props),Xe),{},{activeIndex:Yi});return[j.cloneElement(vr,Un),null,null]}return Y?[ae,null,null]:[ae,null]}),ye(T,"renderCustomized",function(I,b,S){return j.cloneElement(I,H(H({key:"recharts-customized-".concat(S)},T.props),T.state))}),ye(T,"renderMap",{CartesianGrid:{handler:xd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:xd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:xd},YAxis:{handler:xd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((E=w.id)!==null&&E!==void 0?E:hh("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=l$(T.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return E0e(_,v),_0e(_,[{key:"componentDidMount",value:function(){var E,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,C=E.children,T=E.data,I=E.height,b=E.layout,S=Hn(C,zr);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=vb(this.state,T,P,O),M=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+I)/2,V=b==="horizontal",W=V?{x:M,y:N}:{y:M,x:N},q=this.state.formattedGraphicalItems.find(function(F){var G=F.item;return G.type.name==="Scatter"});q&&(W=H(H({},W),q.props.points[P].tooltipPosition),k=q.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:W};this.setState(K),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(E){Q_([Hn(E.children,zr)],[Hn(this.props.children,zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Hn(this.props.children,zr);if(E&&typeof E.props.shared=="boolean"){var C=E.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),I=Tse(T),b={chartX:Math.round(E.pageX-I.left),chartY:Math.round(E.pageY-I.top)},S=T.width/C.offsetWidth||1,P=this.inRange(b.chartX,b.chartY,S);if(!P)return null;var O=this.state,k=O.xAxisMap,M=O.yAxisMap,N=this.getTooltipEventType(),V=eN(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&k&&M){var W=co(k).scale,q=co(M).scale,K=W&&W.invert?W.invert(b.chartX):null,F=q&&q.invert?q.invert(b.chartY):null;return H(H({},b),{},{xValue:K,yValue:F},V)}return V?H(H({},b),V):null}},{key:"inRange",value:function(E,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,b=E/T,S=C/T;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,O=b>=P.left&&b<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return O?{x:b,y:S}:null}var k=this.state,M=k.angleAxisMap,N=k.radiusAxisMap;if(M&&N){var V=co(M);return IO({x:b,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,C=this.getTooltipEventType(),T=Hn(E,zr),I={};T&&C==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=qp(this.props,this.handleOuterEvent);return H(H({},b),I)}},{key:"addListener",value:function(){h0.on(d0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h0.removeListener(d0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,C,T){for(var I=this.state.formattedGraphicalItems,b=0,S=I.length;b<S;b++){var P=I[b];if(P.item===E||P.props.key===E.key||C===Ti(P.item.type)&&T===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,C=this.state.offset,T=C.left,I=C.top,b=C.height,S=C.width;return D.createElement("defs",null,D.createElement("clipPath",{id:E},D.createElement("rect",{x:T,y:I,height:b,width:S})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(C,T){var I=Qk(T,2),b=I[0],S=I[1];return H(H({},C),{},ye({},b,S.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(C,T){var I=Qk(T,2),b=I[0],S=I[1];return H(H({},C),{},ye({},b,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(E){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(E){var C=this.state,T=C.formattedGraphicalItems,I=C.activeItem;if(T&&T.length)for(var b=0,S=T.length;b<S;b++){var P=T[b],O=P.props,k=P.item,M=k.type.defaultProps!==void 0?H(H({},k.type.defaultProps),k.props):k.props,N=Ti(k.type);if(N==="Bar"){var V=(O.data||[]).find(function(F){return spe(E,F)});if(V)return{graphicalItem:P,payload:V}}else if(N==="RadialBar"){var W=(O.data||[]).find(function(F){return IO(E,F)});if(W)return{graphicalItem:P,payload:W}}else if(xy(P,I)||Ey(P,I)||jf(P,I)){var q=ume({graphicalItem:P,activeTooltipItem:I,itemData:M.data}),K=M.activeIndex===void 0?q:M.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:K}),payload:jf(P,I)?M.data[q]:P.props.data[q]}}}return null}},{key:"render",value:function(){var E=this;if(!dP(this))return null;var C=this.props,T=C.children,I=C.className,b=C.width,S=C.height,P=C.style,O=C.compact,k=C.title,M=C.desc,N=Xk(C,d0e),V=Re(N,!1);if(O)return D.createElement(Ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(J_,Da({},V,{width:b,height:S,title:k,desc:M}),this.renderClipPath(),mP(T,this.renderMap)));if(this.props.accessibilityLayer){var W,q;V.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,V.role=(q=this.props.role)!==null&&q!==void 0?q:"application",V.onKeyDown=function(F){E.accessibilityManager.keyboardEvent(F)},V.onFocus=function(){E.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return D.createElement(Ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Da({className:Le("recharts-wrapper",I),style:H({position:"relative",cursor:"default",width:b,height:S},P)},K,{ref:function(G){E.container=G}}),D.createElement(J_,Da({},V,{width:b,height:S,title:k,desc:M,style:C0e}),this.renderClipPath(),mP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ye(m,"displayName",n),ye(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),ye(m,"getDerivedStateFromProps",function(v,_){var w=v.dataKey,E=v.data,C=v.children,T=v.width,I=v.height,b=v.layout,S=v.stackOffset,P=v.margin,O=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var M=tN(v);return H(H(H({},M),{},{updateId:0},p(H(H({props:v},M),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:E,prevWidth:T,prevHeight:I,prevLayout:b,prevStackOffset:S,prevMargin:P,prevChildren:C})}if(w!==_.prevDataKey||E!==_.prevData||T!==_.prevWidth||I!==_.prevHeight||b!==_.prevLayout||S!==_.prevStackOffset||!Qa(P,_.prevMargin)){var N=tN(v),V={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},W=H(H({},eN(_,E,b)),{},{updateId:_.updateId+1}),q=H(H(H({},N),V),W);return H(H(H({},q),p(H({props:v},q),_)),{},{prevDataKey:w,prevData:E,prevWidth:T,prevHeight:I,prevLayout:b,prevStackOffset:S,prevMargin:P,prevChildren:C})}if(!Q_(C,_.prevChildren)){var K,F,G,Y,ne=Hn(C,kl),B=ne&&(K=(F=ne.props)===null||F===void 0?void 0:F.startIndex)!==null&&K!==void 0?K:O,Q=ne&&(G=(Y=ne.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&G!==void 0?G:k,ce=B!==O||Q!==k,he=!Ce(E),pe=he&&!ce?_.updateId:_.updateId+1;return H(H({updateId:pe},p(H(H({props:v},_),{},{updateId:pe,dataStartIndex:B,dataEndIndex:Q}),_)),{},{prevChildren:C,dataStartIndex:B,dataEndIndex:Q})}return null}),ye(m,"renderActiveDot",function(v,_,w){var E;return j.isValidElement(v)?E=j.cloneElement(v,_):Se(v)?E=v(_):E=D.createElement(HE,_),D.createElement(xt,{className:"recharts-active-dot",key:w},E)});var g=j.forwardRef(function(_,w){return D.createElement(m,Da({},_,{ref:w}))});return g.displayName=m.displayName,g},V0e=F0e({chartName:"LineChart",GraphicalChild:wh,axisComponents:[{axisType:"xAxis",AxisComp:Cy},{axisType:"yAxis",AxisComp:Oy}],formatAxisMap:Mge});const U0e=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),B0e=({className:t=""})=>x.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),z0e=({className:t=""})=>x.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("circle",{cx:"12",cy:"8",r:"4"}),x.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),Gm=({className:t=""})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),W0e=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[x.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),x.jsx("polyline",{points:"16 6 12 2 8 6"}),x.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),G0e=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),H0e=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),q0e=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),K0e=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[x.jsx("path",{d:"M3 3v18h18"}),x.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Y0e=({className:t=""})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:x.jsx("polyline",{points:"9 18 15 12 9 6"})}),Hm=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Q0e=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function X0e({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:x.jsx(Q0e,{})})]}),x.jsx("div",{style:{width:"100%",height:300},children:x.jsx(vse,{children:x.jsxs(V0e,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[x.jsx(i4,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(Cy,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),x.jsx(Oy,{stroke:"#6b7280"}),x.jsx(zr,{content:({active:i,payload:o,label:s})=>{if(!i||!(o!=null&&o.length))return null;const a=o[0].payload;return x.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Date:"})," ",a.date]}),a.team&&a.opponent&&x.jsxs("div",{children:[x.jsx("strong",{children:"Teams:"})," ",a.team," vs ",a.opponent]}),x.jsxs("div",{children:[x.jsxs("strong",{children:[n,":"]})," ",a.value]})]})}}),x.jsx(As,{wrapperStyle:{color:"#e2e8f0"}}),x.jsx(wh,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const J0e={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"🏀",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"🔥",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"💯",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"🎯",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"🎯",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"🤝",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"🛡️",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"💪",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"⭐",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"✨",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"🎪",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},Z0e=t=>{const e=[];return Object.values(J0e).forEach(n=>{n.check(t)&&e.push(n)}),e},e_e=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return x.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[x.jsx("span",{children:t.emoji}),x.jsx("span",{className:"hidden sm:inline",children:t.name})]})},t_e=({badges:t})=>t.length===0?null:x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"🏆"}),x.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),x.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>x.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&x.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),n_e=({badges:t})=>t.length===0?x.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):x.jsxs("div",{className:"mt-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"🏆 Achievements"}),x.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>x.jsx(e_e,{badge:e,size:"sm"},e.id))})]}),r_e=({className:t=""})=>x.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),i_e=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),o_e=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=j.useState(!1),[o,s]=j.useState(""),[a,l]=j.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const c=o.includes("icloud.com"),d={id:Date.now()+Math.random(),url:o.trim(),description:a.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:c};if(!(c&&!window.confirm(`⚠️ iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
• Google Photos (shareable links)
• iCloud Shared Albums
• Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,d];n(t,p),s(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},f=c=>{const d=e.filter(p=>p.id!==c);n(t,d)};return x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"📸 Game Photos"}),x.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[x.jsx(i_e,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&x.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[x.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:c=>s(c.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),x.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:a,onChange:c=>l(c.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),x.jsx("button",{onClick:()=>{i(!1),s(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),x.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",x.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",x.jsx("br",{}),"📱 ",x.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&x.jsx("div",{className:"space-y-2",children:e.map(c=>x.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[x.jsx("img",{src:c.url,alt:c.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(c.url,"_blank"),onError:d=>{d.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[c.description,c.isICloudLink&&x.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:"☁️"})]}),x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(c.timestamp).toLocaleDateString()})]}),x.jsx("button",{onClick:()=>f(c.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:"×"})]},c.id))}),e.length===0&&!r&&x.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},s_e=({photos:t=[]})=>t.length===0?null:x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx(r_e,{className:"w-3 h-3 text-gray-500"}),x.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),x.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>x.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&x.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),a_e=o_e,l_e=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),u_e=({isExpanded:t,className:e=""})=>x.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),at=({label:t,value:e,onClick:n,clickable:r})=>x.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""}`,onClick:r?n:void 0,children:[x.jsx("span",{className:"text-xs text-orange-500 mb-1",children:t}),x.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function c_e(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function f_e({stats:t=[],onDeleteGame:e,onUpdateGamePhotos:n,externalFilters:r={}}){j.useState("");const[i,o]=j.useState(null),[s,a]=j.useState(r.searchTerm||""),[l,u]=j.useState(r.dateFilter||""),[f,c]=j.useState(r.outcomeFilter||""),[d,p]=j.useState([]),[m,g]=j.useState(!0),[v,_]=j.useState(1),[w,E]=j.useState(null),[C,T]=j.useState(null);j.useState(!1);const[I,b]=j.useState([]),[S,P]=j.useState(!1),[O,k]=j.useState(!1),M=4;j.useEffect(()=>{a(r.searchTerm||""),u(r.dateFilter||""),c(r.outcomeFilter||""),_(1)},[r]);const N=j.useMemo(()=>{const L=new Set;return(t||[]).forEach(ee=>{ee.opponent&&L.add(ee.opponent.trim())}),Array.from(L)},[t]);j.useMemo(()=>s?N.filter(L=>L.toLowerCase().includes(s.toLowerCase())).slice(0,7):[],[N,s]);const V=(t||[]).reduce((L,ee)=>(L.points=(L.points||0)+(parseInt(ee.points,10)||0),L.fg2m=(L.fg2m||0)+(parseInt(ee.fg2m,10)||0),L.fg2a=(L.fg2a||0)+(parseInt(ee.fg2a,10)||0),L.fg3m=(L.fg3m||0)+(parseInt(ee.fg3m,10)||0),L.fg3a=(L.fg3a||0)+(parseInt(ee.fg3a,10)||0),L.ftm=(L.ftm||0)+(parseInt(ee.ftm,10)||0),L.fta=(L.fta||0)+(parseInt(ee.fta,10)||0),L.rebounds=(L.rebounds||0)+(parseInt(ee.rebounds,10)||0),L.assists=(L.assists||0)+(parseInt(ee.assists,10)||0),L.steals=(L.steals||0)+(parseInt(ee.steals,10)||0),L.blocks=(L.blocks||0)+(parseInt(ee.blocks,10)||0),L.fouls=(L.fouls||0)+(parseInt(ee.fouls,10)||0),L.turnovers=(L.turnovers||0)+(parseInt(ee.turnovers,10)||0),L.gamesPlayed=(L.gamesPlayed||0)+1,L),{}),W=(V.fg2m||0)+(V.fg3m||0),q=(V.fg2a||0)+(V.fg3a||0),K=(L,ee)=>!ee||ee===0?"0%":`${Math.round(L/ee*100)}%`,F=(L,ee)=>!ee||ee===0?L>0?`${L.toFixed(1)}`:"0.0":(L/ee).toFixed(2),G=j.useMemo(()=>{let L=[...t||[]];return s&&(L=L.filter(ee=>(ee.opponent||"").toLowerCase().includes(s.toLowerCase()))),l&&(L=L.filter(ee=>ee.date===l)),f&&(L=L.filter(ee=>ee.outcome===f)),L.sort((ee,Te)=>ee.timestamp<Te.timestamp?1:ee.timestamp>Te.timestamp?-1:0),L},[t,s,l,f]),Y=j.useMemo(()=>{const L=(v-1)*M;return G.slice(L,L+M)},[G,v]),ne=Math.ceil(G.length/M),B=(L,ee)=>{if(L==="gamesPlayed")o({statKey:L,statName:"Games Played per Age",data:c_e(t||[])});else{const Te=[...t||[]].sort((Me,Et)=>(Me.timestamp||0)-(Et.timestamp||0)).map(Me=>({value:L==="assistTurnoverRatio"?Me.turnovers?(Me.assists/Me.turnovers).toFixed(2):"0.00":Me[L]||0,date:new Date(Me.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:Me.teamName,opponent:Me.opponent}));o({statKey:L,statName:ee,data:Te})}},Q=()=>{P(!S),b([])},ce=L=>{b(ee=>ee.includes(L)?ee.filter(Te=>Te!==L):[...ee,L])},he=()=>{const L=Y.map(ee=>ee.id);b(L)},pe=()=>{b([])},_e=()=>{k(!0)},Xe=()=>{I.forEach(L=>{e(L)}),b([]),P(!1),k(!1)},ae=L=>E(L),X=()=>{C&&(onDeleteTeam(C),T(null))},ie=L=>{S||p(ee=>ee.includes(L)?ee.filter(Te=>Te!==L):[...ee,L])},U=L=>L==null||L===""?0:L,ge=L=>{if(!L)return"No date";const ee=new Date(L);return ee.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+ee.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return x.jsxs(x.Fragment,{children:[i&&x.jsx(X0e,{graphData:i,onClose:()=>o(null)}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"lg:col-span-1 space-y-6",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),x.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[x.jsx(at,{label:"Games Played",value:V.gamesPlayed||0}),x.jsx(at,{label:"Points",value:V.points||0,clickable:!0,onClick:()=>B("points","Points")}),x.jsx(at,{label:"Rebounds",value:V.rebounds||0,clickable:!0,onClick:()=>B("rebounds","Rebounds")}),x.jsx(at,{label:"Assists",value:V.assists||0,clickable:!0,onClick:()=>B("assists","Assists")}),x.jsx(at,{label:"Steals",value:V.steals||0,clickable:!0,onClick:()=>B("steals","Steals")}),x.jsx(at,{label:"Blocks",value:V.blocks||0,clickable:!0,onClick:()=>B("blocks","Blocks")}),x.jsx(at,{label:"Fouls",value:V.fouls||0,clickable:!0,onClick:()=>B("fouls","Fouls")}),x.jsx(at,{label:"Turnovers",value:V.turnovers||0,clickable:!0,onClick:()=>B("turnovers","Turnovers")}),x.jsx(at,{label:"A/T Ratio",value:F(V.assists,V.turnovers)})]}),x.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),x.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[x.jsx(at,{label:"FG%",value:K(W,q)}),x.jsx(at,{label:"FT%",value:K(V.ftm,V.fta)}),x.jsx(at,{label:"2-Point %",value:K(V.fg2m,V.fg2a)}),x.jsx(at,{label:"3-Point %",value:K(V.fg3m,V.fg3a)})]})]})}),x.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>g(!m),children:[x.jsx(u_e,{isExpanded:m}),x.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"})]}),m&&x.jsxs(x.Fragment,{children:[(r.searchTerm||r.dateFilter||r.outcomeFilter)&&x.jsxs("div",{className:"mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[x.jsx("div",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 mb-1",children:"Active Filters:"}),x.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-300",children:[r.searchTerm&&x.jsxs("span",{className:"block",children:["• Opponent: ",r.searchTerm]}),r.dateFilter&&x.jsxs("span",{className:"block",children:["• Date: ",new Date(r.dateFilter).toLocaleDateString()]}),r.outcomeFilter&&x.jsxs("span",{className:"block",children:["• Result: ",r.outcomeFilter==="W"?"Wins":r.outcomeFilter==="L"?"Losses":"Ties"]})]}),x.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Use the filter button in the header to modify filters"})]}),x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:Q,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${S?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:S?"Cancel":"Select"}),S&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:he,className:"px-2 py-1 rounded text-xs bg-blue-500 text-white hover:bg-blue-600",children:"Select All"}),x.jsx("button",{onClick:pe,className:"px-2 py-1 rounded text-xs bg-gray-500 text-white hover:bg-gray-600",children:"Clear"})]})]}),S&&I.length>0&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.length," selected"]}),x.jsxs("button",{onClick:_e,className:"px-3 py-1 rounded text-sm bg-red-500 text-white hover:bg-red-600 flex items-center gap-1",children:[x.jsx(Hm,{}),"Delete Selected"]})]})]}),x.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:Y.length>0?Y.map(L=>{const ee=d.includes(L.id),Te=I.includes(L.id),Me=Z0e(L);return x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[x.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>S?ce(L.id):ie(L.id),children:[x.jsxs("div",{className:"flex items-center gap-2",children:[S&&x.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Te?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:Et=>{Et.stopPropagation(),ce(L.id)},children:Te&&x.jsx(l_e,{className:"w-3 h-3 text-white"})}),!S&&x.jsx(Y0e,{className:`transition-transform duration-200 text-black dark:text-white ${ee?"rotate-90":""}`,style:{minWidth:20}}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:ge(L.timestamp)}),x.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[L.teamName," vs ",L.opponent]}),L.location&&x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:["📍 ",L.location]}),x.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:L.adminName?`Scored by ${L.adminName}`:""}),x.jsx(t_e,{badges:Me}),x.jsx(s_e,{photos:L.photos})]})]}),x.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${L.outcome==="W"?"bg-green-100 text-green-800":L.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[L.outcome||"T"," ",U(L.myTeamScore),"-",U(L.opponentScore)]}),!S&&x.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:Et=>{Et.stopPropagation(),ae(L.id)},title:"Delete Game",children:x.jsx(Hm,{})})]})]}),ee&&!S&&x.jsxs("div",{className:"p-4 pt-2 relative",children:[x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[x.jsx(at,{label:"Points",value:U(L.points)}),x.jsx(at,{label:"2-Point Made/Att",value:`${U(L.fg2m)}/${U(L.fg2a)}`}),x.jsx(at,{label:"3-Point Made/Att",value:`${U(L.fg3m)}/${U(L.fg3a)}`}),x.jsx(at,{label:"FT Made/Att",value:`${U(L.ftm)}/${U(L.fta)}`}),x.jsx(at,{label:"Rebounds",value:U(L.rebounds)}),x.jsx(at,{label:"Assists",value:U(L.assists)}),x.jsx(at,{label:"Steals",value:U(L.steals)}),x.jsx(at,{label:"Blocks",value:U(L.blocks)}),x.jsx(at,{label:"Fouls",value:U(L.fouls)}),x.jsx(at,{label:"Turnovers",value:U(L.turnovers)}),x.jsx(at,{label:"A/T Ratio",value:F(U(L.assists),U(L.turnovers))})]}),x.jsx(n_e,{badges:Me}),x.jsx(a_e,{gameId:L.id,photos:L.photos||[],onPhotosUpdate:n||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},L.id)}):x.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),ne>1&&x.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[x.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>_(L=>Math.max(1,L-1)),disabled:v===1,children:"Prev"}),x.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",v," of ",ne]}),x.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>_(L=>Math.min(ne,L+1)),disabled:v===ne,children:"Next"})]})]})]})]}),O&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",I.length," Games?"]}),x.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete ",I.length," selected game",I.length!==1?"s":"","? This cannot be undone."]}),x.jsxs("div",{className:"flex gap-4 justify-end",children:[x.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>k(!1),children:"Cancel"}),x.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Xe,children:["Delete ",I.length," Game",I.length!==1?"s":""]})]})]})}),w&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),x.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this game? This cannot be undone."}),x.jsxs("div",{className:"flex gap-4 justify-end",children:[x.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>E(null),children:"Cancel"}),x.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{w&&(e(w),E(null))},children:"Delete"})]})]})}),C&&x.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[x.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),x.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),x.jsx("div",{className:"flex gap-4 justify-end",children:x.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:X,children:"Delete"})})]})})]})}const h_e=({className:t=""})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function d_e({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=j.useRef(null);j.useEffect(()=>{const c=d=>{o.current&&!o.current.contains(d.target)&&r&&r()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[r]);const s=[...new Set(t.map(c=>c.opponent).filter(Boolean))].sort(),a=[...new Set(t.map(c=>c.date).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),r&&r()},f=c=>{n(c),r&&r()};return x.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&x.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600",children:[x.jsx(h_e,{className:"w-3 h-3"}),"Clear"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),x.jsxs("select",{value:e.searchTerm||"",onChange:c=>f({...e,searchTerm:c.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All opponents"}),s.map((c,d)=>x.jsx("option",{value:c,children:c},d))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),x.jsxs("select",{value:e.dateFilter||"",onChange:c=>f({...e,dateFilter:c.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All dates"}),a.map((c,d)=>x.jsx("option",{value:c,children:new Date(c).toLocaleDateString()},d))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),x.jsxs("select",{value:e.outcomeFilter||"",onChange:c=>f({...e,outcomeFilter:c.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none",children:[x.jsx("option",{value:"",children:"All games"}),x.jsx("option",{value:"W",children:"Wins"}),x.jsx("option",{value:"L",children:"Losses"}),x.jsx("option",{value:"T",children:"Ties"})]})]}),l&&x.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&x.jsxs("span",{className:"block",children:["• Opponent: ",e.searchTerm]}),e.dateFilter&&x.jsxs("span",{className:"block",children:["• Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&x.jsxs("span",{className:"block",children:["• Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const p_e=({active:t})=>x.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function m0({user:t,admins:e=[],viewers:n=[],onSignOut:r,setPage:i,theme:o,page:s,liveGameId:a,goToLiveGame:l,openSettingsModal:u,onSignIn:f,games:c=[],dashboardFilters:d={},onDashboardFiltersChange:p}){const[m,g]=j.useState(!1),v=!!a,_=()=>{v&&(s==="live_admin"?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&l():l())},w=x.jsxs("button",{disabled:!v,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${v?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:_,title:v?"Watch Live Game":"No Live Game In Progress",children:[x.jsx(p_e,{active:v}),x.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),E=d.searchTerm||d.dateFilter||d.outcomeFilter,C=T=>{p&&p(T)};return x.jsx("header",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200 dark:border-gray-700",children:x.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>i("game_setup"),children:x.jsx(Gm,{className:"h-7 w-7 sm:h-8 sm:w-8 text-orange-500 animate-spin-slow hover:scale-110 transition-transform"})}),w]}),x.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[x.jsx("button",{onClick:u,className:`flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg p-2 transition-all border-2 ${e.length===0?"border-transparent":e.length===1?"border-blue-300 shadow-sm shadow-blue-300/30":e.length===2?"border-blue-400 shadow-md shadow-blue-400/40":"border-blue-500 shadow-lg shadow-blue-500/50"}`,title:"Settings",children:x.jsx(B0e,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),x.jsx("button",{onClick:()=>i("dashboard"),className:`flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg p-2 transition-all border-2 ${n.length===0?"border-transparent":n.length===1?"border-green-300 shadow-sm shadow-green-300/30":n.length<=3?"border-green-400 shadow-md shadow-green-400/40":"border-green-500 shadow-lg shadow-green-500/50"}`,title:"Dashboard",children:x.jsx(K0e,{className:"h-5 w-5"})}),t&&x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>{s==="dashboard"&&g(!m)},className:`flex items-center justify-center rounded-lg p-2 transition-all border-2 ${s==="dashboard"?`bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 cursor-pointer ${E?"border-orange-300 shadow-sm shadow-orange-300/30":"border-transparent"}`:"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed border-transparent"}`,title:s==="dashboard"?"Filter games":"Filter only available on Dashboard",disabled:s!=="dashboard",children:[x.jsx(U0e,{className:"h-5 w-5 sm:h-6 sm:w-6"}),E&&s==="dashboard"&&x.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full"})]}),m&&s==="dashboard"&&x.jsx(d_e,{games:c,filters:d,onFiltersChange:C,onClose:()=>g(!1)})]}),t?x.jsx("button",{onClick:r,className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all",title:"Sign Out",children:x.jsx(G0e,{className:"h-5 w-5"})}):f&&x.jsx("button",{onClick:f,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all",title:"Sign In",children:x.jsx(z0e,{className:"h-5 w-5"})})]})]})})})}function m_e({onSignIn:t}){return x.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:x.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx(Gm,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),x.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),x.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[x.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[x.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),x.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),x.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),x.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]})]})})}function xn({label:t,value:e,onIncrement:n,onDecrement:r}){return x.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[x.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:"−"}),x.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),x.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function Za({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:s=!1}){return x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),x.jsx("div",{className:"flex justify-center items-center gap-4",children:s?x.jsx(xn,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):x.jsxs(x.Fragment,{children:[x.jsx(xn,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),x.jsx(xn,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function nS({status:t}){return t==="saving"?x.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[x.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),x.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}function rS(t,e="viewer",n=null){var s;if(!t)return;const r=t.displayName||t.name||"Anonymous",i=t.uid||"Viewer #"+(((s=t.uid)==null?void 0:s.slice(-4))||Math.floor(Math.random()*1e3)),o=e==="viewer"&&n?`presence/viewers/${n}/${i}`:`presence/${e}s/${i}`;Hj(W1(K1,o),{uid:i,name:r,mode:e,liveGameId:n||null,ts:Date.now()})}function us(t,e="viewer",n=null){if(!t)return;const r=e==="viewer"&&n?`presence/viewers/${n}/${t.uid}`:`presence/${e}s/${t.uid}`;HH(W1(K1,r))}function _b(t="viewer",e=null,n){const r=t==="viewer"&&e?`presence/viewers/${e}`:`presence/${t}s`;return KH(W1(K1,r),i=>{const o=i.val()||{};n(Object.values(o))})}const g_e=({isExpanded:t,className:e=""})=>x.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function y_e({db:t,gameId:e,user:n,onEndGame:r}){var Y,ne;const[i,o]=j.useState(null),[s,a]=j.useState(""),[l,u]=j.useState(!1),[f,c]=j.useState(null),[d,p]=j.useState(0),[m,g]=j.useState(0),v=j.useRef(null),_=j.useRef(null);j.useEffect(()=>{if(!n)return;rS(n,"admin");const B=()=>us(n,"admin");return window.addEventListener("beforeunload",B),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&B()}),()=>{B(),window.removeEventListener("beforeunload",B),document.removeEventListener("visibilitychange",B)}},[n]),j.useEffect(()=>{const B=ka(In(t,"liveGames",e),Q=>{if(Q.exists()){const ce={id:Q.id,...Q.data()};_.current=ce.period,o(ce);const he=Date.now();if(ce.isRunning&&ce.clockStartTime){const pe=he-ce.clockStartTime,_e=Math.floor(pe/1e3),Xe=Math.max(0,ce.clockAtStart-_e),ae=Math.max(0,ce.clockAtStart*1e3-pe)/100;p(Xe),g(ae)}else p(ce.clock||0),g((ce.clock||0)*10)}else o(null),p(0)});return()=>{B(),v.current&&(clearInterval(v.current),v.current=null)}},[t,e]),j.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const B=d<=60?100:1e3;v.current=setInterval(()=>{const ce=Date.now()-data.clockStartTime,he=Math.floor(ce/1e3),pe=Math.max(0,data.clockAtStart-he),_e=Math.max(0,data.clockAtStart*1e3-ce)/100;p(pe),g(_e),pe<=0&&i.isRunning&&w()},B)}else v.current&&(clearInterval(v.current),v.current=null);return()=>{v.current&&(clearInterval(v.current),v.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,d,e]);const w=()=>{if(!i)return;const Q=i.gameFormat==="halves"?2:4;i.period===Q?is(In(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):is(In(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},E=(B,Q)=>{if(!i)return;const ce=B==="home"?"homeScore":"awayScore";if(Q<0&&i[ce]<=0)return;const he={[ce]:Zo(Q)};if(!i.isRunning){const _e=Date.now();he.isRunning=!0,he.clockStartTime=_e,he.clockAtStart=i.clock||i.periodLength*60}const pe=is(In(t,"liveGames",e),he);T(pe)},C=(B,Q)=>{const ce=In(t,"liveGames",e),he=i.playerStats,pe=Math.max(0,he[B]+Q),_e={[`playerStats.${B}`]:pe};if(!i.isRunning){const ae=Date.now();_e.isRunning=!0,_e.clockStartTime=ae,_e.clockAtStart=i.clock||i.periodLength*60}Q>0?(B==="fg2m"&&(_e.homeScore=Zo(2)),B==="fg3m"&&(_e.homeScore=Zo(3)),B==="ftm"&&(_e.homeScore=Zo(1))):Q<0&&(B==="fg2m"&&he.fg2m>0&&(_e.homeScore=Zo(-2)),B==="fg3m"&&he.fg3m>0&&(_e.homeScore=Zo(-3)),B==="ftm"&&he.ftm>0&&(_e.homeScore=Zo(-1))),B==="fg2m"&&Q>0&&pe>he.fg2a&&(_e["playerStats.fg2a"]=pe),B==="fg2a"&&Q<0&&pe<he.fg2m&&(_e["playerStats.fg2m"]=pe),B==="fg3m"&&Q>0&&pe>he.fg3a&&(_e["playerStats.fg3a"]=pe),B==="fg3a"&&Q<0&&pe<he.fg3m&&(_e["playerStats.fg3m"]=pe),B==="ftm"&&Q>0&&pe>he.fta&&(_e["playerStats.fta"]=pe),B==="fta"&&Q<0&&pe<he.ftm&&(_e["playerStats.ftm"]=pe);const Xe=is(ce,_e);T(Xe)},T=async B=>{c("saving");try{await B,c("success")}catch{c("error")}finally{setTimeout(()=>{c(null)},1200)}},I=()=>{if(!i)return;const B=Date.now();let Q;if(i.isRunning){const he=i.clockStartTime?Math.floor((B-i.clockStartTime)/1e3):0,pe=Math.max(0,i.clockAtStart-he);Q={isRunning:!1,clock:pe,clockStartTime:null,clockAtStart:pe}}else Q={isRunning:!0,clockStartTime:B,clockAtStart:i.clock||i.periodLength*60};const ce=is(In(t,"liveGames",e),Q);T(ce)},b=()=>{const B=In(t,"liveGames",e),ce=i.gameFormat==="halves"?2:4;i.period===ce?typeof r=="function"&&r(e):is(B,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},S=()=>{const B=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(B),a("Copied!"),setTimeout(()=>a(""),2e3)};if(!i)return x.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const P=(B,Q)=>{if(B<=59){const ce=Math.floor(Q/10),he=Math.floor(Q%10);return`${ce}.${he}`}else return`${String(Math.floor(B/60)).padStart(2,"0")}:${String(B%60).padStart(2,"0")}`},O=i.playerStats||{},k=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,V=i.period===N,W=V&&d===0&&!i.isRunning,q=W||V?"End Game":"Next",K=d<=120||V&&d===0,F=d<=60&&d>0,G=Math.max(((Y=i.teamName)==null?void 0:Y.length)||1,((ne=i.opponent)==null?void 0:ne.length)||1);return x.jsxs("div",{className:"h-screen flex flex-col",children:[W&&x.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[x.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),x.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[x.jsx("div",{className:"absolute top-2 right-2",children:x.jsx(nS,{status:f})}),x.jsx("div",{className:"flex justify-center items-center text-center mb-4",children:x.jsxs("div",{className:"flex flex-col items-center justify-center",children:[x.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${F?"text-red-500 animate-pulse scale-110 font-bold":K?"text-red-500 animate-pulse":""}`,children:P(d,m)}),x.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[k," ",i.period]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.teamName}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[x.jsx("button",{onClick:()=>E("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:"−"}),x.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),x.jsx("button",{onClick:()=>E("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.opponent}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[x.jsx("button",{onClick:()=>E("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:"−"}),x.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),x.jsx("button",{onClick:()=>E("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:x.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[x.jsx(g_e,{isExpanded:!l}),x.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx(Za,{label:"2-Pointers",madeValue:O.fg2m,attValue:O.fg2a,onStatChange:C,madeKey:"fg2m",attKey:"fg2a"}),x.jsx(Za,{label:"3-Pointers",madeValue:O.fg3m,attValue:O.fg3a,onStatChange:C,madeKey:"fg3m",attKey:"fg3a"}),x.jsx(Za,{label:"Free Throws",madeValue:O.ftm,attValue:O.fta,onStatChange:C,madeKey:"ftm",attKey:"fta"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsx(xn,{label:"Rebounds",value:O.rebounds,onIncrement:()=>C("rebounds",1),onDecrement:()=>C("rebounds",-1)}),x.jsx(xn,{label:"Assists",value:O.assists,onIncrement:()=>C("assists",1),onDecrement:()=>C("assists",-1)}),x.jsx(xn,{label:"Steals",value:O.steals,onIncrement:()=>C("steals",1),onDecrement:()=>C("steals",-1)}),x.jsx(xn,{label:"Blocks",value:O.blocks,onIncrement:()=>C("blocks",1),onDecrement:()=>C("blocks",-1)}),x.jsx(xn,{label:"Fouls",value:O.fouls,onIncrement:()=>C("fouls",1),onDecrement:()=>C("fouls",-1)}),x.jsx(xn,{label:"Turnovers",value:O.turnovers,onIncrement:()=>C("turnovers",1),onDecrement:()=>C("turnovers",-1)})]})]})]}),x.jsx("div",{className:"h-20"})]})}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:x.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsx("button",{onClick:S,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:s||x.jsx(W0e,{})}),x.jsx("button",{onClick:I,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:W,children:i.isRunning?"Pause":"Start"}),x.jsx("button",{onClick:b,className:`w-full font-bold py-3 rounded-lg text-lg ${W?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:q})]})})})]})]})}const qt=[];for(let t=0;t<256;++t)qt.push((t+256).toString(16).slice(1));function v_e(t,e=0){return(qt[t[e+0]]+qt[t[e+1]]+qt[t[e+2]]+qt[t[e+3]]+"-"+qt[t[e+4]]+qt[t[e+5]]+"-"+qt[t[e+6]]+qt[t[e+7]]+"-"+qt[t[e+8]]+qt[t[e+9]]+"-"+qt[t[e+10]]+qt[t[e+11]]+qt[t[e+12]]+qt[t[e+13]]+qt[t[e+14]]+qt[t[e+15]]).toLowerCase()}let g0;const __e=new Uint8Array(16);function w_e(){if(!g0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g0=crypto.getRandomValues.bind(crypto)}return g0(__e)}const b_e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rN={randomUUID:b_e};function x_e(t,e,n){var i;if(rN.randomUUID&&!e&&!t)return rN.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??w_e();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[n+o]=r[o];return e}return v_e(r)}function E_e(){const t=localStorage.getItem("anonViewerId")||x_e();return localStorage.setItem("anonViewerId",t),{uid:t,name:"Guest",photoURL:"",mode:"viewer"}}function iN({db:t,gameId:e,appId:n,user:r}){const[i,o]=j.useState(null),[s,a]=j.useState(null),[l,u]=j.useState([]),[f,c]=j.useState(0),[d,p]=j.useState(0),m=j.useRef(null),g=r||E_e();if(j.useEffect(()=>{if(!e)return;rS(g,"viewer",e);const b=_b("viewer",e,u),S=()=>{us(g,"viewer",e)};return window.addEventListener("beforeunload",S),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&S()}),()=>{S(),typeof b=="function"&&b(),window.removeEventListener("beforeunload",S),document.removeEventListener("visibilitychange",S)}},[r,e]),j.useEffect(()=>{if(!t||!e)return;const b=In(t,"liveGames",e),S=ka(b,P=>{if(P.exists()){const O=P.data();o(O);const k=Date.now();if(O.isRunning&&O.clockStartTime){const M=k-O.clockStartTime,N=Math.floor(M/1e3),V=Math.max(0,O.clockAtStart-N),W=Math.max(0,O.clockAtStart*1e3-M)/100;c(V),p(W)}else c(O.clock||0),p((O.clock||0)*10)}else a("This game is no longer live.")});return()=>{S(),m.current&&(clearInterval(m.current),m.current=null)}},[t,e,n]),j.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const b=f<=60?100:1e3;m.current=setInterval(()=>{const P=Date.now()-i.clockStartTime,O=Math.floor(P/1e3),k=Math.max(0,i.clockAtStart-O),M=Math.max(0,i.clockAtStart*1e3-P)/100;c(k),p(M)},b)}else m.current&&(clearInterval(m.current),m.current=null);return()=>{m.current&&(clearInterval(m.current),m.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,f]),s)return x.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[x.jsx(Gm,{className:"hover:animate-spin-slow transition-transform"}),x.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:s})]});if(!i)return x.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const v=i.playerStats||i.sahilStats||{},w=[{label:"Points",value:(Number(v.fg2m)||0)*2+(Number(v.fg3m)||0)*3+(Number(v.ftm)||0)},{label:"2PT Made",value:v.fg2m??0},{label:"2PT Attempted",value:v.fg2a??0},{label:"3PT Made",value:v.fg3m??0},{label:"3PT Attempted",value:v.fg3a??0},{label:"FT Made",value:v.ftm??0},{label:"FT Attempted",value:v.fta??0},{label:"Assists",value:v.assists??0},{label:"Rebounds",value:v.rebounds??0},{label:"Steals",value:v.steals??0},{label:"Fouls",value:v.fouls??0}],E=(b,S)=>{if(b<=59){const P=Math.floor(S/10),O=Math.floor(S%10);return`${P}.${O}`}else return`${String(Math.floor(b/60)).padStart(2,"0")}:${String(b%60).padStart(2,"0")}`},C=i.gameFormat==="halves"?"Half":"Period",T=f<=120,I=f<=60&&f>0;return x.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[x.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),x.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex justify-around items-center text-center",children:[x.jsxs("div",{className:"w-1/3",children:[x.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:i.teamName}),x.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:i.homeScore})]}),x.jsxs("div",{className:"w-1/3",children:[x.jsx("p",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${I?"text-red-500 animate-pulse scale-110 font-bold":T?"text-red-500 animate-pulse":""}`,children:E(f,d)}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[C," ",i.period]})]}),x.jsxs("div",{className:"w-1/3",children:[x.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:i.opponent}),x.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:i.awayScore})]})]})}),x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:x.jsx("p",{children:"You are viewing a live game. The score and stats update automatically."})}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[x.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[x.jsx(Gm,{className:"text-orange-500 h-5 w-5 animate-spin-slow"}),x.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Sahil's Live Stats"})]}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:w.map(b=>x.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[x.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:b.label}),x.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:b.value})]},b.label))})]}),x.jsx("div",{className:"text-center mt-4 text-xs text-gray-500",children:x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("span",{className:"bg-green-400 rounded-full w-2 h-2 animate-pulse"}),l.length," ",l.length===1?"viewer":"viewers"," currently watching"]})})]})}function S_e({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:s}){const[a,l]=j.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});j.useEffect(()=>{var p,m,g,v,_,w,E,C,T,I,b,S;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((m=t.playerStats)==null?void 0:m.fg2a)||0,fg3m:t.fg3m||((g=t.playerStats)==null?void 0:g.fg3m)||0,fg3a:t.fg3a||((v=t.playerStats)==null?void 0:v.fg3a)||0,ftm:t.ftm||((_=t.playerStats)==null?void 0:_.ftm)||0,fta:t.fta||((w=t.playerStats)==null?void 0:w.fta)||0,rebounds:t.rebounds||((E=t.playerStats)==null?void 0:E.rebounds)||0,assists:t.assists||((C=t.playerStats)==null?void 0:C.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((I=t.playerStats)==null?void 0:I.blocks)||0,fouls:t.fouls||((b=t.playerStats)==null?void 0:b.fouls)||0,turnovers:t.turnovers||((S=t.playerStats)==null?void 0:S.turnovers)||0})},[t]);const u=a.fg2m*2+a.fg3m*3+a.ftm,f=(p,m)=>{const g=p==="home"?"myTeamScore":"opponentScore";l(v=>({...v,[g]:Math.max(0,v[g]+m)}))},c=(p,m)=>{l(g=>{const v={...g},_=Math.max(0,g[p]+m);return v[p]=_,p==="fg2m"&&_>g.fg2a&&(v.fg2a=_),p==="fg2a"&&_<g.fg2m&&(v.fg2m=_),p==="fg3m"&&_>g.fg3a&&(v.fg3a=_),p==="fg3a"&&_<g.fg3m&&(v.fg3m=_),p==="ftm"&&_>g.fta&&(v.fta=_),p==="fta"&&_<g.ftm&&(v.ftm=_),v})},d=()=>{n(a)};return t?x.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[x.jsx("div",{className:"absolute top-2 right-2",children:o&&x.jsx(nS,{status:o})}),x.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[x.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[x.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:"text-5xl font-mono",children:a.myTeamScore})})]}),x.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),x.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[x.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:"text-5xl font-mono",children:a.opponentScore})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[x.jsx("button",{onClick:()=>f("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:a.myTeamScore<=0,children:"-"}),x.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),x.jsx("button",{onClick:()=>f("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),x.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[x.jsx("button",{onClick:()=>f("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:a.opponentScore<=0,children:"-"}),x.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),x.jsx("button",{onClick:()=>f("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),x.jsxs("div",{className:"text-center mb-4",children:[x.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Za,{label:"2-Pointers",madeValue:a.fg2m,attValue:a.fg2a,onStatChange:c,madeKey:"fg2m",attKey:"fg2a"}),x.jsx(Za,{label:"3-Pointers",madeValue:a.fg3m,attValue:a.fg3a,onStatChange:c,madeKey:"fg3m",attKey:"fg3a"}),x.jsx(Za,{label:"Free Throws",madeValue:a.ftm,attValue:a.fta,onStatChange:c,madeKey:"ftm",attKey:"fta"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[x.jsx(xn,{label:"Rebounds",value:a.rebounds,onIncrement:()=>c("rebounds",1),onDecrement:()=>c("rebounds",-1)}),x.jsx(xn,{label:"Assists",value:a.assists,onIncrement:()=>c("assists",1),onDecrement:()=>c("assists",-1)}),x.jsx(xn,{label:"Steals",value:a.steals,onIncrement:()=>c("steals",1),onDecrement:()=>c("steals",-1)}),x.jsx(xn,{label:"Blocks",value:a.blocks,onIncrement:()=>c("blocks",1),onDecrement:()=>c("blocks",-1)}),x.jsx(xn,{label:"Fouls",value:a.fouls,onIncrement:()=>c("fouls",1),onDecrement:()=>c("fouls",-1)}),x.jsx(xn,{label:"Turnovers",value:a.turnovers,onIncrement:()=>c("turnovers",1),onDecrement:()=>c("turnovers",-1)})]})]}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:x.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[x.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),x.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):x.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:x.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function T_e({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:s,theme:a,toggleTheme:l,periodLength:u,setPeriodLength:f,onDeleteAllLiveGames:c}){const[d,p]=j.useState(""),[m,g]=j.useState(""),v=Array.from(new Map(n.map(b=>[b.id,b])).values()),_=async b=>{const S=b.trim();if(!S||n.some(P=>P.name.toLowerCase()===S.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(S),g("success"),p("")}catch{g("error")}setTimeout(()=>g(""),1200)},w=async b=>{g("saving");try{await i(b),g("success")}catch{g("error")}setTimeout(()=>g(""),1200)},E=b=>{s(b),localStorage.setItem("gameFormat",b),g("success"),setTimeout(()=>g(""),1200)},C=b=>{const S=Number(b);f(S),localStorage.setItem("periodLength",S.toString()),g("success"),setTimeout(()=>g(""),1200)},T=()=>{l(),g("success"),setTimeout(()=>g(""),1200)},I=async()=>{g("saving");try{await c(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}};return t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[x.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:"×"}),x.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",x.jsx(nS,{status:m})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),x.jsxs("div",{className:"flex gap-2 mb-3",children:[x.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:d,onChange:b=>p(b.target.value),onKeyDown:b=>{b.key==="Enter"&&d.trim()&&_(d.trim())}}),x.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>_(d),disabled:!d.trim(),children:"Add"})]}),x.jsx("ul",{className:"space-y-2",children:v.map(b=>x.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[x.jsx("span",{children:b.name}),x.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>w(b.id),title:"Delete Team",children:x.jsx(Hm,{className:"h-5 w-5"})})]},b.id))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),x.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>E("periods")}),"Periods"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>E("halves")}),"Halves"]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),x.jsx("input",{type:"number",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24",value:u,onChange:b=>C(b.target.value)})]})]}),x.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[x.jsx("button",{onClick:T,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:a==="dark"?x.jsx(H0e,{className:"h-6 w-6"}):x.jsx(q0e,{className:"h-6 w-6"})}),x.jsx("button",{onClick:I,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:x.jsx(Hm,{className:"h-6 w-6"})})]})]})}):null}function A_e(){const[t,e]=j.useState(null),[n,r]=j.useState(()=>localStorage.getItem("theme")||"light"),[i,o]=j.useState(!0),[s,a]=j.useState(!0),[l,u]=j.useState("game_setup"),[f,c]=j.useState([]),[d,p]=j.useState([]),[m,g]=j.useState([]),[v,_]=j.useState(null),[w,E]=j.useState(null),[C,T]=j.useState(!1),[I,b]=j.useState({searchTerm:"",dateFilter:"",outcomeFilter:""}),[S,P]=j.useState(()=>localStorage.getItem("gameFormat")||"halves"),[O,k]=j.useState(()=>parseInt(localStorage.getItem("periodLength"))||20),[M,N]=j.useState(2),[V,W]=j.useState([]),[q,K]=j.useState([]);j.useEffect(()=>$z(Fv,ie=>{e(ie),o(!1),ie||(us(t,"viewer",v),us(t,"admin",v))}),[]),j.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark"),localStorage.setItem("theme",n)},[n]);const F=j.useCallback(()=>r(X=>X==="dark"?"light":"dark"),[]);j.useEffect(()=>{if(!t)return;const X=br(mt,"teams");return ka(X,U=>{c(U.docs.map(ge=>({id:ge.id,...ge.data()})))})},[t]),j.useEffect(()=>{if(!t)return;const X=br(mt,"games");return ka(X,U=>{const ge=U.docs.map(L=>({id:L.id,...L.data()}));p(ge)})},[t]),j.useEffect(()=>{if(!t)return;const X=br(mt,"stats");return ka(X,U=>{g(U.docs.map(ge=>({id:ge.id,...ge.data()})))})},[t]),j.useEffect(()=>{if(!t)return;rS(t,"admin");const X=_b("admin",null,ie=>W(ie||[]));return()=>{us(t,"admin"),X&&typeof X=="function"&&X()}},[t]),j.useEffect(()=>{const X=_b("viewer",null,ie=>K(ie||[]));return()=>{X&&typeof X=="function"&&X()}},[]),j.useEffect(()=>{a(!0);const X=br(mt,"liveGames"),ie=ka(X,U=>{U.empty?_(null):_(U.docs[0].id),a(!1)});return()=>ie()},[l]),j.useEffect(()=>{!t&&v&&l!=="live_viewer"&&u("live_viewer")},[t,v,l]);const G=async(X,ie)=>{try{await is(In(mt,"games",X),{photos:ie}),p(U=>U.map(ge=>ge.id===X?{...ge,photos:ie}:ge))}catch(U){console.error("Error updating game photos:",U)}},Y=j.useCallback(async X=>{await od(In(mt,"teams",X)),c(ie=>ie.filter(U=>U.id!==X))},[]),ne=async X=>{if(f.some(ge=>ge.name.toLowerCase()===X.toLowerCase()))return null;const U=await Mu(br(mt,"teams"),{name:X});return c(ge=>[...ge,{name:X,id:U.id}]),{name:X,id:U.id}},B=j.useCallback(async X=>{const ie=await Mu(br(mt,"games"),X);p(U=>[...U,{...X,id:ie.id}])},[]),Q=j.useCallback(async X=>{const ie=X.fg2m*2+X.fg3m*3+X.ftm;let U="T";X.myTeamScore>X.opponentScore?U="W":X.myTeamScore<X.opponentScore&&(U="L");const ge={...w,...X,points:ie,outcome:U,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""},L=await Mu(br(mt,"games"),ge);p(ee=>[...ee,{...ge,id:L.id}]),E(null),u("dashboard")},[w,t]),ce=j.useCallback(async X=>{await od(In(mt,"games",X)),p(ie=>ie.filter(U=>U.id!==X)),g(ie=>ie.filter(U=>U.gameId!==X))},[]),he=async X=>{try{const ie=In(mt,"liveGames",X),U=await X9(ie);if(!U.exists()){console.log("Live game not found for endGame, id:",X);return}const ge=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",L=U.data(),ee=L.playerStats||{},Te=L.homeScore??0,Me=L.awayScore??0;let Et="T";Te>Me?Et="W":Te<Me&&(Et="L");const vr={...L,myTeamScore:Te,opponentScore:Me,outcome:Et,points:(ee.fg2m??0)*2+(ee.fg3m??0)*3+(ee.ftm??0)*1,fg2m:ee.fg2m??0,fg2a:ee.fg2a??0,fg3m:ee.fg3m??0,fg3a:ee.fg3a??0,ftm:ee.ftm??0,fta:ee.fta??0,rebounds:ee.rebounds??0,assists:ee.assists??0,steals:ee.steals??0,blocks:ee.blocks??0,fouls:ee.fouls??0,turnovers:ee.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:ge,isRunning:!1},Yi=await Mu(br(mt,"games"),vr);await od(ie),_(null),u("game_setup");const Un=br(mt,"games"),tr=await tI(Un);p(tr.docs.map(Qi=>({id:Qi.id,...Qi.data()})))}catch(ie){console.error("Failed to save/end game:",ie)}},pe=async()=>{if(!t)return null;const X=await tI(br(mt,"liveGames"));for(let ie of X.docs)await od(In(mt,"liveGames",ie.id));_(null)},_e=async()=>{await o8(Fv,s7)},Xe=async()=>{try{us(t,"viewer",v),t&&us(t,"admin"),l==="live_admin"&&v&&await he(v),await Fz(Fv),e(null),u("game_setup"),_(null),p([]),g([]),W([]),K([])}catch(X){console.error("Error signing out:",X)}},ae=async(X,ie)=>{const U={...X,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:ie==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:O?O*60:600,period:1,gameFormat:S||"halves",periodLength:O||20,numPeriods:S==="halves"?2:4};if(ie==="live"){const ge=await Mu(br(mt,"liveGames"),U);_(ge.id),u("live_admin")}else E(U),u("add_stat")};return i||s?x.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[x.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:"🏀"}),x.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&l==="live_viewer"?v?x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(m0,{user:null,db:mt,onSignOut:Xe,setPage:u,theme:n,toggleTheme:F,admins:V,viewers:q,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:()=>T(!0),onSignIn:_e}),x.jsx("main",{className:"flex-1",children:x.jsx(iN,{db:mt,user:null,gameId:v,setPage:u,teams:f,stats:m,games:d})})]}):x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(m0,{user:null,db:mt,onSignOut:Xe,setPage:u,theme:n,toggleTheme:F,admins:V,viewers:q,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:()=>T(!0)}),x.jsx("main",{className:"flex-1 flex items-center justify-center",children:x.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&l!=="live_viewer"?x.jsx(m_e,{onSignIn:_e}):x.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[x.jsx(m0,{user:t,db:mt,onSignOut:Xe,setPage:u,theme:n,toggleTheme:F,admins:V,viewers:q,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:pe,openSettingsModal:()=>T(!0),games:d,dashboardFilters:I,onDashboardFiltersChange:b}),x.jsx(T_e,{open:C,onClose:()=>T(!1),teams:f,onAddTeam:ne,onDeleteTeam:Y,gameFormat:S,setGameFormat:P,periodLength:O,setPeriodLength:k,theme:n,toggleTheme:F,setPage:u,onDeleteAllLiveGames:pe}),x.jsxs("main",{className:"flex-1",children:[t&&l==="game_setup"&&x.jsx(a7,{user:t,teams:f,stats:d,onAddTeam:ne,setPage:u,games:d,onAddGame:B,setLiveGameId:_,onSubmit:ae,gameFormat:S,periodLength:O,numPeriods:M}),t&&l==="dashboard"&&x.jsx(f_e,{user:t,teams:f,games:d,stats:d,onDeleteGame:ce,onDeleteTeam:Y,onAddTeam:ne,onUpdateGamePhotos:G,externalFilters:I}),t&&l==="add_stat"&&w&&x.jsx(S_e,{gameConfig:w,isLive:!1,onSave:Q,onCancel:()=>{E(null),u("game_setup")}}),t&&l==="live_admin"&&v&&x.jsx(y_e,{user:t,db:mt,gameId:v,setPage:u,teams:f,stats:m,games:d,onEndGame:he}),t&&l==="live_viewer"&&v&&x.jsx(iN,{db:mt,user:t,gameId:v,setPage:u,teams:f,stats:m,games:d})]})]})}y0.createRoot(document.getElementById("root")).render(x.jsx(D.StrictMode,{children:x.jsx(A_e,{})}));
