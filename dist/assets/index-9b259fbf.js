(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sN={exports:{}},Hm={},aN={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=Symbol.for("react.element"),YV=Symbol.for("react.portal"),QV=Symbol.for("react.fragment"),XV=Symbol.for("react.strict_mode"),JV=Symbol.for("react.profiler"),ZV=Symbol.for("react.provider"),e4=Symbol.for("react.context"),t4=Symbol.for("react.forward_ref"),n4=Symbol.for("react.suspense"),r4=Symbol.for("react.memo"),i4=Symbol.for("react.lazy"),JS=Symbol.iterator;function o4(t){return t===null||typeof t!="object"?null:(t=JS&&t[JS]||t["@@iterator"],typeof t=="function"?t:null)}var lN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uN=Object.assign,cN={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=cN,this.updater=n||lN}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fN(){}fN.prototype=Ul.prototype;function wb(t,e,n){this.props=t,this.context=e,this.refs=cN,this.updater=n||lN}var bb=wb.prototype=new fN;bb.constructor=wb;uN(bb,Ul.prototype);bb.isPureReactComponent=!0;var ZS=Array.isArray,hN=Object.prototype.hasOwnProperty,xb={current:null},dN={key:!0,ref:!0,__self:!0,__source:!0};function pN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)hN.call(e,r)&&!dN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bf,type:t,key:o,ref:s,props:i,_owner:xb.current}}function s4(t,e){return{$$typeof:Bf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bf}function a4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eT=/\/+/g;function qy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a4(""+t.key):e.toString(36)}function xd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Bf:case YV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+qy(s,0):r,ZS(i)?(n="",t!=null&&(n=t.replace(eT,"$&/")+"/"),xd(i,e,n,"",function(u){return u})):i!=null&&(Eb(i)&&(i=s4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(eT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ZS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+qy(o,a);s+=xd(o,e,n,l,i)}else if(l=o4(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+qy(o,a++),s+=xd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $h(t,e,n){if(t==null)return t;var r=[],i=0;return xd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function l4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},Ed={transition:null},u4={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Ed,ReactCurrentOwner:xb};function mN(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:$h,forEach:function(t,e,n){$h(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $h(t,function(){e++}),e},toArray:function(t){return $h(t,function(e){return e})||[]},only:function(t){if(!Eb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ul;Ae.Fragment=QV;Ae.Profiler=JV;Ae.PureComponent=wb;Ae.StrictMode=XV;Ae.Suspense=n4;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4;Ae.act=mN;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hN.call(e,l)&&!dN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bf,type:t.type,key:i,ref:o,props:r,_owner:s}};Ae.createContext=function(t){return t={$$typeof:e4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZV,_context:t},t.Consumer=t};Ae.createElement=pN;Ae.createFactory=function(t){var e=pN.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:t4,render:t}};Ae.isValidElement=Eb;Ae.lazy=function(t){return{$$typeof:i4,_payload:{_status:-1,_result:t},_init:l4}};Ae.memo=function(t,e){return{$$typeof:r4,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Ed.transition;Ed.transition={};try{t()}finally{Ed.transition=e}};Ae.unstable_act=mN;Ae.useCallback=function(t,e){return En.current.useCallback(t,e)};Ae.useContext=function(t){return En.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return En.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return En.current.useEffect(t,e)};Ae.useId=function(){return En.current.useId()};Ae.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return En.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};Ae.useRef=function(t){return En.current.useRef(t)};Ae.useState=function(t){return En.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return En.current.useTransition()};Ae.version="18.3.1";aN.exports=Ae;var V=aN.exports;const $=qe(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=V,f4=Symbol.for("react.element"),h4=Symbol.for("react.fragment"),d4=Object.prototype.hasOwnProperty,p4=c4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m4={key:!0,ref:!0,__self:!0,__source:!0};function gN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)d4.call(e,r)&&!m4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:f4,type:t,key:o,ref:s,props:i,_owner:p4.current}}Hm.Fragment=h4;Hm.jsx=gN;Hm.jsxs=gN;sN.exports=Hm;var C=sN.exports,g0={},yN={exports:{}},Qn={},vN={exports:{}},_N={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var H=j.length;j.push(L);e:for(;0<H;){var Q=H-1>>>1,D=j[Q];if(0<i(D,L))j[Q]=L,j[H]=D,H=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],H=j.pop();if(H!==L){j[0]=H;e:for(var Q=0,D=j.length,K=D>>>1;Q<K;){var Z=2*(Q+1)-1,oe=j[Z],ce=Z+1,Ie=j[ce];if(0>i(oe,H))ce<D&&0>i(Ie,oe)?(j[Q]=Ie,j[ce]=H,Q=ce):(j[Q]=oe,j[Z]=H,Q=Z);else if(ce<D&&0>i(Ie,H))j[Q]=Ie,j[ce]=H,Q=ce;else break e}}return L}function i(j,L){var H=j.sortIndex-L.sortIndex;return H!==0?H:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=j)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function P(j){if(g=!1,x(j),!m)if(n(l)!==null)m=!0,q(T);else{var L=n(u);L!==null&&U(P,L.startTime-j)}}function T(j,L){m=!1,g&&(g=!1,b(E),E=-1),p=!0;var H=d;try{for(x(L),f=n(l);f!==null&&(!(f.expirationTime>L)||j&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var D=Q(f.expirationTime<=L);L=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(L)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var Z=n(u);Z!==null&&U(P,Z.startTime-L),K=!1}return K}finally{f=null,d=H,p=!1}}var A=!1,_=null,E=-1,I=5,O=-1;function k(){return!(t.unstable_now()-O<I)}function M(){if(_!==null){var j=t.unstable_now();O=j;var L=!0;try{L=_(!0,j)}finally{L?N():(A=!1,_=null)}}else A=!1}var N;if(typeof w=="function")N=function(){w(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=M,N=function(){B.postMessage(null)}}else N=function(){v(M,0)};function q(j){_=j,A||(A=!0,N())}function U(j,L){E=v(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,q(T))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var H=d;d=L;try{return j()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=d;d=j;try{return L()}finally{d=H}},t.unstable_scheduleCallback=function(j,L,H){var Q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,j={id:c++,callback:L,priorityLevel:j,startTime:H,expirationTime:D,sortIndex:-1},H>Q?(j.sortIndex=H,e(u,j),n(l)===null&&j===n(u)&&(g?(b(E),E=-1):g=!0,U(P,H-Q))):(j.sortIndex=D,e(l,j),m||p||(m=!0,q(T))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var L=d;return function(){var H=d;d=L;try{return j.apply(this,arguments)}finally{d=H}}}})(_N);vN.exports=_N;var g4=vN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4=V,Kn=g4;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wN=new Set,Ac={};function Gs(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(Ac[t]=e,t=0;t<e.length;t++)wN.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=Object.prototype.hasOwnProperty,v4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tT={},nT={};function _4(t){return y0.call(nT,t)?!0:y0.call(tT,t)?!1:v4.test(t)?nT[t]=!0:(tT[t]=!0,!1)}function w4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b4(t,e,n,r){if(e===null||typeof e>"u"||w4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sb=/[\-:]([a-z])/g;function Tb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sb,Tb);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ab(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(b4(e,n,i,r)&&(n=null),r||i===null?_4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lh=Symbol.for("react.element"),_a=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Ib=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),bN=Symbol.for("react.provider"),xN=Symbol.for("react.context"),Pb=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),EN=Symbol.for("react.offscreen"),rT=Symbol.iterator;function Tu(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Ky;function Ku(t){if(Ky===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ky=e&&e[1]||""}return`
`+Ky+t}var Yy=!1;function Qy(t,e){if(!t||Yy)return"";Yy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Yy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function x4(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=Qy(t.type,!1),t;case 11:return t=Qy(t.type.render,!1),t;case 1:return t=Qy(t.type,!0),t;default:return""}}function b0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case _a:return"Portal";case v0:return"Profiler";case Ib:return"StrictMode";case _0:return"Suspense";case w0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xN:return(t.displayName||"Context")+".Consumer";case bN:return(t._context.displayName||"Context")+".Provider";case Pb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:b0(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return b0(t(e))}catch{}}return null}function E4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(e);case 8:return e===Ib?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S4(t){var e=SN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fh(t){t._valueTracker||(t._valueTracker=S4(t))}function TN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function x0(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AN(t,e){e=e.checked,e!=null&&Ab(t,"checked",e,!1)}function E0(t,e){AN(t,e);var n=Co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?S0(t,e.type,n):e.hasOwnProperty("defaultValue")&&S0(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function S0(t,e,n){(e!=="number"||zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yu=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function T0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Yu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Co(n)}}function IN(t,e){var n=Co(e.value),r=Co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vh,CN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T4=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){T4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function ON(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function kN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ON(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var A4=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I0(t,e){if(e){if(A4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function P0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function Ob(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O0=null,$a=null,La=null;function lT(t){if(t=Hf(t)){if(typeof O0!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Qm(e),O0(t.stateNode,t.type,e))}}function NN(t){$a?La?La.push(t):La=[t]:$a=t}function RN(){if($a){var t=$a,e=La;if(La=$a=null,lT(t),e)for(t=0;t<e.length;t++)lT(e[t])}}function MN(t,e){return t(e)}function DN(){}var Xy=!1;function jN(t,e,n){if(Xy)return t(e,n);Xy=!0;try{return MN(t,e,n)}finally{Xy=!1,($a!==null||La!==null)&&(DN(),RN())}}function Pc(t,e){var n=t.stateNode;if(n===null)return null;var r=Qm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var k0=!1;if(Pi)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){k0=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{k0=!1}function I4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ic=!1,Wd=null,Hd=!1,N0=null,P4={onError:function(t){ic=!0,Wd=t}};function C4(t,e,n,r,i,o,s,a,l){ic=!1,Wd=null,I4.apply(P4,arguments)}function O4(t,e,n,r,i,o,s,a,l){if(C4.apply(this,arguments),ic){if(ic){var u=Wd;ic=!1,Wd=null}else throw Error(ee(198));Hd||(Hd=!0,N0=u)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $N(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uT(t){if(qs(t)!==t)throw Error(ee(188))}function k4(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uT(i),t;if(o===r)return uT(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function LN(t){return t=k4(t),t!==null?FN(t):null}function FN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FN(t);if(e!==null)return e;t=t.sibling}return null}var VN=Kn.unstable_scheduleCallback,cT=Kn.unstable_cancelCallback,N4=Kn.unstable_shouldYield,R4=Kn.unstable_requestPaint,wt=Kn.unstable_now,M4=Kn.unstable_getCurrentPriorityLevel,kb=Kn.unstable_ImmediatePriority,UN=Kn.unstable_UserBlockingPriority,Gd=Kn.unstable_NormalPriority,D4=Kn.unstable_LowPriority,BN=Kn.unstable_IdlePriority,Gm=null,Wr=null;function j4(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Gm,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:F4,$4=Math.log,L4=Math.LN2;function F4(t){return t>>>=0,t===0?32:31-($4(t)/L4|0)|0}var Uh=64,Bh=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qu(a):(o&=s,o!==0&&(r=Qu(o)))}else s=n&~i,s!==0?r=Qu(s):o!==0&&(r=Qu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Or(e),i=1<<n,r|=t[n],e&=~i;return r}function V4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Or(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=V4(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function R0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zN(){var t=Uh;return Uh<<=1,!(Uh&4194240)&&(Uh=64),t}function Jy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=n}function B4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Or(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function WN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HN,Rb,GN,qN,KN,M0=!1,zh=[],po=null,mo=null,go=null,Cc=new Map,Oc=new Map,ro=[],z4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Iu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hf(e),e!==null&&Rb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W4(t,e,n,r,i){switch(e){case"focusin":return po=Iu(po,t,e,n,r,i),!0;case"dragenter":return mo=Iu(mo,t,e,n,r,i),!0;case"mouseover":return go=Iu(go,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cc.set(o,Iu(Cc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oc.set(o,Iu(Oc.get(o)||null,t,e,n,r,i)),!0}return!1}function YN(t){var e=ls(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=$N(n),e!==null){t.blockedOn=e,KN(t.priority,function(){GN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=D0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C0=r,n.target.dispatchEvent(r),C0=null}else return e=Hf(n),e!==null&&Rb(e),t.blockedOn=n,!1;e.shift()}return!0}function hT(t,e,n){Sd(t)&&n.delete(e)}function H4(){M0=!1,po!==null&&Sd(po)&&(po=null),mo!==null&&Sd(mo)&&(mo=null),go!==null&&Sd(go)&&(go=null),Cc.forEach(hT),Oc.forEach(hT)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,M0||(M0=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,H4)))}function kc(t){function e(i){return Pu(i,t)}if(0<zh.length){Pu(zh[0],t);for(var n=1;n<zh.length;n++){var r=zh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&Pu(po,t),mo!==null&&Pu(mo,t),go!==null&&Pu(go,t),Cc.forEach(e),Oc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)YN(n),n.blockedOn===null&&ro.shift()}var Fa=Ui.ReactCurrentBatchConfig,Kd=!0;function G4(t,e,n,r){var i=Fe,o=Fa.transition;Fa.transition=null;try{Fe=1,Mb(t,e,n,r)}finally{Fe=i,Fa.transition=o}}function q4(t,e,n,r){var i=Fe,o=Fa.transition;Fa.transition=null;try{Fe=4,Mb(t,e,n,r)}finally{Fe=i,Fa.transition=o}}function Mb(t,e,n,r){if(Kd){var i=D0(t,e,n,r);if(i===null)lv(t,e,r,Yd,n),fT(t,r);else if(W4(i,t,e,n,r))r.stopPropagation();else if(fT(t,r),e&4&&-1<z4.indexOf(t)){for(;i!==null;){var o=Hf(i);if(o!==null&&HN(o),o=D0(t,e,n,r),o===null&&lv(t,e,r,Yd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lv(t,e,r,null,n)}}var Yd=null;function D0(t,e,n,r){if(Yd=null,t=Ob(r),t=ls(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$N(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function QN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M4()){case kb:return 1;case UN:return 4;case Gd:case D4:return 16;case BN:return 536870912;default:return 16}default:return 16}}var uo=null,Db=null,Td=null;function XN(){if(Td)return Td;var t,e=Db,n=e.length,r,i="value"in uo?uo.value:uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Td=i.slice(t,1<r?1-r:void 0)}function Ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wh(){return!0}function dT(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wh:dT,this.isPropagationStopped=dT,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=Xn(Bl),Wf=ht({},Bl,{view:0,detail:0}),K4=Xn(Wf),Zy,ev,Cu,qm=ht({},Wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(Zy=t.screenX-Cu.screenX,ev=t.screenY-Cu.screenY):ev=Zy=0,Cu=t),Zy)},movementY:function(t){return"movementY"in t?t.movementY:ev}}),pT=Xn(qm),Y4=ht({},qm,{dataTransfer:0}),Q4=Xn(Y4),X4=ht({},Wf,{relatedTarget:0}),tv=Xn(X4),J4=ht({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),Z4=Xn(J4),e3=ht({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t3=Xn(e3),n3=ht({},Bl,{data:0}),mT=Xn(n3),r3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o3[t])?!!e[t]:!1}function $b(){return s3}var a3=ht({},Wf,{key:function(t){if(t.key){var e=r3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(t){return t.type==="keypress"?Ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l3=Xn(a3),u3=ht({},qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gT=Xn(u3),c3=ht({},Wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),f3=Xn(c3),h3=ht({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),d3=Xn(h3),p3=ht({},qm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=Xn(p3),g3=[9,13,27,32],Lb=Pi&&"CompositionEvent"in window,oc=null;Pi&&"documentMode"in document&&(oc=document.documentMode);var y3=Pi&&"TextEvent"in window&&!oc,JN=Pi&&(!Lb||oc&&8<oc&&11>=oc),yT=String.fromCharCode(32),vT=!1;function ZN(t,e){switch(t){case"keyup":return g3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function v3(t,e){switch(t){case"compositionend":return eR(e);case"keypress":return e.which!==32?null:(vT=!0,yT);case"textInput":return t=e.data,t===yT&&vT?null:t;default:return null}}function _3(t,e){if(ba)return t==="compositionend"||!Lb&&ZN(t,e)?(t=XN(),Td=Db=uo=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JN&&e.locale!=="ko"?null:e.data;default:return null}}var w3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w3[t.type]:e==="textarea"}function tR(t,e,n,r){NN(r),e=Qd(e,"onChange"),0<e.length&&(n=new jb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,Nc=null;function b3(t){hR(t,0)}function Km(t){var e=Sa(t);if(TN(e))return t}function x3(t,e){if(t==="change")return e}var nR=!1;if(Pi){var nv;if(Pi){var rv="oninput"in document;if(!rv){var wT=document.createElement("div");wT.setAttribute("oninput","return;"),rv=typeof wT.oninput=="function"}nv=rv}else nv=!1;nR=nv&&(!document.documentMode||9<document.documentMode)}function bT(){sc&&(sc.detachEvent("onpropertychange",rR),Nc=sc=null)}function rR(t){if(t.propertyName==="value"&&Km(Nc)){var e=[];tR(e,Nc,t,Ob(t)),jN(b3,e)}}function E3(t,e,n){t==="focusin"?(bT(),sc=e,Nc=n,sc.attachEvent("onpropertychange",rR)):t==="focusout"&&bT()}function S3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Km(Nc)}function T3(t,e){if(t==="click")return Km(e)}function A3(t,e){if(t==="input"||t==="change")return Km(e)}function I3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:I3;function Rc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y0.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function xT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ET(t,e){var n=xT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xT(n)}}function iR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oR(){for(var t=window,e=zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zd(t.document)}return e}function Fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P3(t){var e=oR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iR(n.ownerDocument.documentElement,n)){if(r!==null&&Fb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ET(n,o);var s=ET(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C3=Pi&&"documentMode"in document&&11>=document.documentMode,xa=null,j0=null,ac=null,$0=!1;function ST(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$0||xa==null||xa!==zd(r)||(r=xa,"selectionStart"in r&&Fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&Rc(ac,r)||(ac=r,r=Qd(j0,"onSelect"),0<r.length&&(e=new jb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function Hh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},iv={},sR={};Pi&&(sR=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ym(t){if(iv[t])return iv[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sR)return iv[t]=e[n];return t}var aR=Ym("animationend"),lR=Ym("animationiteration"),uR=Ym("animationstart"),cR=Ym("transitionend"),fR=new Map,TT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){fR.set(t,e),Gs(e,[t])}for(var ov=0;ov<TT.length;ov++){var sv=TT[ov],O3=sv.toLowerCase(),k3=sv[0].toUpperCase()+sv.slice(1);Lo(O3,"on"+k3)}Lo(aR,"onAnimationEnd");Lo(lR,"onAnimationIteration");Lo(uR,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(cR,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function AT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O4(r,e,void 0,t),t.currentTarget=null}function hR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;AT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;AT(i,a,u),o=l}}}if(Hd)throw t=N0,Hd=!1,N0=null,t}function et(t,e){var n=e[B0];n===void 0&&(n=e[B0]=new Set);var r=t+"__bubble";n.has(r)||(dR(e,t,2,!1),n.add(r))}function av(t,e,n){var r=0;e&&(r|=4),dR(n,t,r,e)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[Gh]){t[Gh]=!0,wN.forEach(function(n){n!=="selectionchange"&&(N3.has(n)||av(n,!1,t),av(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gh]||(e[Gh]=!0,av("selectionchange",!1,e))}}function dR(t,e,n,r){switch(QN(e)){case 1:var i=G4;break;case 4:i=q4;break;default:i=Mb}n=i.bind(null,e,n,t),i=void 0,!k0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ls(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}jN(function(){var u=o,c=Ob(n),f=[];e:{var d=fR.get(t);if(d!==void 0){var p=jb,m=t;switch(t){case"keypress":if(Ad(n)===0)break e;case"keydown":case"keyup":p=l3;break;case"focusin":m="focus",p=tv;break;case"focusout":m="blur",p=tv;break;case"beforeblur":case"afterblur":p=tv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=f3;break;case aR:case lR:case uR:p=Z4;break;case cR:p=d3;break;case"scroll":p=K4;break;case"wheel":p=m3;break;case"copy":case"cut":case"paste":p=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gT}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,x;w!==null;){x=w;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,b!==null&&(P=Pc(w,b),P!=null&&g.push(Dc(w,P,x)))),v)break;w=w.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==C0&&(m=n.relatedTarget||n.fromElement)&&(ls(m)||m[Ci]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ls(m):null,m!==null&&(v=qs(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=pT,P="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=gT,P="onPointerLeave",b="onPointerEnter",w="pointer"),v=p==null?d:Sa(p),x=m==null?d:Sa(m),d=new g(P,w+"leave",p,n,c),d.target=v,d.relatedTarget=x,P=null,ls(c)===u&&(g=new g(b,w+"enter",m,n,c),g.target=x,g.relatedTarget=v,P=g),v=P,p&&m)t:{for(g=p,b=m,w=0,x=g;x;x=la(x))w++;for(x=0,P=b;P;P=la(P))x++;for(;0<w-x;)g=la(g),w--;for(;0<x-w;)b=la(b),x--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=la(g),b=la(b)}g=null}else g=null;p!==null&&IT(f,d,p,g,!1),m!==null&&v!==null&&IT(f,v,m,g,!0)}}e:{if(d=u?Sa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=x3;else if(_T(d))if(nR)T=A3;else{T=S3;var A=E3}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=T3);if(T&&(T=T(t,u))){tR(f,T,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&S0(d,"number",d.value)}switch(A=u?Sa(u):window,t){case"focusin":(_T(A)||A.contentEditable==="true")&&(xa=A,j0=u,ac=null);break;case"focusout":ac=j0=xa=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,ST(f,n,c);break;case"selectionchange":if(C3)break;case"keydown":case"keyup":ST(f,n,c)}var _;if(Lb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ba?ZN(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(JN&&n.locale!=="ko"&&(ba||E!=="onCompositionStart"?E==="onCompositionEnd"&&ba&&(_=XN()):(uo=c,Db="value"in uo?uo.value:uo.textContent,ba=!0)),A=Qd(u,E),0<A.length&&(E=new mT(E,t,null,n,c),f.push({event:E,listeners:A}),_?E.data=_:(_=eR(n),_!==null&&(E.data=_)))),(_=y3?v3(t,n):_3(t,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(c=new mT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=_))}hR(f,e)})}function Dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pc(t,n),o!=null&&r.unshift(Dc(t,o,i)),o=Pc(t,e),o!=null&&r.push(Dc(t,o,i))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IT(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pc(n,o),l!=null&&s.unshift(Dc(n,l,a))):i||(l=Pc(n,o),l!=null&&s.push(Dc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var R3=/\r\n?/g,M3=/\u0000|\uFFFD/g;function PT(t){return(typeof t=="string"?t:""+t).replace(R3,`
`).replace(M3,"")}function qh(t,e,n){if(e=PT(e),PT(t)!==e&&n)throw Error(ee(425))}function Xd(){}var L0=null,F0=null;function V0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U0=typeof setTimeout=="function"?setTimeout:void 0,D3=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,j3=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(t){return CT.resolve(null).then(t).catch($3)}:U0;function $3(t){setTimeout(function(){throw t})}function uv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kc(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Br="__reactFiber$"+zl,jc="__reactProps$"+zl,Ci="__reactContainer$"+zl,B0="__reactEvents$"+zl,L3="__reactListeners$"+zl,F3="__reactHandles$"+zl;function ls(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OT(t);t!==null;){if(n=t[Br])return n;t=OT(t)}return e}t=n,n=t.parentNode}return null}function Hf(t){return t=t[Br]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Qm(t){return t[jc]||null}var z0=[],Ta=-1;function Fo(t){return{current:t}}function it(t){0>Ta||(t.current=z0[Ta],z0[Ta]=null,Ta--)}function Xe(t,e){Ta++,z0[Ta]=t.current,t.current=e}var Oo={},gn=Fo(Oo),kn=Fo(!1),Is=Oo;function el(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Jd(){it(kn),it(gn)}function kT(t,e,n){if(gn.current!==Oo)throw Error(ee(168));Xe(gn,e),Xe(kn,n)}function pR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,E4(t)||"Unknown",i));return ht({},n,r)}function Zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Is=gn.current,Xe(gn,t),Xe(kn,kn.current),!0}function NT(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=pR(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,it(kn),it(gn),Xe(gn,t)):it(kn),Xe(kn,n)}var ui=null,Xm=!1,cv=!1;function mR(t){ui===null?ui=[t]:ui.push(t)}function V3(t){Xm=!0,mR(t)}function Vo(){if(!cv&&ui!==null){cv=!0;var t=0,e=Fe;try{var n=ui;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Xm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),VN(kb,Vo),i}finally{Fe=e,cv=!1}}return null}var Aa=[],Ia=0,ep=null,tp=0,nr=[],rr=0,Ps=null,fi=1,hi="";function es(t,e){Aa[Ia++]=tp,Aa[Ia++]=ep,ep=t,tp=e}function gR(t,e,n){nr[rr++]=fi,nr[rr++]=hi,nr[rr++]=Ps,Ps=t;var r=fi;t=hi;var i=32-Or(r)-1;r&=~(1<<i),n+=1;var o=32-Or(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fi=1<<32-Or(e)+i|n<<i|r,hi=o+t}else fi=1<<o|n<<i|r,hi=t}function Vb(t){t.return!==null&&(es(t,1),gR(t,1,0))}function Ub(t){for(;t===ep;)ep=Aa[--Ia],Aa[Ia]=null,tp=Aa[--Ia],Aa[Ia]=null;for(;t===Ps;)Ps=nr[--rr],nr[rr]=null,hi=nr[--rr],nr[rr]=null,fi=nr[--rr],nr[rr]=null}var qn=null,Hn=null,at=!1,Er=null;function yR(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Hn=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:fi,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Hn=null,!0):!1;default:return!1}}function W0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H0(t){if(at){var e=Hn;if(e){var n=e;if(!RT(t,e)){if(W0(t))throw Error(ee(418));e=yo(n.nextSibling);var r=qn;e&&RT(t,e)?yR(r,n):(t.flags=t.flags&-4097|2,at=!1,qn=t)}}else{if(W0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,at=!1,qn=t}}}function MT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function Kh(t){if(t!==qn)return!1;if(!at)return MT(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!V0(t.type,t.memoizedProps)),e&&(e=Hn)){if(W0(t))throw vR(),Error(ee(418));for(;e;)yR(t,e),e=yo(e.nextSibling)}if(MT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=qn?yo(t.stateNode.nextSibling):null;return!0}function vR(){for(var t=Hn;t;)t=yo(t.nextSibling)}function tl(){Hn=qn=null,at=!1}function Bb(t){Er===null?Er=[t]:Er.push(t)}var U3=Ui.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Yh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DT(t){var e=t._init;return e(t._payload)}function _R(t){function e(b,w){if(t){var x=b.deletions;x===null?(b.deletions=[w],b.flags|=16):x.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=bo(b,w),b.index=0,b.sibling=null,b}function o(b,w,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<w?(b.flags|=2,w):x):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,x,P){return w===null||w.tag!==6?(w=yv(x,b.mode,P),w.return=b,w):(w=i(w,x),w.return=b,w)}function l(b,w,x,P){var T=x.type;return T===wa?c(b,w,x.props.children,P,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zi&&DT(T)===w.type)?(P=i(w,x.props),P.ref=Ou(b,w,x),P.return=b,P):(P=Rd(x.type,x.key,x.props,null,b.mode,P),P.ref=Ou(b,w,x),P.return=b,P)}function u(b,w,x,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=vv(x,b.mode,P),w.return=b,w):(w=i(w,x.children||[]),w.return=b,w)}function c(b,w,x,P,T){return w===null||w.tag!==7?(w=ws(x,b.mode,P,T),w.return=b,w):(w=i(w,x),w.return=b,w)}function f(b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yv(""+w,b.mode,x),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lh:return x=Rd(w.type,w.key,w.props,null,b.mode,x),x.ref=Ou(b,null,w),x.return=b,x;case _a:return w=vv(w,b.mode,x),w.return=b,w;case Zi:var P=w._init;return f(b,P(w._payload),x)}if(Yu(w)||Tu(w))return w=ws(w,b.mode,x,null),w.return=b,w;Yh(b,w)}return null}function d(b,w,x,P){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(b,w,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lh:return x.key===T?l(b,w,x,P):null;case _a:return x.key===T?u(b,w,x,P):null;case Zi:return T=x._init,d(b,w,T(x._payload),P)}if(Yu(x)||Tu(x))return T!==null?null:c(b,w,x,P,null);Yh(b,x)}return null}function p(b,w,x,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(x)||null,a(w,b,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Lh:return b=b.get(P.key===null?x:P.key)||null,l(w,b,P,T);case _a:return b=b.get(P.key===null?x:P.key)||null,u(w,b,P,T);case Zi:var A=P._init;return p(b,w,x,A(P._payload),T)}if(Yu(P)||Tu(P))return b=b.get(x)||null,c(w,b,P,T,null);Yh(w,P)}return null}function m(b,w,x,P){for(var T=null,A=null,_=w,E=w=0,I=null;_!==null&&E<x.length;E++){_.index>E?(I=_,_=null):I=_.sibling;var O=d(b,_,x[E],P);if(O===null){_===null&&(_=I);break}t&&_&&O.alternate===null&&e(b,_),w=o(O,w,E),A===null?T=O:A.sibling=O,A=O,_=I}if(E===x.length)return n(b,_),at&&es(b,E),T;if(_===null){for(;E<x.length;E++)_=f(b,x[E],P),_!==null&&(w=o(_,w,E),A===null?T=_:A.sibling=_,A=_);return at&&es(b,E),T}for(_=r(b,_);E<x.length;E++)I=p(_,b,E,x[E],P),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?E:I.key),w=o(I,w,E),A===null?T=I:A.sibling=I,A=I);return t&&_.forEach(function(k){return e(b,k)}),at&&es(b,E),T}function g(b,w,x,P){var T=Tu(x);if(typeof T!="function")throw Error(ee(150));if(x=T.call(x),x==null)throw Error(ee(151));for(var A=T=null,_=w,E=w=0,I=null,O=x.next();_!==null&&!O.done;E++,O=x.next()){_.index>E?(I=_,_=null):I=_.sibling;var k=d(b,_,O.value,P);if(k===null){_===null&&(_=I);break}t&&_&&k.alternate===null&&e(b,_),w=o(k,w,E),A===null?T=k:A.sibling=k,A=k,_=I}if(O.done)return n(b,_),at&&es(b,E),T;if(_===null){for(;!O.done;E++,O=x.next())O=f(b,O.value,P),O!==null&&(w=o(O,w,E),A===null?T=O:A.sibling=O,A=O);return at&&es(b,E),T}for(_=r(b,_);!O.done;E++,O=x.next())O=p(_,b,E,O.value,P),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?E:O.key),w=o(O,w,E),A===null?T=O:A.sibling=O,A=O);return t&&_.forEach(function(M){return e(b,M)}),at&&es(b,E),T}function v(b,w,x,P){if(typeof x=="object"&&x!==null&&x.type===wa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lh:e:{for(var T=x.key,A=w;A!==null;){if(A.key===T){if(T=x.type,T===wa){if(A.tag===7){n(b,A.sibling),w=i(A,x.props.children),w.return=b,b=w;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zi&&DT(T)===A.type){n(b,A.sibling),w=i(A,x.props),w.ref=Ou(b,A,x),w.return=b,b=w;break e}n(b,A);break}else e(b,A);A=A.sibling}x.type===wa?(w=ws(x.props.children,b.mode,P,x.key),w.return=b,b=w):(P=Rd(x.type,x.key,x.props,null,b.mode,P),P.ref=Ou(b,w,x),P.return=b,b=P)}return s(b);case _a:e:{for(A=x.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(b,w.sibling),w=i(w,x.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=vv(x,b.mode,P),w.return=b,b=w}return s(b);case Zi:return A=x._init,v(b,w,A(x._payload),P)}if(Yu(x))return m(b,w,x,P);if(Tu(x))return g(b,w,x,P);Yh(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,x),w.return=b,b=w):(n(b,w),w=yv(x,b.mode,P),w.return=b,b=w),s(b)):n(b,w)}return v}var nl=_R(!0),wR=_R(!1),np=Fo(null),rp=null,Pa=null,zb=null;function Wb(){zb=Pa=rp=null}function Hb(t){var e=np.current;it(np),t._currentValue=e}function G0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Va(t,e){rp=t,zb=Pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(zb!==t)if(t={context:t,memoizedValue:e,next:null},Pa===null){if(rp===null)throw Error(ee(308));Pa=t,rp.dependencies={lanes:0,firstContext:t}}else Pa=Pa.next=t;return e}var us=null;function Gb(t){us===null?us=[t]:us.push(t)}function bR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var eo=!1;function qb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oi(t,n)}return i=r.interleaved,i===null?(e.next=e,Gb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oi(t,n)}function Id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}function jT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ip(t,e,n,r){var i=t.updateQueue;eo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ht({},f,d);break e;case 2:eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Os|=s,t.lanes=s,t.memoizedState=f}}function $T(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Gf={},Hr=Fo(Gf),$c=Fo(Gf),Lc=Fo(Gf);function cs(t){if(t===Gf)throw Error(ee(174));return t}function Kb(t,e){switch(Xe(Lc,e),Xe($c,t),Xe(Hr,Gf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A0(e,t)}it(Hr),Xe(Hr,e)}function rl(){it(Hr),it($c),it(Lc)}function ER(t){cs(Lc.current);var e=cs(Hr.current),n=A0(e,t.type);e!==n&&(Xe($c,t),Xe(Hr,n))}function Yb(t){$c.current===t&&(it(Hr),it($c))}var ct=Fo(0);function op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function Qb(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var Pd=Ui.ReactCurrentDispatcher,hv=Ui.ReactCurrentBatchConfig,Cs=0,ft=null,Ot=null,Vt=null,sp=!1,lc=!1,Fc=0,B3=0;function sn(){throw Error(ee(321))}function Xb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function Jb(t,e,n,r,i,o){if(Cs=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pd.current=t===null||t.memoizedState===null?G3:q3,t=n(r,i),lc){o=0;do{if(lc=!1,Fc=0,25<=o)throw Error(ee(301));o+=1,Vt=Ot=null,e.updateQueue=null,Pd.current=K3,t=n(r,i)}while(lc)}if(Pd.current=ap,e=Ot!==null&&Ot.next!==null,Cs=0,Vt=Ot=ft=null,sp=!1,e)throw Error(ee(300));return t}function Zb(){var t=Fc!==0;return Fc=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function fr(){if(Ot===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Vt===null?ft.memoizedState:Vt.next;if(e!==null)Vt=e,Ot=t;else{if(t===null)throw Error(ee(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Vc(t,e){return typeof e=="function"?e(t):e}function dv(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=c,Os|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,Os|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pv(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(In=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function SR(){}function TR(t,e){var n=ft,r=fr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,In=!0),r=r.queue,e1(PR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Uc(9,IR.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(ee(349));Cs&30||AR(n,e,i)}return i}function AR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IR(t,e,n,r){e.value=n,e.getSnapshot=r,CR(e)&&OR(t)}function PR(t,e,n){return n(function(){CR(e)&&OR(t)})}function CR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function OR(t){var e=Oi(t,1);e!==null&&kr(e,t,1,-1)}function LT(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:t},e.queue=t,t=t.dispatch=H3.bind(null,ft,t),[e.memoizedState,t]}function Uc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kR(){return fr().memoizedState}function Cd(t,e,n,r){var i=Vr();ft.flags|=t,i.memoizedState=Uc(1|e,n,void 0,r===void 0?null:r)}function Jm(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var s=Ot.memoizedState;if(o=s.destroy,r!==null&&Xb(r,s.deps)){i.memoizedState=Uc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Uc(1|e,n,o,r)}function FT(t,e){return Cd(8390656,8,t,e)}function e1(t,e){return Jm(2048,8,t,e)}function NR(t,e){return Jm(4,2,t,e)}function RR(t,e){return Jm(4,4,t,e)}function MR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DR(t,e,n){return n=n!=null?n.concat([t]):null,Jm(4,4,MR.bind(null,e,t),n)}function t1(){}function jR(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $R(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LR(t,e,n){return Cs&21?(Dr(n,e)||(n=zN(),ft.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function z3(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=hv.transition;hv.transition={};try{t(!1),e()}finally{Fe=n,hv.transition=r}}function FR(){return fr().memoizedState}function W3(t,e,n){var r=wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VR(t))UR(e,n);else if(n=bR(t,e,n,r),n!==null){var i=xn();kr(n,t,r,i),BR(n,e,r)}}function H3(t,e,n){var r=wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VR(t))UR(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,Gb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=bR(t,e,i,r),n!==null&&(i=xn(),kr(n,t,r,i),BR(n,e,r))}}function VR(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function UR(t,e){lc=sp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nb(t,n)}}var ap={readContext:cr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},G3={readContext:cr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:FT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4194308,4,MR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cd(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W3.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:t1,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=z3.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Vr();if(at){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),zt===null)throw Error(ee(349));Cs&30||AR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,FT(PR.bind(null,r,o,t),[t]),r.flags|=2048,Uc(9,IR.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Vr(),e=zt.identifierPrefix;if(at){var n=hi,r=fi;n=(r&~(1<<32-Or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q3={readContext:cr,useCallback:jR,useContext:cr,useEffect:e1,useImperativeHandle:DR,useInsertionEffect:NR,useLayoutEffect:RR,useMemo:$R,useReducer:dv,useRef:kR,useState:function(){return dv(Vc)},useDebugValue:t1,useDeferredValue:function(t){var e=fr();return LR(e,Ot.memoizedState,t)},useTransition:function(){var t=dv(Vc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:TR,useId:FR,unstable_isNewReconciler:!1},K3={readContext:cr,useCallback:jR,useContext:cr,useEffect:e1,useImperativeHandle:DR,useInsertionEffect:NR,useLayoutEffect:RR,useMemo:$R,useReducer:pv,useRef:kR,useState:function(){return pv(Vc)},useDebugValue:t1,useDeferredValue:function(t){var e=fr();return Ot===null?e.memoizedState=t:LR(e,Ot.memoizedState,t)},useTransition:function(){var t=pv(Vc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:SR,useSyncExternalStore:TR,useId:FR,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function q0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zm={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=wo(t),o=bi(r,i);o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(kr(e,t,i,r),Id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=wo(t),o=bi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(kr(e,t,i,r),Id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=wo(t),i=bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=vo(t,i,r),e!==null&&(kr(e,t,r,n),Id(e,t,r))}};function VT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Rc(n,r)||!Rc(i,o):!0}function zR(t,e,n){var r=!1,i=Oo,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=Nn(e)?Is:gn.current,r=e.contextTypes,o=(r=r!=null)?el(t,i):Oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function UT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zm.enqueueReplaceState(e,e.state,null)}function K0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=Nn(e)?Is:gn.current,i.context=el(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(q0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zm.enqueueReplaceState(i,i.state,null),ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e){try{var n="",r=e;do n+=x4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function mv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Y0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function WR(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){up||(up=!0,o_=r),Y0(t,e)},n}function HR(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Y0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Y0(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function BT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uU.bind(null,t,e,n),e.then(t,t))}function zT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,vo(n,e,1))),n.lanes|=1),t)}var Q3=Ui.ReactCurrentOwner,In=!1;function wn(t,e,n,r){e.child=t===null?wR(e,null,n,r):nl(e,t.child,n,r)}function HT(t,e,n,r,i){n=n.render;var o=e.ref;return Va(e,i),r=Jb(t,e,n,r,o,i),n=Zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(at&&n&&Vb(e),e.flags|=1,wn(t,e,r,i),e.child)}function GT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!u1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GR(t,e,o,r,i)):(t=Rd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(s,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=bo(o,r),t.ref=e.ref,t.return=e,e.child=t}function GR(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Rc(o,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,ki(t,e,i)}return Q0(t,e,n,r,i)}function qR(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Oa,Un),Un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(Oa,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(Oa,Un),Un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(Oa,Un),Un|=r;return wn(t,e,i,n),e.child}function KR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Q0(t,e,n,r,i){var o=Nn(n)?Is:gn.current;return o=el(e,o),Va(e,i),n=Jb(t,e,n,r,o,i),r=Zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(at&&r&&Vb(e),e.flags|=1,wn(t,e,n,i),e.child)}function qT(t,e,n,r,i){if(Nn(n)){var o=!0;Zd(e)}else o=!1;if(Va(e,i),e.stateNode===null)Od(t,e),zR(e,n,r),K0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=Nn(n)?Is:gn.current,u=el(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&UT(e,s,r,u),eo=!1;var d=e.memoizedState;s.state=d,ip(e,r,s,i),l=e.memoizedState,a!==r||d!==l||kn.current||eo?(typeof c=="function"&&(q0(e,n,c,r),l=e.memoizedState),(a=eo||VT(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,xR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Nn(n)?Is:gn.current,l=el(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&UT(e,s,r,l),eo=!1,d=e.memoizedState,s.state=d,ip(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||kn.current||eo?(typeof p=="function"&&(q0(e,n,p,r),m=e.memoizedState),(u=eo||VT(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return X0(t,e,n,r,o,i)}function X0(t,e,n,r,i,o){KR(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&NT(e,n,!1),ki(t,e,o);r=e.stateNode,Q3.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=nl(e,t.child,null,o),e.child=nl(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&NT(e,n,!0),e.child}function YR(t){var e=t.stateNode;e.pendingContext?kT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kT(t,e.context,!1),Kb(t,e.containerInfo)}function KT(t,e,n,r,i){return tl(),Bb(i),e.flags|=256,wn(t,e,n,r),e.child}var J0={dehydrated:null,treeContext:null,retryLane:0};function Z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function QR(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ct,i&1),t===null)return H0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ng(s,r,0,null),t=ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Z0(n),e.memoizedState=J0,t):n1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return X3(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=bo(a,o):(o=ws(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Z0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=J0,r}return o=t.child,t=o.sibling,r=bo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n1(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,n,r){return r!==null&&Bb(r),nl(e,t.child,null,n),t=n1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X3(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=mv(Error(ee(422))),Qh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ng({mode:"visible",children:r.children},i,0,null),o=ws(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&nl(e,t.child,null,s),e.child.memoizedState=Z0(s),e.memoizedState=J0,o);if(!(e.mode&1))return Qh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=mv(o,r,void 0),Qh(t,e,s,r)}if(a=(s&t.childLanes)!==0,In||a){if(r=zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oi(t,i),kr(r,t,i,-1))}return l1(),r=mv(Error(ee(421))),Qh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=yo(i.nextSibling),qn=e,at=!0,Er=null,t!==null&&(nr[rr++]=fi,nr[rr++]=hi,nr[rr++]=Ps,fi=t.id,hi=t.overflow,Ps=e),e=n1(e,r.children),e.flags|=4096,e)}function YT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),G0(t.return,e,n)}function gv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XR(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YT(t,n,e);else if(t.tag===19)YT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&op(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&op(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gv(e,!0,n,null,o);break;case"together":gv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J3(t,e,n){switch(e.tag){case 3:YR(e),tl();break;case 5:ER(e);break;case 1:Nn(e.type)&&Zd(e);break;case 4:Kb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(np,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?QR(t,e,n):(Xe(ct,ct.current&1),t=ki(t,e,n),t!==null?t.sibling:null);Xe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,qR(t,e,n)}return ki(t,e,n)}var JR,e_,ZR,e2;JR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e_=function(){};ZR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cs(Hr.current);var o=null;switch(n){case"input":i=x0(t,i),r=x0(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=T0(t,i),r=T0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xd)}I0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ac.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};e2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z3(t,e,n){var r=e.pendingProps;switch(Ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Nn(e.type)&&Jd(),an(e),null;case 3:return r=e.stateNode,rl(),it(kn),it(gn),Qb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(l_(Er),Er=null))),e_(t,e),an(e),null;case 5:Yb(e);var i=cs(Lc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return an(e),null}if(t=cs(Hr.current),Kh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Br]=e,r[jc]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Xu.length;i++)et(Xu[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":iT(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":sT(r,o),et("invalid",r)}I0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",""+a]):Ac.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&et("scroll",r)}switch(n){case"input":Fh(r),oT(r,o,!0);break;case"textarea":Fh(r),aT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Br]=e,t[jc]=r,JR(t,e,!1,!1),e.stateNode=t;e:{switch(s=P0(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xu.length;i++)et(Xu[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":iT(t,r),i=x0(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),et("invalid",t);break;case"textarea":sT(t,r),i=T0(t,r),et("invalid",t);break;default:i=r}I0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?kN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ic(t,l):typeof l=="number"&&Ic(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&et("scroll",t):l!=null&&Ab(t,o,l,s))}switch(n){case"input":Fh(t),oT(t,r,!1);break;case"textarea":Fh(t),aT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Co(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ja(t,!!r.multiple,o,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)e2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=cs(Lc.current),cs(Hr.current),Kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(o=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:qh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return an(e),null;case 13:if(it(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Hn!==null&&e.mode&1&&!(e.flags&128))vR(),tl(),e.flags|=98560,o=!1;else if(o=Kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Br]=e}else tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Er!==null&&(l_(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Rt===0&&(Rt=3):l1())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return rl(),e_(t,e),t===null&&Mc(e.stateNode.containerInfo),an(e),null;case 10:return Hb(e.type._context),an(e),null;case 17:return Nn(e.type)&&Jd(),an(e),null;case 19:if(it(ct),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ku(o,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=op(t),s!==null){for(e.flags|=128,ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&wt()>ol&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=op(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return an(e),null}else 2*wt()-o.renderingStartTime>ol&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wt(),e.sibling=null,n=ct.current,Xe(ct,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return a1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function eU(t,e){switch(Ub(e),e.tag){case 1:return Nn(e.type)&&Jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rl(),it(kn),it(gn),Qb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yb(e),null;case 13:if(it(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ct),null;case 4:return rl(),null;case 10:return Hb(e.type._context),null;case 22:case 23:return a1(),null;case 24:return null;default:return null}}var Xh=!1,fn=!1,tU=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function t_(t,e,n){try{n()}catch(r){mt(t,e,r)}}var QT=!1;function nU(t,e){if(L0=Kd,t=oR(),Fb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(F0={focusedElem:t,selectionRange:n},Kd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:_r(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(P){mt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return m=QT,QT=!1,m}function uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&t_(e,n,o)}i=i.next}while(i!==r)}}function eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function n_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t2(t){var e=t.alternate;e!==null&&(t.alternate=null,t2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[jc],delete e[B0],delete e[L3],delete e[F3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n2(t){return t.tag===5||t.tag===3||t.tag===4}function XT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function r_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xd));else if(r!==4&&(t=t.child,t!==null))for(r_(t,e,n),t=t.sibling;t!==null;)r_(t,e,n),t=t.sibling}function i_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(i_(t,e,n),t=t.sibling;t!==null;)i_(t,e,n),t=t.sibling}var Kt=null,wr=!1;function Xi(t,e,n){for(n=n.child;n!==null;)r2(t,e,n),n=n.sibling}function r2(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Gm,n)}catch{}switch(n.tag){case 5:fn||Ca(n,e);case 6:var r=Kt,i=wr;Kt=null,Xi(t,e,n),Kt=r,wr=i,Kt!==null&&(wr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(wr?(t=Kt,n=n.stateNode,t.nodeType===8?uv(t.parentNode,n):t.nodeType===1&&uv(t,n),kc(t)):uv(Kt,n.stateNode));break;case 4:r=Kt,i=wr,Kt=n.stateNode.containerInfo,wr=!0,Xi(t,e,n),Kt=r,wr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&t_(n,e,s),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!fn&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mt(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Xi(t,e,n),fn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function JT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tU),e.forEach(function(r){var i=fU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,wr=!1;break e;case 3:Kt=a.stateNode.containerInfo,wr=!0;break e;case 4:Kt=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Kt===null)throw Error(ee(160));r2(o,s,i),Kt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i2(e,t),e=e.sibling}function i2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Fr(t),r&4){try{uc(3,t,t.return),eg(3,t)}catch(g){mt(t,t.return,g)}try{uc(5,t,t.return)}catch(g){mt(t,t.return,g)}}break;case 1:yr(e,t),Fr(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(yr(e,t),Fr(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var i=t.stateNode;try{Ic(i,"")}catch(g){mt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&AN(i,o),P0(a,s);var u=P0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?kN(i,f):c==="dangerouslySetInnerHTML"?CN(i,f):c==="children"?Ic(i,f):Ab(i,c,f,u)}switch(a){case"input":E0(i,o);break;case"textarea":IN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ja(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ja(i,!!o.multiple,o.defaultValue,!0):ja(i,!!o.multiple,o.multiple?[]:"",!1))}i[jc]=o}catch(g){mt(t,t.return,g)}}break;case 6:if(yr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){mt(t,t.return,g)}}break;case 3:if(yr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kc(e.containerInfo)}catch(g){mt(t,t.return,g)}break;case 4:yr(e,t),Fr(t);break;case 13:yr(e,t),Fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(o1=wt())),r&4&&JT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||c,yr(e,t),fn=u):yr(e,t),Fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(d=se,p=d.child,d.tag){case 0:case 11:case 14:case 15:uc(4,d,d.return);break;case 1:Ca(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){mt(r,n,g)}}break;case 5:Ca(d,d.return);break;case 22:if(d.memoizedState!==null){eA(f);continue}}p!==null?(p.return=d,se=p):eA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ON("display",s))}catch(g){mt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){mt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yr(e,t),Fr(t),r&4&&JT(t);break;case 21:break;default:yr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n2(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ic(i,""),r.flags&=-33);var o=XT(t);i_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=XT(t);r_(t,a,s);break;default:throw Error(ee(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rU(t,e,n){se=t,o2(t)}function o2(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fn;a=Xh;var u=fn;if(Xh=s,(fn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?tA(i):l!==null?(l.return=s,se=l):tA(i);for(;o!==null;)se=o,o2(o),o=o.sibling;se=i,Xh=a,fn=u}ZT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):ZT(t)}}function ZT(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$T(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$T(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}fn||e.flags&512&&n_(e)}catch(d){mt(e,e.return,d)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function eA(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function tA(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eg(4,e)}catch(l){mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){mt(e,i,l)}}var o=e.return;try{n_(e)}catch(l){mt(e,o,l)}break;case 5:var s=e.return;try{n_(e)}catch(l){mt(e,s,l)}}}catch(l){mt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var iU=Math.ceil,lp=Ui.ReactCurrentDispatcher,r1=Ui.ReactCurrentOwner,sr=Ui.ReactCurrentBatchConfig,Ne=0,zt=null,Tt=null,Jt=0,Un=0,Oa=Fo(0),Rt=0,Bc=null,Os=0,tg=0,i1=0,cc=null,Tn=null,o1=0,ol=1/0,li=null,up=!1,o_=null,_o=null,Jh=!1,co=null,cp=0,fc=0,s_=null,kd=-1,Nd=0;function xn(){return Ne&6?wt():kd!==-1?kd:kd=wt()}function wo(t){return t.mode&1?Ne&2&&Jt!==0?Jt&-Jt:U3.transition!==null?(Nd===0&&(Nd=zN()),Nd):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:QN(t.type)),t):1}function kr(t,e,n,r){if(50<fc)throw fc=0,s_=null,Error(ee(185));zf(t,n,r),(!(Ne&2)||t!==zt)&&(t===zt&&(!(Ne&2)&&(tg|=n),Rt===4&&io(t,Jt)),Rn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(ol=wt()+500,Xm&&Vo()))}function Rn(t,e){var n=t.callbackNode;U4(t,e);var r=qd(t,t===zt?Jt:0);if(r===0)n!==null&&cT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cT(n),e===1)t.tag===0?V3(nA.bind(null,t)):mR(nA.bind(null,t)),j3(function(){!(Ne&6)&&Vo()}),n=null;else{switch(WN(r)){case 1:n=kb;break;case 4:n=UN;break;case 16:n=Gd;break;case 536870912:n=BN;break;default:n=Gd}n=d2(n,s2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s2(t,e){if(kd=-1,Nd=0,Ne&6)throw Error(ee(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=qd(t,t===zt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fp(t,r);else{e=r;var i=Ne;Ne|=2;var o=l2();(zt!==t||Jt!==e)&&(li=null,ol=wt()+500,_s(t,e));do try{aU();break}catch(a){a2(t,a)}while(1);Wb(),lp.current=o,Ne=i,Tt!==null?e=0:(zt=null,Jt=0,e=Rt)}if(e!==0){if(e===2&&(i=R0(t),i!==0&&(r=i,e=a_(t,i))),e===1)throw n=Bc,_s(t,0),io(t,r),Rn(t,wt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!oU(i)&&(e=fp(t,r),e===2&&(o=R0(t),o!==0&&(r=o,e=a_(t,o))),e===1))throw n=Bc,_s(t,0),io(t,r),Rn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:ts(t,Tn,li);break;case 3:if(io(t,r),(r&130023424)===r&&(e=o1+500-wt(),10<e)){if(qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=U0(ts.bind(null,t,Tn,li),e);break}ts(t,Tn,li);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Or(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iU(r/1960))-r,10<r){t.timeoutHandle=U0(ts.bind(null,t,Tn,li),r);break}ts(t,Tn,li);break;case 5:ts(t,Tn,li);break;default:throw Error(ee(329))}}}return Rn(t,wt()),t.callbackNode===n?s2.bind(null,t):null}function a_(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=fp(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&l_(e)),t}function l_(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function oU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~i1,e&=~tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Or(e),r=1<<n;t[n]=-1,e&=~r}}function nA(t){if(Ne&6)throw Error(ee(327));Ua();var e=qd(t,0);if(!(e&1))return Rn(t,wt()),null;var n=fp(t,e);if(t.tag!==0&&n===2){var r=R0(t);r!==0&&(e=r,n=a_(t,r))}if(n===1)throw n=Bc,_s(t,0),io(t,e),Rn(t,wt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,Tn,li),Rn(t,wt()),null}function s1(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ol=wt()+500,Xm&&Vo())}}function ks(t){co!==null&&co.tag===0&&!(Ne&6)&&Ua();var e=Ne;Ne|=1;var n=sr.transition,r=Fe;try{if(sr.transition=null,Fe=1,t)return t()}finally{Fe=r,sr.transition=n,Ne=e,!(Ne&6)&&Vo()}}function a1(){Un=Oa.current,it(Oa)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D3(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:rl(),it(kn),it(gn),Qb();break;case 5:Yb(r);break;case 4:rl();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Hb(r.type._context);break;case 22:case 23:a1()}n=n.return}if(zt=t,Tt=t=bo(t.current,null),Jt=Un=e,Rt=0,Bc=null,i1=tg=Os=0,Tn=cc=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}us=null}return t}function a2(t,e){do{var n=Tt;try{if(Wb(),Pd.current=ap,sp){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sp=!1}if(Cs=0,Vt=Ot=ft=null,lc=!1,Fc=0,r1.current=null,n===null||n.return===null){Rt=1,Bc=e,Tt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zT(s);if(p!==null){p.flags&=-257,WT(p,s,a,o,e),p.mode&1&&BT(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){BT(o,u,e),l1();break e}l=Error(ee(426))}}else if(at&&a.mode&1){var v=zT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WT(v,s,a,o,e),Bb(il(l,a));break e}}o=l=il(l,a),Rt!==4&&(Rt=2),cc===null?cc=[o]:cc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=WR(o,l,e);jT(o,b);break e;case 1:a=l;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_o===null||!_o.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=HR(o,a,e);jT(o,P);break e}}o=o.return}while(o!==null)}c2(n)}catch(T){e=T,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(1)}function l2(){var t=lp.current;return lp.current=ap,t===null?ap:t}function l1(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),zt===null||!(Os&268435455)&&!(tg&268435455)||io(zt,Jt)}function fp(t,e){var n=Ne;Ne|=2;var r=l2();(zt!==t||Jt!==e)&&(li=null,_s(t,e));do try{sU();break}catch(i){a2(t,i)}while(1);if(Wb(),Ne=n,lp.current=r,Tt!==null)throw Error(ee(261));return zt=null,Jt=0,Rt}function sU(){for(;Tt!==null;)u2(Tt)}function aU(){for(;Tt!==null&&!N4();)u2(Tt)}function u2(t){var e=h2(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?c2(t):Tt=e,r1.current=null}function c2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eU(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Tt=null;return}}else if(n=Z3(n,e,Un),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Rt===0&&(Rt=5)}function ts(t,e,n){var r=Fe,i=sr.transition;try{sr.transition=null,Fe=1,lU(t,e,n,r)}finally{sr.transition=i,Fe=r}return null}function lU(t,e,n,r){do Ua();while(co!==null);if(Ne&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(B4(t,o),t===zt&&(Tt=zt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jh||(Jh=!0,d2(Gd,function(){return Ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var s=Fe;Fe=1;var a=Ne;Ne|=4,r1.current=null,nU(t,n),i2(n,t),P3(F0),Kd=!!L0,F0=L0=null,t.current=n,rU(n),R4(),Ne=a,Fe=s,sr.transition=o}else t.current=n;if(Jh&&(Jh=!1,co=t,cp=i),o=t.pendingLanes,o===0&&(_o=null),j4(n.stateNode),Rn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(up)throw up=!1,t=o_,o_=null,t;return cp&1&&t.tag!==0&&Ua(),o=t.pendingLanes,o&1?t===s_?fc++:(fc=0,s_=t):fc=0,Vo(),null}function Ua(){if(co!==null){var t=WN(cp),e=sr.transition,n=Fe;try{if(sr.transition=null,Fe=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,cp=0,Ne&6)throw Error(ee(331));var i=Ne;for(Ne|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:uc(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var d=c.sibling,p=c.return;if(t2(c),c===u){se=null;break}if(d!==null){d.return=p,se=d;break}se=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:uc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,se=b;break e}se=o.return}}var w=t.current;for(se=w;se!==null;){s=se;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,se=x;else e:for(s=w;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eg(9,a)}}catch(T){mt(a,a.return,T)}if(a===s){se=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,se=P;break e}se=a.return}}if(Ne=i,Vo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Gm,t)}catch{}r=!0}return r}finally{Fe=n,sr.transition=e}}return!1}function rA(t,e,n){e=il(n,e),e=WR(t,e,1),t=vo(t,e,1),e=xn(),t!==null&&(zf(t,1,e),Rn(t,e))}function mt(t,e,n){if(t.tag===3)rA(t,t,n);else for(;e!==null;){if(e.tag===3){rA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=il(n,t),t=HR(e,t,1),e=vo(e,t,1),t=xn(),e!==null&&(zf(e,1,t),Rn(e,t));break}}e=e.return}}function uU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Jt&n)===n&&(Rt===4||Rt===3&&(Jt&130023424)===Jt&&500>wt()-o1?_s(t,0):i1|=n),Rn(t,e)}function f2(t,e){e===0&&(t.mode&1?(e=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):e=1);var n=xn();t=Oi(t,e),t!==null&&(zf(t,e,n),Rn(t,n))}function cU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f2(t,n)}function fU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),f2(t,n)}var h2;h2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,J3(t,e,n);In=!!(t.flags&131072)}else In=!1,at&&e.flags&1048576&&gR(e,tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Od(t,e),t=e.pendingProps;var i=el(e,gn.current);Va(e,n),i=Jb(null,e,r,t,i,n);var o=Zb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(o=!0,Zd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qb(e),i.updater=Zm,e.stateNode=i,i._reactInternals=e,K0(e,r,t,n),e=X0(null,e,r,!0,o,n)):(e.tag=0,at&&o&&Vb(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dU(r),t=_r(r,t),i){case 0:e=Q0(null,e,r,t,n);break e;case 1:e=qT(null,e,r,t,n);break e;case 11:e=HT(null,e,r,t,n);break e;case 14:e=GT(null,e,r,_r(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Q0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),qT(t,e,r,i,n);case 3:e:{if(YR(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,xR(t,e),ip(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=il(Error(ee(423)),e),e=KT(t,e,r,n,i);break e}else if(r!==i){i=il(Error(ee(424)),e),e=KT(t,e,r,n,i);break e}else for(Hn=yo(e.stateNode.containerInfo.firstChild),qn=e,at=!0,Er=null,n=wR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tl(),r===i){e=ki(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return ER(e),t===null&&H0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,V0(r,i)?s=null:o!==null&&V0(r,o)&&(e.flags|=32),KR(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&H0(e),null;case 13:return QR(t,e,n);case 4:return Kb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nl(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),HT(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(np,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!kn.current){e=ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=bi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),G0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),G0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Va(e,n),i=cr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),GT(t,e,r,i,n);case 15:return GR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Od(t,e),e.tag=1,Nn(r)?(t=!0,Zd(e)):t=!1,Va(e,n),zR(e,r,i),K0(e,r,i,n),X0(null,e,r,!0,t,n);case 19:return XR(t,e,n);case 22:return qR(t,e,n)}throw Error(ee(156,e.tag))};function d2(t,e){return VN(t,e)}function hU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new hU(t,e,n,r)}function u1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dU(t){if(typeof t=="function")return u1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pb)return 11;if(t===Cb)return 14}return 2}function bo(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")u1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wa:return ws(n.children,i,o,e);case Ib:s=8,i|=8;break;case v0:return t=ir(12,n,e,i|2),t.elementType=v0,t.lanes=o,t;case _0:return t=ir(13,n,e,i),t.elementType=_0,t.lanes=o,t;case w0:return t=ir(19,n,e,i),t.elementType=w0,t.lanes=o,t;case EN:return ng(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bN:s=10;break e;case xN:s=9;break e;case Pb:s=11;break e;case Cb:s=14;break e;case Zi:s=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ws(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function ng(t,e,n,r){return t=ir(22,t,r,e),t.elementType=EN,t.lanes=n,t.stateNode={isHidden:!1},t}function yv(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function vv(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jy(0),this.expirationTimes=Jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c1(t,e,n,r,i,o,s,a,l){return t=new pU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qb(o),t}function mU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function p2(t){if(!t)return Oo;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Nn(n))return pR(t,n,e)}return e}function m2(t,e,n,r,i,o,s,a,l){return t=c1(n,r,!0,t,i,o,s,a,l),t.context=p2(null),n=t.current,r=xn(),i=wo(n),o=bi(r,i),o.callback=e??null,vo(n,o,i),t.current.lanes=i,zf(t,i,r),Rn(t,r),t}function rg(t,e,n,r){var i=e.current,o=xn(),s=wo(i);return n=p2(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vo(i,e,s),t!==null&&(kr(t,i,s,o),Id(t,i,s)),s}function hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function f1(t,e){iA(t,e),(t=t.alternate)&&iA(t,e)}function gU(){return null}var g2=typeof reportError=="function"?reportError:function(t){console.error(t)};function h1(t){this._internalRoot=t}ig.prototype.render=h1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));rg(t,e,null,null)};ig.prototype.unmount=h1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){rg(null,t,null,null)}),e[Ci]=null}};function ig(t){this._internalRoot=t}ig.prototype.unstable_scheduleHydration=function(t){if(t){var e=qN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&YN(t)}};function d1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oA(){}function yU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=hp(s);o.call(u)}}var s=m2(e,r,t,0,null,!1,!1,"",oA);return t._reactRootContainer=s,t[Ci]=s.current,Mc(t.nodeType===8?t.parentNode:t),ks(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hp(l);a.call(u)}}var l=c1(t,0,!1,null,null,!1,!1,"",oA);return t._reactRootContainer=l,t[Ci]=l.current,Mc(t.nodeType===8?t.parentNode:t),ks(function(){rg(e,l,n,r)}),l}function sg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=hp(s);a.call(l)}}rg(e,s,t,i)}else s=yU(n,e,t,i,r);return hp(s)}HN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qu(e.pendingLanes);n!==0&&(Nb(e,n|1),Rn(e,wt()),!(Ne&6)&&(ol=wt()+500,Vo()))}break;case 13:ks(function(){var r=Oi(t,1);if(r!==null){var i=xn();kr(r,t,1,i)}}),f1(t,1)}};Rb=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=xn();kr(e,t,134217728,n)}f1(t,134217728)}};GN=function(t){if(t.tag===13){var e=wo(t),n=Oi(t,e);if(n!==null){var r=xn();kr(n,t,e,r)}f1(t,e)}};qN=function(){return Fe};KN=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};O0=function(t,e,n){switch(e){case"input":if(E0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qm(r);if(!i)throw Error(ee(90));TN(r),E0(r,i)}}}break;case"textarea":IN(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};MN=s1;DN=ks;var vU={usingClientEntryPoint:!1,Events:[Hf,Sa,Qm,NN,RN,s1]},Nu={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_U={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LN(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||gU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{Gm=Zh.inject(_U),Wr=Zh}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vU;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d1(e))throw Error(ee(200));return mU(t,e,null,n)};Qn.createRoot=function(t,e){if(!d1(t))throw Error(ee(299));var n=!1,r="",i=g2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c1(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Mc(t.nodeType===8?t.parentNode:t),new h1(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=LN(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return ks(t)};Qn.hydrate=function(t,e,n){if(!og(e))throw Error(ee(200));return sg(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!d1(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=g2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=m2(e,null,t,1,n??null,i,!1,o,s),t[Ci]=e.current,Mc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ig(e)};Qn.render=function(t,e,n){if(!og(e))throw Error(ee(200));return sg(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!og(t))throw Error(ee(40));return t._reactRootContainer?(ks(function(){sg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Qn.unstable_batchedUpdates=s1;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!og(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return sg(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function y2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y2)}catch(t){console.error(t)}}y2(),yN.exports=Qn;var wU=yN.exports,sA=wU;g0.createRoot=sA.createRoot,g0.hydrateRoot=sA.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Wl(e)},Wl=function(t){return new Error("Firebase Database ("+v2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new xU;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w2=function(t){const e=_2(t);return p1.encodeByteArray(e,!0)},dp=function(t){return w2(t).replace(/\./g,"")},pp=function(t){try{return p1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){return b2(void 0,t)}function b2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!SU(n)||(t[n]=b2(t[n],e[n]));return t}function SU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=()=>TU().__FIREBASE_DEFAULTS__,IU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pp(t[1]);return e&&JSON.parse(e)},ag=()=>{try{return AU()||IU()||PU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x2=t=>{var e,n;return(n=(e=ag())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E2=t=>{const e=x2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=ag())===null||t===void 0?void 0:t.config},T2=t=>{var e;return(e=ag())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[dp(JSON.stringify(n)),dp(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function CU(){var t;const e=(t=ag())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NU(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P2(){return v2.NODE_ADMIN===!0}function RU(){return!CU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MU(){try{return typeof indexedDB=="object"}catch{return!1}}function DU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jU,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$U(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,a,r)}}function $U(t,e){return t.replace(LU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return JSON.parse(t)}function Bt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=zc(pp(o[0])||""),n=zc(pp(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},FU=function(t){const e=C2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},VU=function(t){const e=C2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function u_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function gp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(aA(o)&&aA(s)){if(!gp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):f<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function BU(t,e){const n=new zU(t,e);return n.subscribe.bind(n)}class zU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _v(){}function g1(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ug=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KU(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qU(t){return t===ns?void 0:t}function KU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const QU={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},XU=Pe.INFO,JU={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ZU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=XU,this._logHandler=ZU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const eB=(t,e)=>e.some(n=>t instanceof n);let lA,uA;function tB(){return lA||(lA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nB(){return uA||(uA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O2=new WeakMap,c_=new WeakMap,k2=new WeakMap,wv=new WeakMap,y1=new WeakMap;function rB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&O2.set(n,t)}).catch(()=>{}),y1.set(e,t),e}function iB(t){if(c_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});c_.set(t,e)}let f_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oB(t){f_=t(f_)}function sB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return k2.set(r,e.sort?e.sort():[e]),xo(r)}:nB().includes(t)?function(...e){return t.apply(bv(this),e),xo(O2.get(this))}:function(...e){return xo(t.apply(bv(this),e))}}function aB(t){return typeof t=="function"?sB(t):(t instanceof IDBTransaction&&iB(t),eB(t,tB())?new Proxy(t,f_):t)}function xo(t){if(t instanceof IDBRequest)return rB(t);if(wv.has(t))return wv.get(t);const e=aB(t);return e!==t&&(wv.set(t,e),y1.set(e,t)),e}const bv=t=>y1.get(t);function lB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uB=["get","getKey","getAll","getAllKeys","count"],cB=["put","add","delete","clear"],xv=new Map;function cA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uB.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xv.set(e,o),o}oB(t=>({...t,get:(e,n,r)=>cA(e,n)||t.get(e,n,r),has:(e,n)=>!!cA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h_="@firebase/app",fA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new cg("@firebase/app"),dB="@firebase/app-compat",pB="@firebase/analytics-compat",mB="@firebase/analytics",gB="@firebase/app-check-compat",yB="@firebase/app-check",vB="@firebase/auth",_B="@firebase/auth-compat",wB="@firebase/database",bB="@firebase/data-connect",xB="@firebase/database-compat",EB="@firebase/functions",SB="@firebase/functions-compat",TB="@firebase/installations",AB="@firebase/installations-compat",IB="@firebase/messaging",PB="@firebase/messaging-compat",CB="@firebase/performance",OB="@firebase/performance-compat",kB="@firebase/remote-config",NB="@firebase/remote-config-compat",RB="@firebase/storage",MB="@firebase/storage-compat",DB="@firebase/firestore",jB="@firebase/vertexai-preview",$B="@firebase/firestore-compat",LB="firebase",FB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="[DEFAULT]",VB={[h_]:"fire-core",[dB]:"fire-core-compat",[mB]:"fire-analytics",[pB]:"fire-analytics-compat",[yB]:"fire-app-check",[gB]:"fire-app-check-compat",[vB]:"fire-auth",[_B]:"fire-auth-compat",[wB]:"fire-rtdb",[bB]:"fire-data-connect",[xB]:"fire-rtdb-compat",[EB]:"fire-fn",[SB]:"fire-fn-compat",[TB]:"fire-iid",[AB]:"fire-iid-compat",[IB]:"fire-fcm",[PB]:"fire-fcm-compat",[CB]:"fire-perf",[OB]:"fire-perf-compat",[kB]:"fire-rc",[NB]:"fire-rc-compat",[RB]:"fire-gcs",[MB]:"fire-gcs-compat",[DB]:"fire-fst",[$B]:"fire-fst-compat",[jB]:"fire-vertex","fire-js":"fire-js",[LB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Map,UB=new Map,p_=new Map;function hA(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(p_.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,t);for(const n of yp.values())hA(n,t);for(const n of UB.values())hA(n,t);return!0}function fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new qf("app","Firebase",BB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=FB;function N2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:d_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=S2()),!n)throw Eo.create("no-options");const o=yp.get(i);if(o){if(gp(n,o.options)&&gp(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const s=new YU(i);for(const l of p_.values())s.addComponent(l);const a=new zB(n,r,s);return yp.set(i,a),a}function v1(t=d_){const e=yp.get(t);if(!e&&t===d_&&S2())return N2();if(!e)throw Eo.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=VB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}Ns(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="firebase-heartbeat-database",HB=1,Wc="firebase-heartbeat-store";let Ev=null;function R2(){return Ev||(Ev=lB(WB,HB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Ev}async function GB(t){try{const n=(await R2()).transaction(Wc),r=await n.objectStore(Wc).get(M2(t));return await n.done,r}catch(e){if(e instanceof Bi)Ni.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function dA(t,e){try{const r=(await R2()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,M2(t)),await r.done}catch(n){if(n instanceof Bi)Ni.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function M2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=1024,KB=30*24*60*60*1e3;class YB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=KB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pA(),{heartbeatsToSend:r,unsentEntries:i}=QB(this._heartbeatsCache.heartbeats),o=dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ni.warn(n),""}}}function pA(){return new Date().toISOString().substring(0,10)}function QB(t,e=qB){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MU()?DU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mA(t){return dp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){Ns(new ko("platform-logger",e=>new fB(e),"PRIVATE")),Ns(new ko("heartbeat",e=>new YB(e),"PRIVATE")),Gr(h_,fA,t),Gr(h_,fA,"esm2017"),Gr("fire-js","")}JB("");var ZB="firebase",e6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(ZB,e6,"app");var gA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,D2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,E){function I(){}I.prototype=E.prototype,_.D=E.prototype,_.prototype=new I,_.prototype.constructor=_,_.C=function(O,k,M){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return E.prototype[k].apply(O,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,E,I){I||(I=0);var O=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)O[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)O[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=_.g[0],I=_.g[1],k=_.g[2];var M=_.g[3],N=E+(M^I&(k^M))+O[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+O[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+O[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+O[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+O[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+O[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+O[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+O[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+O[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+O[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+O[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+O[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+O[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+O[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+O[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+O[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^M&(I^k))+O[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+O[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+O[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+O[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+O[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+O[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+O[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+O[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+O[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+O[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+O[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+O[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+O[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+O[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+O[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+O[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^M)+O[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+O[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+O[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+O[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+O[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+O[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+O[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+O[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+O[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+O[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+O[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+O[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+O[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+O[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+O[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+O[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~M))+O[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+O[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+O[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+O[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+O[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+O[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+O[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+O[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+O[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+O[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+O[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+O[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+O[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+O[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+O[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+O[9]+3951481745&4294967295,_.g[0]=_.g[0]+E&4294967295,_.g[1]=_.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,_.g[2]=_.g[2]+k&4294967295,_.g[3]=_.g[3]+M&4294967295}r.prototype.u=function(_,E){E===void 0&&(E=_.length);for(var I=E-this.blockSize,O=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=I;)i(this,_,M),M+=this.blockSize;if(typeof _=="string"){for(;M<E;)if(O[k++]=_.charCodeAt(M++),k==this.blockSize){i(this,O),k=0;break}}else for(;M<E;)if(O[k++]=_[M++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var E=1;E<_.length-8;++E)_[E]=0;var I=8*this.o;for(E=_.length-8;E<_.length;++E)_[E]=I&255,I/=256;for(this.u(_),_=Array(16),E=I=0;4>E;++E)for(var O=0;32>O;O+=8)_[I++]=this.g[E]>>>O&255;return _};function o(_,E){var I=a;return Object.prototype.hasOwnProperty.call(I,_)?I[_]:I[_]=E(_)}function s(_,E){this.h=E;for(var I=[],O=!0,k=_.length-1;0<=k;k--){var M=_[k]|0;O&&M==E||(I[k]=M,O=!1)}this.g=I}var a={};function l(_){return-128<=_&&128>_?o(_,function(E){return new s([E|0],0>E?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return v(u(-_));for(var E=[],I=1,O=0;_>=I;O++)E[O]=_/I|0,I*=4294967296;return new s(E,0)}function c(_,E){if(_.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_.charAt(0)=="-")return v(c(_.substring(1),E));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),O=f,k=0;k<_.length;k+=8){var M=Math.min(8,_.length-k),N=parseInt(_.substring(k,k+M),E);8>M?(M=u(Math.pow(E,M)),O=O.j(M).add(u(N))):(O=O.j(I),O=O.add(u(N)))}return O}var f=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();for(var _=0,E=1,I=0;I<this.g.length;I++){var O=this.i(I);_+=(0<=O?O:4294967296+O)*E,E*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(m(this))return"0";if(g(this))return"-"+v(this).toString(_);for(var E=u(Math.pow(_,6)),I=this,O="";;){var k=P(I,E).g;I=b(I,k.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(_);if(I=k,m(I))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function m(_){if(_.h!=0)return!1;for(var E=0;E<_.g.length;E++)if(_.g[E]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=b(this,_),g(_)?-1:m(_)?0:1};function v(_){for(var E=_.g.length,I=[],O=0;O<E;O++)I[O]=~_.g[O];return new s(I,~_.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){for(var E=Math.max(this.g.length,_.g.length),I=[],O=0,k=0;k<=E;k++){var M=O+(this.i(k)&65535)+(_.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(_.i(k)>>>16);O=N>>>16,M&=65535,N&=65535,I[k]=N<<16|M}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(_,E){return _.add(v(E))}t.j=function(_){if(m(this)||m(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(0>this.l(p)&&0>_.l(p))return u(this.m()*_.m());for(var E=this.g.length+_.g.length,I=[],O=0;O<2*E;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<_.g.length;k++){var M=this.i(O)>>>16,N=this.i(O)&65535,z=_.i(k)>>>16,B=_.i(k)&65535;I[2*O+2*k]+=N*B,w(I,2*O+2*k),I[2*O+2*k+1]+=M*B,w(I,2*O+2*k+1),I[2*O+2*k+1]+=N*z,w(I,2*O+2*k+1),I[2*O+2*k+2]+=M*z,w(I,2*O+2*k+2)}for(O=0;O<E;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=E;O<2*E;O++)I[O]=0;return new s(I,0)};function w(_,E){for(;(_[E]&65535)!=_[E];)_[E+1]+=_[E]>>>16,_[E]&=65535,E++}function x(_,E){this.g=_,this.h=E}function P(_,E){if(m(E))throw Error("division by zero");if(m(_))return new x(f,f);if(g(_))return E=P(v(_),E),new x(v(E.g),v(E.h));if(g(E))return E=P(_,v(E)),new x(v(E.g),E.h);if(30<_.g.length){if(g(_)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=d,O=E;0>=O.l(_);)I=T(I),O=T(O);var k=A(I,1),M=A(O,1);for(O=A(O,2),I=A(I,2);!m(O);){var N=M.add(O);0>=N.l(_)&&(k=k.add(I),M=N),O=A(O,1),I=A(I,1)}return E=b(_,k.j(E)),new x(k,E)}for(k=f;0<=_.l(E);){for(I=Math.max(1,Math.floor(_.m()/E.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=u(I),N=M.j(E);g(N)||0<N.l(_);)I-=O,M=u(I),N=M.j(E);m(M)&&(M=d),k=k.add(M),_=b(_,N)}return new x(k,_)}t.A=function(_){return P(this,_).h},t.and=function(_){for(var E=Math.max(this.g.length,_.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)&_.i(O);return new s(I,this.h&_.h)},t.or=function(_){for(var E=Math.max(this.g.length,_.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)|_.i(O);return new s(I,this.h|_.h)},t.xor=function(_){for(var E=Math.max(this.g.length,_.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)^_.i(O);return new s(I,this.h^_.h)};function T(_){for(var E=_.g.length+1,I=[],O=0;O<E;O++)I[O]=_.i(O)<<1|_.i(O-1)>>>31;return new s(I,_.h)}function A(_,E){var I=E>>5;E%=32;for(var O=_.g.length-I,k=[],M=0;M<O;M++)k[M]=0<E?_.i(M+I)>>>E|_.i(M+I+1)<<32-E:_.i(M+I);return new s(k,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,D2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,bs=s}).apply(typeof gA<"u"?gA:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j2,Ju,$2,Md,m_,L2,F2,V2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,S){return h==Array.prototype||h==Object.prototype||(h[y]=S.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var S=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in S))break e;S=S[F]}h=h[h.length-1],R=S[h],y=y(R),y!=R&&y!=null&&e(S,h,{configurable:!0,writable:!0,value:y})}}function o(h,y){h instanceof String&&(h+="");var S=0,R=!1,F={next:function(){if(!R&&S<h.length){var W=S++;return{value:y(W,h[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(h){return h||function(){return o(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function u(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function c(h,y,S){return h.call.apply(h.bind,arguments)}function f(h,y,S){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function d(h,y,S){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,y){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function m(h,y){function S(){}S.prototype=y.prototype,h.aa=y.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(R,F,W){for(var re=Array(arguments.length-2),We=2;We<arguments.length;We++)re[We-2]=arguments[We];return y.prototype[F].apply(R,re)}}function g(h){const y=h.length;if(0<y){const S=Array(y);for(let R=0;R<y;R++)S[R]=h[R];return S}return[]}function v(h,y){for(let S=1;S<arguments.length;S++){const R=arguments[S];if(l(R)){const F=h.length||0,W=R.length||0;h.length=F+W;for(let re=0;re<W;re++)h[F+re]=R[re]}else h.push(R)}}class b{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function P(h){return P[" "](h),h}P[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(h,y,S){for(const R in h)y.call(S,h[R],R,h)}function _(h,y){for(const S in h)y.call(void 0,h[S],S,h)}function E(h){const y={};for(const S in h)y[S]=h[S];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let S,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(S in R)h[S]=R[S];for(let W=0;W<I.length;W++)S=I[W],Object.prototype.hasOwnProperty.call(R,S)&&(h[S]=R[S])}}function k(h){var y=1;h=h.split(":");const S=[];for(;0<y&&h.length;)S.push(h.shift()),y--;return h.length&&S.push(h.join(":")),S}function M(h){a.setTimeout(()=>{throw h},0)}function N(){var h=L;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,S){const R=B.get();R.set(y,S),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new b(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let U,j=!1,L=new z,H=()=>{const h=a.Promise.resolve(void 0);U=()=>{h.then(Q)}};var Q=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(S){M(S)}var y=B;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}j=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};a.addEventListener("test",S,y),a.removeEventListener("test",S,y)}catch{}return h}();function oe(h,y){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(T){e:{try{P(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else S=="mouseover"?y=h.fromElement:S=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&oe.aa.h.call(this)}}m(oe,K);var ce={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function te(h,y,S,R,F){this.listener=h,this.proxy=null,this.src=y,this.type=S,this.capture=!!R,this.ha=F,this.key=++Ke,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,y,S,R,F){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var re=Be(h,y,R,F);return-1<re?(y=h[re],S||(y.fa=!1)):(y=new te(y,this.src,W,!!R,F),y.fa=S,h.push(y)),y};function Y(h,y){var S=y.type;if(S in h.g){var R=h.g[S],F=Array.prototype.indexOf.call(R,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(R,F,1),W&&(he(y),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Be(h,y,S,R){for(var F=0;F<h.length;++F){var W=h[F];if(!W.da&&W.listener==y&&W.capture==!!S&&W.ha==R)return F}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Je={};function ot(h,y,S,R,F){if(R&&R.once)return ri(h,y,S,R,F);if(Array.isArray(y)){for(var W=0;W<y.length;W++)ot(h,y[W],S,R,F);return null}return S=Oy(S),h&&h[Ie]?h.K(y,S,u(R)?!!R.capture:!!R,F):xt(h,y,S,!1,R,F)}function xt(h,y,S,R,F,W){if(!y)throw Error("Invalid event type");var re=u(F)?!!F.capture:!!F,We=na(h);if(We||(h[be]=We=new pe(h)),S=We.add(y,S,R,re,W),S.proxy)return S;if(R=$r(),S.proxy=R,R.src=h,R.listener=S,h.addEventListener)Z||(F=re),F===void 0&&(F=!1),h.addEventListener(y.toString(),R,F);else if(h.attachEvent)h.attachEvent(Lr(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function $r(){function h(S){return y.call(h.src,h.listener,S)}const y=fu;return h}function ri(h,y,S,R,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)ri(h,y[W],S,R,F);return null}return S=Oy(S),h&&h[Ie]?h.L(y,S,u(R)?!!R.capture:!!R,F):xt(h,y,S,!0,R,F)}function qo(h,y,S,R,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)qo(h,y[W],S,R,F);else R=u(R)?!!R.capture:!!R,S=Oy(S),h&&h[Ie]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],S=Be(W,S,R,F),-1<S&&(he(W[S]),Array.prototype.splice.call(W,S,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=na(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Be(y,S,R,F)),(S=-1<h?y[h]:null)&&mr(S))}function mr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ie])Y(y.i,h);else{var S=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(S,R,h.capture):y.detachEvent?y.detachEvent(Lr(S),R):y.addListener&&y.removeListener&&y.removeListener(R),(S=na(y))?(Y(S,h),S.h==0&&(S.src=null,y[be]=null)):he(h)}}}function Lr(h){return h in Je?Je[h]:Je[h]="on"+h}function fu(h,y){if(h.da)h=!0;else{y=new oe(y,this);var S=h.listener,R=h.ha||h.src;h.fa&&mr(h),h=S.call(R,y)}return h}function na(h){return h=h[be],h instanceof pe?h:null}var ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oy(h){return typeof h=="function"?h:(h[ra]||(h[ra]=function(y){return h.handleEvent(y)}),h[ra])}function nn(){D.call(this),this.i=new pe(this),this.M=this,this.F=null}m(nn,D),nn.prototype[Ie]=!0,nn.prototype.removeEventListener=function(h,y,S,R){qo(this,h,y,S,R)};function vn(h,y){var S,R=h.F;if(R)for(S=[];R;R=R.F)S.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new K(y,h);else if(y instanceof K)y.target=y.target||h;else{var F=y;y=new K(R,h),O(y,F)}if(F=!0,S)for(var W=S.length-1;0<=W;W--){var re=y.g=S[W];F=wh(re,R,!0,y)&&F}if(re=y.g=h,F=wh(re,R,!0,y)&&F,F=wh(re,R,!1,y)&&F,S)for(W=0;W<S.length;W++)re=y.g=S[W],F=wh(re,R,!1,y)&&F}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var S=h.g[y],R=0;R<S.length;R++)he(S[R]);delete h.g[y],h.h--}}this.F=null},nn.prototype.K=function(h,y,S,R){return this.i.add(String(h),y,!1,S,R)},nn.prototype.L=function(h,y,S,R){return this.i.add(String(h),y,!0,S,R)};function wh(h,y,S,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var re=y[W];if(re&&!re.da&&re.capture==S){var We=re.listener,Ht=re.ha||re.src;re.fa&&Y(h.i,re),F=We.call(Ht,R)!==!1&&F}}return F&&!R.defaultPrevented}function rS(h,y,S){if(typeof h=="function")S&&(h=d(h,S));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(h,y||0)}function iS(h){h.g=rS(()=>{h.g=null,h.i&&(h.i=!1,iS(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class EV extends D{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:iS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hu(h){D.call(this),this.h=h,this.g={}}m(hu,D);var oS=[];function sS(h){A(h.g,function(y,S){this.g.hasOwnProperty(S)&&mr(y)},h),h.g={}}hu.prototype.N=function(){hu.aa.N.call(this),sS(this)},hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ky=a.JSON.stringify,SV=a.JSON.parse,TV=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ny(){}Ny.prototype.h=null;function aS(h){return h.h||(h.h=h.i())}function lS(){}var du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ry(){K.call(this,"d")}m(Ry,K);function My(){K.call(this,"c")}m(My,K);var Ko={},uS=null;function bh(){return uS=uS||new nn}Ko.La="serverreachability";function cS(h){K.call(this,Ko.La,h)}m(cS,K);function pu(h){const y=bh();vn(y,new cS(y))}Ko.STAT_EVENT="statevent";function fS(h,y){K.call(this,Ko.STAT_EVENT,h),this.stat=y}m(fS,K);function _n(h){const y=bh();vn(y,new fS(y,h))}Ko.Ma="timingevent";function hS(h,y){K.call(this,Ko.Ma,h),this.size=y}m(hS,K);function mu(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},y)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function AV(h,y,S,R,F,W){h.info(function(){if(h.g)if(W)for(var re="",We=W.split("&"),Ht=0;Ht<We.length;Ht++){var Me=We[Ht].split("=");if(1<Me.length){var rn=Me[0];Me=Me[1];var on=rn.split("_");re=2<=on.length&&on[1]=="type"?re+(rn+"="+Me+"&"):re+(rn+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+S+`
`+re})}function IV(h,y,S,R,F,W,re){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+S+`
`+W+" "+re})}function ia(h,y,S,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+CV(h,S)+(R?" "+R:"")})}function PV(h,y){h.info(function(){return"TIMEOUT: "+y})}gu.prototype.info=function(){};function CV(h,y){if(!h.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var R=S[h];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return ky(S)}catch{return y}}var xh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dy;function Eh(){}m(Eh,Ny),Eh.prototype.g=function(){return new XMLHttpRequest},Eh.prototype.i=function(){return{}},Dy=new Eh;function Ki(h,y,S,R){this.j=h,this.i=y,this.l=S,this.R=R||1,this.U=new hu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pS}function pS(){this.i=null,this.g="",this.h=!1}var mS={},jy={};function $y(h,y,S){h.L=1,h.v=Ih(ii(y)),h.m=S,h.P=!0,gS(h,null)}function gS(h,y){h.F=Date.now(),Sh(h),h.A=ii(h.v);var S=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),OS(S.i,"t",R),h.C=0,S=h.j.J,h.h=new pS,h.g=KS(h.j,S?y:null,!h.m),0<h.O&&(h.M=new EV(d(h.Y,h,h.g),h.O)),y=h.U,S=h.g,R=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(oS[0]=F.toString()),F=oS);for(var W=0;W<F.length;W++){var re=ot(S,F[W],R||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),pu(),AV(h.i,h.u,h.A,h.l,h.R,h.m)}Ki.prototype.ca=function(h){h=h.target;const y=this.M;y&&oi(h)==3?y.j():this.Y(h)},Ki.prototype.Y=function(h){try{if(h==this.g)e:{const on=oi(this.g);var y=this.g.Ba();const aa=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||$S(this.g)))){this.J||on!=4||y==7||(y==8||0>=aa?pu(3):pu(2)),Ly(this);var S=this.g.Z();this.X=S;t:if(yS(this)){var R=$S(this.g);h="";var F=R.length,W=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),yu(this);var re="";break t}this.h.i=new a.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(W&&y==F-1)});R.length=0,this.h.g+=h,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=S==200,IV(this.i,this.u,this.A,this.l,this.R,on,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ht=this.g;if((We=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Me=We;break t}}Me=null}if(S=Me)ia(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fy(this,S);else{this.o=!1,this.s=3,_n(12),Yo(this),yu(this);break e}}if(this.P){S=!0;let gr;for(;!this.J&&this.C<re.length;)if(gr=OV(this,re),gr==jy){on==4&&(this.s=4,_n(14),S=!1),ia(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==mS){this.s=4,_n(15),ia(this.i,this.l,re,"[Invalid Chunk]"),S=!1;break}else ia(this.i,this.l,gr,null),Fy(this,gr);if(yS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||re.length!=0||this.h.h||(this.s=1,_n(16),S=!1),this.o=this.o&&S,!S)ia(this.i,this.l,re,"[Invalid Chunked Response]"),Yo(this),yu(this);else if(0<re.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Hy(rn),rn.M=!0,_n(11))}}else ia(this.i,this.l,re,null),Fy(this,re);on==4&&Yo(this),this.o&&!this.J&&(on==4?WS(this.j,this):(this.o=!1,Sh(this)))}else qV(this.g),S==400&&0<re.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),Yo(this),yu(this)}}}catch{}finally{}};function yS(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function OV(h,y){var S=h.C,R=y.indexOf(`
`,S);return R==-1?jy:(S=Number(y.substring(S,R)),isNaN(S)?mS:(R+=1,R+S>y.length?jy:(y=y.slice(R,R+S),h.C=R+S,y)))}Ki.prototype.cancel=function(){this.J=!0,Yo(this)};function Sh(h){h.S=Date.now()+h.I,vS(h,h.I)}function vS(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mu(d(h.ba,h),y)}function Ly(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Ki.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(PV(this.i,this.A),this.L!=2&&(pu(),_n(17)),Yo(this),this.s=2,yu(this)):vS(this,this.S-h)};function yu(h){h.j.G==0||h.J||WS(h.j,h)}function Yo(h){Ly(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,sS(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Fy(h,y){try{var S=h.j;if(S.G!=0&&(S.g==h||Vy(S.h,h))){if(!h.K&&Vy(S.h,h)&&S.G==3){try{var R=S.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Rh(S),kh(S);else break e;Wy(S),_n(18)}}else S.za=F[1],0<S.za-S.T&&37500>F[2]&&S.F&&S.v==0&&!S.C&&(S.C=mu(d(S.Za,S),6e3));if(1>=bS(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Xo(S,11)}else if((h.K||S.g==h)&&Rh(S),!w(y))for(F=S.Da.g.parse(y),y=0;y<F.length;y++){let Me=F[y];if(S.T=Me[0],Me=Me[1],S.G==2)if(Me[0]=="c"){S.K=Me[1],S.ia=Me[2];const rn=Me[3];rn!=null&&(S.la=rn,S.j.info("VER="+S.la));const on=Me[4];on!=null&&(S.Aa=on,S.j.info("SVER="+S.Aa));const aa=Me[5];aa!=null&&typeof aa=="number"&&0<aa&&(R=1.5*aa,S.L=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const gr=h.g;if(gr){const Dh=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dh){var W=R.h;W.g||Dh.indexOf("spdy")==-1&&Dh.indexOf("quic")==-1&&Dh.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Uy(W,W.h),W.h=null))}if(R.D){const Gy=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gy&&(R.ya=Gy,Ze(R.I,R.D,Gy))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),R=S;var re=h;if(R.qa=qS(R,R.J?R.ia:null,R.W),re.K){xS(R.h,re);var We=re,Ht=R.L;Ht&&(We.I=Ht),We.B&&(Ly(We),Sh(We)),R.g=re}else BS(R);0<S.i.length&&Nh(S)}else Me[0]!="stop"&&Me[0]!="close"||Xo(S,7);else S.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Xo(S,7):zy(S):Me[0]!="noop"&&S.l&&S.l.ta(Me),S.v=0)}}pu(4)}catch{}}var kV=class{constructor(h,y){this.g=h,this.map=y}};function _S(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bS(h){return h.h?1:h.g?h.g.size:0}function Vy(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Uy(h,y){h.g?h.g.add(y):h.h=y}function xS(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}_S.prototype.cancel=function(){if(this.i=ES(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ES(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const S of h.g.values())y=y.concat(S.D);return y}return g(h.i)}function NV(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var y=[],S=h.length,R=0;R<S;R++)y.push(h[R]);return y}y=[],S=0;for(R in h)y[S++]=h[R];return y}function RV(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var y=[];h=h.length;for(var S=0;S<h;S++)y.push(S);return y}y=[],S=0;for(const R in h)y[S++]=R;return y}}}function SS(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var S=RV(h),R=NV(h),F=R.length,W=0;W<F;W++)y.call(void 0,R[W],S&&S[W],h)}var TS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MV(h,y){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var R=h[S].indexOf("="),F=null;if(0<=R){var W=h[S].substring(0,R);F=h[S].substring(R+1)}else W=h[S];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Qo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qo){this.h=h.h,Th(this,h.j),this.o=h.o,this.g=h.g,Ah(this,h.s),this.l=h.l;var y=h.i,S=new wu;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),AS(this,S),this.m=h.m}else h&&(y=String(h).match(TS))?(this.h=!1,Th(this,y[1]||"",!0),this.o=vu(y[2]||""),this.g=vu(y[3]||"",!0),Ah(this,y[4]),this.l=vu(y[5]||"",!0),AS(this,y[6]||"",!0),this.m=vu(y[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Qo.prototype.toString=function(){var h=[],y=this.j;y&&h.push(_u(y,IS,!0),":");var S=this.g;return(S||y=="file")&&(h.push("//"),(y=this.o)&&h.push(_u(y,IS,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(_u(S,S.charAt(0)=="/"?$V:jV,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",_u(S,FV)),h.join("")};function ii(h){return new Qo(h)}function Th(h,y,S){h.j=S?vu(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ah(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function AS(h,y,S){y instanceof wu?(h.i=y,VV(h.i,h.h)):(S||(y=_u(y,LV)),h.i=new wu(y,h.h))}function Ze(h,y,S){h.i.set(y,S)}function Ih(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vu(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _u(h,y,S){return typeof h=="string"?(h=encodeURI(h).replace(y,DV),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function DV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var IS=/[#\/\?@]/g,jV=/[#\?:]/g,$V=/[#\?]/g,LV=/[#\?@]/g,FV=/#/g;function wu(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Yi(h){h.g||(h.g=new Map,h.h=0,h.i&&MV(h.i,function(y,S){h.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=wu.prototype,t.add=function(h,y){Yi(this),this.i=null,h=oa(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(y),this.h+=1,this};function PS(h,y){Yi(h),y=oa(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function CS(h,y){return Yi(h),y=oa(h,y),h.g.has(y)}t.forEach=function(h,y){Yi(this),this.g.forEach(function(S,R){S.forEach(function(F){h.call(y,F,R,this)},this)},this)},t.na=function(){Yi(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let R=0;R<y.length;R++){const F=h[R];for(let W=0;W<F.length;W++)S.push(y[R])}return S},t.V=function(h){Yi(this);let y=[];if(typeof h=="string")CS(this,h)&&(y=y.concat(this.g.get(oa(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)y=y.concat(h[S])}return y},t.set=function(h,y){return Yi(this),this.i=null,h=oa(this,h),CS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function OS(h,y,S){PS(h,y),0<S.length&&(h.i=null,h.g.set(oa(h,y),g(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var R=y[S];const W=encodeURIComponent(String(R)),re=this.V(R);for(R=0;R<re.length;R++){var F=W;re[R]!==""&&(F+="="+encodeURIComponent(String(re[R]))),h.push(F)}}return this.i=h.join("&")};function oa(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function VV(h,y){y&&!h.j&&(Yi(h),h.i=null,h.g.forEach(function(S,R){var F=R.toLowerCase();R!=F&&(PS(this,R),OS(this,F,S))},h)),h.j=y}function UV(h,y){const S=new gu;if(a.Image){const R=new Image;R.onload=p(Qi,S,"TestLoadImage: loaded",!0,y,R),R.onerror=p(Qi,S,"TestLoadImage: error",!1,y,R),R.onabort=p(Qi,S,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(Qi,S,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function BV(h,y){const S=new gu,R=new AbortController,F=setTimeout(()=>{R.abort(),Qi(S,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(F),W.ok?Qi(S,"TestPingServer: ok",!0,y):Qi(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Qi(S,"TestPingServer: error",!1,y)})}function Qi(h,y,S,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(S)}catch{}}function zV(){this.g=new TV}function WV(h,y,S){const R=S||"";try{SS(h,function(F,W){let re=F;u(F)&&(re=ky(F)),y.push(R+W+"="+encodeURIComponent(re))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function Ph(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Ph,Ny),Ph.prototype.g=function(){return new Ch(this.l,this.j)},Ph.prototype.i=function(h){return function(){return h}}({});function Ch(h,y){nn.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ch,nn),t=Ch.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,xu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function kS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?bu(this):xu(this),this.readyState==3&&kS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bu(this))},t.Qa=function(h){this.g&&(this.response=h,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xu(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=y.next();return h.join(`\r
`)};function xu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function NS(h){let y="";return A(h,function(S,R){y+=R,y+=":",y+=S,y+=`\r
`}),y}function By(h,y,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=NS(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):Ze(h,y,S))}function dt(h){nn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(dt,nn);var HV=/^https?$/i,GV=["POST","PUT"];t=dt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dy.g(),this.v=this.o?aS(this.o):aS(Dy),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){RS(this,W);return}if(h=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)S.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())S.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find(W=>W.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GV,y,void 0))||R||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of S)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jS(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){RS(this,W)}};function RS(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,MS(h),Oh(h)}function MS(h){h.A||(h.A=!0,vn(h,"complete"),vn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,vn(this,"complete"),vn(this,"abort"),Oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oh(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DS(this):this.bb())},t.bb=function(){DS(this)};function DS(h){if(h.h&&typeof s<"u"&&(!h.v[1]||oi(h)!=4||h.Z()!=2)){if(h.u&&oi(h)==4)rS(h.Ea,0,h);else if(vn(h,"readystatechange"),oi(h)==4){h.h=!1;try{const re=h.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var R;if(R=re===0){var F=String(h.D).match(TS)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!HV.test(F?F.toLowerCase():"")}S=R}if(S)vn(h,"complete"),vn(h,"success");else{h.m=6;try{var W=2<oi(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",MS(h)}}finally{Oh(h)}}}}function Oh(h,y){if(h.g){jS(h);const S=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||vn(h,"ready");try{S.onreadystatechange=R}catch{}}}function jS(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),SV(y)}};function $S(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qV(h){const y={};h=(h.g&&2<=oi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(w(h[R]))continue;var S=k(h[R]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const W=y[F]||[];y[F]=W,W.push(S)}_(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(h,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||y}function LS(h){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,h),this.cb=Eu("retryDelaySeedMs",1e4,h),this.Wa=Eu("forwardChannelMaxRetries",2,h),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _S(h&&h.concurrentRequestLimit),this.Da=new zV,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LS.prototype,t.la=8,t.G=1,t.connect=function(h,y,S,R){_n(0),this.W=h,this.H=y||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.I=qS(this,null,this.W),Nh(this)};function zy(h){if(FS(h),h.G==3){var y=h.U++,S=ii(h.I);if(Ze(S,"SID",h.K),Ze(S,"RID",y),Ze(S,"TYPE","terminate"),Su(h,S),y=new Ki(h,h.j,y),y.L=2,y.v=Ih(ii(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=y.v,S=!0),S||(y.g=KS(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Sh(y)}GS(h)}function kh(h){h.g&&(Hy(h),h.g.cancel(),h.g=null)}function FS(h){kh(h),h.u&&(a.clearTimeout(h.u),h.u=null),Rh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Nh(h){if(!wS(h.h)&&!h.s){h.s=!0;var y=h.Ga;U||H(),j||(U(),j=!0),L.add(y,h),h.B=0}}function KV(h,y){return bS(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mu(d(h.Ga,h,y),HS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Ki(this,this.j,h);let W=this.o;if(this.S&&(W?(W=E(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=US(this,F,y),S=ii(this.I),Ze(S,"RID",h),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Su(this,S),W&&(this.O?y="headers="+encodeURIComponent(String(NS(W)))+"&"+y:this.m&&By(S,this.m,W)),Uy(this.h,F),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",y),Ze(S,"SID","null"),F.T=!0,$y(F,S,null)):$y(F,S,y),this.G=2}}else this.G==3&&(h?VS(this,h):this.i.length==0||wS(this.h)||VS(this))};function VS(h,y){var S;y?S=y.l:S=h.U++;const R=ii(h.I);Ze(R,"SID",h.K),Ze(R,"RID",S),Ze(R,"AID",h.T),Su(h,R),h.m&&h.o&&By(R,h.m,h.o),S=new Ki(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),y&&(h.i=y.D.concat(h.i)),y=US(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Uy(h.h,S),$y(S,R,y)}function Su(h,y){h.H&&A(h.H,function(S,R){Ze(y,R,S)}),h.l&&SS({},function(S,R){Ze(y,R,S)})}function US(h,y,S){S=Math.min(h.i.length,S);var R=h.l?d(h.l.Na,h.l,h):null;e:{var F=h.i;let W=-1;for(;;){const re=["count="+S];W==-1?0<S?(W=F[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let We=!0;for(let Ht=0;Ht<S;Ht++){let Me=F[Ht].g;const rn=F[Ht].map;if(Me-=W,0>Me)W=Math.max(0,F[Ht].g-100),We=!1;else try{WV(rn,re,"req"+Me+"_")}catch{R&&R(rn)}}if(We){R=re.join("&");break e}}}return h=h.i.splice(0,S),y.D=h,R}function BS(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;U||H(),j||(U(),j=!0),L.add(y,h),h.v=0}}function Wy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mu(d(h.Fa,h),HS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,zS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mu(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),kh(this),zS(this))};function Hy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function zS(h){h.g=new Ki(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ii(h.qa);Ze(y,"RID","rpc"),Ze(y,"SID",h.K),Ze(y,"AID",h.T),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(y,"TO",h.ja),Ze(y,"TYPE","xmlhttp"),Su(h,y),h.m&&h.o&&By(y,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Ih(ii(y)),S.m=null,S.P=!0,gS(S,h)}t.Za=function(){this.C!=null&&(this.C=null,kh(this),Wy(this),_n(19))};function Rh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function WS(h,y){var S=null;if(h.g==y){Rh(h),Hy(h),h.g=null;var R=2}else if(Vy(h.h,y))S=y.D,xS(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;R=bh(),vn(R,new hS(R,S)),Nh(h)}else BS(h);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&KV(h,y)||R==2&&Wy(h)))switch(S&&0<S.length&&(y=h.h,y.i=y.i.concat(S)),F){case 1:Xo(h,5);break;case 4:Xo(h,10);break;case 3:Xo(h,6);break;default:Xo(h,2)}}}function HS(h,y){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*y}function Xo(h,y){if(h.j.info("Error code "+y),y==2){var S=d(h.fb,h),R=h.Xa;const F=!R;R=new Qo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Th(R,"https"),Ih(R),F?UV(R.toString(),S):BV(R.toString(),S)}else _n(2);h.G=0,h.l&&h.l.sa(y),GS(h),FS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function GS(h){if(h.G=0,h.ka=[],h.l){const y=ES(h.h);(y.length!=0||h.i.length!=0)&&(v(h.ka,y),v(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function qS(h,y,S){var R=S instanceof Qo?ii(S):new Qo(S);if(R.g!="")y&&(R.g=y+"."+R.g),Ah(R,R.s);else{var F=a.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Qo(null);R&&Th(W,R),y&&(W.g=y),F&&Ah(W,F),S&&(W.l=S),R=W}return S=h.D,y=h.ya,S&&y&&Ze(R,S,y),Ze(R,"VER",h.la),Su(h,R),R}function KS(h,y,S){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new dt(new Ph({eb:S})):new dt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YS(){}t=YS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mh(){}Mh.prototype.g=function(h,y){return new Ln(h,y)};function Ln(h,y){nn.call(this),this.g=new LS(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!w(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new sa(this)}m(Ln,nn),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){zy(this.g)},Ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=ky(h),h=S);y.i.push(new kV(y.Ya++,h)),y.G==3&&Nh(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,zy(this.g),delete this.g,Ln.aa.N.call(this)};function QS(h){Ry.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const S in y){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}m(QS,Ry);function XS(){My.call(this),this.status=1}m(XS,My);function sa(h){this.g=h}m(sa,YS),sa.prototype.ua=function(){vn(this.g,"a")},sa.prototype.ta=function(h){vn(this.g,new QS(h))},sa.prototype.sa=function(h){vn(this.g,new XS)},sa.prototype.ra=function(){vn(this.g,"b")},Mh.prototype.createWebChannel=Mh.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,V2=function(){return new Mh},F2=function(){return bh()},L2=Ko,m_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,Md=xh,dS.COMPLETE="complete",$2=dS,lS.EventType=du,du.OPEN="a",du.CLOSE="b",du.ERROR="c",du.MESSAGE="d",nn.prototype.listen=nn.prototype.K,Ju=lS,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,j2=dt}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const yA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new cg("@firebase/firestore");function Ru(){return Rs.logLevel}function le(t,...e){if(Rs.logLevel<=Pe.DEBUG){const n=e.map(_1);Rs.debug(`Firestore (${Gl}): ${t}`,...n)}}function Ri(t,...e){if(Rs.logLevel<=Pe.ERROR){const n=e.map(_1);Rs.error(`Firestore (${Gl}): ${t}`,...n)}}function al(t,...e){if(Rs.logLevel<=Pe.WARN){const n=e.map(_1);Rs.warn(`Firestore (${Gl}): ${t}`,...n)}}function _1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+t;throw Ri(e),new Error(e)}function Ve(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class n6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r6{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new U2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new cn(e)}}class i6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new s6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Dt(0,0))}static max(){return new ve(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Hc{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const u6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Hc{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return u6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(lt.fromString(e))}static fromName(e){return new fe(lt.fromString(e).popFirst(5))}static empty(){return new fe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new lt(e.slice()))}}function c6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new No(i,fe.empty(),e)}function f6(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(ve.min(),fe.empty(),-1)}static max(){return new No(ve.max(),fe.empty(),-1)}}function h6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==d6)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new J((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function m6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}w1.oe=-1;function hg(t){return t==null}function vp(t){return t===0&&1/t==-1/0}function g6(t){return typeof t=="number"&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let It=class g_{constructor(e,n){this.comparator=e,this.root=n||So.EMPTY}insert(e,n){return new g_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,So.BLACK,null,null))}remove(e){return new g_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,So.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}},td=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},So=class ai{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ai.RED,this.left=i??ai.EMPTY,this.right=o??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ai(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}};So.EMPTY=null,So.RED=!0,So.BLACK=!1;So.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new So(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _A(this.data.getIterator())}getIteratorFrom(e){return new _A(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class _A{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Zt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new W2("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=y6.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x1(t){const e=t.mapValue.fields.__previous_value__;return b1(e)?x1(e):e}function Gc(t){const e=Ro(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b1(t)?4:w6(t)?9007199254740991:_6(t)?10:11:ye()}function Jr(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ro(i.timestampValue),a=Ro(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ms(i.bytesValue).isEqual(Ms(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?vp(s)===vp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vA(s)!==vA(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jr(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function Kc(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function ul(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wA(t.timestampValue,e.timestampValue);case 4:return wA(Gc(t),Gc(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ms(o),l=Ms(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=De(a[u],l[u]);if(c!==0)return c}return De(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=De(_t(o.latitude),_t(s.latitude));return a!==0?a:De(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},d=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=De(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:bA(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===nd.mapValue&&s===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(s===nd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=De(l[f],c[f]);if(d!==0)return d;const p=ul(a[l[f]],u[c[f]]);if(p!==0)return p}return De(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function wA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Ro(t),r=Ro(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function bA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ul(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function cl(t){return y_(t)}function y_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=y_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${y_(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function v_(t){return!!t&&"integerValue"in t}function E1(t){return!!t&&"arrayValue"in t}function xA(t){return!!t&&"nullValue"in t}function EA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function _6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=hc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new An(hc(this.value))}}function H2(t){const e=[];return Ys(t.fields,(n,r)=>{const i=new Qt([n]);if(Dd(r)){const o=H2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,ve.min(),ve.min(),ve.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,ve.min(),ve.min(),An.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,ve.min(),ve.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.position=e,this.inclusive=n}}function SA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),n.key):r=ul(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n="asc"){this.field=e,this.dir=n}}function b6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{}class kt extends G2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E6(e,n,r):n==="array-contains"?new A6(e,r):n==="in"?new I6(e,r):n==="not-in"?new P6(e,r):n==="array-contains-any"?new C6(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S6(e,r):new T6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ul(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends G2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zr(e,n)}matches(e){return q2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function q2(t){return t.op==="and"}function K2(t){return x6(t)&&q2(t)}function x6(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function __(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+cl(t.value);if(K2(t))return t.filters.map(e=>__(e)).join(",");{const e=t.filters.map(n=>__(n)).join(",");return`${t.op}(${e})`}}function Y2(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Y2(s,i.filters[a]),!0):!1}(t,e):void ye()}function Q2(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(Q2).join(" ,")+"}"}(t):"Filter"}class E6 extends kt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S6 extends kt{constructor(e,n){super(e,"in",n),this.keys=X2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T6 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=X2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class A6 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return E1(n)&&Kc(n.arrayValue,this.value)}}class I6 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class P6 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kc(this.value.arrayValue,n)}}class C6 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!E1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function AA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new O6(t,e,n,r,i,o,s)}function S1(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>__(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cl(r)).join(",")),e.ue=n}return e.ue}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TA(t.startAt,e.startAt)&&TA(t.endAt,e.endAt)}function w_(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k6(t,e,n,r,i,o,s,a){return new dg(t,e,n,r,i,o,s,a)}function pg(t){return new dg(t)}function IA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N6(t){return t.collectionGroup!==null}function dc(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wp(o,r))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new wp(Qt.keyField(),r))}return e.ce}function qr(t){const e=_e(t);return e.le||(e.le=R6(e,dc(t))),e.le}function R6(t,e){if(t.limitType==="F")return AA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new wp(i.field,o)});const n=t.endAt?new _p(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _p(t.startAt.position,t.startAt.inclusive):null;return AA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b_(t,e,n){return new dg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mg(t,e){return T1(qr(t),qr(e))&&t.limitType===e.limitType}function J2(t){return`${S1(qr(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q2(i)).join(", ")}]`),hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cl(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function gg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=SA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,dc(r),i)||r.endAt&&!function(s,a,l){const u=SA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,dc(r),i))}(t,e)}function M6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z2(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const o=D6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function D6(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ul(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return z2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new It(fe.comparator);function Mi(){return j6}const eM=new It(fe.comparator);function Zu(...t){let e=eM;for(const n of t)e=e.insert(n.key,n);return e}function tM(t){let e=eM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return pc()}function nM(){return pc()}function pc(){return new ql(t=>t.toString(),(t,e)=>t.isEqual(e))}const $6=new It(fe.comparator),L6=new Zt(fe.comparator);function Ce(...t){let e=L6;for(const n of t)e=e.add(n);return e}const F6=new Zt(De);function V6(){return F6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function rM(t){return{integerValue:""+t}}function iM(t,e){return g6(e)?rM(e):A1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this._=void 0}}function U6(t,e,n){return t instanceof bp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b1(o)&&(o=x1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Yc?sM(t,e):t instanceof Qc?aM(t,e):function(i,o){const s=oM(i,o),a=PA(s)+PA(i.Pe);return v_(s)&&v_(i.Pe)?rM(a):A1(i.serializer,a)}(t,e)}function B6(t,e,n){return t instanceof Yc?sM(t,e):t instanceof Qc?aM(t,e):n}function oM(t,e){return t instanceof Xc?function(r){return v_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bp extends yg{}class Yc extends yg{constructor(e){super(),this.elements=e}}function sM(t,e){const n=lM(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qc extends yg{constructor(e){super(),this.elements=e}}function aM(t,e){let n=lM(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class Xc extends yg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PA(t){return _t(t.integerValue||t.doubleValue)}function lM(t){return E1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.field=e,this.transform=n}}function W6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yc&&i instanceof Yc||r instanceof Qc&&i instanceof Qc?ll(r.elements,i.elements,Jr):r instanceof Xc&&i instanceof Xc?Jr(r.Pe,i.Pe):r instanceof bp&&i instanceof bp}(t.transform,e.transform)}class H6{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vg{}function uM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I1(t.key,Nr.none()):new Qf(t.key,t.data,Nr.none());{const n=t.data,r=An.empty();let i=new Zt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Uo(t.key,r,new Gn(i.toArray()),Nr.none())}}function G6(t,e,n){t instanceof Qf?function(i,o,s){const a=i.value.clone(),l=OA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(i,o,s){if(!jd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=OA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(cM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Qf?function(o,s,a,l){if(!jd(o.precondition,s))return a;const u=o.value.clone(),c=kA(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(o,s,a,l){if(!jd(o.precondition,s))return a;const u=kA(o.fieldTransforms,l,s),c=s.data;return c.setAll(cM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return jd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function q6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=oM(r.transform,i||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function CA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,(o,s)=>W6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qf extends vg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends vg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OA(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,B6(s,a,n[i]))}return r}function kA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,U6(o,s,e))}return r}class I1 extends vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K6 extends vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&G6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=uM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>CA(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>CA(n,r))}}class P1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return $6}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new P1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ke;function J6(t){switch(t){default:return ye();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function fM(t){if(t===void 0)return Ri("GRPC error has no .code"),X.UNKNOWN;switch(t){case Et.OK:return X.OK;case Et.CANCELLED:return X.CANCELLED;case Et.UNKNOWN:return X.UNKNOWN;case Et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Et.INTERNAL:return X.INTERNAL;case Et.UNAVAILABLE:return X.UNAVAILABLE;case Et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Et.NOT_FOUND:return X.NOT_FOUND;case Et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Et.ABORTED:return X.ABORTED;case Et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Et.DATA_LOSS:return X.DATA_LOSS;default:return ye()}}(ke=Et||(Et={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new bs([4294967295,4294967295],0);function NA(t){const e=Z6().encode(t),n=new D2;return n.update(e),new Uint8Array(n.digest())}function RA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,o],0)]}class C1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(e5)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=NA(e),[r,i]=RA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new C1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=NA(e),[r,i]=RA(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _g(ve.min(),i,new It(De),Mi(),Ce())}}class Xf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xf(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class hM{constructor(e,n){this.targetId=e,this.me=n}}class dM{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MA{constructor(){this.fe=0,this.ge=jA(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Xf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class t5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=DA(),this.Qe=new It(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(w_(o))if(r===0){const s=new fe(o.path);this.Ue(n,s,hn.newNoDocument(s,ve.min()))}else Ve(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ms(r).toUint8Array()}catch(l){if(l instanceof W2)return al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C1(s,i,o)}catch(l){return al(l instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&w_(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,hn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ce();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new _g(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=DA(),this.Qe=new It(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new MA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DA(){return new It(fe.comparator)}function jA(){return new It(fe.comparator)}const n5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),r5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),i5=(()=>({and:"AND",or:"OR"}))();class o5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x_(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s5(t,e){return xp(t,e.toTimestamp())}function Kr(t){return Ve(!!t),ve.fromTimestamp(function(n){const r=Ro(n);return new Dt(r.seconds,r.nanos)}(t))}function O1(t,e){return E_(t,e).canonicalString()}function E_(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mM(t){const e=lt.fromString(t);return Ve(wM(e)),e}function S_(t,e){return O1(t.databaseId,e.path)}function Sv(t,e){const n=mM(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(yM(n))}function gM(t,e){return O1(t.databaseId,e)}function a5(t){const e=mM(t);return e.length===4?lt.emptyPath():yM(e)}function T_(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yM(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $A(t,e,n){return{name:S_(t,e),fields:n.value.mapValue.fields}}function l5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ve(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(Ve(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?X.UNKNOWN:fM(u.code);return new ue(c,u.message||"")}(s);n=new dM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sv(t,r.document.name),o=Kr(r.document.updateTime),s=r.document.createTime?Kr(r.document.createTime):ve.min(),a=new An({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $d(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sv(t,r.document),o=r.readTime?Kr(r.readTime):ve.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $d([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sv(t,r.document),o=r.removedTargetIds||[];n=new $d([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new X6(i,o),a=r.targetId;n=new hM(a,s)}}return n}function u5(t,e){let n;if(e instanceof Qf)n={update:$A(t,e.key,e.value)};else if(e instanceof I1)n={delete:S_(t,e.key)};else if(e instanceof Uo)n={update:$A(t,e.key,e.data),updateMask:v5(e.fieldMask)};else{if(!(e instanceof K6))return ye();n={verify:S_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:s5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function c5(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kr(i.updateTime):Kr(o);return s.isEqual(ve.min())&&(s=Kr(o)),new H6(s,i.transformResults||[])}(n,e))):[]}function f5(t,e){return{documents:[gM(t,e.path)]}}function h5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gM(t,i);const o=function(u){if(u.length!==0)return _M(Zr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ya(d.field),direction:m5(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=x_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function d5(t){let e=a5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=vM(f);return d instanceof Zr&&K2(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new wp(va(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,hg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new _p(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new _p(p,d)}(n.endAt)),k6(e,i,s,o,a,"F",l,u)}function p5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=va(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=va(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=va(n.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>vM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function m5(t){return n5[t]}function g5(t){return r5[t]}function y5(t){return i5[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return Qt.fromServerFormat(t.fieldPath)}function _M(t){return t instanceof kt?function(n){if(n.op==="=="){if(EA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(xA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(xA(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:g5(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(i=>_M(i));return r.length===1?r[0]:{compositeFilter:{op:y5(n.op),filters:r}}}(t):ye()}function v5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,o=ve.min(),s=ve.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.ct=e}}function w5(t){const e=d5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.un=new x5}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(No.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class x5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new fl(0)}static kn(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.changes=new ql(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,Gn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Zu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mi();const s=pc(),a=function(){return pc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Uo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),mc(c.mutation,u,c.mutation.getFieldMask(),Dt.now())):s.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new S5(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new It((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=nM();c.forEach(d=>{if(!o.has(d)){const p=uM(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return J.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(fs());let a=-1,l=o;return s.next(u=>J.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?J.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:tM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Zu();return this.indexManager.getCollectionParents(e,o).next(a=>J.forEach(a,l=>{const u=function(f,d){return new dg(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,hn.newInvalidDocument(c)))});let a=Zu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&mc(c.mutation,u,Gn.empty(),Dt.now()),gg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:w5(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.overlays=new It(fe.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return J.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),o=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new It((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=fs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=fs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return J.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Q6(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ce(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.Tr=new Zt(Lt.Er),this.dr=new Zt(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new lt([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new lt([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Ce();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Lt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Y6(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(De);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new fe(o),0);let a=new Zt(De);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),J.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.Mr=e,this.docs=function(){return new It(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const s=n.path,a=new fe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||h6(f6(c),r)<=0||(i.has(c.key)||gg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k5(this)}getSize(e){return J.resolve(this.size)}}class k5 extends E5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.persistence=e,this.Nr=new ql(n=>S1(n),T1),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new k1,this.targetCount=0,this.kr=fl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new w1(0),this.Kr=!1,this.Kr=!0,this.$r=new P5,this.referenceDelegate=e(this),this.Ur=new N5(this),this.indexManager=new b5,this.remoteDocumentCache=function(i){return new O5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _5(n),this.Gr=new A5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new C5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new M5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class M5 extends p6{constructor(e){super(),this.currentSequenceNumber=e}}class N1{constructor(e){this.persistence=e,this.Jr=new k1,this.Yr=null}static Zr(e){return new N1(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new R1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RU()?8:m6(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new D5;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ru()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(Ru()<=Pe.DEBUG&&le("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ru()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):J.resolve())}Yi(e,n){if(IA(n))return J.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=b_(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,b_(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return IA(n)||i.isEqual(ve.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?J.resolve(null):(Ru()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.rs(e,s,n,c6(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(Z2(e));return n.forEach((i,o)=>{gg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ru()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,No.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new It(De),this._s=new ql(o=>S1(o),T1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function L5(t,e,n,r){return new $5(t,e,n,r)}async function bM(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function F5(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=J.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);Ve(v!==null),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xM(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function V5(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=Mi(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(U5(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ve.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function U5(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function B5(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new fo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function A_(t,e,n){const r=_e(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Yf(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function LA(t,e,n){const r=_e(t);let i=ve.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=_e(l),d=f._s.get(c);return d!==void 0?J.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,s,qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ve.min(),n?o:Ce())).next(a=>(W5(r,M6(e),a),{documents:a,Ts:o})))}function W5(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class FA{constructor(){this.activeTargetIds=V6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H5{constructor(){this.so=new FA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new FA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Tv(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Y5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Tv(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw al("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=q5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Tv();return new Promise((s,a)=>{const l=new j2;l.setWithCredentials(!0),l.listenOnce($2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Md.NO_ERROR:const c=l.getResponseJson();le(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Md.TIMEOUT:le(ln,`RPC '${e}' ${o} timed out`),a(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:const f=l.getStatus();if(le(ln,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(b)>=0?b:X.UNKNOWN}(p.status);a(new ue(m,p.message))}else a(new ue(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(X.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{le(ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);le(ln,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Tv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=V2(),a=F2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");le(ln,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,p=!1;const m=new K5({Io:v=>{p?le(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(le(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),le(ln,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),g=(v,b,w)=>{v.listen(b,x=>{try{w(x)}catch(P){setTimeout(()=>{throw P},0)}})};return g(f,Ju.EventType.OPEN,()=>{p||(le(ln,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,Ju.EventType.CLOSE,()=>{p||(p=!0,le(ln,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,Ju.EventType.ERROR,v=>{p||(p=!0,al(ln,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ju.EventType.MESSAGE,v=>{var b;if(!p){const w=v.data[0];Ve(!!w);const x=w,P=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(P){le(ln,`RPC '${e}' stream ${i} received error:`,P);const T=P.status;let A=function(I){const O=Et[I];if(O!==void 0)return fM(O)}(T),_=P.message;A===void 0&&(A=X.INTERNAL,_="Unknown error status: "+T+" with message "+P.message),p=!0,m.So(new ue(A,_)),f.close()}else le(ln,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(a,L2.STAT_EVENT,v=>{v.stat===m_.PROXY?le(ln,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===m_.NOPROXY&&le(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){return new o5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new EM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q5 extends SM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=l5(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Kr(s.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=T_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=w_(l)?{documents:f5(o,l)}:{query:h5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=pM(o,s.resumeToken);const u=x_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=xp(o,s.snapshotVersion.toTimestamp());const u=x_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=p5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=T_(this.serializer),n.removeTarget=e,this.a_(n)}}class X5 extends SM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=c5(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=T_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,E_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(X.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,E_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(X.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Z5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ri(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Qs(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.L_.add(4),await Jf(u),u.q_.set("Unknown"),u.L_.delete(4),await bg(u)}(this))})}),this.q_=new Z5(r,i)}}async function bg(t){if(Qs(t))for(const e of t.B_)await e(!0)}async function Jf(t){for(const e of t.B_)await e(!1)}function TM(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$1(n)?j1(n):Kl(n).r_()&&D1(n,e))}function M1(t,e){const n=_e(t),r=Kl(n);n.N_.delete(e),r.r_()&&AM(n,e),n.N_.size===0&&(r.r_()?r.o_():Qs(n)&&n.q_.set("Unknown"))}function D1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).A_(e)}function AM(t,e){t.Q_.xe(e),Kl(t).R_(e)}function j1(t){t.Q_=new t5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.q_.v_()}function $1(t){return Qs(t)&&!Kl(t).n_()&&t.N_.size>0}function Qs(t){return _e(t).L_.size===0}function IM(t){t.Q_=void 0}async function t9(t){t.q_.set("Online")}async function n9(t){t.N_.forEach((e,n)=>{D1(t,e)})}async function r9(t,e){IM(t),$1(t)?(t.q_.M_(e),j1(t)):t.q_.set("Unknown")}async function i9(t,e,n){if(t.q_.set("Online"),e instanceof dM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof $d?t.Q_.Ke(e):e instanceof hM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await xM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),AM(o,l);const f=new fo(c.target,l,u,c.sequenceNumber);D1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!Yf(e))throw e;t.L_.add(1),await Jf(t),t.q_.set("Offline"),n||(n=()=>xM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bg(t)})}function PM(t,e){return e().catch(n=>Ep(t,n,e))}async function xg(t){const e=_e(t),n=Mo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;o9(e);)try{const i=await B5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,s9(e,i)}catch(i){await Ep(e,i)}CM(e)&&OM(e)}function o9(t){return Qs(t)&&t.O_.length<10}function s9(t,e){t.O_.push(e);const n=Mo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CM(t){return Qs(t)&&!Mo(t).n_()&&t.O_.length>0}function OM(t){Mo(t).start()}async function a9(t){Mo(t).p_()}async function l9(t){const e=Mo(t);for(const n of t.O_)e.m_(n.mutations)}async function u9(t,e,n){const r=t.O_.shift(),i=P1.from(r,e,n);await PM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xg(t)}async function c9(t,e){e&&Mo(t).V_&&await async function(r,i){if(function(s){return J6(s)&&s!==X.ABORTED}(i.code)){const o=r.O_.shift();Mo(r).s_(),await PM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xg(r)}}(t,e),CM(t)&&OM(t)}async function UA(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.L_.add(3),await Jf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bg(n)}async function f9(t,e){const n=_e(t);e?(n.L_.delete(2),await bg(n)):e||(n.L_.add(2),await Jf(n),n.q_.set("Unknown"))}function Kl(t){return t.K_||(t.K_=function(n,r,i){const o=_e(n);return o.w_(),new Q5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:t9.bind(null,t),Ro:n9.bind(null,t),mo:r9.bind(null,t),d_:i9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$1(t)?j1(t):t.q_.set("Unknown")):(await t.K_.stop(),IM(t))})),t.K_}function Mo(t){return t.U_||(t.U_=function(n,r,i){const o=_e(n);return o.w_(),new X5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:a9.bind(null,t),mo:c9.bind(null,t),f_:l9.bind(null,t),g_:u9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xg(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new L1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F1(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),Yf(t))return new ue(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Zu(),this.sortedSet=new It(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.W_=new It(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hl(e,n,Ba.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d9{constructor(){this.queries=zA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),o=i.queries;i.queries=zA(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function zA(){return new ql(t=>J2(t),mg)}async function V1(t,e){const n=_e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new h9,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=F1(s,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&B1(n)}async function U1(t,e){const n=_e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p9(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&B1(n)}function m9(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function B1(t){t.Y_.forEach(e=>{e.next()})}var I_,WA;(WA=I_||(I_={})).ea="default",WA.Cache="cache";class z1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==I_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.key=e}}class NM{constructor(e){this.key=e}}class g9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=Z2(e),this.Ra=new Ba(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BA,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=gg(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new hl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new NM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class y9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v9{constructor(e){this.key=e,this.va=!1}}class _9{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ql(a=>J2(a),mg),this.Ma=new Map,this.xa=new Set,this.Oa=new It(fe.comparator),this.Na=new Map,this.La=new k1,this.Ba={},this.ka=new Map,this.qa=fl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function w9(t,e,n=!0){const r=LM(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await RM(r,e,n,!0),i}async function b9(t,e){const n=LM(t);await RM(n,e,!0,!1)}async function RM(t,e,n,r){const i=await z5(t.localStore,qr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await x9(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&TM(t.remoteStore,i),a}async function x9(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,v,b,w){let x=v.view.ma(b);x.ns&&(x=await LA(g.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,x)));const P=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(x,g.isPrimaryClient,P,T);return GA(g,v.targetId,A.wa),A.snapshot}(t,f,d,p);const o=await LA(t.localStore,e,!0),s=new g9(e,o.Ts),a=s.ma(o.documents),l=Xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);GA(t,n,u.wa);const c=new y9(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function E9(t,e,n){const r=_e(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!mg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await A_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M1(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Kf)):(P_(r,i.targetId),await A_(r.localStore,i.targetId,!0))}async function S9(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M1(n.remoteStore,r.targetId))}async function T9(t,e,n){const r=N9(t);try{const i=await function(s,a){const l=_e(s),u=Dt.now(),c=a.reduce((p,m)=>p.add(m.key),Ce());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Mi(),g=Ce();return l.cs.getEntries(p,c).next(v=>{m=v,m.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const b=[];for(const w of a){const x=q6(w,f.get(w.key).overlayedDocument);x!=null&&b.push(new Uo(w.key,x,H2(x.value.mapValue),Nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:tM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new It(De)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Zf(r,i.changes),await xg(r.remoteStore)}catch(i){const o=F1(i,"Failed to persist write");n.reject(o)}}async function MM(t,e){const n=_e(t);try{const r=await V5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ve(s.va):i.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),await Zf(n,r,e)}catch(r){await Kf(r)}}function HA(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=_e(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&B1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A9(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new It(fe.comparator);s=s.insert(o,hn.newNoDocument(o,ve.min()));const a=Ce().add(o),l=new _g(ve.min(),new Map,new It(De),s,a);await MM(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),W1(r)}else await A_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Kf)}async function I9(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await F5(n.localStore,e);jM(n,r,null),DM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zf(n,i)}catch(i){await Kf(i)}}async function P9(t,e,n){const r=_e(t);try{const i=await function(s,a){const l=_e(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ve(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);jM(r,e,n),DM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zf(r,i)}catch(i){await Kf(i)}}function DM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jM(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$M(t,r)})}function $M(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(M1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),W1(t))}function GA(t,e,n){for(const r of n)r instanceof kM?(t.La.addReference(r.key,e),C9(t,r)):r instanceof NM?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$M(t,r.key)):ye()}function C9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),W1(t))}function W1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new v9(n)),t.Oa=t.Oa.insert(n,r),TM(t.remoteStore,new fo(qr(pg(n.path)),r,"TargetPurposeLimboResolution",w1.oe))}}async function Zf(t,e,n){const r=_e(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=R1.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=_e(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(u,d=>J.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>J.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Yf(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,g)}}}(r.localStore,o))}async function O9(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await bM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(X.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zf(n,r.hs)}}function k9(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function LM(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A9.bind(null,e),e.Ca.d_=p9.bind(null,e.eventManager),e.Ca.$a=m9.bind(null,e.eventManager),e}function N9(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P9.bind(null,e),e}class Sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return L5(this.persistence,new j5,e.initialUser,this.serializer)}Ga(e){return new R5(N1.Zr,this.serializer)}Wa(e){return new H5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sp.provider={build:()=>new Sp};class C_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O9.bind(null,this.syncEngine),await f9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d9}()}createDatastore(e){const n=wg(e.databaseInfo.databaseId),r=function(o){return new Y5(o)}(e.databaseInfo);return function(o,s,a,l){return new J5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new e9(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HA(this.syncEngine,n,0),function(){return VA.D()?new VA:new G5}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new _9(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=_e(i);le("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Jf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}C_.provider={build:()=>new C_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Iv(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M9(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UA(e.remoteStore,i)),t._onlineComponents=e}async function M9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Iv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Iv(t,new Sp)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Iv(t,new Sp);return t._offlineComponents}async function FM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await qA(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await qA(t,new C_))),t._onlineComponents}function D9(t){return FM(t).then(e=>e.syncEngine)}async function Tp(t){const e=await FM(t),n=e.eventManager;return n.onListen=w9.bind(null,e.syncEngine),n.onUnlisten=E9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S9.bind(null,e.syncEngine),n}function j9(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new H1({next:d=>{c.Za(),s.enqueueAndForget(()=>U1(o,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new z1(pg(a.path),c,{includeMetadataChanges:!0,_a:!0});return V1(o,f)}(await Tp(t),t.asyncQueue,e,n,r)),r.promise}function $9(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new H1({next:d=>{c.Za(),s.enqueueAndForget(()=>U1(o,f)),d.fromCache&&l.source==="server"?u.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new z1(a,c,{includeMetadataChanges:!0,_a:!0});return V1(o,f)}(await Tp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L9(t,e,n,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YA(t){if(!fe.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QA(t){if(fe.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=G1(t);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t6;switch(r.type){case"firstParty":return new o6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KA.get(n);r&&(le("ComponentProvider","Removing Datastore"),KA.delete(n),r.terminate())}(this),Promise.resolve()}}function F9(t,e,n,r={}){var i;const o=(t=ar(t,Eg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=cn.MOCK_USER;else{a=A2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cn(u)}t._authCredentials=new n6(new U2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eh(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class To extends eh{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new fe(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=vt(t),UM("collection","path",e),t instanceof Eg){const r=lt.fromString(e,...n);return QA(r),new To(t,null,r)}{if(!(t instanceof Mn||t instanceof To))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return QA(r),new To(t.firestore,null,r)}}function zn(t,e,...n){if(t=vt(t),arguments.length===1&&(e=B2.newId()),UM("doc","path",e),t instanceof Eg){const r=lt.fromString(e,...n);return YA(r),new Mn(t,null,new fe(r))}{if(!(t instanceof Mn||t instanceof To))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return YA(r),new Mn(t.firestore,t instanceof To?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new EM(this,"async_queue_retry"),this.Vu=()=>{const r=Av();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yf(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=L1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ZA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Do extends Eg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JA(e),this._firestoreClient=void 0,await e}}}function V9(t,e){const n=typeof t=="object"?t:v1(),r=typeof t=="string"?t:e||"(default)",i=fg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=E2("firestore");o&&F9(i,...o)}return i}function Sg(t){if(t._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new v6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,VM(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(tn.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^__.*__$/;class z9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qf(e,this.data,n,this.fieldTransforms)}}class BM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class Y1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Y1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ap(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zM(this.Cu)&&B9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class W9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wg(e)}Qu(e,n,r,i=!1){return new Y1({Cu:e,methodName:n,qu:r,path:Qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WM(t){const e=t._freezeSettings(),n=wg(t._databaseId);return new W9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H9(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);X1("Data must be an object, but it was:",s,r);const a=HM(r,s);let l,u;if(o.merge)l=new Gn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=O_(e,f,n);if(!s.contains(d))throw new ue(X.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);qM(c,d)||c.push(d)}l=new Gn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new z9(new An(a),l,u)}class Ig extends Ag{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ig}}class Q1 extends Ag{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Xc(e.serializer,iM(e.serializer,this.$u));return new z6(e.path,n)}isEqual(e){return e instanceof Q1&&this.$u===e.$u}}function G9(t,e,n,r){const i=t.Qu(1,e,n);X1("Data must be an object, but it was:",i,r);const o=[],s=An.empty();Ys(r,(l,u)=>{const c=J1(e,l,n);u=vt(u);const f=i.Nu(c);if(u instanceof Ig)o.push(c);else{const d=Pg(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Gn(o);return new BM(s,a,i.fieldTransforms)}function q9(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[O_(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(O_(e,o[d])),l.push(o[d+1]);const u=[],c=An.empty();for(let d=a.length-1;d>=0;--d)if(!qM(u,a[d])){const p=a[d];let m=l[d];m=vt(m);const g=s.Nu(p);if(m instanceof Ig)u.push(p);else{const v=Pg(m,g);v!=null&&(u.push(p),c.set(p,v))}}const f=new Gn(u);return new BM(c,f,s.fieldTransforms)}function Pg(t,e){if(GM(t=vt(t)))return X1("Unsupported field value:",e,t),HM(t,e);if(t instanceof Ag)return function(r,i){if(!zM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Pg(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:xp(i.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xp(i.serializer,o)}}if(r instanceof q1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:pM(i.serializer,r._byteString)};if(r instanceof Mn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof K1)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return A1(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${G1(r)}`)}(t,e)}function HM(t,e){const n={};return z2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,i)=>{const o=Pg(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof q1||t instanceof dl||t instanceof Mn||t instanceof Ag||t instanceof K1)}function X1(t,e,n){if(!GM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=G1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function O_(t,e,n){if((e=vt(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return J1(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const K9=new RegExp("[~\\*/\\[\\]]");function J1(t,e,n){if(e.search(K9)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tg(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(X.INVALID_ARGUMENT,a+t+l)}function qM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y9 extends KM{data(){return super.data()}}function YM(t,e){return typeof e=="string"?J1(t,e):e instanceof Tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q9{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_t(s.doubleValue));return new K1(o)}convertGeoPoint(e){return new q1(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ve(wM(r));const i=new qc(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XM extends KM{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ld extends XM{data(e={}){return super.data(e)}}class JM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ld(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:J9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){t=ar(t,Mn);const e=ar(t.firestore,Do);return j9(Sg(e),t._key).then(n=>ZM(e,t,n))}class Z1 extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function eI(t){t=ar(t,eh);const e=ar(t.firestore,Do),n=Sg(e),r=new Z1(e);return QM(t._query),$9(n,t._query).then(i=>new JM(e,r,t,i))}function ua(t,e,n,...r){t=ar(t,Mn);const i=ar(t.firestore,Do),o=WM(i);let s;return s=typeof(e=vt(e))=="string"||e instanceof Tg?q9(o,"updateDoc",t._key,e,n,r):G9(o,"updateDoc",t._key,e),ex(i,[s.toMutation(t._key,Nr.exists(!0))])}function id(t){return ex(ar(t.firestore,Do),[new I1(t._key,Nr.none())])}function ca(t,e){const n=ar(t.firestore,Do),r=zn(t),i=X9(t.converter,e);return ex(n,[H9(WM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function ka(t,...e){var n,r,i;t=vt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ZA(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Mn)u=ar(t.firestore,Do),c=pg(t._key.path),l={next:f=>{e[s]&&e[s](ZM(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=ar(t,eh);u=ar(f.firestore,Do),c=f._query;const d=new Z1(u);l={next:p=>{e[s]&&e[s](new JM(u,d,f,p))},error:e[s+1],complete:e[s+2]},QM(t._query)}return function(d,p,m,g){const v=new H1(g),b=new z1(p,v,m);return d.asyncQueue.enqueueAndForget(async()=>V1(await Tp(d),b)),()=>{v.Za(),d.asyncQueue.enqueueAndForget(async()=>U1(await Tp(d),b))}}(Sg(u),c,a,l)}function ex(t,e){return function(r,i){const o=new xi;return r.asyncQueue.enqueueAndForget(async()=>T9(await D9(r),i,o)),o.promise}(Sg(t),e)}function ZM(t,e,n){const r=n.docs.get(e._key),i=new Z1(t);return new XM(t,i,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}function Jo(t){return new Q1("increment",t)}(function(e,n=!0){(function(i){Gl=i})(Ks),Ns(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Do(new r6(r.getProvider("auth-internal")),new a6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Gr(yA,"4.7.3",e),Gr(yA,"4.7.3","esm2017")})();function tx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ez=eD,tD=new qf("auth","Firebase",eD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new cg("@firebase/auth");function tz(t,...e){Ip.logLevel<=Pe.WARN&&Ip.warn(`Auth (${Ks}): ${t}`,...e)}function Fd(t,...e){Ip.logLevel<=Pe.ERROR&&Ip.error(`Auth (${Ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw rx(t,...e)}function Rr(t,...e){return rx(t,...e)}function nx(t,e,n){const r=Object.assign(Object.assign({},ez()),{[e]:n});return new qf("auth","Firebase",r).create(e,{appName:t.name})}function xs(t){return nx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ei(t,"argument-error"),nx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tD.create(t,...e)}function ge(t,e,...n){if(!t)throw rx(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function Di(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rz(){return tI()==="http:"||tI()==="https:"}function tI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rz()||kU()||"connection"in navigator)?navigator.onLine:!0}function oz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=m1()||I2()}get(){return iz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new th(3e4,6e4);function ox(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yl(t,e,n,r,i={}){return rD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return OU()||(u.referrerPolicy="no-referrer"),nD.fetch()(iD(t,t.config.apiHost,n,a),u)})}async function rD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sz),e);try{const i=new uz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw od(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw od(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw od(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nx(t,c,u);ei(t,c)}}catch(i){if(i instanceof Bi)throw i;ei(t,"network-request-failed",{message:String(i)})}}async function lz(t,e,n,r,i={}){const o=await Yl(t,e,n,r,i);return"mfaPendingCredential"in o&&ei(t,"multi-factor-auth-required",{_serverResponse:o}),o}function iD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ix(t.config,i):`${t.config.apiScheme}://${i}`}class uz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),az.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e){return Yl(t,"POST","/v1/accounts:delete",e)}async function oD(t,e){return Yl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fz(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=sx(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gc(Pv(i.auth_time)),issuedAtTime:gc(Pv(i.iat)),expirationTime:gc(Pv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Pv(t){return Number(t)*1e3}function sx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=pp(n);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nI(t){const e=sx(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&hz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jc(t,oD(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sD(o.providerUserInfo):[],a=mz(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new N_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function pz(t){const e=vt(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sD(t){return t.map(e=>{var{providerId:n}=e,r=tx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e){const n=await rD(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=iD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yz(t,e){return Yl(t,"POST","/v2/accounts:revokeToken",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=nI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await gz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new za;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new N_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fz(this,e)}reload(){return pz(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Jc(this,cz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:P,isAnonymous:T,providerData:A,stsTokenManager:_}=n;ge(x&&_,e,"internal-error");const E=za.fromJSON(this.name,_);ge(typeof x=="string",e,"internal-error"),Ji(f,e.name),Ji(d,e.name),ge(typeof P=="boolean",e,"internal-error"),ge(typeof T=="boolean",e,"internal-error"),Ji(p,e.name),Ji(m,e.name),Ji(g,e.name),Ji(v,e.name),Ji(b,e.name),Ji(w,e.name);const I=new mi({uid:x,auth:e,email:d,emailVerified:P,displayName:f,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:b,lastLoginAt:w});return A&&Array.isArray(A)&&(I.providerData=A.map(O=>Object.assign({},O))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new za;i.updateFromServerResponse(n);const o=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?sD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new za;a.updateFromIdToken(r);const l=new mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new N_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Map;function gi(t){Di(t instanceof Function,"Expected a class definition");let e=rI.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aD.type="NONE";const iI=aD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wa(gi(iI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gi(iI);const s=Vd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=mi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Wa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dD(e))return"Blackberry";if(pD(e))return"Webos";if(uD(e))return"Safari";if((e.includes("chrome/")||cD(e))&&!e.includes("edge/"))return"Chrome";if(hD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lD(t=yn()){return/firefox\//i.test(t)}function uD(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cD(t=yn()){return/crios\//i.test(t)}function fD(t=yn()){return/iemobile/i.test(t)}function hD(t=yn()){return/android/i.test(t)}function dD(t=yn()){return/blackberry/i.test(t)}function pD(t=yn()){return/webos/i.test(t)}function ax(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vz(t=yn()){var e;return ax(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _z(){return NU()&&document.documentMode===10}function mD(t=yn()){return ax(t)||hD(t)||pD(t)||dD(t)||/windows phone/i.test(t)||fD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e=[]){let n;switch(t){case"Browser":n=oI(yn());break;case"Worker":n=`${oI(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e={}){return Yl(t,"GET","/v2/passwordPolicy",ox(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=6;class Ez{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:xz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sI(this),this.idTokenSubscription=new sI(this),this.beforeStateQueue=new wz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oD(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(xs(this));const n=e?vt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bz(this),n=new Ez(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cg(t){return vt(t)}class sI{constructor(e){this.auth=e,this.observer=null,this.addObserver=BU(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tz(t){lx=t}function Az(t){return lx.loadJS(t)}function Iz(){return lx.gapiScript}function Pz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t,e){const n=fg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gp(o,e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}function Oz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kz(t,e,n){const r=Cg(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=yD(e),{host:s,port:a}=Nz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Rz()}function yD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nz(t){const e=yD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:aI(s)}}}function aI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e){return lz(t,"POST","/v1/accounts:signInWithIdp",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="http://localhost";class js extends vD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=tx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new js(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:Mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends nh{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends nh{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends nh{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mi._fromIdTokenResponse(e,r,i),s=lI(r);return new pl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lI(r);return new pl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Bi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function _D(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,o,e,r):o})}async function Dz(t,e,n=!1){const r=await Jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t,e,n=!1){const{auth:r}=t;if(di(r.app))return Promise.reject(xs(r));const i="reauthenticate";try{const o=await Jc(t,_D(r,i,e,t),n);ge(o.idToken,r,"internal-error");const s=sx(o.idToken);ge(s,r,"internal-error");const{sub:a}=s;return ge(t.uid===a,r,"user-mismatch"),pl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e,n=!1){if(di(t.app))return Promise.reject(xs(t));const r="signIn",i=await _D(t,r,e),o=await pl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function Lz(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function Fz(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function Vz(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function Uz(t){return vt(t).signOut()}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=1e3,zz=10;class bD extends wD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);_z()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bD.type="LOCAL";const Wz=bD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD extends wD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xD.type="SESSION";const ED=xD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Og(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Hz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=cx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function qz(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function Kz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qz(){return SD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebaseLocalStorageDb",Xz=1,kp="firebaseLocalStorage",AD="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kg(t,e){return t.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function Jz(){const t=indexedDB.deleteDatabase(TD);return new rh(t).toPromise()}function R_(){const t=indexedDB.open(TD,Xz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kp,{keyPath:AD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),await Jz(),e(await R_()))})})}async function uI(t,e,n){const r=kg(t,!0).put({[AD]:e,value:n});return new rh(r).toPromise()}async function Zz(t,e){const n=kg(t,!1).get(e),r=await new rh(n).toPromise();return r===void 0?null:r.value}function cI(t,e){const n=kg(t,!0).delete(e);return new rh(n).toPromise()}const eW=800,tW=3;class ID{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(Qz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kz(),!this.activeServiceWorker)return;this.sender=new Gz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R_();return await uI(e,Op,"1"),await cI(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=kg(i,!1).getAll();return new rh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ID.type="LOCAL";const nW=ID;new th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){return e?gi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends vD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rW(t){return $z(t.auth,new fx(t),t.bypassAuthState)}function iW(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),jz(n,new fx(t),t.bypassAuthState)}async function oW(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Dz(n,new fx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rW;case"linkViaPopup":case"linkViaRedirect":return oW;case"reauthViaPopup":case"reauthViaRedirect":return iW;default:ei(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=new th(2e3,1e4);async function aW(t,e,n){if(di(t.app))return Promise.reject(Rr(t,"operation-not-supported-in-this-environment"));const r=Cg(t);nz(t,e,ux);const i=PD(r,n);return new hs(r,"signInViaPopup",e,i).executeNotNull()}class hs extends CD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=cx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sW.get())};e()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="pendingRedirect",Ud=new Map;class uW extends CD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await cW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cW(t,e){const n=dW(e),r=hW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fW(t,e){Ud.set(t._key(),e)}function hW(t){return gi(t._redirectPersistence)}function dW(t){return Vd(lW,t.config.apiKey,t.name)}async function pW(t,e,n=!1){if(di(t.app))return Promise.reject(xs(t));const r=Cg(t),i=PD(r,e),s=await new uW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=10*60*1e3;class gW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mW&&this.cachedEventUids.clear(),this.cachedEventUids.has(fI(e))}saveEventToCache(e){this.cachedEventUids.add(fI(e)),this.lastProcessedEventTime=Date.now()}}function fI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e={}){return Yl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wW=/^https?/;async function bW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vW(t);for(const n of e)try{if(xW(n))return}catch{}ei(t,"unauthorized-domain")}function xW(t){const e=k_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!wW.test(n))return!1;if(_W.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new th(3e4,6e4);function hI(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SW(t){return new Promise((e,n)=>{var r,i,o;function s(){hI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hI(),n(Rr(t,"network-request-failed"))},timeout:EW.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{const a=Pz("iframefcb");return Yr()[a]=()=>{gapi.load?s():n(Rr(t,"network-request-failed"))},Az(`${Iz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function TW(t){return Bd=Bd||SW(t),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=new th(5e3,15e3),IW="__/auth/iframe",PW="emulator/auth/iframe",CW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kW(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ix(e,PW):`https://${t.config.authDomain}/${IW}`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=OW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hl(r).slice(1)}`}async function NW(t){const e=await TW(t),n=Yr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:kW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Rr(t,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},AW.get());function l(){Yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MW=500,DW=600,jW="_blank",$W="http://localhost";class dI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LW(t,e,n,r=MW,i=DW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yn().toLowerCase();n&&(a=cD(u)?jW:n),lD(u)&&(e=e||$W,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(vz(u)&&a!=="_self")return FW(e||"",a),new dI(null);const f=window.open(e||"",a,c);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new dI(f)}function FW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="__/auth/handler",UW="emulator/auth/handler",BW=encodeURIComponent("fac");async function pI(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof ux){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",u_(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))s[c]=f}if(e instanceof nh){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${BW}=${encodeURIComponent(l)}`:"";return`${zW(t)}?${Hl(a).slice(1)}${u}`}function zW({config:t}){return t.emulator?ix(t,UW):`https://${t.authDomain}/${VW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="webStorageSupport";class WW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ED,this._completeRedirectFn=pW,this._overrideRedirectResult=fW}async _openPopup(e,n,r,i){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await pI(e,n,r,k_(),i);return LW(e,s,cx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await pI(e,n,r,k_(),i);return qz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NW(e),r=new gW(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cv,{type:Cv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Cv];s!==void 0&&n(!!s),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mD()||uD()||ax()}}const HW=WW;var mI="@firebase/auth",gI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KW(t){Ns(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gD(t)},u=new Sz(r,i,o,l);return Oz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new ko("auth-internal",e=>{const n=Cg(e.getProvider("auth").getImmediate());return(r=>new GW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(mI,gI,qW(t)),Gr(mI,gI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=5*60,QW=T2("authIdTokenMaxAge")||YW;let yI=null;const XW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QW)return;const i=n==null?void 0:n.token;yI!==i&&(yI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JW(t=v1()){const e=fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Cz(t,{popupRedirectResolver:HW,persistence:[nW,Wz,ED]}),r=T2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=XW(o.toString());Fz(n,s,()=>s(n.currentUser)),Lz(n,a=>s(a))}}const i=x2("auth");return i&&kz(n,`http://${i}`),n}function ZW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Tz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",ZW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KW("Browser");const vI="@firebase/database",_I="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kD="";function e8(t){kD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new t8(e)}}catch{}return new n8},ds=ND("localStorage"),M_=ND("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new cg("@firebase/database"),r8=function(){let t=1;return function(){return t++}}(),RD=function(t){const e=HU(t),n=new UU;n.update(e);const r=n.digest();return p1.encodeByteArray(r)},ih=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ih.apply(null,r):typeof r=="object"?e+=Bt(r):e+=r,e+=" "}return e};let Es=null,wI=!0;const i8=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ga.logLevel=Pe.VERBOSE,Es=Ga.log.bind(Ga),e&&M_.set("logging_enabled",!0)):typeof t=="function"?Es=t:(Es=null,M_.remove("logging_enabled"))},dn=function(...t){if(wI===!0&&(wI=!1,Es===null&&M_.get("logging_enabled")===!0&&i8(!0)),Es){const e=ih.apply(null,t);Es(e)}},oh=function(t){return function(...e){dn(t,...e)}},D_=function(...t){const e="FIREBASE INTERNAL ERROR: "+ih(...t);Ga.error(e)},ji=function(...t){const e=`FIREBASE FATAL ERROR: ${ih(...t)}`;throw Ga.error(e),new Error(e)},Dn=function(...t){const e="FIREBASE WARNING: "+ih(...t);Ga.warn(e)},o8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},MD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},s8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ml="[MIN_NAME]",$s="[MAX_NAME]",Ql=function(t,e){if(t===e)return 0;if(t===ml||e===$s)return-1;if(e===ml||t===$s)return 1;{const n=bI(t),r=bI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},a8=function(t,e){return t===e?0:t<e?-1:1},Mu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Bt(e))},hx=function(t){if(typeof t!="object"||t===null)return Bt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Bt(e[r]),n+=":",n+=hx(t[e[r]]);return n+="}",n},DD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function jn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jD=function(t){ne(!MD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},l8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function c8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const f8=new RegExp("^-?(0*)\\d{1,10}$"),h8=-2147483648,d8=2147483647,bI=function(t){if(f8.test(t)){const e=Number(t);if(e>=h8&&e<=d8)return e}return null},Xl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dn("Exception was thrown by user callback.",n),e},Math.floor(0))}},p8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(e)}}class qa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="5",$D="v",LD="s",FD="r",VD="f",UD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BD="ls",zD="p",j_="ac",WD="websocket",HD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ds.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ds.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function y8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qD(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===WD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);y8(t)&&(n.ns=t.namespace);const i=[];return jn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.counters_={}}incrementCounter(e,n=1){zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return EU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={},kv={};function px(t){const e=t.toString();return Ov[e]||(Ov[e]=new v8),Ov[e]}function _8(t,e){const n=t.toString();return kv[n]||(kv[n]=e()),kv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="start",b8="close",x8="pLPCommand",E8="pRTLPCB",KD="id",YD="pw",QD="ser",S8="cb",T8="seg",A8="ts",I8="d",P8="dframe",XD=1870,JD=30,C8=XD-JD,O8=25e3,k8=3e4;class Na{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oh(e),this.stats_=px(n),this.urlFn=l=>(this.appCheckToken&&(l[j_]=this.appCheckToken),qD(n,HD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new w8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(k8)),s8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mx((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===xI)this.id=a,this.password=l;else if(s===b8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[xI]="t",r[QD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[S8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$D]=dx,this.transportSessionId&&(r[LD]=this.transportSessionId),this.lastSessionId&&(r[BD]=this.lastSessionId),this.applicationId&&(r[zD]=this.applicationId),this.appCheckToken&&(r[j_]=this.appCheckToken),typeof location<"u"&&location.hostname&&UD.test(location.hostname)&&(r[FD]=VD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Na.forceAllow_=!0}static forceDisallow(){Na.forceDisallow_=!0}static isAvailable(){return Na.forceAllow_?!0:!Na.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!l8()&&!u8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w2(n),i=DD(r,C8);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[P8]="t",r[KD]=e,r[YD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Bt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mx{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r8(),window[x8+this.uniqueCallbackIdentifier]=e,window[E8+this.uniqueCallbackIdentifier]=n,this.myIFrame=mx.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[KD]=this.myID,e[YD]=this.myPW,e[QD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JD+r.length<=XD;){const s=this.pendingSegs.shift();r=r+"&"+T8+i+"="+s.seg+"&"+A8+i+"="+s.ts+"&"+I8+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(O8)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=16384,R8=45e3;let Np=null;typeof MozWebSocket<"u"?Np=MozWebSocket:typeof WebSocket<"u"&&(Np=WebSocket);class Tr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oh(this.connId),this.stats_=px(n),this.connURL=Tr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[$D]=dx,typeof location<"u"&&location.hostname&&UD.test(location.hostname)&&(s[FD]=VD),n&&(s[LD]=n),r&&(s[BD]=r),i&&(s[j_]=i),o&&(s[zD]=o),qD(e,WD,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ds.set("previous_websocket_failure",!0);try{let r;P2(),this.mySock=new Np(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Tr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Np!==null&&!Tr.forceDisallow_}static previouslyFailed(){return ds.isInMemoryStorage||ds.get("previous_websocket_failure")===!0}markConnectionHealthy(){ds.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=zc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DD(n,N8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(R8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tr.responsesRequiredToBeHealthy=2;Tr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Na,Tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Tr&&Tr.isAvailable();let r=n&&!Tr.previouslyFailed();if(e.webSocketOnly&&(n||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tr];else{const i=this.transports_=[];for(const o of Zc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Zc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=6e4,D8=5e3,j8=10*1024,$8=100*1024,Nv="t",EI="d",L8="s",SI="r",F8="e",TI="o",AI="a",II="n",PI="p",V8="h";class U8{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oh("c:"+this.id+":"),this.transportManager_=new Zc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nv in e){const n=e[Nv];n===AI?this.upgradeIfSecondaryHealthy_():n===SI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:II,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mu(Nv,e);if(EI in e){const r=e[EI];if(n===V8){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===II){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===L8?this.onConnectionShutdown_(r):n===SI?this.onReset_(r):n===F8?D_("Server Error: "+r):n===TI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dx!==r&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(M8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ej=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends ej{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!m1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rp}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=32,OI=768;let Ge=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function $e(){return new Ge("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jo(t){return t.pieces_.length-t.pieceNum_}function Qe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ge(t.pieces_,e)}function tj(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function B8(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function nj(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rj(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ge(e,0)}function Nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ge(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Pn(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return Pn(Qe(t),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gx(t,e){if(jo(t)!==jo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ir(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jo(t)>jo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class z8{constructor(e,n){this.errorPrefix_=n,this.parts_=nj(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ug(this.parts_[r]);ij(this)}}function W8(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ug(e),ij(t)}function H8(t){const e=t.parts_.pop();t.byteLength_-=ug(e),t.parts_.length>0&&(t.byteLength_-=1)}function ij(t){if(t.byteLength_>OI)throw new Error(t.errorPrefix_+"has a key path longer than "+OI+" bytes ("+t.byteLength_+").");if(t.parts_.length>CI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CI+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends ej{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new yx}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=1e3,G8=60*5*1e3,kI=30*1e3,q8=1.3,K8=3e4,Y8="server_kill",NI=3;class Ei extends ZD{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ei.nextPersistentConnectionId_++,this.log_=oh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Du,this.maxReconnectDelay_=G8,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!P2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Bt(o)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new lg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;Ei.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zi(e,"w")){const r=sl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=FU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Bt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):D_("Unrecognized action received from server: "+Bt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>K8&&(this.reconnectDelay_=Du),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*q8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ei.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(f){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new U8(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Dn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Y8)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Dn(f),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],u_(this.interruptReasons_)&&(this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>hx(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ge(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NI&&(this.reconnectDelay_=kI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+kD.replace(/\./g,"-")]=1,m1()?e["framework.cordova"]=1:I2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rp.getInstance().currentlyOnline();return u_(this.interruptReasons_)&&e}}Ei.nextPersistentConnectionId_=0;Ei.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ee(ml,e),i=new Ee(ml,n);return this.compare(r,i)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;class oj extends Ng{static get __EMPTY_NODE(){return sd}static set __EMPTY_NODE(e){sd=e}compare(e,n){return Ql(e.name,n.name)}isDefinedOn(e){throw Wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee($s,sd)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,sd)}toString(){return".key"}}const Ka=new oj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Cn.EMPTY_NODE,this.right=o??Cn.EMPTY_NODE}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Cn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ut.RED=!0;Ut.BLACK=!1;class Q8{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cn{constructor(e,n=Cn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Cn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ad(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ad(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ad(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ad(this.root_,null,this.comparator_,!0,e)}}Cn.EMPTY_NODE=new Q8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e){return Ql(t.name,e.name)}function vx(t,e){return Ql(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_;function J8(t){$_=t}const sj=function(t){return typeof t=="number"?"number:"+jD(t):"string:"+t},aj=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zi(e,".sv"),"Priority must be a string or number.")}else ne(t===$_||t.isEmpty(),"priority of unexpected type.");ne(t===$_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RI;class $t{constructor(e,n=$t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aj(this.priorityNode_)}static set __childrenNodeConstructor(e){RI=e}static get __childrenNodeConstructor(){return RI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:xe(e)===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||jo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sj(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jD(this.value_):e+=this.value_,this.lazyHash_=RD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $t.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$t.VALUE_TYPE_ORDER.indexOf(n),o=$t.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$t.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lj,uj;function Z8(t){lj=t}function eH(t){uj=t}class tH extends Ng{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ql(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee($s,new $t("[PRIORITY-POST]",uj))}makePost(e,n){const r=lj(e);return new Ee(n,new $t("[PRIORITY-POST]",r))}toString(){return".priority"}}const yt=new tH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=Math.log(2);class rH{constructor(e){const n=o=>parseInt(Math.log(o)/nH,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let f,d;if(c===0)return null;if(c===1)return f=t[l],d=n?n(f):f,new Ut(d,f.node,Ut.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return f=t[p],d=n?n(f):f,new Ut(d,f.node,Ut.BLACK,m,g)}},o=function(l){let u=null,c=null,f=t.length;const d=function(m,g){const v=f-m,b=f;f-=m;const w=i(v+1,b),x=t[v],P=n?n(x):x;p(new Ut(P,x.node,g,null,w))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(m+1));g?d(v,Ut.BLACK):(d(v,Ut.BLACK),d(v,Ut.RED))}return c},s=new rH(t.length),a=o(s);return new Cn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv;const fa={};class yi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(fa&&yt,"ChildrenNode.ts has not been loaded"),Rv=Rv||new yi({".priority":fa},{".priority":yt}),Rv}get(e){const n=sl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cn?n:null}hasIndex(e){return zi(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ee.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Mp(r,e.getCompare()):a=fa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new yi(c,u)}addToIndexes(e,n){const r=mp(this.indexes_,(i,o)=>{const s=sl(this.indexSet_,o);if(ne(s,"Missing index implementation for "+o),i===fa)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ee.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Mp(a,s.getCompare())}else return fa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new yi(r,this.indexSet_)}removeFromIndexes(e,n){const r=mp(this.indexes_,i=>{if(i===fa)return i;{const o=n.get(e.name);return o?i.remove(new Ee(e.name,o)):i}});return new yi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class me{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aj(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ju||(ju=new me(new Cn(vx),null,yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ju}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ju:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(Qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ee(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?ju:this.priorityNode_;return new me(i,s,o)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{ne(xe(e)!==".priority"||jo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Qe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(yt,(s,a)=>{n[s]=a.val(e),r++,o&&me.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sj(this.getPriority().val())+":"),this.forEachChild(yt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":RD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ee(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ee.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sh?-1:0}withIndex(e){if(e===Ka||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ka||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yt),i=n.getIterator(yt);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ka?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iH extends me{constructor(){super(new Cn(vx),me.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const sh=new iH;Object.defineProperties(Ee,{MIN:{value:new Ee(ml,me.EMPTY_NODE)},MAX:{value:new Ee($s,sh)}});oj.__EMPTY_NODE=me.EMPTY_NODE;$t.__childrenNodeConstructor=me;J8(sh);eH(sh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=!0;function Yt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $t(n,Yt(e))}if(!(t instanceof Array)&&oH){const n=[];let r=!1;if(jn(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Yt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ee(s,l)))}}),n.length===0)return me.EMPTY_NODE;const o=Mp(n,X8,s=>s.name,vx);if(r){const s=Mp(n,yt.getCompare());return new me(o,Yt(e),new yi({".priority":s},{".priority":yt}))}else return new me(o,Yt(e),yi.Default)}else{let n=me.EMPTY_NODE;return jn(t,(r,i)=>{if(zi(t,r)&&r.substring(0,1)!=="."){const o=Yt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Yt(e))}}Z8(Yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH extends Ng{constructor(e){super(),this.indexPath_=e,ne(!Se(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ql(e.name,n.name):o}makePost(e,n){const r=Yt(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,sh);return new Ee($s,e)}toString(){return nj(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH extends Ng{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ql(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const r=Yt(e);return new Ee(n,r)}toString(){return".value"}}const lH=new aH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){return{type:"value",snapshotNode:t}}function gl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ef(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function uH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ef(n,a)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(gl(n,r)):s.trackChildChange(tf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(yt,(i,o)=>{n.hasChild(i)||r.trackChildChange(ef(i,o))}),n.isLeafNode()||n.forEachChild(yt,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(tf(i,o,s))}else r.trackChildChange(gl(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.indexedFilter_=new _x(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nf.getStartPost_(e),this.endPost_=nf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ee(n,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const o=this;return n.forEachChild(yt,(s,a)=>{o.matches(new Ee(s,a))||(i=i.updateImmediateChild(s,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new nf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ee(n,r))||(r=me.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(d,p)=>f(p,d)}else s=this.index_.getCompare();const a=e;ne(a.numChildren()===this.limit_,"");const l=new Ee(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,l);if(c&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(tf(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(ef(n,f));const g=a.updateImmediateChild(n,me.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(gl(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(ef(u.name,u.node)),o.trackChildChange(gl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ml}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$s}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new wx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fH(t){return t.loadsAllData()?new _x(t.getIndex()):t.hasLimit()?new cH(t):new nf(t)}function MI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===lH?n="$value":t.index_===Ka?n="$key":(ne(t.index_ instanceof sH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Bt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Bt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Bt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Bt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Bt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function DI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends ZD{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=oh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Dp.getListenId_(e,r),a={};this.listens_[s]=a;const l=MI(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),sl(this.listens_,s)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Dp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=MI(e._queryParams),r=e._path.toString(),i=new lg;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Hl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=zc(a.responseText)}catch{Dn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Dn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){return{value:null,children:new Map}}function fj(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,jp());const i=t.children.get(r);e=Qe(e),fj(i,e,n)}}function L_(t,e,n){t.value!==null?n(e,t.value):dH(t,(r,i)=>{const o=new Ge(e.toString()+"/"+r);L_(i,o,n)})}function dH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=10*1e3,mH=30*1e3,gH=5*60*1e3;class yH{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new pH(e);const r=jI+(mH-jI)*Math.random();yc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;jn(e,(i,o)=>{o>0&&zi(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*gH))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pr||(Pr={}));function hj(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xx(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pr.ACK_USER_WRITE,this.source=hj()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ge(e));return new $p($e(),n,this.revert)}}else return ne(xe(this.path)===e,"operationForChild called for unrelated child."),new $p(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.source=e,this.path=n,this.type=Pr.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new rf(this.source,$e()):new rf(this.source,Qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pr.OVERWRITE}operationForChild(e){return Se(this.path)?new Ls(this.source,$e(),this.snap.getImmediateChild(e)):new Ls(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pr.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Ge(e));return n.isEmpty()?null:n.value?new Ls(this.source,$e(),n.value):new of(this.source,$e(),n)}else return ne(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new of(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _H(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(uH(s.childName,s.snapshotNode))}),$u(t,i,"child_removed",e,r,n),$u(t,i,"child_added",e,r,n),$u(t,i,"child_moved",o,r,n),$u(t,i,"child_changed",e,r,n),$u(t,i,"value",e,r,n),i}function $u(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>bH(t,a,l)),s.forEach(a=>{const l=wH(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function wH(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function bH(t,e,n){if(e.childName==null||n.childName==null)throw Wl("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),i=new Ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){return{eventCache:t,serverCache:e}}function vc(t,e,n,r){return Rg(new Fs(e,n,r),t.serverCache)}function dj(t,e,n,r){return Rg(t.eventCache,new Fs(e,n,r))}function F_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Vs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mv;const xH=()=>(Mv||(Mv=new Cn(a8)),Mv);class nt{constructor(e,n=xH()){this.value=e,this.children=n}static fromObject(e){let n=new nt(null);return jn(e,(r,i)=>{n=n.set(new Ge(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(Se(e))return null;{const r=xe(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Qe(e),n);return o!=null?{path:Nt(new Ge(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(Qe(e)):new nt(null)}}set(e,n){if(Se(e))return new nt(n,this.children);{const r=xe(e),o=(this.children.get(r)||new nt(null)).set(Qe(e),n),s=this.children.insert(r,o);return new nt(this.value,s)}}remove(e){if(Se(e))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const i=r.remove(Qe(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new nt(null):new nt(this.value,o)}else return this}}get(e){if(Se(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(Qe(e)):null}}setTree(e,n){if(Se(e))return n;{const r=xe(e),o=(this.children.get(r)||new nt(null)).setTree(Qe(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new nt(this.value,s)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Nt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{const o=xe(e),s=this.children.get(o);return s?s.findOnPath_(Qe(e),Nt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const i=xe(e),o=this.children.get(i);return o?o.foreachOnPath_(Qe(e),Nt(n,i),r):new nt(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new nt(null))}}function _c(t,e,n){if(Se(e))return new Mr(new nt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Pn(i,e);return o=o.updateChild(s,n),new Mr(t.writeTree_.set(i,o))}else{const i=new nt(n),o=t.writeTree_.setTree(e,i);return new Mr(o)}}}function $I(t,e,n){let r=t;return jn(n,(i,o)=>{r=_c(r,Nt(e,i),o)}),r}function LI(t,e){if(Se(e))return Mr.empty();{const n=t.writeTree_.setTree(e,new nt(null));return new Mr(n)}}function V_(t,e){return Xs(t,e)!=null}function Xs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pn(n.path,e)):null}function FI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(r,i)=>{e.push(new Ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ee(r,i.value))}),e}function Ao(t,e){if(Se(e))return t;{const n=Xs(t,e);return n!=null?new Mr(new nt(n)):new Mr(t.writeTree_.subtree(e))}}function U_(t){return t.writeTree_.isEmpty()}function yl(t,e){return pj($e(),t.writeTree_,e)}function pj(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ne(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=pj(Nt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){return vj(e,t)}function EH(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=_c(t.visibleWrites,e,n)),t.lastWriteId=r}function SH(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function TH(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&AH(a,r.path)?i=!1:Ir(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return IH(t),!0;if(r.snap)t.visibleWrites=LI(t.visibleWrites,r.path);else{const a=r.children;jn(a,l=>{t.visibleWrites=LI(t.visibleWrites,Nt(r.path,l))})}return!0}else return!1}function AH(t,e){if(t.snap)return Ir(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ir(Nt(t.path,n),e))return!0;return!1}function IH(t){t.visibleWrites=mj(t.allWrites,PH,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function PH(t){return t.visible}function mj(t,e,n){let r=Mr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ir(n,s)?(a=Pn(n,s),r=_c(r,a,o.snap)):Ir(s,n)&&(a=Pn(s,n),r=_c(r,$e(),o.snap.getChild(a)));else if(o.children){if(Ir(n,s))a=Pn(n,s),r=$I(r,a,o.children);else if(Ir(s,n))if(a=Pn(s,n),Se(a))r=$I(r,$e(),o.children);else{const l=sl(o.children,xe(a));if(l){const u=l.getChild(Qe(a));r=_c(r,$e(),u)}}}else throw Wl("WriteRecord should have .snap or .children")}}return r}function gj(t,e,n,r,i){if(!r&&!i){const o=Xs(t.visibleWrites,e);if(o!=null)return o;{const s=Ao(t.visibleWrites,e);if(U_(s))return n;if(n==null&&!V_(s,$e()))return null;{const a=n||me.EMPTY_NODE;return yl(s,a)}}}else{const o=Ao(t.visibleWrites,e);if(!i&&U_(o))return n;if(!i&&n==null&&!V_(o,$e()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ir(u.path,e)||Ir(e,u.path))},a=mj(t.allWrites,s,e),l=n||me.EMPTY_NODE;return yl(a,l)}}}function CH(t,e,n){let r=me.EMPTY_NODE;const i=Xs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(yt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ao(t.visibleWrites,e);return n.forEachChild(yt,(s,a)=>{const l=yl(Ao(o,new Ge(s)),a);r=r.updateImmediateChild(s,l)}),FI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Ao(t.visibleWrites,e);return FI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function OH(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Nt(e,n);if(V_(t.visibleWrites,o))return null;{const s=Ao(t.visibleWrites,o);return U_(s)?i.getChild(n):yl(s,i.getChild(n))}}function kH(t,e,n,r){const i=Nt(e,n),o=Xs(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Ao(t.visibleWrites,i);return yl(s,r.getNode().getImmediateChild(n))}else return null}function NH(t,e){return Xs(t.visibleWrites,e)}function RH(t,e,n,r,i,o,s){let a;const l=Ao(t.visibleWrites,e),u=Xs(l,$e());if(u!=null)a=u;else if(n!=null)a=yl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],f=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=d.getNext();for(;p&&c.length<i;)f(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function MH(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function Lp(t,e,n,r){return gj(t.writeTree,t.treePath,e,n,r)}function Sx(t,e){return CH(t.writeTree,t.treePath,e)}function VI(t,e,n,r){return OH(t.writeTree,t.treePath,e,n,r)}function Fp(t,e){return NH(t.writeTree,Nt(t.treePath,e))}function DH(t,e,n,r,i,o){return RH(t.writeTree,t.treePath,e,n,r,i,o)}function Tx(t,e,n){return kH(t.writeTree,t.treePath,e,n)}function yj(t,e){return vj(Nt(t.treePath,e),t.writeTree)}function vj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,tf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ef(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,gl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,tf(r,e.snapshotNode,i.oldSnap));else throw Wl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _j=new $H;class Ax{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vs(this.viewCache_),o=DH(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){return{filter:t}}function FH(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function VH(t,e,n,r,i){const o=new jH;let s,a;if(n.type===Pr.OVERWRITE){const u=n;u.source.fromUser?s=B_(t,e,u.path,u.snap,r,i,o):(ne(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),s=Vp(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Pr.MERGE){const u=n;u.source.fromUser?s=BH(t,e,u.path,u.children,r,i,o):(ne(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=z_(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Pr.ACK_USER_WRITE){const u=n;u.revert?s=HH(t,e,u.path,r,i,o):s=zH(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Pr.LISTEN_COMPLETE)s=WH(t,e,n.path,r,o);else throw Wl("Unknown operation type: "+n.type);const l=o.getChanges();return UH(e,s,l),{viewCache:s,changes:l}}function UH(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=F_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cj(F_(e)))}}function wj(t,e,n,r,i,o){const s=e.eventCache;if(Fp(r,n)!=null)return e;{let a,l;if(Se(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Vs(e),c=u instanceof me?u:me.EMPTY_NODE,f=Sx(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Lp(r,Vs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=xe(n);if(u===".priority"){ne(jo(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const f=VI(r,n,c,l);f!=null?a=t.filter.updatePriority(c,f):a=s.getNode()}else{const c=Qe(n);let f;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const d=VI(r,n,s.getNode(),l);d!=null?f=s.getNode().getImmediateChild(u).updateChild(c,d):f=s.getNode().getImmediateChild(u)}else f=Tx(r,u,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),u,f,c,i,o):a=s.getNode()}}return vc(e,a,s.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Vp(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Se(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=xe(n);if(!l.isCompleteForPath(n)&&jo(n)>1)return e;const m=Qe(n),v=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),p,v,m,_j,null)}const f=dj(e,u,l.isFullyInitialized()||Se(n),c.filtersNodes()),d=new Ax(i,f,o);return wj(t,f,n,i,d,a)}function B_(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new Ax(i,e,o);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=vc(e,u,!0,t.filter.filtersNodes());else{const f=xe(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=vc(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Qe(n),p=a.getNode().getImmediateChild(f);let m;if(Se(d))m=r;else{const g=c.getCompleteChild(f);g!=null?tj(d)===".priority"&&g.getChild(rj(d)).isEmpty()?m=g:m=g.updateChild(d,r):m=me.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),f,m,d,c,s);l=vc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function UI(t,e){return t.eventCache.isCompleteForChild(e)}function BH(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Nt(n,l);UI(e,xe(c))&&(a=B_(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Nt(n,l);UI(e,xe(c))||(a=B_(t,a,c,u,i,o,s))}),a}function BI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function z_(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Se(n)?u=r:u=new nt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(c.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=BI(t,p,d);l=Vp(t,l,new Ge(f),m,i,o,s,a)}}),u.children.inorderTraversal((f,d)=>{const p=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!c.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),g=BI(t,m,d);l=Vp(t,l,new Ge(f),g,i,o,s,a)}}),l}function zH(t,e,n,r,i,o,s){if(Fp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Vp(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Se(n)){let u=new nt(null);return l.getNode().forEachChild(Ka,(c,f)=>{u=u.set(new Ge(c),f)}),z_(t,e,n,u,i,o,a,s)}else return e}else{let u=new nt(null);return r.foreach((c,f)=>{const d=Nt(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),z_(t,e,n,u,i,o,a,s)}}function WH(t,e,n,r,i){const o=e.serverCache,s=dj(e,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return wj(t,s,n,r,_j,i)}function HH(t,e,n,r,i,o){let s;if(Fp(r,n)!=null)return e;{const a=new Ax(r,e,i),l=e.eventCache.getNode();let u;if(Se(n)||xe(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Lp(r,Vs(e));else{const f=e.serverCache.getNode();ne(f instanceof me,"serverChildren would be complete if leaf node"),c=Sx(r,f)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=xe(n);let f=Tx(r,c,e.serverCache);f==null&&e.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=t.filter.updateChild(l,c,f,Qe(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,me.EMPTY_NODE,Qe(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Lp(r,Vs(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Fp(r,$e())!=null,vc(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _x(r.getIndex()),o=fH(r);this.processor_=LH(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(me.EMPTY_NODE,a.getNode(),null),c=new Fs(l,s.isFullyInitialized(),i.filtersNodes()),f=new Fs(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Rg(f,c),this.eventGenerator_=new vH(this.query_)}get query(){return this.query_}}function qH(t){return t.viewCache_.serverCache.getNode()}function KH(t,e){const n=Vs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function zI(t){return t.eventRegistrations_.length===0}function YH(t,e){t.eventRegistrations_.push(e)}function WI(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function HI(t,e,n,r){e.type===Pr.MERGE&&e.source.queryId!==null&&(ne(Vs(t.viewCache_),"We should always have a full cache before handling merges"),ne(F_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=VH(t.processor_,i,e,n,r);return FH(t.processor_,o.viewCache),ne(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,bj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function QH(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(o,s)=>{r.push(gl(o,s))}),n.isFullyInitialized()&&r.push(cj(n.getNode())),bj(t,r,n.getNode(),e)}function bj(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return _H(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;class XH{constructor(){this.views=new Map}}function JH(t){ne(!Up,"__referenceConstructor has already been defined"),Up=t}function ZH(){return ne(Up,"Reference.ts has not been loaded"),Up}function eG(t){return t.views.size===0}function Ix(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ne(o!=null,"SyncTree gave us an op for an invalid query."),HI(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(HI(s,e,n,r));return o}}function tG(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Lp(n,i?r:null),l=!1;a?l=!0:r instanceof me?(a=Sx(n,r),l=!1):(a=me.EMPTY_NODE,l=!1);const u=Rg(new Fs(a,l,!1),new Fs(r,i,!1));return new GH(e,u)}return s}function nG(t,e,n,r,i,o){const s=tG(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),YH(s,n),QH(s,n)}function rG(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=$o(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(WI(u,n,r)),zI(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(WI(l,n,r)),zI(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!$o(t)&&o.push(new(ZH())(e._repo,e._path)),{removed:o,events:s}}function xj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ya(t,e){let n=null;for(const r of t.views.values())n=n||KH(r,e);return n}function Ej(t,e){if(e._queryParams.loadsAllData())return Mg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Sj(t,e){return Ej(t,e)!=null}function $o(t){return Mg(t)!=null}function Mg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;function iG(t){ne(!Bp,"__referenceConstructor has already been defined"),Bp=t}function oG(){return ne(Bp,"Reference.ts has not been loaded"),Bp}let sG=1;class GI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=MH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Tj(t,e,n,r,i){return EH(t.pendingWriteTree_,e,n,r,i),i?ah(t,new Ls(hj(),e,n)):[]}function ps(t,e,n=!1){const r=SH(t.pendingWriteTree_,e);if(TH(t.pendingWriteTree_,e)){let o=new nt(null);return r.snap!=null?o=o.set($e(),!0):jn(r.children,s=>{o=o.set(new Ge(s),!0)}),ah(t,new $p(r.path,o,n))}else return[]}function Dg(t,e,n){return ah(t,new Ls(bx(),e,n))}function aG(t,e,n){const r=nt.fromObject(n);return ah(t,new of(bx(),e,r))}function lG(t,e){return ah(t,new rf(bx(),e))}function uG(t,e,n){const r=Cx(t,n);if(r){const i=Ox(r),o=i.path,s=i.queryId,a=Pn(o,e),l=new rf(xx(s),a);return kx(t,o,l)}else return[]}function W_(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||Sj(s,e))){const l=rG(s,e,n,r);eG(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(d,p)=>$o(p));if(c&&!f){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=hG(d);for(let m=0;m<p.length;++m){const g=p[m],v=g.query,b=Pj(t,g);t.listenProvider_.startListening(wc(v),zp(t,v),b.hashFn,b.onComplete)}}}!f&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(wc(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(jg(d));t.listenProvider_.stopListening(wc(d),p)}))}dG(t,u)}return a}function cG(t,e,n,r){const i=Cx(t,r);if(i!=null){const o=Ox(i),s=o.path,a=o.queryId,l=Pn(s,e),u=new Ls(xx(a),l,n);return kx(t,s,u)}else return[]}function fG(t,e,n,r){const i=Cx(t,r);if(i){const o=Ox(i),s=o.path,a=o.queryId,l=Pn(s,e),u=nt.fromObject(n),c=new of(xx(a),l,u);return kx(t,s,c)}else return[]}function qI(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=Pn(d,i);o=o||Ya(p,m),s=s||$o(p)});let a=t.syncPointTree_.get(i);a?(s=s||$o(a),o=o||Ya(a,$e())):(a=new XH,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=Ya(m,$e());g&&(o=o.updateImmediateChild(p,g))}));const u=Sj(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=jg(e);ne(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=pG();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const c=Ex(t.pendingWriteTree_,i);let f=nG(a,e,n,c,o,l);if(!u&&!s&&!r){const d=Ej(a,e);f=f.concat(mG(t,e,d))}return f}function Px(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Pn(s,e),u=Ya(a,l);if(u)return u});return gj(i,e,o,n,!0)}function ah(t,e){return Aj(e,t.syncPointTree_,null,Ex(t.pendingWriteTree_,$e()))}function Aj(t,e,n,r){if(Se(t.path))return Ij(t,e,n,r);{const i=e.get($e());n==null&&i!=null&&(n=Ya(i,$e()));let o=[];const s=xe(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=yj(r,s);o=o.concat(Aj(a,l,u,c))}return i&&(o=o.concat(Ix(i,t,r,n))),o}}function Ij(t,e,n,r){const i=e.get($e());n==null&&i!=null&&(n=Ya(i,$e()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=yj(r,s),c=t.operationForChild(s);c&&(o=o.concat(Ij(c,a,l,u)))}),i&&(o=o.concat(Ix(i,t,r,n))),o}function Pj(t,e){const n=e.query,r=zp(t,n);return{hashFn:()=>(qH(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?uG(t,n._path,r):lG(t,n._path);{const o=c8(i,n);return W_(t,n,null,o)}}}}function zp(t,e){const n=jg(e);return t.queryToTagMap.get(n)}function jg(t){return t._path.toString()+"$"+t._queryIdentifier}function Cx(t,e){return t.tagToQueryMap.get(e)}function Ox(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ge(t.substr(0,e))}}function kx(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Ex(t.pendingWriteTree_,e);return Ix(r,n,i,null)}function hG(t){return t.fold((e,n,r)=>{if(n&&$o(n))return[Mg(n)];{let i=[];return n&&(i=xj(n)),jn(r,(o,s)=>{i=i.concat(s)}),i}})}function wc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(oG())(t._repo,t._path):t}function dG(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=jg(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function pG(){return sG++}function mG(t,e,n){const r=e._path,i=zp(t,e),o=Pj(t,n),s=t.listenProvider_.startListening(wc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)ne(!$o(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,f)=>{if(!Se(u)&&c&&$o(c))return[Mg(c).query];{let d=[];return c&&(d=d.concat(xj(c).map(p=>p.query))),jn(f,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(wc(c),zp(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Nx(n)}node(){return this.node_}}class Rx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Nt(this.path_,e);return new Rx(this.syncTree_,n)}node(){return Px(this.syncTree_,this.path_)}}const gG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},KI=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vG(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},vG=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},_G=function(t,e,n,r){return Mx(e,new Rx(n,t),r)},Cj=function(t,e,n){return Mx(t,new Nx(e),n)};function Mx(t,e,n){const r=t.getPriority().val(),i=KI(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=KI(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new $t(a,Yt(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new $t(i))),s.forEachChild(yt,(a,l)=>{const u=Mx(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function jx(t,e){let n=e instanceof Ge?e:new Ge(e),r=t,i=xe(n);for(;i!==null;){const o=sl(r.node.children,i)||{children:{},childCount:0};r=new Dx(i,r,o),n=Qe(n),i=xe(n)}return r}function Jl(t){return t.node.value}function Oj(t,e){t.node.value=e,H_(t)}function kj(t){return t.node.childCount>0}function wG(t){return Jl(t)===void 0&&!kj(t)}function $g(t,e){jn(t.node.children,(n,r)=>{e(new Dx(n,t,r))})}function Nj(t,e,n,r){n&&!r&&e(t),$g(t,i=>{Nj(i,e,!0,r)}),n&&r&&e(t)}function bG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function lh(t){return new Ge(t.parent===null?t.name:lh(t.parent)+"/"+t.name)}function H_(t){t.parent!==null&&xG(t.parent,t.name,t)}function xG(t,e,n){const r=wG(n),i=zi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,H_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,H_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=/[\[\].#$\/\u0000-\u001F\u007F]/,SG=/[\[\].#$\u0000-\u001F\u007F]/,Dv=10*1024*1024,Rj=function(t){return typeof t=="string"&&t.length!==0&&!EG.test(t)},Mj=function(t){return typeof t=="string"&&t.length!==0&&!SG.test(t)},TG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Mj(t)},AG=function(t,e,n,r){r&&e===void 0||$x(g1(t,"value"),e,n)},$x=function(t,e,n){const r=n instanceof Ge?new z8(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+rs(r)+" with contents = "+e.toString());if(MD(e))throw new Error(t+"contains "+e.toString()+" "+rs(r));if(typeof e=="string"&&e.length>Dv/3&&ug(e)>Dv)throw new Error(t+"contains a string greater than "+Dv+" utf8 bytes "+rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(jn(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Rj(s)))throw new Error(t+" contains an invalid key ("+s+") "+rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);W8(r,s),$x(t,a,r),H8(r)}),i&&o)throw new Error(t+' contains ".value" child '+rs(r)+" in addition to actual children.")}},Dj=function(t,e,n,r){if(!(r&&n===void 0)&&!Mj(n))throw new Error(g1(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Dj(t,e,n,r)},jj=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Rj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TG(n))throw new Error(g1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lx(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!gx(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function $j(t,e,n){Lx(t,n),Lj(t,r=>gx(r,e))}function $i(t,e,n){Lx(t,n),Lj(t,r=>Ir(r,e)||Ir(e,r))}function Lj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(OG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Es&&dn("event: "+n.toString()),Xl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG="repo_interrupt",NG=25;class RG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jp(),this.transactionQueueTree_=new Dx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MG(t,e,n){if(t.stats_=px(t.repoInfo_),t.forceRestClient_||p8())t.server_=new Dp(t.repoInfo_,(r,i,o,s)=>{YI(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>QI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ei(t.repoInfo_,e,(r,i,o,s)=>{YI(t,r,i,o,s)},r=>{QI(t,r)},r=>{jG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_8(t.repoInfo_,()=>new yH(t.stats_,t.server_)),t.infoData_=new hH,t.infoSyncTree_=new GI({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Dg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Vx(t,"connected",!1),t.serverSyncTree_=new GI({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);$i(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function DG(t){const n=t.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fx(t){return gG({timestamp:DG(t)})}function YI(t,e,n,r,i){t.dataUpdateCount++;const o=new Ge(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=mp(n,u=>Yt(u));s=fG(t.serverSyncTree_,o,l,i)}else{const l=Yt(n);s=cG(t.serverSyncTree_,o,l,i)}else if(r){const l=mp(n,u=>Yt(u));s=aG(t.serverSyncTree_,o,l)}else{const l=Yt(n);s=Dg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Lg(t,o)),$i(t.eventQueue_,a,s)}function QI(t,e){Vx(t,"connected",e),e===!1&&LG(t)}function jG(t,e){jn(e,(n,r)=>{Vx(t,n,r)})}function Vx(t,e,n){const r=new Ge("/.info/"+e),i=Yt(n);t.infoData_.updateSnapshot(r,i);const o=Dg(t.infoSyncTree_,r,i);$i(t.eventQueue_,r,o)}function Fj(t){return t.nextWriteId_++}function $G(t,e,n,r,i){Ux(t,"set",{path:e.toString(),value:n,priority:r});const o=Fx(t),s=Yt(n,r),a=Px(t.serverSyncTree_,e),l=Cj(s,a,o),u=Fj(t),c=Tj(t.serverSyncTree_,e,l,u,!0);Lx(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(d,p)=>{const m=d==="ok";m||Dn("set at "+e+" failed: "+d);const g=ps(t.serverSyncTree_,u,!m);$i(t.eventQueue_,e,g),UG(t,i,d,p)});const f=Wj(t,e);Lg(t,f),$i(t.eventQueue_,f,[])}function LG(t){Ux(t,"onDisconnectEvents");const e=Fx(t),n=jp();L_(t.onDisconnect_,$e(),(i,o)=>{const s=_G(i,o,t.serverSyncTree_,e);fj(n,i,s)});let r=[];L_(n,$e(),(i,o)=>{r=r.concat(Dg(t.serverSyncTree_,i,o));const s=Wj(t,i);Lg(t,s)}),t.onDisconnect_=jp(),$i(t.eventQueue_,$e(),r)}function FG(t,e,n){let r;xe(e._path)===".info"?r=qI(t.infoSyncTree_,e,n):r=qI(t.serverSyncTree_,e,n),$j(t.eventQueue_,e._path,r)}function XI(t,e,n){let r;xe(e._path)===".info"?r=W_(t.infoSyncTree_,e,n):r=W_(t.serverSyncTree_,e,n),$j(t.eventQueue_,e._path,r)}function VG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kG)}function Ux(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function UG(t,e,n,r){e&&Xl(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Vj(t,e,n){return Px(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function Bx(t,e=t.transactionQueueTree_){if(e||Fg(t,e),Jl(e)){const n=Bj(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BG(t,lh(e),n)}else kj(e)&&$g(e,n=>{Bx(t,n)})}function BG(t,e,n){const r=n.map(u=>u.currentWriteId),i=Vj(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ne(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=Pn(e,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ux(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(ps(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Fg(t,jx(t.transactionQueueTree_,e)),Bx(t,t.transactionQueueTree_),$i(t.eventQueue_,e,c);for(let d=0;d<f.length;d++)Xl(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Dn("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Lg(t,e)}},s)}function Lg(t,e){const n=Uj(t,e),r=lh(n),i=Bj(t,n);return zG(t,i,r),r}function zG(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Pn(n,l.path);let c=!1,f;if(ne(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(ps(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=NG)c=!0,f="maxretry",i=i.concat(ps(t.serverSyncTree_,l.currentWriteId,!0));else{const d=Vj(t,l.path,s);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){$x("transaction failed: Data returned ",p,l.path);let m=Yt(p);typeof p=="object"&&p!=null&&zi(p,".priority")||(m=m.updatePriority(d.getPriority()));const v=l.currentWriteId,b=Fx(t),w=Cj(m,d,b);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=Fj(t),s.splice(s.indexOf(v),1),i=i.concat(Tj(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(ps(t.serverSyncTree_,v,!0))}else c=!0,f="nodata",i=i.concat(ps(t.serverSyncTree_,l.currentWriteId,!0))}$i(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Fg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Xl(r[a]);Bx(t,t.transactionQueueTree_)}function Uj(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Jl(r)===void 0;)r=jx(r,n),e=Qe(e),n=xe(e);return r}function Bj(t,e){const n=[];return zj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function zj(t,e,n){const r=Jl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$g(e,i=>{zj(t,i,n)})}function Fg(t,e){const n=Jl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Oj(e,n.length>0?n:void 0)}$g(e,r=>{Fg(t,r)})}function Wj(t,e){const n=lh(Uj(t,e)),r=jx(t.transactionQueueTree_,e);return bG(r,i=>{jv(t,i)}),jv(t,r),Nj(r,i=>{jv(t,i)}),n}function jv(t,e){const n=Jl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ne(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ne(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ps(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Oj(e,void 0):n.length=o+1,$i(t.eventQueue_,lh(e),i);for(let s=0;s<r.length;s++)Xl(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function HG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dn(`Invalid query segment '${n}' in query '${t}'`)}return e}const JI=function(t,e){const n=GG(t),r=n.namespace;n.domain==="firebase.com"&&ji(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ji("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new GD(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ge(n.pathString)}},GG=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(c,f)),c<f&&(i=WG(t.substring(c,f)));const d=HG(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Bt(this.snapshot.exportVal())}}class Gj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:tj(this._path)}get ref(){return new Wi(this._repo,this._path)}get _queryIdentifier(){const e=DI(this._queryParams),n=hx(e);return n==="{}"?"default":n}get _queryObject(){return DI(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof zx))return!1;const n=this._repo===e._repo,r=gx(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+B8(this._path)}}class Wi extends zx{constructor(e,n){super(e,n,new wx,!1)}get parent(){const e=rj(this._path);return e===null?null:new Wi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class sf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ge(e),r=Wp(this.ref,e);return new sf(this._node.getChild(n),r,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new sf(i,Wp(this.ref,r),yt)))}hasChild(e){const n=new Ge(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wx(t,e){return t=vt(t),t._checkNotDeleted("ref"),e!==void 0?Wp(t._root,e):t._root}function Wp(t,e){return t=vt(t),xe(t._path)===null?IG("child","path",e,!1):Dj("child","path",e,!1),new Wi(t._repo,Nt(t._path,e))}function KG(t){return jj("remove",t._path),qj(t,null)}function qj(t,e){t=vt(t),jj("set",t._path),AG("set",e,t._path,!1);const n=new lg;return $G(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Hx{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Hj("value",this,new sf(e.snapshotNode,new Wi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gj(this,e,n):null}matches(e){return e instanceof Hx?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Gx{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gj(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=Wp(new Wi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Hj(e.type,this,new sf(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gx?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function YG(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(c,f)=>{XI(t._repo,t,a),l(c,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new qG(n,o||void 0),a=e==="value"?new Hx(s):new Gx(e,s);return FG(t._repo,t,a),()=>XI(t._repo,t,a)}function QG(t,e,n,r){return YG(t,"value",e,n,r)}JH(Wi);iG(Wi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG="FIREBASE_DATABASE_EMULATOR_HOST",G_={};let JG=!1;function ZG(t,e,n,r){t.repoInfo_=new GD(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function eq(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ji("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=JI(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[XG]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=JI(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new qa(qa.OWNER):new g8(t.name,t.options,e);PG("Invalid Firebase Database URL",s),Se(s.path)||ji("Database URL must point to the root of a Firebase Database (not including a child path).");const f=nq(a,t,c,new m8(t.name,n));return new rq(f,t)}function tq(t,e){const n=G_[e];(!n||n[t.key]!==t)&&ji(`Database ${e}(${t.repoInfo_}) has already been deleted.`),VG(t),delete n[t.key]}function nq(t,e,n,r){let i=G_[e.name];i||(i={},G_[e.name]=i);let o=i[t.toURLString()];return o&&ji("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new RG(t,JG,n,r),i[t.toURLString()]=o,o}class rq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wi(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ji("Cannot call "+e+" on a deleted database.")}}function iq(t=v1(),e){const n=fg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=E2("database");r&&oq(n,...r)}return n}function oq(t,e,n,r={}){t=vt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ji("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ji('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qa(qa.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:A2(r.mockUserToken,t.app.options.projectId);o=new qa(s)}ZG(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){e8(Ks),Ns(new ko("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return eq(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Gr(vI,_I,t),Gr(vI,_I,"esm2017")}Ei.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ei.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sq();const aq={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},qx=N2(aq),pt=V9(qx),$v=JW(qx),lq=new ci,Kx=iq(qx);function uq({teams:t=[],stats:e=[],onSubmit:n}){const[r,i]=V.useState({teamName:"",opponent:"",gameFormat:"periods",periodLength:10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[o,s]=V.useState(""),[a,l]=V.useState([]),u=V.useMemo(()=>{const g=new Map;for(const v of t)v&&v.id&&!g.has(v.name.toLowerCase())&&g.set(v.name.toLowerCase(),v);return Array.from(g.values())},[t]),c=V.useMemo(()=>[...new Set(e.map(v=>v.opponent))],[e]);V.useEffect(()=>{u.length>0&&!r.teamName&&i(g=>({...g,teamName:u[0].name}))},[u,r.teamName]);const f=g=>{const v=g.target.value;if(i(b=>({...b,opponent:v})),v){const b=c.filter(w=>w.toLowerCase().includes(v.toLowerCase()));l(b)}else l([])},d=g=>{i(v=>({...v,opponent:g})),l([])},p=g=>{const{name:v,value:b}=g.target;i(w=>({...w,[v]:b}))},m=g=>{if(!r.teamName||!r.opponent){s("Please select a team and enter an opponent name.");return}s("");const v=new Date(`${r.date}T${r.time}`).toISOString();typeof n=="function"?n({...r,timestamp:v},g):s("Internal error: Game submit not available.")};return C.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[C.jsx("h2",{className:"text-3xl font-bold text-orange-500 mb-6 text-center",children:"Set Up New Game"}),o&&C.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:o}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sahil's Team"}),C.jsxs("select",{name:"teamName",value:r.teamName,onChange:p,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",children:[C.jsx("option",{value:"",disabled:!0,children:"Select Team"}),u.map(g=>C.jsx("option",{value:g.name,children:g.name},g.id))]})]}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),C.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:r.opponent,onChange:f,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0}),a.length>0&&C.jsx("ul",{className:"absolute z-10 w-full bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md mt-1 max-h-40 overflow-y-auto",children:a.map((g,v)=>C.jsx("li",{onClick:()=>d(g),className:"px-4 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-500",children:g},v))})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),C.jsx("input",{type:"date",name:"date",value:r.date,onChange:p,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Time"}),C.jsx("input",{type:"time",name:"time",value:r.time,onChange:p,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full"})]})]}),C.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[C.jsx("button",{onClick:()=>m("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",children:"Start Live Game & Track Stats"}),C.jsx("button",{onClick:()=>m("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function Kj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kj(t))&&(r&&(r+=" "),r+=e);return r}var cq=Array.isArray,$n=cq,fq=typeof jh=="object"&&jh&&jh.Object===Object&&jh,Yj=fq,hq=Yj,dq=typeof self=="object"&&self&&self.Object===Object&&self,pq=hq||dq||Function("return this")(),ni=pq,mq=ni,gq=mq.Symbol,uh=gq,ZI=uh,Qj=Object.prototype,yq=Qj.hasOwnProperty,vq=Qj.toString,Lu=ZI?ZI.toStringTag:void 0;function _q(t){var e=yq.call(t,Lu),n=t[Lu];try{t[Lu]=void 0;var r=!0}catch{}var i=vq.call(t);return r&&(e?t[Lu]=n:delete t[Lu]),i}var wq=_q,bq=Object.prototype,xq=bq.toString;function Eq(t){return xq.call(t)}var Sq=Eq,eP=uh,Tq=wq,Aq=Sq,Iq="[object Null]",Pq="[object Undefined]",tP=eP?eP.toStringTag:void 0;function Cq(t){return t==null?t===void 0?Pq:Iq:tP&&tP in Object(t)?Tq(t):Aq(t)}var Hi=Cq;function Oq(t){return t!=null&&typeof t=="object"}var Gi=Oq,kq=Hi,Nq=Gi,Rq="[object Symbol]";function Mq(t){return typeof t=="symbol"||Nq(t)&&kq(t)==Rq}var Zl=Mq,Dq=$n,jq=Zl,$q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lq=/^\w*$/;function Fq(t,e){if(Dq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||jq(t)?!0:Lq.test(t)||!$q.test(t)||e!=null&&t in Object(e)}var Yx=Fq;function Vq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=Vq;const eu=qe(Bo);var Uq=Hi,Bq=Bo,zq="[object AsyncFunction]",Wq="[object Function]",Hq="[object GeneratorFunction]",Gq="[object Proxy]";function qq(t){if(!Bq(t))return!1;var e=Uq(t);return e==Wq||e==Hq||e==zq||e==Gq}var Qx=qq;const we=qe(Qx);var Kq=ni,Yq=Kq["__core-js_shared__"],Qq=Yq,Lv=Qq,nP=function(){var t=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xq(t){return!!nP&&nP in t}var Jq=Xq,Zq=Function.prototype,e7=Zq.toString;function t7(t){if(t!=null){try{return e7.call(t)}catch{}try{return t+""}catch{}}return""}var Xj=t7,n7=Qx,r7=Jq,i7=Bo,o7=Xj,s7=/[\\^$.*+?()[\]{}|]/g,a7=/^\[object .+?Constructor\]$/,l7=Function.prototype,u7=Object.prototype,c7=l7.toString,f7=u7.hasOwnProperty,h7=RegExp("^"+c7.call(f7).replace(s7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d7(t){if(!i7(t)||r7(t))return!1;var e=n7(t)?h7:a7;return e.test(o7(t))}var p7=d7;function m7(t,e){return t==null?void 0:t[e]}var g7=m7,y7=p7,v7=g7;function _7(t,e){var n=v7(t,e);return y7(n)?n:void 0}var Js=_7,w7=Js,b7=w7(Object,"create"),Vg=b7,rP=Vg;function x7(){this.__data__=rP?rP(null):{},this.size=0}var E7=x7;function S7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var T7=S7,A7=Vg,I7="__lodash_hash_undefined__",P7=Object.prototype,C7=P7.hasOwnProperty;function O7(t){var e=this.__data__;if(A7){var n=e[t];return n===I7?void 0:n}return C7.call(e,t)?e[t]:void 0}var k7=O7,N7=Vg,R7=Object.prototype,M7=R7.hasOwnProperty;function D7(t){var e=this.__data__;return N7?e[t]!==void 0:M7.call(e,t)}var j7=D7,$7=Vg,L7="__lodash_hash_undefined__";function F7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$7&&e===void 0?L7:e,this}var V7=F7,U7=E7,B7=T7,z7=k7,W7=j7,H7=V7;function tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tu.prototype.clear=U7;tu.prototype.delete=B7;tu.prototype.get=z7;tu.prototype.has=W7;tu.prototype.set=H7;var G7=tu;function q7(){this.__data__=[],this.size=0}var K7=q7;function Y7(t,e){return t===e||t!==t&&e!==e}var Xx=Y7,Q7=Xx;function X7(t,e){for(var n=t.length;n--;)if(Q7(t[n][0],e))return n;return-1}var Ug=X7,J7=Ug,Z7=Array.prototype,eK=Z7.splice;function tK(t){var e=this.__data__,n=J7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():eK.call(e,n,1),--this.size,!0}var nK=tK,rK=Ug;function iK(t){var e=this.__data__,n=rK(e,t);return n<0?void 0:e[n][1]}var oK=iK,sK=Ug;function aK(t){return sK(this.__data__,t)>-1}var lK=aK,uK=Ug;function cK(t,e){var n=this.__data__,r=uK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fK=cK,hK=K7,dK=nK,pK=oK,mK=lK,gK=fK;function nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nu.prototype.clear=hK;nu.prototype.delete=dK;nu.prototype.get=pK;nu.prototype.has=mK;nu.prototype.set=gK;var Bg=nu,yK=Js,vK=ni,_K=yK(vK,"Map"),Jx=_K,iP=G7,wK=Bg,bK=Jx;function xK(){this.size=0,this.__data__={hash:new iP,map:new(bK||wK),string:new iP}}var EK=xK;function SK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var TK=SK,AK=TK;function IK(t,e){var n=t.__data__;return AK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zg=IK,PK=zg;function CK(t){var e=PK(this,t).delete(t);return this.size-=e?1:0,e}var OK=CK,kK=zg;function NK(t){return kK(this,t).get(t)}var RK=NK,MK=zg;function DK(t){return MK(this,t).has(t)}var jK=DK,$K=zg;function LK(t,e){var n=$K(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var FK=LK,VK=EK,UK=OK,BK=RK,zK=jK,WK=FK;function ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ru.prototype.clear=VK;ru.prototype.delete=UK;ru.prototype.get=BK;ru.prototype.has=zK;ru.prototype.set=WK;var Zx=ru,Jj=Zx,HK="Expected a function";function eE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(HK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(eE.Cache||Jj),n}eE.Cache=Jj;var Zj=eE;const GK=qe(Zj);var qK=Zj,KK=500;function YK(t){var e=qK(t,function(r){return n.size===KK&&n.clear(),r}),n=e.cache;return e}var QK=YK,XK=QK,JK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZK=/\\(\\)?/g,eY=XK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JK,function(n,r,i,o){e.push(i?o.replace(ZK,"$1"):r||n)}),e}),tY=eY;function nY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tE=nY,oP=uh,rY=tE,iY=$n,oY=Zl,sY=1/0,sP=oP?oP.prototype:void 0,aP=sP?sP.toString:void 0;function e$(t){if(typeof t=="string")return t;if(iY(t))return rY(t,e$)+"";if(oY(t))return aP?aP.call(t):"";var e=t+"";return e=="0"&&1/t==-sY?"-0":e}var aY=e$,lY=aY;function uY(t){return t==null?"":lY(t)}var t$=uY,cY=$n,fY=Yx,hY=tY,dY=t$;function pY(t,e){return cY(t)?t:fY(t,e)?[t]:hY(dY(t))}var n$=pY,mY=Zl,gY=1/0;function yY(t){if(typeof t=="string"||mY(t))return t;var e=t+"";return e=="0"&&1/t==-gY?"-0":e}var Wg=yY,vY=n$,_Y=Wg;function wY(t,e){e=vY(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[_Y(e[n++])];return n&&n==r?t:void 0}var nE=wY,bY=nE;function xY(t,e,n){var r=t==null?void 0:bY(t,e);return r===void 0?n:r}var r$=xY;const lr=qe(r$);function EY(t){return t==null}var SY=EY;const Te=qe(SY);var TY=Hi,AY=$n,IY=Gi,PY="[object String]";function CY(t){return typeof t=="string"||!AY(t)&&IY(t)&&TY(t)==PY}var OY=CY;const Us=qe(OY);var i$={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=Symbol.for("react.element"),iE=Symbol.for("react.portal"),Hg=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),kY=Symbol.for("react.server_context"),Qg=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),ey=Symbol.for("react.lazy"),NY=Symbol.for("react.offscreen"),o$;o$=Symbol.for("react.module.reference");function dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rE:switch(t=t.type,t){case Hg:case qg:case Gg:case Xg:case Jg:return t;default:switch(t=t&&t.$$typeof,t){case kY:case Yg:case Qg:case ey:case Zg:case Kg:return t;default:return e}}case iE:return e}}}Ue.ContextConsumer=Yg;Ue.ContextProvider=Kg;Ue.Element=rE;Ue.ForwardRef=Qg;Ue.Fragment=Hg;Ue.Lazy=ey;Ue.Memo=Zg;Ue.Portal=iE;Ue.Profiler=qg;Ue.StrictMode=Gg;Ue.Suspense=Xg;Ue.SuspenseList=Jg;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return dr(t)===Yg};Ue.isContextProvider=function(t){return dr(t)===Kg};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rE};Ue.isForwardRef=function(t){return dr(t)===Qg};Ue.isFragment=function(t){return dr(t)===Hg};Ue.isLazy=function(t){return dr(t)===ey};Ue.isMemo=function(t){return dr(t)===Zg};Ue.isPortal=function(t){return dr(t)===iE};Ue.isProfiler=function(t){return dr(t)===qg};Ue.isStrictMode=function(t){return dr(t)===Gg};Ue.isSuspense=function(t){return dr(t)===Xg};Ue.isSuspenseList=function(t){return dr(t)===Jg};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hg||t===qg||t===Gg||t===Xg||t===Jg||t===NY||typeof t=="object"&&t!==null&&(t.$$typeof===ey||t.$$typeof===Zg||t.$$typeof===Kg||t.$$typeof===Yg||t.$$typeof===Qg||t.$$typeof===o$||t.getModuleId!==void 0)};Ue.typeOf=dr;i$.exports=Ue;var RY=i$.exports,MY=Hi,DY=Gi,jY="[object Number]";function $Y(t){return typeof t=="number"||DY(t)&&MY(t)==jY}var s$=$Y;const LY=qe(s$);var FY=s$;function VY(t){return FY(t)&&t!=+t}var UY=VY;const ch=qe(UY);var Cr=function(e){return e===0?0:e>0?1:-1},ms=function(e){return Us(e)&&e.indexOf("%")===e.length-1},ie=function(e){return LY(e)&&!ch(e)},BY=function(e){return Te(e)},Mt=function(e){return ie(e)||Us(e)},zY=0,fh=function(e){var n=++zY;return"".concat(e||"").concat(n)},Bs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!Us(e))return r;var o;if(ms(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ch(o)&&(o=r),i&&o>n&&(o=n),o},lo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},WY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Sr=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):lr(r,e))===n})}var HY=function(e,n){return ie(e)&&ie(n)?e-n:Us(e)&&Us(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function q_(t){"@babel/helpers - typeof";return q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q_(t)}var GY=["viewBox","children"],qY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lP=["points","pathLength"],Fv={svg:GY,polygon:lP,polyline:lP},oE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!eu(r))return null;var i={};return Object.keys(r).forEach(function(o){oE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},KY=function(e,n,r){return function(i){return e(n,r,i),null}},qp=function(e,n,r){if(!eu(e)||q_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];oE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=KY(s,n,r))}),i},YY=["children"],QY=["children"];function uP(t,e){if(t==null)return{};var n=XY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K_(t){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}var cP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fP=null,Vv=null,sE=function t(e){if(e===fP&&Array.isArray(Vv))return Vv;var n=[];return V.Children.forEach(e,function(r){Te(r)||(RY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vv=n,fP=e,n};function ur(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Si(i)}):r=[Si(e)],sE(t).forEach(function(i){var o=lr(i,"type.displayName")||lr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Bn(t,e){var n=ur(t,e);return n&&n[0]}var hP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},JY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZY=function(e){return e&&e.type&&Us(e.type)&&JY.indexOf(e.type)>=0},eQ=function(e){return e&&K_(e)==="object"&&"clipDot"in e},tQ=function(e,n,r,i){var o,s=(o=Fv==null?void 0:Fv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!we(e)&&(i&&s.includes(n)||qY.includes(n))||r&&oE.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!eu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;tQ((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Y_=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return dP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!dP(o,s))return!1}return!0},dP=function(e,n){if(Te(e)&&Te(n))return!0;if(!Te(e)&&!Te(n)){var r=e.props||{},i=r.children,o=uP(r,YY),s=n.props||{},a=s.children,l=uP(s,QY);return i&&a?Qa(o,l)&&Y_(i,a):!i&&!a?Qa(o,l):!1}return!1},pP=function(e,n){var r=[],i={};return sE(e).forEach(function(o,s){if(ZY(o))r.push(o);else if(o){var a=Si(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},nQ=function(e){var n=e&&e.type;return n&&cP[n]?cP[n]:null},rQ=function(e,n){return sE(n).indexOf(e)},iQ=["children","width","height","viewBox","className","style","title","desc"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function oQ(t,e){if(t==null)return{};var n=sQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=oQ(t,iQ),c=i||{width:n,height:r,x:0,y:0},f=Re("recharts-surface",o);return $.createElement("svg",Q_({},Oe(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var aQ=["children","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function lQ(t,e){if(t==null)return{};var n=uQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=lQ(t,aQ),o=Re("recharts-layer",r);return $.createElement("g",J_({className:o},Oe(i,!0),{ref:e}),n)}),Ti=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function cQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var fQ=cQ,hQ=fQ;function dQ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hQ(t,e,n)}var pQ=dQ,mQ="\\ud800-\\udfff",gQ="\\u0300-\\u036f",yQ="\\ufe20-\\ufe2f",vQ="\\u20d0-\\u20ff",_Q=gQ+yQ+vQ,wQ="\\ufe0e\\ufe0f",bQ="\\u200d",xQ=RegExp("["+bQ+mQ+_Q+wQ+"]");function EQ(t){return xQ.test(t)}var a$=EQ;function SQ(t){return t.split("")}var TQ=SQ,l$="\\ud800-\\udfff",AQ="\\u0300-\\u036f",IQ="\\ufe20-\\ufe2f",PQ="\\u20d0-\\u20ff",CQ=AQ+IQ+PQ,OQ="\\ufe0e\\ufe0f",kQ="["+l$+"]",Z_="["+CQ+"]",ew="\\ud83c[\\udffb-\\udfff]",NQ="(?:"+Z_+"|"+ew+")",u$="[^"+l$+"]",c$="(?:\\ud83c[\\udde6-\\uddff]){2}",f$="[\\ud800-\\udbff][\\udc00-\\udfff]",RQ="\\u200d",h$=NQ+"?",d$="["+OQ+"]?",MQ="(?:"+RQ+"(?:"+[u$,c$,f$].join("|")+")"+d$+h$+")*",DQ=d$+h$+MQ,jQ="(?:"+[u$+Z_+"?",Z_,c$,f$,kQ].join("|")+")",$Q=RegExp(ew+"(?="+ew+")|"+jQ+DQ,"g");function LQ(t){return t.match($Q)||[]}var FQ=LQ,VQ=TQ,UQ=a$,BQ=FQ;function zQ(t){return UQ(t)?BQ(t):VQ(t)}var WQ=zQ,HQ=pQ,GQ=a$,qQ=WQ,KQ=t$;function YQ(t){return function(e){e=KQ(e);var n=GQ(e)?qQ(e):void 0,r=n?n[0]:e.charAt(0),i=n?HQ(n,1).join(""):e.slice(1);return r[t]()+i}}var QQ=YQ,XQ=QQ,JQ=XQ("toUpperCase"),ZQ=JQ;const ty=qe(ZQ);function Ye(t){return function(){return t}}const p$=Math.cos,Kp=Math.sin,jr=Math.sqrt,Yp=Math.PI,ny=2*Yp,tw=Math.PI,nw=2*tw,is=1e-6,eX=nw-is;function m$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m$:tX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>is)if(!(Math.abs(f*l-u*c)>is)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,v=p*p+m*m,b=Math.sqrt(g),w=Math.sqrt(d),x=o*Math.tan((tw-Math.acos((g+d-v)/(2*b*w)))/2),P=x/w,T=x/b;Math.abs(P-1)>is&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>is||Math.abs(this._y1-c)>is)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%nw+nw),d>eX?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>is&&this._append`A${r},${r},0,${+(d>=tw)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nX(e)}function lE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g$(t){this._context=t}g$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ry(t){return new g$(t)}function y$(t){return t[0]}function v$(t){return t[1]}function _$(t,e){var n=Ye(!0),r=null,i=ry,o=null,s=aE(a);t=typeof t=="function"?t:t===void 0?y$:Ye(t),e=typeof e=="function"?e:e===void 0?v$:Ye(e);function a(l){var u,c=(l=lE(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ye(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ld(t,e,n){var r=null,i=Ye(!0),o=null,s=ry,a=null,l=aE(u);t=typeof t=="function"?t:t===void 0?y$:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?v$:Ye(+n);function u(f){var d,p,m,g=(f=lE(f)).length,v,b=!1,w,x=new Array(g),P=new Array(g);for(o==null&&(a=s(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===b)if(b=!b)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=d-1;m>=p;--m)a.point(x[m],P[m]);a.lineEnd(),a.areaEnd()}b&&(x[d]=+t(v,d,f),P[d]=+e(v,d,f),a.point(r?+r(v,d,f):x[d],n?+n(v,d,f):P[d]))}if(w)return a=null,w+""||null}function c(){return _$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ye(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ye(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ye(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class w${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rX(t){return new w$(t,!0)}function iX(t){return new w$(t,!1)}const uE={draw(t,e){const n=jr(e/Yp);t.moveTo(n,0),t.arc(0,0,n,0,ny)}},oX={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},b$=jr(1/3),sX=b$*2,aX={draw(t,e){const n=jr(e/sX),r=n*b$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lX={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},uX=.8908130915292852,x$=Kp(Yp/10)/Kp(7*Yp/10),cX=Kp(ny/10)*x$,fX=-p$(ny/10)*x$,hX={draw(t,e){const n=jr(e*uX),r=cX*n,i=fX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=ny*o/5,a=p$(s),l=Kp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Uv=jr(3),dX={draw(t,e){const n=-jr(e/(Uv*3));t.moveTo(0,n*2),t.lineTo(-Uv*n,-n),t.lineTo(Uv*n,-n),t.closePath()}},Zn=-.5,er=jr(3)/2,rw=1/jr(12),pX=(rw/2+1)*3,mX={draw(t,e){const n=jr(e/pX),r=n/2,i=n*rw,o=r,s=n*rw+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*o-er*s,er*o+Zn*s),t.lineTo(Zn*a-er*l,er*a+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*o+er*s,Zn*s-er*o),t.lineTo(Zn*a+er*l,Zn*l-er*a),t.closePath()}};function gX(t,e){let n=null,r=aE(i);t=typeof t=="function"?t:Ye(t||uE),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ye(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Qp(){}function Xp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function E$(t){this._context=t}E$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yX(t){return new E$(t)}function S$(t){this._context=t}S$.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vX(t){return new S$(t)}function T$(t){this._context=t}T$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _X(t){return new T$(t)}function A$(t){this._context=t}A$.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wX(t){return new A$(t)}function mP(t){return t<0?-1:1}function gP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(mP(o)+mP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function yP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bv(this,this._t0,yP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bv(this,yP(this,n=gP(this,t,e)),n);break;default:Bv(this,this._t0,n=gP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function I$(t){this._context=new P$(t)}(I$.prototype=Object.create(Jp.prototype)).point=function(t,e){Jp.prototype.point.call(this,e,t)};function P$(t){this._context=t}P$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function bX(t){return new Jp(t)}function xX(t){return new I$(t)}function C$(t){this._context=t}C$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=vP(t),i=vP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function EX(t){return new C$(t)}function iy(t,e){this._context=t,this._t=e}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function SX(t){return new iy(t,.5)}function TX(t){return new iy(t,0)}function AX(t){return new iy(t,1)}function vl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function IX(t,e){return t[e]}function PX(t){const e=[];return e.key=t,e}function CX(){var t=Ye([]),e=iw,n=vl,r=IX;function i(o){var s=Array.from(t.apply(this,arguments),PX),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=lE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ye(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?iw:typeof o=="function"?o:Ye(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??vl,i):n},i}function OX(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}vl(t,e)}}function kX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}vl(t,e)}}function NX(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<a;++m){var g=t[e[m]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,vl(t,e)}}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var RX=["type","size","sizeType"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){MX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MX(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=jX(t,"string");return af(e)=="symbol"?e:e+""}function jX(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $X(t,e){if(t==null)return{};var n=LX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var O$={symbolCircle:uE,symbolCross:oX,symbolDiamond:aX,symbolSquare:lX,symbolStar:hX,symbolTriangle:dX,symbolWye:mX},FX=Math.PI/180,VX=function(e){var n="symbol".concat(ty(e));return O$[n]||uE},UX=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*FX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BX=function(e,n){O$["symbol".concat(ty(e))]=n},cE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=$X(e,RX),u=wP(wP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var v=VX(r),b=gX().type(v).size(UX(o,a,r));return b()},f=u.className,d=u.cx,p=u.cy,m=Oe(u,!0);return d===+d&&p===+p&&o===+o?$.createElement("path",ow({},m,{className:Re("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};cE.registerSymbol=BX;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){lf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function HX(t,e,n){return e&&xP(t.prototype,e),n&&xP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,n){return e=Zp(e),qX(t,k$()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function qX(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KX(t)}function KX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function YX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function lf(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=QX(t,"string");return _l(e)=="symbol"?e:e+""}function QX(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=32,fE=function(t){function e(){return WX(this,e),GX(this,e,arguments)}return YX(e,t),HX(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=tr/2,s=tr/6,a=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:tr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(tr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=zX({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(cE,{fill:l,cx:o,cy:o,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:tr,height:tr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,v=Re(lf(lf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=we(p.value)?null:p.value;Ti(!we(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return $.createElement("li",sw({className:v,style:f,key:"legend-item-".concat(m)},qp(r.props,p,m)),$.createElement(X_,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(V.PureComponent);lf(fE,"displayName","Legend");lf(fE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XX=Bg;function JX(){this.__data__=new XX,this.size=0}var ZX=JX;function eJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var tJ=eJ;function nJ(t){return this.__data__.get(t)}var rJ=nJ;function iJ(t){return this.__data__.has(t)}var oJ=iJ,sJ=Bg,aJ=Jx,lJ=Zx,uJ=200;function cJ(t,e){var n=this.__data__;if(n instanceof sJ){var r=n.__data__;if(!aJ||r.length<uJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lJ(r)}return n.set(t,e),this.size=n.size,this}var fJ=cJ,hJ=Bg,dJ=ZX,pJ=tJ,mJ=rJ,gJ=oJ,yJ=fJ;function iu(t){var e=this.__data__=new hJ(t);this.size=e.size}iu.prototype.clear=dJ;iu.prototype.delete=pJ;iu.prototype.get=mJ;iu.prototype.has=gJ;iu.prototype.set=yJ;var R$=iu,vJ="__lodash_hash_undefined__";function _J(t){return this.__data__.set(t,vJ),this}var wJ=_J;function bJ(t){return this.__data__.has(t)}var xJ=bJ,EJ=Zx,SJ=wJ,TJ=xJ;function em(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new EJ;++e<n;)this.add(t[e])}em.prototype.add=em.prototype.push=SJ;em.prototype.has=TJ;var M$=em;function AJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var D$=AJ;function IJ(t,e){return t.has(e)}var j$=IJ,PJ=M$,CJ=D$,OJ=j$,kJ=1,NJ=2;function RJ(t,e,n,r,i,o){var s=n&kJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&NJ?new PJ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],g=e[f];if(r)var v=s?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!CJ(e,function(b,w){if(!OJ(p,w)&&(m===b||i(m,b,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var $$=RJ,MJ=ni,DJ=MJ.Uint8Array,jJ=DJ;function $J(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var LJ=$J;function FJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var hE=FJ,EP=uh,SP=jJ,VJ=Xx,UJ=$$,BJ=LJ,zJ=hE,WJ=1,HJ=2,GJ="[object Boolean]",qJ="[object Date]",KJ="[object Error]",YJ="[object Map]",QJ="[object Number]",XJ="[object RegExp]",JJ="[object Set]",ZJ="[object String]",eZ="[object Symbol]",tZ="[object ArrayBuffer]",nZ="[object DataView]",TP=EP?EP.prototype:void 0,zv=TP?TP.valueOf:void 0;function rZ(t,e,n,r,i,o,s){switch(n){case nZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tZ:return!(t.byteLength!=e.byteLength||!o(new SP(t),new SP(e)));case GJ:case qJ:case QJ:return VJ(+t,+e);case KJ:return t.name==e.name&&t.message==e.message;case XJ:case ZJ:return t==e+"";case YJ:var a=BJ;case JJ:var l=r&WJ;if(a||(a=zJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=HJ,s.set(t,e);var c=UJ(a(t),a(e),r,i,o,s);return s.delete(t),c;case eZ:if(zv)return zv.call(t)==zv.call(e)}return!1}var iZ=rZ;function oZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var L$=oZ,sZ=L$,aZ=$n;function lZ(t,e,n){var r=e(t);return aZ(t)?r:sZ(r,n(t))}var uZ=lZ;function cZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var fZ=cZ;function hZ(){return[]}var dZ=hZ,pZ=fZ,mZ=dZ,gZ=Object.prototype,yZ=gZ.propertyIsEnumerable,AP=Object.getOwnPropertySymbols,vZ=AP?function(t){return t==null?[]:(t=Object(t),pZ(AP(t),function(e){return yZ.call(t,e)}))}:mZ,_Z=vZ;function wZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bZ=wZ,xZ=Hi,EZ=Gi,SZ="[object Arguments]";function TZ(t){return EZ(t)&&xZ(t)==SZ}var AZ=TZ,IP=AZ,IZ=Gi,F$=Object.prototype,PZ=F$.hasOwnProperty,CZ=F$.propertyIsEnumerable,OZ=IP(function(){return arguments}())?IP:function(t){return IZ(t)&&PZ.call(t,"callee")&&!CZ.call(t,"callee")},dE=OZ,tm={exports:{}};function kZ(){return!1}var NZ=kZ;tm.exports;(function(t,e){var n=ni,r=NZ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(tm,tm.exports);var V$=tm.exports,RZ=9007199254740991,MZ=/^(?:0|[1-9]\d*)$/;function DZ(t,e){var n=typeof t;return e=e??RZ,!!e&&(n=="number"||n!="symbol"&&MZ.test(t))&&t>-1&&t%1==0&&t<e}var pE=DZ,jZ=9007199254740991;function $Z(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jZ}var mE=$Z,LZ=Hi,FZ=mE,VZ=Gi,UZ="[object Arguments]",BZ="[object Array]",zZ="[object Boolean]",WZ="[object Date]",HZ="[object Error]",GZ="[object Function]",qZ="[object Map]",KZ="[object Number]",YZ="[object Object]",QZ="[object RegExp]",XZ="[object Set]",JZ="[object String]",ZZ="[object WeakMap]",eee="[object ArrayBuffer]",tee="[object DataView]",nee="[object Float32Array]",ree="[object Float64Array]",iee="[object Int8Array]",oee="[object Int16Array]",see="[object Int32Array]",aee="[object Uint8Array]",lee="[object Uint8ClampedArray]",uee="[object Uint16Array]",cee="[object Uint32Array]",tt={};tt[nee]=tt[ree]=tt[iee]=tt[oee]=tt[see]=tt[aee]=tt[lee]=tt[uee]=tt[cee]=!0;tt[UZ]=tt[BZ]=tt[eee]=tt[zZ]=tt[tee]=tt[WZ]=tt[HZ]=tt[GZ]=tt[qZ]=tt[KZ]=tt[YZ]=tt[QZ]=tt[XZ]=tt[JZ]=tt[ZZ]=!1;function fee(t){return VZ(t)&&FZ(t.length)&&!!tt[LZ(t)]}var hee=fee;function dee(t){return function(e){return t(e)}}var U$=dee,nm={exports:{}};nm.exports;(function(t,e){var n=Yj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(nm,nm.exports);var pee=nm.exports,mee=hee,gee=U$,PP=pee,CP=PP&&PP.isTypedArray,yee=CP?gee(CP):mee,B$=yee,vee=bZ,_ee=dE,wee=$n,bee=V$,xee=pE,Eee=B$,See=Object.prototype,Tee=See.hasOwnProperty;function Aee(t,e){var n=wee(t),r=!n&&_ee(t),i=!n&&!r&&bee(t),o=!n&&!r&&!i&&Eee(t),s=n||r||i||o,a=s?vee(t.length,String):[],l=a.length;for(var u in t)(e||Tee.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xee(u,l)))&&a.push(u);return a}var Iee=Aee,Pee=Object.prototype;function Cee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pee;return t===n}var Oee=Cee;function kee(t,e){return function(n){return t(e(n))}}var z$=kee,Nee=z$,Ree=Nee(Object.keys,Object),Mee=Ree,Dee=Oee,jee=Mee,$ee=Object.prototype,Lee=$ee.hasOwnProperty;function Fee(t){if(!Dee(t))return jee(t);var e=[];for(var n in Object(t))Lee.call(t,n)&&n!="constructor"&&e.push(n);return e}var Vee=Fee,Uee=Qx,Bee=mE;function zee(t){return t!=null&&Bee(t.length)&&!Uee(t)}var hh=zee,Wee=Iee,Hee=Vee,Gee=hh;function qee(t){return Gee(t)?Wee(t):Hee(t)}var oy=qee,Kee=uZ,Yee=_Z,Qee=oy;function Xee(t){return Kee(t,Qee,Yee)}var Jee=Xee,OP=Jee,Zee=1,ete=Object.prototype,tte=ete.hasOwnProperty;function nte(t,e,n,r,i,o){var s=n&Zee,a=OP(t),l=a.length,u=OP(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:tte.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){d=a[f];var b=t[d],w=e[d];if(r)var x=s?r(w,b,d,e,t,o):r(b,w,d,t,e,o);if(!(x===void 0?b===w||i(b,w,n,r,o):x)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var P=t.constructor,T=e.constructor;P!=T&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var rte=nte,ite=Js,ote=ni,ste=ite(ote,"DataView"),ate=ste,lte=Js,ute=ni,cte=lte(ute,"Promise"),fte=cte,hte=Js,dte=ni,pte=hte(dte,"Set"),W$=pte,mte=Js,gte=ni,yte=mte(gte,"WeakMap"),vte=yte,lw=ate,uw=Jx,cw=fte,fw=W$,hw=vte,H$=Hi,ou=Xj,kP="[object Map]",_te="[object Object]",NP="[object Promise]",RP="[object Set]",MP="[object WeakMap]",DP="[object DataView]",wte=ou(lw),bte=ou(uw),xte=ou(cw),Ete=ou(fw),Ste=ou(hw),os=H$;(lw&&os(new lw(new ArrayBuffer(1)))!=DP||uw&&os(new uw)!=kP||cw&&os(cw.resolve())!=NP||fw&&os(new fw)!=RP||hw&&os(new hw)!=MP)&&(os=function(t){var e=H$(t),n=e==_te?t.constructor:void 0,r=n?ou(n):"";if(r)switch(r){case wte:return DP;case bte:return kP;case xte:return NP;case Ete:return RP;case Ste:return MP}return e});var Tte=os,Wv=R$,Ate=$$,Ite=iZ,Pte=rte,jP=Tte,$P=$n,LP=V$,Cte=B$,Ote=1,FP="[object Arguments]",VP="[object Array]",ud="[object Object]",kte=Object.prototype,UP=kte.hasOwnProperty;function Nte(t,e,n,r,i,o){var s=$P(t),a=$P(e),l=s?VP:jP(t),u=a?VP:jP(e);l=l==FP?ud:l,u=u==FP?ud:u;var c=l==ud,f=u==ud,d=l==u;if(d&&LP(t)){if(!LP(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Wv),s||Cte(t)?Ate(t,e,n,r,i,o):Ite(t,e,l,n,r,i,o);if(!(n&Ote)){var p=c&&UP.call(t,"__wrapped__"),m=f&&UP.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return o||(o=new Wv),i(g,v,n,r,o)}}return d?(o||(o=new Wv),Pte(t,e,n,r,i,o)):!1}var Rte=Nte,Mte=Rte,BP=Gi;function G$(t,e,n,r,i){return t===e?!0:t==null||e==null||!BP(t)&&!BP(e)?t!==t&&e!==e:Mte(t,e,n,r,G$,i)}var gE=G$,Dte=R$,jte=gE,$te=1,Lte=2;function Fte(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Dte;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?jte(c,u,$te|Lte,r,f):d))return!1}}return!0}var Vte=Fte,Ute=Bo;function Bte(t){return t===t&&!Ute(t)}var q$=Bte,zte=q$,Wte=oy;function Hte(t){for(var e=Wte(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zte(i)]}return e}var Gte=Hte;function qte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var K$=qte,Kte=Vte,Yte=Gte,Qte=K$;function Xte(t){var e=Yte(t);return e.length==1&&e[0][2]?Qte(e[0][0],e[0][1]):function(n){return n===t||Kte(n,t,e)}}var Jte=Xte;function Zte(t,e){return t!=null&&e in Object(t)}var ene=Zte,tne=n$,nne=dE,rne=$n,ine=pE,one=mE,sne=Wg;function ane(t,e,n){e=tne(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=sne(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&one(i)&&ine(s,i)&&(rne(t)||nne(t)))}var lne=ane,une=ene,cne=lne;function fne(t,e){return t!=null&&cne(t,e,une)}var hne=fne,dne=gE,pne=r$,mne=hne,gne=Yx,yne=q$,vne=K$,_ne=Wg,wne=1,bne=2;function xne(t,e){return gne(t)&&yne(e)?vne(_ne(t),e):function(n){var r=pne(n,t);return r===void 0&&r===e?mne(n,t):dne(e,r,wne|bne)}}var Ene=xne;function Sne(t){return t}var su=Sne;function Tne(t){return function(e){return e==null?void 0:e[t]}}var Ane=Tne,Ine=nE;function Pne(t){return function(e){return Ine(e,t)}}var Cne=Pne,One=Ane,kne=Cne,Nne=Yx,Rne=Wg;function Mne(t){return Nne(t)?One(Rne(t)):kne(t)}var Dne=Mne,jne=Jte,$ne=Ene,Lne=su,Fne=$n,Vne=Dne;function Une(t){return typeof t=="function"?t:t==null?Lne:typeof t=="object"?Fne(t)?$ne(t[0],t[1]):jne(t):Vne(t)}var zo=Une;function Bne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Y$=Bne;function zne(t){return t!==t}var Wne=zne;function Hne(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Gne=Hne,qne=Y$,Kne=Wne,Yne=Gne;function Qne(t,e,n){return e===e?Yne(t,e,n):qne(t,Kne,n)}var Xne=Qne,Jne=Xne;function Zne(t,e){var n=t==null?0:t.length;return!!n&&Jne(t,e,0)>-1}var ere=Zne;function tre(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var nre=tre;function rre(){}var ire=rre,Hv=W$,ore=ire,sre=hE,are=1/0,lre=Hv&&1/sre(new Hv([,-0]))[1]==are?function(t){return new Hv(t)}:ore,ure=lre,cre=M$,fre=ere,hre=nre,dre=j$,pre=ure,mre=hE,gre=200;function yre(t,e,n){var r=-1,i=fre,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=hre;else if(o>=gre){var u=e?null:pre(t);if(u)return mre(u);s=!1,i=dre,l=new cre}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var vre=yre,_re=zo,wre=vre;function bre(t,e){return t&&t.length?wre(t,_re(e)):[]}var xre=bre;const zP=qe(xre);function Q$(t,e,n){return e===!0?zP(t,n):we(e)?zP(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Ere=["ref"];function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function Tre(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Are(t,e,n){return e=rm(e),Ire(t,X$()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Ire(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pre(t)}function Pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function sy(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=Ore(t,"string");return wl(e)=="symbol"?e:e+""}function Ore(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kre(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rre(t){return t.value}function Mre(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=kre(e,Ere);return $.createElement(fE,n)}var GP=1,Ss=function(t){function e(){var n;Sre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Are(this,e,[].concat(i)),sy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Cre(e,t),Tre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GP||Math.abs(i.height-this.lastBoundingBox.height)>GP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return si(si({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=si(si({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Mre(o,si(si({},this.props),{},{payload:Q$(c,u,Rre)})))}}],[{key:"getWithHeight",value:function(r,i){var o=si(si({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(V.PureComponent);sy(Ss,"displayName","Legend");sy(Ss,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qP=uh,Dre=dE,jre=$n,KP=qP?qP.isConcatSpreadable:void 0;function $re(t){return jre(t)||Dre(t)||!!(KP&&t&&t[KP])}var Lre=$re,Fre=L$,Vre=Lre;function Z$(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Vre),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Z$(a,e-1,n,r,i):Fre(i,a):r||(i[i.length]=a)}return i}var eL=Z$;function Ure(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Bre=Ure,zre=Bre,Wre=zre(),Hre=Wre,Gre=Hre,qre=oy;function Kre(t,e){return t&&Gre(t,e,qre)}var tL=Kre,Yre=hh;function Qre(t,e){return function(n,r){if(n==null)return n;if(!Yre(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Xre=Qre,Jre=tL,Zre=Xre,eie=Zre(Jre),yE=eie,tie=yE,nie=hh;function rie(t,e){var n=-1,r=nie(t)?Array(t.length):[];return tie(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var nL=rie;function iie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var oie=iie,YP=Zl;function sie(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=YP(t),s=e!==void 0,a=e===null,l=e===e,u=YP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var aie=sie,lie=aie;function uie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=lie(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var cie=uie,Gv=tE,fie=nE,hie=zo,die=nL,pie=oie,mie=U$,gie=cie,yie=su,vie=$n;function _ie(t,e,n){e.length?e=Gv(e,function(o){return vie(o)?function(s){return fie(s,o.length===1?o[0]:o)}:o}):e=[yie];var r=-1;e=Gv(e,mie(hie));var i=die(t,function(o,s,a){var l=Gv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return pie(i,function(o,s){return gie(o,s,n)})}var wie=_ie;function bie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var xie=bie,Eie=xie,QP=Math.max;function Sie(t,e,n){return e=QP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=QP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Eie(t,this,a)}}var Tie=Sie;function Aie(t){return function(){return t}}var Iie=Aie,Pie=Js,Cie=function(){try{var t=Pie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rL=Cie,Oie=Iie,XP=rL,kie=su,Nie=XP?function(t,e){return XP(t,"toString",{configurable:!0,enumerable:!1,value:Oie(e),writable:!0})}:kie,Rie=Nie,Mie=800,Die=16,jie=Date.now;function $ie(t){var e=0,n=0;return function(){var r=jie(),i=Die-(r-n);if(n=r,i>0){if(++e>=Mie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Lie=$ie,Fie=Rie,Vie=Lie,Uie=Vie(Fie),Bie=Uie,zie=su,Wie=Tie,Hie=Bie;function Gie(t,e){return Hie(Wie(t,e,zie),t+"")}var qie=Gie,Kie=Xx,Yie=hh,Qie=pE,Xie=Bo;function Jie(t,e,n){if(!Xie(n))return!1;var r=typeof e;return(r=="number"?Yie(n)&&Qie(e,n.length):r=="string"&&e in n)?Kie(n[e],t):!1}var ay=Jie,Zie=eL,eoe=wie,toe=qie,JP=ay,noe=toe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&JP(t,e[0],e[1])?e=[]:n>2&&JP(e[0],e[1],e[2])&&(e=[e[0]]),eoe(t,Zie(e,1),[])}),roe=noe;const vE=qe(roe);function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function ioe(t,e){return loe(t)||aoe(t,e)||soe(t,e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function loe(t){if(Array.isArray(t))return t}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uoe(t,e,n){return e=coe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=foe(t,"string");return uf(e)=="symbol"?e:e+""}function foe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hoe(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var doe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,x=function(){if(c&&c.length){var M={padding:0,margin:0},N=(d?vE(c,d):c).map(function(z,B){if(z.type==="none")return null;var q=qv({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),U=z.formatter||f||hoe,j=z.value,L=z.name,H=j,Q=L;if(U&&H!=null&&Q!=null){var D=U(j,L,z,B,c);if(Array.isArray(D)){var K=ioe(D,2);H=K[0],Q=K[1]}else H=D}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:q},Mt(Q)?$.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Mt(Q)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},H),$.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:M},N)}return null},P=qv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=qv({margin:0},u),A=!Te(g),_=A?g:"",E=Re("recharts-default-tooltip",p),I=Re("recharts-tooltip-label",m);A&&v&&c!==void 0&&c!==null&&(_=v(g,c));var O=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",pw({className:E,style:P},O),$.createElement("p",{className:I,style:T},$.isValidElement(_)?_:"".concat(_)),x())};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function cd(t,e,n){return e=poe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=moe(t,"string");return cf(e)=="symbol"?e:e+""}function moe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fu="recharts-tooltip-wrapper",goe={visibility:"hidden"};function yoe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(Fu,cd(cd(cd(cd({},"".concat(Fu,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(Fu,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(Fu,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(Fu,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function tC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+a,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function voe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _oe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=tC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=tC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=voe({translateX:c,translateY:f,useTranslate3d:a})):u=goe,{cssProperties:u,cssClasses:yoe({translateX:c,translateY:f,coordinate:n})}}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function boe(t,e,n){return e&&iC(t.prototype,e),n&&iC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e,n){return e=im(e),Eoe(t,iL()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Eoe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(t)}function Soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Toe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function gw(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=Aoe(t,"string");return bl(e)=="symbol"?e:e+""}function Aoe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oC=1,Ioe=function(t){function e(){var n;woe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xoe(this,e,[].concat(i)),gw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Toe(e,t),boe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oC||Math.abs(r.height-this.state.lastBoundingBox.height)>oC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,x=_oe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),P=x.cssClasses,T=x.cssProperties,A=rC(rC({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(E){r.wrapperNode=E}},u)}}])}(V.PureComponent),Poe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:Poe(),get:function(e){return Ai[e]},set:function(e,n){if(typeof e=="string")Ai[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ai[i]=e[i]})}}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aL(r.key),r)}}function Ooe(t,e,n){return e&&lC(t.prototype,e),n&&lC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function koe(t,e,n){return e=om(e),Noe(t,sL()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Noe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Roe(t)}function Roe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Moe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function _E(t,e,n){return e=aL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aL(t){var e=Doe(t,"string");return xl(e)=="symbol"?e:e+""}function Doe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t){return t.dataKey}function $oe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(doe,e)}var Ur=function(t){function e(){return Coe(this,e),koe(this,e,arguments)}return Moe(e,t),Ooe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,T=m??[];f&&T.length&&(T=Q$(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,joe));var A=T.length>0;return $.createElement(Ioe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:v,reverseDirection:b,useTranslate3d:w,viewBox:x,wrapperStyle:P},$oe(u,aC(aC({},this.props),{},{payload:T})))}}])}(V.PureComponent);_E(Ur,"displayName","Tooltip");_E(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Loe=ni,Foe=function(){return Loe.Date.now()},Voe=Foe,Uoe=/\s/;function Boe(t){for(var e=t.length;e--&&Uoe.test(t.charAt(e)););return e}var zoe=Boe,Woe=zoe,Hoe=/^\s+/;function Goe(t){return t&&t.slice(0,Woe(t)+1).replace(Hoe,"")}var qoe=Goe,Koe=qoe,uC=Bo,Yoe=Zl,cC=0/0,Qoe=/^[-+]0x[0-9a-f]+$/i,Xoe=/^0b[01]+$/i,Joe=/^0o[0-7]+$/i,Zoe=parseInt;function ese(t){if(typeof t=="number")return t;if(Yoe(t))return cC;if(uC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Koe(t);var n=Xoe.test(t);return n||Joe.test(t)?Zoe(t.slice(2),n?2:8):Qoe.test(t)?cC:+t}var lL=ese,tse=Bo,Kv=Voe,fC=lL,nse="Expected a function",rse=Math.max,ise=Math.min;function ose(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(nse);e=fC(e)||0,tse(n)&&(c=!!n.leading,f="maxWait"in n,o=f?rse(fC(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var _=r,E=i;return r=i=void 0,u=A,s=t.apply(E,_),s}function m(A){return u=A,a=setTimeout(b,e),c?p(A):s}function g(A){var _=A-l,E=A-u,I=e-_;return f?ise(I,o-E):I}function v(A){var _=A-l,E=A-u;return l===void 0||_>=e||_<0||f&&E>=o}function b(){var A=Kv();if(v(A))return w(A);a=setTimeout(b,g(A))}function w(A){return a=void 0,d&&r?p(A):(r=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?s:w(Kv())}function T(){var A=Kv(),_=v(A);if(r=arguments,i=this,l=A,_){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return T.cancel=x,T.flush=P,T}var sse=ose,ase=sse,lse=Bo,use="Expected a function";function cse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(use);return lse(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ase(t,e,{leading:r,maxWait:e,trailing:i})}var fse=cse;const uL=qe(fse);function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hse(t,e,n){return e=dse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dse(t){var e=pse(t,"string");return ff(e)=="symbol"?e:e+""}function pse(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mse(t,e){return _se(t)||vse(t,e)||yse(t,e)||gse()}function gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(t,e){if(t){if(typeof t=="string")return dC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(t,e)}}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _se(t){if(Array.isArray(t))return t}var wse=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,b=t.className,w=t.onResize,x=t.style,P=x===void 0?{}:x,T=V.useRef(null),A=V.useRef();A.current=w,V.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var _=V.useState({containerWidth:i.width,containerHeight:i.height}),E=mse(_,2),I=E[0],O=E[1],k=V.useCallback(function(N,z){O(function(B){var q=Math.round(N),U=Math.round(z);return B.containerWidth===q&&B.containerHeight===U?B:{containerWidth:q,containerHeight:U}})},[]);V.useEffect(function(){var N=function(L){var H,Q=L[0].contentRect,D=Q.width,K=Q.height;k(D,K),(H=A.current)===null||H===void 0||H.call(A,D,K)};g>0&&(N=uL(N,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(N),B=T.current.getBoundingClientRect(),q=B.width,U=B.height;return k(q,U),z.observe(T.current),function(){z.disconnect()}},[k,g]);var M=V.useMemo(function(){var N=I.containerWidth,z=I.containerHeight;if(N<0||z<0)return null;Ti(ms(s)||ms(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ms(s)?N:s,q=ms(l)?z:l;n&&n>0&&(B?q=B/n:q&&(B=q*n),d&&q>d&&(q=d)),Ti(B>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,q,s,l,c,f,n);var U=!Array.isArray(p)&&Si(p.type).endsWith("Chart");return $.Children.map(p,function(j){return $.isValidElement(j)?V.cloneElement(j,fd({width:B,height:q},U?{style:fd({height:"100%",width:"100%",maxHeight:q,maxWidth:B},j.props.style)}:{})):j})},[n,p,l,d,f,c,I,s]);return $.createElement("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",b),style:fd(fd({},P),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:T},M)}),cL=function(e){return null};cL.displayName="Cell";function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return e=xse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=Ese(t,"string");return hf(e)=="symbol"?e:e+""}function Ese(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha={widthCache:{},cacheCount:0},Sse=2e3,Tse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mC="recharts_measurement_span";function Ase(t){var e=vw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var bc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ai.isSsr)return{width:0,height:0};var r=Ase(n),i=JSON.stringify({text:e,copyStyle:r});if(ha.widthCache[i])return ha.widthCache[i];try{var o=document.getElementById(mC);o||(o=document.createElement("span"),o.setAttribute("id",mC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=vw(vw({},Tse),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ha.widthCache[i]=l,++ha.cacheCount>Sse&&(ha.cacheCount=0,ha.widthCache={}),l}catch{return{width:0,height:0}}},Ise=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function sm(t,e){return kse(t)||Ose(t,e)||Cse(t,e)||Pse()}function Pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ose(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kse(t){if(Array.isArray(t))return t}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mse(r.key),r)}}function Rse(t,e,n){return e&&yC(t.prototype,e),n&&yC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mse(t){var e=Dse(t,"string");return df(e)=="symbol"?e:e+""}function Dse(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$se=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lse=Object.keys(fL),Ra="NaN";function Fse(t,e){return t*fL[e]}var hd=function(){function t(e,n){Nse(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jse.test(n)&&(this.num=NaN,this.unit=""),Lse.includes(n)&&(this.num=Fse(e,n),this.unit="px")}return Rse(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$se.exec(n))!==null&&r!==void 0?r:[],o=sm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function hL(t){if(t.includes(Ra))return Ra;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vC.exec(e))!==null&&n!==void 0?n:[],i=sm(r,4),o=i[1],s=i[2],a=i[3],l=hd.parse(o??""),u=hd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ra;e=e.replace(vC,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=_C.exec(e))!==null&&f!==void 0?f:[],p=sm(d,4),m=p[1],g=p[2],v=p[3],b=hd.parse(m??""),w=hd.parse(v??""),x=g==="+"?b.add(w):b.subtract(w);if(x.isNaN())return Ra;e=e.replace(_C,x.toString())}return e}var wC=/\(([^()]*)\)/;function Vse(t){for(var e=t;e.includes("(");){var n=wC.exec(e),r=sm(n,2),i=r[1];e=e.replace(wC,hL(i))}return e}function Use(t){var e=t.replace(/\s+/g,"");return e=Vse(e),e=hL(e),e}function Bse(t){try{return Use(t)}catch{return Ra}}function Yv(t){var e=Bse(t.slice(5,-1));return e===Ra?"":e}var zse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wse=["dx","dy","angle","className","breakAll"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function bC(t,e){if(t==null)return{};var n=Hse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xC(t,e){return Yse(t)||Kse(t,e)||qse(t,e)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return EC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(t,e)}}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yse(t){if(Array.isArray(t))return t}var dL=/[ \f\n\r\t\v\u2028\u2029]+/,pL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Te(n)||(r?o=n.toString().split(""):o=n.toString().split(dL));var s=o.map(function(l){return{word:l,width:bc(l,i).width}}),a=r?0:bc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Qse=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ie(s),f=a,d=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(q,U){var j=U.word,L=U.width,H=q[q.length-1];if(H&&(i==null||o||H.width+L+r<Number(i)))H.words.push(j),H.width+=L+r;else{var Q={words:[j],width:L};q.push(Q)}return q},[])},p=d(n),m=function(B){return B.reduce(function(q,U){return q.width>U.width?q:U})};if(!c)return p;for(var g="",v=function(B){var q=f.slice(0,B),U=pL({breakAll:u,style:l,children:q+g}).wordsWithComputedWidth,j=d(U),L=j.length>s||m(j).width>Number(i);return[L,j]},b=0,w=f.length-1,x=0,P;b<=w&&x<=f.length-1;){var T=Math.floor((b+w)/2),A=T-1,_=v(A),E=xC(_,2),I=E[0],O=E[1],k=v(T),M=xC(k,1),N=M[0];if(!I&&!N&&(b=T+1),I&&N&&(w=T-1),!I&&N){P=O;break}x++}return P||p},SC=function(e){var n=Te(e)?[]:e.toString().split(dL);return[{words:n}]},Xse=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Ai.isSsr){var l,u,c=pL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return SC(i);return Qse({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return SC(i)},TC="#808080",am=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,b=v===void 0?TC:v,w=bC(e,zse),x=V.useMemo(function(){return Xse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),P=w.dx,T=w.dy,A=w.angle,_=w.className,E=w.breakAll,I=bC(w,Wse);if(!Mt(r)||!Mt(o))return null;var O=r+(ie(P)?P:0),k=o+(ie(T)?T:0),M;switch(g){case"start":M=Yv("calc(".concat(u,")"));break;case"middle":M=Yv("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=Yv("calc(".concat(x.length-1," * -").concat(a,")"));break}var N=[];if(f){var z=x[0].width,B=w.width;N.push("scale(".concat((ie(B)?B/z:1)/z,")"))}return A&&N.push("rotate(".concat(A,", ").concat(O,", ").concat(k,")")),N.length&&(I.transform=N.join(" ")),$.createElement("text",_w({},Oe(I,!0),{x:O,y:k,className:Re("recharts-text",_),textAnchor:p,fill:b.includes("url")?TC:b}),x.map(function(q,U){var j=q.words.join(E?"":" ");return $.createElement("tspan",{x:O,dy:U===0?M:a,key:"".concat(j,"-").concat(U)},j)}))};function Io(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wE(t){let e,n,r;t.length!==2?(e=Io,n=(a,l)=>Io(t(a),l),r=(a,l)=>t(a)-l):(e=t===Io||t===Jse?t:Zse,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Zse(){return 0}function mL(t){return t===null?NaN:+t}function*eae(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const tae=wE(Io),nae=tae.right;wE(mL).center;const dh=nae;class AC extends Map{constructor(e,n=oae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(IC(this,e))}has(e){return super.has(IC(this,e))}set(e,n){return super.set(rae(this,e),n)}delete(e){return super.delete(iae(this,e))}}function IC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function iae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sae(t=Io){if(t===Io)return gL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aae=Math.sqrt(50),lae=Math.sqrt(10),uae=Math.sqrt(2);function lm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=aae?10:o>=lae?5:o>=uae?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?lm(t,e,n*2):[a,l,u]}function ww(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?lm(e,t,n):lm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function bw(t,e,n){return e=+e,t=+t,n=+n,lm(t,e,n)[2]}function xw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bw(e,t,n):bw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function CC(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function yL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gL:sae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));yL(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(Vu(t,n,e),i(t[r],o)>0&&Vu(t,n,r);s<a;){for(Vu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Vu(t,n,a):(++a,Vu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Vu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cae(t,e,n){if(t=Float64Array.from(eae(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CC(t);if(e>=1)return PC(t);var r,i=(r-1)*e,o=Math.floor(i),s=PC(yL(t,o).subarray(0,o+1)),a=CC(t.subarray(o+1));return s+(a-s)*(i-o)}}function fae(t,e,n=mL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function hae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ew=Symbol("implicit");function bE(){var t=new AC,e=[],n=[],r=Ew;function i(o){let s=t.get(o);if(s===void 0){if(r!==Ew)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new AC;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bE(e,n).unknown(r)},pr.apply(i,arguments),i}function pf(){var t=bE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var v=hae(d).map(function(b){return m+o*b});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return pf(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},pr.apply(f(),arguments)}function vL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vL(e())},t}function xc(){return vL(pf.apply(null,arguments).paddingInner(1))}function xE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _L(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ph(){}var mf=.7,um=1/mf,Xa="\\s*([+-]?\\d+)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dae=/^#([0-9a-f]{3,8})$/,pae=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),mae=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),gae=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${gf}\\)$`),yae=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${gf}\\)$`),vae=new RegExp(`^hsl\\(${gf},${Qr},${Qr}\\)$`),_ae=new RegExp(`^hsla\\(${gf},${Qr},${Qr},${gf}\\)$`),OC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xE(ph,yf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kC,formatHex:kC,formatHex8:wae,formatHsl:bae,formatRgb:NC,toString:NC});function kC(){return this.rgb().formatHex()}function wae(){return this.rgb().formatHex8()}function bae(){return wL(this).formatHsl()}function NC(){return this.rgb().formatRgb()}function yf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?RC(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pae.exec(t))?new On(e[1],e[2],e[3],1):(e=mae.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gae.exec(t))?dd(e[1],e[2],e[3],e[4]):(e=yae.exec(t))?dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vae.exec(t))?jC(e[1],e[2]/100,e[3]/100,1):(e=_ae.exec(t))?jC(e[1],e[2]/100,e[3]/100,e[4]):OC.hasOwnProperty(t)?RC(OC[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function RC(t){return new On(t>>16&255,t>>8&255,t&255,1)}function dd(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function xae(t){return t instanceof ph||(t=yf(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function Sw(t,e,n,r){return arguments.length===1?xae(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xE(On,Sw,_L(ph,{brighter(t){return t=t==null?um:Math.pow(um,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(Ts(this.r),Ts(this.g),Ts(this.b),cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MC,formatHex:MC,formatHex8:Eae,formatRgb:DC,toString:DC}));function MC(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function Eae(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function DC(){const t=cm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ts(this.r)}, ${Ts(this.g)}, ${Ts(this.b)}${t===1?")":`, ${t})`}`}function cm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ts(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=Ts(t),(t<16?"0":"")+t.toString(16)}function jC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function wL(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=yf(t)),!t)return new Ar;if(t instanceof Ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ar(s,a,l,t.opacity)}function Sae(t,e,n,r){return arguments.length===1?wL(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xE(Ar,Sae,_L(ph,{brighter(t){return t=t==null?um:Math.pow(um,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(Qv(t>=240?t-240:t+120,i,r),Qv(t,i,r),Qv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar($C(this.h),pd(this.s),pd(this.l),cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cm(this.opacity);return`${t===1?"hsl(":"hsla("}${$C(this.h)}, ${pd(this.s)*100}%, ${pd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $C(t){return t=(t||0)%360,t<0?t+360:t}function pd(t){return Math.max(0,Math.min(1,t||0))}function Qv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EE=t=>()=>t;function Tae(t,e){return function(n){return t+n*e}}function Aae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Iae(t){return(t=+t)==1?bL:function(e,n){return n-e?Aae(e,n,t):EE(isNaN(e)?n:e)}}function bL(t,e){var n=e-t;return n?Tae(t,n):EE(isNaN(t)?e:t)}const LC=function t(e){var n=Iae(e);function r(i,o){var s=n((i=Sw(i)).r,(o=Sw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=bL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Pae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Cae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Oae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=au(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function kae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=au(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xv=new RegExp(Tw.source,"g");function Rae(t){return function(){return t}}function Mae(t){return function(e){return t(e)+""}}function Dae(t,e){var n=Tw.lastIndex=Xv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Tw.exec(t))&&(i=Xv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:fm(r,i)})),n=Xv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Mae(l[0].x):Rae(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function au(t,e){var n=typeof e,r;return e==null||n==="boolean"?EE(e):(n==="number"?fm:n==="string"?(r=yf(e))?(e=r,LC):Dae:e instanceof yf?LC:e instanceof Date?kae:Cae(e)?Pae:Array.isArray(e)?Oae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nae:fm)(t,e)}function SE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jae(t,e){e===void 0&&(e=t,t=au);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function $ae(t){return function(){return t}}function hm(t){return+t}var FC=[0,1];function bn(t){return t}function Aw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$ae(isNaN(e)?NaN:.5)}function Lae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fae(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Aw(i,r),o=n(s,o)):(r=Aw(r,i),o=n(o,s)),function(a){return o(r(a))}}function Vae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Aw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=dh(t,a,1,r)-1;return o[l](i[l](a))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ly(){var t=FC,e=FC,n=au,r,i,o,s=bn,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==bn&&(s=Lae(t[0],t[d-1])),a=d>2?Vae:Fae,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),fm)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,hm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=SE,c()},f.clamp=function(d){return arguments.length?(s=d?!0:bn,c()):s!==bn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function TE(){return ly()(bn,bn)}function Uae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function El(t){return t=dm(Math.abs(t)),t?t[1]:NaN}function Bae(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function zae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vf(t){if(!(e=Wae.exec(t)))throw new Error("invalid format: "+t);var e;return new AE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vf.prototype=AE.prototype;function AE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xL;function Gae(t,e){var n=dm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(xL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dm(t,Math.max(0,e+o-1))[0]}function VC(t,e){var n=dm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const UC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VC(t*100,e),r:VC,s:Gae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BC(t){return t}var zC=Array.prototype.map,WC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qae(t){var e=t.grouping===void 0||t.thousands===void 0?BC:Bae(zC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?BC:zae(zC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=vf(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,b=f.width,w=f.comma,x=f.precision,P=f.trim,T=f.type;T==="n"?(w=!0,T="g"):UC[T]||(x===void 0&&(x=12),P=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",_=g==="$"?r:/[%p]/.test(T)?s:"",E=UC[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(k){var M=A,N=_,z,B,q;if(T==="c")N=E(k)+N,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?l:E(Math.abs(k),x),P&&(k=Hae(k)),U&&+k==0&&m!=="+"&&(U=!1),M=(U?m==="("?m:a:m==="-"||m==="("?"":m)+M,N=(T==="s"?WC[8+xL/3]:"")+N+(U&&m==="("?")":""),I){for(z=-1,B=k.length;++z<B;)if(q=k.charCodeAt(z),48>q||q>57){N=(q===46?i+k.slice(z+1):k.slice(z))+N,k=k.slice(0,z);break}}}w&&!v&&(k=e(k,1/0));var j=M.length+k.length+N.length,L=j<b?new Array(b-j+1).join(d):"";switch(w&&v&&(k=e(L+k,L.length?b-N.length:1/0),L=""),p){case"<":k=M+k+N+L;break;case"=":k=M+L+k+N;break;case"^":k=L.slice(0,j=L.length>>1)+M+k+N+L.slice(j);break;default:k=L+M+k+N;break}return o(k)}return O.toString=function(){return f+""},O}function c(f,d){var p=u((f=vf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(El(d)/3)))*3,g=Math.pow(10,-m),v=WC[8+m/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:c}}var md,IE,EL;Kae({thousands:",",grouping:[3],currency:["$",""]});function Kae(t){return md=qae(t),IE=md.format,EL=md.formatPrefix,md}function Yae(t){return Math.max(0,-El(Math.abs(t)))}function Qae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(El(e)/3)))*3-El(Math.abs(t)))}function Xae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,El(e)-El(t))+1}function SL(t,e,n,r){var i=xw(t,e,n),o;switch(r=vf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qae(i,s))&&(r.precision=o),EL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yae(i))&&(r.precision=o-(r.type==="%")*2);break}}return IE(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return ww(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=bw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function pm(){var t=TE();return t.copy=function(){return mh(t,pm())},pr.apply(t,arguments),Wo(t)}function TL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return TL(t).unknown(e)},t=arguments.length?Array.from(t,hm):[0,1],Wo(n)}function AL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function HC(t){return Math.log(t)}function GC(t){return Math.exp(t)}function Jae(t){return-Math.log(-t)}function Zae(t){return-Math.exp(-t)}function ele(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tle(t){return t===10?ele:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qC(t){return(e,n)=>-t(-e,n)}function PE(t){const e=t(HC,GC),n=e.domain;let r=10,i,o;function s(){return i=nle(r),o=tle(r),n()[0]<0?(i=qC(i),o=qC(o),t(Jae,Zae)):t(HC,GC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const v=a==null?10:+a;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;b.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;b.push(g)}b.length*2<v&&(b=ww(u,c,v))}else b=ww(d,p,Math.min(p-d,v)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=vf(l)).precision==null&&(l.trim=!0),l=IE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(AL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function IL(){const t=PE(ly()).domain([1,10]);return t.copy=()=>mh(t,IL()).base(t.base()),pr.apply(t,arguments),t}function KC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CE(t){var e=1,n=t(KC(e),YC(e));return n.constant=function(r){return arguments.length?t(KC(e=+r),YC(e)):e},Wo(n)}function PL(){var t=CE(ly());return t.copy=function(){return mh(t,PL()).constant(t.constant())},pr.apply(t,arguments)}function QC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ile(t){return t<0?-t*t:t*t}function OE(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(rle,ile):t(QC(n),QC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function kE(){var t=OE(ly());return t.copy=function(){return mh(t,kE()).exponent(t.exponent())},pr.apply(t,arguments),t}function ole(){return kE.apply(null,arguments).exponent(.5)}function XC(t){return Math.sign(t)*t*t}function sle(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CL(){var t=TE(),e=[0,1],n=!1,r;function i(o){var s=sle(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(XC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,hm)).map(XC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Wo(i)}function OL(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=fae(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[dh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Io),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return OL().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function kL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[dh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return kL().domain([t,e]).range(i).unknown(o)},pr.apply(Wo(s),arguments)}function NL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[dh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return NL().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const Jv=new Date,Zv=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>jt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Jv.setTime(+o),Zv.setTime(+s),t(Jv),t(Zv),Math.floor(n(Jv,Zv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const mm=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mm);mm.range;const vi=1e3,or=vi*60,_i=or*60,Li=_i*24,NE=Li*7,JC=Li*30,e0=Li*365,ys=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCSeconds());ys.range;const RE=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());RE.range;const ME=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());ME.range;const DE=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());DE.range;const jE=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());jE.range;const gh=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Li,t=>t.getDate()-1);gh.range;const uy=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);uy.range;const RL=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));RL.range;function Zs(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/NE)}const cy=Zs(0),gm=Zs(1),ale=Zs(2),lle=Zs(3),Sl=Zs(4),ule=Zs(5),cle=Zs(6);cy.range;gm.range;ale.range;lle.range;Sl.range;ule.range;cle.range;function ea(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NE)}const fy=ea(0),ym=ea(1),fle=ea(2),hle=ea(3),Tl=ea(4),dle=ea(5),ple=ea(6);fy.range;ym.range;fle.range;hle.range;Tl.range;dle.range;ple.range;const $E=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$E.range;const LE=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LE.range;const Fi=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fi.range;const Vi=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vi.range;function ML(t,e,n,r,i,o){const s=[[ys,1,vi],[ys,5,5*vi],[ys,15,15*vi],[ys,30,30*vi],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Li],[r,2,2*Li],[n,1,NE],[e,1,JC],[e,3,3*JC],[t,1,e0]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=wE(([,,v])=>v).right(s,d);if(p===s.length)return t.every(xw(u/e0,c/e0,f));if(p===0)return mm.every(Math.max(xw(u,c,f),1));const[m,g]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(g)}return[a,l]}const[mle,gle]=ML(Vi,LE,fy,RL,jE,ME),[yle,vle]=ML(Fi,$E,cy,gh,DE,RE);function t0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _le(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Bu(i),c=zu(i),f=Bu(o),d=zu(o),p=Bu(s),m=zu(s),g=Bu(a),v=zu(a),b=Bu(l),w=zu(l),x={a:U,A:j,b:L,B:H,c:null,d:iO,e:iO,f:Ble,g:Jle,G:eue,H:Fle,I:Vle,j:Ule,L:DL,m:zle,M:Wle,p:Q,q:D,Q:aO,s:lO,S:Hle,u:Gle,U:qle,V:Kle,w:Yle,W:Qle,x:null,X:null,y:Xle,Y:Zle,Z:tue,"%":sO},P={a:K,A:Z,b:oe,B:ce,c:null,d:oO,e:oO,f:oue,g:mue,G:yue,H:nue,I:rue,j:iue,L:$L,m:sue,M:aue,p:Ie,q:Ke,Q:aO,s:lO,S:lue,u:uue,U:cue,V:fue,w:hue,W:due,x:null,X:null,y:pue,Y:gue,Z:vue,"%":sO},T={a:O,A:k,b:M,B:N,c:z,d:nO,e:nO,f:Dle,g:tO,G:eO,H:rO,I:rO,j:kle,L:Mle,m:Ole,M:Nle,p:I,q:Cle,Q:$le,s:Lle,S:Rle,u:Sle,U:Tle,V:Ale,w:Ele,W:Ile,x:B,X:q,y:tO,Y:eO,Z:Ple,"%":jle};x.x=A(n,x),x.X=A(r,x),x.c=A(e,x),P.x=A(n,P),P.X=A(r,P),P.c=A(e,P);function A(te,he){return function(pe){var Y=[],Be=-1,be=0,Je=te.length,ot,xt,$r;for(pe instanceof Date||(pe=new Date(+pe));++Be<Je;)te.charCodeAt(Be)===37&&(Y.push(te.slice(be,Be)),(xt=ZC[ot=te.charAt(++Be)])!=null?ot=te.charAt(++Be):xt=ot==="e"?" ":"0",($r=he[ot])&&(ot=$r(pe,xt)),Y.push(ot),be=Be+1);return Y.push(te.slice(be,Be)),Y.join("")}}function _(te,he){return function(pe){var Y=Uu(1900,void 0,1),Be=E(Y,te,pe+="",0),be,Je;if(Be!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(he&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(be=n0(Uu(Y.y,0,1)),Je=be.getUTCDay(),be=Je>4||Je===0?ym.ceil(be):ym(be),be=uy.offset(be,(Y.V-1)*7),Y.y=be.getUTCFullYear(),Y.m=be.getUTCMonth(),Y.d=be.getUTCDate()+(Y.w+6)%7):(be=t0(Uu(Y.y,0,1)),Je=be.getDay(),be=Je>4||Je===0?gm.ceil(be):gm(be),be=gh.offset(be,(Y.V-1)*7),Y.y=be.getFullYear(),Y.m=be.getMonth(),Y.d=be.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Je="Z"in Y?n0(Uu(Y.y,0,1)).getUTCDay():t0(Uu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Je+5)%7:Y.w+Y.U*7-(Je+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,n0(Y)):t0(Y)}}function E(te,he,pe,Y){for(var Be=0,be=he.length,Je=pe.length,ot,xt;Be<be;){if(Y>=Je)return-1;if(ot=he.charCodeAt(Be++),ot===37){if(ot=he.charAt(Be++),xt=T[ot in ZC?he.charAt(Be++):ot],!xt||(Y=xt(te,pe,Y))<0)return-1}else if(ot!=pe.charCodeAt(Y++))return-1}return Y}function I(te,he,pe){var Y=u.exec(he.slice(pe));return Y?(te.p=c.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function O(te,he,pe){var Y=p.exec(he.slice(pe));return Y?(te.w=m.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function k(te,he,pe){var Y=f.exec(he.slice(pe));return Y?(te.w=d.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function M(te,he,pe){var Y=b.exec(he.slice(pe));return Y?(te.m=w.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function N(te,he,pe){var Y=g.exec(he.slice(pe));return Y?(te.m=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function z(te,he,pe){return E(te,e,he,pe)}function B(te,he,pe){return E(te,n,he,pe)}function q(te,he,pe){return E(te,r,he,pe)}function U(te){return s[te.getDay()]}function j(te){return o[te.getDay()]}function L(te){return l[te.getMonth()]}function H(te){return a[te.getMonth()]}function Q(te){return i[+(te.getHours()>=12)]}function D(te){return 1+~~(te.getMonth()/3)}function K(te){return s[te.getUTCDay()]}function Z(te){return o[te.getUTCDay()]}function oe(te){return l[te.getUTCMonth()]}function ce(te){return a[te.getUTCMonth()]}function Ie(te){return i[+(te.getUTCHours()>=12)]}function Ke(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var he=A(te+="",x);return he.toString=function(){return te},he},parse:function(te){var he=_(te+="",!1);return he.toString=function(){return te},he},utcFormat:function(te){var he=A(te+="",P);return he.toString=function(){return te},he},utcParse:function(te){var he=_(te+="",!0);return he.toString=function(){return te},he}}}var ZC={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,wle=/^%/,ble=/[\\^$*+?|[\]().{}]/g;function je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xle(t){return t.replace(ble,"\\$&")}function Bu(t){return new RegExp("^(?:"+t.map(xle).join("|")+")","i")}function zu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ele(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Sle(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Tle(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ale(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ile(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eO(t,e,n){var r=Wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ple(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cle(t,e,n){var r=Wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ole(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kle(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rO(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nle(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rle(t,e,n){var r=Wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mle(t,e,n){var r=Wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Dle(t,e,n){var r=Wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jle(t,e,n){var r=wle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $le(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lle(t,e,n){var r=Wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iO(t,e){return je(t.getDate(),e,2)}function Fle(t,e){return je(t.getHours(),e,2)}function Vle(t,e){return je(t.getHours()%12||12,e,2)}function Ule(t,e){return je(1+gh.count(Fi(t),t),e,3)}function DL(t,e){return je(t.getMilliseconds(),e,3)}function Ble(t,e){return DL(t,e)+"000"}function zle(t,e){return je(t.getMonth()+1,e,2)}function Wle(t,e){return je(t.getMinutes(),e,2)}function Hle(t,e){return je(t.getSeconds(),e,2)}function Gle(t){var e=t.getDay();return e===0?7:e}function qle(t,e){return je(cy.count(Fi(t)-1,t),e,2)}function jL(t){var e=t.getDay();return e>=4||e===0?Sl(t):Sl.ceil(t)}function Kle(t,e){return t=jL(t),je(Sl.count(Fi(t),t)+(Fi(t).getDay()===4),e,2)}function Yle(t){return t.getDay()}function Qle(t,e){return je(gm.count(Fi(t)-1,t),e,2)}function Xle(t,e){return je(t.getFullYear()%100,e,2)}function Jle(t,e){return t=jL(t),je(t.getFullYear()%100,e,2)}function Zle(t,e){return je(t.getFullYear()%1e4,e,4)}function eue(t,e){var n=t.getDay();return t=n>=4||n===0?Sl(t):Sl.ceil(t),je(t.getFullYear()%1e4,e,4)}function tue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+je(e/60|0,"0",2)+je(e%60,"0",2)}function oO(t,e){return je(t.getUTCDate(),e,2)}function nue(t,e){return je(t.getUTCHours(),e,2)}function rue(t,e){return je(t.getUTCHours()%12||12,e,2)}function iue(t,e){return je(1+uy.count(Vi(t),t),e,3)}function $L(t,e){return je(t.getUTCMilliseconds(),e,3)}function oue(t,e){return $L(t,e)+"000"}function sue(t,e){return je(t.getUTCMonth()+1,e,2)}function aue(t,e){return je(t.getUTCMinutes(),e,2)}function lue(t,e){return je(t.getUTCSeconds(),e,2)}function uue(t){var e=t.getUTCDay();return e===0?7:e}function cue(t,e){return je(fy.count(Vi(t)-1,t),e,2)}function LL(t){var e=t.getUTCDay();return e>=4||e===0?Tl(t):Tl.ceil(t)}function fue(t,e){return t=LL(t),je(Tl.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function hue(t){return t.getUTCDay()}function due(t,e){return je(ym.count(Vi(t)-1,t),e,2)}function pue(t,e){return je(t.getUTCFullYear()%100,e,2)}function mue(t,e){return t=LL(t),je(t.getUTCFullYear()%100,e,2)}function gue(t,e){return je(t.getUTCFullYear()%1e4,e,4)}function yue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tl(t):Tl.ceil(t),je(t.getUTCFullYear()%1e4,e,4)}function vue(){return"+0000"}function sO(){return"%"}function aO(t){return+t}function lO(t){return Math.floor(+t/1e3)}var da,FL,VL;_ue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _ue(t){return da=_le(t),FL=da.format,da.parse,VL=da.utcFormat,da.utcParse,da}function wue(t){return new Date(t)}function bue(t){return t instanceof Date?+t:+new Date(+t)}function FE(t,e,n,r,i,o,s,a,l,u){var c=TE(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),x=u("%B"),P=u("%Y");function T(A){return(l(A)<A?p:a(A)<A?m:s(A)<A?g:o(A)<A?v:r(A)<A?i(A)<A?b:w:n(A)<A?x:P)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,bue)):d().map(wue)},c.ticks=function(A){var _=d();return t(_[0],_[_.length-1],A??10)},c.tickFormat=function(A,_){return _==null?T:u(_)},c.nice=function(A){var _=d();return(!A||typeof A.range!="function")&&(A=e(_[0],_[_.length-1],A??10)),A?d(AL(_,A)):c},c.copy=function(){return mh(c,FE(t,e,n,r,i,o,s,a,l,u))},c}function xue(){return pr.apply(FE(yle,vle,Fi,$E,cy,gh,DE,RE,ys,FL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eue(){return pr.apply(FE(mle,gle,Vi,LE,fy,uy,jE,ME,ys,VL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var t=0,e=1,n,r,i,o,s=bn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,s=f(p,m),u):[s(0),s(1)]}}return u.range=c(au),u.rangeRound=c(SE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UL(){var t=Wo(hy()(bn));return t.copy=function(){return Ho(t,UL())},qi.apply(t,arguments)}function BL(){var t=PE(hy()).domain([1,10]);return t.copy=function(){return Ho(t,BL()).base(t.base())},qi.apply(t,arguments)}function zL(){var t=CE(hy());return t.copy=function(){return Ho(t,zL()).constant(t.constant())},qi.apply(t,arguments)}function VE(){var t=OE(hy());return t.copy=function(){return Ho(t,VE()).exponent(t.exponent())},qi.apply(t,arguments)}function Sue(){return VE.apply(null,arguments).exponent(.5)}function WL(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((dh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Io),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cae(t,o/r))},n.copy=function(){return WL(e).domain(t)},qi.apply(n,arguments)}function dy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=bn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var b,w,x;return arguments.length?([b,w,x]=v,u=jae(g,[b,w,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(au),p.rangeRound=m(SE),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function HL(){var t=Wo(dy()(bn));return t.copy=function(){return Ho(t,HL())},qi.apply(t,arguments)}function GL(){var t=PE(dy()).domain([.1,1,10]);return t.copy=function(){return Ho(t,GL()).base(t.base())},qi.apply(t,arguments)}function qL(){var t=CE(dy());return t.copy=function(){return Ho(t,qL()).constant(t.constant())},qi.apply(t,arguments)}function UE(){var t=OE(dy());return t.copy=function(){return Ho(t,UE()).exponent(t.exponent())},qi.apply(t,arguments)}function Tue(){return UE.apply(null,arguments).exponent(.5)}const uO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pf,scaleDiverging:HL,scaleDivergingLog:GL,scaleDivergingPow:UE,scaleDivergingSqrt:Tue,scaleDivergingSymlog:qL,scaleIdentity:TL,scaleImplicit:Ew,scaleLinear:pm,scaleLog:IL,scaleOrdinal:bE,scalePoint:xc,scalePow:kE,scaleQuantile:OL,scaleQuantize:kL,scaleRadial:CL,scaleSequential:UL,scaleSequentialLog:BL,scaleSequentialPow:VE,scaleSequentialQuantile:WL,scaleSequentialSqrt:Sue,scaleSequentialSymlog:zL,scaleSqrt:ole,scaleSymlog:PL,scaleThreshold:NL,scaleTime:xue,scaleUtc:Eue,tickFormat:SL},Symbol.toStringTag,{value:"Module"}));var Aue=Zl;function Iue(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Aue(s):n(s,a)))var a=s,l=o}return l}var KL=Iue;function Pue(t,e){return t>e}var Cue=Pue,Oue=KL,kue=Cue,Nue=su;function Rue(t){return t&&t.length?Oue(t,Nue,kue):void 0}var Mue=Rue;const py=qe(Mue);function Due(t,e){return t<e}var jue=Due,$ue=KL,Lue=jue,Fue=su;function Vue(t){return t&&t.length?$ue(t,Fue,Lue):void 0}var Uue=Vue;const my=qe(Uue);var Bue=tE,zue=zo,Wue=nL,Hue=$n;function Gue(t,e){var n=Hue(t)?Bue:Wue;return n(t,zue(e))}var que=Gue,Kue=eL,Yue=que;function Que(t,e){return Kue(Yue(t,e),1)}var Xue=Que;const Jue=qe(Xue);var Zue=gE;function ece(t,e){return Zue(t,e)}var tce=ece;const gy=qe(tce);var lu=1e9,nce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zE,ut=!0,hr="[DecimalError] ",As=hr+"Invalid argument: ",BE=hr+"Exponent out of range: ",uu=Math.floor,ss=Math.pow,rce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wn,Ft=1e7,rt=7,YL=9007199254740991,vm=uu(YL/rt),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Ii(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return He(Ii(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return At(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Wn)?new r(0):(ut=!1,e=Ii(_f(n,o),_f(t,o),o),ut=!0,He(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JL(e,t):QL(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(ut=!1,e=Ii(n,t,0,1).times(t),ut=!0,n.minus(e)):He(new r(n),i)};ae.naturalExponential=ae.exp=function(){return XL(this)};ae.naturalLogarithm=ae.ln=function(){return _f(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QL(e,t):JL(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(As+t);if(e=At(i)+1,r=i.d.length-1,n=r*rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=At(a),ut=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ii(a,o,s+2)).times(.5),zr(o.d).slice(0,s)===(e=zr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(He(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ut=!0,He(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%Ft|0,e=a/Ft|0;o[i]=(o[i]+e)%Ft|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?He(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,lu),e===void 0?e=r.rounding:ti(e,0,8),He(n,t+At(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zs(r,!0):(ti(t,0,lu),e===void 0?e=i.rounding:ti(e,0,8),r=He(new i(r),t+1,e),n=zs(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?zs(i):(ti(t,0,lu),e===void 0?e=o.rounding:ti(e,0,8),r=He(new o(i),t+At(i)+1,e),n=zs(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return He(new e(t),At(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Wn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Wn))return a;if(r=l.precision,t.eq(Wn))return He(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=YL){for(i=new l(Wn),e=Math.ceil(r/rt+4),ut=!1;n%2&&(i=i.times(a),fO(i.d,e)),n=uu(n/2),n!==0;)a=a.times(a),fO(a.d,e);return ut=!0,t.s<0?new l(Wn).div(i):He(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ut=!1,i=t.times(_f(a,r+u)),ut=!0,i=XL(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=zs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ti(t,1,lu),e===void 0?e=o.rounding:ti(e,0,8),i=He(new o(i),t,e),n=At(i),r=zs(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,lu),e===void 0?e=r.rounding:ti(e,0,8)),He(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return zs(t,e<=n.toExpNeg||e>=n.toExpPos)};function QL(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ut?He(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/rt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ft|0,l[o]%=Ft;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ut?He(e,f):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(As+t)}function zr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=rt-r.length,n&&(o+=to(n)),o+=r;s=t[e],r=s+"",n=rt-r.length,n&&(o+=to(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ii=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ft|0,s=o/Ft|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,m,g,v,b,w,x,P,T,A,_,E,I=r.constructor,O=r.s==i.s?1:-1,k=r.d,M=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,_=M.length,T=k.length,p=new I(O),m=p.d=[],u=0;M[u]==(k[u]||0);)++u;if(M[u]>(k[u]||0)&&--l,o==null?w=o=I.precision:s?w=o+(At(r)-At(i))+1:w=o,w<0)return new I(0);if(w=w/rt+2|0,u=0,_==1)for(c=0,M=M[0],w++;(u<T||c)&&w--;u++)x=c*Ft+(k[u]||0),m[u]=x/M|0,c=x%M|0;else{for(c=Ft/(M[0]+1)|0,c>1&&(M=t(M,c),k=t(k,c),_=M.length,T=k.length),P=_,g=k.slice(0,_),v=g.length;v<_;)g[v++]=0;E=M.slice(),E.unshift(0),A=M[0],M[1]>=Ft/2&&++A;do c=0,a=e(M,g,_,v),a<0?(b=g[0],_!=v&&(b=b*Ft+(g[1]||0)),c=b/A|0,c>1?(c>=Ft&&(c=Ft-1),f=t(M,c),d=f.length,v=g.length,a=e(f,g,d,v),a==1&&(c--,n(f,_<d?E:M,d))):(c==0&&(a=c=1),f=M.slice()),d=f.length,d<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(M,g,_,v),a<1&&(c++,n(g,_<v?E:M,v))),v=g.length):a===0&&(c++,g=[0]),m[u++]=c,a&&g[0]?g[v++]=k[P]||0:(g=[k[P]],v=1);while((P++<T||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,He(p,s?o+At(p)+1:o)}}();function XL(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(BE+At(t));if(!t.s)return new c(Wn);for(e==null?(ut=!1,a=f):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ss(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Wn),c.precision=a;;){if(i=He(i.times(t),a),n=n.times(++l),s=o.plus(Ii(i,n,a)),zr(s.d).slice(0,a)===zr(o.d).slice(0,a)){for(;u--;)o=He(o.times(o),a);return c.precision=f,e==null?(ut=!0,He(o,f)):o}o=s}}function At(t){for(var e=t.e*rt,n=t.d[0];n>=10;n/=10)e++;return e}function r0(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function _f(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(hr+(p.s?"NaN":"-Infinity"));if(p.eq(Wn))return new g(0);if(e==null?(ut=!1,u=v):u=e,p.eq(10))return e==null&&(ut=!0),r0(g,u);if(u+=d,g.precision=u,n=zr(m),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=r0(g,u+2,v).times(o+""),p=_f(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=v,e==null?(ut=!0,He(p,v)):p;for(a=s=p=Ii(p.minus(Wn),p.plus(Wn),u),c=He(p.times(p),u),i=3;;){if(s=He(s.times(c),u),l=a.plus(Ii(s,new g(i),u)),zr(l.d).slice(0,u)===zr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(r0(g,u+2,v).times(o+""))),a=Ii(a,new g(f),u),g.precision=v,e==null?(ut=!0,He(a,v)):a;a=l,i+=2}}function cO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=uu(n/rt),t.d=[],r=(n+1)%rt,n<0&&(r+=rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=rt;r<i;)t.d.push(+e.slice(r,r+=rt));e=e.slice(r),r=rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>vm||t.e<-vm))throw Error(BE+n)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=rt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/rt),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=rt,i=r-rt+s}if(n!==void 0&&(o=ss(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ss(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=At(t),f.length=1,e=e-o-1,f[0]=ss(10,(rt-e%rt)%rt),t.e=uu(-e/rt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ss(10,rt-r),f[c]=i>0?(u/ss(10,s-i)%ss(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ft&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ft)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>vm||t.e<-vm))throw Error(BE+At(t));return t}function JL(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ut?He(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/rt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ft-1;--l[o],l[i]+=Ft}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?He(e,p):e):new d(0)}function zs(t,e,n){var r,i=At(t),o=zr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+to(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+to(-i-1)+o,n&&(r=n-s)>0&&(o+=to(r))):i>=s?(o+=to(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+to(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=to(r))),t.s<0?"-"+o:o}function fO(t,e){if(t.length>e)return t.length=e,!0}function ZL(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(As+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return cO(s,o.toString())}else if(typeof o!="string")throw Error(As+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,rce.test(o))cO(s,o);else throw Error(As+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZL,i.config=i.set=ice,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ice(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,lu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(uu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(As+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(As+n+": "+r);return this}var zE=ZL(nce);Wn=new zE(1);const ze=zE;function oce(t){return uce(t)||lce(t)||ace(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function lce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uce(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cce=function(e){return e},eF={"@@functional/placeholder":!0},tF=function(e){return e===eF},hO=function(e){return function n(){return arguments.length===0||arguments.length===1&&tF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},fce=function t(e,n){return e===1?n:hO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==eF}).length;return s>=e?n.apply(void 0,i):t(e-s,hO(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return tF(f)?l.shift():f});return n.apply(void 0,oce(c).concat(l))}))})},yy=function(e){return fce(e.length,e)},Pw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},hce=yy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cce;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function pce(t){var e;return t===0?e=1:e=Math.floor(new ze(t).abs().log(10).toNumber())+1,e}function mce(t,e,n){for(var r=new ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var gce=yy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yce=yy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vce=yy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vy={rangeStep:mce,getDigitCount:pce,interpolateNumber:gce,uninterpolateNumber:yce,uninterpolateTruncation:vce};function Ow(t){return bce(t)||wce(t)||rF(t)||_ce()}function _ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bce(t){if(Array.isArray(t))return kw(t)}function wf(t,e){return Sce(t)||Ece(t,e)||rF(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ece(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Sce(t){if(Array.isArray(t))return t}function iF(t){var e=wf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function oF(t,e,n){if(t.lte(0))return new ze(0);var r=vy.getDigitCount(t.toNumber()),i=new ze(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new ze(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new ze(Math.ceil(l))}function Tce(t,e,n){var r=1,i=new ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ze(10).pow(vy.getDigitCount(t)-1),i=new ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ze(Math.floor(t)))}else t===0?i=new ze(Math.floor((e-1)/2)):n||(i=new ze(Math.floor(t)));var s=Math.floor((e-1)/2),a=dce(hce(function(l){return i.add(new ze(l-s).mul(r)).toNumber()}),Pw);return a(0,e)}function sF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=oF(new ze(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ze(0):(s=new ze(t).add(e).div(2),s=s.sub(new ze(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new ze(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?sF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new ze(a).mul(o)),tickMax:s.add(new ze(l).mul(o))})}function Ace(t){var e=wf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=iF([n,r]),l=wf(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Ow(Pw(0,i-1).map(function(){return 1/0}))):[].concat(Ow(Pw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Cw(f):f}if(u===c)return Tce(u,i,o);var d=sF(u,c,s,o),p=d.step,m=d.tickMin,g=d.tickMax,v=vy.rangeStep(m,g.add(new ze(.1).mul(p)),p);return n>r?Cw(v):v}function Ice(t,e){var n=wf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iF([r,i]),a=wf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=oF(new ze(u).sub(l).div(c-1),o,0),d=[].concat(Ow(vy.rangeStep(new ze(l),new ze(u).sub(new ze(.99).mul(f)),f)),[u]);return r>i?Cw(d):d}var Pce=nF(Ace),Cce=nF(Ice),Oce=!0,i0="Invariant failed";function Ws(t,e){if(!t){if(Oce)throw new Error(i0);var n=typeof e=="function"?e():e,r=n?"".concat(i0,": ").concat(n):i0;throw new Error(r)}}var kce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function Nce(t,e){return jce(t)||Dce(t,e)||Mce(t,e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mce(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jce(t){if(Array.isArray(t))return t}function $ce(t,e){if(t==null)return{};var n=Lce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uF(r.key),r)}}function Vce(t,e,n){return e&&pO(t.prototype,e),n&&pO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uce(t,e,n){return e=wm(e),Bce(t,aF()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Bce(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(t)}function zce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function Wce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function lF(t,e,n){return e=uF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t){var e=Hce(t,"string");return Al(e)=="symbol"?e:e+""}function Hce(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yh=function(t){function e(){return Fce(this,e),Uce(this,e,arguments)}return Wce(e,t),Vce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=$ce(r,kce),p=Oe(d,!1);this.props.direction==="x"&&c.type!=="number"&&Ws(!1);var m=l.map(function(g){var v=u(g,a),b=v.x,w=v.y,x=v.value,P=v.errorVal;if(!P)return null;var T=[],A,_;if(Array.isArray(P)){var E=Nce(P,2);A=E[0],_=E[1]}else A=_=P;if(o==="vertical"){var I=c.scale,O=w+i,k=O+s,M=O-s,N=I(x-A),z=I(x+_);T.push({x1:z,y1:k,x2:z,y2:M}),T.push({x1:N,y1:O,x2:z,y2:O}),T.push({x1:N,y1:k,x2:N,y2:M})}else if(o==="horizontal"){var B=f.scale,q=b+i,U=q-s,j=q+s,L=B(x-A),H=B(x+_);T.push({x1:U,y1:H,x2:j,y2:H}),T.push({x1:q,y1:L,x2:q,y2:H}),T.push({x1:U,y1:L,x2:j,y2:L})}return $.createElement(bt,_m({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),T.map(function(Q){return $.createElement("line",_m({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return $.createElement(bt,{className:"recharts-errorBars"},m)}}])}($.Component);lF(yh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lF(yh,"displayName","ErrorBar");function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return e=qce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=Kce(t,"string");return bf(e)=="symbol"?e:e+""}function Kce(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Bn(n,Ss);if(!s)return null;var a=Ss.defaultProps,l=a!==void 0?Zo(Zo({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:s.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Zo(Zo({},d),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:l.iconType||v||"square",color:WE(f),value:g||m,payload:p}}),Zo(Zo(Zo({},l),Ss.getWithHeight(s,i)),{},{payload:u,item:s})};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function gO(t){return Jce(t)||Xce(t)||Qce(t)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jce(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ja(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=efe(t,"string");return xf(e)=="symbol"?e:e+""}function efe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return Te(t)||Te(e)?n:Mt(e)?lr(t,e,n):we(e)?e(t):n}function Ec(t,e,n,r){var i=Jue(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return ie(a)||parseFloat(a)});return o.length?[my(o),py(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Te(a)}):i;return s.map(function(a){return Mt(a)||a instanceof Date?a:""})}var tfe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Cr(f-c)!==Cr(d-f)){var m=[];if(Cr(d-f)===Cr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=d+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var w=Math.min(c,d),x=Math.max(c,d);if(e>(w+f)/2&&e<=(x+f)/2){s=i[u].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},WE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},nfe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,v=m.cateAxisId,b=g.filter(function(_){return Si(_.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,x=w!==void 0?gt(gt({},w),b[0].props):b[0].props,P=x.barSize,T=x[v];s[T]||(s[T]=[]);var A=Te(P)?n:P;s[T].push({item:b[0],stackList:b.slice(1),barSize:Te(A)?void 0:Bs(A,r,0)})}}return s},rfe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Bs(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,m=s.reduce(function(P,T){return P+T.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};c=s.reduce(function(P,T){var A={item:T.item,position:{offset:v.offset+v.size+u,size:d?p:T.barSize}},_=[].concat(gO(P),[A]);return v=_[_.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){_.push({item:E,position:v})}),_},f)}else{var b=Bs(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var w=(i-2*b-(l-1)*u)/l;w>1&&(w>>=0);var x=a===+a?Math.min(w,a):w;c=s.reduce(function(P,T,A){var _=[].concat(gO(P),[{item:T.item,position:{offset:b+(w+u)*A+(w-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return c},ife=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=cF({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ie(e[p]))return gt(gt({},e),{},Ja({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ie(e[m]))return gt(gt({},e),{},Ja({},m,e[m]+(d||0)))}return e},ofe=function(e,n,r){return Te(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fF=function(e,n,r,i,o){var s=n.props.children,a=ur(s,yh).filter(function(u){return ofe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Yn(c,r);if(Te(f))return u;var d=Array.isArray(f)?[my(f),py(f)]:[f,f],p=l.reduce(function(m,g){var v=Yn(c,g,0),b=d[0]-Math.abs(Array.isArray(v)?v[0]:v),w=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},sfe=function(e,n,r,i,o){var s=n.map(function(a){return fF(e,a,r,o,i)}).filter(function(a){return!Te(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},hF=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&fF(e,l,u,i)||Ec(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},dF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},wi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Cr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!ch(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},o0=new WeakMap,gd=function(e,n){if(typeof n!="function")return e;o0.has(e)||o0.set(e,new WeakMap);var r=o0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},afe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:pf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:pm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xc(),realScaleType:"point"}:o==="category"?{scale:pf(),realScaleType:"band"}:{scale:pm(),realScaleType:"linear"};if(Us(i)){var l="scale".concat(ty(i));return{scale:(uO[l]||xc)(),realScaleType:uO[l]?l:"point"}}return we(i)?{scale:i}:{scale:xc(),realScaleType:"point"}},vO=1e-4,lfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-vO,s=Math.max(i[0],i[1])+vO,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},ufe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},cfe=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ffe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=ch(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},hfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ch(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},dfe={sign:ffe,expand:OX,none:vl,silhouette:kX,wiggle:NX,positive:hfe},pfe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=dfe[r],s=CX().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(iw).offset(o);return s(e)},mfe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?gt(gt({},d.type.defaultProps),d.props):d.props,g=m.stackId,v=m.hide;if(v)return f;var b=m[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(Mt(g)){var x=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),w.hasStack=!0,w.stackGroups[g]=x}else w.stackGroups[fh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return gt(gt({},f),{},Ja({},b,w))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return gt(gt({},g),{},Ja({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:pfe(e,b.items,o)}))},m)}return gt(gt({},f),{},Ja({},d,p))},c)},gfe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Pce(u,o,a);return e.domain([my(c),py(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Cce(f,o,a);return{niceTicks:d}}return null};function _O(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Te(i[e.dataKey])){var a=Hp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,Te(s)?e.dataKey:s);return Te(l)?null:e.scale(l)}var wO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return Te(l)?null:n.scale(l)-o/2+i},yfe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},vfe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Mt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},_fe=function(e){return e.reduce(function(n,r){return[my(r.concat([n[0]]).filter(ie)),py(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},mF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=_fe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mw=function(e,n,r){if(we(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bO.test(e[0])){var o=+bO.exec(e[0])[1];i[0]=n[0]-o}else we(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xO.test(e[1])){var s=+xO.exec(e[1])[1];i[1]=n[1]+s}else we(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},bm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},EO=function(e,n,r){return!e||!e.length||gy(e,lr(r,"type.defaultProps.domain"))?n:e},gF=function(e,n){var r=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return gt(gt({},Oe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:WE(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=xfe(t,"string");return Ef(e)=="symbol"?e:e+""}function xfe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xm=Math.PI/180,Efe=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-xm*i)*r,y:n+Math.sin(-xm*i)*r}},Sfe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Tfe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Sfe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Efe(u),angleInRadian:u}},Afe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ife=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},AO=function(e,n){var r=e.x,i=e.y,o=Tfe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Afe(n),f=c.startAngle,d=c.endAngle,p=a,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?TO(TO({},n),{},{radius:s,angle:Ife(p,n)}):null};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}var Pfe=["offset"];function Cfe(t){return Rfe(t)||Nfe(t)||kfe(t)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){if(t){if(typeof t=="string")return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}}function Nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rfe(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mfe(t,e){if(t==null)return{};var n=Dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jfe(t,e,n){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Lfe(t,"string");return Sf(e)=="symbol"?e:e+""}function Lfe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}var Ffe=function(e){var n=e.value,r=e.formatter,i=Te(e.children)?n:e.children;return we(r)?r(i):i},Vfe=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ufe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+d)/2,b=Vfe(p,m),w=b>=0?1:-1,x,P;i==="insideStart"?(x=p+w*s,P=g):i==="insideEnd"?(x=m-w*s,P=!g):i==="end"&&(x=m+w*s,P=g),P=b<=0?P:!P;var T=Xt(u,c,v,x),A=Xt(u,c,v,x+(P?1:-1)*359),_="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Te(e.id)?fh("recharts-radial-line-"):e.id;return $.createElement("text",Tf({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:E,d:_})),$.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Bfe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Xt(s,a,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Xt(s,a,v,d),w=b.x,x=b.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},zfe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var x={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ct(Ct({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Ct(Ct({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:a-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Ct(Ct({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:a+u+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Ct(Ct({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var _=r?{width:u,height:c}:{};return o==="insideLeft"?Ct({x:a+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?Ct({x:a+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideTop"?Ct({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},_):o==="insideBottom"?Ct({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?Ct({x:a+v,y:l+d,textAnchor:w,verticalAnchor:m},_):o==="insideTopRight"?Ct({x:a+u-v,y:l+d,textAnchor:b,verticalAnchor:m},_):o==="insideBottomLeft"?Ct({x:a+v,y:l+c-d,textAnchor:w,verticalAnchor:p},_):o==="insideBottomRight"?Ct({x:a+u-v,y:l+c-d,textAnchor:b,verticalAnchor:p},_):eu(o)&&(ie(o.x)||ms(o.x))&&(ie(o.y)||ms(o.y))?Ct({x:a+Bs(o.x,u),y:l+Bs(o.y,c),textAnchor:"end",verticalAnchor:"end"},_):Ct({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Wfe=function(e){return"cx"in e&&ie(e.cx)};function pn(t){var e=t.offset,n=e===void 0?5:e,r=Mfe(t,Pfe),i=Ct({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Te(a)&&Te(l)&&!V.isValidElement(u)&&!we(u))return null;if(V.isValidElement(u))return V.cloneElement(u,i);var p;if(we(u)){if(p=V.createElement(u,i),V.isValidElement(p))return p}else p=Ffe(i);var m=Wfe(o),g=Oe(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ufe(i,p,g);var v=m?Bfe(i):zfe(i);return $.createElement(am,Tf({className:Re("recharts-label",f)},g,v,{breakAll:d}),p)}pn.displayName="Label";var yF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ie(g)&&ie(v)){if(ie(f)&&ie(d))return{x:f,y:d,width:g,height:v};if(ie(p)&&ie(m))return{x:p,y:m,width:g,height:v}}return ie(f)&&ie(d)?{x:f,y:d,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},Hfe=function(e,n){return e?e===!0?$.createElement(pn,{key:"label-implicit",viewBox:n}):Mt(e)?$.createElement(pn,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===pn?V.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):we(e)?$.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):eu(e)?$.createElement(pn,Tf({viewBox:n},e,{key:"label-implicit"})):null:null},Gfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=yF(e),s=ur(i,pn).map(function(l,u){return V.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Hfe(e.label,n||o);return[a].concat(Cfe(s))};pn.parseViewBox=yF;pn.renderCallByParent=Gfe;function qfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Kfe=qfe;const Yfe=qe(Kfe);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var Qfe=["valueAccessor"],Xfe=["data","dataKey","clockWise","id","textBreakAll"];function Jfe(t){return nhe(t)||the(t)||ehe(t)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ehe(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function the(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nhe(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rhe(t,e,n){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ohe(t,"string");return Af(e)=="symbol"?e:e+""}function ohe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OO(t,e){if(t==null)return{};var n=she(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function she(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ahe=function(e){return Array.isArray(e.value)?Yfe(e.value):e.value};function Po(t){var e=t.valueAccessor,n=e===void 0?ahe:e,r=OO(t,Qfe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=OO(r,Xfe);return!i||!i.length?null:$.createElement(bt,{className:"recharts-label-list"},i.map(function(c,f){var d=Te(o)?n(c,f):Yn(c&&c.payload,o),p=Te(a)?{}:{id:"".concat(a,"-").concat(f)};return $.createElement(pn,Em({},Oe(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:pn.parseViewBox(Te(s)?c:CO(CO({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Po.displayName="LabelList";function lhe(t,e){return t?t===!0?$.createElement(Po,{key:"labelList-implicit",data:e}):$.isValidElement(t)||we(t)?$.createElement(Po,{key:"labelList-implicit",data:e,content:t}):eu(t)?$.createElement(Po,Em({data:e},t,{key:"labelList-implicit"})):null:null}function uhe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ur(r,Po).map(function(s,a){return V.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=lhe(t.label,e);return[o].concat(Jfe(i))}Po.renderCallByParent=uhe;function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return If(e)=="symbol"?e:e+""}function hhe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dhe=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},yd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/xm,d=u?o:o+s*f,p=Xt(n,r,c,d),m=Xt(n,r,i,d),g=u?o-s*f:o,v=Xt(n,r,c*Math.cos(f*xm),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},vF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=dhe(s,a),u=s+l,c=Xt(n,r,o,s),f=Xt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Xt(n,r,i,s),m=Xt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},phe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Cr(c-u),d=yd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,v=yd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,x=v.theta,P=l?Math.abs(u-c):Math.abs(u-c)-g-x;if(P<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=yd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=A.circleTangency,E=A.lineTangency,I=A.theta,O=yd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=O.circleTangency,M=O.lineTangency,N=O.theta,z=l?Math.abs(u-c):Math.abs(u-c)-I-N;if(z<0&&s===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},mhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_F=function(e){var n=NO(NO({},mhe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=Re("recharts-sector",d),m=s-o,g=Bs(a,m,0,!0),v;return g>0&&Math.abs(c-f)<360?v=phe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=vF({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),$.createElement("path",$w({},Oe(n,!0),{className:p,d:v,role:"img"}))};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return e=yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=vhe(t,"string");return Pf(e)=="symbol"?e:e+""}function vhe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO={curveBasisClosed:vX,curveBasisOpen:_X,curveBasis:yX,curveBumpX:rX,curveBumpY:iX,curveLinearClosed:wX,curveLinear:ry,curveMonotoneX:bX,curveMonotoneY:xX,curveNatural:EX,curveStep:SX,curveStepAfter:AX,curveStepBefore:TX},vd=function(e){return e.x===+e.x&&e.y===+e.y},Wu=function(e){return e.x},Hu=function(e){return e.y},_he=function(e,n){if(we(e))return e;var r="curve".concat(ty(e));return(r==="curveMonotone"||r==="curveBump")&&n?DO["".concat(r).concat(n==="vertical"?"Y":"X")]:DO[r]||ry},whe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=_he(r,a),f=u?o.filter(function(g){return vd(g)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(g){return vd(g)}):s,m=f.map(function(g,v){return MO(MO({},g),{},{base:p[v]})});return a==="vertical"?d=ld().y(Hu).x1(Wu).x0(function(g){return g.base.x}):d=ld().x(Wu).y1(Hu).y0(function(g){return g.base.y}),d.defined(vd).curve(c),d(m)}return a==="vertical"&&ie(s)?d=ld().y(Hu).x1(Wu).x0(s):ie(s)?d=ld().x(Wu).y1(Hu).y0(s):d=_$().x(Wu).y(Hu),d.defined(vd).curve(c),d(f)},Fw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?whe(e):i;return V.createElement("path",Lw({},Oe(e,!1),Gp(e),{className:Re("recharts-curve",n),d:s,ref:o}))},wF={exports:{}},bhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xhe=bhe,Ehe=xhe;function bF(){}function xF(){}xF.resetWarningCache=bF;var She=function(){function t(r,i,o,s,a,l){if(l!==Ehe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xF,resetWarningCache:bF};return n.PropTypes=n,n};wF.exports=She();var The=wF.exports;const Le=qe(The);var Ahe=Object.getOwnPropertyNames,Ihe=Object.getOwnPropertySymbols,Phe=Object.prototype.hasOwnProperty;function jO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function _d(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function $O(t){return Ahe(t).concat(Ihe(t))}var Che=Object.hasOwn||function(t,e){return Phe.call(t,e)};function ta(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ohe="__v",khe="__o",Nhe="_owner",LO=Object.getOwnPropertyDescriptor,FO=Object.keys;function Rhe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mhe(t,e){return ta(t.getTime(),e.getTime())}function Dhe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jhe(t,e){return t===e}function VO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var d=s.value,p=a.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var $he=ta;function Lhe(t,e,n){var r=FO(t),i=r.length;if(FO(e).length!==i)return!1;for(;i-- >0;)if(!EF(t,e,n,r[i]))return!1;return!0}function Gu(t,e,n){var r=$O(t),i=r.length;if($O(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!EF(t,e,n,o)||(s=LO(t,o),a=LO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Fhe(t,e){return ta(t.valueOf(),e.valueOf())}function Vhe(t,e){return t.source===e.source&&t.flags===e.flags}function UO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Uhe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bhe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EF(t,e,n,r){return(r===Nhe||r===khe||r===Ohe)&&(t.$$typeof||e.$$typeof)?!0:Che(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var zhe="[object Arguments]",Whe="[object Boolean]",Hhe="[object Date]",Ghe="[object Error]",qhe="[object Map]",Khe="[object Number]",Yhe="[object Object]",Qhe="[object RegExp]",Xhe="[object Set]",Jhe="[object String]",Zhe="[object URL]",ede=Array.isArray,BO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zO=Object.assign,tde=Object.prototype.toString.call.bind(Object.prototype.toString);function nde(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(m,g,v):b==="function"?i(m,g,v):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(m,g,v);if(ede(m))return e(m,g,v);if(BO!=null&&BO(m))return f(m,g,v);if(w===Date)return n(m,g,v);if(w===RegExp)return u(m,g,v);if(w===Map)return o(m,g,v);if(w===Set)return c(m,g,v);var x=tde(m);return x===Hhe?n(m,g,v):x===Qhe?u(m,g,v):x===qhe?o(m,g,v):x===Xhe?c(m,g,v):x===Yhe?typeof m.then!="function"&&typeof g.then!="function"&&a(m,g,v):x===Zhe?d(m,g,v):x===Ghe?r(m,g,v):x===zhe?a(m,g,v):x===Whe||x===Khe||x===Jhe?l(m,g,v):!1}}function rde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Gu:Rhe,areDatesEqual:Mhe,areErrorsEqual:Dhe,areFunctionsEqual:jhe,areMapsEqual:r?jO(VO,Gu):VO,areNumbersEqual:$he,areObjectsEqual:r?Gu:Lhe,arePrimitiveWrappersEqual:Fhe,areRegExpsEqual:Vhe,areSetsEqual:r?jO(UO,Gu):UO,areTypedArraysEqual:r?Gu:Uhe,areUrlsEqual:Bhe};if(n&&(i=zO({},i,n(i))),e){var o=_d(i.areArraysEqual),s=_d(i.areMapsEqual),a=_d(i.areObjectsEqual),l=_d(i.areSetsEqual);i=zO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function ide(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function ode(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var sde=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:function(){return ta}});Go({strict:!0,createInternalComparator:function(){return ta}});Go({circular:!0,createInternalComparator:function(){return ta}});Go({circular:!0,createInternalComparator:function(){return ta},strict:!0});function Go(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=rde(t),l=nde(a),u=r?r(l):ide(l);return ode({circular:n,comparator:l,createState:i,equals:u,strict:s})}function ade(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function WO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):ade(i)};requestAnimationFrame(r)}function Vw(t){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(t)}function lde(t){return hde(t)||fde(t)||cde(t)||ude()}function ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hde(t){if(Array.isArray(t))return t}function dde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=lde(s),l=a[0],u=a.slice(1);if(typeof l=="number"){WO(i.bind(null,u),l);return}i(l),WO(i.bind(null,u));return}Vw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e,n){return e=pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=mde(t,"string");return Cf(e)==="symbol"?e:String(e)}function mde(t,e){if(Cf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},yde=function(e){return e},vde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Sc=function(e,n){return Object.keys(n).reduce(function(r,i){return qO(qO({},r),{},SF({},i,e(i,n[i])))},{})},KO=function(e,n,r){return e.map(function(i){return"".concat(vde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _de(t,e){return xde(t)||bde(t,e)||TF(t,e)||wde()}function wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xde(t){if(Array.isArray(t))return t}function Ede(t){return Ade(t)||Tde(t)||TF(t)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TF(t,e){if(t){if(typeof t=="string")return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(t,e)}}function Tde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ade(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sm=1e-4,AF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},IF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},YO=function(e,n){return function(r){var i=AF(e,n);return IF(i,r)}},Ide=function(e,n){return function(r){var i=AF(e,n),o=[].concat(Ede(i.map(function(s,a){return s*a}).slice(1)),[0]);return IF(o,r)}},QO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=_de(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=YO(i,s),d=YO(o,a),p=Ide(i,s),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,x=w,P=0;P<8;++P){var T=f(x)-w,A=p(x);if(Math.abs(T-w)<Sm||A<Sm)return d(x);x=m(x-T/A)}return d(x)};return g.isStepper=!1,g},Pde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*a/1e3,v=d*a/1e3+c;return Math.abs(v-f)<Sm&&Math.abs(g)<Sm?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},Cde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QO(i);case"spring":return Pde();default:if(i.split("(")[0]==="cubic-bezier")return QO(i)}return typeof i=="function"?i:null};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function XO(t){return Nde(t)||kde(t)||PF(t)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nde(t){if(Array.isArray(t))return zw(t)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bw(t,e,n){return e=Rde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=Mde(t,"string");return Of(e)==="symbol"?e:String(e)}function Mde(t,e){if(Of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dde(t,e){return Lde(t)||$de(t,e)||PF(t,e)||jde()}function jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $de(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Lde(t){if(Array.isArray(t))return t}var Tm=function(e,n,r){return e+(n-e)*r},Ww=function(e){var n=e.from,r=e.to;return n!==r},Fde=function t(e,n,r){var i=Sc(function(o,s){if(Ww(s)){var a=e(s.from,s.to,s.velocity),l=Dde(a,2),u=l[0],c=l[1];return qt(qt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Sc(function(o,s){return Ww(s)?qt(qt({},s),{},{velocity:Tm(s.velocity,i[o].velocity,r),from:Tm(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Vde=function(t,e,n,r,i){var o=gde(t,e),s=o.reduce(function(v,b){return qt(qt({},v),{},Bw({},b,[t[b],e[b]]))},{}),a=o.reduce(function(v,b){return qt(qt({},v),{},Bw({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Sc(function(b,w){return w.from},a)},p=function(){return!Object.values(a).filter(Ww).length},m=function(b){u||(u=b);var w=b-u,x=w/n.dt;a=Fde(n,a,x),i(qt(qt(qt({},t),e),d())),u=b,p()||(l=requestAnimationFrame(f))},g=function(b){c||(c=b);var w=(b-c)/r,x=Sc(function(T,A){return Tm.apply(void 0,XO(A).concat([n(w)]))},s);if(i(qt(qt(qt({},t),e),x)),w<1)l=requestAnimationFrame(f);else{var P=Sc(function(T,A){return Tm.apply(void 0,XO(A).concat([n(1)]))},s);i(qt(qt(qt({},t),e),P))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var Ude=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bde(t,e){if(t==null)return{};var n=zde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s0(t){return qde(t)||Gde(t)||Hde(t)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}}function Gde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qde(t){if(Array.isArray(t))return Hw(t)}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){nc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nc(t,e,n){return e=CF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CF(r.key),r)}}function Yde(t,e,n){return e&&ek(t.prototype,e),n&&ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CF(t){var e=Qde(t,"string");return Il(e)==="symbol"?e:String(e)}function Qde(t,e){if(Il(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function Jde(t){var e=Zde();return function(){var r=Am(t),i;if(e){var o=Am(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qw(this,i)}}function qw(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kw(t)}function Kw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Am(t)}var _y=function(t){Xde(n,t);var e=Jde(n);function n(r,i){var o;Kde(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Kw(o)),o.changeStyle=o.changeStyle.bind(Kw(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),qw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},qw(o);o.state={style:l?nc({},l,u):u}}else o.state={style:{}};return o}return Yde(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:l?nc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(sde(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var v={style:l?nc({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(v)}this.runAnimation(vr(vr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Vde(s,a,Cde(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,v,b){if(b===0)return g;var w=v.duration,x=v.easing,P=x===void 0?"ease":x,T=v.style,A=v.properties,_=v.onAnimationEnd,E=b>0?s[b-1]:v,I=A||Object.keys(T);if(typeof P=="function"||P==="spring")return[].concat(s0(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:w,easing:P}),w]);var O=KO(I,w,P),k=vr(vr(vr({},E.style),T),{},{transition:O});return[].concat(s0(g),[k,w,_]).filter(yde)};return this.manager.start([l].concat(s0(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=dde());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=a?nc({},a,l):l,v=KO(Object.keys(g),s,u);m.start([c,o,vr(vr({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Bde(i,Ude),u=V.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,b=m.className,w=V.cloneElement(p,vr(vr({},l),{},{style:vr(vr({},v),c),className:b}));return w};return u===1?f(V.Children.only(o)):$.createElement("div",null,V.Children.map(o,function(d){return f(d)}))}}]),n}(V.PureComponent);_y.displayName="Animate";_y.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_y.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};const Pl=_y;function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(this,arguments)}function epe(t,e){return ipe(t)||rpe(t,e)||npe(t,e)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ipe(t){if(Array.isArray(t))return t}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return e=spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ape(t,"string");return kf(e)=="symbol"?e:e+""}function ape(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ik=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);c="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},lpe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},upe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HE=function(e){var n=rk(rk({},upe),e),r=V.useRef(),i=V.useState(-1),o=epe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Re("recharts-rectangle",p);return w?$.createElement(Pl,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(P){var T=P.width,A=P.height,_=P.x,E=P.y;return $.createElement(Pl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:m},$.createElement("path",Im({},Oe(n,!0),{className:x,d:ik(_,E,T,A,d),ref:r})))}):$.createElement("path",Im({},Oe(n,!0),{className:x,d:ik(l,u,c,f,d)}))};function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}var GE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Re("recharts-dot",o);return n===+n&&r===+r&&i===+i?V.createElement("circle",Yw({},Oe(e,!1),Gp(e),{className:s,cx:n,cy:r,r:i})):null};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}var cpe=["x","y","top","left","width","height","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e,n){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=ppe(t,"string");return Nf(e)=="symbol"?e:e+""}function ppe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mpe(t,e){if(t==null)return{};var n=gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ype=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},vpe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=mpe(e,cpe),v=fpe({x:r,y:o,top:a,left:u,width:f,height:p},g);return!ie(r)||!ie(o)||!ie(f)||!ie(p)||!ie(a)||!ie(u)?null:$.createElement("path",Qw({},Oe(v,!0),{className:Re("recharts-cross",m),d:ype(r,o,f,p,a,u)}))},_pe=z$,wpe=_pe(Object.getPrototypeOf,Object),bpe=wpe,xpe=Hi,Epe=bpe,Spe=Gi,Tpe="[object Object]",Ape=Function.prototype,Ipe=Object.prototype,OF=Ape.toString,Ppe=Ipe.hasOwnProperty,Cpe=OF.call(Object);function Ope(t){if(!Spe(t)||xpe(t)!=Tpe)return!1;var e=Epe(t);if(e===null)return!0;var n=Ppe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&OF.call(n)==Cpe}var kpe=Ope;const Npe=qe(kpe);var Rpe=Hi,Mpe=Gi,Dpe="[object Boolean]";function jpe(t){return t===!0||t===!1||Mpe(t)&&Rpe(t)==Dpe}var $pe=jpe;const Lpe=qe($pe);function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function Fpe(t,e){return zpe(t)||Bpe(t,e)||Upe(t,e)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return sk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sk(t,e)}}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function zpe(t){if(Array.isArray(t))return t}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wpe(t,e,n){return e=Hpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hpe(t){var e=Gpe(t,"string");return Rf(e)=="symbol"?e:e+""}function Gpe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uk=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},qpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kpe=function(e){var n=lk(lk({},qpe),e),r=V.useRef(),i=V.useState(-1),o=Fpe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var w=Re("recharts-trapezoid",p);return b?$.createElement(Pl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(x){var P=x.upperWidth,T=x.lowerWidth,A=x.height,_=x.x,E=x.y;return $.createElement(Pl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},$.createElement("path",Pm({},Oe(n,!0),{className:w,d:uk(_,E,P,T,A),ref:r})))}):$.createElement("g",null,$.createElement("path",Pm({},Oe(n,!0),{className:w,d:uk(l,u,c,f,d)})))},Ype=["option","shapeType","propTransformer","activeClassName","isActive"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Qpe(t,e){if(t==null)return{};var n=Xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eme(t,"string");return Mf(e)=="symbol"?e:e+""}function eme(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){return Cm(Cm({},e),t)}function nme(t,e){return t==="symbols"}function fk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(HE,n);case"trapezoid":return $.createElement(Kpe,n);case"sector":return $.createElement(_F,n);case"symbols":if(nme(e))return $.createElement(cE,n);break;default:return null}}function rme(t){return V.isValidElement(t)?t.props:t}function ime(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?tme:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Qpe(t,Ype),u;if(V.isValidElement(e))u=V.cloneElement(e,Cm(Cm({},l),rme(e)));else if(we(e))u=e(l);else if(Npe(e)&&!Lpe(e)){var c=i(e,l);u=$.createElement(fk,{shapeType:n,elementProps:c})}else{var f=l;u=$.createElement(fk,{shapeType:n,elementProps:f})}return a?$.createElement(bt,{className:s},u):u}function wy(t,e){return e!=null&&"trapezoids"in t.props}function by(t,e){return e!=null&&"sectors"in t.props}function Df(t,e){return e!=null&&"points"in t.props}function ome(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function sme(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ame(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function lme(t,e){var n;return wy(t,e)?n=ome:by(t,e)?n=sme:Df(t,e)&&(n=ame),n}function ume(t,e){var n;return wy(t,e)?n="trapezoids":by(t,e)?n="sectors":Df(t,e)&&(n="points"),n}function cme(t,e){if(wy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(by(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Df(t,e)?e.payload:{}}function fme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ume(n,e),o=cme(n,e),s=r.filter(function(l,u){var c=gy(o,l),f=n.props[i].filter(function(m){var g=lme(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var hme=Math.ceil,dme=Math.max;function pme(t,e,n,r){for(var i=-1,o=dme(hme((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var mme=pme,gme=lL,hk=1/0,yme=17976931348623157e292;function vme(t){if(!t)return t===0?t:0;if(t=gme(t),t===hk||t===-hk){var e=t<0?-1:1;return e*yme}return t===t?t:0}var kF=vme,_me=mme,wme=ay,a0=kF;function bme(t){return function(e,n,r){return r&&typeof r!="number"&&wme(e,n,r)&&(n=r=void 0),e=a0(e),n===void 0?(n=e,e=0):n=a0(n),r=r===void 0?e<n?1:-1:a0(r),_me(e,n,r,t)}}var xme=bme,Eme=xme,Sme=Eme(),Tme=Sme;const Om=qe(Tme);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){NF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NF(t,e,n){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ame(t){var e=Ime(t,"string");return jf(e)=="symbol"?e:e+""}function Ime(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pme=["Webkit","Moz","O","ms"],Cme=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Pme.reduce(function(o,s){return pk(pk({},o),{},NF({},s+r,n))},{});return i[e]=n,i};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},km.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MF(r.key),r)}}function kme(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,n){return e=Nm(e),Rme(t,RF()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(t)}function Mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Vn(t,e,n){return e=MF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MF(t){var e=jme(t,"string");return Cl(e)=="symbol"?e:e+""}function jme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $me=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xc().domain(Om(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},yk=function(e){return e.changedTouches&&!!e.changedTouches.length},Ol=function(t){function e(n){var r;return Ome(this,e),r=Nme(this,e,[n]),Vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vn(r,"handleSlideDragStart",function(i){var o=yk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dme(e,t),kme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return we(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-a,u+c-f-s):g<0&&(g=Math.max(g,u-s,u-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==d||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=yk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+d-p-u):w<0&&(w=Math.max(w,f-u)),b[s]=u+w;var x=this.getIndex(b),P=x.startIndex,T=x.endIndex,A=function(){var E=v.length-1;return s==="startX"&&(a>l?P%g===0:T%g===0)||a<l&&T===E||s==="endX"&&(a>l?T%g===0:P%g===0)||a>l&&T===E};this.setState(Vn(Vn({},s,u+w),"brushMoveStartX",r.pageX),function(){m&&A()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Vn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=V.Children.only(u);return f?$.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),w=l0(l0({},Oe(this.props,!1)),{},{x:b,y:u,width:c,height:f}),x=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return $.createElement(bt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),a.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return $.createElement(bt,{className:"recharts-brush-texts"},$.createElement(am,km({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},m),this.getTextOfTick(i)),$.createElement(am,km({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,v=d.isSlideMoving,b=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!ie(a)||!ie(l)||!ie(u)||!ie(c)||u<=0||c<=0)return null;var x=Re("recharts-brush",o),P=$.Children.count(s)===1,T=Cme("userSelect","none");return $.createElement(bt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):we(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return l0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?$me({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(V.PureComponent);Vn(Ol,"displayName","Brush");Vn(Ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lme=yE;function Fme(t,e){var n;return Lme(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Vme=Fme,Ume=D$,Bme=zo,zme=Vme,Wme=$n,Hme=ay;function Gme(t,e,n){var r=Wme(t)?Ume:zme;return n&&Hme(t,e,n)&&(e=void 0),r(t,Bme(e))}var qme=Gme;const Kme=qe(qme);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},vk=rL;function Yme(t,e,n){e=="__proto__"&&vk?vk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qme=Yme,Xme=Qme,Jme=tL,Zme=zo;function ege(t,e){var n={};return e=Zme(e),Jme(t,function(r,i,o){Xme(n,i,e(r,i,o))}),n}var tge=ege;const nge=qe(tge);function rge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ige=rge,oge=yE;function sge(t,e){var n=!0;return oge(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var age=sge,lge=ige,uge=age,cge=zo,fge=$n,hge=ay;function dge(t,e,n){var r=fge(t)?lge:uge;return n&&hge(t,e,n)&&(e=void 0),r(t,cge(e))}var pge=dge;const DF=qe(pge);var mge=["x","y"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return $f(e)=="symbol"?e:e+""}function vge(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t,e){if(t==null)return{};var n=wge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bge(t,e){var n=t.x,r=t.y,i=_ge(t,mge),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return qu(qu(qu(qu(qu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function wk(t){return $.createElement(ime,Jw({shapeType:"rectangle",propTransformer:bge,activeClassName:"recharts-active-bar"},t))}var xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||BY(r);return o?e(r,i):(o||Ws(!1),n)}},Ege=["value","background"],jF;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Sge(t,e){if(t==null)return{};var n=Tge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LF(r.key),r)}}function Ige(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,n){return e=Mm(e),Cge(t,$F()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function Cge(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(t)}function Oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function ho(t,e,n){return e=LF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LF(t){var e=Nge(t,"string");return kl(e)=="symbol"?e:e+""}function Nge(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vh=function(t){function e(){var n;Age(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pge(this,e,[].concat(i)),ho(n,"state",{isAnimationFinished:!1}),ho(n,"id",fh("recharts-bar-")),ho(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ho(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return kge(e,t),Ige(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:s,g=St(St(St({},c),f),{},{isActive:p,option:m,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(bt,Rm({className:"recharts-bar-rectangle"},qp(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),$.createElement(wk,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return $.createElement(Pl,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(v,b){var w=d&&d[b];if(w){var x=Sr(w.x,v.x),P=Sr(w.y,v.y),T=Sr(w.width,v.width),A=Sr(w.height,v.height);return St(St({},v),{},{x:x(m),y:P(m),width:T(m),height:A(m)})}if(s==="horizontal"){var _=Sr(0,v.height),E=_(m);return St(St({},v),{},{y:v.y+v.height-E,height:E})}var I=Sr(0,v.width),O=I(m);return St(St({},v),{},{width:O})});return $.createElement(bt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!gy(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Oe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=Sge(u,Ege);if(!f)return null;var p=St(St(St(St(St({},d),{},{fill:"#eee"},f),l),qp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(wk,Rm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ur(c,yh);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Yn(v,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(bt,m,f.map(function(g){return $.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Re("recharts-bar",s),w=a&&a.allowDataOverflow,x=l&&l.allowDataOverflow,P=w||x,T=Te(g)?this.id:g;return $.createElement(bt,{className:b},w||x?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:w?u:u-f/2,y:x?c:c-d/2,width:w?f:f*2,height:x?d:d*2}))):null,$.createElement(bt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,T),(!p||v)&&Po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(V.PureComponent);jF=vh;ho(vh,"displayName","Bar");ho(vh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(vh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=ufe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?St(St({},g),n.props):n.props,b=v.dataKey,w=v.children,x=v.minPointSize,P=m==="horizontal"?s:o,T=u?P.scale.domain():null,A=yfe({numericAxis:P}),_=ur(w,cL),E=f.map(function(I,O){var k,M,N,z,B,q;u?k=cfe(u[c+O],T):(k=Yn(I,b),Array.isArray(k)||(k=[A,k]));var U=xge(x,jF.defaultProps.minPointSize)(k[1],O);if(m==="horizontal"){var j,L=[s.scale(k[0]),s.scale(k[1])],H=L[0],Q=L[1];M=wO({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:I,index:O}),N=(j=Q??H)!==null&&j!==void 0?j:void 0,z=p.size;var D=H-Q;if(B=Number.isNaN(D)?0:D,q={x:M,y:s.y,width:z,height:s.height},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var K=Cr(B||U)*(Math.abs(U)-Math.abs(B));N-=K,B+=K}}else{var Z=[o.scale(k[0]),o.scale(k[1])],oe=Z[0],ce=Z[1];if(M=oe,N=wO({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:I,index:O}),z=ce-oe,B=p.size,q={x:o.x,y:N,width:o.width,height:B},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var Ie=Cr(z||U)*(Math.abs(U)-Math.abs(z));z+=Ie}}return St(St(St({},I),{},{x:M,y:N,width:z,height:B,value:u?k:k[1],payload:I,background:q},_&&_[O]&&_[O].props),{},{tooltipPayload:[gF(n,I)],tooltipPosition:{x:M+z/2,y:N+B/2}})});return St({data:E,layout:m},d)});function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FF(r.key),r)}}function Mge(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xy(t,e,n){return e=FF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FF(t){var e=Dge(t,"string");return Lf(e)=="symbol"?e:e+""}function Dge(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jge=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!Bn(u,vh);return c.reduce(function(p,m){var g=n[m],v=g.orientation,b=g.domain,w=g.padding,x=w===void 0?{}:w,P=g.mirror,T=g.reversed,A="".concat(v).concat(P?"Mirror":""),_,E,I,O,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=b[1]-b[0],N=1/0,z=g.categoricalDomain.sort(HY);if(z.forEach(function(Z,oe){oe>0&&(N=Math.min((Z||0)-(z[oe-1]||0),N))}),Number.isFinite(N)){var B=N/M,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=B*q/2),g.padding==="no-gap"){var U=Bs(e.barCategoryGap,B*q),j=B*q/2;_=j-U-(j-U)/q*U}}}i==="xAxis"?E=[r.left+(x.left||0)+(_||0),r.left+r.width-(x.right||0)-(_||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(_||0),r.top+r.height-(x.bottom||0)-(_||0)]:E=g.range,T&&(E=[E[1],E[0]]);var L=afe(g,o,d),H=L.scale,Q=L.realScaleType;H.domain(b).range(E),lfe(H);var D=gfe(H,br(br({},g),{},{realScaleType:Q}));i==="xAxis"?(k=v==="top"&&!P||v==="bottom"&&P,I=r.left,O=f[A]-k*g.height):i==="yAxis"&&(k=v==="left"&&!P||v==="right"&&P,I=f[A]-k*g.width,O=r.top);var K=br(br(br({},g),D),{},{realScaleType:Q,x:I,y:O,scale:H,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return K.bandSize=bm(K,D),!g.hide&&i==="xAxis"?f[A]+=(k?-1:1)*K.height:g.hide||(f[A]+=(k?-1:1)*K.width),br(br({},p),{},xy({},m,K))},{})},VF=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},$ge=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return VF({x:n,y:r},{x:i,y:o})},UF=function(){function t(e){Rge(this,t),this.scale=e}return Mge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();xy(UF,"EPS",1e-4);var qE=function(e){var n=Object.keys(e).reduce(function(r,i){return br(br({},r),{},xy({},i,UF.create(e[i])))},{});return br(br({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return nge(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return DF(i,function(o,s){return n[s].isInRange(o)})}})};function Lge(t){return(t%180+180)%180}var Fge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Lge(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Vge=zo,Uge=hh,Bge=oy;function zge(t){return function(e,n,r){var i=Object(e);if(!Uge(e)){var o=Vge(n);e=Bge(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Wge=zge,Hge=kF;function Gge(t){var e=Hge(t),n=e%1;return e===e?n?e-n:e:0}var qge=Gge,Kge=Y$,Yge=zo,Qge=qge,Xge=Math.max;function Jge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qge(n);return i<0&&(i=Xge(r+i,0)),Kge(t,Yge(e),i)}var Zge=Jge,eye=Wge,tye=Zge,nye=eye(tye),rye=nye;const iye=qe(rye);var oye=GK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KE=V.createContext(void 0),YE=V.createContext(void 0),BF=V.createContext(void 0),zF=V.createContext({}),WF=V.createContext(void 0),HF=V.createContext(0),GF=V.createContext(0),Tk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=oye(o);return $.createElement(KE.Provider,{value:r},$.createElement(YE.Provider,{value:i},$.createElement(zF.Provider,{value:o},$.createElement(BF.Provider,{value:c},$.createElement(WF.Provider,{value:s},$.createElement(HF.Provider,{value:u},$.createElement(GF.Provider,{value:l},a)))))))},sye=function(){return V.useContext(WF)},qF=function(e){var n=V.useContext(KE);n==null&&Ws(!1);var r=n[e];return r==null&&Ws(!1),r},aye=function(){var e=V.useContext(KE);return lo(e)},lye=function(){var e=V.useContext(YE),n=iye(e,function(r){return DF(r.domain,Number.isFinite)});return n||lo(e)},KF=function(e){var n=V.useContext(YE);n==null&&Ws(!1);var r=n[e];return r==null&&Ws(!1),r},uye=function(){var e=V.useContext(BF);return e},cye=function(){return V.useContext(zF)},QE=function(){return V.useContext(GF)},XE=function(){return V.useContext(HF)};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function fye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function hye(t,e,n){return e&&Ak(t.prototype,e),n&&Ak(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dye(t,e,n){return e=Dm(e),pye(t,YF()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function pye(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mye(t)}function mye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){JE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JE(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=yye(t,"string");return Nl(e)=="symbol"?e:e+""}function yye(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vye(t,e){return xye(t)||bye(t,e)||wye(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return Ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ck(t,e)}}function Ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xye(t){if(Array.isArray(t))return t}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}var Eye=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):we(e)?r=e(n):r=$.createElement("line",tb({},n,{className:"recharts-reference-line-line"})),r},Sye=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:s});if(Xr(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?v.reverse():v}if(n){var b=u.x,w=e.x.apply(b,{position:s});if(Xr(u,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:f+p},{x:w,y:f}];return a==="top"?x.reverse():x}if(i){var P=u.segment,T=P.map(function(A){return e.apply(A,{position:s})});return Xr(u,"discard")&&Kme(T,function(A){return!e.isInRange(A)})?null:T}return null};function Tye(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=sye(),c=qF(i),f=KF(o),d=uye();if(!u||!d)return null;Ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qE({x:c.scale,y:f.scale}),m=Mt(e),g=Mt(n),v=r&&r.length===2,b=Sye(p,m,g,v,d,t.position,c.orientation,f.orientation,t);if(!b)return null;var w=vye(b,2),x=w[0],P=x.x,T=x.y,A=w[1],_=A.x,E=A.y,I=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,O=Pk(Pk({clipPath:I},Oe(t,!0)),{},{x1:P,y1:T,x2:_,y2:E});return $.createElement(bt,{className:Re("recharts-reference-line",a)},Eye(s,O),pn.renderCallByParent(t,$ge({x1:P,y1:T,x2:_,y2:E})))}var ZE=function(t){function e(){return fye(this,e),dye(this,e,arguments)}return gye(e,t),hye(e,[{key:"render",value:function(){return $.createElement(Tye,this.props)}}])}($.Component);JE(ZE,"displayName","ReferenceLine");JE(ZE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JF(r.key),r)}}function Iye(t,e,n){return e&&Nk(t.prototype,e),n&&Nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pye(t,e,n){return e=jm(e),Cye(t,XF()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function Cye(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oye(t)}function Oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function Ey(t,e,n){return e=JF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t){var e=Nye(t,"string");return Rl(e)=="symbol"?e:e+""}function Nye(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rye=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=qE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!s.isInRange(a)?null:a},Sy=function(t){function e(){return Aye(this,e),Pye(this,e,arguments)}return kye(e,t),Iye(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Mt(i),c=Mt(o);if(Ti(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Rye(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,b=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=kk(kk({clipPath:b},Oe(this.props,!0)),{},{cx:d,cy:p});return $.createElement(bt,{className:Re("recharts-reference-dot",v)},e.renderDot(g,w),pn.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}($.Component);Ey(Sy,"displayName","ReferenceDot");Ey(Sy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ey(Sy,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):we(t)?n=t(e):n=$.createElement(GE,nb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eV(r.key),r)}}function Dye(t,e,n){return e&&Dk(t.prototype,e),n&&Dk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jye(t,e,n){return e=$m(e),$ye(t,ZF()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function $ye(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lye(t)}function Lye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZF=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function Fye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function Ty(t,e,n){return e=eV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eV(t){var e=Vye(t,"string");return Ml(e)=="symbol"?e:e+""}function Vye(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uye=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=qE({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Xr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:VF(p,m)},Ay=function(t){function e(){return Mye(this,e),jye(this,e,arguments)}return Fye(e,t),Dye(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(i),d=Mt(o),p=Mt(s),m=Mt(a),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var v=Uye(f,d,p,m,this.props);if(!v&&!g)return null;var b=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(bt,{className:Re("recharts-reference-area",l)},e.renderRect(g,Mk(Mk({clipPath:b},Oe(this.props,!0)),v)),pn.renderCallByParent(this.props,v))}}])}($.Component);Ty(Ay,"displayName","ReferenceArea");Ty(Ay,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ty(Ay,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):we(t)?n=t(e):n=$.createElement(HE,ib({},e,{className:"recharts-reference-area-rect"})),n});function tV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Bye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fge(r,n)}function zye(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Lm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Wye(t,e){return tV(t,e+1)}function Hye(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:tV(r,u)};var g=l,v,b=function(){return v===void 0&&(v=n(m,g)),v},w=m.coordinate,x=l===0||Lm(t,w,b,c,a);x||(l=0,c=s,u+=1),x&&(c=w+t*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gye(t,e,n){return e=qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t){var e=Kye(t,"string");return Ff(e)=="symbol"?e:e+""}function Kye(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yye(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===s-1){var v=t*(p.coordinate+t*g()/2-l);o[d]=p=un(un({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=un(un({},p),{},{tickCoord:p.coordinate});var b=Lm(t,p.tickCoord,g,a,l);b&&(l=p.tickCoord-t*(g()/2+i),o[d]=un(un({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Qye(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Lm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(w){var x=s[w],P,T=function(){return P===void 0&&(P=n(x,w)),P};if(w===0){var A=t*(x.coordinate-t*T()/2-l);s[w]=x=un(un({},x),{},{tickCoord:A<0?x.coordinate-A*t:x.coordinate})}else s[w]=x=un(un({},x),{},{tickCoord:x.coordinate});var _=Lm(t,x.tickCoord,T,l,u);_&&(l=x.tickCoord+t*(T()/2+i),s[w]=un(un({},x),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function eS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||Ai.isSsr)return Wye(i,typeof l=="number"&&ie(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",m=c&&p==="width"?bc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,P){var T=we(u)?u(x.value,P):x.value;return p==="width"?Bye(bc(T,{fontSize:e,letterSpacing:n}),m,f):bc(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,b=zye(o,v,p);return l==="equidistantPreserveStart"?Hye(v,b,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=Qye(v,b,g,i,s,l==="preserveStartEnd"):d=Yye(v,b,g,i,s),d.filter(function(w){return w.isShow}))}var Xye=["viewBox"],Jye=["viewBox"],Zye=["ticks"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u0(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rV(r.key),r)}}function nve(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rve(t,e,n){return e=Fm(e),ive(t,nV()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function ive(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(t)}function ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function tS(t,e,n){return e=rV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rV(t){var e=ave(t,"string");return Dl(e)=="symbol"?e:e+""}function ave(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cu=function(t){function e(n){var r;return tve(this,e),r=rve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return sve(e,t),nve(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=u0(r,Xye),a=this.props,l=a.viewBox,u=u0(a,Jye);return!Qa(o,l)||!Qa(s,u)||!Qa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,v,b,w,x=f?-1:1,P=r.tickSize||c,T=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=s+ +!f*l,g=v-x*P,w=g-x*d,b=T;break;case"left":g=v=r.coordinate,m=o+ +!f*a,p=m-x*P,b=p-x*d,w=T;break;case"right":g=v=r.coordinate,m=o+ +f*a,p=m+x*P,b=p+x*d,w=T;break;default:p=m=r.coordinate,v=s+ +f*l,g=v+x*P,w=g+x*d,b=T;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Pt(Pt(Pt({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Pt(Pt({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Pt(Pt({},f),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return $.createElement("line",Ma({},f,{className:Re("recharts-cartesian-axis-line",lr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,p=eS(Pt(Pt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),b=Oe(c,!1),w=Pt(Pt({},v),{},{fill:"none"},Oe(l,!1)),x=p.map(function(P,T){var A=s.getTickLineCoord(P),_=A.line,E=A.tick,I=Pt(Pt(Pt(Pt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),E),{},{index:T,payload:P,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(bt,Ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},qp(s.props,P,T)),l&&$.createElement("line",Ma({},w,_,{className:Re("recharts-cartesian-axis-tick-line",lr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(we(f)?f(P.value,T):P.value).concat(d||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=u0(f,Zye),m=d;return we(l)&&(m=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:$.createElement(bt,{className:Re("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Re(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,Pt(Pt({},i),{},{className:a})):we(r)?s=r(Pt(Pt({},i),{},{className:a})):s=$.createElement(am,Ma({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(V.Component);tS(cu,"displayName","CartesianAxis");tS(cu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lve=["x1","y1","x2","y2","key"],uve=["offset"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e,n){return e=fve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fve(t){var e=hve(t,"string");return Hs(e)=="symbol"?e:e+""}function hve(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function Vk(t,e){if(t==null)return{};var n=dve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pve=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iV(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(we(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=Vk(e,lve),u=Oe(l,!1);u.offset;var c=Vk(u,uve);n=$.createElement("line",vs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function mve(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return iV(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gve(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return iV(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function yve(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+s-d:c[p+1]-d;if(g<=0)return null;var v=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function vve(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+a-d:c[p+1]-d;if(g<=0)return null;var v=p%r.length;return $.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _ve=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return pF(eS(mn(mn(mn({},cu.defaultProps),r),{},{ticks:wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},wve=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return pF(eS(mn(mn(mn({},cu.defaultProps),r),{},{ticks:wi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},pa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oV(t){var e,n,r,i,o,s,a=QE(),l=XE(),u=cye(),c=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:pa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:pa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:pa.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,w=aye(),x=lye();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(f)||f!==+f||!ie(d)||d!==+d)return null;var P=c.verticalCoordinatesGenerator||_ve,T=c.horizontalCoordinatesGenerator||wve,A=c.horizontalPoints,_=c.verticalPoints;if((!A||!A.length)&&we(T)){var E=v&&v.length,I=T({yAxis:x?mn(mn({},x),{},{ticks:E?v:x.ticks}):void 0,width:a,height:l,offset:u},E?!0:g);Ti(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hs(I),"]")),Array.isArray(I)&&(A=I)}if((!_||!_.length)&&we(P)){var O=b&&b.length,k=P({xAxis:w?mn(mn({},w),{},{ticks:O?b:w.ticks}):void 0,width:a,height:l,offset:u},O?!0:g);Ti(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hs(k),"]")),Array.isArray(k)&&(_=k)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(pve,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(mve,vs({},c,{offset:u,horizontalPoints:A,xAxis:w,yAxis:x})),$.createElement(gve,vs({},c,{offset:u,verticalPoints:_,xAxis:w,yAxis:x})),$.createElement(yve,vs({},c,{horizontalPoints:A})),$.createElement(vve,vs({},c,{verticalPoints:_})))}oV.displayName="CartesianGrid";var bve=["type","layout","connectNulls","ref"],xve=["key"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Uk(t,e){if(t==null)return{};var n=Eve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ma(t){return Ive(t)||Ave(t)||Tve(t)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(t,e){if(t){if(typeof t=="string")return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function Ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ive(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aV(r.key),r)}}function Cve(t,e,n){return e&&zk(t.prototype,e),n&&zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ove(t,e,n){return e=Vm(e),kve(t,sV()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function kve(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nve(t)}function Nve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function Rve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function xr(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=Mve(t,"string");return jl(e)=="symbol"?e:e+""}function Mve(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _h=function(t){function e(){var n;Pve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ove(this,e,[].concat(i)),xr(n,"state",{isAnimationFinished:!0,totalLength:0}),xr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),xr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,d=a-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(ma(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(ma(e.repeat(l,c)),ma(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),xr(n,"id",fh("recharts-line-")),xr(n,"pathRef",function(s){n.mainCurve=s}),xr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),xr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Rve(e,t),Cve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ur(c,yh);if(!f)return null;var d=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Yn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(bt,p,f.map(function(m){return $.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=Oe(this.props,!1),d=Oe(l,!0),p=u.map(function(g,v){var b=Fn(Fn(Fn({key:"dot-".concat(v),r:3},f),d),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(bt,Tc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=Uk(a,bve),d=Fn(Fn(Fn({},Oe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return $.createElement(Fw,Tc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,b=this.state,w=b.prevPoints,x=b.totalLength;return $.createElement(Pl,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var T=P.t;if(w){var A=w.length/a.length,_=a.map(function(M,N){var z=Math.floor(N*A);if(w[z]){var B=w[z],q=Sr(B.x,M.x),U=Sr(B.y,M.y);return Fn(Fn({},M),{},{x:q(T),y:U(T)})}if(m){var j=Sr(g*2,M.x),L=Sr(v/2,M.y);return Fn(Fn({},M),{},{x:j(T),y:L(T)})}return Fn(Fn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(_,r,i)}var E=Sr(0,x),I=E(T),O;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});O=o.getStrokeDasharray(I,x,k)}else O=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(a,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!gy(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=a.length===1,x=Re("recharts-line",l),P=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,A=P||T,_=Te(v)?this.id:v,E=(r=Oe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=E.r,O=I===void 0?3:I,k=E.strokeWidth,M=k===void 0?2:k,N=eQ(s)?s:{},z=N.clipDot,B=z===void 0?!0:z,q=O*2+M;return $.createElement(bt,{className:x},P||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(_)},$.createElement("rect",{x:P?d:d-p/2,y:T?f:f-m/2,width:P?p:p*2,height:T?m:m*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(_)},$.createElement("rect",{x:d-q/2,y:f-q/2,width:p+q,height:m+q}))):null,!w&&this.renderCurve(A,_),this.renderErrorBar(A,_),(w||s)&&this.renderDots(A,B,_),(!g||b)&&Po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ma(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(ma(s),ma(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(we(r))o=r(i);else{var s=i.key,a=Uk(i,xve),l=Re("recharts-line-dot",typeof r!="boolean"?r.className:"");o=$.createElement(GE,Tc({key:s},a,{className:l}))}return o}}])}(V.PureComponent);xr(_h,"displayName","Line");xr(_h,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ai.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xr(_h,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Yn(d,s);return c==="horizontal"?{x:_O({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:Te(m)?null:r.scale(m),value:m,payload:d}:{x:Te(m)?null:n.scale(m),y:_O({axis:r,ticks:o,bandSize:a,entry:d,index:p}),value:m,payload:d}});return Fn({points:f,layout:c},u)});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function jve(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ve(t,e,n){return e=Um(e),Lve(t,lV()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Lve(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fve(t)}function Fve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Vve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function uV(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=Uve(t,"string");return $l(e)=="symbol"?e:e+""}function Uve(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function Bve(t){var e=t.xAxisId,n=QE(),r=XE(),i=qF(e);return i==null?null:V.createElement(cu,cb({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return wi(s,!0)}}))}var Iy=function(t){function e(){return Dve(this,e),$ve(this,e,arguments)}return Vve(e,t),jve(e,[{key:"render",value:function(){return V.createElement(Bve,this.props)}}])}(V.Component);uV(Iy,"displayName","XAxis");uV(Iy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function Wve(t,e,n){return e&&Hk(t.prototype,e),n&&Hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hve(t,e,n){return e=Bm(e),Gve(t,fV()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function Gve(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(t)}function qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function Kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function hV(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=Yve(t,"string");return Ll(e)=="symbol"?e:e+""}function Yve(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}var Qve=function(e){var n=e.yAxisId,r=QE(),i=XE(),o=KF(n);return o==null?null:V.createElement(cu,hb({},o,{className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return wi(a,!0)}}))},Py=function(t){function e(){return zve(this,e),Hve(this,e,arguments)}return Kve(e,t),Wve(e,[{key:"render",value:function(){return V.createElement(Qve,this.props)}}])}(V.Component);hV(Py,"displayName","YAxis");hV(Py,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Gk(t){return e0e(t)||Zve(t)||Jve(t)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(t,e){if(t){if(typeof t=="string")return db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(t,e)}}function Zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e0e(t){if(Array.isArray(t))return db(t)}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pb=function(e,n,r,i,o){var s=ur(e,ZE),a=ur(e,Sy),l=[].concat(Gk(s),Gk(a)),u=ur(e,Ay),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,v){if(v.props[c]===r&&Xr(v.props,"extendDomain")&&ie(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,v){if(v.props[c]===r&&Xr(v.props,"extendDomain")&&ie(v.props[p])&&ie(v.props[m])){var b=v.props[p],w=v.props[m];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,v){return ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},pV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,w,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,p),!0;case 6:return v.fn.call(v.context,c,f,d,p,m),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];v.fn.apply(v.context,w)}else{var P=v.length,T;for(x=0;x<P;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,f);break;case 4:v[x].fn.call(v[x].context,c,f,d);break;default:if(!w)for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];v[x].fn.apply(v[x].context,w)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],b=m.length;g<b;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(pV);var t0e=pV.exports;const n0e=qe(t0e);var c0=new n0e,f0="recharts.syncMouseEvents";function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function r0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mV(r.key),r)}}function i0e(t,e,n){return e&&qk(t.prototype,e),n&&qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h0(t,e,n){return e=mV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=o0e(t,"string");return Vf(e)=="symbol"?e:e+""}function o0e(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s0e=function(){function t(){r0e(this,t),h0(this,"activeIndex",0),h0(this,"coordinateList",[]),h0(this,"layout","horizontal")}return i0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function a0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function l0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xt(e,n,r,i),a=Xt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function u0e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Xt(a,l,u,f),p=Xt(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return gV(e);return[{x:r,y:i},{x:o,y:s}]}function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){c0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c0e(t,e,n){return e=f0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f0e(t){var e=h0e(t,"string");return Uf(e)=="symbol"?e:e+""}function h0e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Fw;if(d==="ScatterChart")m=s,g=vpe;else if(d==="BarChart")m=l0e(f,s,l,c),g=HE;else if(f==="radial"){var v=gV(s),b=v.cx,w=v.cy,x=v.radius,P=v.startAngle,T=v.endAngle;m={cx:b,cy:w,startAngle:P,endAngle:T,innerRadius:x,outerRadius:x},g=_F}else m={points:u0e(f,s,l)},g=Fw;var A=wd(wd(wd(wd({stroke:"#ccc",pointerEvents:"none"},l),m),Oe(p,!1)),{},{payload:a,payloadIndex:u,className:Re("recharts-tooltip-cursor",p.className)});return V.isValidElement(p)?V.cloneElement(p,A):V.createElement(g,A)}var p0e=["item"],m0e=["children","className","width","height","style","compact","title","desc"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}function Yk(t,e){return v0e(t)||y0e(t,e)||vV(t,e)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function v0e(t){if(Array.isArray(t))return t}function Qk(t,e){if(t==null)return{};var n=_0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_V(r.key),r)}}function b0e(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x0e(t,e,n){return e=zm(e),E0e(t,yV()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S0e(t)}function S0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function T0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function Vl(t){return P0e(t)||I0e(t)||vV(t)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(t,e){if(t){if(typeof t=="string")return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(t,e)}}function I0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P0e(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function de(t,e,n){return e=_V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _V(t){var e=C0e(t,"string");return Fl(e)=="symbol"?e:e+""}function C0e(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O0e={xAxis:["bottom","top"],yAxis:["left","right"]},k0e={width:"100%",height:"100%"},wV={x:0,y:0};function bd(t){return t}var N0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},R0e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return G(G(G({},i),Xt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return wV},Cy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Vl(a),Vl(u)):a},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function bV(t){return t==="number"?[0,"auto"]:void 0}var yb=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Cy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=Hp(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(Vl(l),[gF(u,d)]):l},[])},Zk=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=N0e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=tfe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=yb(e,n,c,f),p=R0e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},M0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=dF(c,o);return r.reduce(function(m,g){var v,b=g.type.defaultProps!==void 0?G(G({},g.type.defaultProps),g.props):g.props,w=b.type,x=b.dataKey,P=b.allowDataOverflow,T=b.allowDuplicatedCategory,A=b.scale,_=b.ticks,E=b.includeHidden,I=b[s];if(m[I])return m;var O=Cy(e.data,{graphicalItems:i.filter(function(D){var K,Z=s in D.props?D.props[s]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[s];return Z===I}),dataStartIndex:l,dataEndIndex:u}),k=O.length,M,N,z;a0e(b.domain,P,w)&&(M=Mw(b.domain,null,P),p&&(w==="number"||A!=="auto")&&(z=Ec(O,x,"category")));var B=bV(w);if(!M||M.length===0){var q,U=(q=b.domain)!==null&&q!==void 0?q:B;if(x){if(M=Ec(O,x,w),w==="category"&&p){var j=WY(M);T&&j?(N=M,M=Om(0,k)):T||(M=EO(U,M,g).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(Vl(D),[K])},[]))}else if(w==="category")T?M=M.filter(function(D){return D!==""&&!Te(D)}):M=EO(U,M,g).reduce(function(D,K){return D.indexOf(K)>=0||K===""||Te(K)?D:[].concat(Vl(D),[K])},[]);else if(w==="number"){var L=sfe(O,i.filter(function(D){var K,Z,oe=s in D.props?D.props[s]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[s],ce="hide"in D.props?D.props.hide:(Z=D.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return oe===I&&(E||!ce)}),x,o,c);L&&(M=L)}p&&(w==="number"||A!=="auto")&&(z=Ec(O,x,"category"))}else p?M=Om(0,k):a&&a[I]&&a[I].hasStack&&w==="number"?M=d==="expand"?[0,1]:mF(a[I].stackGroups,l,u):M=hF(O,i.filter(function(D){var K=s in D.props?D.props[s]:D.type.defaultProps[s],Z="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===I&&(E||!Z)}),w,c,!0);if(w==="number")M=pb(f,M,I,o,_),U&&(M=Mw(U,M,P));else if(w==="category"&&U){var H=U,Q=M.every(function(D){return H.indexOf(D)>=0});Q&&(M=H)}}return G(G({},m),{},de({},I,G(G({},b),{},{axisType:o,domain:M,categoricalDomain:z,duplicateDomain:N,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:p,layout:c})))},{})},D0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Cy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=dF(c,o),g=-1;return r.reduce(function(v,b){var w=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,x=w[s],P=bV("number");if(!v[x]){g++;var T;return m?T=Om(0,p):a&&a[x]&&a[x].hasStack?(T=mF(a[x].stackGroups,l,u),T=pb(f,T,x,o)):(T=Mw(P,hF(d,r.filter(function(A){var _,E,I=s in A.props?A.props[s]:(_=A.type.defaultProps)===null||_===void 0?void 0:_[s],O="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===x&&!O}),"number",c),i.defaultProps.allowDataOverflow),T=pb(f,T,x,o)),G(G({},v),{},de({},x,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:lr(O0e,"".concat(o,".").concat(g%2),null),domain:T,originalDomain:P,isCategorical:m,layout:c})))}return v},{})},j0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=ur(c,o),p={};return d&&d.length?p=M0e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=D0e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},$0e=function(e){var n=lo(e),r=wi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:bm(n,r)}},eN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Bn(n,Ol),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},L0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Si(n&&n.type);return r&&r.indexOf("Bar")>=0})},tN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Bn(f,Ol),m=Bn(f,Ss),g=Object.keys(l).reduce(function(T,A){var _=l[A],E=_.orientation;return!_.mirror&&!_.hide?G(G({},T),{},de({},E,T[E]+_.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(s).reduce(function(T,A){var _=s[A],E=_.orientation;return!_.mirror&&!_.hide?G(G({},T),{},de({},E,lr(T,"".concat(E))+_.height)):T},{top:d.top||0,bottom:d.bottom||0}),b=G(G({},v),g),w=b.bottom;p&&(b.bottom+=p.props.height||Ol.defaultProps.height),m&&n&&(b=ife(b,i,r,n));var x=u-b.left-b.right,P=c-b.top-b.bottom;return G(G({brushBottom:w},b),{},{width:Math.max(x,0),height:Math.max(P,0)})},V0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},U0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(b,w){var x=w.graphicalItems,P=w.stackGroups,T=w.offset,A=w.updateId,_=w.dataStartIndex,E=w.dataEndIndex,I=b.barSize,O=b.layout,k=b.barGap,M=b.barCategoryGap,N=b.maxBarSize,z=tN(O),B=z.numericAxisName,q=z.cateAxisName,U=L0e(x),j=[];return x.forEach(function(L,H){var Q=Cy(b.data,{graphicalItems:[L],dataStartIndex:_,dataEndIndex:E}),D=L.type.defaultProps!==void 0?G(G({},L.type.defaultProps),L.props):L.props,K=D.dataKey,Z=D.maxBarSize,oe=D["".concat(B,"Id")],ce=D["".concat(q,"Id")],Ie={},Ke=l.reduce(function(mr,Lr){var fu=w["".concat(Lr.axisType,"Map")],na=D["".concat(Lr.axisType,"Id")];fu&&fu[na]||Lr.axisType==="zAxis"||Ws(!1);var ra=fu[na];return G(G({},mr),{},de(de({},Lr.axisType,ra),"".concat(Lr.axisType,"Ticks"),wi(ra)))},Ie),te=Ke[q],he=Ke["".concat(q,"Ticks")],pe=P&&P[oe]&&P[oe].hasStack&&vfe(L,P[oe].stackGroups),Y=Si(L.type).indexOf("Bar")>=0,Be=bm(te,he),be=[],Je=U&&nfe({barSize:I,stackGroups:P,totalSize:V0e(Ke,q)});if(Y){var ot,xt,$r=Te(Z)?N:Z,ri=(ot=(xt=bm(te,he,!0))!==null&&xt!==void 0?xt:$r)!==null&&ot!==void 0?ot:0;be=rfe({barGap:k,barCategoryGap:M,bandSize:ri!==Be?ri:Be,sizeList:Je[ce],maxBarSize:$r}),ri!==Be&&(be=be.map(function(mr){return G(G({},mr),{},{position:G(G({},mr.position),{},{offset:mr.position.offset-ri/2})})}))}var qo=L&&L.type&&L.type.getComposedData;qo&&j.push({props:G(G({},qo(G(G({},Ke),{},{displayedData:Q,props:b,dataKey:K,item:L,bandSize:Be,barPosition:be,offset:T,stackedData:pe,layout:O,dataStartIndex:_,dataEndIndex:E}))),{},de(de(de({key:L.key||"item-".concat(H)},B,Ke[B]),q,Ke[q]),"animationId",A)),childIndex:rQ(L,b.children),item:L})}),j},p=function(b,w){var x=b.props,P=b.dataStartIndex,T=b.dataEndIndex,A=b.updateId;if(!hP({props:x}))return null;var _=x.children,E=x.layout,I=x.stackOffset,O=x.data,k=x.reverseStackOrder,M=tN(E),N=M.numericAxisName,z=M.cateAxisName,B=ur(_,r),q=mfe(O,B,"".concat(N,"Id"),"".concat(z,"Id"),I,k),U=l.reduce(function(D,K){var Z="".concat(K.axisType,"Map");return G(G({},D),{},de({},Z,j0e(x,G(G({},K),{},{graphicalItems:B,stackGroups:K.axisType===N&&q,dataStartIndex:P,dataEndIndex:T}))))},{}),j=F0e(G(G({},U),{},{props:x,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(D){U[D]=c(x,U[D],j,D.replace("Map",""),n)});var L=U["".concat(z,"Map")],H=$0e(L),Q=d(x,G(G({},U),{},{dataStartIndex:P,dataEndIndex:T,updateId:A,graphicalItems:B,stackGroups:q,offset:j}));return G(G({formattedGraphicalItems:Q,graphicalItems:B,offset:j,stackGroups:q},H),U)},m=function(v){function b(w){var x,P,T;return w0e(this,b),T=x0e(this,b,[w]),de(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(T,"accessibilityManager",new s0e),de(T,"handleLegendBBoxUpdate",function(A){if(A){var _=T.state,E=_.dataStartIndex,I=_.dataEndIndex,O=_.updateId;T.setState(G({legendBBox:A},p({props:T.props,dataStartIndex:E,dataEndIndex:I,updateId:O},G(G({},T.state),{},{legendBBox:A}))))}}),de(T,"handleReceiveSyncEvent",function(A,_,E){if(T.props.syncId===A){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(_)}}),de(T,"handleBrushChange",function(A){var _=A.startIndex,E=A.endIndex;if(_!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return G({dataStartIndex:_,dataEndIndex:E},p({props:T.props,dataStartIndex:_,dataEndIndex:E,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),de(T,"handleMouseEnter",function(A){var _=T.getMouseInfo(A);if(_){var E=G(G({},_),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseEnter;we(I)&&I(E,A)}}),de(T,"triggeredAfterMouseMove",function(A){var _=T.getMouseInfo(A),E=_?G(G({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseMove;we(I)&&I(E,A)}),de(T,"handleItemMouseEnter",function(A){T.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),de(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),de(T,"handleMouseMove",function(A){A.persist(),T.throttleTriggeredAfterMouseMove(A)}),de(T,"handleMouseLeave",function(A){T.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};T.setState(_),T.triggerSyncEvent(_);var E=T.props.onMouseLeave;we(E)&&E(_,A)}),de(T,"handleOuterEvent",function(A){var _=nQ(A),E=lr(T.props,"".concat(_));if(_&&we(E)){var I,O;/.*touch.*/i.test(_)?O=T.getMouseInfo(A.changedTouches[0]):O=T.getMouseInfo(A),E((I=O)!==null&&I!==void 0?I:{},A)}}),de(T,"handleClick",function(A){var _=T.getMouseInfo(A);if(_){var E=G(G({},_),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onClick;we(I)&&I(E,A)}}),de(T,"handleMouseDown",function(A){var _=T.props.onMouseDown;if(we(_)){var E=T.getMouseInfo(A);_(E,A)}}),de(T,"handleMouseUp",function(A){var _=T.props.onMouseUp;if(we(_)){var E=T.getMouseInfo(A);_(E,A)}}),de(T,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),de(T,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseDown(A.changedTouches[0])}),de(T,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseUp(A.changedTouches[0])}),de(T,"handleDoubleClick",function(A){var _=T.props.onDoubleClick;if(we(_)){var E=T.getMouseInfo(A);_(E,A)}}),de(T,"handleContextMenu",function(A){var _=T.props.onContextMenu;if(we(_)){var E=T.getMouseInfo(A);_(E,A)}}),de(T,"triggerSyncEvent",function(A){T.props.syncId!==void 0&&c0.emit(f0,T.props.syncId,A,T.eventEmitterSymbol)}),de(T,"applySyncEvent",function(A){var _=T.props,E=_.layout,I=_.syncMethod,O=T.state.updateId,k=A.dataStartIndex,M=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)T.setState(G({dataStartIndex:k,dataEndIndex:M},p({props:T.props,dataStartIndex:k,dataEndIndex:M,updateId:O},T.state)));else if(A.activeTooltipIndex!==void 0){var N=A.chartX,z=A.chartY,B=A.activeTooltipIndex,q=T.state,U=q.offset,j=q.tooltipTicks;if(!U)return;if(typeof I=="function")B=I(j,A);else if(I==="value"){B=-1;for(var L=0;L<j.length;L++)if(j[L].value===A.activeLabel){B=L;break}}var H=G(G({},U),{},{x:U.left,y:U.top}),Q=Math.min(N,H.x+H.width),D=Math.min(z,H.y+H.height),K=j[B]&&j[B].value,Z=yb(T.state,T.props.data,B),oe=j[B]?{x:E==="horizontal"?j[B].coordinate:Q,y:E==="horizontal"?D:j[B].coordinate}:wV;T.setState(G(G({},A),{},{activeLabel:K,activeCoordinate:oe,activePayload:Z,activeTooltipIndex:B}))}else T.setState(A)}),de(T,"renderCursor",function(A){var _,E=T.state,I=E.isTooltipActive,O=E.activeCoordinate,k=E.activePayload,M=E.offset,N=E.activeTooltipIndex,z=E.tooltipAxisBandSize,B=T.getTooltipEventType(),q=(_=A.props.active)!==null&&_!==void 0?_:I,U=T.props.layout,j=A.key||"_recharts-cursor";return $.createElement(d0e,{key:j,activeCoordinate:O,activePayload:k,activeTooltipIndex:N,chartName:n,element:A,isActive:q,layout:U,offset:M,tooltipAxisBandSize:z,tooltipEventType:B})}),de(T,"renderPolarAxis",function(A,_,E){var I=lr(A,"type.axisType"),O=lr(T.state,"".concat(I,"Map")),k=A.type.defaultProps,M=k!==void 0?G(G({},k),A.props):A.props,N=O&&O[M["".concat(I,"Id")]];return V.cloneElement(A,G(G({},N),{},{className:Re(I,N.className),key:A.key||"".concat(_,"-").concat(E),ticks:wi(N,!0)}))}),de(T,"renderPolarGrid",function(A){var _=A.props,E=_.radialLines,I=_.polarAngles,O=_.polarRadius,k=T.state,M=k.radiusAxisMap,N=k.angleAxisMap,z=lo(M),B=lo(N),q=B.cx,U=B.cy,j=B.innerRadius,L=B.outerRadius;return V.cloneElement(A,{polarAngles:Array.isArray(I)?I:wi(B,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(O)?O:wi(z,!0).map(function(H){return H.coordinate}),cx:q,cy:U,innerRadius:j,outerRadius:L,key:A.key||"polar-grid",radialLines:E})}),de(T,"renderLegend",function(){var A=T.state.formattedGraphicalItems,_=T.props,E=_.children,I=_.width,O=_.height,k=T.props.margin||{},M=I-(k.left||0)-(k.right||0),N=cF({children:E,formattedGraphicalItems:A,legendWidth:M,legendContent:u});if(!N)return null;var z=N.item,B=Qk(N,p0e);return V.cloneElement(z,G(G({},B),{},{chartWidth:I,chartHeight:O,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),de(T,"renderTooltip",function(){var A,_=T.props,E=_.children,I=_.accessibilityLayer,O=Bn(E,Ur);if(!O)return null;var k=T.state,M=k.isTooltipActive,N=k.activeCoordinate,z=k.activePayload,B=k.activeLabel,q=k.offset,U=(A=O.props.active)!==null&&A!==void 0?A:M;return V.cloneElement(O,{viewBox:G(G({},q),{},{x:q.left,y:q.top}),active:U,label:B,payload:U?z:[],coordinate:N,accessibilityLayer:I})}),de(T,"renderBrush",function(A){var _=T.props,E=_.margin,I=_.data,O=T.state,k=O.offset,M=O.dataStartIndex,N=O.dataEndIndex,z=O.updateId;return V.cloneElement(A,{key:A.key||"_recharts-brush",onChange:gd(T.handleBrushChange,A.props.onChange),data:I,x:ie(A.props.x)?A.props.x:k.left,y:ie(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:ie(A.props.width)?A.props.width:k.width,startIndex:M,endIndex:N,updateId:"brush-".concat(z)})}),de(T,"renderReferenceElement",function(A,_,E){if(!A)return null;var I=T,O=I.clipPathId,k=T.state,M=k.xAxisMap,N=k.yAxisMap,z=k.offset,B=A.type.defaultProps||{},q=A.props,U=q.xAxisId,j=U===void 0?B.xAxisId:U,L=q.yAxisId,H=L===void 0?B.yAxisId:L;return V.cloneElement(A,{key:A.key||"".concat(_,"-").concat(E),xAxis:M[j],yAxis:N[H],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:O})}),de(T,"renderActivePoints",function(A){var _=A.item,E=A.activePoint,I=A.basePoint,O=A.childIndex,k=A.isRange,M=[],N=_.props.key,z=_.item.type.defaultProps!==void 0?G(G({},_.item.type.defaultProps),_.item.props):_.item.props,B=z.activeDot,q=z.dataKey,U=G(G({index:O,dataKey:q,cx:E.x,cy:E.y,r:4,fill:WE(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Oe(B,!1)),Gp(B));return M.push(b.renderActiveDot(B,U,"".concat(N,"-activePoint-").concat(O))),I?M.push(b.renderActiveDot(B,G(G({},U),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(O))):k&&M.push(null),M}),de(T,"renderGraphicChild",function(A,_,E){var I=T.filterFormatItem(A,_,E);if(!I)return null;var O=T.getTooltipEventType(),k=T.state,M=k.isTooltipActive,N=k.tooltipAxis,z=k.activeTooltipIndex,B=k.activeLabel,q=T.props.children,U=Bn(q,Ur),j=I.props,L=j.points,H=j.isRange,Q=j.baseLine,D=I.item.type.defaultProps!==void 0?G(G({},I.item.type.defaultProps),I.item.props):I.item.props,K=D.activeDot,Z=D.hide,oe=D.activeBar,ce=D.activeShape,Ie=!!(!Z&&M&&U&&(K||oe||ce)),Ke={};O!=="axis"&&U&&U.props.trigger==="click"?Ke={onClick:gd(T.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(Ke={onMouseLeave:gd(T.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:gd(T.handleItemMouseEnter,A.props.onMouseEnter)});var te=V.cloneElement(A,G(G({},I.props),Ke));function he(Lr){return typeof N.dataKey=="function"?N.dataKey(Lr.payload):null}if(Ie)if(z>=0){var pe,Y;if(N.dataKey&&!N.allowDuplicatedCategory){var Be=typeof N.dataKey=="function"?he:"payload.".concat(N.dataKey.toString());pe=Hp(L,Be,B),Y=H&&Q&&Hp(Q,Be,B)}else pe=L==null?void 0:L[z],Y=H&&Q&&Q[z];if(ce||oe){var be=A.props.activeIndex!==void 0?A.props.activeIndex:z;return[V.cloneElement(A,G(G(G({},I.props),Ke),{},{activeIndex:be})),null,null]}if(!Te(pe))return[te].concat(Vl(T.renderActivePoints({item:I,activePoint:pe,basePoint:Y,childIndex:z,isRange:H})))}else{var Je,ot=(Je=T.getItemByXY(T.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:te},xt=ot.graphicalItem,$r=xt.item,ri=$r===void 0?A:$r,qo=xt.childIndex,mr=G(G(G({},I.props),Ke),{},{activeIndex:qo});return[V.cloneElement(ri,mr),null,null]}return H?[te,null,null]:[te,null]}),de(T,"renderCustomized",function(A,_,E){return V.cloneElement(A,G(G({key:"recharts-customized-".concat(E)},T.props),T.state))}),de(T,"renderMap",{CartesianGrid:{handler:bd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:bd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:bd},YAxis:{handler:bd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:fh("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=uL(T.triggeredAfterMouseMove,(P=w.throttleDelay)!==null&&P!==void 0?P:1e3/60),T.state={},T}return T0e(b,v),b0e(b,[{key:"componentDidMount",value:function(){var x,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,P=x.children,T=x.data,A=x.height,_=x.layout,E=Bn(P,Ur);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=yb(this.state,T,I,O),M=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+A)/2,z=_==="horizontal",B=z?{x:M,y:N}:{y:M,x:N},q=this.state.formattedGraphicalItems.find(function(j){var L=j.item;return L.type.name==="Scatter"});q&&(B=G(G({},B),q.props.points[I].tooltipPosition),k=q.props.points[I].tooltipPayload);var U={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:B};this.setState(U),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,A;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(x){Y_([Bn(x.children,Ur)],[Bn(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Bn(this.props.children,Ur);if(x&&typeof x.props.shared=="boolean"){var P=x.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var P=this.container,T=P.getBoundingClientRect(),A=Ise(T),_={chartX:Math.round(x.pageX-A.left),chartY:Math.round(x.pageY-A.top)},E=T.width/P.offsetWidth||1,I=this.inRange(_.chartX,_.chartY,E);if(!I)return null;var O=this.state,k=O.xAxisMap,M=O.yAxisMap,N=this.getTooltipEventType(),z=Zk(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&k&&M){var B=lo(k).scale,q=lo(M).scale,U=B&&B.invert?B.invert(_.chartX):null,j=q&&q.invert?q.invert(_.chartY):null;return G(G({},_),{},{xValue:U,yValue:j},z)}return z?G(G({},_),z):null}},{key:"inRange",value:function(x,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,_=x/T,E=P/T;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,O=_>=I.left&&_<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return O?{x:_,y:E}:null}var k=this.state,M=k.angleAxisMap,N=k.radiusAxisMap;if(M&&N){var z=lo(M);return AO({x:_,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,P=this.getTooltipEventType(),T=Bn(x,Ur),A={};T&&P==="axis"&&(T.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Gp(this.props,this.handleOuterEvent);return G(G({},_),A)}},{key:"addListener",value:function(){c0.on(f0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c0.removeListener(f0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,P,T){for(var A=this.state.formattedGraphicalItems,_=0,E=A.length;_<E;_++){var I=A[_];if(I.item===x||I.props.key===x.key||P===Si(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,P=this.state.offset,T=P.left,A=P.top,_=P.height,E=P.width;return $.createElement("defs",null,$.createElement("clipPath",{id:x},$.createElement("rect",{x:T,y:A,height:_,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(P,T){var A=Yk(T,2),_=A[0],E=A[1];return G(G({},P),{},de({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(P,T){var A=Yk(T,2),_=A[0],E=A[1];return G(G({},P),{},de({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(x){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(x){var P=this.state,T=P.formattedGraphicalItems,A=P.activeItem;if(T&&T.length)for(var _=0,E=T.length;_<E;_++){var I=T[_],O=I.props,k=I.item,M=k.type.defaultProps!==void 0?G(G({},k.type.defaultProps),k.props):k.props,N=Si(k.type);if(N==="Bar"){var z=(O.data||[]).find(function(j){return lpe(x,j)});if(z)return{graphicalItem:I,payload:z}}else if(N==="RadialBar"){var B=(O.data||[]).find(function(j){return AO(x,j)});if(B)return{graphicalItem:I,payload:B}}else if(wy(I,A)||by(I,A)||Df(I,A)){var q=fme({graphicalItem:I,activeTooltipItem:A,itemData:M.data}),U=M.activeIndex===void 0?q:M.activeIndex;return{graphicalItem:G(G({},I),{},{childIndex:U}),payload:Df(I,A)?M.data[q]:I.props.data[q]}}}return null}},{key:"render",value:function(){var x=this;if(!hP(this))return null;var P=this.props,T=P.children,A=P.className,_=P.width,E=P.height,I=P.style,O=P.compact,k=P.title,M=P.desc,N=Qk(P,m0e),z=Oe(N,!1);if(O)return $.createElement(Tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(X_,Da({},z,{width:_,height:E,title:k,desc:M}),this.renderClipPath(),pP(T,this.renderMap)));if(this.props.accessibilityLayer){var B,q;z.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,z.role=(q=this.props.role)!==null&&q!==void 0?q:"application",z.onKeyDown=function(j){x.accessibilityManager.keyboardEvent(j)},z.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return $.createElement(Tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Da({className:Re("recharts-wrapper",A),style:G({position:"relative",cursor:"default",width:_,height:E},I)},U,{ref:function(L){x.container=L}}),$.createElement(X_,Da({},z,{width:_,height:E,title:k,desc:M,style:k0e}),this.renderClipPath(),pP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(V.Component);de(m,"displayName",n),de(m,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),de(m,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,x=v.data,P=v.children,T=v.width,A=v.height,_=v.layout,E=v.stackOffset,I=v.margin,O=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var M=eN(v);return G(G(G({},M),{},{updateId:0},p(G(G({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:A,prevLayout:_,prevStackOffset:E,prevMargin:I,prevChildren:P})}if(w!==b.prevDataKey||x!==b.prevData||T!==b.prevWidth||A!==b.prevHeight||_!==b.prevLayout||E!==b.prevStackOffset||!Qa(I,b.prevMargin)){var N=eN(v),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=G(G({},Zk(b,x,_)),{},{updateId:b.updateId+1}),q=G(G(G({},N),z),B);return G(G(G({},q),p(G({props:v},q),b)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:A,prevLayout:_,prevStackOffset:E,prevMargin:I,prevChildren:P})}if(!Y_(P,b.prevChildren)){var U,j,L,H,Q=Bn(P,Ol),D=Q&&(U=(j=Q.props)===null||j===void 0?void 0:j.startIndex)!==null&&U!==void 0?U:O,K=Q&&(L=(H=Q.props)===null||H===void 0?void 0:H.endIndex)!==null&&L!==void 0?L:k,Z=D!==O||K!==k,oe=!Te(x),ce=oe&&!Z?b.updateId:b.updateId+1;return G(G({updateId:ce},p(G(G({props:v},b),{},{updateId:ce,dataStartIndex:D,dataEndIndex:K}),b)),{},{prevChildren:P,dataStartIndex:D,dataEndIndex:K})}return null}),de(m,"renderActiveDot",function(v,b,w){var x;return V.isValidElement(v)?x=V.cloneElement(v,b):we(v)?x=v(b):x=$.createElement(GE,b),$.createElement(bt,{className:"recharts-active-dot",key:w},x)});var g=V.forwardRef(function(b,w){return $.createElement(m,Da({},b,{ref:w}))});return g.displayName=m.displayName,g},B0e=U0e({chartName:"LineChart",GraphicalChild:_h,axisComponents:[{axisType:"xAxis",AxisComp:Iy},{axisType:"yAxis",AxisComp:Py}],formatAxisMap:jge});const z0e=({className:t=""})=>C.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[C.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),C.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),C.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),C.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),C.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),C.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),C.jsx("circle",{cx:"4",cy:"12",r:"2"}),C.jsx("circle",{cx:"12",cy:"10",r:"2"}),C.jsx("circle",{cx:"20",cy:"14",r:"2"})]}),nN=({className:t=""})=>C.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[C.jsx("circle",{cx:"12",cy:"8",r:"4"}),C.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),W0e=({className:t=""})=>C.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M1.5 12S5 5 12 5s10.5 7 10.5 7-3.5 7-10.5 7S1.5 12 1.5 12z"}),C.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Wm=({className:t=""})=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[C.jsx("circle",{cx:"12",cy:"12",r:"10"}),C.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),H0e=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[C.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),C.jsx("polyline",{points:"16 6 12 2 8 6"}),C.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),G0e=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[C.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),C.jsx("polyline",{points:"16 17 21 12 16 7"}),C.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),q0e=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[C.jsx("circle",{cx:"12",cy:"12",r:"5"}),C.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),C.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),C.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),C.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),C.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),C.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),C.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),C.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),K0e=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:C.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Y0e=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[C.jsx("path",{d:"M3 3v18h18"}),C.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),rN=({className:t=""})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:C.jsx("polyline",{points:"9 18 15 12 9 6"})}),vb=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"3 6 5 6 21 6"}),C.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),C.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),C.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Q0e=()=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function X0e({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return C.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),C.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:C.jsx(Q0e,{})})]}),C.jsx("div",{style:{width:"100%",height:300},children:C.jsx(wse,{children:C.jsxs(B0e,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[C.jsx(oV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),C.jsx(Iy,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),C.jsx(Py,{stroke:"#6b7280"}),C.jsx(Ur,{content:({active:i,payload:o,label:s})=>{if(!i||!(o!=null&&o.length))return null;const a=o[0].payload;return C.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Date:"})," ",a.date]}),a.team&&a.opponent&&C.jsxs("div",{children:[C.jsx("strong",{children:"Teams:"})," ",a.team," vs ",a.opponent]}),C.jsxs("div",{children:[C.jsxs("strong",{children:[n,":"]})," ",a.value]})]})}}),C.jsx(Ss,{wrapperStyle:{color:"#e2e8f0"}}),C.jsx(_h,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const st=({label:t,value:e,onClick:n,clickable:r})=>C.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""}`,onClick:r?n:void 0,children:[C.jsx("span",{className:"text-xs text-orange-500 mb-1",children:t}),C.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function J0e(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function Z0e({stats:t=[],onDeleteGame:e}){V.useState("");const[n,r]=V.useState(null),[i,o]=V.useState(""),[s,a]=V.useState(""),[l,u]=V.useState([]),[c,f]=V.useState(!0),[d,p]=V.useState(1),[m,g]=V.useState(null),[v,b]=V.useState(null),[w,x]=V.useState(!1),P=4,T=V.useMemo(()=>{const D=new Set;return(t||[]).forEach(K=>{K.opponent&&D.add(K.opponent.trim())}),Array.from(D)},[t]),A=V.useMemo(()=>i?T.filter(D=>D.toLowerCase().includes(i.toLowerCase())).slice(0,7):[],[T,i]),_=(t||[]).reduce((D,K)=>(D.points=(D.points||0)+(parseInt(K.points,10)||0),D.fg2m=(D.fg2m||0)+(parseInt(K.fg2m,10)||0),D.fg2a=(D.fg2a||0)+(parseInt(K.fg2a,10)||0),D.fg3m=(D.fg3m||0)+(parseInt(K.fg3m,10)||0),D.fg3a=(D.fg3a||0)+(parseInt(K.fg3a,10)||0),D.ftm=(D.ftm||0)+(parseInt(K.ftm,10)||0),D.fta=(D.fta||0)+(parseInt(K.fta,10)||0),D.rebounds=(D.rebounds||0)+(parseInt(K.rebounds,10)||0),D.assists=(D.assists||0)+(parseInt(K.assists,10)||0),D.steals=(D.steals||0)+(parseInt(K.steals,10)||0),D.blocks=(D.blocks||0)+(parseInt(K.blocks,10)||0),D.fouls=(D.fouls||0)+(parseInt(K.fouls,10)||0),D.turnovers=(D.turnovers||0)+(parseInt(K.turnovers,10)||0),D.gamesPlayed=(D.gamesPlayed||0)+1,D),{}),E=(_.fg2m||0)+(_.fg3m||0),I=(_.fg2a||0)+(_.fg3a||0),O=(D,K)=>!K||K===0?"0%":`${Math.round(D/K*100)}%`,k=(D,K)=>!K||K===0?D>0?`${D.toFixed(1)}`:"0.0":(D/K).toFixed(2),M=V.useMemo(()=>{let D=[...t||[]];return i&&(D=D.filter(K=>(K.opponent||"").toLowerCase().includes(i.toLowerCase()))),s&&(D=D.filter(K=>K.date===s)),D.sort((K,Z)=>K.timestamp<Z.timestamp?1:K.timestamp>Z.timestamp?-1:0),D},[t,i,s]),N=V.useMemo(()=>{const D=(d-1)*P;return M.slice(D,D+P)},[M,d]),z=Math.ceil(M.length/P),B=(D,K)=>{if(D==="gamesPlayed")r({statKey:D,statName:"Games Played per Age",data:J0e(t||[])});else{const Z=[...t||[]].sort((oe,ce)=>(oe.timestamp||0)-(ce.timestamp||0)).map(oe=>({value:D==="assistTurnoverRatio"?oe.turnovers?(oe.assists/oe.turnovers).toFixed(2):"0.00":oe[D]||0,date:new Date(oe.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:oe.teamName,opponent:oe.opponent}));r({statKey:D,statName:K,data:Z})}},q=D=>g(D),U=()=>{v&&(onDeleteTeam(v),b(null))},j=D=>{u(K=>K.includes(D)?K.filter(Z=>Z!==D):[...K,D])},L=D=>D==null||D===""?0:D,H=D=>{o(D.target.value),x(!0)},Q=D=>{o(D),x(!1)};return C.jsxs(C.Fragment,{children:[n&&C.jsx(X0e,{graphData:n,onClose:()=>r(null)}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsx("div",{className:"lg:col-span-1 space-y-6",children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),C.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[C.jsx(st,{label:"Games Played",value:_.gamesPlayed||0}),C.jsx(st,{label:"Points",value:_.points||0,clickable:!0,onClick:()=>B("points","Points")}),C.jsx(st,{label:"Rebounds",value:_.rebounds||0,clickable:!0,onClick:()=>B("rebounds","Rebounds")}),C.jsx(st,{label:"Assists",value:_.assists||0,clickable:!0,onClick:()=>B("assists","Assists")}),C.jsx(st,{label:"Steals",value:_.steals||0,clickable:!0,onClick:()=>B("steals","Steals")}),C.jsx(st,{label:"Blocks",value:_.blocks||0,clickable:!0,onClick:()=>B("blocks","Blocks")}),C.jsx(st,{label:"Fouls",value:_.fouls||0,clickable:!0,onClick:()=>B("fouls","Fouls")}),C.jsx(st,{label:"Turnovers",value:_.turnovers||0,clickable:!0,onClick:()=>B("turnovers","Turnovers")}),C.jsx(st,{label:"A/T Ratio",value:k(_.assists,_.turnovers)})]}),C.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),C.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),C.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[C.jsx(st,{label:"FG%",value:O(E,I)}),C.jsx(st,{label:"FT%",value:O(_.ftm,_.fta)}),C.jsx(st,{label:"2-Point %",value:O(_.fg2m,_.fg2a)}),C.jsx(st,{label:"3-Point %",value:O(_.fg3m,_.fg3a)})]})]})}),C.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4 cursor-pointer",onClick:()=>f(!c),children:[C.jsx("h2",{className:"text-2xl font-bold text-orange-500",children:"Game History"}),C.jsx(rN,{className:`${c?"rotate-90":""} text-black dark:text-white`})]}),c&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 relative",children:[C.jsxs("div",{className:"relative w-full sm:w-1/2",children:[C.jsx("input",{type:"text",placeholder:"Search by opponent...",value:i,onChange:H,onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),150),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full"}),w&&A.length>0&&C.jsx("ul",{className:"absolute left-0 z-10 mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded shadow-lg w-full max-h-44 overflow-y-auto",children:A.map(D=>C.jsx("li",{className:"p-2 hover:bg-orange-100 dark:hover:bg-orange-900 cursor-pointer text-black dark:text-white",onMouseDown:()=>Q(D),children:D},D))})]}),C.jsx("div",{className:"relative w-full sm:w-1/2",children:C.jsx("input",{type:"date",value:s,onChange:D=>a(D.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full"})})]}),C.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:N.length>0?N.map(D=>{const K=l.includes(D.id);return C.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[C.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>j(D.id),children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(rN,{className:`transition-transform duration-200 text-black dark:text-white ${K?"rotate-90":""}`,style:{minWidth:20}}),C.jsxs("div",{children:[C.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:new Date(D.timestamp).toLocaleString()}),C.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[D.teamName," vs ",D.opponent]}),C.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:D.adminName?`${D.adminName}`:""})]})]}),C.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[C.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${D.outcome==="W"?"bg-green-100 text-green-800":D.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[D.outcome||"T"," ",L(D.myTeamScore),"-",L(D.opponentScore)]}),C.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:Z=>{Z.stopPropagation(),q(D.id)},title:"Delete Game",children:C.jsx(vb,{})})]})]}),K&&C.jsx("div",{className:"p-4 pt-2 relative",children:C.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[C.jsx(st,{label:"Points",value:L(D.points)}),C.jsx(st,{label:"2-Point Made/Att",value:`${L(D.fg2m)}/${L(D.fg2a)}`}),C.jsx(st,{label:"3-Point Made/Att",value:`${L(D.fg3m)}/${L(D.fg3a)}`}),C.jsx(st,{label:"FT Made/Att",value:`${L(D.ftm)}/${L(D.fta)}`}),C.jsx(st,{label:"Rebounds",value:L(D.rebounds)}),C.jsx(st,{label:"Assists",value:L(D.assists)}),C.jsx(st,{label:"Steals",value:L(D.steals)}),C.jsx(st,{label:"Blocks",value:L(D.blocks)}),C.jsx(st,{label:"Fouls",value:L(D.fouls)}),C.jsx(st,{label:"Turnovers",value:L(D.turnovers)}),C.jsx(st,{label:"A/T Ratio",value:k(L(D.assists),L(D.turnovers))})]})})]},D.id)}):C.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),z>1&&C.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[C.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>p(D=>Math.max(1,D-1)),disabled:d===1,children:"Prev"}),C.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",d," of ",z]}),C.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>p(D=>Math.min(z,D+1)),disabled:d===z,children:"Next"})]})]})]})]}),m&&C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[C.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),C.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this game? This cannot be undone."}),C.jsxs("div",{className:"flex gap-4 justify-end",children:[C.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>g(null),children:"Cancel"}),C.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{m&&(e(m),g(null))},children:"Delete"})]})]})}),v&&C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[C.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),C.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),C.jsxs("div",{className:"flex gap-4 justify-end",children:[C.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>b(null),children:"Cancel"}),C.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:U,children:"Delete"})]})]})})]})}const e_e=({active:t})=>C.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function d0({user:t,admins:e=[],viewers:n=[],onSignOut:r,setPage:i,theme:o,page:s,liveGameId:a,goToLiveGame:l,openSettingsModal:u,onSignIn:c}){const f=!!a,d=()=>{f&&(s==="live_admin"?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&l():l())},p=C.jsxs("button",{disabled:!f,className:`ml-2 flex items-center gap-1 px-2 py-1 font-semibold text-xs rounded-full transition
            ${f?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:d,title:f?"Watch Live Game":"No Live Game In Progress",children:[C.jsx(e_e,{active:f}),C.jsx("span",{className:"hidden sm:inline",children:"Live"})]}),m=g=>Array.isArray(g)&&g.length?C.jsx("ul",{className:"text-xs text-gray-800 dark:text-gray-200",children:g.map((v,b)=>C.jsxs("li",{children:[v.name||"Unknown"," ",v.uid===(t==null?void 0:t.uid)&&C.jsx("span",{className:"text-orange-500",children:"(You)"})]},v.uid||b))}):C.jsx("span",{className:"text-xs text-gray-400",children:"No one online"});return C.jsx("header",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200 dark:border-gray-700",children:C.jsxs("div",{className:`
          max-w-6xl
          mx-auto
          flex
          items-center
          justify-between
          px-2 sm:px-4
          py-2 sm:py-4
          gap-1 sm:gap-8
        `,children:[C.jsxs("div",{className:"flex items-center min-w-0 cursor-pointer",onClick:()=>i("game_setup"),children:[C.jsx(Wm,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-500 animate-spin-slow"}),C.jsx("h1",{className:"ml-1 sm:ml-2 truncate text-lg sm:text-xl font-bold text-orange-500",children:"Sahil's Stats"})]}),C.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[p,C.jsxs("div",{className:"flex items-center group relative",children:[C.jsx(nN,{className:"w-5 h-5 text-blue-400 mr-0.5 sm:mr-1"}),C.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-semibold",children:e.length}),C.jsxs("div",{className:"absolute top-full left-0 mt-2 p-2 rounded bg-white dark:bg-gray-900 shadow text-xs z-40 w-48 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200",children:[C.jsx("b",{children:"Admins:"}),m(e)]})]}),C.jsxs("div",{className:"flex items-center group relative",children:[C.jsx(W0e,{className:"w-5 h-5 text-green-400 mr-0.5 sm:mr-1"}),C.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-semibold",children:n.length}),C.jsxs("div",{className:"absolute top-full left-0 mt-2 p-2 rounded bg-white dark:bg-gray-900 shadow text-xs z-40 w-48 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity duration-200",children:[C.jsx("b",{children:"Viewers:"}),m(n)]})]})]}),C.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[C.jsx("button",{title:"Settings",onClick:u,className:"flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg p-2",children:C.jsx(z0e,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),C.jsx("button",{onClick:()=>i("dashboard"),className:"flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg p-2",title:"Dashboard",children:C.jsx(Y0e,{className:"h-5 w-5"})}),t?C.jsx("button",{onClick:r,className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 flex items-center justify-center",title:"Sign Out",children:C.jsx(G0e,{className:"h-5 w-5"})}):c&&C.jsx("button",{onClick:c,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center",title:"Sign In",children:C.jsx(nN,{className:"h-5 w-5"})})]})]})})}function t_e({onSignIn:t}){return C.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:C.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[C.jsx(Wm,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),C.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),C.jsxs("button",{onClick:t,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center",children:[C.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 48 48",children:[C.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),C.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),C.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),C.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign In with Google"]})]})})}function no({label:t,value:e,onIncrement:n,onDecrement:r}){return C.jsxs("div",{className:"flex flex-col items-center",children:[C.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:t}),C.jsxs("div",{className:"flex items-center justify-center gap-3",children:[C.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 w-8 h-8 rounded-full text-xl font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed",disabled:e<=0,children:"-"}),C.jsx("span",{className:"font-mono w-10 text-center text-2xl",children:e}),C.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-xl font-bold flex items-center justify-center shadow-md",children:"+"})]})]})}function p0({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o}){return C.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[C.jsx("h4",{className:"text-md font-bold text-center mb-3",children:t}),C.jsxs("div",{className:"flex justify-around items-center",children:[C.jsx(no,{label:"Made",value:e,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),C.jsx(no,{label:"Att.",value:n,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})]})}function xV({status:t}){return t==="saving"?C.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[C.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),C.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}function nS(t,e="viewer",n=null){var s;if(!t)return;const r=t.displayName||t.name||"Anonymous",i=t.uid||"Viewer #"+(((s=t.uid)==null?void 0:s.slice(-4))||Math.floor(Math.random()*1e3)),o=e==="viewer"&&n?`presence/viewers/${n}/${i}`:`presence/${e}s/${i}`;qj(Wx(Kx,o),{uid:i,name:r,mode:e,liveGameId:n||null,ts:Date.now()})}function as(t,e="viewer",n=null){if(!t)return;const r=e==="viewer"&&n?`presence/viewers/${n}/${t.uid}`:`presence/${e}s/${t.uid}`;KG(Wx(Kx,r))}function _b(t="viewer",e=null,n){const r=t==="viewer"&&e?`presence/viewers/${e}`:`presence/${t}s`;return QG(Wx(Kx,r),i=>{const o=i.val()||{};n(Object.values(o))})}function n_e({db:t,gameId:e,user:n,onEndGame:r}){const[i,o]=V.useState(null),[s,a]=V.useState(""),[l,u]=V.useState(null),[c,f]=V.useState(0),[d,p]=V.useState(0),m=V.useRef(null),g=V.useRef(null);V.useEffect(()=>{if(!n)return;nS(n,"admin");const U=()=>as(n,"admin");return window.addEventListener("beforeunload",U),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&U()}),()=>{U(),window.removeEventListener("beforeunload",U),document.removeEventListener("visibilitychange",U)}},[n]),V.useEffect(()=>{const U=ka(zn(t,"liveGames",e),j=>{if(j.exists()){const L={id:j.id,...j.data()};g.current=L.period,o(L);const H=Date.now();if(L.isRunning&&L.clockStartTime){const Q=H-L.clockStartTime,D=Math.floor(Q/1e3),K=Math.max(0,L.clockAtStart-D),Z=Math.max(0,L.clockAtStart*1e3-Q)/100;f(K),p(Z)}else f(L.clock||0),p((L.clock||0)*10)}else o(null),f(0)});return()=>{U(),m.current&&(clearInterval(m.current),m.current=null)}},[t,e]),V.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const U=c<=60?100:1e3;m.current=setInterval(()=>{const L=Date.now()-i.clockStartTime,H=Math.floor(L/1e3),Q=Math.max(0,i.clockAtStart-H),D=Math.max(0,i.clockAtStart*1e3-L)/100;f(Q),p(D),Q<=0&&i.isRunning&&v()},U)}else m.current&&(clearInterval(m.current),m.current=null);return()=>{m.current&&(clearInterval(m.current),m.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,c,e]);const v=()=>{if(!i)return;const j=i.gameFormat==="halves"?2:4;i.period===j?ua(zn(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):ua(zn(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},b=(U,j)=>{if(!i)return;const L=U==="home"?"homeScore":"awayScore";if(j<0&&i[L]<=0)return;const H={[L]:Jo(j)};if(!i.isRunning){const D=Date.now();H.isRunning=!0,H.clockStartTime=D,H.clockAtStart=i.clock||i.periodLength*60}const Q=ua(zn(t,"liveGames",e),H);x(Q)},w=(U,j)=>{const L=zn(t,"liveGames",e),H=i.playerStats,Q=Math.max(0,H[U]+j),D={[`playerStats.${U}`]:Q};if(!i.isRunning){const Z=Date.now();D.isRunning=!0,D.clockStartTime=Z,D.clockAtStart=i.clock||i.periodLength*60}j>0?(U==="fg2m"&&(D.homeScore=Jo(2)),U==="fg3m"&&(D.homeScore=Jo(3)),U==="ftm"&&(D.homeScore=Jo(1))):j<0&&(U==="fg2m"&&H.fg2m>0&&(D.homeScore=Jo(-2)),U==="fg3m"&&H.fg3m>0&&(D.homeScore=Jo(-3)),U==="ftm"&&H.ftm>0&&(D.homeScore=Jo(-1))),U==="fg2m"&&j>0&&Q>H.fg2a&&(D["playerStats.fg2a"]=Q),U==="fg2a"&&j<0&&Q<H.fg2m&&(D["playerStats.fg2m"]=Q),U==="fg3m"&&j>0&&Q>H.fg3a&&(D["playerStats.fg3a"]=Q),U==="fg3a"&&j<0&&Q<H.fg3m&&(D["playerStats.fg3m"]=Q),U==="ftm"&&j>0&&Q>H.fta&&(D["playerStats.fta"]=Q),U==="fta"&&j<0&&Q<H.ftm&&(D["playerStats.ftm"]=Q);const K=ua(L,D);x(K)},x=async U=>{u("saving");try{await U,u("success")}catch{u("error")}finally{setTimeout(()=>{u(null)},1200)}},P=()=>{if(!i)return;const U=Date.now();let j;if(i.isRunning){const H=i.clockStartTime?Math.floor((U-i.clockStartTime)/1e3):0,Q=Math.max(0,i.clockAtStart-H);j={isRunning:!1,clock:Q,clockStartTime:null,clockAtStart:Q}}else j={isRunning:!0,clockStartTime:U,clockAtStart:i.clock||i.periodLength*60};const L=ua(zn(t,"liveGames",e),j);x(L)},T=()=>{const U=zn(t,"liveGames",e),L=i.gameFormat==="halves"?2:4;i.period===L?typeof r=="function"&&r(e):ua(U,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},A=()=>{const U=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(U),a("Copied!"),setTimeout(()=>a(""),2e3)};if(!i)return C.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const _=(U,j)=>{if(U<=59){const L=Math.floor(j/10),H=Math.floor(j%10);return`${L}.${H}`}else return`${String(Math.floor(U/60)).padStart(2,"0")}:${String(U%60).padStart(2,"0")}`},E=i.playerStats||{},I=i.gameFormat==="halves"?"Half":"Period",k=i.gameFormat==="halves"?2:4,M=i.period===k,N=M&&c===0&&!i.isRunning,z=N||M?"End Game":"Next",B=c<=120||M&&c===0,q=c<=60&&c>0;return C.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[N&&C.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg text-center",children:[C.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[C.jsx("div",{className:"absolute top-2 right-2",children:C.jsx(xV,{status:l})}),C.jsxs("div",{className:"flex justify-around items-center text-center",children:[C.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[C.jsx("span",{className:"text-lg font-bold truncate text-center",children:i.teamName}),C.jsx("div",{className:"flex items-center",children:C.jsx("span",{className:"text-5xl font-mono",children:i.homeScore})})]}),C.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[C.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${q?"text-red-500 animate-pulse scale-110 font-bold":B?"text-red-500 animate-pulse":""}`,children:_(c,d)}),C.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[I," ",i.period]})]}),C.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[C.jsx("span",{className:"text-lg font-bold truncate text-center",children:i.opponent}),C.jsx("div",{className:"flex items-center",children:C.jsx("span",{className:"text-5xl font-mono",children:i.awayScore})})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[C.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[C.jsx("button",{onClick:()=>b("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:i.homeScore<=0,children:"-"}),C.jsx("span",{className:"font-semibold text-sm px-1",children:i.teamName}),C.jsx("button",{onClick:()=>b("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),C.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[C.jsx("button",{onClick:()=>b("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:i.awayScore<=0,children:"-"}),C.jsx("span",{className:"font-semibold text-sm px-1",children:i.opponent}),C.jsx("button",{onClick:()=>b("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Live Stats"}),C.jsxs("div",{className:"space-y-4",children:[C.jsx(p0,{label:"2-Pointers",madeValue:E.fg2m,attValue:E.fg2a,onStatChange:w,madeKey:"fg2m",attKey:"fg2a"}),C.jsx(p0,{label:"3-Pointers",madeValue:E.fg3m,attValue:E.fg3a,onStatChange:w,madeKey:"fg3m",attKey:"fg3a"}),C.jsx(p0,{label:"Free Throws",madeValue:E.ftm,attValue:E.fta,onStatChange:w,madeKey:"ftm",attKey:"fta"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[C.jsx(no,{label:"Rebounds",value:E.rebounds,onIncrement:()=>w("rebounds",1),onDecrement:()=>w("rebounds",-1)}),C.jsx(no,{label:"Assists",value:E.assists,onIncrement:()=>w("assists",1),onDecrement:()=>w("assists",-1)}),C.jsx(no,{label:"Steals",value:E.steals,onIncrement:()=>w("steals",1),onDecrement:()=>w("steals",-1)}),C.jsx(no,{label:"Blocks",value:E.blocks,onIncrement:()=>w("blocks",1),onDecrement:()=>w("blocks",-1)}),C.jsx(no,{label:"Fouls",value:E.fouls,onIncrement:()=>w("fouls",1),onDecrement:()=>w("fouls",-1)}),C.jsx(no,{label:"Turnovers",value:E.turnovers,onIncrement:()=>w("turnovers",1),onDecrement:()=>w("turnovers",-1)})]})]}),C.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:C.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-md mx-auto",children:[C.jsx("button",{onClick:A,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:s||C.jsx(H0e,{})}),C.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:N,children:i.isRunning?"Pause":"Start"}),C.jsx("button",{onClick:T,className:`w-full font-bold py-3 rounded-lg text-lg ${N?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:z})]})})]})}const Gt=[];for(let t=0;t<256;++t)Gt.push((t+256).toString(16).slice(1));function r_e(t,e=0){return(Gt[t[e+0]]+Gt[t[e+1]]+Gt[t[e+2]]+Gt[t[e+3]]+"-"+Gt[t[e+4]]+Gt[t[e+5]]+"-"+Gt[t[e+6]]+Gt[t[e+7]]+"-"+Gt[t[e+8]]+Gt[t[e+9]]+"-"+Gt[t[e+10]]+Gt[t[e+11]]+Gt[t[e+12]]+Gt[t[e+13]]+Gt[t[e+14]]+Gt[t[e+15]]).toLowerCase()}let m0;const i_e=new Uint8Array(16);function o_e(){if(!m0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m0=crypto.getRandomValues.bind(crypto)}return m0(i_e)}const s_e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iN={randomUUID:s_e};function a_e(t,e,n){var i;if(iN.randomUUID&&!e&&!t)return iN.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??o_e();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[n+o]=r[o];return e}return r_e(r)}function l_e(){const t=localStorage.getItem("anonViewerId")||a_e();return localStorage.setItem("anonViewerId",t),{uid:t,name:"Guest",photoURL:"",mode:"viewer"}}function oN({db:t,gameId:e,appId:n,user:r}){const[i,o]=V.useState(null),[s,a]=V.useState(null),[l,u]=V.useState([]),[c,f]=V.useState(0),[d,p]=V.useState(0),m=V.useRef(null),g=r||l_e();if(V.useEffect(()=>{if(!e)return;nS(g,"viewer",e);const _=_b("viewer",e,u),E=()=>{as(g,"viewer",e)};return window.addEventListener("beforeunload",E),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&E()}),()=>{E(),typeof _=="function"&&_(),window.removeEventListener("beforeunload",E),document.removeEventListener("visibilitychange",E)}},[r,e]),V.useEffect(()=>{if(!t||!e)return;const _=zn(t,"liveGames",e),E=ka(_,I=>{if(I.exists()){const O=I.data();o(O);const k=Date.now();if(O.isRunning&&O.clockStartTime){const M=k-O.clockStartTime,N=Math.floor(M/1e3),z=Math.max(0,O.clockAtStart-N),B=Math.max(0,O.clockAtStart*1e3-M)/100;f(z),p(B)}else f(O.clock||0),p((O.clock||0)*10)}else a("This game is no longer live.")});return()=>{E(),m.current&&(clearInterval(m.current),m.current=null)}},[t,e,n]),V.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const _=c<=60?100:1e3;m.current=setInterval(()=>{const I=Date.now()-i.clockStartTime,O=Math.floor(I/1e3),k=Math.max(0,i.clockAtStart-O),M=Math.max(0,i.clockAtStart*1e3-I)/100;f(k),p(M)},_)}else m.current&&(clearInterval(m.current),m.current=null);return()=>{m.current&&(clearInterval(m.current),m.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,c]),s)return C.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[C.jsx(Wm,{className:"hover:animate-spin-slow transition-transform"}),C.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:s})]});if(!i)return C.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const v=i.playerStats||i.sahilStats||{},w=[{label:"Points",value:(Number(v.fg2m)||0)*2+(Number(v.fg3m)||0)*3+(Number(v.ftm)||0)},{label:"2PT Made",value:v.fg2m??0},{label:"2PT Attempted",value:v.fg2a??0},{label:"3PT Made",value:v.fg3m??0},{label:"3PT Attempted",value:v.fg3a??0},{label:"FT Made",value:v.ftm??0},{label:"FT Attempted",value:v.fta??0},{label:"Assists",value:v.assists??0},{label:"Rebounds",value:v.rebounds??0},{label:"Steals",value:v.steals??0},{label:"Fouls",value:v.fouls??0}],x=(_,E)=>{if(_<=59){const I=Math.floor(E/10),O=Math.floor(E%10);return`${I}.${O}`}else return`${String(Math.floor(_/60)).padStart(2,"0")}:${String(_%60).padStart(2,"0")}`},P=i.gameFormat==="halves"?"Half":"Period",T=c<=120,A=c<=60&&c>0;return C.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[C.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),C.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:C.jsxs("div",{className:"flex justify-around items-center text-center",children:[C.jsxs("div",{className:"w-1/3",children:[C.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:i.teamName}),C.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:i.homeScore})]}),C.jsxs("div",{className:"w-1/3",children:[C.jsx("p",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${A?"text-red-500 animate-pulse scale-110 font-bold":T?"text-red-500 animate-pulse":""}`,children:x(c,d)}),C.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[P," ",i.period]})]}),C.jsxs("div",{className:"w-1/3",children:[C.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:i.opponent}),C.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:i.awayScore})]})]})}),C.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:C.jsx("p",{children:"You are viewing a live game. The score and stats update automatically."})}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[C.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[C.jsx(Wm,{className:"text-orange-500 h-5 w-5 animate-spin-slow"}),C.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Sahil's Live Stats"})]}),C.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:w.map(_=>C.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[C.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:_.label}),C.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:_.value})]},_.label))})]}),C.jsx("div",{className:"text-center mt-4 text-xs text-gray-500",children:C.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.jsx("span",{className:"bg-green-400 rounded-full w-2 h-2 animate-pulse"}),l.length," ",l.length===1?"viewer":"viewers"," currently watching"]})})]})}function u_e({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:s,theme:a,toggleTheme:l,periodLength:u,setPeriodLength:c,onDeleteAllLiveGames:f}){const[d,p]=V.useState(""),[m,g]=V.useState("");V.useEffect(()=>{const _=localStorage.getItem("gameFormat"),E=localStorage.getItem("periodLength");_&&_!==o&&s(_),E&&parseInt(E)!==u&&c(parseInt(E))},[]);const v=Array.from(new Map(n.map(_=>[_.id,_])).values()),b=async _=>{const E=_.trim();if(!E||n.some(I=>I.name.toLowerCase()===E.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(E),g("success"),p("")}catch{g("error")}setTimeout(()=>g(""),1200)},w=async _=>{g("saving");try{await i(_),g("success")}catch{g("error")}setTimeout(()=>g(""),1200)},x=_=>{s(_),localStorage.setItem("gameFormat",_),g("success"),setTimeout(()=>g(""),1200)},P=_=>{const E=Number(_);c(E),localStorage.setItem("periodLength",E.toString()),g("success"),setTimeout(()=>g(""),1200)},T=()=>{l(),g("success"),setTimeout(()=>{g(""),e()},200)},A=async()=>{g("saving");try{await f(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}};return t?C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[C.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:""}),C.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",C.jsx(xV,{status:m})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),C.jsxs("div",{className:"flex gap-2 mb-3",children:[C.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:d,onChange:_=>p(_.target.value),onKeyDown:_=>{_.key==="Enter"&&d.trim()&&b(d.trim())}}),C.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>b(d),disabled:!d.trim(),children:"Add"})]}),C.jsx("ul",{className:"space-y-2",children:v.map(_=>C.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[C.jsx("span",{children:_.name}),C.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>w(_.id),title:"Delete Team",children:C.jsx(vb,{className:"h-5 w-5"})})]},_.id))})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),C.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[C.jsxs("label",{children:[C.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>x("periods")}),"Periods"]}),C.jsxs("label",{children:[C.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>x("halves")}),"Halves"]})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),C.jsx("input",{type:"number",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24",value:u,onChange:_=>P(_.target.value)})]})]}),C.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[C.jsx("button",{onClick:T,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:a==="dark"?C.jsx(q0e,{className:"h-6 w-6"}):C.jsx(K0e,{className:"h-6 w-6"})}),C.jsx("button",{onClick:A,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:C.jsx(vb,{className:"h-6 w-6"})})]})]})}):null}function c_e(){const[t,e]=V.useState(null),[n,r]=V.useState("light"),[i,o]=V.useState(!0),[s,a]=V.useState(!0),[l,u]=V.useState("game_setup"),[c,f]=V.useState([]),[d,p]=V.useState([]),[m,g]=V.useState([]),[v,b]=V.useState(null),[w,x]=V.useState(!1),[P,T]=V.useState("halves"),[A,_]=V.useState(20),[E,I]=V.useState(2),[O,k]=V.useState([]),[M,N]=V.useState([]);V.useEffect(()=>Vz($v,oe=>{e(oe),o(!1),oe||(as(t,"viewer",v),as(t,"admin",v))}),[]),V.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark")},[n]);const z=V.useCallback(()=>r(Z=>Z==="dark"?"light":"dark"),[]);V.useEffect(()=>{if(!t)return;const Z=Jn(pt,"teams");return ka(Z,ce=>{f(ce.docs.map(Ie=>({id:Ie.id,...Ie.data()})))})},[t]),V.useEffect(()=>{if(!t)return;const Z=Jn(pt,"games");return ka(Z,ce=>{const Ie=ce.docs.map(Ke=>({id:Ke.id,...Ke.data()}));p(Ie)})},[t]),V.useEffect(()=>{if(!t)return;const Z=Jn(pt,"stats");return ka(Z,ce=>{g(ce.docs.map(Ie=>({id:Ie.id,...Ie.data()})))})},[t]),V.useEffect(()=>{if(!t)return;nS(t,"admin");const Z=_b("admin",null,oe=>k(oe||[]));return()=>{as(t,"admin"),Z&&typeof Z=="function"&&Z()}},[t]),V.useEffect(()=>{const Z=_b("viewer",null,oe=>N(oe||[]));return()=>{Z&&typeof Z=="function"&&Z()}},[]),V.useEffect(()=>{a(!0);const Z=Jn(pt,"liveGames"),oe=ka(Z,ce=>{ce.empty?b(null):b(ce.docs[0].id),a(!1)});return()=>oe()},[l]),V.useEffect(()=>{!t&&v&&l!=="live_viewer"&&u("live_viewer")},[t,v,l]);const B=V.useCallback(async Z=>{await id(zn(pt,"teams",Z)),f(oe=>oe.filter(ce=>ce.id!==Z))},[]),q=async Z=>{if(c.some(Ie=>Ie.name.toLowerCase()===Z.toLowerCase()))return null;const ce=await ca(Jn(pt,"teams"),{name:Z});return f(Ie=>[...Ie,{name:Z,id:ce.id}]),{name:Z,id:ce.id}},U=V.useCallback(async Z=>{const oe=await ca(Jn(pt,"games"),Z);p(ce=>[...ce,{...Z,id:oe.id}])},[]);V.useCallback(async Z=>{const oe=await ca(Jn(pt,"stats"),Z);g(ce=>[...ce,{...Z,id:oe.id}])},[]);const j=V.useCallback(async Z=>{await id(zn(pt,"games",Z)),p(oe=>oe.filter(ce=>ce.id!==Z)),g(oe=>oe.filter(ce=>ce.gameId!==Z))},[]),L=async Z=>{try{const oe=zn(pt,"liveGames",Z),ce=await Z9(oe);if(!ce.exists()){console.log("Live game not found for endGame, id:",Z);return}const Ie=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",Ke=ce.data(),te=Ke.playerStats||{},he=Ke.homeScore??0,pe=Ke.awayScore??0;let Y="T";he>pe?Y="W":he<pe&&(Y="L");const Be={...Ke,myTeamScore:he,opponentScore:pe,outcome:Y,points:(te.fg2m??0)*2+(te.fg3m??0)*3+(te.ftm??0)*1,fg2m:te.fg2m??0,fg2a:te.fg2a??0,fg3m:te.fg3m??0,fg3a:te.fg3a??0,ftm:te.ftm??0,fta:te.fta??0,rebounds:te.rebounds??0,assists:te.assists??0,steals:te.steals??0,blocks:te.blocks??0,fouls:te.fouls??0,turnovers:te.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:Ie,isRunning:!1},be=await ca(Jn(pt,"games"),Be);await id(oe),b(null),u("game_setup");const Je=Jn(pt,"games"),ot=await eI(Je);p(ot.docs.map(xt=>({id:xt.id,...xt.data()})))}catch(oe){console.error("Failed to save/end game:",oe)}},H=async()=>{if(!t)return null;const Z=await eI(Jn(pt,"liveGames"));for(let oe of Z.docs)await id(zn(pt,"liveGames",oe.id));b(null)},Q=async()=>{await aW($v,lq)},D=async()=>{try{as(t,"viewer",v),t&&as(t,"admin"),l==="live_admin"&&v&&await L(v),await Uz($v),e(null),u("game_setup"),b(null),p([]),g([]),k([]),N([])}catch(Z){console.error("Error signing out:",Z)}},K=async(Z,oe)=>{const ce={...Z,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:oe==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:A?A*60:600,period:1,gameFormat:P||"halves",periodLength:A||20,numPeriods:P==="halves"?2:4};if(oe==="live"){const Ie=await ca(Jn(pt,"liveGames"),ce);b(Ie.id),u("live_admin")}else{const Ie=await ca(Jn(pt,"games"),ce);p(Ke=>[...Ke,{...ce,id:Ie.id}]),u("dashboard")}};return i||s?C.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[C.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:""}),C.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&l==="live_viewer"?v?C.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[C.jsx(d0,{user:null,db:pt,onSignOut:D,setPage:u,theme:n,toggleTheme:z,admins:O,viewers:M,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:H,openSettingsModal:()=>x(!0),onSignIn:Q}),C.jsx("main",{className:"flex-1",children:C.jsx(oN,{db:pt,user:null,gameId:v,setPage:u,teams:c,stats:m,games:d})})]}):C.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[C.jsx(d0,{user:null,db:pt,onSignOut:D,setPage:u,theme:n,toggleTheme:z,admins:O,viewers:M,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:H,openSettingsModal:()=>x(!0)}),C.jsx("main",{className:"flex-1 flex items-center justify-center",children:C.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&l!=="live_viewer"?C.jsx(t_e,{onSignIn:Q}):C.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[C.jsx(d0,{user:t,db:pt,onSignOut:D,setPage:u,theme:n,toggleTheme:z,admins:O,viewers:M,page:l,liveGameId:v,goToLiveGame:()=>u("live_viewer"),onDeleteAllLiveGames:H,openSettingsModal:()=>x(!0)}),C.jsx(u_e,{open:w,onClose:()=>x(!1),teams:c,onAddTeam:q,onDeleteTeam:B,gameFormat:P,setGameFormat:T,periodLength:A,setPeriodLength:_,theme:n,toggleTheme:z,setPage:u,onDeleteAllLiveGames:H}),C.jsxs("main",{className:"flex-1",children:[t&&l==="game_setup"&&C.jsx(uq,{user:t,teams:c,stats:d,onAddTeam:q,setPage:u,games:d,onAddGame:U,setLiveGameId:b,onSubmit:K,gameFormat:P,periodLength:A,numPeriods:E}),t&&l==="dashboard"&&C.jsx(Z0e,{user:t,teams:c,games:d,stats:d,onDeleteGame:j,onDeleteTeam:B,onAddTeam:q}),t&&l==="live_admin"&&v&&C.jsx(n_e,{user:t,db:pt,gameId:v,setPage:u,teams:c,stats:m,games:d,onEndGame:L}),t&&l==="live_viewer"&&v&&C.jsx(oN,{db:pt,user:t,gameId:v,setPage:u,teams:c,stats:m,games:d})]})]})}g0.createRoot(document.getElementById("root")).render(C.jsx($.StrictMode,{children:C.jsx(c_e,{})}));
