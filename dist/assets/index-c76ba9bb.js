(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bI={exports:{}},cp={},_I={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),zM=Symbol.for("react.portal"),WM=Symbol.for("react.fragment"),GM=Symbol.for("react.strict_mode"),HM=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),KM=Symbol.for("react.context"),XM=Symbol.for("react.forward_ref"),YM=Symbol.for("react.suspense"),QM=Symbol.for("react.memo"),JM=Symbol.for("react.lazy"),K1=Symbol.iterator;function ZM(t){return t===null||typeof t!="object"?null:(t=K1&&t[K1]||t["@@iterator"],typeof t=="function"?t:null)}var wI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xI=Object.assign,SI={};function zs(t,e,n){this.props=t,this.context=e,this.refs=SI,this.updater=n||wI}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EI(){}EI.prototype=zs.prototype;function tb(t,e,n){this.props=t,this.context=e,this.refs=SI,this.updater=n||wI}var nb=tb.prototype=new EI;nb.constructor=tb;xI(nb,zs.prototype);nb.isPureReactComponent=!0;var X1=Array.isArray,TI=Object.prototype.hasOwnProperty,rb={current:null},AI={key:!0,ref:!0,__self:!0,__source:!0};function PI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)TI.call(e,r)&&!AI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ec,type:t,key:o,ref:a,props:i,_owner:rb.current}}function eD(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ib(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function tD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y1=/\/+/g;function tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tD(""+t.key):e.toString(36)}function th(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ec:case zM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+tg(a,0):r,X1(i)?(n="",t!=null&&(n=t.replace(Y1,"$&/")+"/"),th(i,e,n,"",function(u){return u})):i!=null&&(ib(i)&&(i=eD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Y1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",X1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+tg(o,s);a+=th(o,e,n,l,i)}else if(l=ZM(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+tg(o,s++),a+=th(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gf(t,e,n){if(t==null)return t;var r=[],i=0;return th(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},nh={transition:null},rD={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:nh,ReactCurrentOwner:rb};function II(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:gf,forEach:function(t,e,n){gf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gf(t,function(){e++}),e},toArray:function(t){return gf(t,function(e){return e})||[]},only:function(t){if(!ib(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=zs;Pe.Fragment=WM;Pe.Profiler=HM;Pe.PureComponent=tb;Pe.StrictMode=GM;Pe.Suspense=YM;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rD;Pe.act=II;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=rb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TI.call(e,l)&&!AI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ec,type:t.type,key:i,ref:o,props:r,_owner:a}};Pe.createContext=function(t){return t={$$typeof:KM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qM,_context:t},t.Consumer=t};Pe.createElement=PI;Pe.createFactory=function(t){var e=PI.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:XM,render:t}};Pe.isValidElement=ib;Pe.lazy=function(t){return{$$typeof:JM,_payload:{_status:-1,_result:t},_init:nD}};Pe.memo=function(t,e){return{$$typeof:QM,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=nh.transition;nh.transition={};try{t()}finally{nh.transition=e}};Pe.unstable_act=II;Pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Pe.useContext=function(t){return mn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Pe.useId=function(){return mn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Pe.useRef=function(t){return mn.current.useRef(t)};Pe.useState=function(t){return mn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return mn.current.useTransition()};Pe.version="18.3.1";_I.exports=Pe;var $=_I.exports;const M=We($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD=$,oD=Symbol.for("react.element"),aD=Symbol.for("react.fragment"),sD=Object.prototype.hasOwnProperty,lD=iD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uD={key:!0,ref:!0,__self:!0,__source:!0};function OI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)sD.call(e,r)&&!uD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oD,type:t,key:o,ref:a,props:i,_owner:lD.current}}cp.Fragment=aD;cp.jsx=OI;cp.jsxs=OI;bI.exports=cp;var v=bI.exports,py={},kI={exports:{}},Ln={},CI={exports:{}},NI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,G){var Q=D.length;D.push(G);e:for(;0<Q;){var ne=Q-1>>>1,z=D[ne];if(0<i(z,G))D[ne]=G,D[Q]=z,Q=ne;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],Q=D.pop();if(Q!==G){D[0]=Q;e:for(var ne=0,z=D.length,Y=z>>>1;ne<Y;){var ae=2*(ne+1)-1,ce=D[ae],he=ae+1,ve=D[he];if(0>i(ce,Q))he<z&&0>i(ve,ce)?(D[ne]=ve,D[he]=Q,ne=he):(D[ne]=ce,D[ae]=Q,ne=ae);else if(he<z&&0>i(ve,Q))D[ne]=ve,D[he]=Q,ne=he;else break e}}return G}function i(D,G){var Q=D.sortIndex-G.sortIndex;return Q!==0?Q:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=D)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function O(D){if(g=!1,x(D),!m)if(n(l)!==null)m=!0,q(T);else{var G=n(u);G!==null&&K(O,G.startTime-D)}}function T(D,G){m=!1,g&&(g=!1,w(E),E=-1),p=!0;var Q=d;try{for(x(G),f=n(l);f!==null&&(!(f.expirationTime>G)||D&&!C());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,d=f.priorityLevel;var z=ne(f.expirationTime<=G);G=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),x(G)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var ae=n(u);ae!==null&&K(O,ae.startTime-G),Y=!1}return Y}finally{f=null,d=Q,p=!1}}var P=!1,S=null,E=-1,I=5,k=-1;function C(){return!(t.unstable_now()-k<I)}function j(){if(S!==null){var D=t.unstable_now();k=D;var G=!0;try{G=S(!0,D)}finally{G?N():(P=!1,S=null)}}else P=!1}var N;if(typeof b=="function")N=function(){b(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=j,N=function(){U.postMessage(null)}}else N=function(){_(j,0)};function q(D){S=D,P||(P=!0,N())}function K(D,G){E=_(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,q(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Q=d;d=G;try{return D()}finally{d=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=d;d=D;try{return G()}finally{d=Q}},t.unstable_scheduleCallback=function(D,G,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,D={id:h++,callback:G,priorityLevel:D,startTime:Q,expirationTime:z,sortIndex:-1},Q>ne?(D.sortIndex=Q,e(u,D),n(l)===null&&D===n(u)&&(g?(w(E),E=-1):g=!0,K(O,Q-ne))):(D.sortIndex=z,e(l,D),m||p||(m=!0,q(T))),D},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(D){var G=d;return function(){var Q=d;d=G;try{return D.apply(this,arguments)}finally{d=Q}}}})(NI);CI.exports=NI;var cD=CI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=$,Dn=cD;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jI=new Set,yu={};function aa(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(yu[t]=e,t=0;t<e.length;t++)jI.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=Object.prototype.hasOwnProperty,hD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q1={},J1={};function dD(t){return my.call(J1,t)?!0:my.call(Q1,t)?!1:hD.test(t)?J1[t]=!0:(Q1[t]=!0,!1)}function pD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mD(t,e,n,r){if(e===null||typeof e>"u"||pD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function ab(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ob,ab);zt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ob,ab);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ob,ab);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sb(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mD(e,n,i,r)&&(n=null),r||i===null?dD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mi=fD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),Ia=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),RI=Symbol.for("react.provider"),MI=Symbol.for("react.context"),ub=Symbol.for("react.forward_ref"),yy=Symbol.for("react.suspense"),vy=Symbol.for("react.suspense_list"),cb=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),DI=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,ng;function zl(t){if(ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ng=e&&e[1]||""}return`
`+ng+t}var rg=!1;function ig(t,e){if(!t||rg)return"";rg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{rg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function gD(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=ig(t.type,!1),t;case 11:return t=ig(t.type.render,!1),t;case 1:return t=ig(t.type,!0),t;default:return""}}function by(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Ia:return"Portal";case gy:return"Profiler";case lb:return"StrictMode";case yy:return"Suspense";case vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MI:return(t.displayName||"Context")+".Consumer";case RI:return(t._context.displayName||"Context")+".Provider";case ub:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cb:return e=t.displayName||null,e!==null?e:by(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return by(t(e))}catch{}}return null}function yD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return by(e);case 8:return e===lb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $I(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vD(t){var e=$I(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vf(t){t._valueTracker||(t._valueTracker=vD(t))}function LI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$I(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=to(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VI(t,e){e=e.checked,e!=null&&sb(t,"checked",e,!1)}function wy(t,e){VI(t,e);var n=to(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xy(t,e.type,n):e.hasOwnProperty("defaultValue")&&xy(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xy(t,e,n){(e!=="number"||xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function Wa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+to(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Wl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:to(n)}}function FI(t,e){var n=to(e.value),r=to(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bf,UI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bD=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(t){bD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jl[e]=Jl[t]})});function zI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jl.hasOwnProperty(t)&&Jl[t]?(""+e).trim():e+"px"}function WI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _D=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ty(t,e){if(e){if(_D[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Ay(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iy=null,Ga=null,Ha=null;function ix(t){if(t=Pc(t)){if(typeof Iy!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=mp(e),Iy(t.stateNode,t.type,e))}}function GI(t){Ga?Ha?Ha.push(t):Ha=[t]:Ga=t}function HI(){if(Ga){var t=Ga,e=Ha;if(Ha=Ga=null,ix(t),e)for(t=0;t<e.length;t++)ix(e[t])}}function qI(t,e){return t(e)}function KI(){}var og=!1;function XI(t,e,n){if(og)return t(e,n);og=!0;try{return qI(t,e,n)}finally{og=!1,(Ga!==null||Ha!==null)&&(KI(),HI())}}function bu(t,e){var n=t.stateNode;if(n===null)return null;var r=mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Oy=!1;if(ri)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Oy=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Oy=!1}function wD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Zl=!1,Sh=null,Eh=!1,ky=null,xD={onError:function(t){Zl=!0,Sh=t}};function SD(t,e,n,r,i,o,a,s,l){Zl=!1,Sh=null,wD.apply(xD,arguments)}function ED(t,e,n,r,i,o,a,s,l){if(SD.apply(this,arguments),Zl){if(Zl){var u=Sh;Zl=!1,Sh=null}else throw Error(ee(198));Eh||(Eh=!0,ky=u)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ox(t){if(sa(t)!==t)throw Error(ee(188))}function TD(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ox(i),t;if(o===r)return ox(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function QI(t){return t=TD(t),t!==null?JI(t):null}function JI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JI(t);if(e!==null)return e;t=t.sibling}return null}var ZI=Dn.unstable_scheduleCallback,ax=Dn.unstable_cancelCallback,AD=Dn.unstable_shouldYield,PD=Dn.unstable_requestPaint,mt=Dn.unstable_now,ID=Dn.unstable_getCurrentPriorityLevel,hb=Dn.unstable_ImmediatePriority,eO=Dn.unstable_UserBlockingPriority,Th=Dn.unstable_NormalPriority,OD=Dn.unstable_LowPriority,tO=Dn.unstable_IdlePriority,fp=null,Er=null;function kD(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(fp,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:jD,CD=Math.log,ND=Math.LN2;function jD(t){return t>>>=0,t===0?32:31-(CD(t)/ND|0)|0}var _f=64,wf=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Gl(s):(o&=a,o!==0&&(r=Gl(o)))}else a=n&~i,a!==0?r=Gl(a):o!==0&&(r=Gl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pr(e),i=1<<n,r|=t[n],e&=~i;return r}function RD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-pr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=RD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Cy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nO(){var t=_f;return _f<<=1,!(_f&4194240)&&(_f=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function DD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function db(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function rO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iO,pb,oO,aO,sO,Ny=!1,xf=[],Fi=null,Bi=null,Ui=null,_u=new Map,wu=new Map,ki=[],$D="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sx(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function El(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Pc(e),e!==null&&pb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LD(t,e,n,r,i){switch(e){case"focusin":return Fi=El(Fi,t,e,n,r,i),!0;case"dragenter":return Bi=El(Bi,t,e,n,r,i),!0;case"mouseover":return Ui=El(Ui,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _u.set(o,El(_u.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wu.set(o,El(wu.get(o)||null,t,e,n,r,i)),!0}return!1}function lO(t){var e=Oo(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=YI(n),e!==null){t.blockedOn=e,sO(t.priority,function(){oO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=Pc(n),e!==null&&pb(e),t.blockedOn=n,!1;e.shift()}return!0}function lx(t,e,n){rh(t)&&n.delete(e)}function VD(){Ny=!1,Fi!==null&&rh(Fi)&&(Fi=null),Bi!==null&&rh(Bi)&&(Bi=null),Ui!==null&&rh(Ui)&&(Ui=null),_u.forEach(lx),wu.forEach(lx)}function Tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ny||(Ny=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,VD)))}function xu(t){function e(i){return Tl(i,t)}if(0<xf.length){Tl(xf[0],t);for(var n=1;n<xf.length;n++){var r=xf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fi!==null&&Tl(Fi,t),Bi!==null&&Tl(Bi,t),Ui!==null&&Tl(Ui,t),_u.forEach(e),wu.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)lO(n),n.blockedOn===null&&ki.shift()}var qa=mi.ReactCurrentBatchConfig,Ph=!0;function FD(t,e,n,r){var i=Le,o=qa.transition;qa.transition=null;try{Le=1,mb(t,e,n,r)}finally{Le=i,qa.transition=o}}function BD(t,e,n,r){var i=Le,o=qa.transition;qa.transition=null;try{Le=4,mb(t,e,n,r)}finally{Le=i,qa.transition=o}}function mb(t,e,n,r){if(Ph){var i=jy(t,e,n,r);if(i===null)gg(t,e,r,Ih,n),sx(t,r);else if(LD(i,t,e,n,r))r.stopPropagation();else if(sx(t,r),e&4&&-1<$D.indexOf(t)){for(;i!==null;){var o=Pc(i);if(o!==null&&iO(o),o=jy(t,e,n,r),o===null&&gg(t,e,r,Ih,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gg(t,e,r,null,n)}}var Ih=null;function jy(t,e,n,r){if(Ih=null,t=fb(r),t=Oo(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function uO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ID()){case hb:return 1;case eO:return 4;case Th:case OD:return 16;case tO:return 536870912;default:return 16}default:return 16}}var Di=null,gb=null,ih=null;function cO(){if(ih)return ih;var t,e=gb,n=e.length,r,i="value"in Di?Di.value:Di.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ih=i.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sf(){return!0}function ux(){return!1}function Vn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sf:ux,this.isPropagationStopped=ux,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yb=Vn(Ws),Ac=ut({},Ws,{view:0,detail:0}),UD=Vn(Ac),sg,lg,Al,hp=ut({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(sg=t.screenX-Al.screenX,lg=t.screenY-Al.screenY):lg=sg=0,Al=t),sg)},movementY:function(t){return"movementY"in t?t.movementY:lg}}),cx=Vn(hp),zD=ut({},hp,{dataTransfer:0}),WD=Vn(zD),GD=ut({},Ac,{relatedTarget:0}),ug=Vn(GD),HD=ut({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),qD=Vn(HD),KD=ut({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XD=Vn(KD),YD=ut({},Ws,{data:0}),fx=Vn(YD),QD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZD[t])?!!e[t]:!1}function vb(){return e$}var t$=ut({},Ac,{key:function(t){if(t.key){var e=QD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vb,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n$=Vn(t$),r$=ut({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Vn(r$),i$=ut({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vb}),o$=Vn(i$),a$=ut({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),s$=Vn(a$),l$=ut({},hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u$=Vn(l$),c$=[9,13,27,32],bb=ri&&"CompositionEvent"in window,eu=null;ri&&"documentMode"in document&&(eu=document.documentMode);var f$=ri&&"TextEvent"in window&&!eu,fO=ri&&(!bb||eu&&8<eu&&11>=eu),dx=String.fromCharCode(32),px=!1;function hO(t,e){switch(t){case"keyup":return c$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function h$(t,e){switch(t){case"compositionend":return dO(e);case"keypress":return e.which!==32?null:(px=!0,dx);case"textInput":return t=e.data,t===dx&&px?null:t;default:return null}}function d$(t,e){if(ka)return t==="compositionend"||!bb&&hO(t,e)?(t=cO(),ih=gb=Di=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fO&&e.locale!=="ko"?null:e.data;default:return null}}var p$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p$[t.type]:e==="textarea"}function pO(t,e,n,r){GI(r),e=Oh(e,"onChange"),0<e.length&&(n=new yb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,Su=null;function m$(t){TO(t,0)}function dp(t){var e=ja(t);if(LI(e))return t}function g$(t,e){if(t==="change")return e}var mO=!1;if(ri){var cg;if(ri){var fg="oninput"in document;if(!fg){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),fg=typeof gx.oninput=="function"}cg=fg}else cg=!1;mO=cg&&(!document.documentMode||9<document.documentMode)}function yx(){tu&&(tu.detachEvent("onpropertychange",gO),Su=tu=null)}function gO(t){if(t.propertyName==="value"&&dp(Su)){var e=[];pO(e,Su,t,fb(t)),XI(m$,e)}}function y$(t,e,n){t==="focusin"?(yx(),tu=e,Su=n,tu.attachEvent("onpropertychange",gO)):t==="focusout"&&yx()}function v$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dp(Su)}function b$(t,e){if(t==="click")return dp(e)}function _$(t,e){if(t==="input"||t==="change")return dp(e)}function w$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:w$;function Eu(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!my.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bx(t,e){var n=vx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vx(n)}}function yO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vO(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xh(t.document)}return e}function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x$(t){var e=vO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yO(n.ownerDocument.documentElement,n)){if(r!==null&&_b(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=bx(n,o);var a=bx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S$=ri&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ry=null,nu=null,My=!1;function _x(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;My||Ca==null||Ca!==xh(r)||(r=Ca,"selectionStart"in r&&_b(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&Eu(nu,r)||(nu=r,r=Oh(Ry,"onSelect"),0<r.length&&(e=new yb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ca)))}function Ef(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Na={animationend:Ef("Animation","AnimationEnd"),animationiteration:Ef("Animation","AnimationIteration"),animationstart:Ef("Animation","AnimationStart"),transitionend:Ef("Transition","TransitionEnd")},hg={},bO={};ri&&(bO=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function pp(t){if(hg[t])return hg[t];if(!Na[t])return t;var e=Na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bO)return hg[t]=e[n];return t}var _O=pp("animationend"),wO=pp("animationiteration"),xO=pp("animationstart"),SO=pp("transitionend"),EO=new Map,wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){EO.set(t,e),aa(e,[t])}for(var dg=0;dg<wx.length;dg++){var pg=wx[dg],E$=pg.toLowerCase(),T$=pg[0].toUpperCase()+pg.slice(1);ao(E$,"on"+T$)}ao(_O,"onAnimationEnd");ao(wO,"onAnimationIteration");ao(xO,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(SO,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function xx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ED(r,e,void 0,t),t.currentTarget=null}function TO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xx(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xx(i,s,u),o=l}}}if(Eh)throw t=ky,Eh=!1,ky=null,t}function Qe(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(AO(e,t,2,!1),n.add(r))}function mg(t,e,n){var r=0;e&&(r|=4),AO(n,t,r,e)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[Tf]){t[Tf]=!0,jI.forEach(function(n){n!=="selectionchange"&&(A$.has(n)||mg(n,!1,t),mg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tf]||(e[Tf]=!0,mg("selectionchange",!1,e))}}function AO(t,e,n,r){switch(uO(e)){case 1:var i=FD;break;case 4:i=BD;break;default:i=mb}n=i.bind(null,e,n,t),i=void 0,!Oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Oo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}XI(function(){var u=o,h=fb(n),f=[];e:{var d=EO.get(t);if(d!==void 0){var p=yb,m=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":p=n$;break;case"focusin":m="focus",p=ug;break;case"focusout":m="blur",p=ug;break;case"beforeblur":case"afterblur":p=ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=o$;break;case _O:case wO:case xO:p=qD;break;case SO:p=s$;break;case"scroll":p=UD;break;case"wheel":p=u$;break;case"copy":case"cut":case"paste":p=XD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hx}var g=(e&4)!==0,_=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,x;b!==null;){x=b;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,w!==null&&(O=bu(b,w),O!=null&&g.push(Au(b,O,x)))),_)break;b=b.return}0<g.length&&(d=new p(d,m,null,n,h),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Py&&(m=n.relatedTarget||n.fromElement)&&(Oo(m)||m[ii]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Oo(m):null,m!==null&&(_=sa(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=cx,O="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=hx,O="onPointerLeave",w="onPointerEnter",b="pointer"),_=p==null?d:ja(p),x=m==null?d:ja(m),d=new g(O,b+"leave",p,n,h),d.target=_,d.relatedTarget=x,O=null,Oo(h)===u&&(g=new g(w,b+"enter",m,n,h),g.target=x,g.relatedTarget=_,O=g),_=O,p&&m)t:{for(g=p,w=m,b=0,x=g;x;x=_a(x))b++;for(x=0,O=w;O;O=_a(O))x++;for(;0<b-x;)g=_a(g),b--;for(;0<x-b;)w=_a(w),x--;for(;b--;){if(g===w||w!==null&&g===w.alternate)break t;g=_a(g),w=_a(w)}g=null}else g=null;p!==null&&Sx(f,d,p,g,!1),m!==null&&_!==null&&Sx(f,_,m,g,!0)}}e:{if(d=u?ja(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=g$;else if(mx(d))if(mO)T=_$;else{T=v$;var P=y$}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=b$);if(T&&(T=T(t,u))){pO(f,T,n,h);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&xy(d,"number",d.value)}switch(P=u?ja(u):window,t){case"focusin":(mx(P)||P.contentEditable==="true")&&(Ca=P,Ry=u,nu=null);break;case"focusout":nu=Ry=Ca=null;break;case"mousedown":My=!0;break;case"contextmenu":case"mouseup":case"dragend":My=!1,_x(f,n,h);break;case"selectionchange":if(S$)break;case"keydown":case"keyup":_x(f,n,h)}var S;if(bb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ka?hO(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(fO&&n.locale!=="ko"&&(ka||E!=="onCompositionStart"?E==="onCompositionEnd"&&ka&&(S=cO()):(Di=h,gb="value"in Di?Di.value:Di.textContent,ka=!0)),P=Oh(u,E),0<P.length&&(E=new fx(E,t,null,n,h),f.push({event:E,listeners:P}),S?E.data=S:(S=dO(n),S!==null&&(E.data=S)))),(S=f$?h$(t,n):d$(t,n))&&(u=Oh(u,"onBeforeInput"),0<u.length&&(h=new fx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}TO(f,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bu(t,n),o!=null&&r.unshift(Au(t,o,i)),o=bu(t,e),o!=null&&r.push(Au(t,o,i))),t=t.return}return r}function _a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sx(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=bu(n,o),l!=null&&a.unshift(Au(n,l,s))):i||(l=bu(n,o),l!=null&&a.push(Au(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var P$=/\r\n?/g,I$=/\u0000|\uFFFD/g;function Ex(t){return(typeof t=="string"?t:""+t).replace(P$,`
`).replace(I$,"")}function Af(t,e,n){if(e=Ex(e),Ex(t)!==e&&n)throw Error(ee(425))}function kh(){}var Dy=null,$y=null;function Ly(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,O$=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,k$=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(C$)}:Vy;function C$(t){setTimeout(function(){throw t})}function yg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),xr="__reactFiber$"+Gs,Pu="__reactProps$"+Gs,ii="__reactContainer$"+Gs,Fy="__reactEvents$"+Gs,N$="__reactListeners$"+Gs,j$="__reactHandles$"+Gs;function Oo(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ax(t);t!==null;){if(n=t[xr])return n;t=Ax(t)}return e}t=n,n=t.parentNode}return null}function Pc(t){return t=t[xr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function mp(t){return t[Pu]||null}var By=[],Ra=-1;function so(t){return{current:t}}function tt(t){0>Ra||(t.current=By[Ra],By[Ra]=null,Ra--)}function qe(t,e){Ra++,By[Ra]=t.current,t.current=e}var no={},an=so(no),xn=so(!1),Go=no;function os(t,e){var n=t.type.contextTypes;if(!n)return no;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Ch(){tt(xn),tt(an)}function Px(t,e,n){if(an.current!==no)throw Error(ee(168));qe(an,e),qe(xn,n)}function PO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,yD(t)||"Unknown",i));return ut({},n,r)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Go=an.current,qe(an,t),qe(xn,xn.current),!0}function Ix(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=PO(t,e,Go),r.__reactInternalMemoizedMergedChildContext=t,tt(xn),tt(an),qe(an,t)):tt(xn),qe(xn,n)}var Fr=null,gp=!1,vg=!1;function IO(t){Fr===null?Fr=[t]:Fr.push(t)}function R$(t){gp=!0,IO(t)}function lo(){if(!vg&&Fr!==null){vg=!0;var t=0,e=Le;try{var n=Fr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,gp=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),ZI(hb,lo),i}finally{Le=e,vg=!1}}return null}var Ma=[],Da=0,jh=null,Rh=0,zn=[],Wn=0,Ho=null,Ur=1,zr="";function So(t,e){Ma[Da++]=Rh,Ma[Da++]=jh,jh=t,Rh=e}function OO(t,e,n){zn[Wn++]=Ur,zn[Wn++]=zr,zn[Wn++]=Ho,Ho=t;var r=Ur;t=zr;var i=32-pr(r)-1;r&=~(1<<i),n+=1;var o=32-pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ur=1<<32-pr(e)+i|n<<i|r,zr=o+t}else Ur=1<<o|n<<i|r,zr=t}function wb(t){t.return!==null&&(So(t,1),OO(t,1,0))}function xb(t){for(;t===jh;)jh=Ma[--Da],Ma[Da]=null,Rh=Ma[--Da],Ma[Da]=null;for(;t===Ho;)Ho=zn[--Wn],zn[Wn]=null,zr=zn[--Wn],zn[Wn]=null,Ur=zn[--Wn],zn[Wn]=null}var Mn=null,jn=null,rt=!1,cr=null;function kO(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ox(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,jn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:Ur,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,jn=null,!0):!1;default:return!1}}function Uy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zy(t){if(rt){var e=jn;if(e){var n=e;if(!Ox(t,e)){if(Uy(t))throw Error(ee(418));e=zi(n.nextSibling);var r=Mn;e&&Ox(t,e)?kO(r,n):(t.flags=t.flags&-4097|2,rt=!1,Mn=t)}}else{if(Uy(t))throw Error(ee(418));t.flags=t.flags&-4097|2,rt=!1,Mn=t}}}function kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Pf(t){if(t!==Mn)return!1;if(!rt)return kx(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ly(t.type,t.memoizedProps)),e&&(e=jn)){if(Uy(t))throw CO(),Error(ee(418));for(;e;)kO(t,e),e=zi(e.nextSibling)}if(kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Mn?zi(t.stateNode.nextSibling):null;return!0}function CO(){for(var t=jn;t;)t=zi(t.nextSibling)}function as(){jn=Mn=null,rt=!1}function Sb(t){cr===null?cr=[t]:cr.push(t)}var M$=mi.ReactCurrentBatchConfig;function Pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function If(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cx(t){var e=t._init;return e(t._payload)}function NO(t){function e(w,b){if(t){var x=w.deletions;x===null?(w.deletions=[b],w.flags|=16):x.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=qi(w,b),w.index=0,w.sibling=null,w}function o(w,b,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<b?(w.flags|=2,b):x):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,b,x,O){return b===null||b.tag!==6?(b=Tg(x,w.mode,O),b.return=w,b):(b=i(b,x),b.return=w,b)}function l(w,b,x,O){var T=x.type;return T===Oa?h(w,b,x.props.children,O,x.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ai&&Cx(T)===b.type)?(O=i(b,x.props),O.ref=Pl(w,b,x),O.return=w,O):(O=hh(x.type,x.key,x.props,null,w.mode,O),O.ref=Pl(w,b,x),O.return=w,O)}function u(w,b,x,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Ag(x,w.mode,O),b.return=w,b):(b=i(b,x.children||[]),b.return=w,b)}function h(w,b,x,O,T){return b===null||b.tag!==7?(b=Vo(x,w.mode,O,T),b.return=w,b):(b=i(b,x),b.return=w,b)}function f(w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Tg(""+b,w.mode,x),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yf:return x=hh(b.type,b.key,b.props,null,w.mode,x),x.ref=Pl(w,null,b),x.return=w,x;case Ia:return b=Ag(b,w.mode,x),b.return=w,b;case Ai:var O=b._init;return f(w,O(b._payload),x)}if(Wl(b)||xl(b))return b=Vo(b,w.mode,x,null),b.return=w,b;If(w,b)}return null}function d(w,b,x,O){var T=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(w,b,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yf:return x.key===T?l(w,b,x,O):null;case Ia:return x.key===T?u(w,b,x,O):null;case Ai:return T=x._init,d(w,b,T(x._payload),O)}if(Wl(x)||xl(x))return T!==null?null:h(w,b,x,O,null);If(w,x)}return null}function p(w,b,x,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(x)||null,s(b,w,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yf:return w=w.get(O.key===null?x:O.key)||null,l(b,w,O,T);case Ia:return w=w.get(O.key===null?x:O.key)||null,u(b,w,O,T);case Ai:var P=O._init;return p(w,b,x,P(O._payload),T)}if(Wl(O)||xl(O))return w=w.get(x)||null,h(b,w,O,T,null);If(b,O)}return null}function m(w,b,x,O){for(var T=null,P=null,S=b,E=b=0,I=null;S!==null&&E<x.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var k=d(w,S,x[E],O);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(w,S),b=o(k,b,E),P===null?T=k:P.sibling=k,P=k,S=I}if(E===x.length)return n(w,S),rt&&So(w,E),T;if(S===null){for(;E<x.length;E++)S=f(w,x[E],O),S!==null&&(b=o(S,b,E),P===null?T=S:P.sibling=S,P=S);return rt&&So(w,E),T}for(S=r(w,S);E<x.length;E++)I=p(S,w,E,x[E],O),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),b=o(I,b,E),P===null?T=I:P.sibling=I,P=I);return t&&S.forEach(function(C){return e(w,C)}),rt&&So(w,E),T}function g(w,b,x,O){var T=xl(x);if(typeof T!="function")throw Error(ee(150));if(x=T.call(x),x==null)throw Error(ee(151));for(var P=T=null,S=b,E=b=0,I=null,k=x.next();S!==null&&!k.done;E++,k=x.next()){S.index>E?(I=S,S=null):I=S.sibling;var C=d(w,S,k.value,O);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(w,S),b=o(C,b,E),P===null?T=C:P.sibling=C,P=C,S=I}if(k.done)return n(w,S),rt&&So(w,E),T;if(S===null){for(;!k.done;E++,k=x.next())k=f(w,k.value,O),k!==null&&(b=o(k,b,E),P===null?T=k:P.sibling=k,P=k);return rt&&So(w,E),T}for(S=r(w,S);!k.done;E++,k=x.next())k=p(S,w,E,k.value,O),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),b=o(k,b,E),P===null?T=k:P.sibling=k,P=k);return t&&S.forEach(function(j){return e(w,j)}),rt&&So(w,E),T}function _(w,b,x,O){if(typeof x=="object"&&x!==null&&x.type===Oa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yf:e:{for(var T=x.key,P=b;P!==null;){if(P.key===T){if(T=x.type,T===Oa){if(P.tag===7){n(w,P.sibling),b=i(P,x.props.children),b.return=w,w=b;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ai&&Cx(T)===P.type){n(w,P.sibling),b=i(P,x.props),b.ref=Pl(w,P,x),b.return=w,w=b;break e}n(w,P);break}else e(w,P);P=P.sibling}x.type===Oa?(b=Vo(x.props.children,w.mode,O,x.key),b.return=w,w=b):(O=hh(x.type,x.key,x.props,null,w.mode,O),O.ref=Pl(w,b,x),O.return=w,w=O)}return a(w);case Ia:e:{for(P=x.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(w,b.sibling),b=i(b,x.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Ag(x,w.mode,O),b.return=w,w=b}return a(w);case Ai:return P=x._init,_(w,b,P(x._payload),O)}if(Wl(x))return m(w,b,x,O);if(xl(x))return g(w,b,x,O);If(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,x),b.return=w,w=b):(n(w,b),b=Tg(x,w.mode,O),b.return=w,w=b),a(w)):n(w,b)}return _}var ss=NO(!0),jO=NO(!1),Mh=so(null),Dh=null,$a=null,Eb=null;function Tb(){Eb=$a=Dh=null}function Ab(t){var e=Mh.current;tt(Mh),t._currentValue=e}function Wy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ka(t,e){Dh=t,Eb=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Eb!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if(Dh===null)throw Error(ee(308));$a=t,Dh.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var ko=null;function Pb(t){ko===null?ko=[t]:ko.push(t)}function RO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pb(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function Ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,Pb(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function ah(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}function Nx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $h(t,e,n,r){var i=t.updateQueue;Pi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,h=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ut({},f,d);break e;case 2:Pi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ko|=a,t.lanes=a,t.memoizedState=f}}function jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Ic={},Tr=so(Ic),Iu=so(Ic),Ou=so(Ic);function Co(t){if(t===Ic)throw Error(ee(174));return t}function Ob(t,e){switch(qe(Ou,e),qe(Iu,t),qe(Tr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ey(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ey(e,t)}tt(Tr),qe(Tr,e)}function ls(){tt(Tr),tt(Iu),tt(Ou)}function DO(t){Co(Ou.current);var e=Co(Tr.current),n=Ey(e,t.type);e!==n&&(qe(Iu,t),qe(Tr,n))}function kb(t){Iu.current===t&&(tt(Tr),tt(Iu))}var st=so(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function Cb(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var sh=mi.ReactCurrentDispatcher,_g=mi.ReactCurrentBatchConfig,qo=0,lt=null,St=null,Nt=null,Vh=!1,ru=!1,ku=0,D$=0;function Xt(){throw Error(ee(321))}function Nb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function jb(t,e,n,r,i,o){if(qo=o,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sh.current=t===null||t.memoizedState===null?F$:B$,t=n(r,i),ru){o=0;do{if(ru=!1,ku=0,25<=o)throw Error(ee(301));o+=1,Nt=St=null,e.updateQueue=null,sh.current=U$,t=n(r,i)}while(ru)}if(sh.current=Fh,e=St!==null&&St.next!==null,qo=0,Nt=St=lt=null,Vh=!1,e)throw Error(ee(300));return t}function Rb(){var t=ku!==0;return ku=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?lt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Jn(){if(St===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Nt===null?lt.memoizedState:Nt.next;if(e!==null)Nt=e,St=t;else{if(t===null)throw Error(ee(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Nt===null?lt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Cu(t,e){return typeof e=="function"?e(t):e}function wg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var h=u.lane;if((qo&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,lt.lanes|=h,Ko|=h}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,yr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,lt.lanes|=o,Ko|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);yr(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $O(){}function LO(t,e){var n=lt,r=Jn(),i=e(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,Mb(BO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Nu(9,FO.bind(null,n,r,i,e),void 0,null),jt===null)throw Error(ee(349));qo&30||VO(n,e,i)}return i}function VO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FO(t,e,n,r){e.value=n,e.getSnapshot=r,UO(e)&&zO(t)}function BO(t,e,n){return n(function(){UO(e)&&zO(t)})}function UO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function zO(t){var e=oi(t,1);e!==null&&mr(e,t,1,-1)}function Rx(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:t},e.queue=t,t=t.dispatch=V$.bind(null,lt,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WO(){return Jn().memoizedState}function lh(t,e,n,r){var i=_r();lt.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function yp(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(St!==null){var a=St.memoizedState;if(o=a.destroy,r!==null&&Nb(r,a.deps)){i.memoizedState=Nu(e,n,o,r);return}}lt.flags|=t,i.memoizedState=Nu(1|e,n,o,r)}function Mx(t,e){return lh(8390656,8,t,e)}function Mb(t,e){return yp(2048,8,t,e)}function GO(t,e){return yp(4,2,t,e)}function HO(t,e){return yp(4,4,t,e)}function qO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KO(t,e,n){return n=n!=null?n.concat([t]):null,yp(4,4,qO.bind(null,e,t),n)}function Db(){}function XO(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YO(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QO(t,e,n){return qo&21?(yr(n,e)||(n=nO(),lt.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function $$(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=_g.transition;_g.transition={};try{t(!1),e()}finally{Le=n,_g.transition=r}}function JO(){return Jn().memoizedState}function L$(t,e,n){var r=Hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZO(t))ek(e,n);else if(n=RO(t,e,n,r),n!==null){var i=dn();mr(n,t,r,i),tk(n,e,r)}}function V$(t,e,n){var r=Hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZO(t))ek(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,yr(s,a)){var l=e.interleaved;l===null?(i.next=i,Pb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RO(t,e,i,r),n!==null&&(i=dn(),mr(n,t,r,i),tk(n,e,r))}}function ZO(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function ek(t,e){ru=Vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}var Fh={readContext:Qn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},F$={readContext:Qn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:Mx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lh(4194308,4,qO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return lh(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=L$.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:Rx,useDebugValue:Db,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=Rx(!1),e=t[0];return t=$$.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=_r();if(rt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),jt===null)throw Error(ee(349));qo&30||VO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Mx(BO.bind(null,r,o,t),[t]),r.flags|=2048,Nu(9,FO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_r(),e=jt.identifierPrefix;if(rt){var n=zr,r=Ur;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=D$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B$={readContext:Qn,useCallback:XO,useContext:Qn,useEffect:Mb,useImperativeHandle:KO,useInsertionEffect:GO,useLayoutEffect:HO,useMemo:YO,useReducer:wg,useRef:WO,useState:function(){return wg(Cu)},useDebugValue:Db,useDeferredValue:function(t){var e=Jn();return QO(e,St.memoizedState,t)},useTransition:function(){var t=wg(Cu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:$O,useSyncExternalStore:LO,useId:JO,unstable_isNewReconciler:!1},U$={readContext:Qn,useCallback:XO,useContext:Qn,useEffect:Mb,useImperativeHandle:KO,useInsertionEffect:GO,useLayoutEffect:HO,useMemo:YO,useReducer:xg,useRef:WO,useState:function(){return xg(Cu)},useDebugValue:Db,useDeferredValue:function(t){var e=Jn();return St===null?e.memoizedState=t:QO(e,St.memoizedState,t)},useTransition:function(){var t=xg(Cu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:$O,useSyncExternalStore:LO,useId:JO,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vp={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Hi(t),o=Qr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wi(t,o,i),e!==null&&(mr(e,t,i,r),ah(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Hi(t),o=Qr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wi(t,o,i),e!==null&&(mr(e,t,i,r),ah(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Hi(t),i=Qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(mr(e,t,r,n),ah(e,t,r))}};function Dx(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Eu(n,r)||!Eu(i,o):!0}function nk(t,e,n){var r=!1,i=no,o=e.contextType;return typeof o=="object"&&o!==null?o=Qn(o):(i=Sn(e)?Go:an.current,r=e.contextTypes,o=(r=r!=null)?os(t,i):no),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $x(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function Hy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ib(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Qn(o):(o=Sn(e)?Go:an.current,i.context=os(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vp.enqueueReplaceState(i,i.state,null),$h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function us(t,e){try{var n="",r=e;do n+=gD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Sg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z$=typeof WeakMap=="function"?WeakMap:Map;function rk(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uh||(Uh=!0,rv=r),qy(t,e)},n}function ik(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qy(t,e),typeof r!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Lx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rL.bind(null,t,e,n),e.then(t,t))}function Vx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var W$=mi.ReactCurrentOwner,_n=!1;function cn(t,e,n,r){e.child=t===null?jO(e,null,n,r):ss(e,t.child,n,r)}function Bx(t,e,n,r,i){n=n.render;var o=e.ref;return Ka(e,i),r=jb(t,e,n,r,o,i),n=Rb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(rt&&n&&wb(e),e.flags|=1,cn(t,e,r,i),e.child)}function Ux(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Wb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ok(t,e,o,r,i)):(t=hh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Eu,n(a,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=qi(o,r),t.ref=e.ref,t.return=e,e.child=t}function ok(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Eu(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Ky(t,e,n,r,i)}function ak(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Va,kn),kn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Va,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(Va,kn),kn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(Va,kn),kn|=r;return cn(t,e,i,n),e.child}function sk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ky(t,e,n,r,i){var o=Sn(n)?Go:an.current;return o=os(e,o),Ka(e,i),n=jb(t,e,n,r,o,i),r=Rb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(rt&&r&&wb(e),e.flags|=1,cn(t,e,n,i),e.child)}function zx(t,e,n,r,i){if(Sn(n)){var o=!0;Nh(e)}else o=!1;if(Ka(e,i),e.stateNode===null)uh(t,e),nk(e,n,r),Hy(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=Sn(n)?Go:an.current,u=os(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&$x(e,a,r,u),Pi=!1;var d=e.memoizedState;a.state=d,$h(e,r,a,i),l=e.memoizedState,s!==r||d!==l||xn.current||Pi?(typeof h=="function"&&(Gy(e,n,h,r),l=e.memoizedState),(s=Pi||Dx(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,MO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ar(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=Sn(n)?Go:an.current,l=os(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&$x(e,a,r,l),Pi=!1,d=e.memoizedState,a.state=d,$h(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||xn.current||Pi?(typeof p=="function"&&(Gy(e,n,p,r),m=e.memoizedState),(u=Pi||Dx(e,n,u,r,d,m,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Xy(t,e,n,r,o,i)}function Xy(t,e,n,r,i,o){sk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ix(e,n,!1),ai(t,e,o);r=e.stateNode,W$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ss(e,t.child,null,o),e.child=ss(e,null,s,o)):cn(t,e,s,o),e.memoizedState=r.state,i&&Ix(e,n,!0),e.child}function lk(t){var e=t.stateNode;e.pendingContext?Px(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Px(t,e.context,!1),Ob(t,e.containerInfo)}function Wx(t,e,n,r,i){return as(),Sb(i),e.flags|=256,cn(t,e,n,r),e.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function uk(t,e,n){var r=e.pendingProps,i=st.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(st,i&1),t===null)return zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wp(a,r,0,null),t=Vo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Qy(n),e.memoizedState=Yy,t):$b(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return G$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=qi(s,o):(o=Vo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Qy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Yy,r}return o=t.child,t=o.sibling,r=qi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $b(t,e){return e=wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&Sb(r),ss(e,t.child,null,n),t=$b(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Sg(Error(ee(422))),Of(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wp({mode:"visible",children:r.children},i,0,null),o=Vo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ss(e,t.child,null,a),e.child.memoizedState=Qy(a),e.memoizedState=Yy,o);if(!(e.mode&1))return Of(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=Sg(o,r,void 0),Of(t,e,a,r)}if(s=(a&t.childLanes)!==0,_n||s){if(r=jt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,oi(t,i),mr(r,t,i,-1))}return zb(),r=Sg(Error(ee(421))),Of(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jn=zi(i.nextSibling),Mn=e,rt=!0,cr=null,t!==null&&(zn[Wn++]=Ur,zn[Wn++]=zr,zn[Wn++]=Ho,Ur=t.id,zr=t.overflow,Ho=e),e=$b(e,r.children),e.flags|=4096,e)}function Gx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wy(t.return,e,n)}function Eg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ck(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gx(t,n,e);else if(t.tag===19)Gx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eg(e,!0,n,null,o);break;case"together":Eg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function H$(t,e,n){switch(e.tag){case 3:lk(e),as();break;case 5:DO(e);break;case 1:Sn(e.type)&&Nh(e);break;case 4:Ob(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?uk(t,e,n):(qe(st,st.current&1),t=ai(t,e,n),t!==null?t.sibling:null);qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ck(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,ak(t,e,n)}return ai(t,e,n)}var fk,Jy,hk,dk;fk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jy=function(){};hk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Co(Tr.current);var o=null;switch(n){case"input":i=_y(t,i),r=_y(t,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=Sy(t,i),r=Sy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kh)}Ty(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};dk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Il(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function q$(t,e,n){var r=e.pendingProps;switch(xb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Sn(e.type)&&Ch(),Yt(e),null;case 3:return r=e.stateNode,ls(),tt(xn),tt(an),Cb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(av(cr),cr=null))),Jy(t,e),Yt(e),null;case 5:kb(e);var i=Co(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)hk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Yt(e),null}if(t=Co(Tr.current),Pf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xr]=e,r[Pu]=o,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<Hl.length;i++)Qe(Hl[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":ex(r,o),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",r);break;case"textarea":nx(r,o),Qe("invalid",r)}Ty(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Af(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Af(r.textContent,s,t),i=["children",""+s]):yu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Qe("scroll",r)}switch(n){case"input":vf(r),tx(r,o,!0);break;case"textarea":vf(r),rx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xr]=e,t[Pu]=r,fk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ay(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hl.length;i++)Qe(Hl[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":ex(t,r),i=_y(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":nx(t,r),i=Sy(t,r),Qe("invalid",t);break;default:i=r}Ty(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?WI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vu(t,l):typeof l=="number"&&vu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Qe("scroll",t):l!=null&&sb(t,o,l,a))}switch(n){case"input":vf(t),tx(t,r,!1);break;case"textarea":vf(t),rx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+to(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Wa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Wa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)dk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Co(Ou.current),Co(Tr.current),Pf(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Af(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Af(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Yt(e),null;case 13:if(tt(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&jn!==null&&e.mode&1&&!(e.flags&128))CO(),as(),e.flags|=98560,o=!1;else if(o=Pf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[xr]=e}else as(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else cr!==null&&(av(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Tt===0&&(Tt=3):zb())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return ls(),Jy(t,e),t===null&&Tu(e.stateNode.containerInfo),Yt(e),null;case 10:return Ab(e.type._context),Yt(e),null;case 17:return Sn(e.type)&&Ch(),Yt(e),null;case 19:if(tt(st),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Il(o,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lh(t),a!==null){for(e.flags|=128,Il(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(st,st.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>cs&&(e.flags|=128,r=!0,Il(o,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!rt)return Yt(e),null}else 2*mt()-o.renderingStartTime>cs&&n!==1073741824&&(e.flags|=128,r=!0,Il(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,n=st.current,qe(st,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Ub(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function K$(t,e){switch(xb(e),e.tag){case 1:return Sn(e.type)&&Ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),tt(xn),tt(an),Cb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kb(e),null;case 13:if(tt(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));as()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(st),null;case 4:return ls(),null;case 10:return Ab(e.type._context),null;case 22:case 23:return Ub(),null;case 24:return null;default:return null}}var kf=!1,tn=!1,X$=typeof WeakSet=="function"?WeakSet:Set,le=null;function La(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function Zy(t,e,n){try{n()}catch(r){ht(t,e,r)}}var Hx=!1;function Y$(t,e){if(Dy=Ph,t=vO(),_b(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++h===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($y={focusedElem:t,selectionRange:n},Ph=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:ar(e.type,g),_);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(O){ht(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=Hx,Hx=!1,m}function iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zy(e,n,o)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ev(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pk(t){var e=t.alternate;e!==null&&(t.alternate=null,pk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Pu],delete e[Fy],delete e[N$],delete e[j$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mk(t){return t.tag===5||t.tag===3||t.tag===4}function qx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kh));else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}var $t=null,sr=!1;function Ei(t,e,n){for(n=n.child;n!==null;)gk(t,e,n),n=n.sibling}function gk(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(fp,n)}catch{}switch(n.tag){case 5:tn||La(n,e);case 6:var r=$t,i=sr;$t=null,Ei(t,e,n),$t=r,sr=i,$t!==null&&(sr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(sr?(t=$t,n=n.stateNode,t.nodeType===8?yg(t.parentNode,n):t.nodeType===1&&yg(t,n),xu(t)):yg($t,n.stateNode));break;case 4:r=$t,i=sr,$t=n.stateNode.containerInfo,sr=!0,Ei(t,e,n),$t=r,sr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Zy(n,e,a),i=i.next}while(i!==r)}Ei(t,e,n);break;case 1:if(!tn&&(La(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ht(n,e,s)}Ei(t,e,n);break;case 21:Ei(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ei(t,e,n),tn=r):Ei(t,e,n);break;default:Ei(t,e,n)}}function Kx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X$),e.forEach(function(r){var i=oL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:$t=s.stateNode,sr=!1;break e;case 3:$t=s.stateNode.containerInfo,sr=!0;break e;case 4:$t=s.stateNode.containerInfo,sr=!0;break e}s=s.return}if($t===null)throw Error(ee(160));gk(o,a,i),$t=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yk(e,t),e=e.sibling}function yk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),br(t),r&4){try{iu(3,t,t.return),bp(3,t)}catch(g){ht(t,t.return,g)}try{iu(5,t,t.return)}catch(g){ht(t,t.return,g)}}break;case 1:rr(e,t),br(t),r&512&&n!==null&&La(n,n.return);break;case 5:if(rr(e,t),br(t),r&512&&n!==null&&La(n,n.return),t.flags&32){var i=t.stateNode;try{vu(i,"")}catch(g){ht(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&VI(i,o),Ay(s,a);var u=Ay(s,o);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?WI(i,f):h==="dangerouslySetInnerHTML"?UI(i,f):h==="children"?vu(i,f):sb(i,h,f,u)}switch(s){case"input":wy(i,o);break;case"textarea":FI(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wa(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Wa(i,!!o.multiple,o.defaultValue,!0):Wa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pu]=o}catch(g){ht(t,t.return,g)}}break;case 6:if(rr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ht(t,t.return,g)}}break;case 3:if(rr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(g){ht(t,t.return,g)}break;case 4:rr(e,t),br(t);break;case 13:rr(e,t),br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Fb=mt())),r&4&&Kx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(u=tn)||h,rr(e,t),tn=u):rr(e,t),br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(f=le=h;le!==null;){switch(d=le,p=d.child,d.tag){case 0:case 11:case 14:case 15:iu(4,d,d.return);break;case 1:La(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ht(r,n,g)}}break;case 5:La(d,d.return);break;case 22:if(d.memoizedState!==null){Yx(f);continue}}p!==null?(p.return=d,le=p):Yx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=zI("display",a))}catch(g){ht(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ht(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rr(e,t),br(t),r&4&&Kx(t);break;case 21:break;default:rr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mk(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vu(i,""),r.flags&=-33);var o=qx(t);nv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=qx(t);tv(t,s,a);break;default:throw Error(ee(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q$(t,e,n){le=t,vk(t)}function vk(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||kf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||tn;s=kf;var u=tn;if(kf=a,(tn=l)&&!u)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?Qx(i):l!==null?(l.return=a,le=l):Qx(i);for(;o!==null;)le=o,vk(o),o=o.sibling;le=i,kf=s,tn=u}Xx(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):Xx(t)}}function Xx(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jx(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jx(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}tn||e.flags&512&&ev(e)}catch(d){ht(e,e.return,d)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function Yx(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Qx(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var o=e.return;try{ev(e)}catch(l){ht(e,o,l)}break;case 5:var a=e.return;try{ev(e)}catch(l){ht(e,a,l)}}}catch(l){ht(e,e.return,l)}if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}var J$=Math.ceil,Bh=mi.ReactCurrentDispatcher,Lb=mi.ReactCurrentOwner,qn=mi.ReactCurrentBatchConfig,Ne=0,jt=null,bt=null,Bt=0,kn=0,Va=so(0),Tt=0,ju=null,Ko=0,_p=0,Vb=0,ou=null,vn=null,Fb=0,cs=1/0,Vr=null,Uh=!1,rv=null,Gi=null,Cf=!1,$i=null,zh=0,au=0,iv=null,ch=-1,fh=0;function dn(){return Ne&6?mt():ch!==-1?ch:ch=mt()}function Hi(t){return t.mode&1?Ne&2&&Bt!==0?Bt&-Bt:M$.transition!==null?(fh===0&&(fh=nO()),fh):(t=Le,t!==0||(t=window.event,t=t===void 0?16:uO(t.type)),t):1}function mr(t,e,n,r){if(50<au)throw au=0,iv=null,Error(ee(185));Tc(t,n,r),(!(Ne&2)||t!==jt)&&(t===jt&&(!(Ne&2)&&(_p|=n),Tt===4&&Ci(t,Bt)),En(t,r),n===1&&Ne===0&&!(e.mode&1)&&(cs=mt()+500,gp&&lo()))}function En(t,e){var n=t.callbackNode;MD(t,e);var r=Ah(t,t===jt?Bt:0);if(r===0)n!==null&&ax(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ax(n),e===1)t.tag===0?R$(Jx.bind(null,t)):IO(Jx.bind(null,t)),k$(function(){!(Ne&6)&&lo()}),n=null;else{switch(rO(r)){case 1:n=hb;break;case 4:n=eO;break;case 16:n=Th;break;case 536870912:n=tO;break;default:n=Th}n=Ak(n,bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bk(t,e){if(ch=-1,fh=0,Ne&6)throw Error(ee(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Ah(t,t===jt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var i=Ne;Ne|=2;var o=wk();(jt!==t||Bt!==e)&&(Vr=null,cs=mt()+500,Lo(t,e));do try{tL();break}catch(s){_k(t,s)}while(1);Tb(),Bh.current=o,Ne=i,bt!==null?e=0:(jt=null,Bt=0,e=Tt)}if(e!==0){if(e===2&&(i=Cy(t),i!==0&&(r=i,e=ov(t,i))),e===1)throw n=ju,Lo(t,0),Ci(t,r),En(t,mt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z$(i)&&(e=Wh(t,r),e===2&&(o=Cy(t),o!==0&&(r=o,e=ov(t,o))),e===1))throw n=ju,Lo(t,0),Ci(t,r),En(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Eo(t,vn,Vr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=Fb+500-mt(),10<e)){if(Ah(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vy(Eo.bind(null,t,vn,Vr),e);break}Eo(t,vn,Vr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J$(r/1960))-r,10<r){t.timeoutHandle=Vy(Eo.bind(null,t,vn,Vr),r);break}Eo(t,vn,Vr);break;case 5:Eo(t,vn,Vr);break;default:throw Error(ee(329))}}}return En(t,mt()),t.callbackNode===n?bk.bind(null,t):null}function ov(t,e){var n=ou;return t.current.memoizedState.isDehydrated&&(Lo(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=vn,vn=n,e!==null&&av(e)),t}function av(t){vn===null?vn=t:vn.push.apply(vn,t)}function Z$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~Vb,e&=~_p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),r=1<<n;t[n]=-1,e&=~r}}function Jx(t){if(Ne&6)throw Error(ee(327));Xa();var e=Ah(t,0);if(!(e&1))return En(t,mt()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=Cy(t);r!==0&&(e=r,n=ov(t,r))}if(n===1)throw n=ju,Lo(t,0),Ci(t,e),En(t,mt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eo(t,vn,Vr),En(t,mt()),null}function Bb(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(cs=mt()+500,gp&&lo())}}function Xo(t){$i!==null&&$i.tag===0&&!(Ne&6)&&Xa();var e=Ne;Ne|=1;var n=qn.transition,r=Le;try{if(qn.transition=null,Le=1,t)return t()}finally{Le=r,qn.transition=n,Ne=e,!(Ne&6)&&lo()}}function Ub(){kn=Va.current,tt(Va)}function Lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O$(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(xb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ch();break;case 3:ls(),tt(xn),tt(an),Cb();break;case 5:kb(r);break;case 4:ls();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Ab(r.type._context);break;case 22:case 23:Ub()}n=n.return}if(jt=t,bt=t=qi(t.current,null),Bt=kn=e,Tt=0,ju=null,Vb=_p=Ko=0,vn=ou=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return t}function _k(t,e){do{var n=bt;try{if(Tb(),sh.current=Fh,Vh){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vh=!1}if(qo=0,Nt=St=lt=null,ru=!1,ku=0,Lb.current=null,n===null||n.return===null){Tt=1,ju=e,bt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Bt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Vx(a);if(p!==null){p.flags&=-257,Fx(p,a,s,o,e),p.mode&1&&Lx(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Lx(o,u,e),zb();break e}l=Error(ee(426))}}else if(rt&&s.mode&1){var _=Vx(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Fx(_,a,s,o,e),Sb(us(l,s));break e}}o=l=us(l,s),Tt!==4&&(Tt=2),ou===null?ou=[o]:ou.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=rk(o,l,e);Nx(o,w);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gi===null||!Gi.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=ik(o,s,e);Nx(o,O);break e}}o=o.return}while(o!==null)}Sk(n)}catch(T){e=T,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function wk(){var t=Bh.current;return Bh.current=Fh,t===null?Fh:t}function zb(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),jt===null||!(Ko&268435455)&&!(_p&268435455)||Ci(jt,Bt)}function Wh(t,e){var n=Ne;Ne|=2;var r=wk();(jt!==t||Bt!==e)&&(Vr=null,Lo(t,e));do try{eL();break}catch(i){_k(t,i)}while(1);if(Tb(),Ne=n,Bh.current=r,bt!==null)throw Error(ee(261));return jt=null,Bt=0,Tt}function eL(){for(;bt!==null;)xk(bt)}function tL(){for(;bt!==null&&!AD();)xk(bt)}function xk(t){var e=Tk(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?Sk(t):bt=e,Lb.current=null}function Sk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K$(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,bt=null;return}}else if(n=q$(n,e,kn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Eo(t,e,n){var r=Le,i=qn.transition;try{qn.transition=null,Le=1,nL(t,e,n,r)}finally{qn.transition=i,Le=r}return null}function nL(t,e,n,r){do Xa();while($i!==null);if(Ne&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(DD(t,o),t===jt&&(bt=jt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cf||(Cf=!0,Ak(Th,function(){return Xa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qn.transition,qn.transition=null;var a=Le;Le=1;var s=Ne;Ne|=4,Lb.current=null,Y$(t,n),yk(n,t),x$($y),Ph=!!Dy,$y=Dy=null,t.current=n,Q$(n),PD(),Ne=s,Le=a,qn.transition=o}else t.current=n;if(Cf&&(Cf=!1,$i=t,zh=i),o=t.pendingLanes,o===0&&(Gi=null),kD(n.stateNode),En(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,t=rv,rv=null,t;return zh&1&&t.tag!==0&&Xa(),o=t.pendingLanes,o&1?t===iv?au++:(au=0,iv=t):au=0,lo(),null}function Xa(){if($i!==null){var t=rO(zh),e=qn.transition,n=Le;try{if(qn.transition=null,Le=16>t?16:t,$i===null)var r=!1;else{if(t=$i,$i=null,zh=0,Ne&6)throw Error(ee(331));var i=Ne;for(Ne|=4,le=t.current;le!==null;){var o=le,a=o.child;if(le.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(le=u;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:iu(8,h,o)}var f=h.child;if(f!==null)f.return=h,le=f;else for(;le!==null;){h=le;var d=h.sibling,p=h.return;if(pk(h),h===u){le=null;break}if(d!==null){d.return=p,le=d;break}le=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}le=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,le=a;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:iu(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,le=w;break e}le=o.return}}var b=t.current;for(le=b;le!==null;){a=le;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,le=x;else e:for(a=b;le!==null;){if(s=le,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bp(9,s)}}catch(T){ht(s,s.return,T)}if(s===a){le=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,le=O;break e}le=s.return}}if(Ne=i,lo(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(fp,t)}catch{}r=!0}return r}finally{Le=n,qn.transition=e}}return!1}function Zx(t,e,n){e=us(n,e),e=rk(t,e,1),t=Wi(t,e,1),e=dn(),t!==null&&(Tc(t,1,e),En(t,e))}function ht(t,e,n){if(t.tag===3)Zx(t,t,n);else for(;e!==null;){if(e.tag===3){Zx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gi===null||!Gi.has(r))){t=us(n,t),t=ik(e,t,1),e=Wi(e,t,1),t=dn(),e!==null&&(Tc(e,1,t),En(e,t));break}}e=e.return}}function rL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(Bt&n)===n&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>mt()-Fb?Lo(t,0):Vb|=n),En(t,e)}function Ek(t,e){e===0&&(t.mode&1?(e=wf,wf<<=1,!(wf&130023424)&&(wf=4194304)):e=1);var n=dn();t=oi(t,e),t!==null&&(Tc(t,e,n),En(t,n))}function iL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ek(t,n)}function oL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Ek(t,n)}var Tk;Tk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,H$(t,e,n);_n=!!(t.flags&131072)}else _n=!1,rt&&e.flags&1048576&&OO(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uh(t,e),t=e.pendingProps;var i=os(e,an.current);Ka(e,n),i=jb(null,e,r,t,i,n);var o=Rb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Nh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ib(e),i.updater=vp,e.stateNode=i,i._reactInternals=e,Hy(e,r,t,n),e=Xy(null,e,r,!0,o,n)):(e.tag=0,rt&&o&&wb(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sL(r),t=ar(r,t),i){case 0:e=Ky(null,e,r,t,n);break e;case 1:e=zx(null,e,r,t,n);break e;case 11:e=Bx(null,e,r,t,n);break e;case 14:e=Ux(null,e,r,ar(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),zx(t,e,r,i,n);case 3:e:{if(lk(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,MO(t,e),$h(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=us(Error(ee(423)),e),e=Wx(t,e,r,n,i);break e}else if(r!==i){i=us(Error(ee(424)),e),e=Wx(t,e,r,n,i);break e}else for(jn=zi(e.stateNode.containerInfo.firstChild),Mn=e,rt=!0,cr=null,n=jO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===i){e=ai(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return DO(e),t===null&&zy(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Ly(r,i)?a=null:o!==null&&Ly(r,o)&&(e.flags|=32),sk(t,e),cn(t,e,a,n),e.child;case 6:return t===null&&zy(e),null;case 13:return uk(t,e,n);case 4:return Ob(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ss(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Bx(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,qe(Mh,r._currentValue),r._currentValue=a,o!==null)if(yr(o.value,a)){if(o.children===i.children&&!xn.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wy(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Wy(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ka(e,n),i=Qn(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),Ux(t,e,r,i,n);case 15:return ok(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),uh(t,e),e.tag=1,Sn(r)?(t=!0,Nh(e)):t=!1,Ka(e,n),nk(e,r,i),Hy(e,r,i,n),Xy(null,e,r,!0,t,n);case 19:return ck(t,e,n);case 22:return ak(t,e,n)}throw Error(ee(156,e.tag))};function Ak(t,e){return ZI(t,e)}function aL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new aL(t,e,n,r)}function Wb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sL(t){if(typeof t=="function")return Wb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ub)return 11;if(t===cb)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Wb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oa:return Vo(n.children,i,o,e);case lb:a=8,i|=8;break;case gy:return t=Gn(12,n,e,i|2),t.elementType=gy,t.lanes=o,t;case yy:return t=Gn(13,n,e,i),t.elementType=yy,t.lanes=o,t;case vy:return t=Gn(19,n,e,i),t.elementType=vy,t.lanes=o,t;case DI:return wp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RI:a=10;break e;case MI:a=9;break e;case ub:a=11;break e;case cb:a=14;break e;case Ai:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Gn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vo(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function wp(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=DI,t.lanes=n,t.stateNode={isHidden:!1},t}function Tg(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Ag(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gb(t,e,n,r,i,o,a,s,l){return t=new lL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ib(o),t}function uL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pk(t){if(!t)return no;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Sn(n))return PO(t,n,e)}return e}function Ik(t,e,n,r,i,o,a,s,l){return t=Gb(n,r,!0,t,i,o,a,s,l),t.context=Pk(null),n=t.current,r=dn(),i=Hi(n),o=Qr(r,i),o.callback=e??null,Wi(n,o,i),t.current.lanes=i,Tc(t,i,r),En(t,r),t}function xp(t,e,n,r){var i=e.current,o=dn(),a=Hi(i);return n=Pk(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,a),t!==null&&(mr(t,i,a,o),ah(t,i,a)),a}function Gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hb(t,e){eS(t,e),(t=t.alternate)&&eS(t,e)}function cL(){return null}var Ok=typeof reportError=="function"?reportError:function(t){console.error(t)};function qb(t){this._internalRoot=t}Sp.prototype.render=qb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));xp(t,e,null,null)};Sp.prototype.unmount=qb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){xp(null,t,null,null)}),e[ii]=null}};function Sp(t){this._internalRoot=t}Sp.prototype.unstable_scheduleHydration=function(t){if(t){var e=aO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&lO(t)}};function Kb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tS(){}function fL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Gh(a);o.call(u)}}var a=Ik(e,r,t,0,null,!1,!1,"",tS);return t._reactRootContainer=a,t[ii]=a.current,Tu(t.nodeType===8?t.parentNode:t),Xo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Gh(l);s.call(u)}}var l=Gb(t,0,!1,null,null,!1,!1,"",tS);return t._reactRootContainer=l,t[ii]=l.current,Tu(t.nodeType===8?t.parentNode:t),Xo(function(){xp(e,l,n,r)}),l}function Tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gh(a);s.call(l)}}xp(e,a,t,i)}else a=fL(n,e,t,i,r);return Gh(a)}iO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(db(e,n|1),En(e,mt()),!(Ne&6)&&(cs=mt()+500,lo()))}break;case 13:Xo(function(){var r=oi(t,1);if(r!==null){var i=dn();mr(r,t,1,i)}}),Hb(t,1)}};pb=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=dn();mr(e,t,134217728,n)}Hb(t,134217728)}};oO=function(t){if(t.tag===13){var e=Hi(t),n=oi(t,e);if(n!==null){var r=dn();mr(n,t,e,r)}Hb(t,e)}};aO=function(){return Le};sO=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Iy=function(t,e,n){switch(e){case"input":if(wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mp(r);if(!i)throw Error(ee(90));LI(r),wy(r,i)}}}break;case"textarea":FI(t,n);break;case"select":e=n.value,e!=null&&Wa(t,!!n.multiple,e,!1)}};qI=Bb;KI=Xo;var hL={usingClientEntryPoint:!1,Events:[Pc,ja,mp,GI,HI,Bb]},Ol={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dL={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||cL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{fp=Nf.inject(dL),Er=Nf}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hL;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kb(e))throw Error(ee(200));return uL(t,e,null,n)};Ln.createRoot=function(t,e){if(!Kb(t))throw Error(ee(299));var n=!1,r="",i=Ok;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gb(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,Tu(t.nodeType===8?t.parentNode:t),new qb(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=QI(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Xo(t)};Ln.hydrate=function(t,e,n){if(!Ep(e))throw Error(ee(200));return Tp(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!Kb(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Ok;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Ik(e,null,t,1,n??null,i,!1,o,a),t[ii]=e.current,Tu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sp(e)};Ln.render=function(t,e,n){if(!Ep(e))throw Error(ee(200));return Tp(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Ep(t))throw Error(ee(40));return t._reactRootContainer?(Xo(function(){Tp(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Ln.unstable_batchedUpdates=Bb;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ep(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Tp(t,e,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kk)}catch(t){console.error(t)}}kk(),kI.exports=Ln;var pL=kI.exports,nS=pL;py.createRoot=nS.createRoot,py.hydrateRoot=nS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[h],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ck(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new gL;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yL=function(t){const e=Ck(t);return Nk.encodeByteArray(e,!0)},Hh=function(t){return yL(t).replace(/\./g,"")},jk=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=()=>vL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jk(t[1]);return e&&JSON.parse(e)},Ap=()=>{try{return bL()||_L()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rk=t=>{var e,n;return(n=(e=Ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xL=t=>{const e=Rk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mk=()=>{var t;return(t=Ap())===null||t===void 0?void 0:t.config},Dk=t=>{var e;return(e=Ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Hh(JSON.stringify(n)),Hh(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function AL(){var t;const e=(t=Ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kL(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CL(){return!AL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NL(){try{return typeof indexedDB=="object"}catch{return!1}}function jL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RL,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?ML(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new gi(i,s,r)}}function ML(t,e){return t.replace(DL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DL=/\{\$([^}]+)}/g;function $L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(rS(o)&&rS(a)){if(!qh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LL(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class Yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zL(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UL(t){return t===To?void 0:t}function zL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const GL={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},HL=Oe.INFO,qL={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},KL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xb{constructor(e){this.name=e,this._logLevel=HL,this._logHandler=KL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const XL=(t,e)=>e.some(n=>t instanceof n);let iS,oS;function YL(){return iS||(iS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $k=new WeakMap,sv=new WeakMap,Lk=new WeakMap,Ig=new WeakMap,Yb=new WeakMap;function JL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ki(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$k.set(n,t)}).catch(()=>{}),Yb.set(e,t),e}function ZL(t){if(sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});sv.set(t,e)}let lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e4(t){lv=t(lv)}function t4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Og(this),e,...n);return Lk.set(r,e.sort?e.sort():[e]),Ki(r)}:QL().includes(t)?function(...e){return t.apply(Og(this),e),Ki($k.get(this))}:function(...e){return Ki(t.apply(Og(this),e))}}function n4(t){return typeof t=="function"?t4(t):(t instanceof IDBTransaction&&ZL(t),XL(t,YL())?new Proxy(t,lv):t)}function Ki(t){if(t instanceof IDBRequest)return JL(t);if(Ig.has(t))return Ig.get(t);const e=n4(t);return e!==t&&(Ig.set(t,e),Yb.set(e,t)),e}const Og=t=>Yb.get(t);function r4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Ki(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ki(a.result),l.oldVersion,l.newVersion,Ki(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const i4=["get","getKey","getAll","getAllKeys","count"],o4=["put","add","delete","clear"],kg=new Map;function aS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return kg.set(e,o),o}e4(t=>({...t,get:(e,n,r)=>aS(e,n)||t.get(e,n,r),has:(e,n)=>!!aS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uv="@firebase/app",sS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Xb("@firebase/app"),l4="@firebase/app-compat",u4="@firebase/analytics-compat",c4="@firebase/analytics",f4="@firebase/app-check-compat",h4="@firebase/app-check",d4="@firebase/auth",p4="@firebase/auth-compat",m4="@firebase/database",g4="@firebase/data-connect",y4="@firebase/database-compat",v4="@firebase/functions",b4="@firebase/functions-compat",_4="@firebase/installations",w4="@firebase/installations-compat",x4="@firebase/messaging",S4="@firebase/messaging-compat",E4="@firebase/performance",T4="@firebase/performance-compat",A4="@firebase/remote-config",P4="@firebase/remote-config-compat",I4="@firebase/storage",O4="@firebase/storage-compat",k4="@firebase/firestore",C4="@firebase/vertexai-preview",N4="@firebase/firestore-compat",j4="firebase",R4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="[DEFAULT]",M4={[uv]:"fire-core",[l4]:"fire-core-compat",[c4]:"fire-analytics",[u4]:"fire-analytics-compat",[h4]:"fire-app-check",[f4]:"fire-app-check-compat",[d4]:"fire-auth",[p4]:"fire-auth-compat",[m4]:"fire-rtdb",[g4]:"fire-data-connect",[y4]:"fire-rtdb-compat",[v4]:"fire-fn",[b4]:"fire-fn-compat",[_4]:"fire-iid",[w4]:"fire-iid-compat",[x4]:"fire-fcm",[S4]:"fire-fcm-compat",[E4]:"fire-perf",[T4]:"fire-perf-compat",[A4]:"fire-rc",[P4]:"fire-rc-compat",[I4]:"fire-gcs",[O4]:"fire-gcs-compat",[k4]:"fire-fst",[N4]:"fire-fst-compat",[C4]:"fire-vertex","fire-js":"fire-js",[j4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,D4=new Map,fv=new Map;function lS(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(fv.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;fv.set(e,t);for(const n of Kh.values())lS(n,t);for(const n of D4.values())lS(n,t);return!0}function Qb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Oc("app","Firebase",$4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=R4;function Vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=Mk()),!n)throw Xi.create("no-options");const o=Kh.get(i);if(o){if(qh(n,o.options)&&qh(r,o.config))return o;throw Xi.create("duplicate-app",{appName:i})}const a=new WL(i);for(const l of fv.values())a.addComponent(l);const s=new L4(n,r,a);return Kh.set(i,s),s}function Fk(t=cv){const e=Kh.get(t);if(!e&&t===cv&&Mk())return Vk();if(!e)throw Xi.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let i=(r=M4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(s.join(" "));return}fs(new Yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firebase-heartbeat-database",F4=1,Ru="firebase-heartbeat-store";let Cg=null;function Bk(){return Cg||(Cg=r4(V4,F4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Cg}async function B4(t){try{const n=(await Bk()).transaction(Ru),r=await n.objectStore(Ru).get(Uk(t));return await n.done,r}catch(e){if(e instanceof gi)si.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function uS(t,e){try{const r=(await Bk()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(e,Uk(t)),await r.done}catch(n){if(n instanceof gi)si.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function Uk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=1024,z4=30*24*60*60*1e3;class W4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=z4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cS(),{heartbeatsToSend:r,unsentEntries:i}=G4(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return si.warn(n),""}}}function cS(){return new Date().toISOString().substring(0,10)}function G4(t,e=U4){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),fS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NL()?jL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fS(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){fs(new Yo("platform-logger",e=>new a4(e),"PRIVATE")),fs(new Yo("heartbeat",e=>new W4(e),"PRIVATE")),Yi(uv,sS,t),Yi(uv,sS,"esm2017"),Yi("fire-js","")}q4("");var K4="firebase",X4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(K4,X4,"app");var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(k,C,j){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var k=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)k[C]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(C=0;16>C;++C)k[C]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],C=S.g[2];var j=S.g[3],N=E+(j^I&(C^j))+k[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=j+(C^E&(I^C))+k[1]+3905402710&4294967295,j=E+(N<<12&4294967295|N>>>20),N=C+(I^j&(E^I))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(E^C&(j^E))+k[3]+3250441966&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(j^I&(C^j))+k[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(C^E&(I^C))+k[5]+1200080426&4294967295,j=E+(N<<12&4294967295|N>>>20),N=C+(I^j&(E^I))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(E^C&(j^E))+k[7]+4249261313&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(j^I&(C^j))+k[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(C^E&(I^C))+k[9]+2336552879&4294967295,j=E+(N<<12&4294967295|N>>>20),N=C+(I^j&(E^I))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(E^C&(j^E))+k[11]+2304563134&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(j^I&(C^j))+k[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(C^E&(I^C))+k[13]+4254626195&4294967295,j=E+(N<<12&4294967295|N>>>20),N=C+(I^j&(E^I))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=I+(E^C&(j^E))+k[15]+1236535329&4294967295,I=C+(N<<22&4294967295|N>>>10),N=E+(C^j&(I^C))+k[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(E^I))+k[6]+3225465664&4294967295,j=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(j^E))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(C^j))+k[0]+3921069994&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^j&(I^C))+k[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(E^I))+k[10]+38016083&4294967295,j=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(j^E))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(C^j))+k[4]+3889429448&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^j&(I^C))+k[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(E^I))+k[14]+3275163606&4294967295,j=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(j^E))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(C^j))+k[8]+1163531501&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(C^j&(I^C))+k[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^C&(E^I))+k[2]+4243563512&4294967295,j=E+(N<<9&4294967295|N>>>23),N=C+(E^I&(j^E))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(C^j))+k[12]+2368359562&4294967295,I=C+(N<<20&4294967295|N>>>12),N=E+(I^C^j)+k[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^C)+k[8]+2272392833&4294967295,j=E+(N<<11&4294967295|N>>>21),N=C+(j^E^I)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^E)+k[14]+4259657740&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^j)+k[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^C)+k[4]+1272893353&4294967295,j=E+(N<<11&4294967295|N>>>21),N=C+(j^E^I)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^E)+k[10]+3200236656&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^j)+k[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^C)+k[0]+3936430074&4294967295,j=E+(N<<11&4294967295|N>>>21),N=C+(j^E^I)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^E)+k[6]+76029189&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(I^C^j)+k[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^C)+k[12]+3873151461&4294967295,j=E+(N<<11&4294967295|N>>>21),N=C+(j^E^I)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=I+(C^j^E)+k[2]+3299628645&4294967295,I=C+(N<<23&4294967295|N>>>9),N=E+(C^(I|~j))+k[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~C))+k[7]+1126891415&4294967295,j=E+(N<<10&4294967295|N>>>22),N=C+(E^(j|~I))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~E))+k[5]+4237533241&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~j))+k[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~C))+k[3]+2399980690&4294967295,j=E+(N<<10&4294967295|N>>>22),N=C+(E^(j|~I))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~E))+k[1]+2240044497&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~j))+k[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~C))+k[15]+4264355552&4294967295,j=E+(N<<10&4294967295|N>>>22),N=C+(E^(j|~I))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~E))+k[13]+1309151649&4294967295,I=C+(N<<21&4294967295|N>>>11),N=E+(C^(I|~j))+k[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~C))+k[11]+3174756917&4294967295,j=E+(N<<10&4294967295|N>>>22),N=C+(E^(j|~I))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=I+(j^(C|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,k=this.B,C=this.h,j=0;j<E;){if(C==0)for(;j<=I;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<E;)if(k[C++]=S.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<E;)if(k[C++]=S[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var k=0;32>k;k+=8)S[I++]=this.g[E]>>>k&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],k=!0,C=S.length-1;0<=C;C--){var j=S[C]|0;k&&j==E||(I[C]=j,k=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return _(u(-S));for(var E=[],I=1,k=0;S>=I;k++)E[k]=S/I|0,I*=4294967296;return new a(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return _(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),k=f,C=0;C<S.length;C+=8){var j=Math.min(8,S.length-C),N=parseInt(S.substring(C,C+j),E);8>j?(j=u(Math.pow(E,j)),k=k.j(j).add(u(N))):(k=k.j(I),k=k.add(u(N)))}return k}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-_(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var k=this.i(I);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+_(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,k="";;){var C=O(I,E).g;I=w(I,C.j(E));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=C,m(I))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=w(this,S),g(S)?-1:m(S)?0:1};function _(S){for(var E=S.g.length,I=[],k=0;k<E;k++)I[k]=~S.g[k];return new a(I,~S.h).add(d)}t.abs=function(){return g(this)?_(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0,C=0;C<=E;C++){var j=k+(this.i(C)&65535)+(S.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,I[C]=N<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function w(S,E){return S.add(_(E))}t.j=function(S){if(m(this)||m(S))return f;if(g(this))return g(S)?_(this).j(_(S)):_(_(this).j(S));if(g(S))return _(this.j(_(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],k=0;k<2*E;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<S.g.length;C++){var j=this.i(k)>>>16,N=this.i(k)&65535,W=S.i(C)>>>16,U=S.i(C)&65535;I[2*k+2*C]+=N*U,b(I,2*k+2*C),I[2*k+2*C+1]+=j*U,b(I,2*k+2*C+1),I[2*k+2*C+1]+=N*W,b(I,2*k+2*C+1),I[2*k+2*C+2]+=j*W,b(I,2*k+2*C+2)}for(k=0;k<E;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=E;k<2*E;k++)I[k]=0;return new a(I,0)};function b(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function O(S,E){if(m(E))throw Error("division by zero");if(m(S))return new x(f,f);if(g(S))return E=O(_(S),E),new x(_(E.g),_(E.h));if(g(E))return E=O(S,_(E)),new x(_(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=d,k=E;0>=k.l(S);)I=T(I),k=T(k);var C=P(I,1),j=P(k,1);for(k=P(k,2),I=P(I,2);!m(k);){var N=j.add(k);0>=N.l(S)&&(C=C.add(I),j=N),k=P(k,1),I=P(I,1)}return E=w(S,C.j(E)),new x(C,E)}for(C=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=u(I),N=j.j(E);g(N)||0<N.l(S);)I-=k,j=u(I),N=j.j(E);m(j)&&(j=d),C=C.add(j),S=w(S,N)}return new x(C,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)&S.i(k);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)|S.i(k);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)^S.i(k);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],k=0;k<E;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(I,S.h)}function P(S,E){var I=E>>5;E%=32;for(var k=S.g.length-I,C=[],j=0;j<k;j++)C[j]=0<E?S.i(j+I)>>>E|S.i(j+I+1)<<32-E:S.i(j+I);return new a(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Fo=a}).apply(typeof hS<"u"?hS:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wk,ql,Gk,dh,hv,Hk,qk,Kk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in A))break e;A=A[L]}c=c[c.length-1],R=A[c],y=y(R),y!=R&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function o(c,y){c instanceof String&&(c+="");var A=0,R=!1,L={next:function(){if(!R&&A<c.length){var B=A++;return{value:y(B,c[B]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function u(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function h(c,y,A){return c.call.apply(c.bind,arguments)}function f(c,y,A){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function d(c,y,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function p(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function m(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(R,L,B){for(var ie=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ie[Ue-2]=arguments[Ue];return y.prototype[L].apply(R,ie)}}function g(c){const y=c.length;if(0<y){const A=Array(y);for(let R=0;R<y;R++)A[R]=c[R];return A}return[]}function _(c,y){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const L=c.length||0,B=R.length||0;c.length=L+B;for(let ie=0;ie<B;ie++)c[L+ie]=R[ie]}else c.push(R)}}class w{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(c,y,A){for(const R in c)y.call(A,c[R],R,c)}function S(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function E(c){const y={};for(const A in c)y[A]=c[A];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let A,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(A in R)c[A]=R[A];for(let B=0;B<I.length;B++)A=I[B],Object.prototype.hasOwnProperty.call(R,A)&&(c[A]=R[A])}}function C(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function j(c){s.setTimeout(()=>{throw c},0)}function N(){var c=G;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,A){const R=U.get();R.set(y,A),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new w(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,D=!1,G=new W,Q=()=>{const c=s.Promise.resolve(void 0);K=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){j(A)}var y=U;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}D=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,y),s.removeEventListener("test",A,y)}catch{}return c}();function ce(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(T){e:{try{O(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}m(ce,Y);var he={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function re(c,y,A,R,L){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!R,this.ha=L,this.key=++Ke,this.da=this.fa=!1}function X(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,y,A,R,L){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var ie=me(c,y,R,L);return-1<ie?(y=c[ie],A||(y.fa=!1)):(y=new re(y,this.src,B,!!R,L),y.fa=A,c.push(y)),y};function F(c,y){var A=y.type;if(A in c.g){var R=c.g[A],L=Array.prototype.indexOf.call(R,y,void 0),B;(B=0<=L)&&Array.prototype.splice.call(R,L,1),B&&(X(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function me(c,y,A,R){for(var L=0;L<c.length;++L){var B=c[L];if(!B.da&&B.listener==y&&B.capture==!!A&&B.ha==R)return L}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Ee={};function we(c,y,A,R,L){if(R&&R.once)return se(c,y,A,R,L);if(Array.isArray(y)){for(var B=0;B<y.length;B++)we(c,y[B],A,R,L);return null}return A=Lm(A),c&&c[ve]?c.K(y,A,u(R)?!!R.capture:!!R,L):at(c,y,A,!1,R,L)}function at(c,y,A,R,L,B){if(!y)throw Error("Invalid event type");var ie=u(L)?!!L.capture:!!L,Ue=pa(c);if(Ue||(c[ye]=Ue=new te(c)),A=Ue.add(y,A,R,ie,B),A.proxy)return A;if(R=V(),A.proxy=R,R.src=c,R.listener=A,c.addEventListener)ae||(L=ie),L===void 0&&(L=!1),c.addEventListener(y.toString(),R,L);else if(c.attachEvent)c.attachEvent(Ot(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function V(){function c(A){return y.call(c.src,c.listener,A)}const y=_i;return c}function se(c,y,A,R,L){if(Array.isArray(y)){for(var B=0;B<y.length;B++)se(c,y[B],A,R,L);return null}return A=Lm(A),c&&c[ve]?c.L(y,A,u(R)?!!R.capture:!!R,L):at(c,y,A,!0,R,L)}function Xe(c,y,A,R,L){if(Array.isArray(y))for(var B=0;B<y.length;B++)Xe(c,y[B],A,R,L);else R=u(R)?!!R.capture:!!R,A=Lm(A),c&&c[ve]?(c=c.i,y=String(y).toString(),y in c.g&&(B=c.g[y],A=me(B,A,R,L),-1<A&&(X(B[A]),Array.prototype.splice.call(B,A,1),B.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=me(y,A,R,L)),(A=-1<c?y[c]:null)&&Ge(A))}function Ge(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])F(y.i,c);else{var A=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(A,R,c.capture):y.detachEvent?y.detachEvent(Ot(A),R):y.addListener&&y.removeListener&&y.removeListener(R),(A=pa(y))?(F(A,c),A.h==0&&(A.src=null,y[ye]=null)):X(c)}}}function Ot(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function _i(c,y){if(c.da)c=!0;else{y=new ce(y,this);var A=c.listener,R=c.ha||c.src;c.fa&&Ge(c),c=A.call(R,y)}return c}function pa(c){return c=c[ye],c instanceof te?c:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(c){return typeof c=="function"?c:(c[ma]||(c[ma]=function(y){return c.handleEvent(y)}),c[ma])}function Ht(){z.call(this),this.i=new te(this),this.M=this,this.F=null}m(Ht,z),Ht.prototype[ve]=!0,Ht.prototype.removeEventListener=function(c,y,A,R){Xe(this,c,y,A,R)};function ln(c,y){var A,R=c.F;if(R)for(A=[];R;R=R.F)A.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var L=y;y=new Y(R,c),k(y,L)}if(L=!0,A)for(var B=A.length-1;0<=B;B--){var ie=y.g=A[B];L=Jc(ie,R,!0,y)&&L}if(ie=y.g=c,L=Jc(ie,R,!0,y)&&L,L=Jc(ie,R,!1,y)&&L,A)for(B=0;B<A.length;B++)ie=y.g=A[B],L=Jc(ie,R,!1,y)&&L}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],R=0;R<A.length;R++)X(A[R]);delete c.g[y],c.h--}}this.F=null},Ht.prototype.K=function(c,y,A,R){return this.i.add(String(c),y,!1,A,R)},Ht.prototype.L=function(c,y,A,R){return this.i.add(String(c),y,!0,A,R)};function Jc(c,y,A,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,B=0;B<y.length;++B){var ie=y[B];if(ie&&!ie.da&&ie.capture==A){var Ue=ie.listener,Mt=ie.ha||ie.src;ie.fa&&F(c.i,ie),L=Ue.call(Mt,R)!==!1&&L}}return L&&!R.defaultPrevented}function Zw(c,y,A){if(typeof c=="function")A&&(c=d(c,A));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(c,y||0)}function e1(c){c.g=Zw(()=>{c.g=null,c.i&&(c.i=!1,e1(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yM extends z{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:e1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(c){z.call(this),this.h=c,this.g={}}m(ul,z);var t1=[];function n1(c){P(c.g,function(y,A){this.g.hasOwnProperty(A)&&Ge(y)},c),c.g={}}ul.prototype.N=function(){ul.aa.N.call(this),n1(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vm=s.JSON.stringify,vM=s.JSON.parse,bM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function Fm(){}Fm.prototype.h=null;function r1(c){return c.h||(c.h=c.i())}function i1(){}var cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bm(){Y.call(this,"d")}m(Bm,Y);function Um(){Y.call(this,"c")}m(Um,Y);var go={},o1=null;function Zc(){return o1=o1||new Ht}go.La="serverreachability";function a1(c){Y.call(this,go.La,c)}m(a1,Y);function fl(c){const y=Zc();ln(y,new a1(y))}go.STAT_EVENT="statevent";function s1(c,y){Y.call(this,go.STAT_EVENT,c),this.stat=y}m(s1,Y);function un(c){const y=Zc();ln(y,new s1(y,c))}go.Ma="timingevent";function l1(c,y){Y.call(this,go.Ma,c),this.size=y}m(l1,Y);function hl(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},y)}function dl(){this.g=!0}dl.prototype.xa=function(){this.g=!1};function _M(c,y,A,R,L,B){c.info(function(){if(c.g)if(B)for(var ie="",Ue=B.split("&"),Mt=0;Mt<Ue.length;Mt++){var Re=Ue[Mt].split("=");if(1<Re.length){var qt=Re[0];Re=Re[1];var Kt=qt.split("_");ie=2<=Kt.length&&Kt[1]=="type"?ie+(qt+"="+Re+"&"):ie+(qt+"=redacted&")}}else ie=null;else ie=B;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+y+`
`+A+`
`+ie})}function wM(c,y,A,R,L,B,ie){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+y+`
`+A+`
`+B+" "+ie})}function ga(c,y,A,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+SM(c,A)+(R?" "+R:"")})}function xM(c,y){c.info(function(){return"TIMEOUT: "+y})}dl.prototype.info=function(){};function SM(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var R=A[c];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return Vm(A)}catch{return y}}var ef={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},u1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zm;function tf(){}m(tf,Fm),tf.prototype.g=function(){return new XMLHttpRequest},tf.prototype.i=function(){return{}},zm=new tf;function wi(c,y,A,R){this.j=c,this.i=y,this.l=A,this.R=R||1,this.U=new ul(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c1}function c1(){this.i=null,this.g="",this.h=!1}var f1={},Wm={};function Gm(c,y,A){c.L=1,c.v=af(Dr(y)),c.m=A,c.P=!0,h1(c,null)}function h1(c,y){c.F=Date.now(),nf(c),c.A=Dr(c.v);var A=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),A1(A.i,"t",R),c.C=0,A=c.j.J,c.h=new c1,c.g=W1(c.j,A?y:null,!c.m),0<c.O&&(c.M=new yM(d(c.Y,c,c.g),c.O)),y=c.U,A=c.g,R=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(t1[0]=L.toString()),L=t1);for(var B=0;B<L.length;B++){var ie=we(A,L[B],R||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fl(),_M(c.i,c.u,c.A,c.l,c.R,c.m)}wi.prototype.ca=function(c){c=c.target;const y=this.M;y&&$r(c)==3?y.j():this.Y(c)},wi.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=$r(this.g);var y=this.g.Ba();const ba=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||j1(this.g)))){this.J||Kt!=4||y==7||(y==8||0>=ba?fl(3):fl(2)),Hm(this);var A=this.g.Z();this.X=A;t:if(d1(this)){var R=j1(this.g);c="";var L=R.length,B=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),pl(this);var ie="";break t}this.h.i=new s.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(B&&y==L-1)});R.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=A==200,wM(this.i,this.u,this.A,this.l,this.R,Kt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Mt=this.g;if((Ue=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ue)){var Re=Ue;break t}}Re=null}if(A=Re)ga(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qm(this,A);else{this.o=!1,this.s=3,un(12),yo(this),pl(this);break e}}if(this.P){A=!0;let nr;for(;!this.J&&this.C<ie.length;)if(nr=EM(this,ie),nr==Wm){Kt==4&&(this.s=4,un(14),A=!1),ga(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==f1){this.s=4,un(15),ga(this.i,this.l,ie,"[Invalid Chunk]"),A=!1;break}else ga(this.i,this.l,nr,null),qm(this,nr);if(d1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ie.length!=0||this.h.h||(this.s=1,un(16),A=!1),this.o=this.o&&A,!A)ga(this.i,this.l,ie,"[Invalid Chunked Response]"),yo(this),pl(this);else if(0<ie.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Zm(qt),qt.M=!0,un(11))}}else ga(this.i,this.l,ie,null),qm(this,ie);Kt==4&&yo(this),this.o&&!this.J&&(Kt==4?F1(this.j,this):(this.o=!1,nf(this)))}else BM(this.g),A==400&&0<ie.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),yo(this),pl(this)}}}catch{}finally{}};function d1(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function EM(c,y){var A=c.C,R=y.indexOf(`
`,A);return R==-1?Wm:(A=Number(y.substring(A,R)),isNaN(A)?f1:(R+=1,R+A>y.length?Wm:(y=y.slice(R,R+A),c.C=R+A,y)))}wi.prototype.cancel=function(){this.J=!0,yo(this)};function nf(c){c.S=Date.now()+c.I,p1(c,c.I)}function p1(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hl(d(c.ba,c),y)}function Hm(c){c.B&&(s.clearTimeout(c.B),c.B=null)}wi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xM(this.i,this.A),this.L!=2&&(fl(),un(17)),yo(this),this.s=2,pl(this)):p1(this,this.S-c)};function pl(c){c.j.G==0||c.J||F1(c.j,c)}function yo(c){Hm(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,n1(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qm(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||Km(A.h,c))){if(!c.K&&Km(A.h,c)&&A.G==3){try{var R=A.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)hf(A),cf(A);else break e;Jm(A),un(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=hl(d(A.Za,A),6e3));if(1>=y1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else bo(A,11)}else if((c.K||A.g==c)&&hf(A),!b(y))for(L=A.Da.g.parse(y),y=0;y<L.length;y++){let Re=L[y];if(A.T=Re[0],Re=Re[1],A.G==2)if(Re[0]=="c"){A.K=Re[1],A.ia=Re[2];const qt=Re[3];qt!=null&&(A.la=qt,A.j.info("VER="+A.la));const Kt=Re[4];Kt!=null&&(A.Aa=Kt,A.j.info("SVER="+A.Aa));const ba=Re[5];ba!=null&&typeof ba=="number"&&0<ba&&(R=1.5*ba,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const nr=c.g;if(nr){const pf=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pf){var B=R.h;B.g||pf.indexOf("spdy")==-1&&pf.indexOf("quic")==-1&&pf.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Xm(B,B.h),B.h=null))}if(R.D){const eg=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;eg&&(R.ya=eg,Ye(R.I,R.D,eg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var ie=c;if(R.qa=z1(R,R.J?R.ia:null,R.W),ie.K){v1(R.h,ie);var Ue=ie,Mt=R.L;Mt&&(Ue.I=Mt),Ue.B&&(Hm(Ue),nf(Ue)),R.g=ie}else L1(R);0<A.i.length&&ff(A)}else Re[0]!="stop"&&Re[0]!="close"||bo(A,7);else A.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?bo(A,7):Qm(A):Re[0]!="noop"&&A.l&&A.l.ta(Re),A.v=0)}}fl(4)}catch{}}var TM=class{constructor(c,y){this.g=c,this.map=y}};function m1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function g1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function y1(c){return c.h?1:c.g?c.g.size:0}function Km(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xm(c,y){c.g?c.g.add(y):c.h=y}function v1(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}m1.prototype.cancel=function(){if(this.i=b1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function b1(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return g(c.i)}function AM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,R=0;R<A;R++)y.push(c[R]);return y}y=[],A=0;for(R in c)y[A++]=c[R];return y}function PM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const R in c)y[A++]=R;return y}}}function _1(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=PM(c),R=AM(c),L=R.length,B=0;B<L;B++)y.call(void 0,R[B],A&&A[B],c)}var w1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IM(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var R=c[A].indexOf("="),L=null;if(0<=R){var B=c[A].substring(0,R);L=c[A].substring(R+1)}else B=c[A];y(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vo){this.h=c.h,rf(this,c.j),this.o=c.o,this.g=c.g,of(this,c.s),this.l=c.l;var y=c.i,A=new yl;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),x1(this,A),this.m=c.m}else c&&(y=String(c).match(w1))?(this.h=!1,rf(this,y[1]||"",!0),this.o=ml(y[2]||""),this.g=ml(y[3]||"",!0),of(this,y[4]),this.l=ml(y[5]||"",!0),x1(this,y[6]||"",!0),this.m=ml(y[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}vo.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gl(y,S1,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gl(y,S1,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(gl(A,A.charAt(0)=="/"?CM:kM,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",gl(A,jM)),c.join("")};function Dr(c){return new vo(c)}function rf(c,y,A){c.j=A?ml(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function of(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function x1(c,y,A){y instanceof yl?(c.i=y,RM(c.i,c.h)):(A||(y=gl(y,NM)),c.i=new yl(y,c.h))}function Ye(c,y,A){c.i.set(y,A)}function af(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ml(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gl(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,OM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function OM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var S1=/[#\/\?@]/g,kM=/[#\?:]/g,CM=/[#\?]/g,NM=/[#\?@]/g,jM=/#/g;function yl(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xi(c){c.g||(c.g=new Map,c.h=0,c.i&&IM(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=yl.prototype,t.add=function(c,y){xi(this),this.i=null,c=ya(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function E1(c,y){xi(c),y=ya(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function T1(c,y){return xi(c),y=ya(c,y),c.g.has(y)}t.forEach=function(c,y){xi(this),this.g.forEach(function(A,R){A.forEach(function(L){c.call(y,L,R,this)},this)},this)},t.na=function(){xi(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let R=0;R<y.length;R++){const L=c[R];for(let B=0;B<L.length;B++)A.push(y[R])}return A},t.V=function(c){xi(this);let y=[];if(typeof c=="string")T1(this,c)&&(y=y.concat(this.g.get(ya(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return xi(this),this.i=null,c=ya(this,c),T1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function A1(c,y,A){E1(c,y),0<A.length&&(c.i=null,c.g.set(ya(c,y),g(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var R=y[A];const B=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var L=B;ie[R]!==""&&(L+="="+encodeURIComponent(String(ie[R]))),c.push(L)}}return this.i=c.join("&")};function ya(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function RM(c,y){y&&!c.j&&(xi(c),c.i=null,c.g.forEach(function(A,R){var L=R.toLowerCase();R!=L&&(E1(this,R),A1(this,L,A))},c)),c.j=y}function MM(c,y){const A=new dl;if(s.Image){const R=new Image;R.onload=p(Si,A,"TestLoadImage: loaded",!0,y,R),R.onerror=p(Si,A,"TestLoadImage: error",!1,y,R),R.onabort=p(Si,A,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(Si,A,"TestLoadImage: timeout",!1,y,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function DM(c,y){const A=new dl,R=new AbortController,L=setTimeout(()=>{R.abort(),Si(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(B=>{clearTimeout(L),B.ok?Si(A,"TestPingServer: ok",!0,y):Si(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Si(A,"TestPingServer: error",!1,y)})}function Si(c,y,A,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(A)}catch{}}function $M(){this.g=new bM}function LM(c,y,A){const R=A||"";try{_1(c,function(L,B){let ie=L;u(L)&&(ie=Vm(L)),y.push(R+B+"="+encodeURIComponent(ie))})}catch(L){throw y.push(R+"type="+encodeURIComponent("_badmap")),L}}function sf(c){this.l=c.Ub||null,this.j=c.eb||!1}m(sf,Fm),sf.prototype.g=function(){return new lf(this.l,this.j)},sf.prototype.i=function(c){return function(){return c}}({});function lf(c,y){Ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(lf,Ht),t=lf.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,bl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function P1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vl(this):bl(this),this.readyState==3&&P1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,vl(this))},t.Qa=function(c){this.g&&(this.response=c,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bl(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function bl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function I1(c){let y="";return P(c,function(A,R){y+=R,y+=":",y+=A,y+=`\r
`}),y}function Ym(c,y,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=I1(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):Ye(c,y,A))}function ft(c){Ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ft,Ht);var VM=/^https?$/i,FM=["POST","PUT"];t=ft.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zm.g(),this.v=this.o?r1(this.o):r1(zm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(B){O1(this,B);return}if(c=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)A.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const B of R.keys())A.set(B,R.get(B));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(B=>B.toLowerCase()=="content-type"),L=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(FM,y,void 0))||R||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of A)this.g.setRequestHeader(B,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N1(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){O1(this,B)}};function O1(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,k1(c),uf(c)}function k1(c){c.A||(c.A=!0,ln(c,"complete"),ln(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ln(this,"complete"),ln(this,"abort"),uf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uf(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?C1(this):this.bb())},t.bb=function(){C1(this)};function C1(c){if(c.h&&typeof a<"u"&&(!c.v[1]||$r(c)!=4||c.Z()!=2)){if(c.u&&$r(c)==4)Zw(c.Ea,0,c);else if(ln(c,"readystatechange"),$r(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var R;if(R=ie===0){var L=String(c.D).match(w1)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),R=!VM.test(L?L.toLowerCase():"")}A=R}if(A)ln(c,"complete"),ln(c,"success");else{c.m=6;try{var B=2<$r(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",k1(c)}}finally{uf(c)}}}}function uf(c,y){if(c.g){N1(c);const A=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ln(c,"ready");try{A.onreadystatechange=R}catch{}}}function N1(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),vM(y)}};function j1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BM(c){const y={};c=(c.g&&2<=$r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(b(c[R]))continue;var A=C(c[R]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const B=y[L]||[];y[L]=B,B.push(A)}S(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _l(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function R1(c){this.Aa=0,this.i=[],this.j=new dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_l("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_l("baseRetryDelayMs",5e3,c),this.cb=_l("retryDelaySeedMs",1e4,c),this.Wa=_l("forwardChannelMaxRetries",2,c),this.wa=_l("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new m1(c&&c.concurrentRequestLimit),this.Da=new $M,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=R1.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,R){un(0),this.W=c,this.H=y||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=z1(this,null,this.W),ff(this)};function Qm(c){if(M1(c),c.G==3){var y=c.U++,A=Dr(c.I);if(Ye(A,"SID",c.K),Ye(A,"RID",y),Ye(A,"TYPE","terminate"),wl(c,A),y=new wi(c,c.j,y),y.L=2,y.v=af(Dr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=y.v,A=!0),A||(y.g=W1(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nf(y)}U1(c)}function cf(c){c.g&&(Zm(c),c.g.cancel(),c.g=null)}function M1(c){cf(c),c.u&&(s.clearTimeout(c.u),c.u=null),hf(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function ff(c){if(!g1(c.h)&&!c.s){c.s=!0;var y=c.Ga;K||Q(),D||(K(),D=!0),G.add(y,c),c.B=0}}function UM(c,y){return y1(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hl(d(c.Ga,c,y),B1(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new wi(this,this.j,c);let B=this.o;if(this.S&&(B?(B=E(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=$1(this,L,y),A=Dr(this.I),Ye(A,"RID",c),Ye(A,"CVER",22),this.D&&Ye(A,"X-HTTP-Session-Id",this.D),wl(this,A),B&&(this.O?y="headers="+encodeURIComponent(String(I1(B)))+"&"+y:this.m&&Ym(A,this.m,B)),Xm(this.h,L),this.Ua&&Ye(A,"TYPE","init"),this.P?(Ye(A,"$req",y),Ye(A,"SID","null"),L.T=!0,Gm(L,A,null)):Gm(L,A,y),this.G=2}}else this.G==3&&(c?D1(this,c):this.i.length==0||g1(this.h)||D1(this))};function D1(c,y){var A;y?A=y.l:A=c.U++;const R=Dr(c.I);Ye(R,"SID",c.K),Ye(R,"RID",A),Ye(R,"AID",c.T),wl(c,R),c.m&&c.o&&Ym(R,c.m,c.o),A=new wi(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$1(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xm(c.h,A),Gm(A,R,y)}function wl(c,y){c.H&&P(c.H,function(A,R){Ye(y,R,A)}),c.l&&_1({},function(A,R){Ye(y,R,A)})}function $1(c,y,A){A=Math.min(c.i.length,A);var R=c.l?d(c.l.Na,c.l,c):null;e:{var L=c.i;let B=-1;for(;;){const ie=["count="+A];B==-1?0<A?(B=L[0].g,ie.push("ofs="+B)):B=0:ie.push("ofs="+B);let Ue=!0;for(let Mt=0;Mt<A;Mt++){let Re=L[Mt].g;const qt=L[Mt].map;if(Re-=B,0>Re)B=Math.max(0,L[Mt].g-100),Ue=!1;else try{LM(qt,ie,"req"+Re+"_")}catch{R&&R(qt)}}if(Ue){R=ie.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,R}function L1(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;K||Q(),D||(K(),D=!0),G.add(y,c),c.v=0}}function Jm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hl(d(c.Fa,c),B1(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,V1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hl(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),cf(this),V1(this))};function Zm(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function V1(c){c.g=new wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dr(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),wl(c,y),c.m&&c.o&&Ym(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=af(Dr(y)),A.m=null,A.P=!0,h1(A,c)}t.Za=function(){this.C!=null&&(this.C=null,cf(this),Jm(this),un(19))};function hf(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function F1(c,y){var A=null;if(c.g==y){hf(c),Zm(c),c.g=null;var R=2}else if(Km(c.h,y))A=y.D,v1(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;R=Zc(),ln(R,new l1(R,A)),ff(c)}else L1(c);else if(L=y.s,L==3||L==0&&0<y.X||!(R==1&&UM(c,y)||R==2&&Jm(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),L){case 1:bo(c,5);break;case 4:bo(c,10);break;case 3:bo(c,6);break;default:bo(c,2)}}}function B1(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function bo(c,y){if(c.j.info("Error code "+y),y==2){var A=d(c.fb,c),R=c.Xa;const L=!R;R=new vo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||rf(R,"https"),af(R),L?MM(R.toString(),A):DM(R.toString(),A)}else un(2);c.G=0,c.l&&c.l.sa(y),U1(c),M1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function U1(c){if(c.G=0,c.ka=[],c.l){const y=b1(c.h);(y.length!=0||c.i.length!=0)&&(_(c.ka,y),_(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function z1(c,y,A){var R=A instanceof vo?Dr(A):new vo(A);if(R.g!="")y&&(R.g=y+"."+R.g),of(R,R.s);else{var L=s.location;R=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var B=new vo(null);R&&rf(B,R),y&&(B.g=y),L&&of(B,L),A&&(B.l=A),R=B}return A=c.D,y=c.ya,A&&y&&Ye(R,A,y),Ye(R,"VER",c.la),wl(c,R),R}function W1(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new sf({eb:A})):new ft(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G1(){}t=G1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function df(){}df.prototype.g=function(c,y){return new Pn(c,y)};function Pn(c,y){Ht.call(this),this.g=new R1(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!b(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!b(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new va(this)}m(Pn,Ht),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Qm(this.g)},Pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=Vm(c),c=A);y.i.push(new TM(y.Ya++,c)),y.G==3&&ff(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Qm(this.g),delete this.g,Pn.aa.N.call(this)};function H1(c){Bm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}m(H1,Bm);function q1(){Um.call(this),this.status=1}m(q1,Um);function va(c){this.g=c}m(va,G1),va.prototype.ua=function(){ln(this.g,"a")},va.prototype.ta=function(c){ln(this.g,new H1(c))},va.prototype.sa=function(c){ln(this.g,new q1)},va.prototype.ra=function(){ln(this.g,"b")},df.prototype.createWebChannel=df.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Kk=function(){return new df},qk=function(){return Zc()},Hk=go,hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ef.NO_ERROR=0,ef.TIMEOUT=8,ef.HTTP_ERROR=6,dh=ef,u1.COMPLETE="complete",Gk=u1,i1.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,ql=i1,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,Wk=ft}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const dS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Xb("@firebase/firestore");function kl(){return Qo.logLevel}function fe(t,...e){if(Qo.logLevel<=Oe.DEBUG){const n=e.map(Jb);Qo.debug(`Firestore (${qs}): ${t}`,...n)}}function li(t,...e){if(Qo.logLevel<=Oe.ERROR){const n=e.map(Jb);Qo.error(`Firestore (${qs}): ${t}`,...n)}}function hs(t,...e){if(Qo.logLevel<=Oe.WARN){const n=e.map(Jb);Qo.warn(`Firestore (${qs}): ${t}`,...n)}}function Jb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ve(t,e){t||_e()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class Q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J4{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new Xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Zt(e)}}class Z4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class e3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Z4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new t3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=r3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Pt(0,0))}static max(){return new xe(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Mu{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const i3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Mu{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return i3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function o3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new ro(i,pe.empty(),e)}function a3(t){return new ro(t.readTime,t.key,-1)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(xe.min(),pe.empty(),-1)}static max(){return new ro(xe.max(),pe.empty(),-1)}}function s3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==l3)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{a[u]=h,++s,s===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function c3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zb.oe=-1;function Pp(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function f3(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=o??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mS(this.data.getIterator())}getIteratorFrom(e){return new mS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class mS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ut(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jk("Invalid base64 string: "+o):o}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const h3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=h3.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function t_(t){const e=t.mapValue.fields.__previous_value__;return e_(e)?t_(e):e}function Du(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class $u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e_(t)?4:m3(t)?9007199254740991:p3(t)?10:11:_e()}function Cr(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Du(t).isEqual(Du(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=io(i.timestampValue),s=io(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Jo(i.bytesValue).isEqual(Jo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=pt(i.doubleValue),s=pt(o.doubleValue);return a===s?Xh(a)===Xh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(pS(a)!==pS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Cr(a[l],s[l])))return!1;return!0}(t,e);default:return _e()}}function Lu(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function ps(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=pt(o.integerValue||o.doubleValue),l=pt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return gS(t.timestampValue,e.timestampValue);case 4:return gS(Du(t),Du(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Jo(o),l=Jo(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const h=Me(s[u],l[u]);if(h!==0)return h}return Me(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Me(pt(o.latitude),pt(a.latitude));return s!==0?s:Me(pt(o.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,h;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Me(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:yS(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Mf.mapValue&&a===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(a===Mf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Me(l[f],h[f]);if(d!==0)return d;const p=ps(s[l[f]],u[h[f]]);if(p!==0)return p}return Me(l.length,h.length)}(t.mapValue,e.mapValue);default:throw _e()}}function gS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=io(t),r=io(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function yS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ps(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function ms(t){return dv(t)}function dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=dv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${dv(n.fields[a])}`;return i+"}"}(t.mapValue):_e()}function pv(t){return!!t&&"integerValue"in t}function n_(t){return!!t&&"arrayValue"in t}function vS(t){return!!t&&"nullValue"in t}function bS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ph(t){return!!t&&"mapValue"in t}function p3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=su(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){la(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bn(su(this.value))}}function Zk(t){const e=[];return la(t.fields,(n,r)=>{const i=new Vt([n]);if(ph(r)){const o=Zk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new nn(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function _S(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=ps(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function g3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class Et extends eC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v3(e,n,r):n==="array-contains"?new w3(e,r):n==="in"?new x3(e,r):n==="not-in"?new S3(e,r):n==="array-contains-any"?new E3(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b3(e,r):new _3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ps(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends eC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return tC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tC(t){return t.op==="and"}function nC(t){return y3(t)&&tC(t)}function y3(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function mv(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(nC(t))return t.filters.map(e=>mv(e)).join(",");{const e=t.filters.map(n=>mv(n)).join(",");return`${t.op}(${e})`}}function rC(t,e){return t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&rC(a,i.filters[s]),!0):!1}(t,e):void _e()}function iC(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${ms(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(iC).join(" ,")+"}"}(t):"Filter"}class v3 extends Et{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class b3 extends Et{constructor(e,n){super(e,"in",n),this.keys=oC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _3 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=oC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class w3 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return n_(n)&&Lu(n.arrayValue,this.value)}}class x3 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}}class S3 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lu(this.value.arrayValue,n)}}class E3 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!n_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function xS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new T3(t,e,n,r,i,o,a)}function r_(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),e.ue=n}return e.ue}function i_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wS(t.startAt,e.startAt)&&wS(t.endAt,e.endAt)}function gv(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function A3(t,e,n,r,i,o,a,s){return new Ip(t,e,n,r,i,o,a,s)}function Op(t){return new Ip(t)}function SS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P3(t){return t.collectionGroup!==null}function lu(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ut(Vt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Qh(o,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Qh(Vt.keyField(),r))}return e.ce}function Ar(t){const e=Se(t);return e.le||(e.le=I3(e,lu(t))),e.le}function I3(t,e){if(t.limitType==="F")return xS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qh(i.field,o)});const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return xS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yv(t,e,n){return new Ip(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kp(t,e){return i_(Ar(t),Ar(e))&&t.limitType===e.limitType}function aC(t){return`${r_(Ar(t))}|lt:${t.limitType}`}function Ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iC(i)).join(", ")}]`),Pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ms(i)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Cp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=_S(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,lu(r),i)||r.endAt&&!function(a,s,l){const u=_S(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,lu(r),i))}(t,e)}function O3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sC(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const o=k3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?ps(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new ct(pe.comparator);function ui(){return C3}const lC=new ct(pe.comparator);function Kl(...t){let e=lC;for(const n of t)e=e.insert(n.key,n);return e}function uC(t){let e=lC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return uu()}function cC(){return uu()}function uu(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const N3=new ct(pe.comparator),j3=new Ut(pe.comparator);function Ie(...t){let e=j3;for(const n of t)e=e.add(n);return e}const R3=new Ut(Me);function M3(){return R3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function fC(t){return{integerValue:""+t}}function hC(t,e){return f3(e)?fC(e):o_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function D3(t,e,n){return t instanceof Jh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&e_(o)&&(o=t_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Vu?pC(t,e):t instanceof Fu?mC(t,e):function(i,o){const a=dC(i,o),s=ES(a)+ES(i.Pe);return pv(a)&&pv(i.Pe)?fC(s):o_(i.serializer,s)}(t,e)}function $3(t,e,n){return t instanceof Vu?pC(t,e):t instanceof Fu?mC(t,e):n}function dC(t,e){return t instanceof Bu?function(r){return pv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Jh extends Np{}class Vu extends Np{constructor(e){super(),this.elements=e}}function pC(t,e){const n=gC(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Np{constructor(e){super(),this.elements=e}}function mC(t,e){let n=gC(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class Bu extends Np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ES(t){return pt(t.integerValue||t.doubleValue)}function gC(t){return n_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.field=e,this.transform=n}}function V3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vu&&i instanceof Vu||r instanceof Fu&&i instanceof Fu?ds(r.elements,i.elements,Cr):r instanceof Bu&&i instanceof Bu?Cr(r.Pe,i.Pe):r instanceof Jh&&i instanceof Jh}(t.transform,e.transform)}class F3{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jp{}function yC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a_(t.key,Kn.none()):new jc(t.key,t.data,Kn.none());{const n=t.data,r=bn.empty();let i=new Ut(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new uo(t.key,r,new Rn(i.toArray()),Kn.none())}}function B3(t,e,n){t instanceof jc?function(i,o,a){const s=i.value.clone(),l=AS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(i,o,a){if(!mh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=AS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(vC(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function cu(t,e,n,r){return t instanceof jc?function(o,a,s,l){if(!mh(o.precondition,a))return s;const u=o.value.clone(),h=PS(o.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(o,a,s,l){if(!mh(o.precondition,a))return s;const u=PS(o.fieldTransforms,l,a),h=a.data;return h.setAll(vC(o)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return mh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function U3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dC(r.transform,i||null);o!=null&&(n===null&&(n=bn.empty()),n.set(r.field,o))}return n||null}function TS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(o,a)=>V3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends jp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AS(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,$3(a,s,n[i]))}return r}function PS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,D3(o,a,e))}return r}class a_ extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&B3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cC();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=yC(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>TS(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>TS(n,r))}}class s_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return N3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new s_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ce;function q3(t){switch(t){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function bC(t){if(t===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(t){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Ce=yt||(yt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Fo([4294967295,4294967295],0);function IS(t){const e=K3().encode(t),n=new zk;return n.update(e),new Uint8Array(n.digest())}function OS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([i,o],0)]}class l_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fo.fromNumber(r)));return i.compare(X3)===1&&(i=new Fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=IS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new l_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=IS(e),[r,i]=OS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rp(xe.min(),i,new ct(Me),ui(),Ie())}}class Rc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _C{constructor(e,n){this.targetId=e,this.me=n}}class wC{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kS{constructor(){this.fe=0,this.ge=NS(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Rc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Y3{constructor(e){this.Le=e,this.Be=new Map,this.ke=ui(),this.qe=CS(),this.Qe=new ct(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(gv(o))if(r===0){const a=new pe(o.path);this.Ue(n,a,nn.newNoDocument(a,xe.min()))}else Ve(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Jo(r).toUint8Array()}catch(l){if(l instanceof Jk)return hs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new l_(a,i,o)}catch(l){return hs(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&gv(s.target)){const l=new pe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,nn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ie();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Rp(e,n,this.Qe,this.ke,r);return this.ke=ui(),this.qe=CS(),this.Qe=new ct(Me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function CS(){return new ct(pe.comparator)}function NS(){return new ct(pe.comparator)}const Q3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),J3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Z3=(()=>({and:"AND",or:"OR"}))();class eV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vv(t,e){return t.useProto3Json||Pp(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tV(t,e){return Zh(t,e.toTimestamp())}function Pr(t){return Ve(!!t),xe.fromTimestamp(function(n){const r=io(n);return new Pt(r.seconds,r.nanos)}(t))}function u_(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SC(t){const e=it.fromString(t);return Ve(IC(e)),e}function _v(t,e){return u_(t.databaseId,e.path)}function Ng(t,e){const n=SC(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(TC(n))}function EC(t,e){return u_(t.databaseId,e)}function nV(t){const e=SC(t);return e.length===4?it.emptyPath():TC(e)}function wv(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TC(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jS(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function rV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string"),Gt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const h=u.code===void 0?J.UNKNOWN:bC(u.code);return new de(h,u.message||"")}(a);n=new wC(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ng(t,r.document.name),o=Pr(r.document.updateTime),a=r.document.createTime?Pr(r.document.createTime):xe.min(),s=new bn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,a,s),u=r.targetIds||[],h=r.removedTargetIds||[];n=new gh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ng(t,r.document),o=r.readTime?Pr(r.readTime):xe.min(),a=nn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new gh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ng(t,r.document),o=r.removedTargetIds||[];n=new gh([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new H3(i,o),s=r.targetId;n=new _C(s,a)}}return n}function iV(t,e){let n;if(e instanceof jc)n={update:jS(t,e.key,e.value)};else if(e instanceof a_)n={delete:_v(t,e.key)};else if(e instanceof uo)n={update:jS(t,e.key,e.data),updateMask:dV(e.fieldMask)};else{if(!(e instanceof z3))return _e();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Jh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Vu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Bu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:tV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function oV(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Pr(i.updateTime):Pr(o);return a.isEqual(xe.min())&&(a=Pr(o)),new F3(a,i.transformResults||[])}(n,e))):[]}function aV(t,e){return{documents:[EC(t,e.path)]}}function sV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EC(t,i);const o=function(u){if(u.length!==0)return PC(Nr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:Aa(d.field),direction:cV(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=vv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function lV(t){let e=nV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=AC(f);return d instanceof Nr&&nC(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new Qh(Pa(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,Pp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Yh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Yh(p,d)}(n.endAt)),A3(e,i,a,o,s,"F",l,u)}function uV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pa(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pa(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pa(n.unaryFilter.field);return Et.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(Pa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>AC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function cV(t){return Q3[t]}function fV(t){return J3[t]}function hV(t){return Z3[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Vt.fromServerFormat(t.fieldPath)}function PC(t){return t instanceof Et?function(n){if(n.op==="=="){if(bS(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(vS(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bS(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(vS(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:fV(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>PC(i));return r.length===1?r[0]:{compositeFilter:{op:hV(n.op),filters:r}}}(t):_e()}function dV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r,i,o=xe.min(),a=xe.min(),s=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.ct=e}}function mV(t){const e=lV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.un=new yV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(ro.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class yV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gs(0)}static kn(){return new gs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cu(r.mutation,i,Rn.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Kl();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=ui();const a=uu(),s=function(){return uu()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof uo)?o=o.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),cu(h.mutation,u,h.mutation.getFieldMask(),Pt.now())):a.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return s.set(u,new bV(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=uu();let i=new ct((a,s)=>a-s),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Rn.empty();h=s.applyToLocalView(u,h),r.set(l,h);const f=(i.get(s.batchId)||Ie()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,h=l.value,f=cC();h.forEach(d=>{if(!o.has(d)){const p=yC(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(No());let s=-1,l=o;return a.next(u=>Z.forEach(u,(h,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(h)?Z.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ie())).next(h=>({batchId:s,changes:uC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Kl();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,l=>{const u=function(f,d){return new Ip(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,nn.newInvalidDocument(h)))});let s=Kl();return a.forEach((l,u)=>{const h=o.get(l);h!==void 0&&cu(h.mutation,u,Rn.empty(),Pt.now()),Cp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mV(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.overlays=new ct(pe.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=No(),o=n.length+1,a=new pe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ct((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=No(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const s=No(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>s.set(u,h)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new G3(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ie(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Tr=new Ut(kt.Er),this.dr=new Ut(kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new it([])),r=new kt(n,e),i=new kt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new it([])),r=new kt(n,e),i=new kt(n,e+1);let o=Ie();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(kt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new W3(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new kt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Me);return n.forEach(i=>{const o=new kt(i,0),a=new kt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const a=new kt(new pe(o),0);let s=new Ut(Me);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new kt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new kt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.Mr=e,this.docs=function(){return new ct(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ui();const a=n.path,s=new pe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||s3(a3(h),r)<=0||(i.has(h.key)||Cp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AV(this)}getSize(e){return Z.resolve(this.size)}}class AV extends vV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.persistence=e,this.Nr=new Ks(n=>r_(n),i_),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new c_,this.targetCount=0,this.kr=gs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new gs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zb(0),this.Kr=!1,this.Kr=!0,this.$r=new SV,this.referenceDelegate=e(this),this.Ur=new PV(this),this.indexManager=new gV,this.remoteDocumentCache=function(i){return new TV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pV(n),this.Gr=new wV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new EV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new OV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OV extends u3{constructor(e){super(),this.currentSequenceNumber=e}}class f_{constructor(e){this.persistence=e,this.Jr=new c_,this.Yr=null}static Zr(e){return new f_(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new h_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CL()?8:c3(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new kV;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(kl()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(kl()<=Oe.DEBUG&&fe("QueryEngine","Query:",Ta(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kl()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):Z.resolve())}Yi(e,n){if(SS(n))return Z.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yv(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ie(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,yv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return SS(n)||i.isEqual(xe.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(kl()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ta(n)),this.rs(e,a,n,o3(i,-1)).next(s=>s))})}ts(e,n){let r=new Ut(sC(e));return n.forEach((i,o)=>{Cp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return kl()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ta(n)),this.Ji.getDocumentsMatchingQuery(e,n,ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ct(Me),this._s=new Ks(o=>r_(o),i_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _V(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jV(t,e,n,r){return new NV(t,e,n,r)}async function OC(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ie();for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function RV(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,h){const f=u.batch,d=f.keys();let p=Z.resolve();return d.forEach(m=>{p=p.next(()=>h.getEntry(l,m)).next(g=>{const _=u.docVersions.get(m);Ve(_!==null),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ie();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kC(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function MV(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Gt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(f,p),function(g,_,w){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,h)&&s.push(n.Ur.updateTargetData(o,p))});let l=ui(),u=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),s.push(DV(o,a,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(xe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(h)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function DV(t,e,n){let r=Ie(),i=Ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=ui();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):fe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function $V(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LV(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Li(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xv(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Nc(a))throw a;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function RS(t,e,n){const r=Se(t);let i=xe.min(),o=Ie();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,h){const f=Se(l),d=f._s.get(h);return d!==void 0?Z.resolve(f.os.get(d)):f.Ur.getTargetData(u,h)}(r,a,Ar(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:xe.min(),n?o:Ie())).next(s=>(VV(r,O3(e),s),{documents:s,Ts:o})))}function VV(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class MS{constructor(){this.activeTargetIds=M3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FV{constructor(){this.so=new MS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new MS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df=null;function jg(){return Df===null?Df=function(){return 268435456+Math.round(2147483648*Math.random())}():Df++,"0x"+Df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class WV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=jg(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(h=>(fe("RestConnection",`Received RPC '${n}' ${s}: `,h),h),h=>{throw hs("RestConnection",`RPC '${n}' ${s} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=UV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=jg();return new Promise((a,s)=>{const l=new Wk;l.setWithCredentials(!0),l.listenOnce(Gk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dh.NO_ERROR:const h=l.getResponseJson();fe(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case dh.TIMEOUT:fe(Qt,`RPC '${e}' ${o} timed out`),s(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const f=l.getStatus();if(fe(Qt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(p.status);s(new de(m,p.message))}else s(new de(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new de(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{fe(Qt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);fe(Qt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=jg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kk(),s=qk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");fe(Qt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,p=!1;const m=new zV({Io:_=>{p?fe(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(fe(Qt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),fe(Qt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),g=(_,w,b)=>{_.listen(w,x=>{try{b(x)}catch(O){setTimeout(()=>{throw O},0)}})};return g(f,ql.EventType.OPEN,()=>{p||(fe(Qt,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,ql.EventType.CLOSE,()=>{p||(p=!0,fe(Qt,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,ql.EventType.ERROR,_=>{p||(p=!0,hs(Qt,`RPC '${e}' stream ${i} transport errored:`,_),m.So(new de(J.UNAVAILABLE,"The operation could not be completed")))}),g(f,ql.EventType.MESSAGE,_=>{var w;if(!p){const b=_.data[0];Ve(!!b);const x=b,O=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(O){fe(Qt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let P=function(I){const k=yt[I];if(k!==void 0)return bC(k)}(T),S=O.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+T+" with message "+O.message),p=!0,m.So(new de(P,S)),f.close()}else fe(Qt,`RPC '${e}' stream ${i} received:`,b),m.bo(b)}}),g(s,Hk.STAT_EVENT,_=>{_.stat===hv.PROXY?fe(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===hv.NOPROXY&&fe(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return new eV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new CC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GV extends NC{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rV(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?Pr(a.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=gv(l)?{documents:aV(o,l)}:{query:sV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=xC(o,a.resumeToken);const u=vv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(xe.min())>0){s.readTime=Zh(o,a.snapshotVersion.toTimestamp());const u=vv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=uV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.a_(n)}}class HV extends NC{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=oV(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,bv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,bv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(li(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ua(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.L_.add(4),await Mc(u),u.q_.set("Unknown"),u.L_.delete(4),await Dp(u)}(this))})}),this.q_=new KV(r,i)}}async function Dp(t){if(ua(t))for(const e of t.B_)await e(!0)}async function Mc(t){for(const e of t.B_)await e(!1)}function jC(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),g_(n)?m_(n):Xs(n).r_()&&p_(n,e))}function d_(t,e){const n=Se(t),r=Xs(n);n.N_.delete(e),r.r_()&&RC(n,e),n.N_.size===0&&(r.r_()?r.o_():ua(n)&&n.q_.set("Unknown"))}function p_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).A_(e)}function RC(t,e){t.Q_.xe(e),Xs(t).R_(e)}function m_(t){t.Q_=new Y3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.q_.v_()}function g_(t){return ua(t)&&!Xs(t).n_()&&t.N_.size>0}function ua(t){return Se(t).L_.size===0}function MC(t){t.Q_=void 0}async function YV(t){t.q_.set("Online")}async function QV(t){t.N_.forEach((e,n)=>{p_(t,e)})}async function JV(t,e){MC(t),g_(t)?(t.q_.M_(e),m_(t)):t.q_.set("Unknown")}async function ZV(t,e,n){if(t.q_.set("Online"),e instanceof wC&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(t,r)}else if(e instanceof gh?t.Q_.Ke(e):e instanceof _C?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await kC(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Gt.EMPTY_BYTE_STRING,h.snapshotVersion)),RC(o,l);const f=new Li(h.target,l,u,h.sequenceNumber);p_(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await ed(t,r)}}async function ed(t,e,n){if(!Nc(e))throw e;t.L_.add(1),await Mc(t),t.q_.set("Offline"),n||(n=()=>kC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dp(t)})}function DC(t,e){return e().catch(n=>ed(t,n,e))}async function $p(t){const e=Se(t),n=oo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eF(e);)try{const i=await $V(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,tF(e,i)}catch(i){await ed(e,i)}$C(e)&&LC(e)}function eF(t){return ua(t)&&t.O_.length<10}function tF(t,e){t.O_.push(e);const n=oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $C(t){return ua(t)&&!oo(t).n_()&&t.O_.length>0}function LC(t){oo(t).start()}async function nF(t){oo(t).p_()}async function rF(t){const e=oo(t);for(const n of t.O_)e.m_(n.mutations)}async function iF(t,e,n){const r=t.O_.shift(),i=s_.from(r,e,n);await DC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $p(t)}async function oF(t,e){e&&oo(t).V_&&await async function(r,i){if(function(a){return q3(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();oo(r).s_(),await DC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $p(r)}}(t,e),$C(t)&&LC(t)}async function $S(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=ua(n);n.L_.add(3),await Mc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dp(n)}async function aF(t,e){const n=Se(t);e?(n.L_.delete(2),await Dp(n)):e||(n.L_.add(2),await Mc(n),n.q_.set("Unknown"))}function Xs(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new GV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:YV.bind(null,t),Ro:QV.bind(null,t),mo:JV.bind(null,t),d_:ZV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),g_(t)?m_(t):t.q_.set("Unknown")):(await t.K_.stop(),MC(t))})),t.K_}function oo(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new HV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nF.bind(null,t),mo:oF.bind(null,t),f_:rF.bind(null,t),g_:iF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $p(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new y_(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(t,e){if(li("AsyncQueue",`${e}: ${t}`),Nc(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Kl(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.W_=new ct(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ys{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new ys(e,n,Ya.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lF{constructor(){this.queries=VS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=VS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function VS(){return new Ks(t=>aC(t),kp)}async function b_(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new sF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=v_(a,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&w_(n)}async function __(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uF(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&w_(n)}function cF(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function w_(t){t.Y_.forEach(e=>{e.next()})}var Sv,FS;(FS=Sv||(Sv={})).ea="default",FS.Cache="cache";class x_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.key=e}}class FC{constructor(e){this.key=e}}class fF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=sC(e),this.Ra=new Ya(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new LS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),p=Cp(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),_=!0):this.ga(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(s=!0)),_&&(p?(a=a.add(p),o=g?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return g(p)-g(m)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new ys(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new LS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new VC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dF{constructor(e){this.key=e,this.va=!1}}class pF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ks(s=>aC(s),kp),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(pe.comparator),this.Na=new Map,this.La=new c_,this.Ba={},this.ka=new Map,this.qa=gs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mF(t,e,n=!0){const r=HC(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await BC(r,e,n,!0),i}async function gF(t,e){const n=HC(t);await BC(n,e,!0,!1)}async function BC(t,e,n,r){const i=await LV(t.localStore,Ar(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await yF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,i),s}async function yF(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,_,w,b){let x=_.view.ma(w);x.ns&&(x=await RS(g.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,x)));const O=b&&b.targetChanges.get(_.targetId),T=b&&b.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(x,g.isPrimaryClient,O,T);return US(g,_.targetId,P.wa),P.snapshot}(t,f,d,p);const o=await RS(t.localStore,e,!0),a=new fF(e,o.Ts),s=a.ma(o.documents),l=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);US(t,n,u.wa);const h=new hF(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function vF(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!kp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&d_(r.remoteStore,i.targetId),Ev(r,i.targetId)}).catch(Cc)):(Ev(r,i.targetId),await xv(r.localStore,i.targetId,!0))}async function bF(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d_(n.remoteStore,r.targetId))}async function _F(t,e,n){const r=PF(t);try{const i=await function(a,s){const l=Se(a),u=Pt.now(),h=s.reduce((p,m)=>p.add(m.key),Ie());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ui(),g=Ie();return l.cs.getEntries(p,h).next(_=>{m=_,m.forEach((w,b)=>{b.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{f=_;const w=[];for(const b of s){const x=U3(b,f.get(b.key).overlayedDocument);x!=null&&w.push(new uo(b.key,x,Zk(x.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(_=>{d=_;const w=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,w)})}).then(()=>({batchId:d.batchId,changes:uC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ct(Me)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Dc(r,i.changes),await $p(r.remoteStore)}catch(i){const o=v_(i,"Failed to persist write");n.reject(o)}}async function UC(t,e){const n=Se(t);try{const r=await MV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ve(a.va):i.removedDocuments.size>0&&(Ve(a.va),a.va=!1))}),await Dc(n,r,e)}catch(r){await Cc(r)}}function BS(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Se(a);l.onlineState=s;let u=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&w_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wF(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ct(pe.comparator);a=a.insert(o,nn.newNoDocument(o,xe.min()));const s=Ie().add(o),l=new Rp(xe.min(),new Map,new ct(Me),a,s);await UC(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),S_(r)}else await xv(r.localStore,e,!1).then(()=>Ev(r,e,n)).catch(Cc)}async function xF(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await RV(n.localStore,e);WC(n,r,null),zC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dc(n,i)}catch(i){await Cc(i)}}async function SF(t,e,n){const r=Se(t);try{const i=await function(a,s){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ve(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);WC(r,e,n),zC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dc(r,i)}catch(i){await Cc(i)}}function zC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WC(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ev(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||GC(t,r)})}function GC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(d_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),S_(t))}function US(t,e,n){for(const r of n)r instanceof VC?(t.La.addReference(r.key,e),EF(t,r)):r instanceof FC?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||GC(t,r.key)):_e()}function EF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),S_(t))}function S_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(it.fromString(e)),r=t.qa.next();t.Na.set(r,new dF(n)),t.Oa=t.Oa.insert(n,r),jC(t.remoteStore,new Li(Ar(Op(n.path)),r,"TargetPurposeLimboResolution",Zb.oe))}}async function Dc(t,e,n){const r=Se(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=h_.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const h=Se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,d=>Z.forEach(d.$i,p=>h.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Z.forEach(d.Ui,p=>h.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Nc(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=h.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);h.os=h.os.insert(d,g)}}}(r.localStore,o))}async function TF(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await OC(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new de(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dc(n,r.hs)}}function AF(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function HC(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.Ca.d_=uF.bind(null,e.eventManager),e.Ca.$a=cF.bind(null,e.eventManager),e}function PF(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SF.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jV(this.persistence,new CV,e.initialUser,this.serializer)}Ga(e){return new IV(f_.Zr,this.serializer)}Wa(e){return new FV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class Tv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,this.syncEngine),await aF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lF}()}createDatastore(e){const n=Mp(e.databaseInfo.databaseId),r=function(o){return new WV(o)}(e.databaseInfo);return function(o,a,s,l){return new qV(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new XV(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>BS(this.syncEngine,n,0),function(){return DS.D()?new DS:new BV}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,h){const f=new pF(i,o,a,s,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);fe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Mc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tv.provider={build:()=>new Tv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=Yk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{fe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OF(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$S(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$S(e.remoteStore,i)),t._onlineComponents=e}async function OF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hs("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new td)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Mg(t,new td);return t._offlineComponents}async function qC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await zS(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await zS(t,new Tv))),t._onlineComponents}function kF(t){return qC(t).then(e=>e.syncEngine)}async function nd(t){const e=await qC(t),n=e.eventManager;return n.onListen=mF.bind(null,e.syncEngine),n.onUnlisten=vF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bF.bind(null,e.syncEngine),n}function CF(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const h=new E_({next:d=>{h.Za(),a.enqueueAndForget(()=>__(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new x_(Op(s.path),h,{includeMetadataChanges:!0,_a:!0});return b_(o,f)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}function NF(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const h=new E_({next:d=>{h.Za(),a.enqueueAndForget(()=>__(o,f)),d.fromCache&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new x_(s,h,{includeMetadataChanges:!0,_a:!0});return b_(o,f)}(await nd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jF(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GS(t){if(!pe.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HS(t){if(pe.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=T_(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y4;switch(r.type){case"firstParty":return new e3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WS.get(n);r&&(fe("ComponentProvider","Removing Datastore"),WS.delete(n),r.terminate())}(this),Promise.resolve()}}function RF(t,e,n,r={}){var i;const o=(t=Tn(t,Lp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Zt.MOCK_USER;else{s=EL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zt(u)}t._authCredentials=new Q4(new Xk(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $c(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Qi extends $c{constructor(e,n,r){super(e,n,Op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new pe(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function ir(t,e,...n){if(t=Wt(t),XC("collection","path",e),t instanceof Lp){const r=it.fromString(e,...n);return HS(r),new Qi(t,null,r)}{if(!(t instanceof pn||t instanceof Qi))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return HS(r),new Qi(t.firestore,null,r)}}function en(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=Yk.newId()),XC("doc","path",e),t instanceof Lp){const r=it.fromString(e,...n);return GS(r),new pn(t,null,new pe(r))}{if(!(t instanceof pn||t instanceof Qi))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return GS(r),new pn(t.firestore,t instanceof Qi?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new CC(this,"async_queue_retry"),this.Vu=()=>{const r=Rg();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nc(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=y_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function XS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ci extends Lp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new KS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KS(e),this._firestoreClient=void 0,await e}}}function MF(t,e){const n=typeof t=="object"?t:Fk(),r=typeof t=="string"?t:e||"(default)",i=Qb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xL("firestore");o&&RF(i,...o)}return i}function Vp(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DF(t),t._firestoreClient}function DF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,h){return new d3(s,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new IF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Gt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^__.*__$/;class LF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class YC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class I_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QC(this.Cu)&&$F.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class VF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}Qu(e,n,r,i=!1){return new I_({Cu:e,methodName:n,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O_(t){const e=t._freezeSettings(),n=Mp(t._databaseId);return new VF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);C_("Data must be an object, but it was:",a,r);const s=ZC(r,a);let l,u;if(o.merge)l=new Rn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=Av(e,f,n);if(!a.contains(d))throw new de(J.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);t2(h,d)||h.push(d)}l=new Rn(h),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new LF(new bn(s),l,u)}class Up extends Bp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Up}}class k_ extends Bp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Bu(e.serializer,hC(e.serializer,this.$u));return new L3(e.path,n)}isEqual(e){return e instanceof k_&&this.$u===e.$u}}function FF(t,e,n,r){const i=t.Qu(1,e,n);C_("Data must be an object, but it was:",i,r);const o=[],a=bn.empty();la(r,(l,u)=>{const h=N_(e,l,n);u=Wt(u);const f=i.Nu(h);if(u instanceof Up)o.push(h);else{const d=zp(u,f);d!=null&&(o.push(h),a.set(h,d))}});const s=new Rn(o);return new YC(a,s,i.fieldTransforms)}function BF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Av(e,r,n)],l=[i];if(o.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Av(e,o[d])),l.push(o[d+1]);const u=[],h=bn.empty();for(let d=s.length-1;d>=0;--d)if(!t2(u,s[d])){const p=s[d];let m=l[d];m=Wt(m);const g=a.Nu(p);if(m instanceof Up)u.push(p);else{const _=zp(m,g);_!=null&&(u.push(p),h.set(p,_))}}const f=new Rn(u);return new YC(h,f,a.fieldTransforms)}function zp(t,e){if(e2(t=Wt(t)))return C_("Unsupported field value:",e,t),ZC(t,e);if(t instanceof Bp)return function(r,i){if(!QC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=zp(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:Zh(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,o)}}if(r instanceof A_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vs)return{bytesValue:xC(i.serializer,r._byteString)};if(r instanceof pn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof P_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return o_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${T_(r)}`)}(t,e)}function ZC(t,e){const n={};return Qk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,i)=>{const o=zp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function e2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof A_||t instanceof vs||t instanceof pn||t instanceof Bp||t instanceof P_)}function C_(t,e,n){if(!e2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=T_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Av(t,e,n){if((e=Wt(e))instanceof Fp)return e._internalPath;if(typeof e=="string")return N_(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const UF=new RegExp("[~\\*/\\[\\]]");function N_(t,e,n){if(e.search(UF)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fp(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new de(J.INVALID_ARGUMENT,s+t+l)}function t2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zF extends n2{data(){return super.data()}}function r2(t,e){return typeof e=="string"?N_(t,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WF{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new P_(o)}convertGeoPoint(e){return new A_(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const n=io(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ve(IC(r));const i=new $u(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||li(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a2 extends n2{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends a2{data(e={}){return super.data(e)}}class s2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new yh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Yl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new yh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Yl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),h=a.indexOf(s.doc.key)),{type:GF(s.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){t=Tn(t,pn);const e=Tn(t.firestore,ci);return CF(Vp(e),t._key).then(n=>u2(e,t,n))}class j_ extends WF{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function YS(t){t=Tn(t,$c);const e=Tn(t.firestore,ci),n=Vp(e),r=new j_(e);return i2(t._query),NF(n,t._query).then(i=>new s2(e,r,t,i))}function HF(t,e,n){t=Tn(t,pn);const r=Tn(t.firestore,ci),i=o2(t.converter,e,n);return Wp(r,[JC(O_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function Ii(t,e,n,...r){t=Tn(t,pn);const i=Tn(t.firestore,ci),o=O_(i);let a;return a=typeof(e=Wt(e))=="string"||e instanceof Fp?BF(o,"updateDoc",t._key,e,n,r):FF(o,"updateDoc",t._key,e),Wp(i,[a.toMutation(t._key,Kn.exists(!0))])}function $f(t){return Wp(Tn(t.firestore,ci),[new a_(t._key,Kn.none())])}function Cl(t,e){const n=Tn(t.firestore,ci),r=en(t),i=o2(t.converter,e);return Wp(n,[JC(O_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function Fa(t,...e){var n,r,i;t=Wt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||XS(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XS(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(t instanceof pn)u=Tn(t.firestore,ci),h=Op(t._key.path),l={next:f=>{e[a]&&e[a](u2(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Tn(t,$c);u=Tn(f.firestore,ci),h=f._query;const d=new j_(u);l={next:p=>{e[a]&&e[a](new s2(u,d,f,p))},error:e[a+1],complete:e[a+2]},i2(t._query)}return function(d,p,m,g){const _=new E_(g),w=new x_(p,_,m);return d.asyncQueue.enqueueAndForget(async()=>b_(await nd(d),w)),()=>{_.Za(),d.asyncQueue.enqueueAndForget(async()=>__(await nd(d),w))}}(Vp(u),h,s,l)}function Wp(t,e){return function(r,i){const o=new Jr;return r.asyncQueue.enqueueAndForget(async()=>_F(await kF(r),i,o)),o.promise}(Vp(t),e)}function u2(t,e,n){const r=n.docs.get(e._key),i=new j_(t);return new a2(t,i,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function _o(t){return new k_("increment",t)}(function(e,n=!0){(function(i){qs=i})(Hs),fs(new Yo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ci(new J4(r.getProvider("auth-internal")),new n3(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(u.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Yi(dS,"4.7.3",e),Yi(dS,"4.7.3","esm2017")})();function R_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function c2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qF=c2,f2=new Oc("auth","Firebase",c2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Xb("@firebase/auth");function KF(t,...e){id.logLevel<=Oe.WARN&&id.warn(`Auth (${Hs}): ${t}`,...e)}function vh(t,...e){id.logLevel<=Oe.ERROR&&id.error(`Auth (${Hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw D_(t,...e)}function gr(t,...e){return D_(t,...e)}function M_(t,e,n){const r=Object.assign(Object.assign({},qF()),{[e]:n});return new Oc("auth","Firebase",r).create(e,{appName:t.name})}function Bo(t){return M_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jr(t,"argument-error"),M_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function be(t,e,...n){if(!t)throw D_(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function fi(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YF(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YF()||IL()||"connection"in navigator)?navigator.onLine:!0}function JF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=TL()||OL()}get(){return QF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Lc(3e4,6e4);function L_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ys(t,e,n,r,i={}){return d2(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=kc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return PL()||(u.referrerPolicy="no-referrer"),h2.fetch()(p2(t,t.config.apiHost,n,s),u)})}async function d2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZF),e);try{const i=new n6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Lf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Lf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Lf(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw M_(t,h,u);jr(t,h)}}catch(i){if(i instanceof gi)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function t6(t,e,n,r,i={}){const o=await Ys(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function p2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$_(t.config,i):`${t.config.apiScheme}://${i}`}class n6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),e6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function m2(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=V_(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fu(Dg(i.auth_time)),issuedAtTime:fu(Dg(i.iat)),expirationTime:fu(Dg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dg(t){return Number(t)*1e3}function V_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=jk(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JS(t){const e=V_(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&o6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uu(t,m2(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?g2(o.providerUserInfo):[],s=l6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Iv(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function s6(t){const e=Wt(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function g2(t){return t.map(e=>{var{providerId:n}=e,r=R_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e){const n=await d2(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=p2(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",h2.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c6(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=JS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await u6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Qa;return r&&(be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Iv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i6(this,e)}reload(){return s6(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Bo(this.auth));const e=await this.getIdToken();return await Uu(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:O,isAnonymous:T,providerData:P,stsTokenManager:S}=n;be(x&&S,e,"internal-error");const E=Qa.fromJSON(this.name,S);be(typeof x=="string",e,"internal-error"),Ti(f,e.name),Ti(d,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof T=="boolean",e,"internal-error"),Ti(p,e.name),Ti(m,e.name),Ti(g,e.name),Ti(_,e.name),Ti(w,e.name),Ti(b,e.name);const I=new Hr({uid:x,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:w,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(k=>Object.assign({},k))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qa;i.updateFromServerResponse(n);const o=new Hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await od(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?g2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Qa;s.updateFromIdToken(r);const l=new Hr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Iv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Map;function qr(t){fi(t instanceof Function,"Expected a class definition");let e=ZS.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y2.type="NONE";const eE=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bh(this.userKey,i.apiKey,o),this.fullPersistenceKey=bh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(qr(eE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||qr(eE);const a=bh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const h=await u._get(a);if(h){const f=Hr._fromJSON(e,h);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ja(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Ja(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(E2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||_2(e))&&!e.includes("edge/"))return"Chrome";if(x2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v2(t=sn()){return/firefox\//i.test(t)}function b2(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _2(t=sn()){return/crios\//i.test(t)}function w2(t=sn()){return/iemobile/i.test(t)}function x2(t=sn()){return/android/i.test(t)}function S2(t=sn()){return/blackberry/i.test(t)}function E2(t=sn()){return/webos/i.test(t)}function F_(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f6(t=sn()){var e;return F_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h6(){return kL()&&document.documentMode===10}function T2(t=sn()){return F_(t)||x2(t)||E2(t)||S2(t)||/windows phone/i.test(t)||w2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=tE(sn());break;case"Worker":n=`${tE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",L_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=6;class g6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:m6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new d6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await m2(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(Bo(this));const n=e?Wt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gp(t){return Wt(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LL(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){B_=t}function b6(t){return B_.loadJS(t)}function _6(){return B_.gapiScript}function w6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){const n=Qb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(qh(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function S6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function E6(t,e,n){const r=Gp(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=P2(e),{host:a,port:s}=T6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||A6()}function P2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T6(t){const e=P2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:rE(a)}}}function rE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return t6(t,"POST","/v1/accounts:signInWithIdp",L_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="http://localhost";class ea extends I2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=R_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ea(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends U_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Vc{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Vc{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Vc{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Hr._fromIdTokenResponse(e,r,i),a=iE(r);return new bs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iE(r);return new bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends gi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ad(e,n,r,i)}}function O2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(t,o,e,r):o})}async function I6(t,e,n=!1){const r=await Uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(Bo(r));const i="reauthenticate";try{const o=await Uu(t,O2(r,i,e,t),n);be(o.idToken,r,"internal-error");const a=V_(o.idToken);be(a,r,"internal-error");const{sub:s}=a;return be(t.uid===s,r,"user-mismatch"),bs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e,n=!1){if(Wr(t.app))return Promise.reject(Bo(t));const r="signIn",i=await O2(t,r,e),o=await bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function C6(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function N6(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return Wt(t).onAuthStateChanged(e,n,r)}function oE(t){return Wt(t).signOut()}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=1e3,M6=10;class C2 extends k2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);h6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}C2.type="LOCAL";const D6=C2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends k2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N2.type="SESSION";const j2=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await $6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=z_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function V6(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function F6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U6(){return R2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebaseLocalStorageDb",z6=1,ld="firebaseLocalStorage",D2="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qp(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function W6(){const t=indexedDB.deleteDatabase(M2);return new Fc(t).toPromise()}function Ov(){const t=indexedDB.open(M2,z6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:D2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await W6(),e(await Ov()))})})}async function aE(t,e,n){const r=qp(t,!0).put({[D2]:e,value:n});return new Fc(r).toPromise()}async function G6(t,e){const n=qp(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function sE(t,e){const n=qp(t,!0).delete(e);return new Fc(n).toPromise()}const H6=800,q6=3;class $2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ov(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(U6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await F6(),!this.activeServiceWorker)return;this.sender=new L6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ov();return await aE(e,sd,"1"),await sE(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qp(i,!1).getAll();return new Fc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$2.type="LOCAL";const K6=$2;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){return e?qr(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends I2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X6(t){return k6(t.auth,new W_(t),t.bypassAuthState)}function Y6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),O6(n,new W_(t),t.bypassAuthState)}async function Q6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),I6(n,new W_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return Y6;default:jr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Lc(2e3,1e4);async function Z6(t,e,n){if(Wr(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=Gp(t);XF(t,e,U_);const i=L2(r,n);return new jo(r,"signInViaPopup",e,i).executeNotNull()}class jo extends V2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J6.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="pendingRedirect",_h=new Map;class tB extends V2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await nB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nB(t,e){const n=oB(e),r=iB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rB(t,e){_h.set(t._key(),e)}function iB(t){return qr(t._redirectPersistence)}function oB(t){return bh(eB,t.config.apiKey,t.name)}async function aB(t,e,n=!1){if(Wr(t.app))return Promise.reject(Bo(t));const r=Gp(t),i=L2(r,e),a=await new tB(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=10*60*1e3;class lB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sB&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hB=/^https?/;async function dB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cB(t);for(const n of e)try{if(pB(n))return}catch{}jr(t,"unauthorized-domain")}function pB(t){const e=Pv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!hB.test(n))return!1;if(fB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new Lc(3e4,6e4);function uE(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gB(t){return new Promise((e,n)=>{var r,i,o;function a(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(gr(t,"network-request-failed"))},timeout:mB.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ir().gapi)===null||o===void 0)&&o.load)a();else{const s=w6("iframefcb");return Ir()[s]=()=>{gapi.load?a():n(gr(t,"network-request-failed"))},b6(`${_6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw wh=null,e})}let wh=null;function yB(t){return wh=wh||gB(t),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Lc(5e3,15e3),bB="__/auth/iframe",_B="emulator/auth/iframe",wB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SB(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$_(e,_B):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:Hs},i=xB.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kc(r).slice(1)}`}async function EB(t){const e=await yB(t),n=Ir().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:SB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=gr(t,"network-request-failed"),s=Ir().setTimeout(()=>{o(a)},vB.get());function l(){Ir().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AB=500,PB=600,IB="_blank",OB="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kB(t,e,n,r=AB,i=PB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},TB),{width:r.toString(),height:i.toString(),top:o,left:a}),u=sn().toLowerCase();n&&(s=_2(u)?IB:n),v2(u)&&(e=e||OB,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(f6(u)&&s!=="_self")return CB(e||"",s),new cE(null);const f=window.open(e||"",s,h);be(f,t,"popup-blocked");try{f.focus()}catch{}return new cE(f)}function CB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="__/auth/handler",jB="emulator/auth/handler",RB=encodeURIComponent("fac");async function fE(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hs,eventId:i};if(e instanceof U_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$L(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(o||{}))a[h]=f}if(e instanceof Vc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const l=await t._getAppCheckToken(),u=l?`#${RB}=${encodeURIComponent(l)}`:"";return`${MB(t)}?${kc(s).slice(1)}${u}`}function MB({config:t}){return t.emulator?$_(t,jB):`https://${t.authDomain}/${NB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class DB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j2,this._completeRedirectFn=aB,this._overrideRedirectResult=rB}async _openPopup(e,n,r,i){var o;fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await fE(e,n,r,Pv(),i);return kB(e,a,z_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await fE(e,n,r,Pv(),i);return V6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EB(e),r=new lB(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$g];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T2()||b2()||F_()}}const $B=DB;var hE="@firebase/auth",dE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FB(t){fs(new Yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},u=new y6(r,i,o,l);return S6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Yo("auth-internal",e=>{const n=Gp(e.getProvider("auth").getImmediate());return(r=>new LB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(hE,dE,VB(t)),Yi(hE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=5*60,UB=Dk("authIdTokenMaxAge")||BB;let pE=null;const zB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UB)return;const i=n==null?void 0:n.token;pE!==i&&(pE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WB(t=Fk()){const e=Qb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:$B,persistence:[K6,D6,j2]}),r=Dk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=zB(o.toString());N6(n,a,()=>a(n.currentUser)),C6(n,s=>a(s))}}const i=Rk("auth");return i&&E6(n,`http://${i}`),n}function GB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",GB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FB("Browser");const HB={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},B2=Vk(HB),Je=MF(B2),Vf=WB(B2),qB=new Br;function KB({teams:t=[],stats:e=[],onSubmit:n}){const[r,i]=$.useState({teamName:"",opponent:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[o,a]=$.useState(""),s=$.useMemo(()=>{const m=new Map;for(const g of t)g&&g.id&&!m.has(g.name.toLowerCase())&&m.set(g.name.toLowerCase(),g);return Array.from(m.values())},[t]),l=$.useMemo(()=>[...new Set(e.map(g=>g.opponent).filter(Boolean))],[e]);$.useEffect(()=>{s.length>0&&!r.teamName&&i(m=>({...m,teamName:s[0].name}))},[s,r.teamName]);const u=m=>{const g=m.target.value;i(_=>({..._,opponent:g}))},h=l.some(m=>m.toLowerCase()===r.opponent.toLowerCase()),f=l.find(m=>r.opponent.length>=2&&m.toLowerCase().includes(r.opponent.toLowerCase())&&m.toLowerCase()!==r.opponent.toLowerCase()),d=m=>{const{name:g,value:_}=m.target;i(w=>({...w,[g]:_}))},p=m=>{if(!r.teamName||!r.opponent){a("Please select a team and enter an opponent name.");return}a("");const g=new Date(`${r.date}T${r.time}`).toISOString();typeof n=="function"?n({...r,timestamp:g},m):a("Internal error: Game submit not available.")};return v.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[v.jsx("div",{className:"flex items-center justify-center mb-6",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"date",name:"date",value:r.date,onChange:d,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),v.jsx("input",{type:"time",name:"time",value:r.time,onChange:d,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),o&&v.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:o}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sahil's Team"}),v.jsxs("select",{name:"teamName",value:r.teamName,onChange:d,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[v.jsx("option",{value:"",disabled:!0,children:"Select Team"}),s.map(m=>v.jsx("option",{value:m.name,children:m.name},m.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),v.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:r.opponent,onChange:u,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),r.opponent&&v.jsx("div",{className:"mt-2 text-sm",children:h?v.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[v.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):f?v.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[v.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",v.jsx("button",{type:"button",onClick:()=>i(m=>({...m,opponent:f})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:f}),"?"]}):v.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[v.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),v.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[v.jsx("button",{onClick:()=>p("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",children:"Start Live Game & Track Stats"}),v.jsx("button",{onClick:()=>p("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function U2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=U2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=U2(t))&&(r&&(r+=" "),r+=e);return r}var XB=Array.isArray,An=XB,YB=typeof mf=="object"&&mf&&mf.Object===Object&&mf,z2=YB,QB=z2,JB=typeof self=="object"&&self&&self.Object===Object&&self,ZB=QB||JB||Function("return this")(),Mr=ZB,e5=Mr,t5=e5.Symbol,Bc=t5,mE=Bc,W2=Object.prototype,n5=W2.hasOwnProperty,r5=W2.toString,Nl=mE?mE.toStringTag:void 0;function i5(t){var e=n5.call(t,Nl),n=t[Nl];try{t[Nl]=void 0;var r=!0}catch{}var i=r5.call(t);return r&&(e?t[Nl]=n:delete t[Nl]),i}var o5=i5,a5=Object.prototype,s5=a5.toString;function l5(t){return s5.call(t)}var u5=l5,gE=Bc,c5=o5,f5=u5,h5="[object Null]",d5="[object Undefined]",yE=gE?gE.toStringTag:void 0;function p5(t){return t==null?t===void 0?d5:h5:yE&&yE in Object(t)?c5(t):f5(t)}var yi=p5;function m5(t){return t!=null&&typeof t=="object"}var vi=m5,g5=yi,y5=vi,v5="[object Symbol]";function b5(t){return typeof t=="symbol"||y5(t)&&g5(t)==v5}var Qs=b5,_5=An,w5=Qs,x5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S5=/^\w*$/;function E5(t,e){if(_5(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||w5(t)?!0:S5.test(t)||!x5.test(t)||e!=null&&t in Object(e)}var G_=E5;function T5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var co=T5;const Js=We(co);var A5=yi,P5=co,I5="[object AsyncFunction]",O5="[object Function]",k5="[object GeneratorFunction]",C5="[object Proxy]";function N5(t){if(!P5(t))return!1;var e=A5(t);return e==O5||e==k5||e==I5||e==C5}var H_=N5;const Te=We(H_);var j5=Mr,R5=j5["__core-js_shared__"],M5=R5,Lg=M5,vE=function(){var t=/[^.]+$/.exec(Lg&&Lg.keys&&Lg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function D5(t){return!!vE&&vE in t}var $5=D5,L5=Function.prototype,V5=L5.toString;function F5(t){if(t!=null){try{return V5.call(t)}catch{}try{return t+""}catch{}}return""}var G2=F5,B5=H_,U5=$5,z5=co,W5=G2,G5=/[\\^$.*+?()[\]{}|]/g,H5=/^\[object .+?Constructor\]$/,q5=Function.prototype,K5=Object.prototype,X5=q5.toString,Y5=K5.hasOwnProperty,Q5=RegExp("^"+X5.call(Y5).replace(G5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J5(t){if(!z5(t)||U5(t))return!1;var e=B5(t)?Q5:H5;return e.test(W5(t))}var Z5=J5;function eU(t,e){return t==null?void 0:t[e]}var tU=eU,nU=Z5,rU=tU;function iU(t,e){var n=rU(t,e);return nU(n)?n:void 0}var ca=iU,oU=ca,aU=oU(Object,"create"),Kp=aU,bE=Kp;function sU(){this.__data__=bE?bE(null):{},this.size=0}var lU=sU;function uU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cU=uU,fU=Kp,hU="__lodash_hash_undefined__",dU=Object.prototype,pU=dU.hasOwnProperty;function mU(t){var e=this.__data__;if(fU){var n=e[t];return n===hU?void 0:n}return pU.call(e,t)?e[t]:void 0}var gU=mU,yU=Kp,vU=Object.prototype,bU=vU.hasOwnProperty;function _U(t){var e=this.__data__;return yU?e[t]!==void 0:bU.call(e,t)}var wU=_U,xU=Kp,SU="__lodash_hash_undefined__";function EU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xU&&e===void 0?SU:e,this}var TU=EU,AU=lU,PU=cU,IU=gU,OU=wU,kU=TU;function Zs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zs.prototype.clear=AU;Zs.prototype.delete=PU;Zs.prototype.get=IU;Zs.prototype.has=OU;Zs.prototype.set=kU;var CU=Zs;function NU(){this.__data__=[],this.size=0}var jU=NU;function RU(t,e){return t===e||t!==t&&e!==e}var q_=RU,MU=q_;function DU(t,e){for(var n=t.length;n--;)if(MU(t[n][0],e))return n;return-1}var Xp=DU,$U=Xp,LU=Array.prototype,VU=LU.splice;function FU(t){var e=this.__data__,n=$U(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():VU.call(e,n,1),--this.size,!0}var BU=FU,UU=Xp;function zU(t){var e=this.__data__,n=UU(e,t);return n<0?void 0:e[n][1]}var WU=zU,GU=Xp;function HU(t){return GU(this.__data__,t)>-1}var qU=HU,KU=Xp;function XU(t,e){var n=this.__data__,r=KU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var YU=XU,QU=jU,JU=BU,ZU=WU,e9=qU,t9=YU;function el(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}el.prototype.clear=QU;el.prototype.delete=JU;el.prototype.get=ZU;el.prototype.has=e9;el.prototype.set=t9;var Yp=el,n9=ca,r9=Mr,i9=n9(r9,"Map"),K_=i9,_E=CU,o9=Yp,a9=K_;function s9(){this.size=0,this.__data__={hash:new _E,map:new(a9||o9),string:new _E}}var l9=s9;function u9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var c9=u9,f9=c9;function h9(t,e){var n=t.__data__;return f9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qp=h9,d9=Qp;function p9(t){var e=d9(this,t).delete(t);return this.size-=e?1:0,e}var m9=p9,g9=Qp;function y9(t){return g9(this,t).get(t)}var v9=y9,b9=Qp;function _9(t){return b9(this,t).has(t)}var w9=_9,x9=Qp;function S9(t,e){var n=x9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var E9=S9,T9=l9,A9=m9,P9=v9,I9=w9,O9=E9;function tl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tl.prototype.clear=T9;tl.prototype.delete=A9;tl.prototype.get=P9;tl.prototype.has=I9;tl.prototype.set=O9;var X_=tl,H2=X_,k9="Expected a function";function Y_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(k9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Y_.Cache||H2),n}Y_.Cache=H2;var q2=Y_;const C9=We(q2);var N9=q2,j9=500;function R9(t){var e=N9(t,function(r){return n.size===j9&&n.clear(),r}),n=e.cache;return e}var M9=R9,D9=M9,$9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L9=/\\(\\)?/g,V9=D9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($9,function(n,r,i,o){e.push(i?o.replace(L9,"$1"):r||n)}),e}),F9=V9;function B9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Q_=B9,wE=Bc,U9=Q_,z9=An,W9=Qs,G9=1/0,xE=wE?wE.prototype:void 0,SE=xE?xE.toString:void 0;function K2(t){if(typeof t=="string")return t;if(z9(t))return U9(t,K2)+"";if(W9(t))return SE?SE.call(t):"";var e=t+"";return e=="0"&&1/t==-G9?"-0":e}var H9=K2,q9=H9;function K9(t){return t==null?"":q9(t)}var X2=K9,X9=An,Y9=G_,Q9=F9,J9=X2;function Z9(t,e){return X9(t)?t:Y9(t,e)?[t]:Q9(J9(t))}var Y2=Z9,ez=Qs,tz=1/0;function nz(t){if(typeof t=="string"||ez(t))return t;var e=t+"";return e=="0"&&1/t==-tz?"-0":e}var Jp=nz,rz=Y2,iz=Jp;function oz(t,e){e=rz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iz(e[n++])];return n&&n==r?t:void 0}var J_=oz,az=J_;function sz(t,e,n){var r=t==null?void 0:az(t,e);return r===void 0?n:r}var Q2=sz;const Xn=We(Q2);function lz(t){return t==null}var uz=lz;const Ae=We(uz);var cz=yi,fz=An,hz=vi,dz="[object String]";function pz(t){return typeof t=="string"||!fz(t)&&hz(t)&&cz(t)==dz}var mz=pz;const ta=We(mz);var J2={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=Symbol.for("react.element"),ew=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),nm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),gz=Symbol.for("react.server_context"),im=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),lm=Symbol.for("react.lazy"),yz=Symbol.for("react.offscreen"),Z2;Z2=Symbol.for("react.module.reference");function er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z_:switch(t=t.type,t){case Zp:case tm:case em:case om:case am:return t;default:switch(t=t&&t.$$typeof,t){case gz:case rm:case im:case lm:case sm:case nm:return t;default:return e}}case ew:return e}}}Fe.ContextConsumer=rm;Fe.ContextProvider=nm;Fe.Element=Z_;Fe.ForwardRef=im;Fe.Fragment=Zp;Fe.Lazy=lm;Fe.Memo=sm;Fe.Portal=ew;Fe.Profiler=tm;Fe.StrictMode=em;Fe.Suspense=om;Fe.SuspenseList=am;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return er(t)===rm};Fe.isContextProvider=function(t){return er(t)===nm};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z_};Fe.isForwardRef=function(t){return er(t)===im};Fe.isFragment=function(t){return er(t)===Zp};Fe.isLazy=function(t){return er(t)===lm};Fe.isMemo=function(t){return er(t)===sm};Fe.isPortal=function(t){return er(t)===ew};Fe.isProfiler=function(t){return er(t)===tm};Fe.isStrictMode=function(t){return er(t)===em};Fe.isSuspense=function(t){return er(t)===om};Fe.isSuspenseList=function(t){return er(t)===am};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zp||t===tm||t===em||t===om||t===am||t===yz||typeof t=="object"&&t!==null&&(t.$$typeof===lm||t.$$typeof===sm||t.$$typeof===nm||t.$$typeof===rm||t.$$typeof===im||t.$$typeof===Z2||t.getModuleId!==void 0)};Fe.typeOf=er;J2.exports=Fe;var vz=J2.exports,bz=yi,_z=vi,wz="[object Number]";function xz(t){return typeof t=="number"||_z(t)&&bz(t)==wz}var eN=xz;const Sz=We(eN);var Ez=eN;function Tz(t){return Ez(t)&&t!=+t}var Az=Tz;const Uc=We(Az);var dr=function(e){return e===0?0:e>0?1:-1},Ro=function(e){return ta(e)&&e.indexOf("%")===e.length-1},oe=function(e){return Sz(e)&&!Uc(e)},Pz=function(e){return Ae(e)},At=function(e){return oe(e)||ta(e)},Iz=0,zc=function(e){var n=++Iz;return"".concat(e||"").concat(n)},na=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!ta(e))return r;var o;if(Ro(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Uc(o)&&(o=r),i&&o>n&&(o=n),o},Mi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Oz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fr=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function ud(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xn(r,e))===n})}var kz=function(e,n){return oe(e)&&oe(n)?e-n:ta(e)&&ta(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function es(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}var Cz=["viewBox","children"],Nz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EE=["points","pathLength"],Vg={svg:Cz,polygon:EE,polyline:EE},tw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Js(r))return null;var i={};return Object.keys(r).forEach(function(o){tw.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},jz=function(e,n,r){return function(i){return e(n,r,i),null}},fd=function(e,n,r){if(!Js(e)||kv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];tw.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=jz(a,n,r))}),i},Rz=["children"],Mz=["children"];function TE(t,e){if(t==null)return{};var n=Dz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}var AE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PE=null,Fg=null,nw=function t(e){if(e===PE&&Array.isArray(Fg))return Fg;var n=[];return $.Children.forEach(e,function(r){Ae(r)||(vz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Fg=n,PE=e,n};function Yn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zr(i)}):r=[Zr(e)],nw(t).forEach(function(i){var o=Xn(i,"type.displayName")||Xn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cn(t,e){var n=Yn(t,e);return n&&n[0]}var IE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},$z=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Lz=function(e){return e&&e.type&&ta(e.type)&&$z.indexOf(e.type)>=0},Vz=function(e){return e&&Cv(e)==="object"&&"clipDot"in e},Fz=function(e,n,r,i){var o,a=(o=Vg==null?void 0:Vg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Te(e)&&(i&&a.includes(n)||Nz.includes(n))||r&&tw.includes(n)},ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Js(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Fz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Nv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return OE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!OE(o,a))return!1}return!0},OE=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=TE(r,Rz),a=n.props||{},s=a.children,l=TE(a,Mz);return i&&s?es(o,l)&&Nv(i,s):!i&&!s?es(o,l):!1}return!1},kE=function(e,n){var r=[],i={};return nw(e).forEach(function(o,a){if(Lz(o))r.push(o);else if(o){var s=Zr(o.type),l=n[s]||{},u=l.handler,h=l.once;if(u&&(!h||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Bz=function(e){var n=e&&e.type;return n&&AE[n]?AE[n]:null},Uz=function(e,n){return nw(n).indexOf(e)},zz=["children","width","height","viewBox","className","style","title","desc"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function Wz(t,e){if(t==null)return{};var n=Gz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Wz(t,zz),h=i||{width:n,height:r,x:0,y:0},f=je("recharts-surface",o);return M.createElement("svg",jv({},ke(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var Hz=["children","className"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function qz(t,e){if(t==null)return{};var n=Kz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=qz(t,Hz),o=je("recharts-layer",r);return M.createElement("g",Mv({className:o},ke(i,!0),{ref:e}),n)}),ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Xz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Yz=Xz,Qz=Yz;function Jz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Qz(t,e,n)}var Zz=Jz,e8="\\ud800-\\udfff",t8="\\u0300-\\u036f",n8="\\ufe20-\\ufe2f",r8="\\u20d0-\\u20ff",i8=t8+n8+r8,o8="\\ufe0e\\ufe0f",a8="\\u200d",s8=RegExp("["+a8+e8+i8+o8+"]");function l8(t){return s8.test(t)}var tN=l8;function u8(t){return t.split("")}var c8=u8,nN="\\ud800-\\udfff",f8="\\u0300-\\u036f",h8="\\ufe20-\\ufe2f",d8="\\u20d0-\\u20ff",p8=f8+h8+d8,m8="\\ufe0e\\ufe0f",g8="["+nN+"]",Dv="["+p8+"]",$v="\\ud83c[\\udffb-\\udfff]",y8="(?:"+Dv+"|"+$v+")",rN="[^"+nN+"]",iN="(?:\\ud83c[\\udde6-\\uddff]){2}",oN="[\\ud800-\\udbff][\\udc00-\\udfff]",v8="\\u200d",aN=y8+"?",sN="["+m8+"]?",b8="(?:"+v8+"(?:"+[rN,iN,oN].join("|")+")"+sN+aN+")*",_8=sN+aN+b8,w8="(?:"+[rN+Dv+"?",Dv,iN,oN,g8].join("|")+")",x8=RegExp($v+"(?="+$v+")|"+w8+_8,"g");function S8(t){return t.match(x8)||[]}var E8=S8,T8=c8,A8=tN,P8=E8;function I8(t){return A8(t)?P8(t):T8(t)}var O8=I8,k8=Zz,C8=tN,N8=O8,j8=X2;function R8(t){return function(e){e=j8(e);var n=C8(e)?N8(e):void 0,r=n?n[0]:e.charAt(0),i=n?k8(n,1).join(""):e.slice(1);return r[t]()+i}}var M8=R8,D8=M8,$8=D8("toUpperCase"),L8=$8;const um=We(L8);function He(t){return function(){return t}}const lN=Math.cos,hd=Math.sin,vr=Math.sqrt,dd=Math.PI,cm=2*dd,Lv=Math.PI,Vv=2*Lv,Ao=1e-6,V8=Vv-Ao;function uN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function F8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class B8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uN:F8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,h=a-e,f=s-n,d=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ao)if(!(Math.abs(f*l-u*h)>Ao)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,_=p*p+m*m,w=Math.sqrt(g),b=Math.sqrt(d),x=o*Math.tan((Lv-Math.acos((g+d-_)/(2*w*b)))/2),O=x/b,T=x/w;Math.abs(O-1)>Ao&&this._append`L${e+O*h},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*p>h*m)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,h=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ao||Math.abs(this._y1-h)>Ao)&&this._append`L${u},${h}`,r&&(d<0&&(d=d%Vv+Vv),d>V8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=h}`:d>Ao&&this._append`A${r},${r},0,${+(d>=Lv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new B8(e)}function iw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cN(t){this._context=t}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fm(t){return new cN(t)}function fN(t){return t[0]}function hN(t){return t[1]}function dN(t,e){var n=He(!0),r=null,i=fm,o=null,a=rw(s);t=typeof t=="function"?t:t===void 0?fN:He(t),e=typeof e=="function"?e:e===void 0?hN:He(e);function s(l){var u,h=(l=iw(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=h;++u)!(u<h&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ff(t,e,n){var r=null,i=He(!0),o=null,a=fm,s=null,l=rw(u);t=typeof t=="function"?t:t===void 0?fN:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hN:He(+n);function u(f){var d,p,m,g=(f=iw(f)).length,_,w=!1,b,x=new Array(g),O=new Array(g);for(o==null&&(s=a(b=l())),d=0;d<=g;++d){if(!(d<g&&i(_=f[d],d,f))===w)if(w=!w)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(x[m],O[m]);s.lineEnd(),s.areaEnd()}w&&(x[d]=+t(_,d,f),O[d]=+e(_,d,f),s.point(r?+r(_,d,f):x[d],n?+n(_,d,f):O[d]))}if(b)return s=null,b+""||null}function h(){return dN().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(n)},u.lineX1=function(){return h().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class pN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function U8(t){return new pN(t,!0)}function z8(t){return new pN(t,!1)}const ow={draw(t,e){const n=vr(e/dd);t.moveTo(n,0),t.arc(0,0,n,0,cm)}},W8={draw(t,e){const n=vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mN=vr(1/3),G8=mN*2,H8={draw(t,e){const n=vr(e/G8),r=n*mN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},q8={draw(t,e){const n=vr(e),r=-n/2;t.rect(r,r,n,n)}},K8=.8908130915292852,gN=hd(dd/10)/hd(7*dd/10),X8=hd(cm/10)*gN,Y8=-lN(cm/10)*gN,Q8={draw(t,e){const n=vr(e*K8),r=X8*n,i=Y8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=cm*o/5,s=lN(a),l=hd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Bg=vr(3),J8={draw(t,e){const n=-vr(e/(Bg*3));t.moveTo(0,n*2),t.lineTo(-Bg*n,-n),t.lineTo(Bg*n,-n),t.closePath()}},Fn=-.5,Bn=vr(3)/2,Fv=1/vr(12),Z8=(Fv/2+1)*3,eW={draw(t,e){const n=vr(e/Z8),r=n/2,i=n*Fv,o=r,a=n*Fv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Fn*r-Bn*i,Bn*r+Fn*i),t.lineTo(Fn*o-Bn*a,Bn*o+Fn*a),t.lineTo(Fn*s-Bn*l,Bn*s+Fn*l),t.lineTo(Fn*r+Bn*i,Fn*i-Bn*r),t.lineTo(Fn*o+Bn*a,Fn*a-Bn*o),t.lineTo(Fn*s+Bn*l,Fn*l-Bn*s),t.closePath()}};function tW(t,e){let n=null,r=rw(i);t=typeof t=="function"?t:He(t||ow),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function pd(){}function md(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yN(t){this._context=t}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:md(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:md(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nW(t){return new yN(t)}function vN(t){this._context=t}vN.prototype={areaStart:pd,areaEnd:pd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:md(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rW(t){return new vN(t)}function bN(t){this._context=t}bN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:md(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iW(t){return new bN(t)}function _N(t){this._context=t}_N.prototype={areaStart:pd,areaEnd:pd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function oW(t){return new _N(t)}function CE(t){return t<0?-1:1}function NE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(CE(o)+CE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function jE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ug(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function gd(t){this._context=t}gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ug(this,this._t0,jE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ug(this,jE(this,n=NE(this,t,e)),n);break;default:Ug(this,this._t0,n=NE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wN(t){this._context=new xN(t)}(wN.prototype=Object.create(gd.prototype)).point=function(t,e){gd.prototype.point.call(this,e,t)};function xN(t){this._context=t}xN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function aW(t){return new gd(t)}function sW(t){return new wN(t)}function SN(t){this._context=t}SN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=RE(t),i=RE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function lW(t){return new SN(t)}function hm(t,e){this._context=t,this._t=e}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function uW(t){return new hm(t,.5)}function cW(t){return new hm(t,0)}function fW(t){return new hm(t,1)}function _s(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Bv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hW(t,e){return t[e]}function dW(t){const e=[];return e.key=t,e}function pW(){var t=He([]),e=Bv,n=_s,r=hW;function i(o){var a=Array.from(t.apply(this,arguments),dW),s,l=a.length,u=-1,h;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,h=iw(e(a));s<l;++s)a[h[s]].index=s;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Bv:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??_s,i):n},i}function mW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}_s(t,e)}}function gW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}_s(t,e)}}function yW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var h=t[e[s]],f=h[r][1]||0,d=h[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],_=g[r][1]||0,w=g[r-1][1]||0;p+=_-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,_s(t,e)}}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}var vW=["type","size","sizeType"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){bW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bW(t,e,n){return e=_W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return zu(e)=="symbol"?e:e+""}function wW(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xW(t,e){if(t==null)return{};var n=SW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EN={symbolCircle:ow,symbolCross:W8,symbolDiamond:H8,symbolSquare:q8,symbolStar:Q8,symbolTriangle:J8,symbolWye:eW},EW=Math.PI/180,TW=function(e){var n="symbol".concat(um(e));return EN[n]||ow},AW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*EW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PW=function(e,n){EN["symbol".concat(um(e))]=n},aw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=xW(e,vW),u=DE(DE({},l),{},{type:r,size:o,sizeType:s}),h=function(){var _=TW(r),w=tW().type(_).size(AW(o,s,r));return w()},f=u.className,d=u.cx,p=u.cy,m=ke(u,!0);return d===+d&&p===+p&&o===+o?M.createElement("path",Uv({},m,{className:je("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:h()})):null};aw.registerSymbol=PW;function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){Wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AN(r.key),r)}}function kW(t,e,n){return e&&LE(t.prototype,e),n&&LE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e,n){return e=yd(e),NW(t,TN()?Reflect.construct(e,n||[],yd(t).constructor):e.apply(t,n))}function NW(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jW(t)}function jW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wv(t,e)}function Wu(t,e,n){return e=AN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AN(t){var e=MW(t,"string");return ws(e)=="symbol"?e:e+""}function MW(t,e){if(ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Un=32,sw=function(t){function e(){return OW(this,e),CW(this,e,arguments)}return RW(e,t),kW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Un/2,a=Un/6,s=Un/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Un,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Un,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=IW({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(aw,{fill:l,cx:o,cy:o,size:Un,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Un,height:Un},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,_=je(Wu(Wu({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Te(p.value)?null:p.value;ei(!Te(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return M.createElement("li",zv({className:_,style:f,key:"legend-item-".concat(m)},fd(r.props,p,m)),M.createElement(Rv,{width:a,height:a,viewBox:h,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(w,p,m):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);Wu(sw,"displayName","Legend");Wu(sw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DW=Yp;function $W(){this.__data__=new DW,this.size=0}var LW=$W;function VW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var FW=VW;function BW(t){return this.__data__.get(t)}var UW=BW;function zW(t){return this.__data__.has(t)}var WW=zW,GW=Yp,HW=K_,qW=X_,KW=200;function XW(t,e){var n=this.__data__;if(n instanceof GW){var r=n.__data__;if(!HW||r.length<KW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qW(r)}return n.set(t,e),this.size=n.size,this}var YW=XW,QW=Yp,JW=LW,ZW=FW,e7=UW,t7=WW,n7=YW;function nl(t){var e=this.__data__=new QW(t);this.size=e.size}nl.prototype.clear=JW;nl.prototype.delete=ZW;nl.prototype.get=e7;nl.prototype.has=t7;nl.prototype.set=n7;var PN=nl,r7="__lodash_hash_undefined__";function i7(t){return this.__data__.set(t,r7),this}var o7=i7;function a7(t){return this.__data__.has(t)}var s7=a7,l7=X_,u7=o7,c7=s7;function vd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new l7;++e<n;)this.add(t[e])}vd.prototype.add=vd.prototype.push=u7;vd.prototype.has=c7;var IN=vd;function f7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ON=f7;function h7(t,e){return t.has(e)}var kN=h7,d7=IN,p7=ON,m7=kN,g7=1,y7=2;function v7(t,e,n,r,i,o){var a=n&g7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,p=n&y7?new d7:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var _=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(p){if(!p7(e,function(w,b){if(!m7(p,b)&&(m===w||i(m,w,n,r,o)))return p.push(b)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var CN=v7,b7=Mr,_7=b7.Uint8Array,w7=_7;function x7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var S7=x7;function E7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lw=E7,VE=Bc,FE=w7,T7=q_,A7=CN,P7=S7,I7=lw,O7=1,k7=2,C7="[object Boolean]",N7="[object Date]",j7="[object Error]",R7="[object Map]",M7="[object Number]",D7="[object RegExp]",$7="[object Set]",L7="[object String]",V7="[object Symbol]",F7="[object ArrayBuffer]",B7="[object DataView]",BE=VE?VE.prototype:void 0,zg=BE?BE.valueOf:void 0;function U7(t,e,n,r,i,o,a){switch(n){case B7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case F7:return!(t.byteLength!=e.byteLength||!o(new FE(t),new FE(e)));case C7:case N7:case M7:return T7(+t,+e);case j7:return t.name==e.name&&t.message==e.message;case D7:case L7:return t==e+"";case R7:var s=P7;case $7:var l=r&O7;if(s||(s=I7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=k7,a.set(t,e);var h=A7(s(t),s(e),r,i,o,a);return a.delete(t),h;case V7:if(zg)return zg.call(t)==zg.call(e)}return!1}var z7=U7;function W7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var NN=W7,G7=NN,H7=An;function q7(t,e,n){var r=e(t);return H7(t)?r:G7(r,n(t))}var K7=q7;function X7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Y7=X7;function Q7(){return[]}var J7=Q7,Z7=Y7,eG=J7,tG=Object.prototype,nG=tG.propertyIsEnumerable,UE=Object.getOwnPropertySymbols,rG=UE?function(t){return t==null?[]:(t=Object(t),Z7(UE(t),function(e){return nG.call(t,e)}))}:eG,iG=rG;function oG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var aG=oG,sG=yi,lG=vi,uG="[object Arguments]";function cG(t){return lG(t)&&sG(t)==uG}var fG=cG,zE=fG,hG=vi,jN=Object.prototype,dG=jN.hasOwnProperty,pG=jN.propertyIsEnumerable,mG=zE(function(){return arguments}())?zE:function(t){return hG(t)&&dG.call(t,"callee")&&!pG.call(t,"callee")},uw=mG,bd={exports:{}};function gG(){return!1}var yG=gG;bd.exports;(function(t,e){var n=Mr,r=yG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(bd,bd.exports);var RN=bd.exports,vG=9007199254740991,bG=/^(?:0|[1-9]\d*)$/;function _G(t,e){var n=typeof t;return e=e??vG,!!e&&(n=="number"||n!="symbol"&&bG.test(t))&&t>-1&&t%1==0&&t<e}var cw=_G,wG=9007199254740991;function xG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wG}var fw=xG,SG=yi,EG=fw,TG=vi,AG="[object Arguments]",PG="[object Array]",IG="[object Boolean]",OG="[object Date]",kG="[object Error]",CG="[object Function]",NG="[object Map]",jG="[object Number]",RG="[object Object]",MG="[object RegExp]",DG="[object Set]",$G="[object String]",LG="[object WeakMap]",VG="[object ArrayBuffer]",FG="[object DataView]",BG="[object Float32Array]",UG="[object Float64Array]",zG="[object Int8Array]",WG="[object Int16Array]",GG="[object Int32Array]",HG="[object Uint8Array]",qG="[object Uint8ClampedArray]",KG="[object Uint16Array]",XG="[object Uint32Array]",Ze={};Ze[BG]=Ze[UG]=Ze[zG]=Ze[WG]=Ze[GG]=Ze[HG]=Ze[qG]=Ze[KG]=Ze[XG]=!0;Ze[AG]=Ze[PG]=Ze[VG]=Ze[IG]=Ze[FG]=Ze[OG]=Ze[kG]=Ze[CG]=Ze[NG]=Ze[jG]=Ze[RG]=Ze[MG]=Ze[DG]=Ze[$G]=Ze[LG]=!1;function YG(t){return TG(t)&&EG(t.length)&&!!Ze[SG(t)]}var QG=YG;function JG(t){return function(e){return t(e)}}var MN=JG,_d={exports:{}};_d.exports;(function(t,e){var n=z2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(_d,_d.exports);var ZG=_d.exports,eH=QG,tH=MN,WE=ZG,GE=WE&&WE.isTypedArray,nH=GE?tH(GE):eH,DN=nH,rH=aG,iH=uw,oH=An,aH=RN,sH=cw,lH=DN,uH=Object.prototype,cH=uH.hasOwnProperty;function fH(t,e){var n=oH(t),r=!n&&iH(t),i=!n&&!r&&aH(t),o=!n&&!r&&!i&&lH(t),a=n||r||i||o,s=a?rH(t.length,String):[],l=s.length;for(var u in t)(e||cH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sH(u,l)))&&s.push(u);return s}var hH=fH,dH=Object.prototype;function pH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dH;return t===n}var mH=pH;function gH(t,e){return function(n){return t(e(n))}}var $N=gH,yH=$N,vH=yH(Object.keys,Object),bH=vH,_H=mH,wH=bH,xH=Object.prototype,SH=xH.hasOwnProperty;function EH(t){if(!_H(t))return wH(t);var e=[];for(var n in Object(t))SH.call(t,n)&&n!="constructor"&&e.push(n);return e}var TH=EH,AH=H_,PH=fw;function IH(t){return t!=null&&PH(t.length)&&!AH(t)}var Wc=IH,OH=hH,kH=TH,CH=Wc;function NH(t){return CH(t)?OH(t):kH(t)}var dm=NH,jH=K7,RH=iG,MH=dm;function DH(t){return jH(t,MH,RH)}var $H=DH,HE=$H,LH=1,VH=Object.prototype,FH=VH.hasOwnProperty;function BH(t,e,n,r,i,o){var a=n&LH,s=HE(t),l=s.length,u=HE(e),h=u.length;if(l!=h&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:FH.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){d=s[f];var w=t[d],b=e[d];if(r)var x=a?r(b,w,d,e,t,o):r(w,b,d,t,e,o);if(!(x===void 0?w===b||i(w,b,n,r,o):x)){g=!1;break}_||(_=d=="constructor")}if(g&&!_){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var UH=BH,zH=ca,WH=Mr,GH=zH(WH,"DataView"),HH=GH,qH=ca,KH=Mr,XH=qH(KH,"Promise"),YH=XH,QH=ca,JH=Mr,ZH=QH(JH,"Set"),LN=ZH,eq=ca,tq=Mr,nq=eq(tq,"WeakMap"),rq=nq,Gv=HH,Hv=K_,qv=YH,Kv=LN,Xv=rq,VN=yi,rl=G2,qE="[object Map]",iq="[object Object]",KE="[object Promise]",XE="[object Set]",YE="[object WeakMap]",QE="[object DataView]",oq=rl(Gv),aq=rl(Hv),sq=rl(qv),lq=rl(Kv),uq=rl(Xv),Po=VN;(Gv&&Po(new Gv(new ArrayBuffer(1)))!=QE||Hv&&Po(new Hv)!=qE||qv&&Po(qv.resolve())!=KE||Kv&&Po(new Kv)!=XE||Xv&&Po(new Xv)!=YE)&&(Po=function(t){var e=VN(t),n=e==iq?t.constructor:void 0,r=n?rl(n):"";if(r)switch(r){case oq:return QE;case aq:return qE;case sq:return KE;case lq:return XE;case uq:return YE}return e});var cq=Po,Wg=PN,fq=CN,hq=z7,dq=UH,JE=cq,ZE=An,eT=RN,pq=DN,mq=1,tT="[object Arguments]",nT="[object Array]",Bf="[object Object]",gq=Object.prototype,rT=gq.hasOwnProperty;function yq(t,e,n,r,i,o){var a=ZE(t),s=ZE(e),l=a?nT:JE(t),u=s?nT:JE(e);l=l==tT?Bf:l,u=u==tT?Bf:u;var h=l==Bf,f=u==Bf,d=l==u;if(d&&eT(t)){if(!eT(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Wg),a||pq(t)?fq(t,e,n,r,i,o):hq(t,e,l,n,r,i,o);if(!(n&mq)){var p=h&&rT.call(t,"__wrapped__"),m=f&&rT.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,_=m?e.value():e;return o||(o=new Wg),i(g,_,n,r,o)}}return d?(o||(o=new Wg),dq(t,e,n,r,i,o)):!1}var vq=yq,bq=vq,iT=vi;function FN(t,e,n,r,i){return t===e?!0:t==null||e==null||!iT(t)&&!iT(e)?t!==t&&e!==e:bq(t,e,n,r,FN,i)}var hw=FN,_q=PN,wq=hw,xq=1,Sq=2;function Eq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],h=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new _q;if(r)var d=r(u,h,l,t,e,f);if(!(d===void 0?wq(h,u,xq|Sq,r,f):d))return!1}}return!0}var Tq=Eq,Aq=co;function Pq(t){return t===t&&!Aq(t)}var BN=Pq,Iq=BN,Oq=dm;function kq(t){for(var e=Oq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Iq(i)]}return e}var Cq=kq;function Nq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var UN=Nq,jq=Tq,Rq=Cq,Mq=UN;function Dq(t){var e=Rq(t);return e.length==1&&e[0][2]?Mq(e[0][0],e[0][1]):function(n){return n===t||jq(n,t,e)}}var $q=Dq;function Lq(t,e){return t!=null&&e in Object(t)}var Vq=Lq,Fq=Y2,Bq=uw,Uq=An,zq=cw,Wq=fw,Gq=Jp;function Hq(t,e,n){e=Fq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Gq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Wq(i)&&zq(a,i)&&(Uq(t)||Bq(t)))}var qq=Hq,Kq=Vq,Xq=qq;function Yq(t,e){return t!=null&&Xq(t,e,Kq)}var Qq=Yq,Jq=hw,Zq=Q2,eK=Qq,tK=G_,nK=BN,rK=UN,iK=Jp,oK=1,aK=2;function sK(t,e){return tK(t)&&nK(e)?rK(iK(t),e):function(n){var r=Zq(n,t);return r===void 0&&r===e?eK(n,t):Jq(e,r,oK|aK)}}var lK=sK;function uK(t){return t}var il=uK;function cK(t){return function(e){return e==null?void 0:e[t]}}var fK=cK,hK=J_;function dK(t){return function(e){return hK(e,t)}}var pK=dK,mK=fK,gK=pK,yK=G_,vK=Jp;function bK(t){return yK(t)?mK(vK(t)):gK(t)}var _K=bK,wK=$q,xK=lK,SK=il,EK=An,TK=_K;function AK(t){return typeof t=="function"?t:t==null?SK:typeof t=="object"?EK(t)?xK(t[0],t[1]):wK(t):TK(t)}var fo=AK;function PK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var zN=PK;function IK(t){return t!==t}var OK=IK;function kK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var CK=kK,NK=zN,jK=OK,RK=CK;function MK(t,e,n){return e===e?RK(t,e,n):NK(t,jK,n)}var DK=MK,$K=DK;function LK(t,e){var n=t==null?0:t.length;return!!n&&$K(t,e,0)>-1}var VK=LK;function FK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var BK=FK;function UK(){}var zK=UK,Gg=LN,WK=zK,GK=lw,HK=1/0,qK=Gg&&1/GK(new Gg([,-0]))[1]==HK?function(t){return new Gg(t)}:WK,KK=qK,XK=IN,YK=VK,QK=BK,JK=kN,ZK=KK,eX=lw,tX=200;function nX(t,e,n){var r=-1,i=YK,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=QK;else if(o>=tX){var u=e?null:ZK(t);if(u)return eX(u);a=!1,i=JK,l=new XK}else l=e?[]:s;e:for(;++r<o;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(h)}else i(l,f,n)||(l!==s&&l.push(f),s.push(h))}return s}var rX=nX,iX=fo,oX=rX;function aX(t,e){return t&&t.length?oX(t,iX(e)):[]}var sX=aX;const oT=We(sX);function WN(t,e,n){return e===!0?oT(t,n):Te(e)?oT(t,e):t}function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}var lX=["ref"];function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HN(r.key),r)}}function cX(t,e,n){return e&&sT(t.prototype,e),n&&sT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fX(t,e,n){return e=wd(e),hX(t,GN()?Reflect.construct(e,n||[],wd(t).constructor):e.apply(t,n))}function hX(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dX(t)}function dX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GN=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function pX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function pm(t,e,n){return e=HN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HN(t){var e=mX(t,"string");return xs(e)=="symbol"?e:e+""}function mX(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gX(t,e){if(t==null)return{};var n=yX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vX(t){return t.value}function bX(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=gX(e,lX);return M.createElement(sw,n)}var lT=1,Uo=function(t){function e(){var n;uX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fX(this,e,[].concat(i)),pm(n,"lastBoundingBox",{width:-1,height:-1}),n}return pX(e,t),cX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lT||Math.abs(i.height-this.lastBoundingBox.height)>lT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Lr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,h=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((h||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Lr(Lr({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,f=Lr(Lr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},bX(o,Lr(Lr({},this.props),{},{payload:WN(h,u,vX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Lr(Lr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&oe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);pm(Uo,"displayName","Legend");pm(Uo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uT=Bc,_X=uw,wX=An,cT=uT?uT.isConcatSpreadable:void 0;function xX(t){return wX(t)||_X(t)||!!(cT&&t&&t[cT])}var SX=xX,EX=NN,TX=SX;function qN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=TX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qN(s,e-1,n,r,i):EX(i,s):r||(i[i.length]=s)}return i}var KN=qN;function AX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var PX=AX,IX=PX,OX=IX(),kX=OX,CX=kX,NX=dm;function jX(t,e){return t&&CX(t,e,NX)}var XN=jX,RX=Wc;function MX(t,e){return function(n,r){if(n==null)return n;if(!RX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var DX=MX,$X=XN,LX=DX,VX=LX($X),dw=VX,FX=dw,BX=Wc;function UX(t,e){var n=-1,r=BX(t)?Array(t.length):[];return FX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var YN=UX;function zX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var WX=zX,fT=Qs;function GX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=fT(t),a=e!==void 0,s=e===null,l=e===e,u=fT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var HX=GX,qX=HX;function KX(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=qX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var XX=KX,Hg=Q_,YX=J_,QX=fo,JX=YN,ZX=WX,eY=MN,tY=XX,nY=il,rY=An;function iY(t,e,n){e.length?e=Hg(e,function(o){return rY(o)?function(a){return YX(a,o.length===1?o[0]:o)}:o}):e=[nY];var r=-1;e=Hg(e,eY(QX));var i=JX(t,function(o,a,s){var l=Hg(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return ZX(i,function(o,a){return tY(o,a,n)})}var oY=iY;function aY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var sY=aY,lY=sY,hT=Math.max;function uY(t,e,n){return e=hT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=hT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),lY(t,this,s)}}var cY=uY;function fY(t){return function(){return t}}var hY=fY,dY=ca,pY=function(){try{var t=dY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),QN=pY,mY=hY,dT=QN,gY=il,yY=dT?function(t,e){return dT(t,"toString",{configurable:!0,enumerable:!1,value:mY(e),writable:!0})}:gY,vY=yY,bY=800,_Y=16,wY=Date.now;function xY(t){var e=0,n=0;return function(){var r=wY(),i=_Y-(r-n);if(n=r,i>0){if(++e>=bY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SY=xY,EY=vY,TY=SY,AY=TY(EY),PY=AY,IY=il,OY=cY,kY=PY;function CY(t,e){return kY(OY(t,e,IY),t+"")}var NY=CY,jY=q_,RY=Wc,MY=cw,DY=co;function $Y(t,e,n){if(!DY(n))return!1;var r=typeof e;return(r=="number"?RY(n)&&MY(e,n.length):r=="string"&&e in n)?jY(n[e],t):!1}var mm=$Y,LY=KN,VY=oY,FY=NY,pT=mm,BY=FY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&pT(t,e[0],e[1])?e=[]:n>2&&pT(e[0],e[1],e[2])&&(e=[e[0]]),VY(t,LY(e,1),[])}),UY=BY;const pw=We(UY);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function zY(t,e){return qY(t)||HY(t,e)||GY(t,e)||WY()}function WY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(t,e){if(t){if(typeof t=="string")return mT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mT(t,e)}}function mT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qY(t){if(Array.isArray(t))return t}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){KY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KY(t,e,n){return e=XY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=YY(t,"string");return Gu(e)=="symbol"?e:e+""}function YY(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QY(t){return Array.isArray(t)&&At(t[0])&&At(t[1])?t.join(" ~ "):t}var JY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,h=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,_=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,x=function(){if(h&&h.length){var j={padding:0,margin:0},N=(d?pw(h,d):h).map(function(W,U){if(W.type==="none")return null;var q=qg({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),K=W.formatter||f||QY,D=W.value,G=W.name,Q=D,ne=G;if(K&&Q!=null&&ne!=null){var z=K(D,G,W,U,h);if(Array.isArray(z)){var Y=zY(z,2);Q=Y[0],ne=Y[1]}else Q=z}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:q},At(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,At(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Q),M.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},O=qg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=qg({margin:0},u),P=!Ae(g),S=P?g:"",E=je("recharts-default-tooltip",p),I=je("recharts-tooltip-label",m);P&&_&&h!==void 0&&h!==null&&(S=_(g,h));var k=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Qv({className:E,style:O},k),M.createElement("p",{className:I,style:T},M.isValidElement(S)?S:"".concat(S)),x())};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Uf(t,e,n){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=eQ(t,"string");return Hu(e)=="symbol"?e:e+""}function eQ(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jl="recharts-tooltip-wrapper",tQ={visibility:"hidden"};function nQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return je(jl,Uf(Uf(Uf(Uf({},"".concat(jl,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(jl,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(jl,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(jl,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function yT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&oe(o[r]))return o[r];var h=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?h:f;if(a[r]){var d=h,p=l[r];return d<p?Math.max(f,l[r]):Math.max(h,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(h,l[r]):Math.max(f,l[r])}function rQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,h,f;return a.height>0&&a.width>0&&n?(h=yT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=yT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=rQ({translateX:h,translateY:f,useTranslate3d:s})):u=tQ,{cssProperties:u,cssClasses:nQ({translateX:h,translateY:f,coordinate:n})}}function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZN(r.key),r)}}function aQ(t,e,n){return e&&_T(t.prototype,e),n&&_T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t,e,n){return e=xd(e),lQ(t,JN()?Reflect.construct(e,n||[],xd(t).constructor):e.apply(t,n))}function lQ(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(t)}function uQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function cQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(t,e)}function Zv(t,e,n){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZN(t){var e=fQ(t,"string");return Ss(e)=="symbol"?e:e+""}function fQ(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wT=1,hQ=function(t){function e(){var n;oQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sQ(this,e,[].concat(i)),Zv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zv(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return cQ(e,t),aQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wT||Math.abs(r.height-this.state.lastBoundingBox.height)>wT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,h=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,x=iQ({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:w}),O=x.cssClasses,T=x.cssProperties,P=bT(bT({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(E){r.wrapperNode=E}},u)}}])}($.PureComponent),dQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:dQ(),get:function(e){return ti[e]},set:function(e,n){if(typeof e=="string")ti[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ti[i]=e[i]})}}};function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ET(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function mQ(t,e,n){return e&&ET(t.prototype,e),n&&ET(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQ(t,e,n){return e=Sd(e),yQ(t,ej()?Reflect.construct(e,n||[],Sd(t).constructor):e.apply(t,n))}function yQ(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(t)}function vQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(t)}function bQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e0(t,e)}function e0(t,e){return e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e0(t,e)}function mw(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=_Q(t,"string");return Es(e)=="symbol"?e:e+""}function _Q(t,e){if(Es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wQ(t){return t.dataKey}function xQ(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(JY,e)}var wr=function(t){function e(){return pQ(this,e),gQ(this,e,arguments)}return bQ(e,t),mQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,h=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,_=i.position,w=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,T=m??[];f&&T.length&&(T=WN(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,wQ));var P=T.length>0;return M.createElement(hQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:h,hasPayload:P,offset:p,position:_,reverseDirection:w,useTranslate3d:b,viewBox:x,wrapperStyle:O},xQ(u,ST(ST({},this.props),{},{payload:T})))}}])}($.PureComponent);mw(wr,"displayName","Tooltip");mw(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var SQ=Mr,EQ=function(){return SQ.Date.now()},TQ=EQ,AQ=/\s/;function PQ(t){for(var e=t.length;e--&&AQ.test(t.charAt(e)););return e}var IQ=PQ,OQ=IQ,kQ=/^\s+/;function CQ(t){return t&&t.slice(0,OQ(t)+1).replace(kQ,"")}var NQ=CQ,jQ=NQ,TT=co,RQ=Qs,AT=0/0,MQ=/^[-+]0x[0-9a-f]+$/i,DQ=/^0b[01]+$/i,$Q=/^0o[0-7]+$/i,LQ=parseInt;function VQ(t){if(typeof t=="number")return t;if(RQ(t))return AT;if(TT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jQ(t);var n=DQ.test(t);return n||$Q.test(t)?LQ(t.slice(2),n?2:8):MQ.test(t)?AT:+t}var nj=VQ,FQ=co,Kg=TQ,PT=nj,BQ="Expected a function",UQ=Math.max,zQ=Math.min;function WQ(t,e,n){var r,i,o,a,s,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(BQ);e=PT(e)||0,FQ(n)&&(h=!!n.leading,f="maxWait"in n,o=f?UQ(PT(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(P){var S=r,E=i;return r=i=void 0,u=P,a=t.apply(E,S),a}function m(P){return u=P,s=setTimeout(w,e),h?p(P):a}function g(P){var S=P-l,E=P-u,I=e-S;return f?zQ(I,o-E):I}function _(P){var S=P-l,E=P-u;return l===void 0||S>=e||S<0||f&&E>=o}function w(){var P=Kg();if(_(P))return b(P);s=setTimeout(w,g(P))}function b(P){return s=void 0,d&&r?p(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:b(Kg())}function T(){var P=Kg(),S=_(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),a}return T.cancel=x,T.flush=O,T}var GQ=WQ,HQ=GQ,qQ=co,KQ="Expected a function";function XQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(KQ);return qQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),HQ(t,e,{leading:r,maxWait:e,trailing:i})}var YQ=XQ;const rj=We(YQ);function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return qu(e)=="symbol"?e:e+""}function ZQ(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eJ(t,e){return iJ(t)||rJ(t,e)||nJ(t,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return OT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(t,e)}}function OT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iJ(t){if(Array.isArray(t))return t}var oJ=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,h=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,_=t.id,w=t.className,b=t.onResize,x=t.style,O=x===void 0?{}:x,T=$.useRef(null),P=$.useRef();P.current=b,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),E=eJ(S,2),I=E[0],k=E[1],C=$.useCallback(function(N,W){k(function(U){var q=Math.round(N),K=Math.round(W);return U.containerWidth===q&&U.containerHeight===K?U:{containerWidth:q,containerHeight:K}})},[]);$.useEffect(function(){var N=function(G){var Q,ne=G[0].contentRect,z=ne.width,Y=ne.height;C(z,Y),(Q=P.current)===null||Q===void 0||Q.call(P,z,Y)};g>0&&(N=rj(N,g,{trailing:!0,leading:!1}));var W=new ResizeObserver(N),U=T.current.getBoundingClientRect(),q=U.width,K=U.height;return C(q,K),W.observe(T.current),function(){W.disconnect()}},[C,g]);var j=$.useMemo(function(){var N=I.containerWidth,W=I.containerHeight;if(N<0||W<0)return null;ei(Ro(a)||Ro(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ro(a)?N:a,q=Ro(l)?W:l;n&&n>0&&(U?q=U/n:q&&(U=q*n),d&&q>d&&(q=d)),ei(U>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,q,a,l,h,f,n);var K=!Array.isArray(p)&&Zr(p.type).endsWith("Chart");return M.Children.map(p,function(D){return M.isValidElement(D)?$.cloneElement(D,zf({width:U,height:q},K?{style:zf({height:"100%",width:"100%",maxHeight:q,maxWidth:U},D.props.style)}:{})):D})},[n,p,l,d,f,h,I,a]);return M.createElement("div",{id:_?"".concat(_):void 0,className:je("recharts-responsive-container",w),style:zf(zf({},O),{},{width:a,height:l,minWidth:h,minHeight:f,maxHeight:d}),ref:T},j)}),ij=function(e){return null};ij.displayName="Cell";function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=lJ(t,"string");return Ku(e)=="symbol"?e:e+""}function lJ(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wa={widthCache:{},cacheCount:0},uJ=2e3,cJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CT="recharts_measurement_span";function fJ(t){var e=t0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var hu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ti.isSsr)return{width:0,height:0};var r=fJ(n),i=JSON.stringify({text:e,copyStyle:r});if(wa.widthCache[i])return wa.widthCache[i];try{var o=document.getElementById(CT);o||(o=document.createElement("span"),o.setAttribute("id",CT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=t0(t0({},cJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return wa.widthCache[i]=l,++wa.cacheCount>uJ&&(wa.cacheCount=0,wa.widthCache={}),l}catch{return{width:0,height:0}}},hJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Ed(t,e){return gJ(t)||mJ(t,e)||pJ(t,e)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pJ(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gJ(t){if(Array.isArray(t))return t}function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bJ(r.key),r)}}function vJ(t,e,n){return e&&jT(t.prototype,e),n&&jT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bJ(t){var e=_J(t,"string");return Xu(e)=="symbol"?e:e+""}function _J(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SJ=Object.keys(oj),Ba="NaN";function EJ(t,e){return t*oj[e]}var Wf=function(){function t(e,n){yJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!wJ.test(n)&&(this.num=NaN,this.unit=""),SJ.includes(n)&&(this.num=EJ(e,n),this.unit="px")}return vJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=xJ.exec(n))!==null&&r!==void 0?r:[],o=Ed(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function aj(t){if(t.includes(Ba))return Ba;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=RT.exec(e))!==null&&n!==void 0?n:[],i=Ed(r,4),o=i[1],a=i[2],s=i[3],l=Wf.parse(o??""),u=Wf.parse(s??""),h=a==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return Ba;e=e.replace(RT,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=MT.exec(e))!==null&&f!==void 0?f:[],p=Ed(d,4),m=p[1],g=p[2],_=p[3],w=Wf.parse(m??""),b=Wf.parse(_??""),x=g==="+"?w.add(b):w.subtract(b);if(x.isNaN())return Ba;e=e.replace(MT,x.toString())}return e}var DT=/\(([^()]*)\)/;function TJ(t){for(var e=t;e.includes("(");){var n=DT.exec(e),r=Ed(n,2),i=r[1];e=e.replace(DT,aj(i))}return e}function AJ(t){var e=t.replace(/\s+/g,"");return e=TJ(e),e=aj(e),e}function PJ(t){try{return AJ(t)}catch{return Ba}}function Xg(t){var e=PJ(t.slice(5,-1));return e===Ba?"":e}var IJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OJ=["dx","dy","angle","className","breakAll"];function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function $T(t,e){if(t==null)return{};var n=kJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LT(t,e){return RJ(t)||jJ(t,e)||NJ(t,e)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){if(t){if(typeof t=="string")return VT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(t,e)}}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RJ(t){if(Array.isArray(t))return t}var sj=/[ \f\n\r\t\v\u2028\u2029]+/,lj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(sj));var a=o.map(function(l){return{word:l,width:hu(l,i).width}}),s=r?0:hu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},MJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,h=oe(a),f=s,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(q,K){var D=K.word,G=K.width,Q=q[q.length-1];if(Q&&(i==null||o||Q.width+G+r<Number(i)))Q.words.push(D),Q.width+=G+r;else{var ne={words:[D],width:G};q.push(ne)}return q},[])},p=d(n),m=function(U){return U.reduce(function(q,K){return q.width>K.width?q:K})};if(!h)return p;for(var g="",_=function(U){var q=f.slice(0,U),K=lj({breakAll:u,style:l,children:q+g}).wordsWithComputedWidth,D=d(K),G=D.length>a||m(D).width>Number(i);return[G,D]},w=0,b=f.length-1,x=0,O;w<=b&&x<=f.length-1;){var T=Math.floor((w+b)/2),P=T-1,S=_(P),E=LT(S,2),I=E[0],k=E[1],C=_(T),j=LT(C,1),N=j[0];if(!I&&!N&&(w=T+1),I&&N&&(b=T-1),!I&&N){O=k;break}x++}return O||p},FT=function(e){var n=Ae(e)?[]:e.toString().split(sj);return[{words:n}]},DJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ti.isSsr){var l,u,h=lj({breakAll:a,children:i,style:o});if(h){var f=h.wordsWithComputedWidth,d=h.spaceWidth;l=f,u=d}else return FT(i);return MJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return FT(i)},BT="#808080",Td=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,h=e.scaleToFit,f=h===void 0?!1:h,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,_=e.fill,w=_===void 0?BT:_,b=$T(e,IJ),x=$.useMemo(function(){return DJ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),O=b.dx,T=b.dy,P=b.angle,S=b.className,E=b.breakAll,I=$T(b,OJ);if(!At(r)||!At(o))return null;var k=r+(oe(O)?O:0),C=o+(oe(T)?T:0),j;switch(g){case"start":j=Xg("calc(".concat(u,")"));break;case"middle":j=Xg("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Xg("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var W=x[0].width,U=b.width;N.push("scale(".concat((oe(U)?U/W:1)/W,")"))}return P&&N.push("rotate(".concat(P,", ").concat(k,", ").concat(C,")")),N.length&&(I.transform=N.join(" ")),M.createElement("text",n0({},ke(I,!0),{x:k,y:C,className:je("recharts-text",S),textAnchor:p,fill:w.includes("url")?BT:w}),x.map(function(q,K){var D=q.words.join(E?"":" ");return M.createElement("tspan",{x:k,dy:K===0?j:s,key:"".concat(D,"-").concat(K)},D)}))};function Ji(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $J(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gw(t){let e,n,r;t.length!==2?(e=Ji,n=(s,l)=>Ji(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ji||t===$J?t:LJ,n=t,r=t);function i(s,l,u=0,h=s.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<0?u=f+1:h=f}while(u<h)}return u}function o(s,l,u=0,h=s.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function a(s,l,u=0,h=s.length){const f=i(s,l,u,h-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function LJ(){return 0}function uj(t){return t===null?NaN:+t}function*VJ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const FJ=gw(Ji),BJ=FJ.right;gw(uj).center;const Gc=BJ;class UT extends Map{constructor(e,n=WJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zT(this,e))}has(e){return super.has(zT(this,e))}set(e,n){return super.set(UJ(this,e),n)}delete(e){return super.delete(zJ(this,e))}}function zT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function UJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function WJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GJ(t=Ji){if(t===Ji)return cj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const HJ=Math.sqrt(50),qJ=Math.sqrt(10),KJ=Math.sqrt(2);function Ad(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=HJ?10:o>=qJ?5:o>=KJ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ad(t,e,n*2):[s,l,u]}function r0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ad(e,t,n):Ad(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function i0(t,e,n){return e=+e,t=+t,n=+n,Ad(t,e,n)[2]}function o0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?i0(e,t,n):i0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function GT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function fj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cj:GJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,h=Math.log(l),f=.5*Math.exp(2*h/3),d=.5*Math.sqrt(h*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));fj(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Rl(t,n,e),i(t[r],o)>0&&Rl(t,n,r);a<s;){for(Rl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Rl(t,n,s):(++s,Rl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Rl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XJ(t,e,n){if(t=Float64Array.from(VJ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GT(t);if(e>=1)return WT(t);var r,i=(r-1)*e,o=Math.floor(i),a=WT(fj(t,o).subarray(0,o+1)),s=GT(t.subarray(o+1));return a+(s-a)*(i-o)}}function YJ(t,e,n=uj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function QJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a0=Symbol("implicit");function yw(){var t=new UT,e=[],n=[],r=a0;function i(o){let a=t.get(o);if(a===void 0){if(r!==a0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new UT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yw(e,n).unknown(r)},tr.apply(i,arguments),i}function Yu(){var t=yw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,h=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*h,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var _=QJ(d).map(function(w){return m+o*w});return n(p?_.reverse():_)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),f()):h},t.copy=function(){return Yu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(h)},tr.apply(f(),arguments)}function hj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hj(e())},t}function du(){return hj(Yu.apply(null,arguments).paddingInner(1))}function vw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hc(){}var Qu=.7,Pd=1/Qu,ts="\\s*([+-]?\\d+)\\s*",Ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JJ=/^#([0-9a-f]{3,8})$/,ZJ=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),eZ=new RegExp(`^rgb\\(${Or},${Or},${Or}\\)$`),tZ=new RegExp(`^rgba\\(${ts},${ts},${ts},${Ju}\\)$`),nZ=new RegExp(`^rgba\\(${Or},${Or},${Or},${Ju}\\)$`),rZ=new RegExp(`^hsl\\(${Ju},${Or},${Or}\\)$`),iZ=new RegExp(`^hsla\\(${Ju},${Or},${Or},${Ju}\\)$`),HT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vw(Hc,Zu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qT,formatHex:qT,formatHex8:oZ,formatHsl:aZ,formatRgb:KT,toString:KT});function qT(){return this.rgb().formatHex()}function oZ(){return this.rgb().formatHex8()}function aZ(){return pj(this).formatHsl()}function KT(){return this.rgb().formatRgb()}function Zu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XT(e):n===3?new wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ZJ.exec(t))?new wn(e[1],e[2],e[3],1):(e=eZ.exec(t))?new wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tZ.exec(t))?Gf(e[1],e[2],e[3],e[4]):(e=nZ.exec(t))?Gf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rZ.exec(t))?JT(e[1],e[2]/100,e[3]/100,1):(e=iZ.exec(t))?JT(e[1],e[2]/100,e[3]/100,e[4]):HT.hasOwnProperty(t)?XT(HT[t]):t==="transparent"?new wn(NaN,NaN,NaN,0):null}function XT(t){return new wn(t>>16&255,t>>8&255,t&255,1)}function Gf(t,e,n,r){return r<=0&&(t=e=n=NaN),new wn(t,e,n,r)}function sZ(t){return t instanceof Hc||(t=Zu(t)),t?(t=t.rgb(),new wn(t.r,t.g,t.b,t.opacity)):new wn}function s0(t,e,n,r){return arguments.length===1?sZ(t):new wn(t,e,n,r??1)}function wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vw(wn,s0,dj(Hc,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qu:Math.pow(Qu,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wn(zo(this.r),zo(this.g),zo(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YT,formatHex:YT,formatHex8:lZ,formatRgb:QT,toString:QT}));function YT(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function lZ(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function QT(){const t=Id(this.opacity);return`${t===1?"rgb(":"rgba("}${zo(this.r)}, ${zo(this.g)}, ${zo(this.b)}${t===1?")":`, ${t})`}`}function Id(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mo(t){return t=zo(t),(t<16?"0":"")+t.toString(16)}function JT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,n,r)}function pj(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof Hc||(t=Zu(t)),!t)return new hr;if(t instanceof hr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new hr(a,s,l,t.opacity)}function uZ(t,e,n,r){return arguments.length===1?pj(t):new hr(t,e,n,r??1)}function hr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vw(hr,uZ,dj(Hc,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qu:Math.pow(Qu,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wn(Yg(t>=240?t-240:t+120,i,r),Yg(t,i,r),Yg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new hr(ZT(this.h),Hf(this.s),Hf(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Id(this.opacity);return`${t===1?"hsl(":"hsla("}${ZT(this.h)}, ${Hf(this.s)*100}%, ${Hf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZT(t){return t=(t||0)%360,t<0?t+360:t}function Hf(t){return Math.max(0,Math.min(1,t||0))}function Yg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bw=t=>()=>t;function cZ(t,e){return function(n){return t+n*e}}function fZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hZ(t){return(t=+t)==1?mj:function(e,n){return n-e?fZ(e,n,t):bw(isNaN(e)?n:e)}}function mj(t,e){var n=e-t;return n?cZ(t,n):bw(isNaN(t)?e:t)}const eA=function t(e){var n=hZ(e);function r(i,o){var a=n((i=s0(i)).r,(o=s0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=mj(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function dZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function pZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ol(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function gZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Od(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ol(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var l0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qg=new RegExp(l0.source,"g");function vZ(t){return function(){return t}}function bZ(t){return function(e){return t(e)+""}}function _Z(t,e){var n=l0.lastIndex=Qg.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=l0.exec(t))&&(i=Qg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Od(r,i)})),n=Qg.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?bZ(l[0].x):vZ(e):(e=l.length,function(u){for(var h=0,f;h<e;++h)s[(f=l[h]).i]=f.x(u);return s.join("")})}function ol(t,e){var n=typeof e,r;return e==null||n==="boolean"?bw(e):(n==="number"?Od:n==="string"?(r=Zu(e))?(e=r,eA):_Z:e instanceof Zu?eA:e instanceof Date?gZ:pZ(e)?dZ:Array.isArray(e)?mZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yZ:Od)(t,e)}function _w(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wZ(t,e){e===void 0&&(e=t,t=ol);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function xZ(t){return function(){return t}}function kd(t){return+t}var tA=[0,1];function hn(t){return t}function u0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xZ(isNaN(e)?NaN:.5)}function SZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=u0(i,r),o=n(a,o)):(r=u0(r,i),o=n(o,a)),function(s){return o(r(s))}}function TZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=u0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Gc(t,s,1,r)-1;return o[l](i[l](s))}}function qc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gm(){var t=tA,e=tA,n=ol,r,i,o,a=hn,s,l,u;function h(){var d=Math.min(t.length,e.length);return a!==hn&&(a=SZ(t[0],t[d-1])),s=d>2?TZ:EZ,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),Od)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,kd),h()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=_w,h()},f.clamp=function(d){return arguments.length?(a=d?!0:hn,h()):a!==hn},f.interpolate=function(d){return arguments.length?(n=d,h()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,h()}}function ww(){return gm()(hn,hn)}function AZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ts(t){return t=Cd(Math.abs(t)),t?t[1]:NaN}function PZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function IZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var OZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ec(t){if(!(e=OZ.exec(t)))throw new Error("invalid format: "+t);var e;return new xw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ec.prototype=xw.prototype;function xw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gj;function CZ(t,e){var n=Cd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cd(t,Math.max(0,e+o-1))[0]}function nA(t,e){var n=Cd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nA(t*100,e),r:nA,s:CZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iA(t){return t}var oA=Array.prototype.map,aA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NZ(t){var e=t.grouping===void 0||t.thousands===void 0?iA:PZ(oA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iA:IZ(oA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ec(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,_=f.zero,w=f.width,b=f.comma,x=f.precision,O=f.trim,T=f.type;T==="n"?(b=!0,T="g"):rA[T]||(x===void 0&&(x=12),O=!0,T="g"),(_||d==="0"&&p==="=")&&(_=!0,d="0",p="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=g==="$"?r:/[%p]/.test(T)?a:"",E=rA[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var j=P,N=S,W,U,q;if(T==="c")N=E(C)+N,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),x),O&&(C=kZ(C)),K&&+C==0&&m!=="+"&&(K=!1),j=(K?m==="("?m:s:m==="-"||m==="("?"":m)+j,N=(T==="s"?aA[8+gj/3]:"")+N+(K&&m==="("?")":""),I){for(W=-1,U=C.length;++W<U;)if(q=C.charCodeAt(W),48>q||q>57){N=(q===46?i+C.slice(W+1):C.slice(W))+N,C=C.slice(0,W);break}}}b&&!_&&(C=e(C,1/0));var D=j.length+C.length+N.length,G=D<w?new Array(w-D+1).join(d):"";switch(b&&_&&(C=e(G+C,G.length?w-N.length:1/0),G=""),p){case"<":C=j+C+N+G;break;case"=":C=j+G+C+N;break;case"^":C=G.slice(0,D=G.length>>1)+j+C+N+G.slice(D);break;default:C=G+j+C+N;break}return o(C)}return k.toString=function(){return f+""},k}function h(f,d){var p=u((f=ec(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ts(d)/3)))*3,g=Math.pow(10,-m),_=aA[8+m/3];return function(w){return p(g*w)+_}}return{format:u,formatPrefix:h}}var qf,Sw,yj;jZ({thousands:",",grouping:[3],currency:["$",""]});function jZ(t){return qf=NZ(t),Sw=qf.format,yj=qf.formatPrefix,qf}function RZ(t){return Math.max(0,-Ts(Math.abs(t)))}function MZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ts(e)/3)))*3-Ts(Math.abs(t)))}function DZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ts(e)-Ts(t))+1}function vj(t,e,n,r){var i=o0(t,e,n),o;switch(r=ec(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=MZ(i,a))&&(r.precision=o),yj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=DZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=RZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Sw(r)}function ho(t){var e=t.domain;return t.ticks=function(n){var r=e();return r0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,h=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);h-- >0;){if(u=i0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Nd(){var t=ww();return t.copy=function(){return qc(t,Nd())},tr.apply(t,arguments),ho(t)}function bj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,kd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return bj(t).unknown(e)},t=arguments.length?Array.from(t,kd):[0,1],ho(n)}function _j(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function sA(t){return Math.log(t)}function lA(t){return Math.exp(t)}function $Z(t){return-Math.log(-t)}function LZ(t){return-Math.exp(-t)}function VZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function FZ(t){return t===10?VZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function BZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uA(t){return(e,n)=>-t(-e,n)}function Ew(t){const e=t(sA,lA),n=e.domain;let r=10,i,o;function a(){return i=BZ(r),o=FZ(r),n()[0]<0?(i=uA(i),o=uA(o),t($Z,LZ)):t(sA,lA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],h=l[l.length-1];const f=h<u;f&&([u,h]=[h,u]);let d=i(u),p=i(h),m,g;const _=s==null?10:+s;let w=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>h)break;w.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>h)break;w.push(g)}w.length*2<_&&(w=r0(u,h,_))}else w=r0(d,p,Math.min(p-d,_)).map(o);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ec(l)).precision==null&&(l.trim=!0),l=Sw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return h=>{let f=h/o(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=u?l(h):""}},e.nice=()=>n(_j(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function wj(){const t=Ew(gm()).domain([1,10]);return t.copy=()=>qc(t,wj()).base(t.base()),tr.apply(t,arguments),t}function cA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Tw(t){var e=1,n=t(cA(e),fA(e));return n.constant=function(r){return arguments.length?t(cA(e=+r),fA(e)):e},ho(n)}function xj(){var t=Tw(gm());return t.copy=function(){return qc(t,xj()).constant(t.constant())},tr.apply(t,arguments)}function hA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zZ(t){return t<0?-t*t:t*t}function Aw(t){var e=t(hn,hn),n=1;function r(){return n===1?t(hn,hn):n===.5?t(UZ,zZ):t(hA(n),hA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ho(e)}function Pw(){var t=Aw(gm());return t.copy=function(){return qc(t,Pw()).exponent(t.exponent())},tr.apply(t,arguments),t}function WZ(){return Pw.apply(null,arguments).exponent(.5)}function dA(t){return Math.sign(t)*t*t}function GZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Sj(){var t=ww(),e=[0,1],n=!1,r;function i(o){var a=GZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(dA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,kd)).map(dA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Sj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},tr.apply(i,arguments),ho(i)}function Ej(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=YJ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Gc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ji),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Ej().domain(t).range(e).unknown(r)},tr.apply(o,arguments)}function Tj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Gc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Tj().domain([t,e]).range(i).unknown(o)},tr.apply(ho(a),arguments)}function Aj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Gc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Aj().domain(t).range(e).unknown(n)},tr.apply(i,arguments)}const Jg=new Date,Zg=new Date;function It(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>It(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Jg.setTime(+o),Zg.setTime(+a),t(Jg),t(Zg),Math.floor(n(Jg,Zg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const jd=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jd);jd.range;const Kr=1e3,Hn=Kr*60,Xr=Hn*60,hi=Xr*24,Iw=hi*7,pA=hi*30,ey=hi*365,Do=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCSeconds());Do.range;const Ow=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getMinutes());Ow.range;const kw=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCMinutes());kw.range;const Cw=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr-t.getMinutes()*Hn)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getHours());Cw.range;const Nw=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCHours());Nw.range;const Kc=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/hi,t=>t.getDate()-1);Kc.range;const ym=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hi,t=>t.getUTCDate()-1);ym.range;const Pj=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hi,t=>Math.floor(t/hi));Pj.range;function fa(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/Iw)}const vm=fa(0),Rd=fa(1),HZ=fa(2),qZ=fa(3),As=fa(4),KZ=fa(5),XZ=fa(6);vm.range;Rd.range;HZ.range;qZ.range;As.range;KZ.range;XZ.range;function ha(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Iw)}const bm=ha(0),Md=ha(1),YZ=ha(2),QZ=ha(3),Ps=ha(4),JZ=ha(5),ZZ=ha(6);bm.range;Md.range;YZ.range;QZ.range;Ps.range;JZ.range;ZZ.range;const jw=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jw.range;const Rw=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Rw.range;const di=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});di.range;const pi=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pi.range;function Ij(t,e,n,r,i,o){const a=[[Do,1,Kr],[Do,5,5*Kr],[Do,15,15*Kr],[Do,30,30*Kr],[o,1,Hn],[o,5,5*Hn],[o,15,15*Hn],[o,30,30*Hn],[i,1,Xr],[i,3,3*Xr],[i,6,6*Xr],[i,12,12*Xr],[r,1,hi],[r,2,2*hi],[n,1,Iw],[e,1,pA],[e,3,3*pA],[t,1,ey]];function s(u,h,f){const d=h<u;d&&([u,h]=[h,u]);const p=f&&typeof f.range=="function"?f:l(u,h,f),m=p?p.range(u,+h+1):[];return d?m.reverse():m}function l(u,h,f){const d=Math.abs(h-u)/f,p=gw(([,,_])=>_).right(a,d);if(p===a.length)return t.every(o0(u/ey,h/ey,f));if(p===0)return jd.every(Math.max(o0(u,h,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[eee,tee]=Ij(pi,Rw,bm,Pj,Nw,kw),[nee,ree]=Ij(di,jw,vm,Kc,Cw,Ow);function ty(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ml(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function iee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Dl(i),h=$l(i),f=Dl(o),d=$l(o),p=Dl(a),m=$l(a),g=Dl(s),_=$l(s),w=Dl(l),b=$l(l),x={a:K,A:D,b:G,B:Q,c:null,d:_A,e:_A,f:Pee,g:$ee,G:Vee,H:Eee,I:Tee,j:Aee,L:Oj,m:Iee,M:Oee,p:ne,q:z,Q:SA,s:EA,S:kee,u:Cee,U:Nee,V:jee,w:Ree,W:Mee,x:null,X:null,y:Dee,Y:Lee,Z:Fee,"%":xA},O={a:Y,A:ae,b:ce,B:he,c:null,d:wA,e:wA,f:Wee,g:ete,G:nte,H:Bee,I:Uee,j:zee,L:Cj,m:Gee,M:Hee,p:ve,q:Ke,Q:SA,s:EA,S:qee,u:Kee,U:Xee,V:Yee,w:Qee,W:Jee,x:null,X:null,y:Zee,Y:tte,Z:rte,"%":xA},T={a:k,A:C,b:j,B:N,c:W,d:vA,e:vA,f:_ee,g:yA,G:gA,H:bA,I:bA,j:gee,L:bee,m:mee,M:yee,p:I,q:pee,Q:xee,s:See,S:vee,u:uee,U:cee,V:fee,w:lee,W:hee,x:U,X:q,y:yA,Y:gA,Z:dee,"%":wee};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),O.x=P(n,O),O.X=P(r,O),O.c=P(e,O);function P(re,X){return function(te){var F=[],me=-1,ye=0,Ee=re.length,we,at,V;for(te instanceof Date||(te=new Date(+te));++me<Ee;)re.charCodeAt(me)===37&&(F.push(re.slice(ye,me)),(at=mA[we=re.charAt(++me)])!=null?we=re.charAt(++me):at=we==="e"?" ":"0",(V=X[we])&&(we=V(te,at)),F.push(we),ye=me+1);return F.push(re.slice(ye,me)),F.join("")}}function S(re,X){return function(te){var F=Ml(1900,void 0,1),me=E(F,re,te+="",0),ye,Ee;if(me!=te.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(X&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ye=ny(Ml(F.y,0,1)),Ee=ye.getUTCDay(),ye=Ee>4||Ee===0?Md.ceil(ye):Md(ye),ye=ym.offset(ye,(F.V-1)*7),F.y=ye.getUTCFullYear(),F.m=ye.getUTCMonth(),F.d=ye.getUTCDate()+(F.w+6)%7):(ye=ty(Ml(F.y,0,1)),Ee=ye.getDay(),ye=Ee>4||Ee===0?Rd.ceil(ye):Rd(ye),ye=Kc.offset(ye,(F.V-1)*7),F.y=ye.getFullYear(),F.m=ye.getMonth(),F.d=ye.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Ee="Z"in F?ny(Ml(F.y,0,1)).getUTCDay():ty(Ml(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Ee+5)%7:F.w+F.U*7-(Ee+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,ny(F)):ty(F)}}function E(re,X,te,F){for(var me=0,ye=X.length,Ee=te.length,we,at;me<ye;){if(F>=Ee)return-1;if(we=X.charCodeAt(me++),we===37){if(we=X.charAt(me++),at=T[we in mA?X.charAt(me++):we],!at||(F=at(re,te,F))<0)return-1}else if(we!=te.charCodeAt(F++))return-1}return F}function I(re,X,te){var F=u.exec(X.slice(te));return F?(re.p=h.get(F[0].toLowerCase()),te+F[0].length):-1}function k(re,X,te){var F=p.exec(X.slice(te));return F?(re.w=m.get(F[0].toLowerCase()),te+F[0].length):-1}function C(re,X,te){var F=f.exec(X.slice(te));return F?(re.w=d.get(F[0].toLowerCase()),te+F[0].length):-1}function j(re,X,te){var F=w.exec(X.slice(te));return F?(re.m=b.get(F[0].toLowerCase()),te+F[0].length):-1}function N(re,X,te){var F=g.exec(X.slice(te));return F?(re.m=_.get(F[0].toLowerCase()),te+F[0].length):-1}function W(re,X,te){return E(re,e,X,te)}function U(re,X,te){return E(re,n,X,te)}function q(re,X,te){return E(re,r,X,te)}function K(re){return a[re.getDay()]}function D(re){return o[re.getDay()]}function G(re){return l[re.getMonth()]}function Q(re){return s[re.getMonth()]}function ne(re){return i[+(re.getHours()>=12)]}function z(re){return 1+~~(re.getMonth()/3)}function Y(re){return a[re.getUTCDay()]}function ae(re){return o[re.getUTCDay()]}function ce(re){return l[re.getUTCMonth()]}function he(re){return s[re.getUTCMonth()]}function ve(re){return i[+(re.getUTCHours()>=12)]}function Ke(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var X=P(re+="",x);return X.toString=function(){return re},X},parse:function(re){var X=S(re+="",!1);return X.toString=function(){return re},X},utcFormat:function(re){var X=P(re+="",O);return X.toString=function(){return re},X},utcParse:function(re){var X=S(re+="",!0);return X.toString=function(){return re},X}}}var mA={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,oee=/^%/,aee=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function see(t){return t.replace(aee,"\\$&")}function Dl(t){return new RegExp("^(?:"+t.map(see).join("|")+")","i")}function $l(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lee(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uee(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gA(t,e,n){var r=Rt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pee(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bee(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ee(t,e,n){var r=Rt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wee(t,e,n){var r=oee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xee(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _A(t,e){return De(t.getDate(),e,2)}function Eee(t,e){return De(t.getHours(),e,2)}function Tee(t,e){return De(t.getHours()%12||12,e,2)}function Aee(t,e){return De(1+Kc.count(di(t),t),e,3)}function Oj(t,e){return De(t.getMilliseconds(),e,3)}function Pee(t,e){return Oj(t,e)+"000"}function Iee(t,e){return De(t.getMonth()+1,e,2)}function Oee(t,e){return De(t.getMinutes(),e,2)}function kee(t,e){return De(t.getSeconds(),e,2)}function Cee(t){var e=t.getDay();return e===0?7:e}function Nee(t,e){return De(vm.count(di(t)-1,t),e,2)}function kj(t){var e=t.getDay();return e>=4||e===0?As(t):As.ceil(t)}function jee(t,e){return t=kj(t),De(As.count(di(t),t)+(di(t).getDay()===4),e,2)}function Ree(t){return t.getDay()}function Mee(t,e){return De(Rd.count(di(t)-1,t),e,2)}function Dee(t,e){return De(t.getFullYear()%100,e,2)}function $ee(t,e){return t=kj(t),De(t.getFullYear()%100,e,2)}function Lee(t,e){return De(t.getFullYear()%1e4,e,4)}function Vee(t,e){var n=t.getDay();return t=n>=4||n===0?As(t):As.ceil(t),De(t.getFullYear()%1e4,e,4)}function Fee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function wA(t,e){return De(t.getUTCDate(),e,2)}function Bee(t,e){return De(t.getUTCHours(),e,2)}function Uee(t,e){return De(t.getUTCHours()%12||12,e,2)}function zee(t,e){return De(1+ym.count(pi(t),t),e,3)}function Cj(t,e){return De(t.getUTCMilliseconds(),e,3)}function Wee(t,e){return Cj(t,e)+"000"}function Gee(t,e){return De(t.getUTCMonth()+1,e,2)}function Hee(t,e){return De(t.getUTCMinutes(),e,2)}function qee(t,e){return De(t.getUTCSeconds(),e,2)}function Kee(t){var e=t.getUTCDay();return e===0?7:e}function Xee(t,e){return De(bm.count(pi(t)-1,t),e,2)}function Nj(t){var e=t.getUTCDay();return e>=4||e===0?Ps(t):Ps.ceil(t)}function Yee(t,e){return t=Nj(t),De(Ps.count(pi(t),t)+(pi(t).getUTCDay()===4),e,2)}function Qee(t){return t.getUTCDay()}function Jee(t,e){return De(Md.count(pi(t)-1,t),e,2)}function Zee(t,e){return De(t.getUTCFullYear()%100,e,2)}function ete(t,e){return t=Nj(t),De(t.getUTCFullYear()%100,e,2)}function tte(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function nte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ps(t):Ps.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function rte(){return"+0000"}function xA(){return"%"}function SA(t){return+t}function EA(t){return Math.floor(+t/1e3)}var xa,jj,Rj;ite({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ite(t){return xa=iee(t),jj=xa.format,xa.parse,Rj=xa.utcFormat,xa.utcParse,xa}function ote(t){return new Date(t)}function ate(t){return t instanceof Date?+t:+new Date(+t)}function Mw(t,e,n,r,i,o,a,s,l,u){var h=ww(),f=h.invert,d=h.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),_=u("%I %p"),w=u("%a %d"),b=u("%b %d"),x=u("%B"),O=u("%Y");function T(P){return(l(P)<P?p:s(P)<P?m:a(P)<P?g:o(P)<P?_:r(P)<P?i(P)<P?w:b:n(P)<P?x:O)(P)}return h.invert=function(P){return new Date(f(P))},h.domain=function(P){return arguments.length?d(Array.from(P,ate)):d().map(ote)},h.ticks=function(P){var S=d();return t(S[0],S[S.length-1],P??10)},h.tickFormat=function(P,S){return S==null?T:u(S)},h.nice=function(P){var S=d();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?d(_j(S,P)):h},h.copy=function(){return qc(h,Mw(t,e,n,r,i,o,a,s,l,u))},h}function ste(){return tr.apply(Mw(nee,ree,di,jw,vm,Kc,Cw,Ow,Do,jj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lte(){return tr.apply(Mw(eee,tee,pi,Rw,bm,ym,Nw,kw,Do,Rj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _m(){var t=0,e=1,n,r,i,o,a=hn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function h(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=h(ol),u.rangeRound=h(_w),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Mj(){var t=ho(_m()(hn));return t.copy=function(){return po(t,Mj())},bi.apply(t,arguments)}function Dj(){var t=Ew(_m()).domain([1,10]);return t.copy=function(){return po(t,Dj()).base(t.base())},bi.apply(t,arguments)}function $j(){var t=Tw(_m());return t.copy=function(){return po(t,$j()).constant(t.constant())},bi.apply(t,arguments)}function Dw(){var t=Aw(_m());return t.copy=function(){return po(t,Dw()).exponent(t.exponent())},bi.apply(t,arguments)}function ute(){return Dw.apply(null,arguments).exponent(.5)}function Lj(){var t=[],e=hn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ji),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>XJ(t,o/r))},n.copy=function(){return Lj(e).domain(t)},bi.apply(n,arguments)}function wm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=hn,h,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+h(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=h(t=+t),o=h(e=+e),a=h(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(_){var w,b,x;return arguments.length?([w,b,x]=_,u=wZ(g,[w,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(ol),p.rangeRound=m(_w),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return h=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Vj(){var t=ho(wm()(hn));return t.copy=function(){return po(t,Vj())},bi.apply(t,arguments)}function Fj(){var t=Ew(wm()).domain([.1,1,10]);return t.copy=function(){return po(t,Fj()).base(t.base())},bi.apply(t,arguments)}function Bj(){var t=Tw(wm());return t.copy=function(){return po(t,Bj()).constant(t.constant())},bi.apply(t,arguments)}function $w(){var t=Aw(wm());return t.copy=function(){return po(t,$w()).exponent(t.exponent())},bi.apply(t,arguments)}function cte(){return $w.apply(null,arguments).exponent(.5)}const TA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yu,scaleDiverging:Vj,scaleDivergingLog:Fj,scaleDivergingPow:$w,scaleDivergingSqrt:cte,scaleDivergingSymlog:Bj,scaleIdentity:bj,scaleImplicit:a0,scaleLinear:Nd,scaleLog:wj,scaleOrdinal:yw,scalePoint:du,scalePow:Pw,scaleQuantile:Ej,scaleQuantize:Tj,scaleRadial:Sj,scaleSequential:Mj,scaleSequentialLog:Dj,scaleSequentialPow:Dw,scaleSequentialQuantile:Lj,scaleSequentialSqrt:ute,scaleSequentialSymlog:$j,scaleSqrt:WZ,scaleSymlog:xj,scaleThreshold:Aj,scaleTime:ste,scaleUtc:lte,tickFormat:vj},Symbol.toStringTag,{value:"Module"}));var fte=Qs;function hte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!fte(a):n(a,s)))var s=a,l=o}return l}var Uj=hte;function dte(t,e){return t>e}var pte=dte,mte=Uj,gte=pte,yte=il;function vte(t){return t&&t.length?mte(t,yte,gte):void 0}var bte=vte;const xm=We(bte);function _te(t,e){return t<e}var wte=_te,xte=Uj,Ste=wte,Ete=il;function Tte(t){return t&&t.length?xte(t,Ete,Ste):void 0}var Ate=Tte;const Sm=We(Ate);var Pte=Q_,Ite=fo,Ote=YN,kte=An;function Cte(t,e){var n=kte(t)?Pte:Ote;return n(t,Ite(e))}var Nte=Cte,jte=KN,Rte=Nte;function Mte(t,e){return jte(Rte(t,e),1)}var Dte=Mte;const $te=We(Dte);var Lte=hw;function Vte(t,e){return Lte(t,e)}var Fte=Vte;const Em=We(Fte);var al=1e9,Bte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vw,ot=!0,Zn="[DecimalError] ",Wo=Zn+"Invalid argument: ",Lw=Zn+"Exponent out of range: ",sl=Math.floor,Io=Math.pow,Ute=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,Ct=1e7,et=7,zj=9007199254740991,Dd=sl(zj/et),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return ni(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return ze(ni(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return _t(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Nn))throw Error(Zn+"NaN");if(n.s<1)throw Error(Zn+(n.s?"NaN":"-Infinity"));return n.eq(Nn)?new r(0):(ot=!1,e=ni(tc(n,o),tc(t,o),o),ot=!0,ze(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Hj(e,t):Wj(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zn+"NaN");return n.s?(ot=!1,e=ni(n,t,0,1).times(t),ot=!0,n.minus(e)):ze(new r(n),i)};ue.naturalExponential=ue.exp=function(){return Gj(this)};ue.naturalLogarithm=ue.ln=function(){return tc(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wj(e,t):Hj(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wo+t);if(e=_t(i)+1,r=i.d.length-1,n=r*et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zn+"NaN")}for(t=_t(s),ot=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Sr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ni(s,o,a+2)).times(.5),Sr(o.d).slice(0,a)===(e=Sr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ot=!0,ze(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,a,s,l,u,h=this,f=h.constructor,d=h.d,p=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Ct|0,e=s/Ct|0;o[i]=(o[i]+e)%Ct|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ot?ze(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Rr(t,0,al),e===void 0?e=r.rounding:Rr(e,0,8),ze(n,t+_t(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ra(r,!0):(Rr(t,0,al),e===void 0?e=i.rounding:Rr(e,0,8),r=ze(new i(r),t+1,e),n=ra(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ra(i):(Rr(t,0,al),e===void 0?e=o.rounding:Rr(e,0,8),r=ze(new o(i),t+_t(i)+1,e),n=ra(r.abs(),!1,t+_t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return ze(new e(t),_t(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,h=+(t=new l(t));if(!t.s)return new l(Nn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Zn+"Infinity");return s}if(s.eq(Nn))return s;if(r=l.precision,t.eq(Nn))return ze(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=h<0?-h:h)<=zj){for(i=new l(Nn),e=Math.ceil(r/et+4),ot=!1;n%2&&(i=i.times(s),PA(i.d,e)),n=sl(n/2),n!==0;)s=s.times(s),PA(s.d,e);return ot=!0,t.s<0?new l(Nn).div(i):ze(i,r)}}else if(o<0)throw Error(Zn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ot=!1,i=t.times(tc(s,r+u)),ot=!0,i=Gj(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=_t(i),r=ra(i,n<=o.toExpNeg||n>=o.toExpPos)):(Rr(t,1,al),e===void 0?e=o.rounding:Rr(e,0,8),i=ze(new o(i),t,e),n=_t(i),r=ra(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Rr(t,1,al),e===void 0?e=r.rounding:Rr(e,0,8)),ze(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),n=t.constructor;return ra(t,e<=n.toExpNeg||e>=n.toExpPos)};function Wj(t,e){var n,r,i,o,a,s,l,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ot?ze(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/et),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ct|0,l[o]%=Ct;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ot?ze(e,f):e}function Rr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wo+t)}function Sr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=et-r.length,n&&(o+=Oi(n)),o+=r;a=t[e],r=a+"",n=et-r.length,n&&(o+=Oi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ni=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ct|0,a=o/Ct|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ct+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,h,f,d,p,m,g,_,w,b,x,O,T,P,S,E,I=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Zn+"Division by zero");for(l=r.e-i.e,S=j.length,T=C.length,p=new I(k),m=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,o==null?b=o=I.precision:a?b=o+(_t(r)-_t(i))+1:b=o,b<0)return new I(0);if(b=b/et+2|0,u=0,S==1)for(h=0,j=j[0],b++;(u<T||h)&&b--;u++)x=h*Ct+(C[u]||0),m[u]=x/j|0,h=x%j|0;else{for(h=Ct/(j[0]+1)|0,h>1&&(j=t(j,h),C=t(C,h),S=j.length,T=C.length),O=S,g=C.slice(0,S),_=g.length;_<S;)g[_++]=0;E=j.slice(),E.unshift(0),P=j[0],j[1]>=Ct/2&&++P;do h=0,s=e(j,g,S,_),s<0?(w=g[0],S!=_&&(w=w*Ct+(g[1]||0)),h=w/P|0,h>1?(h>=Ct&&(h=Ct-1),f=t(j,h),d=f.length,_=g.length,s=e(f,g,d,_),s==1&&(h--,n(f,S<d?E:j,d))):(h==0&&(s=h=1),f=j.slice()),d=f.length,d<_&&f.unshift(0),n(g,f,_),s==-1&&(_=g.length,s=e(j,g,S,_),s<1&&(h++,n(g,S<_?E:j,_))),_=g.length):s===0&&(h++,g=[0]),m[u++]=h,s&&g[0]?g[_++]=C[O]||0:(g=[C[O]],_=1);while((O++<T||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,ze(p,a?o+_t(p)+1:o)}}();function Gj(t,e){var n,r,i,o,a,s,l=0,u=0,h=t.constructor,f=h.precision;if(_t(t)>16)throw Error(Lw+_t(t));if(!t.s)return new h(Nn);for(e==null?(ot=!1,s=f):s=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Io(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new h(Nn),h.precision=s;;){if(i=ze(i.times(t),s),n=n.times(++l),a=o.plus(ni(i,n,s)),Sr(a.d).slice(0,s)===Sr(o.d).slice(0,s)){for(;u--;)o=ze(o.times(o),s);return h.precision=f,e==null?(ot=!0,ze(o,f)):o}o=a}}function _t(t){for(var e=t.e*et,n=t.d[0];n>=10;n/=10)e++;return e}function ry(t,e,n){if(e>t.LN10.sd())throw ot=!0,n&&(t.precision=n),Error(Zn+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function tc(t,e){var n,r,i,o,a,s,l,u,h,f=1,d=10,p=t,m=p.d,g=p.constructor,_=g.precision;if(p.s<1)throw Error(Zn+(p.s?"NaN":"-Infinity"));if(p.eq(Nn))return new g(0);if(e==null?(ot=!1,u=_):u=e,p.eq(10))return e==null&&(ot=!0),ry(g,u);if(u+=d,g.precision=u,n=Sr(m),r=n.charAt(0),o=_t(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Sr(p.d),r=n.charAt(0),f++;o=_t(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=ry(g,u+2,_).times(o+""),p=tc(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=_,e==null?(ot=!0,ze(p,_)):p;for(s=a=p=ni(p.minus(Nn),p.plus(Nn),u),h=ze(p.times(p),u),i=3;;){if(a=ze(a.times(h),u),l=s.plus(ni(a,new g(i),u)),Sr(l.d).slice(0,u)===Sr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(ry(g,u+2,_).times(o+""))),s=ni(s,new g(f),u),g.precision=_,e==null?(ot=!0,ze(s,_)):s;s=l,i+=2}}function AA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sl(n/et),t.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=et;r<i;)t.d.push(+e.slice(r,r+=et));e=e.slice(r),r=et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ot&&(t.e>Dd||t.e<-Dd))throw Error(Lw+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,a,s,l,u,h,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=et,i=e,u=f[h=0];else{if(h=Math.ceil((r+1)/et),o=f.length,h>=o)return t;for(u=o=f[h],a=1;o>=10;o/=10)a++;r%=et,i=r-et+a}if(n!==void 0&&(o=Io(10,a-i-1),s=u/o%10|0,l=e<0||f[h+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Io(10,a-i):0:f[h-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=_t(t),f.length=1,e=e-o-1,f[0]=Io(10,(et-e%et)%et),t.e=sl(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=h,o=1,h--):(f.length=h+1,o=Io(10,et-r),f[h]=i>0?(u/Io(10,a-i)%Io(10,i)|0)*o:0),l)for(;;)if(h==0){(f[0]+=o)==Ct&&(f[0]=1,++t.e);break}else{if(f[h]+=o,f[h]!=Ct)break;f[h--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ot&&(t.e>Dd||t.e<-Dd))throw Error(Lw+_t(t));return t}function Hj(t,e){var n,r,i,o,a,s,l,u,h,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ot?ze(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(h=a<0,h?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/et),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){h=l[i]<f[i];break}a=0}for(h&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ct-1;--l[o],l[i]+=Ct}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ot?ze(e,p):e):new d(0)}function ra(t,e,n){var r,i=_t(t),o=Sr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Oi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Oi(-i-1)+o,n&&(r=n-a)>0&&(o+=Oi(r))):i>=a?(o+=Oi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Oi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Oi(r))),t.s<0?"-"+o:o}function PA(t,e){if(t.length>e)return t.length=e,!0}function qj(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Wo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return AA(a,o.toString())}else if(typeof o!="string")throw Error(Wo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Ute.test(o))AA(a,o);else throw Error(Wo+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qj,i.config=i.set=zte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zte(t){if(!t||typeof t!="object")throw Error(Zn+"Object expected");var e,n,r,i=["precision",1,al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wo+n+": "+r);return this}var Vw=qj(Bte);Nn=new Vw(1);const Be=Vw;function Wte(t){return Kte(t)||qte(t)||Hte(t)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hte(t,e){if(t){if(typeof t=="string")return c0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c0(t,e)}}function qte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Kte(t){if(Array.isArray(t))return c0(t)}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xte=function(e){return e},Kj={"@@functional/placeholder":!0},Xj=function(e){return e===Kj},IA=function(e){return function n(){return arguments.length===0||arguments.length===1&&Xj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Yte=function t(e,n){return e===1?n:IA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Kj}).length;return a>=e?n.apply(void 0,i):t(e-a,IA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var h=i.map(function(f){return Xj(f)?l.shift():f});return n.apply(void 0,Wte(h).concat(l))}))})},Tm=function(e){return Yte(e.length,e)},f0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Qte=Tm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Jte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},h0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Zte(t){var e;return t===0?e=1:e=Math.floor(new Be(t).abs().log(10).toNumber())+1,e}function ene(t,e,n){for(var r=new Be(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var tne=Tm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),nne=Tm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),rne=Tm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Am={rangeStep:ene,getDigitCount:Zte,interpolateNumber:tne,uninterpolateNumber:nne,uninterpolateTruncation:rne};function d0(t){return ane(t)||one(t)||Qj(t)||ine()}function ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function one(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ane(t){if(Array.isArray(t))return p0(t)}function nc(t,e){return une(t)||lne(t,e)||Qj(t,e)||sne()}function sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(t,e){if(t){if(typeof t=="string")return p0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p0(t,e)}}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function une(t){if(Array.isArray(t))return t}function Jj(t){var e=nc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Zj(t,e,n){if(t.lte(0))return new Be(0);var r=Am.getDigitCount(t.toNumber()),i=new Be(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Be(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Be(Math.ceil(l))}function cne(t,e,n){var r=1,i=new Be(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Be(10).pow(Am.getDigitCount(t)-1),i=new Be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Be(Math.floor(t)))}else t===0?i=new Be(Math.floor((e-1)/2)):n||(i=new Be(Math.floor(t)));var a=Math.floor((e-1)/2),s=Jte(Qte(function(l){return i.add(new Be(l-a).mul(r)).toNumber()}),f0);return s(0,e)}function eR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var o=Zj(new Be(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Be(0):(a=new Be(t).add(e).div(2),a=a.sub(new Be(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Be(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?eR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Be(s).mul(o)),tickMax:a.add(new Be(l).mul(o))})}function fne(t){var e=nc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Jj([n,r]),l=nc(s,2),u=l[0],h=l[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(d0(f0(0,i-1).map(function(){return 1/0}))):[].concat(d0(f0(0,i-1).map(function(){return-1/0})),[h]);return n>r?h0(f):f}if(u===h)return cne(u,i,o);var d=eR(u,h,a,o),p=d.step,m=d.tickMin,g=d.tickMax,_=Am.rangeStep(m,g.add(new Be(.1).mul(p)),p);return n>r?h0(_):_}function hne(t,e){var n=nc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Jj([r,i]),s=nc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(e,2),f=Zj(new Be(u).sub(l).div(h-1),o,0),d=[].concat(d0(Am.rangeStep(new Be(l),new Be(u).sub(new Be(.99).mul(f)),f)),[u]);return r>i?h0(d):d}var dne=Yj(fne),pne=Yj(hne),mne=!0,iy="Invariant failed";function ia(t,e){if(!t){if(mne)throw new Error(iy);var n=typeof e=="function"?e():e,r=n?"".concat(iy,": ").concat(n):iy;throw new Error(r)}}var gne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function yne(t,e){return wne(t)||_ne(t,e)||bne(t,e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wne(t){if(Array.isArray(t))return t}function xne(t,e){if(t==null)return{};var n=Sne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rR(r.key),r)}}function Tne(t,e,n){return e&&kA(t.prototype,e),n&&kA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,n){return e=Ld(e),Pne(t,tR()?Reflect.construct(e,n||[],Ld(t).constructor):e.apply(t,n))}function Pne(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(t)}function Ine(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tR=function(){return!!t})()}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(t)}function One(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m0(t,e)}function m0(t,e){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m0(t,e)}function nR(t,e,n){return e=rR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rR(t){var e=kne(t,"string");return Is(e)=="symbol"?e:e+""}function kne(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xc=function(t){function e(){return Ene(this,e),Ane(this,e,arguments)}return One(e,t),Tne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,h=r.xAxis,f=r.yAxis,d=xne(r,gne),p=ke(d,!1);this.props.direction==="x"&&h.type!=="number"&&ia(!1);var m=l.map(function(g){var _=u(g,s),w=_.x,b=_.y,x=_.value,O=_.errorVal;if(!O)return null;var T=[],P,S;if(Array.isArray(O)){var E=yne(O,2);P=E[0],S=E[1]}else P=S=O;if(o==="vertical"){var I=h.scale,k=b+i,C=k+a,j=k-a,N=I(x-P),W=I(x+S);T.push({x1:W,y1:C,x2:W,y2:j}),T.push({x1:N,y1:k,x2:W,y2:k}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(o==="horizontal"){var U=f.scale,q=w+i,K=q-a,D=q+a,G=U(x-P),Q=U(x+S);T.push({x1:K,y1:Q,x2:D,y2:Q}),T.push({x1:q,y1:G,x2:q,y2:Q}),T.push({x1:K,y1:G,x2:D,y2:G})}return M.createElement(gt,$d({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),T.map(function(ne){return M.createElement("line",$d({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return M.createElement(gt,{className:"recharts-errorBars"},m)}}])}(M.Component);nR(Xc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nR(Xc,"displayName","ErrorBar");function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=jne(t,"string");return rc(e)=="symbol"?e:e+""}function jne(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Cn(n,Uo);if(!a)return null;var s=Uo.defaultProps,l=s!==void 0?wo(wo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(h,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return h.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(h){var f=h.item,d=f.type.defaultProps,p=d!==void 0?wo(wo({},d),f.props):{},m=p.dataKey,g=p.name,_=p.legendType,w=p.hide;return{inactive:w,dataKey:m,type:l.iconType||_||"square",color:Fw(f),value:g||m,payload:p}}),wo(wo(wo({},l),Uo.getWithHeight(a,i)),{},{payload:u,item:a})};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function NA(t){return $ne(t)||Dne(t)||Mne(t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return g0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g0(t,e)}}function Dne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ne(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){ns(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ns(t,e,n){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return ic(e)=="symbol"?e:e+""}function Vne(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $n(t,e,n){return Ae(t)||Ae(e)?n:At(e)?Xn(t,e,n):Te(e)?e(t):n}function pu(t,e,n,r){var i=$te(t,function(s){return $n(s,e)});if(n==="number"){var o=i.filter(function(s){return oe(s)||parseFloat(s)});return o.length?[Sm(o),xm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ae(s)}):i;return a.map(function(s){return At(s)||s instanceof Date?s:""})}var Fne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var h=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(dr(f-h)!==dr(d-f)){var m=[];if(dr(d-f)===dr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+h)/2),m[1]=Math.max(g,(g+h)/2)}else{p=h;var _=d+l[1]-l[0];m[0]=Math.min(f,(_+f)/2),m[1]=Math.max(f,(_+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var b=Math.min(h,d),x=Math.max(h,d);if(e>(b+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},Fw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Bne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var h=o[s[l]].stackGroups,f=Object.keys(h),d=0,p=f.length;d<p;d++){var m=h[f[d]],g=m.items,_=m.cateAxisId,w=g.filter(function(S){return Zr(S.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,x=b!==void 0?dt(dt({},b),w[0].props):w[0].props,O=x.barSize,T=x[_];a[T]||(a[T]=[]);var P=Ae(O)?n:O;a[T].push({item:w[0],stackList:w.slice(1),barSize:Ae(P)?void 0:na(P,r,0)})}}return a},Une=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=na(n,i,0,!0),h,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(O,T){return O+T.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,_={offset:g-u,size:0};h=a.reduce(function(O,T){var P={item:T.item,position:{offset:_.offset+_.size+u,size:d?p:T.barSize}},S=[].concat(NA(O),[P]);return _=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:_})}),S},f)}else{var w=na(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;h=a.reduce(function(O,T,P){var S=[].concat(NA(O),[{item:T.item,position:{offset:w+(b+u)*P+(b-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return h},zne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=iR({children:o,legendWidth:l});if(u){var h=i||{},f=h.width,d=h.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&oe(e[p]))return dt(dt({},e),{},ns({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&oe(e[m]))return dt(dt({},e),{},ns({},m,e[m]+(d||0)))}return e},Wne=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oR=function(e,n,r,i,o){var a=n.props.children,s=Yn(a,Xc).filter(function(u){return Wne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var f=$n(h,r);if(Ae(f))return u;var d=Array.isArray(f)?[Sm(f),xm(f)]:[f,f],p=l.reduce(function(m,g){var _=$n(h,g,0),w=d[0]-Math.abs(Array.isArray(_)?_[0]:_),b=d[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(w,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Gne=function(e,n,r,i,o){var a=n.map(function(s){return oR(e,s,r,o,i)}).filter(function(s){return!Ae(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},aR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&oR(e,l,u,i)||pu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var h=0,f=u.length;h<f;h++)s[u[h]]||(s[u[h]]=!0,l.push(u[h]));return l},[])},sR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Yr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?dr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return h.filter(function(f){return!Uc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},oy=new WeakMap,Kf=function(e,n){if(typeof n!="function")return e;oy.has(e)||oy.set(e,new WeakMap);var r=oy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Hne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Yu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Nd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:du(),realScaleType:"point"}:o==="category"?{scale:Yu(),realScaleType:"band"}:{scale:Nd(),realScaleType:"linear"};if(ta(i)){var l="scale".concat(um(i));return{scale:(TA[l]||du)(),realScaleType:TA[l]?l:"point"}}return Te(i)?{scale:i}:{scale:du(),realScaleType:"point"}},RA=1e-4,qne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-RA,a=Math.max(i[0],i[1])+RA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Kne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Xne=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(o[0]=r),(!oe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Yne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Uc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Qne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Uc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Jne={sign:Yne,expand:mW,none:_s,silhouette:gW,wiggle:yW,positive:Qne},Zne=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Jne[r],a=pW().keys(i).value(function(s,l){return+$n(s,l,0)}).order(Bv).offset(o);return a(e)},ere=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},d.type.defaultProps),d.props):d.props,g=m.stackId,_=m.hide;if(_)return f;var w=m[r],b=f[w]||{hasStack:!1,stackGroups:{}};if(At(g)){var x=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),b.hasStack=!0,b.stackGroups[g]=x}else b.stackGroups[zc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return dt(dt({},f),{},ns({},w,b))},l),h={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,_){var w=p.stackGroups[_];return dt(dt({},g),{},ns({},_,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Zne(e,w.items,o)}))},m)}return dt(dt({},f),{},ns({},d,p))},h)},tre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=dne(u,o,s);return e.domain([Sm(h),xm(h)]),{niceTicks:h}}if(o&&i==="number"){var f=e.domain(),d=pne(f,o,s);return{niceTicks:d}}return null};function MA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ae(i[e.dataKey])){var s=ud(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=$n(i,Ae(a)?e.dataKey:a);return Ae(l)?null:e.scale(l)}var DA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$n(a,n.dataKey,n.domain[s]);return Ae(l)?null:n.scale(l)-o/2+i},nre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},rre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(At(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},ire=function(e){return e.reduce(function(n,r){return[Sm(r.concat([n[0]]).filter(oe)),xm(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},uR=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,h){var f=ire(h.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$A=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y0=function(e,n,r){if(Te(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if($A.test(e[0])){var o=+$A.exec(e[0])[1];i[0]=n[0]-o}else Te(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(LA.test(e[1])){var a=+LA.exec(e[1])[1];i[1]=n[1]+a}else Te(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=pw(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],h=o[s-1];a=Math.min((u.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},VA=function(e,n,r){return!e||!e.length||Em(e,Xn(r,"type.defaultProps.domain"))?n:e},cR=function(e,n){var r=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,h=r.hide;return dt(dt({},ke(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Fw(e),value:$n(n,i),type:l,payload:n,chartType:u,hide:h})};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return oc(e)=="symbol"?e:e+""}function sre(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fd=Math.PI/180,lre=function(e){return e*180/Math.PI},Ft=function(e,n,r,i){return{x:e+Math.cos(-Fd*i)*r,y:n+Math.sin(-Fd*i)*r}},ure=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},cre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=ure({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:lre(u),angleInRadian:u}},fre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},hre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},UA=function(e,n){var r=e.x,i=e.y,o=cre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var h=fre(n),f=h.startAngle,d=h.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?BA(BA({},n),{},{radius:a,angle:hre(p,n)}):null};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}var dre=["offset"];function pre(t){return vre(t)||yre(t)||gre(t)||mre()}function mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return v0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v0(t,e)}}function yre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vre(t){if(Array.isArray(t))return v0(t)}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bre(t,e){if(t==null)return{};var n=_re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=Sre(t,"string");return ac(e)=="symbol"?e:e+""}function Sre(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}var Ere=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return Te(r)?r(i):i},Tre=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Are=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,h=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,_=(f+d)/2,w=Tre(p,m),b=w>=0?1:-1,x,O;i==="insideStart"?(x=p+b*a,O=g):i==="insideEnd"?(x=m-b*a,O=!g):i==="end"&&(x=m+b*a,O=g),O=w<=0?O:!O;var T=Ft(u,h,_,x),P=Ft(u,h,_,x+(O?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Ae(e.id)?zc("recharts-radial-line-"):e.id;return M.createElement("text",sc({},r,{dominantBaseline:"central",className:je("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Pre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,h=o.startAngle,f=o.endAngle,d=(h+f)/2;if(i==="outside"){var p=Ft(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,w=Ft(a,s,_,d),b=w.x,x=w.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Ire=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,h=a.height,f=h>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,_=g*i,w=g>0?"end":"start",b=g>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return xt(xt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+h+d,textAnchor:"middle",verticalAnchor:m};return xt(xt({},O),r?{height:Math.max(r.y+r.height-(l+h),0),width:u}:{})}if(o==="left"){var T={x:s-_,y:l+h/2,textAnchor:w,verticalAnchor:"middle"};return xt(xt({},T),r?{width:Math.max(T.x-r.x,0),height:h}:{})}if(o==="right"){var P={x:s+u+_,y:l+h/2,textAnchor:b,verticalAnchor:"middle"};return xt(xt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var S=r?{width:u,height:h}:{};return o==="insideLeft"?xt({x:s+_,y:l+h/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?xt({x:s+u-_,y:l+h/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideTop"?xt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},S):o==="insideBottom"?xt({x:s+u/2,y:l+h-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?xt({x:s+_,y:l+d,textAnchor:b,verticalAnchor:m},S):o==="insideTopRight"?xt({x:s+u-_,y:l+d,textAnchor:w,verticalAnchor:m},S):o==="insideBottomLeft"?xt({x:s+_,y:l+h-d,textAnchor:b,verticalAnchor:p},S):o==="insideBottomRight"?xt({x:s+u-_,y:l+h-d,textAnchor:w,verticalAnchor:p},S):Js(o)&&(oe(o.x)||Ro(o.x))&&(oe(o.y)||Ro(o.y))?xt({x:s+na(o.x,u),y:l+na(o.y,h),textAnchor:"end",verticalAnchor:"end"},S):xt({x:s+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Ore=function(e){return"cx"in e&&oe(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=bre(t,dre),i=xt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,h=i.className,f=h===void 0?"":h,d=i.textBreakAll;if(!o||Ae(s)&&Ae(l)&&!$.isValidElement(u)&&!Te(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(Te(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Ere(i);var m=Ore(o),g=ke(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Are(i,p,g);var _=m?Pre(i):Ire(i);return M.createElement(Td,sc({className:je("recharts-label",f)},g,_,{breakAll:d}),p)}rn.displayName="Label";var fR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,h=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,_=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(oe(g)&&oe(_)){if(oe(f)&&oe(d))return{x:f,y:d,width:g,height:_};if(oe(p)&&oe(m))return{x:p,y:m,width:g,height:_}}return oe(f)&&oe(d)?{x:f,y:d,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:h||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},kre=function(e,n){return e?e===!0?M.createElement(rn,{key:"label-implicit",viewBox:n}):At(e)?M.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===rn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Te(e)?M.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Js(e)?M.createElement(rn,sc({viewBox:n},e,{key:"label-implicit"})):null:null},Cre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=fR(e),a=Yn(i,rn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=kre(e.label,n||o);return[s].concat(pre(a))};rn.parseViewBox=fR;rn.renderCallByParent=Cre;function Nre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var jre=Nre;const Rre=We(jre);function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}var Mre=["valueAccessor"],Dre=["data","dataKey","clockWise","id","textBreakAll"];function $re(t){return Bre(t)||Fre(t)||Vre(t)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vre(t,e){if(t){if(typeof t=="string")return b0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b0(t,e)}}function Fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bre(t){if(Array.isArray(t))return b0(t)}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return e=zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Wre(t,"string");return lc(e)=="symbol"?e:e+""}function Wre(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HA(t,e){if(t==null)return{};var n=Gre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hre=function(e){return Array.isArray(e.value)?Rre(e.value):e.value};function Zi(t){var e=t.valueAccessor,n=e===void 0?Hre:e,r=HA(t,Mre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=HA(r,Dre);return!i||!i.length?null:M.createElement(gt,{className:"recharts-label-list"},i.map(function(h,f){var d=Ae(o)?n(h,f):$n(h&&h.payload,o),p=Ae(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(rn,Bd({},ke(h,!0),u,p,{parentViewBox:h.parentViewBox,value:d,textBreakAll:l,viewBox:rn.parseViewBox(Ae(a)?h:GA(GA({},h),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Zi.displayName="LabelList";function qre(t,e){return t?t===!0?M.createElement(Zi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Te(t)?M.createElement(Zi,{key:"labelList-implicit",data:e,content:t}):Js(t)?M.createElement(Zi,Bd({data:e},t,{key:"labelList-implicit"})):null:null}function Kre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yn(r,Zi).map(function(a,s){return $.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=qre(t.label,e);return[o].concat($re(i))}Zi.renderCallByParent=Kre;function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Qre(t,"string");return uc(e)=="symbol"?e:e+""}function Qre(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jre=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Xf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,h=l*(s?1:-1)+i,f=Math.asin(l/h)/Fd,d=u?o:o+a*f,p=Ft(n,r,h,d),m=Ft(n,r,i,d),g=u?o-a*f:o,_=Ft(n,r,h*Math.cos(f*Fd),g);return{center:p,circleTangency:m,lineTangency:_,theta:f}},hR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Jre(a,s),u=a+l,h=Ft(n,r,o,a),f=Ft(n,r,o,u),d="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ft(n,r,i,a),m=Ft(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Zre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,f=dr(h-u),d=Xf({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,_=Xf({cx:n,cy:r,radius:o,angle:h,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=_.circleTangency,b=_.lineTangency,x=_.theta,O=l?Math.abs(u-h):Math.abs(u-h)-g-x;if(O<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):hR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Xf({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,E=P.lineTangency,I=P.theta,k=Xf({cx:n,cy:r,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,W=l?Math.abs(u-h):Math.abs(u-h)-I-N;if(W<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},eie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dR=function(e){var n=KA(KA({},eie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,d=n.className;if(a<o||h===f)return null;var p=je("recharts-sector",d),m=a-o,g=na(s,m,0,!0),_;return g>0&&Math.abs(h-f)<360?_=Zre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}):_=hR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:f}),M.createElement("path",_0({},ke(n,!0),{className:p,d:_,role:"img"}))};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return cc(e)=="symbol"?e:e+""}function rie(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QA={curveBasisClosed:rW,curveBasisOpen:iW,curveBasis:nW,curveBumpX:U8,curveBumpY:z8,curveLinearClosed:oW,curveLinear:fm,curveMonotoneX:aW,curveMonotoneY:sW,curveNatural:lW,curveStep:uW,curveStepAfter:fW,curveStepBefore:cW},Yf=function(e){return e.x===+e.x&&e.y===+e.y},Ll=function(e){return e.x},Vl=function(e){return e.y},iie=function(e,n){if(Te(e))return e;var r="curve".concat(um(e));return(r==="curveMonotone"||r==="curveBump")&&n?QA["".concat(r).concat(n==="vertical"?"Y":"X")]:QA[r]||fm},oie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,h=iie(r,s),f=u?o.filter(function(g){return Yf(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return Yf(g)}):a,m=f.map(function(g,_){return YA(YA({},g),{},{base:p[_]})});return s==="vertical"?d=Ff().y(Vl).x1(Ll).x0(function(g){return g.base.x}):d=Ff().x(Ll).y1(Vl).y0(function(g){return g.base.y}),d.defined(Yf).curve(h),d(m)}return s==="vertical"&&oe(a)?d=Ff().y(Vl).x1(Ll).x0(a):oe(a)?d=Ff().x(Ll).y1(Vl).y0(a):d=dN().x(Ll).y(Vl),d.defined(Yf).curve(h),d(f)},x0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?oie(e):i;return $.createElement("path",w0({},ke(e,!1),cd(e),{className:je("recharts-curve",n),d:a,ref:o}))},pR={exports:{}},aie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sie=aie,lie=sie;function mR(){}function gR(){}gR.resetWarningCache=mR;var uie=function(){function t(r,i,o,a,s,l){if(l!==lie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gR,resetWarningCache:mR};return n.PropTypes=n,n};pR.exports=uie();var cie=pR.exports;const $e=We(cie);var fie=Object.getOwnPropertyNames,hie=Object.getOwnPropertySymbols,die=Object.prototype.hasOwnProperty;function JA(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Qf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function ZA(t){return fie(t).concat(hie(t))}var pie=Object.hasOwn||function(t,e){return die.call(t,e)};function da(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var mie="__v",gie="__o",yie="_owner",eP=Object.getOwnPropertyDescriptor,tP=Object.keys;function vie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function bie(t,e){return da(t.getTime(),e.getTime())}function _ie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function wie(t,e){return t===e}function nP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),h=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){h=i[f]=!0;break}f++}if(!h)return!1;l++}return!0}var xie=da;function Sie(t,e,n){var r=tP(t),i=r.length;if(tP(e).length!==i)return!1;for(;i-- >0;)if(!yR(t,e,n,r[i]))return!1;return!0}function Fl(t,e,n){var r=ZA(t),i=r.length;if(ZA(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!yR(t,e,n,o)||(a=eP(t,o),s=eP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Eie(t,e){return da(t.valueOf(),e.valueOf())}function Tie(t,e){return t.source===e.source&&t.flags===e.flags}function rP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,h=0;(s=l.next())&&!s.done;){if(!i[h]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function Aie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Pie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yR(t,e,n,r){return(r===yie||r===gie||r===mie)&&(t.$$typeof||e.$$typeof)?!0:pie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Iie="[object Arguments]",Oie="[object Boolean]",kie="[object Date]",Cie="[object Error]",Nie="[object Map]",jie="[object Number]",Rie="[object Object]",Mie="[object RegExp]",Die="[object Set]",$ie="[object String]",Lie="[object URL]",Vie=Array.isArray,iP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oP=Object.assign,Fie=Object.prototype.toString.call.bind(Object.prototype.toString);function Bie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,h=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,_){if(m===g)return!0;if(m==null||g==null)return!1;var w=typeof m;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?a(m,g,_):w==="function"?i(m,g,_):!1;var b=m.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(m,g,_);if(Vie(m))return e(m,g,_);if(iP!=null&&iP(m))return f(m,g,_);if(b===Date)return n(m,g,_);if(b===RegExp)return u(m,g,_);if(b===Map)return o(m,g,_);if(b===Set)return h(m,g,_);var x=Fie(m);return x===kie?n(m,g,_):x===Mie?u(m,g,_):x===Nie?o(m,g,_):x===Die?h(m,g,_):x===Rie?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,_):x===Lie?d(m,g,_):x===Cie?r(m,g,_):x===Iie?s(m,g,_):x===Oie||x===jie||x===$ie?l(m,g,_):!1}}function Uie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Fl:vie,areDatesEqual:bie,areErrorsEqual:_ie,areFunctionsEqual:wie,areMapsEqual:r?JA(nP,Fl):nP,areNumbersEqual:xie,areObjectsEqual:r?Fl:Sie,arePrimitiveWrappersEqual:Eie,areRegExpsEqual:Tie,areSetsEqual:r?JA(rP,Fl):rP,areTypedArraysEqual:r?Fl:Aie,areUrlsEqual:Pie};if(n&&(i=oP({},i,n(i))),e){var o=Qf(i.areArraysEqual),a=Qf(i.areMapsEqual),s=Qf(i.areObjectsEqual),l=Qf(i.areSetsEqual);i=oP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function zie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Wie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var h=r(),f=h.cache,d=f===void 0?e?new WeakMap:void 0:f,p=h.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Gie=mo();mo({strict:!0});mo({circular:!0});mo({circular:!0,strict:!0});mo({createInternalComparator:function(){return da}});mo({strict:!0,createInternalComparator:function(){return da}});mo({circular:!0,createInternalComparator:function(){return da}});mo({circular:!0,createInternalComparator:function(){return da},strict:!0});function mo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Uie(t),l=Bie(s),u=r?r(l):zie(l);return Wie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Hie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function aP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Hie(i)};requestAnimationFrame(r)}function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function qie(t){return Qie(t)||Yie(t)||Xie(t)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xie(t,e){if(t){if(typeof t=="string")return sP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(t,e)}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qie(t){if(Array.isArray(t))return t}function Jie(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=qie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){aP(i.bind(null,u),l);return}i(l),aP(i.bind(null,u));return}S0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){vR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vR(t,e,n){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return fc(e)==="symbol"?e:String(e)}function eoe(t,e){if(fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},noe=function(e){return e},roe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mu=function(e,n){return Object.keys(n).reduce(function(r,i){return uP(uP({},r),{},vR({},i,e(i,n[i])))},{})},cP=function(e,n,r){return e.map(function(i){return"".concat(roe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ioe(t,e){return soe(t)||aoe(t,e)||bR(t,e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function soe(t){if(Array.isArray(t))return t}function loe(t){return foe(t)||coe(t)||bR(t)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bR(t,e){if(t){if(typeof t=="string")return E0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E0(t,e)}}function coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function foe(t){if(Array.isArray(t))return E0(t)}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ud=1e-4,_R=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},fP=function(e,n){return function(r){var i=_R(e,n);return wR(i,r)}},hoe=function(e,n){return function(r){var i=_R(e,n),o=[].concat(loe(i.map(function(a,s){return a*s}).slice(1)),[0]);return wR(o,r)}},hP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=ioe(u,4);i=h[0],o=h[1],a=h[2],s=h[3]}}}var f=fP(i,a),d=fP(o,s),p=hoe(i,a),m=function(w){return w>1?1:w<0?0:w},g=function(w){for(var b=w>1?1:w,x=b,O=0;O<8;++O){var T=f(x)-b,P=p(x);if(Math.abs(T-b)<Ud||P<Ud)return d(x);x=m(x-T/P)}return d(x)};return g.isStepper=!1,g},doe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(h,f,d){var p=-(h-f)*r,m=d*o,g=d+(p-m)*s/1e3,_=d*s/1e3+h;return Math.abs(_-f)<Ud&&Math.abs(g)<Ud?[f,0]:[_,g]};return l.isStepper=!0,l.dt=s,l},poe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hP(i);case"spring":return doe();default:if(i.split("(")[0]==="cubic-bezier")return hP(i)}return typeof i=="function"?i:null};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function dP(t){return yoe(t)||goe(t)||xR(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yoe(t){if(Array.isArray(t))return A0(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=boe(t,"string");return hc(e)==="symbol"?e:String(e)}function boe(t,e){if(hc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _oe(t,e){return Soe(t)||xoe(t,e)||xR(t,e)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Soe(t){if(Array.isArray(t))return t}var zd=function(e,n,r){return e+(n-e)*r},P0=function(e){var n=e.from,r=e.to;return n!==r},Eoe=function t(e,n,r){var i=mu(function(o,a){if(P0(a)){var s=e(a.from,a.to,a.velocity),l=_oe(s,2),u=l[0],h=l[1];return Dt(Dt({},a),{},{from:u,velocity:h})}return a},n);return r<1?mu(function(o,a){return P0(a)?Dt(Dt({},a),{},{velocity:zd(a.velocity,i[o].velocity,r),from:zd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Toe=function(t,e,n,r,i){var o=toe(t,e),a=o.reduce(function(_,w){return Dt(Dt({},_),{},T0({},w,[t[w],e[w]]))},{}),s=o.reduce(function(_,w){return Dt(Dt({},_),{},T0({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,h,f=function(){return null},d=function(){return mu(function(w,b){return b.from},s)},p=function(){return!Object.values(s).filter(P0).length},m=function(w){u||(u=w);var b=w-u,x=b/n.dt;s=Eoe(n,s,x),i(Dt(Dt(Dt({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){h||(h=w);var b=(w-h)/r,x=mu(function(T,P){return zd.apply(void 0,dP(P).concat([n(b)]))},a);if(i(Dt(Dt(Dt({},t),e),x)),b<1)l=requestAnimationFrame(f);else{var O=mu(function(T,P){return zd.apply(void 0,dP(P).concat([n(1)]))},a);i(Dt(Dt(Dt({},t),e),O))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}var Aoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Poe(t,e){if(t==null)return{};var n=Ioe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ioe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ay(t){return Noe(t)||Coe(t)||koe(t)||Ooe()}function Ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function koe(t,e){if(t){if(typeof t=="string")return I0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I0(t,e)}}function Coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Noe(t){if(Array.isArray(t))return I0(t)}function I0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Ql(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ql(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function Roe(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SR(t){var e=Moe(t,"string");return Os(e)==="symbol"?e:String(e)}function Moe(t,e){if(Os(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Os(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O0(t,e)}function $oe(t){var e=Loe();return function(){var r=Wd(t),i;if(e){var o=Wd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return k0(this,i)}}function k0(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C0(t)}function C0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Loe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}var Pm=function(t){Doe(n,t);var e=$oe(n);function n(r,i){var o;joe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,h=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(C0(o)),o.changeStyle=o.changeStyle.bind(C0(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:h}),k0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},k0(o);o.state={style:l?Ql({},l,u):u}}else o.state={style:{}};return o}return Roe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,h=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?Ql({},l,h):h};this.state&&d&&(l&&d[l]!==h||!l&&d!==h)&&this.setState(p);return}if(!(Gie(i.to,h)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var _={style:l?Ql({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(_)}this.runAnimation(or(or({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,h=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Toe(a,s,poe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,h,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],h=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,_,w){if(w===0)return g;var b=_.duration,x=_.easing,O=x===void 0?"ease":x,T=_.style,P=_.properties,S=_.onAnimationEnd,E=w>0?a[w-1]:_,I=P||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(ay(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:b,easing:O}),b]);var k=cP(I,b,O),C=or(or(or({},E.style),T),{},{transition:k});return[].concat(ay(g),[C,b,S]).filter(noe)};return this.manager.start([l].concat(ay(a.reduce(p,[h,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Jie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Ql({},s,l):l,_=cP(Object.keys(g),a,u);m.start([h,o,or(or({},g),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Poe(i,Aoe),u=$.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,_=g===void 0?{}:g,w=m.className,b=$.cloneElement(p,or(or({},l),{},{style:or(or({},_),h),className:w}));return b};return u===1?f($.Children.only(o)):M.createElement("div",null,$.Children.map(o,function(d){return f(d)}))}}]),n}($.PureComponent);Pm.displayName="Animate";Pm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pm.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};const ks=Pm;function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function Voe(t,e){return zoe(t)||Uoe(t,e)||Boe(t,e)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Boe(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zoe(t){if(Array.isArray(t))return t}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return e=Goe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=Hoe(t,"string");return dc(e)=="symbol"?e:e+""}function Hoe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _P=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];h="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),h+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),h+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),h+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);h="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},qoe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),h=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=h&&i>=f&&i<=d}return!1},Koe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bw=function(e){var n=bP(bP({},Koe),e),r=$.useRef(),i=$.useState(-1),o=Voe(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,h=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,_=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var x=je("recharts-rectangle",p);return b?M.createElement(ks,{canBegin:a>0,from:{width:h,height:f,x:l,y:u},to:{width:h,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(O){var T=O.width,P=O.height,S=O.x,E=O.y;return M.createElement(ks,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,isActive:w,easing:m},M.createElement("path",Gd({},ke(n,!0),{className:x,d:_P(S,E,T,P,d),ref:r})))}):M.createElement("path",Gd({},ke(n,!0),{className:x,d:_P(l,u,h,f,d)}))};function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}var Uw=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=je("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",N0({},ke(e,!1),cd(e),{className:a,cx:n,cy:r,r:i})):null};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var Xoe=["x","y","top","left","width","height","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Zoe(t,"string");return pc(e)=="symbol"?e:e+""}function Zoe(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},rae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,h=e.width,f=h===void 0?0:h,d=e.height,p=d===void 0?0:d,m=e.className,g=eae(e,Xoe),_=Yoe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!oe(r)||!oe(o)||!oe(f)||!oe(p)||!oe(s)||!oe(u)?null:M.createElement("path",j0({},ke(_,!0),{className:je("recharts-cross",m),d:nae(r,o,f,p,s,u)}))},iae=$N,oae=iae(Object.getPrototypeOf,Object),aae=oae,sae=yi,lae=aae,uae=vi,cae="[object Object]",fae=Function.prototype,hae=Object.prototype,ER=fae.toString,dae=hae.hasOwnProperty,pae=ER.call(Object);function mae(t){if(!uae(t)||sae(t)!=cae)return!1;var e=lae(t);if(e===null)return!0;var n=dae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ER.call(n)==pae}var gae=mae;const yae=We(gae);var vae=yi,bae=vi,_ae="[object Boolean]";function wae(t){return t===!0||t===!1||bae(t)&&vae(t)==_ae}var xae=wae;const Sae=We(xae);function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function Eae(t,e){return Iae(t)||Pae(t,e)||Aae(t,e)||Tae()}function Tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){if(t){if(typeof t=="string")return xP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Iae(t){if(Array.isArray(t))return t}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return e=kae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kae(t){var e=Cae(t,"string");return mc(e)=="symbol"?e:e+""}function Cae(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Nae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jae=function(e){var n=EP(EP({},Nae),e),r=$.useRef(),i=$.useState(-1),o=Eae(i,2),a=o[0],s=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,h=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,_=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||d!==+d||h===0&&f===0||d===0)return null;var b=je("recharts-trapezoid",p);return w?M.createElement(ks,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:h,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(x){var O=x.upperWidth,T=x.lowerWidth,P=x.height,S=x.x,E=x.y;return M.createElement(ks,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,easing:m},M.createElement("path",Hd({},ke(n,!0),{className:b,d:TP(S,E,O,T,P),ref:r})))}):M.createElement("g",null,M.createElement("path",Hd({},ke(n,!0),{className:b,d:TP(l,u,h,f,d)})))},Rae=["option","shapeType","propTransformer","activeClassName","isActive"];function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Mae(t,e){if(t==null)return{};var n=Dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return gc(e)=="symbol"?e:e+""}function Vae(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e){return qd(qd({},e),t)}function Bae(t,e){return t==="symbols"}function PP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Bw,n);case"trapezoid":return M.createElement(jae,n);case"sector":return M.createElement(dR,n);case"symbols":if(Bae(e))return M.createElement(aw,n);break;default:return null}}function Uae(t){return $.isValidElement(t)?t.props:t}function zae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Fae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Mae(t,Rae),u;if($.isValidElement(e))u=$.cloneElement(e,qd(qd({},l),Uae(e)));else if(Te(e))u=e(l);else if(yae(e)&&!Sae(e)){var h=i(e,l);u=M.createElement(PP,{shapeType:n,elementProps:h})}else{var f=l;u=M.createElement(PP,{shapeType:n,elementProps:f})}return s?M.createElement(gt,{className:a},u):u}function Im(t,e){return e!=null&&"trapezoids"in t.props}function Om(t,e){return e!=null&&"sectors"in t.props}function yc(t,e){return e!=null&&"points"in t.props}function Wae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Gae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Hae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qae(t,e){var n;return Im(t,e)?n=Wae:Om(t,e)?n=Gae:yc(t,e)&&(n=Hae),n}function Kae(t,e){var n;return Im(t,e)?n="trapezoids":Om(t,e)?n="sectors":yc(t,e)&&(n="points"),n}function Xae(t,e){if(Im(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Om(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return yc(t,e)?e.payload:{}}function Yae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Kae(n,e),o=Xae(n,e),a=r.filter(function(l,u){var h=Em(o,l),f=n.props[i].filter(function(m){var g=qae(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return h&&p}),s=r.indexOf(a[a.length-1]);return s}var Qae=Math.ceil,Jae=Math.max;function Zae(t,e,n,r){for(var i=-1,o=Jae(Qae((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ese=Zae,tse=nj,IP=1/0,nse=17976931348623157e292;function rse(t){if(!t)return t===0?t:0;if(t=tse(t),t===IP||t===-IP){var e=t<0?-1:1;return e*nse}return t===t?t:0}var TR=rse,ise=ese,ose=mm,sy=TR;function ase(t){return function(e,n,r){return r&&typeof r!="number"&&ose(e,n,r)&&(n=r=void 0),e=sy(e),n===void 0?(n=e,e=0):n=sy(n),r=r===void 0?e<n?1:-1:sy(r),ise(e,n,r,t)}}var sse=ase,lse=sse,use=lse(),cse=use;const Kd=We(cse);function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){AR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AR(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return vc(e)=="symbol"?e:e+""}function hse(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dse=["Webkit","Moz","O","ms"],pse=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=dse.reduce(function(o,a){return kP(kP({},o),{},AR({},a+r,n))},{});return i[e]=n,i};function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){On(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function gse(t,e,n){return e&&NP(t.prototype,e),n&&NP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,e,n){return e=Yd(e),vse(t,PR()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function vse(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(t)}function bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function _se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R0(t,e)}function On(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=wse(t,"string");return Cs(e)=="symbol"?e:e+""}function wse(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=du().domain(Kd(0,l)).range([o,o+a-s]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},jP=function(e){return e.changedTouches&&!!e.changedTouches.length},Ns=function(t){function e(n){var r;return mse(this,e),r=yse(this,e,[n]),On(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),On(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),On(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),On(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),On(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),On(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),On(r,"handleSlideDragStart",function(i){var o=jP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return _se(e,t),gse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,h=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===h?h:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=$n(o[r],s,r);return Te(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,h=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+h-f-s,u+h-f-a):g<0&&(g=Math.max(g,u-a,u-s));var _=this.getIndex({startX:a+g,endX:s+g});(_.startIndex!==d||_.endIndex!==p)&&m&&m(_),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=jP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],h=this.props,f=h.x,d=h.width,p=h.travellerWidth,m=h.onChange,g=h.gap,_=h.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+d-p-u):b<0&&(b=Math.max(b,f-u)),w[a]=u+b;var x=this.getIndex(w),O=x.startIndex,T=x.endIndex,P=function(){var E=_.length-1;return a==="startX"&&(s>l?O%g===0:T%g===0)||s<l&&T===E||a==="endX"&&(s>l?T%g===0:O%g===0)||s>l&&T===E};this.setState(On(On({},a,u+b),"brushMoveStartX",r.pageX),function(){m&&P()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,h=this.state[i],f=s.indexOf(h);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(On({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,h=r.padding,f=$.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,h=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,_=l.endIndex,w=Math.max(r,this.props.x),b=ly(ly({},ke(this.props,!1)),{},{x:w,y:u,width:h,height:f}),x=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[_])===null||a===void 0?void 0:a.name);return M.createElement(gt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,h=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,h=this.state,f=h.startX,d=h.endX,p=5,m={pointerEvents:"none",fill:u};return M.createElement(gt,{className:"recharts-brush-texts"},M.createElement(Td,Xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),M.createElement(Td,Xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,h=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,_=d.isSlideMoving,w=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(l)||!oe(u)||!oe(h)||u<=0||h<=0)return null;var x=je("recharts-brush",o),O=M.Children.count(a)===1,T=pse("userSelect","none");return M.createElement(gt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||_||w||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Te(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,h=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return ly({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?xse({data:o,width:a,x:s,travellerWidth:l,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}($.PureComponent);On(Ns,"displayName","Brush");On(Ns,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sse=dw;function Ese(t,e){var n;return Sse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Tse=Ese,Ase=ON,Pse=fo,Ise=Tse,Ose=An,kse=mm;function Cse(t,e,n){var r=Ose(t)?Ase:Ise;return n&&kse(t,e,n)&&(e=void 0),r(t,Pse(e))}var Nse=Cse;const jse=We(Nse);var kr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},RP=QN;function Rse(t,e,n){e=="__proto__"&&RP?RP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Mse=Rse,Dse=Mse,$se=XN,Lse=fo;function Vse(t,e){var n={};return e=Lse(e),$se(t,function(r,i,o){Dse(n,i,e(r,i,o))}),n}var Fse=Vse;const Bse=We(Fse);function Use(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var zse=Use,Wse=dw;function Gse(t,e){var n=!0;return Wse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Hse=Gse,qse=zse,Kse=Hse,Xse=fo,Yse=An,Qse=mm;function Jse(t,e,n){var r=Yse(t)?qse:Kse;return n&&Qse(t,e,n)&&(e=void 0),r(t,Xse(e))}var Zse=Jse;const OR=We(Zse);var ele=["x","y"];function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tle(t,e,n){return e=nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t){var e=rle(t,"string");return bc(e)=="symbol"?e:e+""}function rle(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ile(t,e){if(t==null)return{};var n=ole(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ale(t,e){var n=t.x,r=t.y,i=ile(t,ele),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),h=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Bl(Bl(Bl(Bl(Bl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:h,width:d,name:e.name,radius:e.radius})}function DP(t){return M.createElement(zae,M0({shapeType:"rectangle",propTransformer:ale,activeClassName:"recharts-active-bar"},t))}var sle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=oe(r)||Pz(r);return o?e(r,i):(o||ia(!1),n)}},lle=["value","background"],kR;function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function ule(t,e){if(t==null)return{};var n=cle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NR(r.key),r)}}function hle(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dle(t,e,n){return e=Jd(e),ple(t,CR()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function ple(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mle(t)}function mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D0(t,e)}function Vi(t,e,n){return e=NR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t){var e=yle(t,"string");return js(e)=="symbol"?e:e+""}function yle(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yc=function(t){function e(){var n;fle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dle(this,e,[].concat(i)),Vi(n,"state",{isAnimationFinished:!1}),Vi(n,"id",zc("recharts-bar-")),Vi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Vi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return gle(e,t),hle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,h=ke(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=vt(vt(vt({},h),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(gt,Qd({className:"recharts-bar-rectangle"},fd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),M.createElement(DP,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,d=this.state.prevData;return M.createElement(ks,{begin:l,duration:u,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(_,w){var b=d&&d[w];if(b){var x=fr(b.x,_.x),O=fr(b.y,_.y),T=fr(b.width,_.width),P=fr(b.height,_.height);return vt(vt({},_),{},{x:x(m),y:O(m),width:T(m),height:P(m)})}if(a==="horizontal"){var S=fr(0,_.height),E=S(m);return vt(vt({},_),{},{y:_.y+_.height-E,height:E})}var I=fr(0,_.width),k=I(m);return vt(vt({},_),{},{width:k})});return M.createElement(gt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Em(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ke(this.props.background,!1);return o.map(function(u,h){u.value;var f=u.background,d=ule(u,lle);if(!f)return null;var p=vt(vt(vt(vt(vt({},d),{},{fill:"#eee"},f),l),fd(r.props,u,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return M.createElement(DP,Qd({key:"background-bar-".concat(h),option:r.props.background,isActive:h===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,h=o.children,f=Yn(h,Xc);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(_,w){var b=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:b,errorVal:$n(_,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(gt,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,h=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,w=je("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=b||x,T=Ae(g)?this.id:g;return M.createElement(gt,{className:w},b||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:b?u:u-f/2,y:x?h:h-d/2,width:b?f:f*2,height:x?d:d*2}))):null,M.createElement(gt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||_)&&Zi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);kR=Yc;Vi(Yc,"displayName","Bar");Vi(Yc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vi(Yc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Kne(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,_=g!==void 0?vt(vt({},g),n.props):n.props,w=_.dataKey,b=_.children,x=_.minPointSize,O=m==="horizontal"?a:o,T=u?O.scale.domain():null,P=nre({numericAxis:O}),S=Yn(b,ij),E=f.map(function(I,k){var C,j,N,W,U,q;u?C=Xne(u[h+k],T):(C=$n(I,w),Array.isArray(C)||(C=[P,C]));var K=sle(x,kR.defaultProps.minPointSize)(C[1],k);if(m==="horizontal"){var D,G=[a.scale(C[0]),a.scale(C[1])],Q=G[0],ne=G[1];j=DA({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:k}),N=(D=ne??Q)!==null&&D!==void 0?D:void 0,W=p.size;var z=Q-ne;if(U=Number.isNaN(z)?0:z,q={x:j,y:a.y,width:W,height:a.height},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var Y=dr(U||K)*(Math.abs(K)-Math.abs(U));N-=Y,U+=Y}}else{var ae=[o.scale(C[0]),o.scale(C[1])],ce=ae[0],he=ae[1];if(j=ce,N=DA({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:k}),W=he-ce,U=p.size,q={x:o.x,y:N,width:o.width,height:U},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var ve=dr(W||K)*(Math.abs(K)-Math.abs(W));W+=ve}}return vt(vt(vt({},I),{},{x:j,y:N,width:W,height:U,value:u?C:C[1],payload:I,background:q},S&&S[k]&&S[k].props),{},{tooltipPayload:[cR(n,I)],tooltipPosition:{x:j+W/2,y:N+U/2}})});return vt({data:E,layout:m},d)});function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function ble(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function km(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=_le(t,"string");return _c(e)=="symbol"?e:e+""}function _le(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wle=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,h=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Cn(u,Yc);return h.reduce(function(p,m){var g=n[m],_=g.orientation,w=g.domain,b=g.padding,x=b===void 0?{}:b,O=g.mirror,T=g.reversed,P="".concat(_).concat(O?"Mirror":""),S,E,I,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=w[1]-w[0],N=1/0,W=g.categoricalDomain.sort(kz);if(W.forEach(function(ae,ce){ce>0&&(N=Math.min((ae||0)-(W[ce-1]||0),N))}),Number.isFinite(N)){var U=N/j,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=U*q/2),g.padding==="no-gap"){var K=na(e.barCategoryGap,U*q),D=U*q/2;S=D-K-(D-K)/q*K}}}i==="xAxis"?E=[r.left+(x.left||0)+(S||0),r.left+r.width-(x.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(S||0),r.top+r.height-(x.bottom||0)-(S||0)]:E=g.range,T&&(E=[E[1],E[0]]);var G=Hne(g,o,d),Q=G.scale,ne=G.realScaleType;Q.domain(w).range(E),qne(Q);var z=tre(Q,lr(lr({},g),{},{realScaleType:ne}));i==="xAxis"?(C=_==="top"&&!O||_==="bottom"&&O,I=r.left,k=f[P]-C*g.height):i==="yAxis"&&(C=_==="left"&&!O||_==="right"&&O,I=f[P]-C*g.width,k=r.top);var Y=lr(lr(lr({},g),z),{},{realScaleType:ne,x:I,y:k,scale:Q,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Y.bandSize=Vd(Y,z),!g.hide&&i==="xAxis"?f[P]+=(C?-1:1)*Y.height:g.hide||(f[P]+=(C?-1:1)*Y.width),lr(lr({},p),{},km({},m,Y))},{})},RR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},xle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return RR({x:n,y:r},{x:i,y:o})},MR=function(){function t(e){vle(this,t),this.scale=e}return ble(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();km(MR,"EPS",1e-4);var zw=function(e){var n=Object.keys(e).reduce(function(r,i){return lr(lr({},r),{},km({},i,MR.create(e[i])))},{});return lr(lr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Bse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return OR(i,function(o,a){return n[a].isInRange(o)})}})};function Sle(t){return(t%180+180)%180}var Ele=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Sle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Tle=fo,Ale=Wc,Ple=dm;function Ile(t){return function(e,n,r){var i=Object(e);if(!Ale(e)){var o=Tle(n);e=Ple(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Ole=Ile,kle=TR;function Cle(t){var e=kle(t),n=e%1;return e===e?n?e-n:e:0}var Nle=Cle,jle=zN,Rle=fo,Mle=Nle,Dle=Math.max;function $le(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Mle(n);return i<0&&(i=Dle(r+i,0)),jle(t,Rle(e),i)}var Lle=$le,Vle=Ole,Fle=Lle,Ble=Vle(Fle),Ule=Ble;const zle=We(Ule);var Wle=C9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ww=$.createContext(void 0),Gw=$.createContext(void 0),DR=$.createContext(void 0),$R=$.createContext({}),LR=$.createContext(void 0),VR=$.createContext(0),FR=$.createContext(0),BP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,h=Wle(o);return M.createElement(Ww.Provider,{value:r},M.createElement(Gw.Provider,{value:i},M.createElement($R.Provider,{value:o},M.createElement(DR.Provider,{value:h},M.createElement(LR.Provider,{value:a},M.createElement(VR.Provider,{value:u},M.createElement(FR.Provider,{value:l},s)))))))},Gle=function(){return $.useContext(LR)},BR=function(e){var n=$.useContext(Ww);n==null&&ia(!1);var r=n[e];return r==null&&ia(!1),r},Hle=function(){var e=$.useContext(Ww);return Mi(e)},qle=function(){var e=$.useContext(Gw),n=zle(e,function(r){return OR(r.domain,Number.isFinite)});return n||Mi(e)},UR=function(e){var n=$.useContext(Gw);n==null&&ia(!1);var r=n[e];return r==null&&ia(!1),r},Kle=function(){var e=$.useContext(DR);return e},Xle=function(){return $.useContext($R)},Hw=function(){return $.useContext(FR)},qw=function(){return $.useContext(VR)};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WR(r.key),r)}}function Qle(t,e,n){return e&&UP(t.prototype,e),n&&UP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,n){return e=Zd(e),Zle(t,zR()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function Zle(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kw(t,e,n){return e=WR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WR(t){var e=nue(t,"string");return Rs(e)=="symbol"?e:e+""}function nue(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rue(t,e){return sue(t)||aue(t,e)||oue(t,e)||iue()}function iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sue(t){if(Array.isArray(t))return t}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}var lue=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Te(e)?r=e(n):r=M.createElement("line",L0({},n,{className:"recharts-reference-line-line"})),r},uue=function(e,n,r,i,o,a,s,l,u){var h=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(kr(u,"discard")&&!e.y.isInRange(g))return null;var _=[{x:h+d,y:g},{x:h,y:g}];return l==="left"?_.reverse():_}if(n){var w=u.x,b=e.x.apply(w,{position:a});if(kr(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var O=u.segment,T=O.map(function(P){return e.apply(P,{position:a})});return kr(u,"discard")&&jse(T,function(P){return!e.isInRange(P)})?null:T}return null};function cue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Gle(),h=BR(i),f=UR(o),d=Kle();if(!u||!d)return null;ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=zw({x:h.scale,y:f.scale}),m=At(e),g=At(n),_=r&&r.length===2,w=uue(p,m,g,_,d,t.position,h.orientation,f.orientation,t);if(!w)return null;var b=rue(w,2),x=b[0],O=x.x,T=x.y,P=b[1],S=P.x,E=P.y,I=kr(t,"hidden")?"url(#".concat(u,")"):void 0,k=WP(WP({clipPath:I},ke(t,!0)),{},{x1:O,y1:T,x2:S,y2:E});return M.createElement(gt,{className:je("recharts-reference-line",s)},lue(a,k),rn.renderCallByParent(t,xle({x1:O,y1:T,x2:S,y2:E})))}var Xw=function(t){function e(){return Yle(this,e),Jle(this,e,arguments)}return tue(e,t),Qle(e,[{key:"render",value:function(){return M.createElement(cue,this.props)}}])}(M.Component);Kw(Xw,"displayName","ReferenceLine");Kw(Xw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HR(r.key),r)}}function hue(t,e,n){return e&&KP(t.prototype,e),n&&KP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function due(t,e,n){return e=ep(e),pue(t,GR()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function pue(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mue(t)}function mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function gue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F0(t,e)}function Cm(t,e,n){return e=HR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HR(t){var e=yue(t,"string");return Ms(e)=="symbol"?e:e+""}function yue(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=zw({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return kr(e,"discard")&&!a.isInRange(s)?null:s},Nm=function(t){function e(){return fue(this,e),due(this,e,arguments)}return gue(e,t),hue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=At(i),h=At(o);if(ei(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=vue(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,_=m.className,w=kr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=qP(qP({clipPath:w},ke(this.props,!0)),{},{cx:d,cy:p});return M.createElement(gt,{className:je("recharts-reference-dot",_)},e.renderDot(g,b),rn.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);Cm(Nm,"displayName","ReferenceDot");Cm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Cm(Nm,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Te(t)?n=t(e):n=M.createElement(Uw,V0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KR(r.key),r)}}function _ue(t,e,n){return e&&QP(t.prototype,e),n&&QP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wue(t,e,n){return e=tp(e),xue(t,qR()?Reflect.construct(e,n||[],tp(t).constructor):e.apply(t,n))}function xue(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sue(t)}function Sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tp(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U0(t,e)}function jm(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){var e=Tue(t,"string");return Ds(e)=="symbol"?e:e+""}function Tue(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,h=o.xAxis,f=o.yAxis;if(!h||!f)return null;var d=zw({x:h.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return kr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:RR(p,m)},Rm=function(t){function e(){return bue(this,e),wue(this,e,arguments)}return Eue(e,t),_ue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,h=r.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=At(i),d=At(o),p=At(a),m=At(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var _=Aue(f,d,p,m,this.props);if(!_&&!g)return null;var w=kr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return M.createElement(gt,{className:je("recharts-reference-area",l)},e.renderRect(g,YP(YP({clipPath:w},ke(this.props,!0)),_)),rn.renderCallByParent(this.props,_))}}])}(M.Component);jm(Rm,"displayName","ReferenceArea");jm(Rm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jm(Rm,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Te(t)?n=t(e):n=M.createElement(Bw,B0({},e,{className:"recharts-reference-area-rect"})),n});function XR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Pue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ele(r,n)}function Iue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function np(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Oue(t,e){return XR(t,e+1)}function kue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,h=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:XR(r,u)};var g=l,_,w=function(){return _===void 0&&(_=n(m,g)),_},b=m.coordinate,x=l===0||np(t,b,w,h,s);x||(l=0,h=a,u+=1),x&&(h=b+t*(w()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return e=Nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t){var e=jue(t,"string");return wc(e)=="symbol"?e:e+""}function jue(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var _=t*(p.coordinate+t*g()/2-l);o[d]=p=Jt(Jt({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[d]=p=Jt(Jt({},p),{},{tickCoord:p.coordinate});var w=np(t,p.tickCoord,g,s,l);w&&(l=p.tickCoord-t*(g()/2+i),o[d]=Jt(Jt({},p),{},{isShow:!0}))},h=a-1;h>=0;h--)u(h);return o}function Mue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var h=r[s-1],f=n(h,s-1),d=t*(h.coordinate+t*f/2-u);a[s-1]=h=Jt(Jt({},h),{},{tickCoord:d>0?h.coordinate-d*t:h.coordinate});var p=np(t,h.tickCoord,function(){return f},l,u);p&&(u=h.tickCoord-t*(f/2+i),a[s-1]=Jt(Jt({},h),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(b){var x=a[b],O,T=function(){return O===void 0&&(O=n(x,b)),O};if(b===0){var P=t*(x.coordinate-t*T()/2-l);a[b]=x=Jt(Jt({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[b]=x=Jt(Jt({},x),{},{tickCoord:x.coordinate});var S=np(t,x.tickCoord,T,l,u);S&&(l=x.tickCoord+t*(T()/2+i),a[b]=Jt(Jt({},x),{},{isShow:!0}))},_=0;_<m;_++)g(_);return a}function Yw(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,h=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||ti.isSsr)return Oue(i,typeof l=="number"&&oe(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=h&&p==="width"?hu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,O){var T=Te(u)?u(x.value,O):x.value;return p==="width"?Pue(hu(T,{fontSize:e,letterSpacing:n}),m,f):hu(T,{fontSize:e,letterSpacing:n})[p]},_=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,w=Iue(o,_,p);return l==="equidistantPreserveStart"?kue(_,w,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=Mue(_,w,g,i,a,l==="preserveStartEnd"):d=Rue(_,w,g,i,a),d.filter(function(b){return b.isShow}))}var Due=["viewBox"],$ue=["viewBox"],Lue=["ticks"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){Qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uy(t,e){if(t==null)return{};var n=Vue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QR(r.key),r)}}function Bue(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,n){return e=rp(e),zue(t,YR()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function zue(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(t)}function Wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function Gue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function Qw(t,e,n){return e=QR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QR(t){var e=Hue(t,"string");return $s(e)=="symbol"?e:e+""}function Hue(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ll=function(t){function e(n){var r;return Fue(this,e),r=Uue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gue(e,t),Bue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=uy(r,Due),s=this.props,l=s.viewBox,u=uy(s,$ue);return!es(o,l)||!es(a,u)||!es(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,h=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,_,w,b,x=f?-1:1,O=r.tickSize||h,T=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,_=a+ +!f*l,g=_-x*O,b=g-x*d,w=T;break;case"left":g=_=r.coordinate,m=o+ +!f*s,p=m-x*O,w=p-x*d,b=T;break;case"right":g=_=r.coordinate,m=o+ +f*s,p=m+x*O,w=p+x*d,b=T;break;default:p=m=r.coordinate,_=a+ +f*l,g=_+x*O,b=g+x*d,w=T;break}return{line:{x1:p,y1:g,x2:m,y2:_},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,h=r.axisLine,f=wt(wt(wt({},ke(this.props,!1)),ke(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=wt(wt({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=wt(wt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",Ua({},f,{className:je("recharts-cartesian-axis-line",Xn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,h=s.tick,f=s.tickFormatter,d=s.unit,p=Yw(wt(wt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),_=ke(this.props,!1),w=ke(h,!1),b=wt(wt({},_),{},{fill:"none"},ke(l,!1)),x=p.map(function(O,T){var P=a.getTickLineCoord(O),S=P.line,E=P.tick,I=wt(wt(wt(wt({textAnchor:m,verticalAnchor:g},_),{},{stroke:"none",fill:u},w),E),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(gt,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},fd(a.props,O,T)),l&&M.createElement("line",Ua({},b,S,{className:je("recharts-cartesian-axis-tick-line",Xn(l,"className"))})),h&&e.renderTickItem(h,I,"".concat(Te(f)?f(O.value,T):O.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var f=this.props,d=f.ticks,p=uy(f,Lue),m=d;return Te(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:M.createElement(gt,{className:je("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=je(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,wt(wt({},i),{},{className:s})):Te(r)?a=r(wt(wt({},i),{},{className:s})):a=M.createElement(Td,Ua({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}($.Component);Qw(ll,"displayName","CartesianAxis");Qw(ll,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var que=["x1","y1","x2","y2","key"],Kue=["offset"];function oa(t){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return e=Yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Que(t,"string");return oa(e)=="symbol"?e:e+""}function Que(t,e){if(oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}function nI(t,e){if(t==null)return{};var n=Jue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JR(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Te(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=nI(e,que),u=ke(l,!1);u.offset;var h=nI(u,Kue);n=M.createElement("line",$o({},h,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ece(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=on(on({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return JR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=on(on({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return JR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var h=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==h[0]&&h.unshift(0);var f=h.map(function(d,p){var m=!h[p+1],g=m?i+a-d:h[p+1]-d;if(g<=0)return null;var _=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==h[0]&&h.unshift(0);var f=h.map(function(d,p){var m=!h[p+1],g=m?o+s-d:h[p+1]-d;if(g<=0)return null;var _=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ice=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return lR(Yw(on(on(on({},ll.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},oce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return lR(Yw(on(on(on({},ll.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Sa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZR(t){var e,n,r,i,o,a,s=Hw(),l=qw(),u=Xle(),h=on(on({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Sa.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Sa.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=h.x,d=h.y,p=h.width,m=h.height,g=h.syncWithTicks,_=h.horizontalValues,w=h.verticalValues,b=Hle(),x=qle();if(!oe(p)||p<=0||!oe(m)||m<=0||!oe(f)||f!==+f||!oe(d)||d!==+d)return null;var O=h.verticalCoordinatesGenerator||ice,T=h.horizontalCoordinatesGenerator||oce,P=h.horizontalPoints,S=h.verticalPoints;if((!P||!P.length)&&Te(T)){var E=_&&_.length,I=T({yAxis:x?on(on({},x),{},{ticks:E?_:x.ticks}):void 0,width:s,height:l,offset:u},E?!0:g);ei(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oa(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Te(O)){var k=w&&w.length,C=O({xAxis:b?on(on({},b),{},{ticks:k?w:b.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);ei(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oa(C),"]")),Array.isArray(C)&&(S=C)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Zue,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),M.createElement(ece,$o({},h,{offset:u,horizontalPoints:P,xAxis:b,yAxis:x})),M.createElement(tce,$o({},h,{offset:u,verticalPoints:S,xAxis:b,yAxis:x})),M.createElement(nce,$o({},h,{horizontalPoints:P})),M.createElement(rce,$o({},h,{verticalPoints:S})))}ZR.displayName="CartesianGrid";var ace=["type","layout","connectNulls","ref"],sce=["key"];function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function rI(t,e){if(t==null)return{};var n=lce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ea(t){return hce(t)||fce(t)||cce(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W0(t,e)}}function fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return W0(t)}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tM(r.key),r)}}function pce(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mce(t,e,n){return e=ip(e),gce(t,eM()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function gce(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yce(t)}function yce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function ur(t,e,n){return e=tM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tM(t){var e=bce(t,"string");return Ls(e)=="symbol"?e:e+""}function bce(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qc=function(t){function e(){var n;dce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mce(this,e,[].concat(i)),ur(n,"state",{isAnimationFinished:!0,totalLength:0}),ur(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ur(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,b){return w+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var h=Math.floor(a/u),f=a%u,d=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ea(l.slice(0,m)),[f-g]);break}var _=p.length%2===0?[0,d]:[d];return[].concat(Ea(e.repeat(l,h)),Ea(p),_).map(function(w){return"".concat(w,"px")}).join(", ")}),ur(n,"id",zc("recharts-line-")),ur(n,"pathRef",function(a){n.mainCurve=a}),ur(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ur(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return vce(e,t),pce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,h=o.children,f=Yn(h,Xc);if(!f)return null;var d=function(g,_){return{x:g.x,y:g.y,value:g.value,errorVal:$n(g.payload,_)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(gt,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,h=s.dataKey,f=ke(this.props,!1),d=ke(l,!0),p=u.map(function(g,_){var w=In(In(In({key:"dot-".concat(_),r:3},f),d),{},{index:_,cx:g.x,cy:g.y,value:g.value,dataKey:h,payload:g.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(gt,gu({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,h=s.connectNulls;s.ref;var f=rI(s,ace),d=In(In(In({},ke(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:h});return M.createElement(x0,gu({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,h=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,_=a.height,w=this.state,b=w.prevPoints,x=w.totalLength;return M.createElement(ks,{begin:h,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(b){var P=b.length/s.length,S=s.map(function(j,N){var W=Math.floor(N*P);if(b[W]){var U=b[W],q=fr(U.x,j.x),K=fr(U.y,j.y);return In(In({},j),{},{x:q(T),y:K(T)})}if(m){var D=fr(g*2,j.x),G=fr(_/2,j.y);return In(In({},j),{},{x:D(T),y:G(T)})}return In(In({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(S,r,i)}var E=fr(0,x),I=E(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=o.getStrokeDasharray(I,x,C)}else k=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,h=l.totalLength;return s&&a&&a.length&&(!u&&h>0||!Em(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,h=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,_=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=s.length===1,x=je("recharts-line",l),O=u&&u.allowDataOverflow,T=h&&h.allowDataOverflow,P=O||T,S=Ae(_)?this.id:_,E=(r=ke(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=E.r,k=I===void 0?3:I,C=E.strokeWidth,j=C===void 0?2:C,N=Vz(a)?a:{},W=N.clipDot,U=W===void 0?!0:W,q=k*2+j;return M.createElement(gt,{className:x},O||T?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:O?d:d-p/2,y:T?f:f-m/2,width:O?p:p*2,height:T?m:m*2})),!U&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:d-q/2,y:f-q/2,width:p+q,height:m+q}))):null,!b&&this.renderCurve(P,S),this.renderErrorBar(P,S),(b||a)&&this.renderDots(P,U,S),(!g||w)&&Zi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ea(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ea(a),Ea(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(Te(r))o=r(i);else{var a=i.key,s=rI(i,sce),l=je("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(Uw,gu({key:a},s,{className:l}))}return o}}])}($.PureComponent);ur(Qc,"displayName","Line");ur(Qc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ur(Qc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,h=e.layout,f=l.map(function(d,p){var m=$n(d,a);return h==="horizontal"?{x:MA({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Ae(m)?null:r.scale(m),value:m,payload:d}:{x:Ae(m)?null:n.scale(m),y:MA({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return In({points:f,layout:h},u)});function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function _ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iM(r.key),r)}}function wce(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xce(t,e,n){return e=op(e),Sce(t,nM()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function Sce(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Tce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H0(t,e)}function rM(t,e,n){return e=iM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iM(t){var e=Ace(t,"string");return Vs(e)=="symbol"?e:e+""}function Ace(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Pce(t){var e=t.xAxisId,n=Hw(),r=qw(),i=BR(e);return i==null?null:$.createElement(ll,q0({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Yr(a,!0)}}))}var Mm=function(t){function e(){return _ce(this,e),xce(this,e,arguments)}return Tce(e,t),wce(e,[{key:"render",value:function(){return $.createElement(Pce,this.props)}}])}($.Component);rM(Mm,"displayName","XAxis");rM(Mm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sM(r.key),r)}}function Oce(t,e,n){return e&&sI(t.prototype,e),n&&sI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,n){return e=ap(e),Cce(t,oM()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function Cce(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nce(t)}function Nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function aM(t,e,n){return e=sM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sM(t){var e=Rce(t,"string");return Fs(e)=="symbol"?e:e+""}function Rce(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var Mce=function(e){var n=e.yAxisId,r=Hw(),i=qw(),o=UR(n);return o==null?null:$.createElement(ll,X0({},o,{className:je("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Yr(s,!0)}}))},Dm=function(t){function e(){return Ice(this,e),kce(this,e,arguments)}return jce(e,t),Oce(e,[{key:"render",value:function(){return $.createElement(Mce,this.props)}}])}($.Component);aM(Dm,"displayName","YAxis");aM(Dm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lI(t){return Vce(t)||Lce(t)||$ce(t)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function Lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vce(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q0=function(e,n,r,i,o){var a=Yn(e,Xw),s=Yn(e,Nm),l=[].concat(lI(a),lI(s)),u=Yn(e,Rm),h="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,_){if(_.props[h]===r&&kr(_.props,"extendDomain")&&oe(_.props[f])){var w=_.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,_){if(_.props[h]===r&&kr(_.props,"extendDomain")&&oe(_.props[p])&&oe(_.props[m])){var w=_.props[p],b=_.props[m];return[Math.min(g[0],w,b),Math.max(g[1],w,b)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,_){return oe(_)?[Math.min(g[0],_),Math.max(g[1],_)]:g},d)),d},lM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function o(l,u,h,f,d){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new i(h,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},s.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,h,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var _=this._events[g],w=arguments.length,b,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,f),!0;case 4:return _.fn.call(_.context,h,f,d),!0;case 5:return _.fn.call(_.context,h,f,d,p),!0;case 6:return _.fn.call(_.context,h,f,d,p,m),!0}for(x=1,b=new Array(w-1);x<w;x++)b[x-1]=arguments[x];_.fn.apply(_.context,b)}else{var O=_.length,T;for(x=0;x<O;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),w){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,h);break;case 3:_[x].fn.call(_[x].context,h,f);break;case 4:_[x].fn.call(_[x].context,h,f,d);break;default:if(!b)for(T=1,b=new Array(w-1);T<w;T++)b[T-1]=arguments[T];_[x].fn.apply(_[x].context,b)}}return!0},s.prototype.on=function(u,h,f){return o(this,u,h,f,!1)},s.prototype.once=function(u,h,f){return o(this,u,h,f,!0)},s.prototype.removeListener=function(u,h,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!h)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===h&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,_=[],w=m.length;g<w;g++)(m[g].fn!==h||d&&!m[g].once||f&&m[g].context!==f)&&_.push(m[g]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(lM);var Fce=lM.exports;const Bce=We(Fce);var cy=new Bce,fy="recharts.syncMouseEvents";function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function zce(t,e,n){return e&&uI(t.prototype,e),n&&uI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hy(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Wce(t,"string");return xc(e)=="symbol"?e:e+""}function Wce(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gce=function(){function t(){Uce(this,t),hy(this,"activeIndex",0),hy(this,"coordinateList",[]),hy(this,"layout","horizontal")}return zce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,h=n.offset,f=h===void 0?null:h,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Hce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function qce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ft(e,n,r,i),s=Ft(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Kce(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,h=e.outerRadius,f=e.angle,d=Ft(s,l,u,f),p=Ft(s,l,h,f);r=d.x,i=d.y,o=p.x,a=p.y}else return cM(e);return[{x:r,y:i},{x:o,y:a}]}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=Qce(t,"string");return Sc(e)=="symbol"?e:e+""}function Qce(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,h=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=x0;if(d==="ScatterChart")m=a,g=rae;else if(d==="BarChart")m=qce(f,a,l,h),g=Bw;else if(f==="radial"){var _=cM(a),w=_.cx,b=_.cy,x=_.radius,O=_.startAngle,T=_.endAngle;m={cx:w,cy:b,startAngle:O,endAngle:T,innerRadius:x,outerRadius:x},g=dR}else m={points:Kce(f,a,l)},g=x0;var P=Jf(Jf(Jf(Jf({stroke:"#ccc",pointerEvents:"none"},l),m),ke(p,!1)),{},{payload:s,payloadIndex:u,className:je("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,P):$.createElement(g,P)}var Zce=["item"],efe=["children","className","width","height","style","compact","title","desc"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}function fI(t,e){return rfe(t)||nfe(t,e)||hM(t,e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rfe(t){if(Array.isArray(t))return t}function hI(t,e){if(t==null)return{};var n=ife(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dM(r.key),r)}}function afe(t,e,n){return e&&dI(t.prototype,e),n&&dI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sfe(t,e,n){return e=sp(e),lfe(t,fM()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function lfe(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ufe(t)}function ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function cfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function Us(t){return dfe(t)||hfe(t)||hM(t)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(t,e){if(t){if(typeof t=="string")return Z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z0(t,e)}}function hfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dfe(t){if(Array.isArray(t))return Z0(t)}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ge(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t){var e=pfe(t,"string");return Bs(e)=="symbol"?e:e+""}function pfe(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mfe={xAxis:["bottom","top"],yAxis:["left","right"]},gfe={width:"100%",height:"100%"},pM={x:0,y:0};function Zf(t){return t}var yfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},vfe=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),Ft(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Ft(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return pM},$m=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Us(s),Us(u)):s},[]);return a.length>0?a:e&&e.length&&oe(i)&&oe(o)?e.slice(i,o+1):[]};function mM(t){return t==="number"?[0,"auto"]:void 0}var eb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=$m(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=ud(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Us(l),[cR(u,d)]):l},[])},mI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=yfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,h=Fne(a,s,u,l);if(h>=0&&u){var f=u[h]&&u[h].value,d=eb(e,n,h,f),p=vfe(r,s,h,o);return{activeTooltipIndex:h,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},bfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,f=e.children,d=e.stackOffset,p=sR(h,o);return r.reduce(function(m,g){var _,w=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,b=w.type,x=w.dataKey,O=w.allowDataOverflow,T=w.allowDuplicatedCategory,P=w.scale,S=w.ticks,E=w.includeHidden,I=w[a];if(m[I])return m;var k=$m(e.data,{graphicalItems:i.filter(function(z){var Y,ae=a in z.props?z.props[a]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[a];return ae===I}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,W;Hce(w.domain,O,b)&&(j=y0(w.domain,null,O),p&&(b==="number"||P!=="auto")&&(W=pu(k,x,"category")));var U=mM(b);if(!j||j.length===0){var q,K=(q=w.domain)!==null&&q!==void 0?q:U;if(x){if(j=pu(k,x,b),b==="category"&&p){var D=Oz(j);T&&D?(N=j,j=Kd(0,C)):T||(j=VA(K,j,g).reduce(function(z,Y){return z.indexOf(Y)>=0?z:[].concat(Us(z),[Y])},[]))}else if(b==="category")T?j=j.filter(function(z){return z!==""&&!Ae(z)}):j=VA(K,j,g).reduce(function(z,Y){return z.indexOf(Y)>=0||Y===""||Ae(Y)?z:[].concat(Us(z),[Y])},[]);else if(b==="number"){var G=Gne(k,i.filter(function(z){var Y,ae,ce=a in z.props?z.props[a]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[a],he="hide"in z.props?z.props.hide:(ae=z.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ce===I&&(E||!he)}),x,o,h);G&&(j=G)}p&&(b==="number"||P!=="auto")&&(W=pu(k,x,"category"))}else p?j=Kd(0,C):s&&s[I]&&s[I].hasStack&&b==="number"?j=d==="expand"?[0,1]:uR(s[I].stackGroups,l,u):j=aR(k,i.filter(function(z){var Y=a in z.props?z.props[a]:z.type.defaultProps[a],ae="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Y===I&&(E||!ae)}),b,h,!0);if(b==="number")j=Q0(f,j,I,o,S),K&&(j=y0(K,j,O));else if(b==="category"&&K){var Q=K,ne=j.every(function(z){return Q.indexOf(z)>=0});ne&&(j=Q)}}return H(H({},m),{},ge({},I,H(H({},w),{},{axisType:o,domain:j,categoricalDomain:W,duplicateDomain:N,originalDomain:(_=w.domain)!==null&&_!==void 0?_:U,isCategorical:p,layout:h})))},{})},_fe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,f=e.children,d=$m(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=sR(h,o),g=-1;return r.reduce(function(_,w){var b=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,x=b[a],O=mM("number");if(!_[x]){g++;var T;return m?T=Kd(0,p):s&&s[x]&&s[x].hasStack?(T=uR(s[x].stackGroups,l,u),T=Q0(f,T,x,o)):(T=y0(O,aR(d,r.filter(function(P){var S,E,I=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],k="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===x&&!k}),"number",h),i.defaultProps.allowDataOverflow),T=Q0(f,T,x,o)),H(H({},_),{},ge({},x,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xn(mfe,"".concat(o,".").concat(g%2),null),domain:T,originalDomain:O,isCategorical:m,layout:h})))}return _},{})},wfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.children,f="".concat(i,"Id"),d=Yn(h,o),p={};return d&&d.length?p=bfe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=_fe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},xfe=function(e){var n=Mi(e),r=Yr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vd(n,r)}},gI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Cn(n,Ns),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Sfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zr(n&&n.type);return r&&r.indexOf("Bar")>=0})},yI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Efe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,h=r.height,f=r.children,d=r.margin||{},p=Cn(f,Ns),m=Cn(f,Uo),g=Object.keys(l).reduce(function(T,P){var S=l[P],E=S.orientation;return!S.mirror&&!S.hide?H(H({},T),{},ge({},E,T[E]+S.width)):T},{left:d.left||0,right:d.right||0}),_=Object.keys(a).reduce(function(T,P){var S=a[P],E=S.orientation;return!S.mirror&&!S.hide?H(H({},T),{},ge({},E,Xn(T,"".concat(E))+S.height)):T},{top:d.top||0,bottom:d.bottom||0}),w=H(H({},_),g),b=w.bottom;p&&(w.bottom+=p.props.height||Ns.defaultProps.height),m&&n&&(w=zne(w,i,r,n));var x=u-w.left-w.right,O=h-w.top-w.bottom;return H(H({brushBottom:b},w),{},{width:Math.max(x,0),height:Math.max(O,0)})},Tfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Afe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,h=e.formatAxisMap,f=e.defaultProps,d=function(w,b){var x=b.graphicalItems,O=b.stackGroups,T=b.offset,P=b.updateId,S=b.dataStartIndex,E=b.dataEndIndex,I=w.barSize,k=w.layout,C=w.barGap,j=w.barCategoryGap,N=w.maxBarSize,W=yI(k),U=W.numericAxisName,q=W.cateAxisName,K=Sfe(x),D=[];return x.forEach(function(G,Q){var ne=$m(w.data,{graphicalItems:[G],dataStartIndex:S,dataEndIndex:E}),z=G.type.defaultProps!==void 0?H(H({},G.type.defaultProps),G.props):G.props,Y=z.dataKey,ae=z.maxBarSize,ce=z["".concat(U,"Id")],he=z["".concat(q,"Id")],ve={},Ke=l.reduce(function(Ge,Ot){var _i=b["".concat(Ot.axisType,"Map")],pa=z["".concat(Ot.axisType,"Id")];_i&&_i[pa]||Ot.axisType==="zAxis"||ia(!1);var ma=_i[pa];return H(H({},Ge),{},ge(ge({},Ot.axisType,ma),"".concat(Ot.axisType,"Ticks"),Yr(ma)))},ve),re=Ke[q],X=Ke["".concat(q,"Ticks")],te=O&&O[ce]&&O[ce].hasStack&&rre(G,O[ce].stackGroups),F=Zr(G.type).indexOf("Bar")>=0,me=Vd(re,X),ye=[],Ee=K&&Bne({barSize:I,stackGroups:O,totalSize:Tfe(Ke,q)});if(F){var we,at,V=Ae(ae)?N:ae,se=(we=(at=Vd(re,X,!0))!==null&&at!==void 0?at:V)!==null&&we!==void 0?we:0;ye=Une({barGap:C,barCategoryGap:j,bandSize:se!==me?se:me,sizeList:Ee[he],maxBarSize:V}),se!==me&&(ye=ye.map(function(Ge){return H(H({},Ge),{},{position:H(H({},Ge.position),{},{offset:Ge.position.offset-se/2})})}))}var Xe=G&&G.type&&G.type.getComposedData;Xe&&D.push({props:H(H({},Xe(H(H({},Ke),{},{displayedData:ne,props:w,dataKey:Y,item:G,bandSize:me,barPosition:ye,offset:T,stackedData:te,layout:k,dataStartIndex:S,dataEndIndex:E}))),{},ge(ge(ge({key:G.key||"item-".concat(Q)},U,Ke[U]),q,Ke[q]),"animationId",P)),childIndex:Uz(G,w.children),item:G})}),D},p=function(w,b){var x=w.props,O=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;if(!IE({props:x}))return null;var S=x.children,E=x.layout,I=x.stackOffset,k=x.data,C=x.reverseStackOrder,j=yI(E),N=j.numericAxisName,W=j.cateAxisName,U=Yn(S,r),q=ere(k,U,"".concat(N,"Id"),"".concat(W,"Id"),I,C),K=l.reduce(function(z,Y){var ae="".concat(Y.axisType,"Map");return H(H({},z),{},ge({},ae,wfe(x,H(H({},Y),{},{graphicalItems:U,stackGroups:Y.axisType===N&&q,dataStartIndex:O,dataEndIndex:T}))))},{}),D=Efe(H(H({},K),{},{props:x,graphicalItems:U}),b==null?void 0:b.legendBBox);Object.keys(K).forEach(function(z){K[z]=h(x,K[z],D,z.replace("Map",""),n)});var G=K["".concat(W,"Map")],Q=xfe(G),ne=d(x,H(H({},K),{},{dataStartIndex:O,dataEndIndex:T,updateId:P,graphicalItems:U,stackGroups:q,offset:D}));return H(H({formattedGraphicalItems:ne,graphicalItems:U,offset:D,stackGroups:q},Q),K)},m=function(_){function w(b){var x,O,T;return ofe(this,w),T=sfe(this,w,[b]),ge(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(T,"accessibilityManager",new Gce),ge(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,E=S.dataStartIndex,I=S.dataEndIndex,k=S.updateId;T.setState(H({legendBBox:P},p({props:T.props,dataStartIndex:E,dataEndIndex:I,updateId:k},H(H({},T.state),{},{legendBBox:P}))))}}),ge(T,"handleReceiveSyncEvent",function(P,S,E){if(T.props.syncId===P){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),ge(T,"handleBrushChange",function(P){var S=P.startIndex,E=P.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return H({dataStartIndex:S,dataEndIndex:E},p({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),ge(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var E=H(H({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseEnter;Te(I)&&I(E,P)}}),ge(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),E=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseMove;Te(I)&&I(E,P)}),ge(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ge(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ge(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),ge(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;Te(E)&&E(S,P)}),ge(T,"handleOuterEvent",function(P){var S=Bz(P),E=Xn(T.props,"".concat(S));if(S&&Te(E)){var I,k;/.*touch.*/i.test(S)?k=T.getMouseInfo(P.changedTouches[0]):k=T.getMouseInfo(P),E((I=k)!==null&&I!==void 0?I:{},P)}}),ge(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var E=H(H({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onClick;Te(I)&&I(E,P)}}),ge(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(Te(S)){var E=T.getMouseInfo(P);S(E,P)}}),ge(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(Te(S)){var E=T.getMouseInfo(P);S(E,P)}}),ge(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ge(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),ge(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),ge(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(Te(S)){var E=T.getMouseInfo(P);S(E,P)}}),ge(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(Te(S)){var E=T.getMouseInfo(P);S(E,P)}}),ge(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&cy.emit(fy,T.props.syncId,P,T.eventEmitterSymbol)}),ge(T,"applySyncEvent",function(P){var S=T.props,E=S.layout,I=S.syncMethod,k=T.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(H({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:k},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,W=P.chartY,U=P.activeTooltipIndex,q=T.state,K=q.offset,D=q.tooltipTicks;if(!K)return;if(typeof I=="function")U=I(D,P);else if(I==="value"){U=-1;for(var G=0;G<D.length;G++)if(D[G].value===P.activeLabel){U=G;break}}var Q=H(H({},K),{},{x:K.left,y:K.top}),ne=Math.min(N,Q.x+Q.width),z=Math.min(W,Q.y+Q.height),Y=D[U]&&D[U].value,ae=eb(T.state,T.props.data,U),ce=D[U]?{x:E==="horizontal"?D[U].coordinate:ne,y:E==="horizontal"?z:D[U].coordinate}:pM;T.setState(H(H({},P),{},{activeLabel:Y,activeCoordinate:ce,activePayload:ae,activeTooltipIndex:U}))}else T.setState(P)}),ge(T,"renderCursor",function(P){var S,E=T.state,I=E.isTooltipActive,k=E.activeCoordinate,C=E.activePayload,j=E.offset,N=E.activeTooltipIndex,W=E.tooltipAxisBandSize,U=T.getTooltipEventType(),q=(S=P.props.active)!==null&&S!==void 0?S:I,K=T.props.layout,D=P.key||"_recharts-cursor";return M.createElement(Jce,{key:D,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:q,layout:K,offset:j,tooltipAxisBandSize:W,tooltipEventType:U})}),ge(T,"renderPolarAxis",function(P,S,E){var I=Xn(P,"type.axisType"),k=Xn(T.state,"".concat(I,"Map")),C=P.type.defaultProps,j=C!==void 0?H(H({},C),P.props):P.props,N=k&&k[j["".concat(I,"Id")]];return $.cloneElement(P,H(H({},N),{},{className:je(I,N.className),key:P.key||"".concat(S,"-").concat(E),ticks:Yr(N,!0)}))}),ge(T,"renderPolarGrid",function(P){var S=P.props,E=S.radialLines,I=S.polarAngles,k=S.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,W=Mi(j),U=Mi(N),q=U.cx,K=U.cy,D=U.innerRadius,G=U.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:Yr(U,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(k)?k:Yr(W,!0).map(function(Q){return Q.coordinate}),cx:q,cy:K,innerRadius:D,outerRadius:G,key:P.key||"polar-grid",radialLines:E})}),ge(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,E=S.children,I=S.width,k=S.height,C=T.props.margin||{},j=I-(C.left||0)-(C.right||0),N=iR({children:E,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!N)return null;var W=N.item,U=hI(N,Zce);return $.cloneElement(W,H(H({},U),{},{chartWidth:I,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ge(T,"renderTooltip",function(){var P,S=T.props,E=S.children,I=S.accessibilityLayer,k=Cn(E,wr);if(!k)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,W=C.activePayload,U=C.activeLabel,q=C.offset,K=(P=k.props.active)!==null&&P!==void 0?P:j;return $.cloneElement(k,{viewBox:H(H({},q),{},{x:q.left,y:q.top}),active:K,label:U,payload:K?W:[],coordinate:N,accessibilityLayer:I})}),ge(T,"renderBrush",function(P){var S=T.props,E=S.margin,I=S.data,k=T.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,W=k.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Kf(T.handleBrushChange,P.props.onChange),data:I,x:oe(P.props.x)?P.props.x:C.left,y:oe(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:oe(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(W)})}),ge(T,"renderReferenceElement",function(P,S,E){if(!P)return null;var I=T,k=I.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,W=C.offset,U=P.type.defaultProps||{},q=P.props,K=q.xAxisId,D=K===void 0?U.xAxisId:K,G=q.yAxisId,Q=G===void 0?U.yAxisId:G;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(E),xAxis:j[D],yAxis:N[Q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:k})}),ge(T,"renderActivePoints",function(P){var S=P.item,E=P.activePoint,I=P.basePoint,k=P.childIndex,C=P.isRange,j=[],N=S.props.key,W=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,U=W.activeDot,q=W.dataKey,K=H(H({index:k,dataKey:q,cx:E.x,cy:E.y,r:4,fill:Fw(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ke(U,!1)),cd(U));return j.push(w.renderActiveDot(U,K,"".concat(N,"-activePoint-").concat(k))),I?j.push(w.renderActiveDot(U,H(H({},K),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),ge(T,"renderGraphicChild",function(P,S,E){var I=T.filterFormatItem(P,S,E);if(!I)return null;var k=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,W=C.activeTooltipIndex,U=C.activeLabel,q=T.props.children,K=Cn(q,wr),D=I.props,G=D.points,Q=D.isRange,ne=D.baseLine,z=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,Y=z.activeDot,ae=z.hide,ce=z.activeBar,he=z.activeShape,ve=!!(!ae&&j&&K&&(Y||ce||he)),Ke={};k!=="axis"&&K&&K.props.trigger==="click"?Ke={onClick:Kf(T.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(Ke={onMouseLeave:Kf(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Kf(T.handleItemMouseEnter,P.props.onMouseEnter)});var re=$.cloneElement(P,H(H({},I.props),Ke));function X(Ot){return typeof N.dataKey=="function"?N.dataKey(Ot.payload):null}if(ve)if(W>=0){var te,F;if(N.dataKey&&!N.allowDuplicatedCategory){var me=typeof N.dataKey=="function"?X:"payload.".concat(N.dataKey.toString());te=ud(G,me,U),F=Q&&ne&&ud(ne,me,U)}else te=G==null?void 0:G[W],F=Q&&ne&&ne[W];if(he||ce){var ye=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[$.cloneElement(P,H(H(H({},I.props),Ke),{},{activeIndex:ye})),null,null]}if(!Ae(te))return[re].concat(Us(T.renderActivePoints({item:I,activePoint:te,basePoint:F,childIndex:W,isRange:Q})))}else{var Ee,we=(Ee=T.getItemByXY(T.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:re},at=we.graphicalItem,V=at.item,se=V===void 0?P:V,Xe=at.childIndex,Ge=H(H(H({},I.props),Ke),{},{activeIndex:Xe});return[$.cloneElement(se,Ge),null,null]}return Q?[re,null,null]:[re,null]}),ge(T,"renderCustomized",function(P,S,E){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(E)},T.props),T.state))}),ge(T,"renderMap",{CartesianGrid:{handler:Zf,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Zf},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Zf},YAxis:{handler:Zf},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:zc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=rj(T.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return cfe(w,_),afe(w,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,T=x.data,P=x.height,S=x.layout,E=Cn(O,wr);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=eb(this.state,T,I,k),j=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,W=S==="horizontal",U=W?{x:j,y:N}:{y:j,x:N},q=this.state.formattedGraphicalItems.find(function(D){var G=D.item;return G.type.name==="Scatter"});q&&(U=H(H({},U),q.props.points[I].tooltipPosition),C=q.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:U};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){Nv([Cn(x.children,wr)],[Cn(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Cn(this.props.children,wr);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),P=hJ(T),S={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},E=T.width/O.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,E);if(!I)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),W=mI(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&C&&j){var U=Mi(C).scale,q=Mi(j).scale,K=U&&U.invert?U.invert(S.chartX):null,D=q&&q.invert?q.invert(S.chartY):null;return H(H({},S),{},{xValue:K,yValue:D},W)}return W?H(H({},S),W):null}},{key:"inRange",value:function(x,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=x/T,E=O/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,k=S>=I.left&&S<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return k?{x:S,y:E}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var W=Mi(j);return UA({x:S,y:E},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),T=Cn(x,wr),P={};T&&O==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=cd(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){cy.on(fy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cy.removeListener(fy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,T){for(var P=this.state.formattedGraphicalItems,S=0,E=P.length;S<E;S++){var I=P[S];if(I.item===x||I.props.key===x.key||O===Zr(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,T=O.left,P=O.top,S=O.height,E=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:x},M.createElement("rect",{x:T,y:P,height:S,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,T){var P=fI(T,2),S=P[0],E=P[1];return H(H({},O),{},ge({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,T){var P=fI(T,2),S=P[0],E=P[1];return H(H({},O),{},ge({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,T=O.formattedGraphicalItems,P=O.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var I=T[S],k=I.props,C=I.item,j=C.type.defaultProps!==void 0?H(H({},C.type.defaultProps),C.props):C.props,N=Zr(C.type);if(N==="Bar"){var W=(k.data||[]).find(function(D){return qoe(x,D)});if(W)return{graphicalItem:I,payload:W}}else if(N==="RadialBar"){var U=(k.data||[]).find(function(D){return UA(x,D)});if(U)return{graphicalItem:I,payload:U}}else if(Im(I,P)||Om(I,P)||yc(I,P)){var q=Yae({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),K=j.activeIndex===void 0?q:j.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:K}),payload:yc(I,P)?j.data[q]:I.props.data[q]}}}return null}},{key:"render",value:function(){var x=this;if(!IE(this))return null;var O=this.props,T=O.children,P=O.className,S=O.width,E=O.height,I=O.style,k=O.compact,C=O.title,j=O.desc,N=hI(O,efe),W=ke(N,!1);if(k)return M.createElement(BP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Rv,za({},W,{width:S,height:E,title:C,desc:j}),this.renderClipPath(),kE(T,this.renderMap)));if(this.props.accessibilityLayer){var U,q;W.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,W.role=(q=this.props.role)!==null&&q!==void 0?q:"application",W.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},W.onFocus=function(){x.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return M.createElement(BP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",za({className:je("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:E},I)},K,{ref:function(G){x.container=G}}),M.createElement(Rv,za({},W,{width:S,height:E,title:C,desc:j,style:gfe}),this.renderClipPath(),kE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ge(m,"displayName",n),ge(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ge(m,"getDerivedStateFromProps",function(_,w){var b=_.dataKey,x=_.data,O=_.children,T=_.width,P=_.height,S=_.layout,E=_.stackOffset,I=_.margin,k=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var j=gI(_);return H(H(H({},j),{},{updateId:0},p(H(H({props:_},j),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(b!==w.prevDataKey||x!==w.prevData||T!==w.prevWidth||P!==w.prevHeight||S!==w.prevLayout||E!==w.prevStackOffset||!es(I,w.prevMargin)){var N=gI(_),W={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=H(H({},mI(w,x,S)),{},{updateId:w.updateId+1}),q=H(H(H({},N),W),U);return H(H(H({},q),p(H({props:_},q),w)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(!Nv(O,w.prevChildren)){var K,D,G,Q,ne=Cn(O,Ns),z=ne&&(K=(D=ne.props)===null||D===void 0?void 0:D.startIndex)!==null&&K!==void 0?K:k,Y=ne&&(G=(Q=ne.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&G!==void 0?G:C,ae=z!==k||Y!==C,ce=!Ae(x),he=ce&&!ae?w.updateId:w.updateId+1;return H(H({updateId:he},p(H(H({props:_},w),{},{updateId:he,dataStartIndex:z,dataEndIndex:Y}),w)),{},{prevChildren:O,dataStartIndex:z,dataEndIndex:Y})}return null}),ge(m,"renderActiveDot",function(_,w,b){var x;return $.isValidElement(_)?x=$.cloneElement(_,w):Te(_)?x=_(w):x=M.createElement(Uw,w),M.createElement(gt,{className:"recharts-active-dot",key:b},x)});var g=$.forwardRef(function(w,b){return M.createElement(m,za({},w,{ref:b}))});return g.displayName=m.displayName,g},Pfe=Afe({chartName:"LineChart",GraphicalChild:Qc,axisComponents:[{axisType:"xAxis",AxisComp:Mm},{axisType:"yAxis",AxisComp:Dm}],formatAxisMap:wle});const Ife=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),Ofe=({className:t=""})=>v.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[v.jsx("circle",{cx:"12",cy:"12",r:"3"}),v.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),kfe=({className:t=""})=>v.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[v.jsx("circle",{cx:"12",cy:"8",r:"4"}),v.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),gM=({className:t=""})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),Cfe=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[v.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),v.jsx("polyline",{points:"16 6 12 2 8 6"}),v.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Nfe=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[v.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),v.jsx("polyline",{points:"16 17 21 12 16 7"}),v.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),jfe=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),v.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),v.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),v.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),v.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),v.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),v.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),v.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Rfe=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Mfe=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[v.jsx("path",{d:"M3 3v18h18"}),v.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Dfe=({className:t=""})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:v.jsx("polyline",{points:"9 18 15 12 9 6"})}),lp=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),$fe=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Lfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),v.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:v.jsx($fe,{})})]}),v.jsx("div",{style:{width:"100%",height:300},children:v.jsx(oJ,{children:v.jsxs(Pfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[v.jsx(ZR,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(Mm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),v.jsx(Dm,{stroke:"#6b7280"}),v.jsx(wr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return v.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&v.jsxs("div",{children:[v.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),v.jsxs("div",{children:[v.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),v.jsx(Uo,{wrapperStyle:{color:"#e2e8f0"}}),v.jsx(Qc,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const Vfe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},Ffe=t=>{const e=[];return Object.values(Vfe).forEach(n=>{n.check(t)&&e.push(n)}),e},Bfe=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return v.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[v.jsx("span",{children:t.emoji}),v.jsx("span",{className:"hidden sm:inline",children:t.name})]})},Ufe=({badges:t})=>t.length===0?null:v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:""}),v.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),v.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>v.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&v.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),zfe=({badges:t})=>t.length===0?v.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):v.jsxs("div",{className:"mt-3",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" Achievements"}),v.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>v.jsx(Bfe,{badge:e,size:"sm"},e.id))})]}),Wfe=({className:t=""})=>v.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Gfe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Hfe=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=$.useState(!1),[o,a]=$.useState(""),[s,l]=$.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),d={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(` iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
 Google Photos (shareable links)
 iCloud Shared Albums
 Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const p=[...e,d];n(t,p),a(""),l(""),i(!1)}catch(p){console.error("Error adding photo:",p),alert("Error adding photo. Please try again.")}},h=f=>{const d=e.filter(p=>p.id!==f);n(t,d)};return v.jsxs("div",{className:"mt-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:" Game Photos"}),v.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[v.jsx(Gfe,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&v.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[v.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),v.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),v.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),v.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",v.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",v.jsx("br",{})," ",v.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&v.jsx("div",{className:"space-y-2",children:e.map(f=>v.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[v.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:d=>{d.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&v.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:""})]}),v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),v.jsx("button",{onClick:()=>h(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:""})]},f.id))}),e.length===0&&!r&&v.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},qfe=({photos:t=[]})=>t.length===0?null:v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx(Wfe,{className:"w-3 h-3 text-gray-500"}),v.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),v.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>v.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&v.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),Kfe=Hfe,Xfe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function Yfe({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=$.useRef(null);$.useEffect(()=>{const f=d=>{o.current&&!o.current.contains(d.target)&&(d.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:f.date?f.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},h=(f,d)=>{const p={...e,[f]:d};n(p),setTimeout(()=>r&&r(),400)};return v.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&v.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[v.jsx(Xfe,{className:"w-3 h-3"}),"Clear"]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),v.jsxs("select",{value:e.searchTerm||"",onChange:f=>h("searchTerm",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[v.jsx("option",{value:"",children:"All opponents"}),a.map((f,d)=>v.jsx("option",{value:f,children:f},d))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),v.jsxs("select",{value:e.dateFilter||"",onChange:f=>h("dateFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[v.jsx("option",{value:"",children:"All dates"}),s.map((f,d)=>v.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},d))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),v.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>h("outcomeFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[v.jsx("option",{value:"",children:"All games"}),v.jsx("option",{value:"W",children:"Wins"}),v.jsx("option",{value:"L",children:"Losses"}),v.jsx("option",{value:"T",children:"Ties"})]})]}),l&&v.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&v.jsxs("span",{className:"block",children:[" Opponent: ",e.searchTerm]}),e.dateFilter&&v.jsxs("span",{className:"block",children:[" Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&v.jsxs("span",{className:"block",children:[" Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}const Qfe=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],eo=t=>!t||!t.email||t.isAnonymous?!1:Qfe.includes(t.email.toLowerCase()),Ul=t=>eo(t),up=t=>eo(t),Jfe=t=>eo(t),dy=t=>eo(t),Zfe=t=>!t||t.isAnonymous?"guest":eo(t)?"admin":"viewer",yn=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},ehe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),the=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),nhe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),rhe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ihe=({className:t=""})=>v.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),ohe=({isExpanded:t,className:e=""})=>v.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),nt=({label:t,value:e,onClick:n,clickable:r})=>v.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""}`,onClick:r?n:void 0,children:[v.jsx("span",{className:"text-xs text-orange-500 mb-1",children:t}),v.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function ahe(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function she({user:t,stats:e=[],onDeleteGame:n,onUpdateGamePhotos:r,externalFilters:i={},isUserAdmin:o=!1}){$.useState("");const[a,s]=$.useState(null),[l,u]=$.useState(""),[h,f]=$.useState(""),[d,p]=$.useState(""),[m,g]=$.useState(!1),[_,w]=$.useState([]),[b,x]=$.useState(!0),[O,T]=$.useState(1),[P,S]=$.useState(null),[E,I]=$.useState(null);$.useState(!1);const[k,C]=$.useState([]),[j,N]=$.useState(!1),[W,U]=$.useState(!1),q=4,K=$.useMemo(()=>{const V=new Set;return(e||[]).forEach(se=>{se.opponent&&V.add(se.opponent.trim())}),Array.from(V)},[e]);$.useMemo(()=>l?K.filter(V=>V.toLowerCase().includes(l.toLowerCase())).slice(0,7):[],[K,l]);const D=(e||[]).reduce((V,se)=>(V.points=(V.points||0)+(parseInt(se.points,10)||0),V.fg2m=(V.fg2m||0)+(parseInt(se.fg2m,10)||0),V.fg2a=(V.fg2a||0)+(parseInt(se.fg2a,10)||0),V.fg3m=(V.fg3m||0)+(parseInt(se.fg3m,10)||0),V.fg3a=(V.fg3a||0)+(parseInt(se.fg3a,10)||0),V.ftm=(V.ftm||0)+(parseInt(se.ftm,10)||0),V.fta=(V.fta||0)+(parseInt(se.fta,10)||0),V.rebounds=(V.rebounds||0)+(parseInt(se.rebounds,10)||0),V.assists=(V.assists||0)+(parseInt(se.assists,10)||0),V.steals=(V.steals||0)+(parseInt(se.steals,10)||0),V.blocks=(V.blocks||0)+(parseInt(se.blocks,10)||0),V.fouls=(V.fouls||0)+(parseInt(se.fouls,10)||0),V.turnovers=(V.turnovers||0)+(parseInt(se.turnovers,10)||0),V.gamesPlayed=(V.gamesPlayed||0)+1,V),{}),G=(D.fg2m||0)+(D.fg3m||0),Q=(D.fg2a||0)+(D.fg3a||0),ne=(V,se)=>!se||se===0?"0%":`${Math.round(V/se*100)}%`,z=(V,se)=>!se||se===0?V>0?`${V.toFixed(1)}`:"0.0":(V/se).toFixed(2),Y=$.useMemo(()=>{let V=[...e||[]];return l&&(V=V.filter(se=>(se.opponent||"").toLowerCase().includes(l.toLowerCase()))),h&&(V=V.filter(se=>{let Xe="";return se.timestamp?Xe=new Date(se.timestamp).toISOString().split("T")[0]:se.date&&(Xe=se.date),Xe===h})),d&&(V=V.filter(se=>se.outcome===d)),V.sort((se,Xe)=>se.timestamp<Xe.timestamp?1:se.timestamp>Xe.timestamp?-1:0),V},[e,l,h,d]),ae=$.useMemo(()=>{const V=(O-1)*q;return Y.slice(V,V+q)},[Y,O]),ce=Math.ceil(Y.length/q),he=(V,se)=>{if(V==="gamesPlayed")s({statKey:V,statName:"Games Played per Age",data:ahe(e||[])});else{const Xe=[...e||[]].sort((Ge,Ot)=>(Ge.timestamp||0)-(Ot.timestamp||0)).map(Ge=>({value:V==="assistTurnoverRatio"?Ge.turnovers?(Ge.assists/Ge.turnovers).toFixed(2):"0.00":Ge[V]||0,date:new Date(Ge.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:Ge.teamName,opponent:Ge.opponent}));s({statKey:V,statName:se,data:Xe})}},ve=()=>{if(!o){yn("select and delete games");return}N(!j),C([])},Ke=V=>{o&&C(se=>se.includes(V)?se.filter(Xe=>Xe!==V):[...se,V])},re=()=>{if(!o)return;const V=ae.map(se=>se.id);C(V)},X=()=>{C([])},te=()=>{if(!up(t)){yn("delete games");return}U(!0)},F=()=>{k.forEach(V=>{n(V)}),C([]),N(!1),U(!1)},me=V=>{if(!up(t)){yn("delete games");return}S(V)},ye=()=>{E&&(onDeleteTeam(E),I(null))},Ee=V=>{j||w(se=>se.includes(V)?se.filter(Xe=>Xe!==V):[...se,V])},we=V=>V==null||V===""?0:V,at=V=>{if(!V)return"No date";const se=new Date(V);return se.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+se.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return v.jsxs("div",{children:[a&&v.jsx(Lfe,{graphData:a,onClose:()=>s(null)}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-1 space-y-6",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[v.jsx(nt,{label:"Games Played",value:D.gamesPlayed||0}),v.jsx(nt,{label:"Points",value:D.points||0,clickable:!0,onClick:()=>he("points","Points")}),v.jsx(nt,{label:"Rebounds",value:D.rebounds||0,clickable:!0,onClick:()=>he("rebounds","Rebounds")}),v.jsx(nt,{label:"Assists",value:D.assists||0,clickable:!0,onClick:()=>he("assists","Assists")}),v.jsx(nt,{label:"Steals",value:D.steals||0,clickable:!0,onClick:()=>he("steals","Steals")}),v.jsx(nt,{label:"Blocks",value:D.blocks||0,clickable:!0,onClick:()=>he("blocks","Blocks")}),v.jsx(nt,{label:"Fouls",value:D.fouls||0,clickable:!0,onClick:()=>he("fouls","Fouls")}),v.jsx(nt,{label:"Turnovers",value:D.turnovers||0,clickable:!0,onClick:()=>he("turnovers","Turnovers")}),v.jsx(nt,{label:"A/T Ratio",value:z(D.assists,D.turnovers)})]}),v.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),v.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[v.jsx(nt,{label:"FG%",value:ne(G,Q)}),v.jsx(nt,{label:"FT%",value:ne(D.ftm,D.fta)}),v.jsx(nt,{label:"2-Point %",value:ne(D.fg2m,D.fg2a)}),v.jsx(nt,{label:"3-Point %",value:ne(D.fg3m,D.fg3a)})]})]})}),v.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>x(!b),children:[v.jsx(ohe,{isExpanded:b}),v.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(l||h||d)&&v.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",Y.length," of ",(e||[]).length," games",l&&v.jsxs("span",{className:"block text-xs",children:[" Opponent: ",l]}),h&&v.jsxs("span",{className:"block text-xs",children:[" Date: ",new Date(h).toLocaleDateString()]}),d&&v.jsxs("span",{className:"block text-xs",children:[" Result: ",d==="W"?"Wins":d==="L"?"Losses":"Ties"]})]})]}),b&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("div",{className:"flex items-center gap-2",children:o&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:ve,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${j?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:j?"Cancel selection":"Select multiple games",children:[j?v.jsx(the,{className:"h-4 w-4 sm:h-3 sm:w-3"}):v.jsx(ehe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),v.jsx("span",{className:"sm:hidden",children:j?"Cancel":"Select"}),v.jsx("span",{className:"hidden sm:inline",children:j?"Cancel":"Select"})]}),j&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:re,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[v.jsx(nhe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),v.jsx("span",{className:"sm:hidden",children:"All"}),v.jsx("span",{className:"hidden sm:inline",children:"All"})]}),v.jsxs("button",{onClick:X,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[v.jsx(rhe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),v.jsx("span",{className:"sm:hidden",children:"Clear"}),v.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[o&&j&&k.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.length," selected"]}),v.jsxs("button",{onClick:te,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[v.jsx(lp,{className:"h-4 w-4 sm:h-3 sm:w-3"}),v.jsx("span",{className:"sm:hidden",children:"Delete"}),v.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("button",{"data-filter-button":"true",onClick:V=>{V.stopPropagation(),g(!m)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${l||h||d?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[v.jsx(Ife,{className:"h-4 w-4 sm:h-3 sm:w-3"}),v.jsx("span",{className:"sm:hidden",children:"Filter"}),v.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),m&&v.jsx(Yfe,{games:e,filters:{searchTerm:l,dateFilter:h,outcomeFilter:d},onFiltersChange:V=>{u(V.searchTerm||""),f(V.dateFilter||""),p(V.outcomeFilter||""),T(1)},onClose:()=>g(!1)})]})]})]}),v.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:ae.length>0?ae.map(V=>{const se=_.includes(V.id),Xe=k.includes(V.id),Ge=Ffe(V);return v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>j&&o?Ke(V.id):Ee(V.id),children:[v.jsxs("div",{className:"flex items-center gap-2",children:[j&&o&&v.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Xe?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:Ot=>{Ot.stopPropagation(),Ke(V.id)},children:Xe&&v.jsx(ihe,{className:"w-3 h-3 text-white"})}),(!j||!o)&&v.jsx(Dfe,{className:`transition-transform duration-200 text-black dark:text-white ${se?"rotate-90":""}`,style:{minWidth:20}}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:at(V.timestamp)}),v.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[V.teamName," vs ",V.opponent]}),V.location&&v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:[" ",V.location]}),v.jsx("p",{className:"italic text-xs mt-1 text-gray-700 dark:text-gray-200",children:V.adminName?`Scored by ${V.adminName}`:""}),v.jsx(Ufe,{badges:Ge}),v.jsx(qfe,{photos:V.photos})]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${V.outcome==="W"?"bg-green-100 text-green-800":V.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[V.outcome||"T"," ",we(V.myTeamScore),"-",we(V.opponentScore)]}),o&&!j&&v.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:Ot=>{Ot.stopPropagation(),me(V.id)},title:"Delete Game",children:v.jsx(lp,{})})]})]}),se&&!j&&v.jsxs("div",{className:"p-4 pt-2 relative",children:[v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[v.jsx(nt,{label:"Points",value:we(V.points)}),v.jsx(nt,{label:"2-Point Made/Att",value:`${we(V.fg2m)}/${we(V.fg2a)}`}),v.jsx(nt,{label:"3-Point Made/Att",value:`${we(V.fg3m)}/${we(V.fg3a)}`}),v.jsx(nt,{label:"FT Made/Att",value:`${we(V.ftm)}/${we(V.fta)}`}),v.jsx(nt,{label:"Rebounds",value:we(V.rebounds)}),v.jsx(nt,{label:"Assists",value:we(V.assists)}),v.jsx(nt,{label:"Steals",value:we(V.steals)}),v.jsx(nt,{label:"Blocks",value:we(V.blocks)}),v.jsx(nt,{label:"Fouls",value:we(V.fouls)}),v.jsx(nt,{label:"Turnovers",value:we(V.turnovers)}),v.jsx(nt,{label:"A/T Ratio",value:z(we(V.assists),we(V.turnovers))})]}),v.jsx(zfe,{badges:Ge}),o&&v.jsx(Kfe,{gameId:V.id,photos:V.photos||[],onPhotosUpdate:r||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},V.id)}):v.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),ce>1&&v.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[v.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>T(V=>Math.max(1,V-1)),disabled:O===1,children:"Prev"}),v.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",O," of ",ce]}),v.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>T(V=>Math.min(ce,V+1)),disabled:O===ce,children:"Next"})]})]})]})]}),o&&W&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",k.length," Games?"]}),v.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete ",k.length," selected game",k.length!==1?"s":"","? This cannot be undone."]}),v.jsxs("div",{className:"flex gap-4 justify-end",children:[v.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>U(!1),children:"Cancel"}),v.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:F,children:["Delete ",k.length," Game",k.length!==1?"s":""]})]})]})}),o&&P&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[v.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),v.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this game? This cannot be undone."}),v.jsxs("div",{className:"flex gap-4 justify-end",children:[v.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",onClick:()=>S(null),children:"Cancel"}),v.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:()=>{P&&(n(P),S(null))},children:"Delete"})]})]})}),o&&E&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[v.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),v.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),v.jsx("div",{className:"flex gap-4 justify-end",children:v.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:ye,children:"Delete"})})]})})]})}const lhe=({active:t})=>v.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function eh({user:t,onSignOut:e,setPage:n,theme:r,page:i,liveGameId:o,goToLiveGame:a,openSettingsModal:s,onSignIn:l,isUserAdmin:u=!1}){const h=!!o,f=()=>u?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80",d=()=>({}),p=()=>{h&&(i==="live_admin"&&u?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&a():a())},m=v.jsxs("button",{disabled:!h,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${h?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:p,title:h?"Watch Live Game":"No Live Game In Progress",children:[v.jsx(lhe,{active:h}),v.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),g=()=>{if(!u){alert("Access denied. Only administrators can access settings.");return}s()};return v.jsx("header",{className:`${f()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,style:d(),children:v.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:`flex items-center gap-2 cursor-pointer group relative ${u?"p-1 sm:p-3 rounded-lg sm:rounded-xl bg-white dark:bg-gray-800 shadow-lg sm:shadow-xl border border-orange-200 dark:border-orange-700 hover:shadow-xl sm:hover:shadow-2xl transition-all duration-300":""}`,onClick:()=>{n(u?"game_setup":"dashboard")},children:[v.jsx("div",{className:`flex items-center justify-center text-lg ${u?"w-10 h-10":""}`,children:v.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:""})}),v.jsx("div",{className:"hidden sm:flex flex-col",children:v.jsx("span",{className:`text-lg font-bold ${u?"text-orange-600 dark:text-orange-400":"bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent"}`,children:"Sahil's Stats"})})]}),m]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("button",{onClick:g,disabled:!u,className:`flex items-center justify-center rounded-lg p-2 transition-all ${u?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:u?"Settings":"Settings (Admin Only)",children:v.jsx(Ofe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),v.jsx("button",{onClick:()=>n("dashboard"),className:`flex items-center justify-center rounded-lg p-2 transition-all ${u?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200"}`,title:"Dashboard",children:v.jsx(Mfe,{className:"h-5 w-5"})}),t&&!t.isAnonymous?v.jsx("button",{onClick:e,className:`rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all ${u?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-red-500 hover:bg-red-600 text-white"}`,title:"Sign Out",children:v.jsx(Nfe,{className:"h-5 w-5"})}):l&&v.jsx("button",{onClick:l,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:v.jsx(kfe,{className:"h-5 w-5"})})]})]})})})}function uhe({onSignIn:t}){return v.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:v.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[v.jsx(gM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),v.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),v.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[v.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:v.jsx("strong",{children:" Welcome to Sahil's Stats!"})}),v.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:" Anyone can view games and stats  Family admins can sign in to create and manage games  Click the basketball logo above to view the dashboard"})]}),v.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[v.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[v.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),v.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),v.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),v.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),v.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function fn({label:t,value:e,onIncrement:n,onDecrement:r}){return v.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[v.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:""}),v.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),v.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function rs({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[v.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),v.jsx("div",{className:"flex justify-center items-center gap-4",children:a?v.jsx(fn,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):v.jsxs(v.Fragment,{children:[v.jsx(fn,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),v.jsx(fn,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function Jw({status:t}){return t==="saving"?v.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[v.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),v.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const che=({isExpanded:t,className:e=""})=>v.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function fhe({db:t,gameId:e,user:n,onEndGame:r}){var Q,ne;const[i,o]=$.useState(null),[a,s]=$.useState(""),[l,u]=$.useState(!1),[h,f]=$.useState(null),[d,p]=$.useState(0),[m,g]=$.useState(0),_=$.useRef(null),w=$.useRef(null);$.useEffect(()=>{const z=Fa(en(t,"liveGames",e),Y=>{if(Y.exists()){const ae={id:Y.id,...Y.data()};w.current=ae.period,o(ae);const ce=Date.now();if(ae.isRunning&&ae.clockStartTime){const he=ce-ae.clockStartTime,ve=Math.floor(he/1e3),Ke=Math.max(0,ae.clockAtStart-ve),re=Math.max(0,ae.clockAtStart*1e3-he)/100;p(Ke),g(re)}else p(ae.clock||0),g((ae.clock||0)*10)}else o(null),p(0)});return()=>{z(),_.current&&(clearInterval(_.current),_.current=null)}},[t,e]),$.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const z=d<=60?100:1e3;_.current=setInterval(()=>{const ae=Date.now()-i.clockStartTime,ce=Math.floor(ae/1e3),he=Math.max(0,i.clockAtStart-ce),ve=Math.max(0,i.clockAtStart*1e3-ae)/100;p(he),g(ve),he<=0&&i.isRunning&&b()},z)}else _.current&&(clearInterval(_.current),_.current=null);return()=>{_.current&&(clearInterval(_.current),_.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,d,e]);const b=()=>{if(!i)return;const Y=i.gameFormat==="halves"?2:4;i.period===Y?Ii(en(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Ii(en(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},x=(z,Y)=>{if(!i)return;const ae=z==="home"?"homeScore":"awayScore";if(Y<0&&i[ae]<=0)return;const ce={[ae]:_o(Y)};if(!i.isRunning){const ve=Date.now();ce.isRunning=!0,ce.clockStartTime=ve,ce.clockAtStart=i.clock||i.periodLength*60}const he=Ii(en(t,"liveGames",e),ce);T(he)},O=(z,Y)=>{const ae=en(t,"liveGames",e),ce=i.playerStats,he=Math.max(0,ce[z]+Y),ve={[`playerStats.${z}`]:he};if(!i.isRunning){const re=Date.now();ve.isRunning=!0,ve.clockStartTime=re,ve.clockAtStart=i.clock||i.periodLength*60}Y>0?(z==="fg2m"&&(ve.homeScore=_o(2)),z==="fg3m"&&(ve.homeScore=_o(3)),z==="ftm"&&(ve.homeScore=_o(1))):Y<0&&(z==="fg2m"&&ce.fg2m>0&&(ve.homeScore=_o(-2)),z==="fg3m"&&ce.fg3m>0&&(ve.homeScore=_o(-3)),z==="ftm"&&ce.ftm>0&&(ve.homeScore=_o(-1))),z==="fg2m"&&Y>0&&he>ce.fg2a&&(ve["playerStats.fg2a"]=he),z==="fg2a"&&Y<0&&he<ce.fg2m&&(ve["playerStats.fg2m"]=he),z==="fg3m"&&Y>0&&he>ce.fg3a&&(ve["playerStats.fg3a"]=he),z==="fg3a"&&Y<0&&he<ce.fg3m&&(ve["playerStats.fg3m"]=he),z==="ftm"&&Y>0&&he>ce.fta&&(ve["playerStats.fta"]=he),z==="fta"&&Y<0&&he<ce.ftm&&(ve["playerStats.ftm"]=he);const Ke=Ii(ae,ve);T(Ke)},T=async z=>{f("saving");try{await z,f("success")}catch{f("error")}finally{setTimeout(()=>{f(null)},1200)}},P=()=>{if(!i)return;const z=Date.now();let Y;if(i.isRunning){const ce=i.clockStartTime?Math.floor((z-i.clockStartTime)/1e3):0,he=Math.max(0,i.clockAtStart-ce);Y={isRunning:!1,clock:he,clockStartTime:null,clockAtStart:he}}else Y={isRunning:!0,clockStartTime:z,clockAtStart:i.clock||i.periodLength*60};const ae=Ii(en(t,"liveGames",e),Y);T(ae)},S=()=>{const z=en(t,"liveGames",e),ae=i.gameFormat==="halves"?2:4;i.period===ae?typeof r=="function"&&r(e):Ii(z,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},E=()=>{const z=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(z),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return v.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const I=(z,Y)=>{if(z<=59){const ae=Math.floor(Y/10),ce=Math.floor(Y%10);return`${ae}.${ce}`}else return`${String(Math.floor(z/60)).padStart(2,"0")}:${String(z%60).padStart(2,"0")}`},k=i.playerStats||{},C=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,W=i.period===N,U=W&&d===0&&!i.isRunning,q=U||W?"End Game":"Next",K=d<=120||W&&d===0,D=d<=60&&d>0,G=Math.max(((Q=i.teamName)==null?void 0:Q.length)||1,((ne=i.opponent)==null?void 0:ne.length)||1);return v.jsxs("div",{className:"h-screen flex flex-col",children:[U&&v.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[v.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),v.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[v.jsx("div",{className:"absolute top-2 right-2",children:v.jsx(Jw,{status:h})}),v.jsx("div",{className:"flex justify-center items-center text-center mb-4",children:v.jsxs("div",{className:"flex flex-col items-center justify-center",children:[v.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${D?"text-red-500 animate-pulse scale-110 font-bold":K?"text-red-500 animate-pulse":""}`,children:I(d,m)}),v.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[C," ",i.period]})]})}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.teamName}),v.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[v.jsx("button",{onClick:()=>x("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:""}),v.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),v.jsx("button",{onClick:()=>x("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(G,6)))}px`},children:i.opponent}),v.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[v.jsx("button",{onClick:()=>x("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:""}),v.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),v.jsx("button",{onClick:()=>x("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[v.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:v.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[v.jsx(che,{isExpanded:!l}),v.jsx("h3",{className:"text-lg font-bold text-orange-500",children:l?"Stats Collapsed":"Live Stats"})]})}),!l&&v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx(rs,{label:"2-Pointers",madeValue:k.fg2m,attValue:k.fg2a,onStatChange:O,madeKey:"fg2m",attKey:"fg2a"}),v.jsx(rs,{label:"3-Pointers",madeValue:k.fg3m,attValue:k.fg3a,onStatChange:O,madeKey:"fg3m",attKey:"fg3a"}),v.jsx(rs,{label:"Free Throws",madeValue:k.ftm,attValue:k.fta,onStatChange:O,madeKey:"ftm",attKey:"fta"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[v.jsx(fn,{label:"Rebounds",value:k.rebounds,onIncrement:()=>O("rebounds",1),onDecrement:()=>O("rebounds",-1)}),v.jsx(fn,{label:"Assists",value:k.assists,onIncrement:()=>O("assists",1),onDecrement:()=>O("assists",-1)}),v.jsx(fn,{label:"Steals",value:k.steals,onIncrement:()=>O("steals",1),onDecrement:()=>O("steals",-1)}),v.jsx(fn,{label:"Blocks",value:k.blocks,onIncrement:()=>O("blocks",1),onDecrement:()=>O("blocks",-1)}),v.jsx(fn,{label:"Fouls",value:k.fouls,onIncrement:()=>O("fouls",1),onDecrement:()=>O("fouls",-1)}),v.jsx(fn,{label:"Turnovers",value:k.turnovers,onIncrement:()=>O("turnovers",1),onDecrement:()=>O("turnovers",-1)})]})]})]}),v.jsx("div",{className:"h-20"})]})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:v.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsx("button",{onClick:E,className:"w-full py-3 rounded-lg font-bold text-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center",children:a||v.jsx(Cfe,{})}),v.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:U,children:i.isRunning?"Pause":"Start"}),v.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg ${U?"bg-red-600 hover:bg-red-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:q})]})})})]})]})}function vI({db:t,gameId:e,user:n}){const[r,i]=$.useState(null),[o,a]=$.useState(null),[s,l]=$.useState(0),[u,h]=$.useState(0),f=$.useRef(null);if($.useEffect(()=>{if(!t||!e)return;const x=en(t,"liveGames",e),O=Fa(x,T=>{if(T.exists()){const P=T.data();i(P);const S=Date.now();if(P.isRunning&&P.clockStartTime){const E=S-P.clockStartTime,I=Math.floor(E/1e3),k=Math.max(0,P.clockAtStart-I),C=Math.max(0,P.clockAtStart*1e3-E)/100;l(k),h(C)}else l(P.clock||0),h((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{O(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),$.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const x=s<=60?100:1e3;f.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),S=Math.max(0,r.clockAtStart-P),E=Math.max(0,r.clockAtStart*1e3-T)/100;l(S),h(E)},x)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return v.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[v.jsx(gM,{className:"hover:animate-spin-slow transition-transform"}),v.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return v.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const d=r.playerStats||r.sahilStats||{},m=[{label:"Points",value:(Number(d.fg2m)||0)*2+(Number(d.fg3m)||0)*3+(Number(d.ftm)||0)},{label:"2PT Made",value:d.fg2m??0},{label:"2PT Attempted",value:d.fg2a??0},{label:"3PT Made",value:d.fg3m??0},{label:"3PT Attempted",value:d.fg3a??0},{label:"FT Made",value:d.ftm??0},{label:"FT Attempted",value:d.fta??0},{label:"Assists",value:d.assists??0},{label:"Rebounds",value:d.rebounds??0},{label:"Steals",value:d.steals??0},{label:"Fouls",value:d.fouls??0}],g=(x,O)=>{if(x<=59){const T=Math.floor(O/10),P=Math.floor(O%10);return`${T}.${P}`}else return`${String(Math.floor(x/60)).padStart(2,"0")}:${String(x%60).padStart(2,"0")}`},_=r.gameFormat==="halves"?"Half":"Period",w=s<=120,b=s<=60&&s>0;return v.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[v.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),v.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:v.jsxs("div",{className:"flex justify-around items-center text-center",children:[v.jsxs("div",{className:"w-1/3",children:[v.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:r.teamName}),v.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:r.homeScore})]}),v.jsx("div",{className:"w-1/3",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("p",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${b?"text-red-500 animate-pulse scale-110 font-bold":w?"text-red-500 animate-pulse":""}`,children:g(s,u)}),v.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[_," ",r.period]})]})}),v.jsxs("div",{className:"w-1/3",children:[v.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate",children:r.opponent}),v.jsx("p",{className:"text-5xl md:text-7xl font-mono",children:r.awayScore})]})]})}),v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:v.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[v.jsx("div",{className:"mb-2 flex items-center justify-center gap-2",children:v.jsx("span",{className:"font-bold text-orange-500 text-lg",children:"Live Stats"})}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:m.map(x=>v.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-lg p-3 flex flex-col items-center",children:[v.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:x.label}),v.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.value})]},x.label))})]})]})}function hhe({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=$.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});$.useEffect(()=>{var p,m,g,_,w,b,x,O,T,P,S,E;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((p=t.playerStats)==null?void 0:p.fg2m)||0,fg2a:t.fg2a||((m=t.playerStats)==null?void 0:m.fg2a)||0,fg3m:t.fg3m||((g=t.playerStats)==null?void 0:g.fg3m)||0,fg3a:t.fg3a||((_=t.playerStats)==null?void 0:_.fg3a)||0,ftm:t.ftm||((w=t.playerStats)==null?void 0:w.ftm)||0,fta:t.fta||((b=t.playerStats)==null?void 0:b.fta)||0,rebounds:t.rebounds||((x=t.playerStats)==null?void 0:x.rebounds)||0,assists:t.assists||((O=t.playerStats)==null?void 0:O.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((S=t.playerStats)==null?void 0:S.fouls)||0,turnovers:t.turnovers||((E=t.playerStats)==null?void 0:E.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,h=(p,m)=>{const g=p==="home"?"myTeamScore":"opponentScore";l(_=>({..._,[g]:Math.max(0,_[g]+m)}))},f=(p,m)=>{l(g=>{const _={...g},w=Math.max(0,g[p]+m);return _[p]=w,p==="fg2m"&&w>g.fg2a&&(_.fg2a=w),p==="fg2a"&&w<g.fg2m&&(_.fg2m=w),p==="fg3m"&&w>g.fg3a&&(_.fg3a=w),p==="fg3a"&&w<g.fg3m&&(_.fg3m=w),p==="ftm"&&w>g.fta&&(_.fta=w),p==="fta"&&w<g.ftm&&(_.ftm=w),_})},d=()=>{n(s)};return t?v.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[v.jsx("div",{className:"absolute top-2 right-2",children:o&&v.jsx(Jw,{status:o})}),v.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[v.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[v.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),v.jsx("div",{className:"flex items-center",children:v.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),v.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[v.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),v.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[v.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),v.jsx("div",{className:"flex items-center",children:v.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[v.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[v.jsx("button",{onClick:()=>h("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),v.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),v.jsx("button",{onClick:()=>h("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),v.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[v.jsx("button",{onClick:()=>h("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),v.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),v.jsx("button",{onClick:()=>h("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),v.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(rs,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),v.jsx(rs,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),v.jsx(rs,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[v.jsx(fn,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),v.jsx(fn,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),v.jsx(fn,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),v.jsx(fn,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),v.jsx(fn,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),v.jsx(fn,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:v.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[v.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),v.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):v.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function dhe({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:h,onDeleteAllLiveGames:f}){const[d,p]=$.useState(""),[m,g]=$.useState(""),_=Array.from(new Map(n.map(S=>[S.id,S])).values()),w=async S=>{const E=S.trim();if(!E||n.some(I=>I.name.toLowerCase()===E.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(E),g("success"),p("")}catch{g("error")}setTimeout(()=>g(""),1200)},b=async S=>{g("saving");try{await i(S),g("success")}catch{g("error")}setTimeout(()=>g(""),1200)},x=async S=>{g("saving");try{await a(S),g("success")}catch(E){console.error("Error updating game format:",E),g("error")}setTimeout(()=>g(""),1200)},O=async S=>{const E=Number(S);g("saving");try{await h(E),g("success")}catch(I){console.error("Error updating period length:",I),g("error")}setTimeout(()=>g(""),1200)},T=()=>{l(),g("success"),setTimeout(()=>g(""),1200)},P=async()=>{g("saving");try{await f(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}};return t?v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:v.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative",children:[v.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:""}),v.jsxs("h2",{className:"text-2xl font-bold font-bold text-orange-500 mb-6 flex items-center",children:["Settings",v.jsx(Jw,{status:m})]}),v.jsx("div",{className:"mb-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:v.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[v.jsx("div",{className:"font-medium mb-1",children:" Cross-Device Sync"}),v.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Game format and period length are now synced across all your devices automatically."})]})}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),v.jsxs("div",{className:"flex gap-2 mb-3",children:[v.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:d,onChange:S=>p(S.target.value),onKeyDown:S=>{S.key==="Enter"&&d.trim()&&w(d.trim())}}),v.jsx("button",{className:"bg-orange-500 hover:bg-orange-500 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>w(d),disabled:!d.trim(),children:"Add"})]}),v.jsx("ul",{className:"space-y-2",children:_.map(S=>v.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[v.jsx("span",{children:S.name}),v.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>b(S.id),title:"Delete Team",children:v.jsx(lp,{className:"h-5 w-5"})})]},S.id))})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),v.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[v.jsxs("label",{children:[v.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>x("periods")}),"Periods"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>x("halves")}),"Halves"]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),v.jsx("input",{type:"number",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24",value:u,onChange:S=>O(S.target.value)})]})]}),v.jsxs("div",{className:"flex items-center gap-4 justify-end mt-4",children:[v.jsx("button",{onClick:T,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",title:"Switch theme",children:s==="dark"?v.jsx(jfe,{className:"h-6 w-6"}):v.jsx(Rfe,{className:"h-6 w-6"})}),v.jsx("button",{onClick:P,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-400 hover:text-red-600",title:"Delete all live games",children:v.jsx(lp,{className:"h-6 w-6"})})]})]})}):null}const xo={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},phe=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||xo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||xo.periodLength};try{const e=en(Je,"userSettings",t.uid),n=await l2(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...xo,gameFormat:r||xo.gameFormat,periodLength:i?parseInt(i):xo.periodLength};return await HF(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||xo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||xo.periodLength}}},mhe=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=en(Je,"userSettings",t.uid);return await Ii(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function ghe(){const[t,e]=$.useState(null),[n,r]=$.useState(!1),[i,o]=$.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=$.useState(!0),[l,u]=$.useState(!0),[h,f]=$.useState("game_setup"),[d,p]=$.useState([]),[m,g]=$.useState([]),[_,w]=$.useState([]),[b,x]=$.useState(null),[O,T]=$.useState(null),[P,S]=$.useState(!1),[E,I]=$.useState("halves"),[k,C]=$.useState(20),[j,N]=$.useState(2),[W,U]=$.useState(!1);$.useEffect(()=>j6(Vf,async te=>{if(e(te),r(eo(te)),te&&eo(te))try{const F=await phe(te);I(F.gameFormat),C(F.periodLength),N(F.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",F)}catch(F){console.error("Error loading user settings:",F),I(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else I(localStorage.getItem("gameFormat")||"halves"),C(parseInt(localStorage.getItem("periodLength"))||20),N(2);U(!0),s(!1)}),[]);const q=$.useCallback(async X=>{if(!n||!t){X.gameFormat&&(localStorage.setItem("gameFormat",X.gameFormat),I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&(localStorage.setItem("periodLength",X.periodLength.toString()),C(X.periodLength));return}try{await mhe(t,X),X.gameFormat&&(I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&C(X.periodLength),console.log("Settings updated successfully across devices")}catch(te){console.error("Error updating settings:",te),alert("Failed to save settings. Please try again.")}},[t,n]);$.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const K=$.useCallback(()=>o(X=>X==="dark"?"light":"dark"),[]);$.useEffect(()=>{if(!t)return;const X=ir(Je,"teams");return Fa(X,F=>{p(F.docs.map(me=>({id:me.id,...me.data()})))})},[t]),$.useEffect(()=>{if(!t)return;const X=ir(Je,"games");return Fa(X,F=>{const me=F.docs.map(ye=>({id:ye.id,...ye.data()}));g(me)})},[t]),$.useEffect(()=>{if(!t)return;const X=ir(Je,"stats");return Fa(X,F=>{w(F.docs.map(me=>({id:me.id,...me.data()})))})},[t]),$.useEffect(()=>{u(!0);const X=ir(Je,"liveGames"),te=Fa(X,F=>{F.empty?x(null):x(F.docs[0].id),u(!1)});return()=>te()},[h]),$.useEffect(()=>{!t&&b&&h!=="live_viewer"&&f("live_viewer")},[t,b,h]);const D=async(X,te)=>{if(!Ul(t)){yn("update game photos");return}try{await Ii(en(Je,"games",X),{photos:te}),g(F=>F.map(me=>me.id===X?{...me,photos:te}:me))}catch(F){console.error("Error updating game photos:",F)}},G=$.useCallback(async X=>{if(!up(t)){yn("delete teams");return}await $f(en(Je,"teams",X)),p(te=>te.filter(F=>F.id!==X))},[t]),Q=async X=>{if(!Ul(t))return yn("add teams"),null;if(d.some(me=>me.name.toLowerCase()===X.toLowerCase()))return null;const F=await Cl(ir(Je,"teams"),{name:X});return p(me=>[...me,{name:X,id:F.id}]),{name:X,id:F.id}},ne=$.useCallback(async X=>{if(!Ul(t)){yn("add games");return}const te=await Cl(ir(Je,"games"),X);g(F=>[...F,{...X,id:te.id}])},[t]),z=$.useCallback(async X=>{if(!Ul(t)){yn("add statistics");return}const te=X.fg2m*2+X.fg3m*3+X.ftm;let F="T";X.myTeamScore>X.opponentScore?F="W":X.myTeamScore<X.opponentScore&&(F="L");const me={...O,...X,points:te,outcome:F,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""},ye=await Cl(ir(Je,"games"),me);g(Ee=>[...Ee,{...me,id:ye.id}]),T(null),f("dashboard")},[O,t]),Y=$.useCallback(async X=>{if(!up(t)){yn("delete games");return}await $f(en(Je,"games",X)),g(te=>te.filter(F=>F.id!==X)),w(te=>te.filter(F=>F.gameId!==X))},[t]),ae=async X=>{if(!dy(t)){yn("manage live games");return}try{const te=en(Je,"liveGames",X),F=await l2(te);if(!F.exists()){console.log("Live game not found for endGame, id:",X);return}const me=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",ye=F.data(),Ee=ye.playerStats||{},we=ye.homeScore??0,at=ye.awayScore??0;let V="T";we>at?V="W":we<at&&(V="L");const se={...ye,myTeamScore:we,opponentScore:at,outcome:V,points:(Ee.fg2m??0)*2+(Ee.fg3m??0)*3+(Ee.ftm??0)*1,fg2m:Ee.fg2m??0,fg2a:Ee.fg2a??0,fg3m:Ee.fg3m??0,fg3a:Ee.fg3a??0,ftm:Ee.ftm??0,fta:Ee.fta??0,rebounds:Ee.rebounds??0,assists:Ee.assists??0,steals:Ee.steals??0,blocks:Ee.blocks??0,fouls:Ee.fouls??0,turnovers:Ee.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:me,isRunning:!1},Xe=await Cl(ir(Je,"games"),se);await $f(te),x(null),f("game_setup");const Ge=ir(Je,"games"),Ot=await YS(Ge);g(Ot.docs.map(_i=>({id:_i.id,..._i.data()})))}catch(te){console.error("Failed to save/end game:",te)}},ce=async()=>{if(!dy(t)){yn("delete live games");return}const X=await YS(ir(Je,"liveGames"));for(let te of X.docs)await $f(en(Je,"liveGames",te.id));x(null)},he=async()=>{try{const te=(await Z6(Vf,qB)).user;if(!eo(te)){await oE(Vf),alert(`Access denied. Only family administrators can sign in.

Your email: ${te.email}

To view games, you can browse without signing in.`);return}}catch(X){if(console.error("Sign in error:",X),X.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},ve=async()=>{try{h==="live_admin"&&b&&n&&await ae(b),await oE(Vf),e(null),r(!1),f("game_setup"),x(null),g([]),w([])}catch(X){console.error("Error signing out:",X)}},Ke=async(X,te)=>{if(!Ul(t)){yn("create games");return}const F={...X,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:te==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:k?k*60:600,period:1,gameFormat:E||"halves",periodLength:k||20,numPeriods:E==="halves"?2:4};if(te==="live"){if(!dy(t)){yn("start live games");return}const me=await Cl(ir(Je,"liveGames"),F);x(me.id),f("live_admin")}else T(F),f("add_stat")},re=()=>{if(!Jfe(t)){yn("access settings");return}S(!0)};return a||l||!W?v.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[v.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:""}),v.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&h==="live_viewer"?b?v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[v.jsx(eh,{user:null,db:Je,onSignOut:ve,setPage:f,theme:i,toggleTheme:K,page:h,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:re,onSignIn:he,isUserAdmin:!1}),v.jsx("main",{className:"flex-1",children:v.jsx(vI,{db:Je,user:null,gameId:b,setPage:f,teams:d,stats:_,games:m})})]}):v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[v.jsx(eh,{user:null,db:Je,onSignOut:ve,setPage:f,theme:i,toggleTheme:K,page:h,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:re,isUserAdmin:!1}),v.jsx("main",{className:"flex-1 flex items-center justify-center",children:v.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&h!=="live_viewer"?v.jsx(uhe,{onSignIn:he}):t&&!n&&(h==="game_setup"||h==="add_stat"||h==="live_admin")?v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[v.jsx(eh,{user:t,db:Je,onSignOut:ve,setPage:f,theme:i,toggleTheme:K,page:h,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:re,isUserAdmin:n}),v.jsx("main",{className:"flex-1 flex items-center justify-center",children:v.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[v.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",v.jsx("span",{className:"font-medium",children:Zfe(t)})]}),v.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[v.jsx(eh,{user:t,db:Je,onSignOut:ve,setPage:f,theme:i,toggleTheme:K,page:h,liveGameId:b,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:ce,openSettingsModal:re,isUserAdmin:n}),v.jsx(dhe,{open:P,onClose:()=>S(!1),teams:d,onAddTeam:Q,onDeleteTeam:G,gameFormat:E,setGameFormat:X=>q({gameFormat:X}),periodLength:k,setPeriodLength:X=>q({periodLength:X}),theme:i,toggleTheme:K,setPage:f,onDeleteAllLiveGames:ce}),v.jsxs("main",{className:"flex-1",children:[t&&n&&h==="game_setup"&&v.jsx(KB,{user:t,teams:d,stats:m,onAddTeam:Q,setPage:f,games:m,onAddGame:ne,setLiveGameId:x,onSubmit:Ke,gameFormat:E,periodLength:k,numPeriods:j}),t&&h==="dashboard"&&v.jsx(she,{user:t,teams:d,games:m,stats:m,onDeleteGame:Y,onDeleteTeam:G,onAddTeam:Q,onUpdateGamePhotos:D,isUserAdmin:n}),t&&n&&h==="add_stat"&&O&&v.jsx(hhe,{gameConfig:O,isLive:!1,onSave:z,onCancel:()=>{T(null),f("game_setup")}}),t&&n&&h==="live_admin"&&b&&v.jsx(fhe,{user:t,db:Je,gameId:b,setPage:f,teams:d,stats:_,games:m,onEndGame:ae}),t&&h==="live_viewer"&&b&&v.jsx(vI,{db:Je,user:t,gameId:b,setPage:f,teams:d,stats:_,games:m})]})]})}py.createRoot(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsx(ghe,{})}));
