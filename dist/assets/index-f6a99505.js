(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AI={exports:{}},xp={},PI={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),YM=Symbol.for("react.portal"),QM=Symbol.for("react.fragment"),JM=Symbol.for("react.strict_mode"),ZM=Symbol.for("react.profiler"),eD=Symbol.for("react.provider"),tD=Symbol.for("react.context"),nD=Symbol.for("react.forward_ref"),rD=Symbol.for("react.suspense"),iD=Symbol.for("react.memo"),oD=Symbol.for("react.lazy"),e1=Symbol.iterator;function aD(t){return t===null||typeof t!="object"?null:(t=e1&&t[e1]||t["@@iterator"],typeof t=="function"?t:null)}var II={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kI=Object.assign,OI={};function el(t,e,n){this.props=t,this.context=e,this.refs=OI,this.updater=n||II}el.prototype.isReactComponent={};el.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CI(){}CI.prototype=el.prototype;function hb(t,e,n){this.props=t,this.context=e,this.refs=OI,this.updater=n||II}var pb=hb.prototype=new CI;pb.constructor=hb;kI(pb,el.prototype);pb.isPureReactComponent=!0;var t1=Array.isArray,NI=Object.prototype.hasOwnProperty,mb={current:null},jI={key:!0,ref:!0,__self:!0,__source:!0};function RI(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)NI.call(e,r)&&!jI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:jc,type:t,key:o,ref:a,props:i,_owner:mb.current}}function sD(t,e){return{$$typeof:jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gb(t){return typeof t=="object"&&t!==null&&t.$$typeof===jc}function lD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n1=/\/+/g;function fg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lD(""+t.key):e.toString(36)}function dd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jc:case YM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+fg(a,0):r,t1(i)?(n="",t!=null&&(n=t.replace(n1,"$&/")+"/"),dd(i,e,n,"",function(u){return u})):i!=null&&(gb(i)&&(i=sD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(n1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",t1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+fg(o,s);a+=dd(o,e,n,l,i)}else if(l=aD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+fg(o,s++),a+=dd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pf(t,e,n){if(t==null)return t;var r=[],i=0;return dd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function uD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},hd={transition:null},cD={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:hd,ReactCurrentOwner:mb};function MI(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Pf,forEach:function(t,e,n){Pf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pf(t,function(){e++}),e},toArray:function(t){return Pf(t,function(e){return e})||[]},only:function(t){if(!gb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=el;Ie.Fragment=QM;Ie.Profiler=ZM;Ie.PureComponent=hb;Ie.StrictMode=JM;Ie.Suspense=rD;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;Ie.act=MI;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kI({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=mb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)NI.call(e,l)&&!jI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:jc,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:tD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eD,_context:t},t.Consumer=t};Ie.createElement=RI;Ie.createFactory=function(t){var e=RI.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:nD,render:t}};Ie.isValidElement=gb;Ie.lazy=function(t){return{$$typeof:oD,_payload:{_status:-1,_result:t},_init:uD}};Ie.memo=function(t,e){return{$$typeof:iD,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=hd.transition;hd.transition={};try{t()}finally{hd.transition=e}};Ie.unstable_act=MI;Ie.useCallback=function(t,e){return En.current.useCallback(t,e)};Ie.useContext=function(t){return En.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return En.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return En.current.useEffect(t,e)};Ie.useId=function(){return En.current.useId()};Ie.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return En.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};Ie.useRef=function(t){return En.current.useRef(t)};Ie.useState=function(t){return En.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return En.current.useTransition()};Ie.version="18.3.1";PI.exports=Ie;var D=PI.exports;const $=Xe(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=D,dD=Symbol.for("react.element"),hD=Symbol.for("react.fragment"),pD=Object.prototype.hasOwnProperty,mD=fD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gD={key:!0,ref:!0,__self:!0,__source:!0};function DI(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pD.call(e,r)&&!gD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dD,type:t,key:o,ref:a,props:i,_owner:mD.current}}xp.Fragment=hD;xp.jsx=DI;xp.jsxs=DI;AI.exports=xp;var p=AI.exports,Ty={},$I={exports:{}},qn={},LI={exports:{}},VI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var Q=F.length;F.push(H);e:for(;0<Q;){var ne=Q-1>>>1,B=F[ne];if(0<i(B,H))F[ne]=H,F[Q]=B,Q=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Q=F.pop();if(Q!==H){F[0]=Q;e:for(var ne=0,B=F.length,Y=B>>>1;ne<Y;){var Z=2*(ne+1)-1,se=F[Z],de=Z+1,ve=F[de];if(0>i(se,Q))de<B&&0>i(ve,se)?(F[ne]=ve,F[de]=Q,ne=de):(F[ne]=se,F[Z]=Q,ne=Z);else if(de<B&&0>i(ve,Q))F[ne]=ve,F[de]=Q,ne=de;else break e}}return H}function i(F,H){var Q=F.sortIndex-H.sortIndex;return Q!==0?Q:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=F)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function O(F){if(v=!1,x(F),!g)if(n(l)!==null)g=!0,G(T);else{var H=n(u);H!==null&&K(O,H.startTime-F)}}function T(F,H){g=!1,v&&(v=!1,_(E),E=-1),m=!0;var Q=h;try{for(x(H),f=n(l);f!==null&&(!(f.expirationTime>H)||F&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var B=ne(f.expirationTime<=H);H=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),x(H)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var Z=n(u);Z!==null&&K(O,Z.startTime-H),Y=!1}return Y}finally{f=null,h=Q,m=!1}}var P=!1,S=null,E=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function j(){if(S!==null){var F=t.unstable_now();C=F;var H=!0;try{H=S(!0,F)}finally{H?N():(P=!1,S=null)}}else P=!1}var N;if(typeof w=="function")N=function(){w(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=j,N=function(){z.postMessage(null)}}else N=function(){b(j,0)};function G(F){S=F,P||(P=!0,N())}function K(F,H){E=b(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,G(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Q=h;h=H;try{return F()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=h;h=F;try{return H()}finally{h=Q}},t.unstable_scheduleCallback=function(F,H,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,F={id:d++,callback:H,priorityLevel:F,startTime:Q,expirationTime:B,sortIndex:-1},Q>ne?(F.sortIndex=Q,e(u,F),n(l)===null&&F===n(u)&&(v?(_(E),E=-1):v=!0,K(O,Q-ne))):(F.sortIndex=B,e(l,F),g||m||(g=!0,G(T))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var H=h;return function(){var Q=h;h=H;try{return F.apply(this,arguments)}finally{h=Q}}}})(VI);LI.exports=VI;var yD=LI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD=D,Gn=yD;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FI=new Set,Au={};function ya(t,e){ms(t,e),ms(t+"Capture",e)}function ms(t,e){for(Au[t]=e,t=0;t<e.length;t++)FI.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,bD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},i1={};function wD(t){return Ay.call(i1,t)?!0:Ay.call(r1,t)?!1:bD.test(t)?i1[t]=!0:(r1[t]=!0,!1)}function _D(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xD(t,e,n,r){if(e===null||typeof e>"u"||_D(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yb=/[\-:]([a-z])/g;function vb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yb,vb);en[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yb,vb);en[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yb,vb);en[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function bb(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xD(e,n,i,r)&&(n=null),r||i===null?wD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=vD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,If=Symbol.for("react.element"),Va=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),wb=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),BI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),ky=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),zI=Symbol.for("react.offscreen"),o1=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,dg;function Jl(t){if(dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dg=e&&e[1]||""}return`
`+dg+t}var hg=!1;function pg(t,e){if(!t||hg)return"";hg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{hg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function SD(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=pg(t.type,!1),t;case 11:return t=pg(t.type.render,!1),t;case 1:return t=pg(t.type,!0),t;default:return""}}function Oy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fa:return"Fragment";case Va:return"Portal";case Py:return"Profiler";case wb:return"StrictMode";case Iy:return"Suspense";case ky:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UI:return(t.displayName||"Context")+".Consumer";case BI:return(t._context.displayName||"Context")+".Provider";case _b:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xb:return e=t.displayName||null,e!==null?e:Oy(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return Oy(t(e))}catch{}}return null}function ED(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oy(e);case 8:return e===wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TD(t){var e=WI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kf(t){t._valueTracker||(t._valueTracker=TD(t))}function GI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cy(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HI(t,e){e=e.checked,e!=null&&bb(t,"checked",e,!1)}function Ny(t,e){HI(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jy(t,e.type,n):e.hasOwnProperty("defaultValue")&&jy(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jy(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function ts(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ry(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Zl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function qI(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function My(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Of,XI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Of=Of||document.createElement("div"),Of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Of.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AD=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){AD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function YI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function QI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PD=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(t,e){if(e){if(PD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function $y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=null;function Sb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vy=null,ns=null,rs=null;function c1(t){if(t=Dc(t)){if(typeof Vy!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Pp(e),Vy(t.stateNode,t.type,e))}}function JI(t){ns?rs?rs.push(t):rs=[t]:ns=t}function ZI(){if(ns){var t=ns,e=rs;if(rs=ns=null,c1(t),e)for(t=0;t<e.length;t++)c1(e[t])}}function ek(t,e){return t(e)}function tk(){}var mg=!1;function nk(t,e,n){if(mg)return t(e,n);mg=!0;try{return ek(t,e,n)}finally{mg=!1,(ns!==null||rs!==null)&&(tk(),ZI())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Pp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Fy=!1;if(hi)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Fy=!1}function ID(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var lu=!1,Md=null,Dd=!1,By=null,kD={onError:function(t){lu=!0,Md=t}};function OD(t,e,n,r,i,o,a,s,l){lu=!1,Md=null,ID.apply(kD,arguments)}function CD(t,e,n,r,i,o,a,s,l){if(OD.apply(this,arguments),lu){if(lu){var u=Md;lu=!1,Md=null}else throw Error(te(198));Dd||(Dd=!0,By=u)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f1(t){if(va(t)!==t)throw Error(te(188))}function ND(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return f1(i),t;if(o===r)return f1(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function ik(t){return t=ND(t),t!==null?ok(t):null}function ok(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ok(t);if(e!==null)return e;t=t.sibling}return null}var ak=Gn.unstable_scheduleCallback,d1=Gn.unstable_cancelCallback,jD=Gn.unstable_shouldYield,RD=Gn.unstable_requestPaint,vt=Gn.unstable_now,MD=Gn.unstable_getCurrentPriorityLevel,Eb=Gn.unstable_ImmediatePriority,sk=Gn.unstable_UserBlockingPriority,$d=Gn.unstable_NormalPriority,DD=Gn.unstable_LowPriority,lk=Gn.unstable_IdlePriority,Sp=null,Rr=null;function $D(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Sp,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:FD,LD=Math.log,VD=Math.LN2;function FD(t){return t>>>=0,t===0?32:31-(LD(t)/VD|0)|0}var Cf=64,Nf=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=eu(s):(o&=a,o!==0&&(r=eu(o)))}else a=n&~i,a!==0?r=eu(a):o!==0&&(r=eu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),i=1<<n,r|=t[n],e&=~i;return r}function BD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Sr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=BD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Uy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uk(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function gg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function zD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Tb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function ck(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fk,Ab,dk,hk,pk,zy=!1,jf=[],Yi=null,Qi=null,Ji=null,ku=new Map,Ou=new Map,Fi=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function Rl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dc(e),e!==null&&Ab(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GD(t,e,n,r,i){switch(e){case"focusin":return Yi=Rl(Yi,t,e,n,r,i),!0;case"dragenter":return Qi=Rl(Qi,t,e,n,r,i),!0;case"mouseover":return Ji=Rl(Ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ku.set(o,Rl(ku.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ou.set(o,Rl(Ou.get(o)||null,t,e,n,r,i)),!0}return!1}function mk(t){var e=Fo(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=rk(n),e!==null){t.blockedOn=e,pk(t.priority,function(){dk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ly=r,n.target.dispatchEvent(r),Ly=null}else return e=Dc(n),e!==null&&Ab(e),t.blockedOn=n,!1;e.shift()}return!0}function p1(t,e,n){pd(t)&&n.delete(e)}function HD(){zy=!1,Yi!==null&&pd(Yi)&&(Yi=null),Qi!==null&&pd(Qi)&&(Qi=null),Ji!==null&&pd(Ji)&&(Ji=null),ku.forEach(p1),Ou.forEach(p1)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,zy||(zy=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,HD)))}function Cu(t){function e(i){return Ml(i,t)}if(0<jf.length){Ml(jf[0],t);for(var n=1;n<jf.length;n++){var r=jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yi!==null&&Ml(Yi,t),Qi!==null&&Ml(Qi,t),Ji!==null&&Ml(Ji,t),ku.forEach(e),Ou.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)mk(n),n.blockedOn===null&&Fi.shift()}var is=Ti.ReactCurrentBatchConfig,Vd=!0;function qD(t,e,n,r){var i=Ue,o=is.transition;is.transition=null;try{Ue=1,Pb(t,e,n,r)}finally{Ue=i,is.transition=o}}function KD(t,e,n,r){var i=Ue,o=is.transition;is.transition=null;try{Ue=4,Pb(t,e,n,r)}finally{Ue=i,is.transition=o}}function Pb(t,e,n,r){if(Vd){var i=Wy(t,e,n,r);if(i===null)Ag(t,e,r,Fd,n),h1(t,r);else if(GD(i,t,e,n,r))r.stopPropagation();else if(h1(t,r),e&4&&-1<WD.indexOf(t)){for(;i!==null;){var o=Dc(i);if(o!==null&&fk(o),o=Wy(t,e,n,r),o===null&&Ag(t,e,r,Fd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ag(t,e,r,null,n)}}var Fd=null;function Wy(t,e,n,r){if(Fd=null,t=Sb(r),t=Fo(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function gk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MD()){case Eb:return 1;case sk:return 4;case $d:case DD:return 16;case lk:return 536870912;default:return 16}default:return 16}}var Hi=null,Ib=null,md=null;function yk(){if(md)return md;var t,e=Ib,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return md=i.slice(t,1<r?1-r:void 0)}function gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function m1(){return!1}function Kn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rf:m1,this.isPropagationStopped=m1,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kb=Kn(tl),Mc=dt({},tl,{view:0,detail:0}),XD=Kn(Mc),yg,vg,Dl,Ep=dt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ob,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(yg=t.screenX-Dl.screenX,vg=t.screenY-Dl.screenY):vg=yg=0,Dl=t),yg)},movementY:function(t){return"movementY"in t?t.movementY:vg}}),g1=Kn(Ep),YD=dt({},Ep,{dataTransfer:0}),QD=Kn(YD),JD=dt({},Mc,{relatedTarget:0}),bg=Kn(JD),ZD=dt({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),e$=Kn(ZD),t$=dt({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n$=Kn(t$),r$=dt({},tl,{data:0}),y1=Kn(r$),i$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a$[t])?!!e[t]:!1}function Ob(){return s$}var l$=dt({},Mc,{key:function(t){if(t.key){var e=i$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ob,charCode:function(t){return t.type==="keypress"?gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u$=Kn(l$),c$=dt({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=Kn(c$),f$=dt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ob}),d$=Kn(f$),h$=dt({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),p$=Kn(h$),m$=dt({},Ep,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g$=Kn(m$),y$=[9,13,27,32],Cb=hi&&"CompositionEvent"in window,uu=null;hi&&"documentMode"in document&&(uu=document.documentMode);var v$=hi&&"TextEvent"in window&&!uu,vk=hi&&(!Cb||uu&&8<uu&&11>=uu),b1=String.fromCharCode(32),w1=!1;function bk(t,e){switch(t){case"keyup":return y$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function b$(t,e){switch(t){case"compositionend":return wk(e);case"keypress":return e.which!==32?null:(w1=!0,b1);case"textInput":return t=e.data,t===b1&&w1?null:t;default:return null}}function w$(t,e){if(Ba)return t==="compositionend"||!Cb&&bk(t,e)?(t=yk(),md=Ib=Hi=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vk&&e.locale!=="ko"?null:e.data;default:return null}}var _$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_$[t.type]:e==="textarea"}function _k(t,e,n,r){JI(r),e=Bd(e,"onChange"),0<e.length&&(n=new kb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cu=null,Nu=null;function x$(t){Nk(t,0)}function Tp(t){var e=Wa(t);if(GI(e))return t}function S$(t,e){if(t==="change")return e}var xk=!1;if(hi){var wg;if(hi){var _g="oninput"in document;if(!_g){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),_g=typeof x1.oninput=="function"}wg=_g}else wg=!1;xk=wg&&(!document.documentMode||9<document.documentMode)}function S1(){cu&&(cu.detachEvent("onpropertychange",Sk),Nu=cu=null)}function Sk(t){if(t.propertyName==="value"&&Tp(Nu)){var e=[];_k(e,Nu,t,Sb(t)),nk(x$,e)}}function E$(t,e,n){t==="focusin"?(S1(),cu=e,Nu=n,cu.attachEvent("onpropertychange",Sk)):t==="focusout"&&S1()}function T$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tp(Nu)}function A$(t,e){if(t==="click")return Tp(e)}function P$(t,e){if(t==="input"||t==="change")return Tp(e)}function I$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:I$;function ju(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function Ek(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ek(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tk(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k$(t){var e=Tk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ek(n.ownerDocument.documentElement,n)){if(r!==null&&Nb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=T1(n,o);var a=T1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O$=hi&&"documentMode"in document&&11>=document.documentMode,Ua=null,Gy=null,fu=null,Hy=!1;function A1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hy||Ua==null||Ua!==Rd(r)||(r=Ua,"selectionStart"in r&&Nb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ju(fu,r)||(fu=r,r=Bd(Gy,"onSelect"),0<r.length&&(e=new kb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ua)))}function Mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var za={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},xg={},Ak={};hi&&(Ak=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Ap(t){if(xg[t])return xg[t];if(!za[t])return t;var e=za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ak)return xg[t]=e[n];return t}var Pk=Ap("animationend"),Ik=Ap("animationiteration"),kk=Ap("animationstart"),Ok=Ap("transitionend"),Ck=new Map,P1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(t,e){Ck.set(t,e),ya(e,[t])}for(var Sg=0;Sg<P1.length;Sg++){var Eg=P1[Sg],C$=Eg.toLowerCase(),N$=Eg[0].toUpperCase()+Eg.slice(1);yo(C$,"on"+N$)}yo(Pk,"onAnimationEnd");yo(Ik,"onAnimationIteration");yo(kk,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(Ok,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j$=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function I1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CD(r,e,void 0,t),t.currentTarget=null}function Nk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}}}if(Dd)throw t=By,Dd=!1,By=null,t}function rt(t,e){var n=e[Qy];n===void 0&&(n=e[Qy]=new Set);var r=t+"__bubble";n.has(r)||(jk(e,t,2,!1),n.add(r))}function Tg(t,e,n){var r=0;e&&(r|=4),jk(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Df]){t[Df]=!0,FI.forEach(function(n){n!=="selectionchange"&&(j$.has(n)||Tg(n,!1,t),Tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,Tg("selectionchange",!1,e))}}function jk(t,e,n,r){switch(gk(e)){case 1:var i=qD;break;case 4:i=KD;break;default:i=Pb}n=i.bind(null,e,n,t),i=void 0,!Fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ag(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}nk(function(){var u=o,d=Sb(n),f=[];e:{var h=Ck.get(t);if(h!==void 0){var m=kb,g=t;switch(t){case"keypress":if(gd(n)===0)break e;case"keydown":case"keyup":m=u$;break;case"focusin":g="focus",m=bg;break;case"focusout":g="blur",m=bg;break;case"beforeblur":case"afterblur":m=bg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d$;break;case Pk:case Ik:case kk:m=e$;break;case Ok:m=p$;break;case"scroll":m=XD;break;case"wheel":m=g$;break;case"copy":case"cut":case"paste":m=n$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v1}var v=(e&4)!==0,b=!v&&t==="scroll",_=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,x;w!==null;){x=w;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,_!==null&&(O=Iu(w,_),O!=null&&v.push(Mu(w,O,x)))),b)break;w=w.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Ly&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[pi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Fo(g):null,g!==null&&(b=va(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=g1,O="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=v1,O="onPointerLeave",_="onPointerEnter",w="pointer"),b=m==null?h:Wa(m),x=g==null?h:Wa(g),h=new v(O,w+"leave",m,n,d),h.target=b,h.relatedTarget=x,O=null,Fo(d)===u&&(v=new v(_,w+"enter",g,n,d),v.target=x,v.relatedTarget=b,O=v),b=O,m&&g)t:{for(v=m,_=g,w=0,x=v;x;x=Ca(x))w++;for(x=0,O=_;O;O=Ca(O))x++;for(;0<w-x;)v=Ca(v),w--;for(;0<x-w;)_=Ca(_),x--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ca(v),_=Ca(_)}v=null}else v=null;m!==null&&k1(f,h,m,v,!1),g!==null&&b!==null&&k1(f,b,g,v,!0)}}e:{if(h=u?Wa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=S$;else if(_1(h))if(xk)T=P$;else{T=T$;var P=E$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=A$);if(T&&(T=T(t,u))){_k(f,T,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&jy(h,"number",h.value)}switch(P=u?Wa(u):window,t){case"focusin":(_1(P)||P.contentEditable==="true")&&(Ua=P,Gy=u,fu=null);break;case"focusout":fu=Gy=Ua=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,A1(f,n,d);break;case"selectionchange":if(O$)break;case"keydown":case"keyup":A1(f,n,d)}var S;if(Cb)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ba?bk(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(vk&&n.locale!=="ko"&&(Ba||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ba&&(S=yk()):(Hi=d,Ib="value"in Hi?Hi.value:Hi.textContent,Ba=!0)),P=Bd(u,E),0<P.length&&(E=new y1(E,t,null,n,d),f.push({event:E,listeners:P}),S?E.data=S:(S=wk(n),S!==null&&(E.data=S)))),(S=v$?b$(t,n):w$(t,n))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(d=new y1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Nk(f,e)})}function Mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Iu(t,n),o!=null&&r.unshift(Mu(t,o,i)),o=Iu(t,e),o!=null&&r.push(Mu(t,o,i))),t=t.return}return r}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k1(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Iu(n,o),l!=null&&a.unshift(Mu(n,l,s))):i||(l=Iu(n,o),l!=null&&a.push(Mu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var R$=/\r\n?/g,M$=/\u0000|\uFFFD/g;function O1(t){return(typeof t=="string"?t:""+t).replace(R$,`
`).replace(M$,"")}function $f(t,e,n){if(e=O1(e),O1(t)!==e&&n)throw Error(te(425))}function Ud(){}var qy=null,Ky=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,D$=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,$$=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(t){return C1.resolve(null).then(t).catch(L$)}:Yy;function L$(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cu(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Nr="__reactFiber$"+nl,Du="__reactProps$"+nl,pi="__reactContainer$"+nl,Qy="__reactEvents$"+nl,V$="__reactListeners$"+nl,F$="__reactHandles$"+nl;function Fo(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N1(t);t!==null;){if(n=t[Nr])return n;t=N1(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[Nr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Pp(t){return t[Du]||null}var Jy=[],Ga=-1;function vo(t){return{current:t}}function at(t){0>Ga||(t.current=Jy[Ga],Jy[Ga]=null,Ga--)}function et(t,e){Ga++,Jy[Ga]=t.current,t.current=e}var ho={},mn=vo(ho),On=vo(!1),na=ho;function gs(t,e){var n=t.type.contextTypes;if(!n)return ho;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function zd(){at(On),at(mn)}function j1(t,e,n){if(mn.current!==ho)throw Error(te(168));et(mn,e),et(On,n)}function Rk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,ED(t)||"Unknown",i));return dt({},n,r)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ho,na=mn.current,et(mn,t),et(On,On.current),!0}function R1(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=Rk(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,at(On),at(mn),et(mn,t)):at(On),et(On,n)}var Yr=null,Ip=!1,Ig=!1;function Mk(t){Yr===null?Yr=[t]:Yr.push(t)}function B$(t){Ip=!0,Mk(t)}function bo(){if(!Ig&&Yr!==null){Ig=!0;var t=0,e=Ue;try{var n=Yr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,Ip=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),ak(Eb,bo),i}finally{Ue=e,Ig=!1}}return null}var Ha=[],qa=0,Gd=null,Hd=0,Jn=[],Zn=0,ra=null,Jr=1,Zr="";function Ro(t,e){Ha[qa++]=Hd,Ha[qa++]=Gd,Gd=t,Hd=e}function Dk(t,e,n){Jn[Zn++]=Jr,Jn[Zn++]=Zr,Jn[Zn++]=ra,ra=t;var r=Jr;t=Zr;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var o=32-Sr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-Sr(e)+i|n<<i|r,Zr=o+t}else Jr=1<<o|n<<i|r,Zr=t}function jb(t){t.return!==null&&(Ro(t,1),Dk(t,1,0))}function Rb(t){for(;t===Gd;)Gd=Ha[--qa],Ha[qa]=null,Hd=Ha[--qa],Ha[qa]=null;for(;t===ra;)ra=Jn[--Zn],Jn[Zn]=null,Zr=Jn[--Zn],Jn[Zn]=null,Jr=Jn[--Zn],Jn[Zn]=null}var Wn=null,Un=null,st=!1,br=null;function $k(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,Un=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,Un=null,!0):!1;default:return!1}}function Zy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ev(t){if(st){var e=Un;if(e){var n=e;if(!M1(t,e)){if(Zy(t))throw Error(te(418));e=Zi(n.nextSibling);var r=Wn;e&&M1(t,e)?$k(r,n):(t.flags=t.flags&-4097|2,st=!1,Wn=t)}}else{if(Zy(t))throw Error(te(418));t.flags=t.flags&-4097|2,st=!1,Wn=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Lf(t){if(t!==Wn)return!1;if(!st)return D1(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Un)){if(Zy(t))throw Lk(),Error(te(418));for(;e;)$k(t,e),e=Zi(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=Wn?Zi(t.stateNode.nextSibling):null;return!0}function Lk(){for(var t=Un;t;)t=Zi(t.nextSibling)}function ys(){Un=Wn=null,st=!1}function Mb(t){br===null?br=[t]:br.push(t)}var U$=Ti.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $1(t){var e=t._init;return e(t._payload)}function Vk(t){function e(_,w){if(t){var x=_.deletions;x===null?(_.deletions=[w],_.flags|=16):x.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=ro(_,w),_.index=0,_.sibling=null,_}function o(_,w,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<w?(_.flags|=2,w):x):(_.flags|=2,w)):(_.flags|=1048576,w)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,w,x,O){return w===null||w.tag!==6?(w=Mg(x,_.mode,O),w.return=_,w):(w=i(w,x),w.return=_,w)}function l(_,w,x,O){var T=x.type;return T===Fa?d(_,w,x.props.children,O,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&$1(T)===w.type)?(O=i(w,x.props),O.ref=$l(_,w,x),O.return=_,O):(O=Sd(x.type,x.key,x.props,null,_.mode,O),O.ref=$l(_,w,x),O.return=_,O)}function u(_,w,x,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Dg(x,_.mode,O),w.return=_,w):(w=i(w,x.children||[]),w.return=_,w)}function d(_,w,x,O,T){return w===null||w.tag!==7?(w=Yo(x,_.mode,O,T),w.return=_,w):(w=i(w,x),w.return=_,w)}function f(_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Mg(""+w,_.mode,x),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case If:return x=Sd(w.type,w.key,w.props,null,_.mode,x),x.ref=$l(_,null,w),x.return=_,x;case Va:return w=Dg(w,_.mode,x),w.return=_,w;case Di:var O=w._init;return f(_,O(w._payload),x)}if(Zl(w)||Nl(w))return w=Yo(w,_.mode,x,null),w.return=_,w;Vf(_,w)}return null}function h(_,w,x,O){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(_,w,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case If:return x.key===T?l(_,w,x,O):null;case Va:return x.key===T?u(_,w,x,O):null;case Di:return T=x._init,h(_,w,T(x._payload),O)}if(Zl(x)||Nl(x))return T!==null?null:d(_,w,x,O,null);Vf(_,x)}return null}function m(_,w,x,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(x)||null,s(w,_,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case If:return _=_.get(O.key===null?x:O.key)||null,l(w,_,O,T);case Va:return _=_.get(O.key===null?x:O.key)||null,u(w,_,O,T);case Di:var P=O._init;return m(_,w,x,P(O._payload),T)}if(Zl(O)||Nl(O))return _=_.get(x)||null,d(w,_,O,T,null);Vf(w,O)}return null}function g(_,w,x,O){for(var T=null,P=null,S=w,E=w=0,I=null;S!==null&&E<x.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var C=h(_,S,x[E],O);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(_,S),w=o(C,w,E),P===null?T=C:P.sibling=C,P=C,S=I}if(E===x.length)return n(_,S),st&&Ro(_,E),T;if(S===null){for(;E<x.length;E++)S=f(_,x[E],O),S!==null&&(w=o(S,w,E),P===null?T=S:P.sibling=S,P=S);return st&&Ro(_,E),T}for(S=r(_,S);E<x.length;E++)I=m(S,_,E,x[E],O),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),w=o(I,w,E),P===null?T=I:P.sibling=I,P=I);return t&&S.forEach(function(k){return e(_,k)}),st&&Ro(_,E),T}function v(_,w,x,O){var T=Nl(x);if(typeof T!="function")throw Error(te(150));if(x=T.call(x),x==null)throw Error(te(151));for(var P=T=null,S=w,E=w=0,I=null,C=x.next();S!==null&&!C.done;E++,C=x.next()){S.index>E?(I=S,S=null):I=S.sibling;var k=h(_,S,C.value,O);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(_,S),w=o(k,w,E),P===null?T=k:P.sibling=k,P=k,S=I}if(C.done)return n(_,S),st&&Ro(_,E),T;if(S===null){for(;!C.done;E++,C=x.next())C=f(_,C.value,O),C!==null&&(w=o(C,w,E),P===null?T=C:P.sibling=C,P=C);return st&&Ro(_,E),T}for(S=r(_,S);!C.done;E++,C=x.next())C=m(S,_,E,C.value,O),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),w=o(C,w,E),P===null?T=C:P.sibling=C,P=C);return t&&S.forEach(function(j){return e(_,j)}),st&&Ro(_,E),T}function b(_,w,x,O){if(typeof x=="object"&&x!==null&&x.type===Fa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case If:e:{for(var T=x.key,P=w;P!==null;){if(P.key===T){if(T=x.type,T===Fa){if(P.tag===7){n(_,P.sibling),w=i(P,x.props.children),w.return=_,_=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&$1(T)===P.type){n(_,P.sibling),w=i(P,x.props),w.ref=$l(_,P,x),w.return=_,_=w;break e}n(_,P);break}else e(_,P);P=P.sibling}x.type===Fa?(w=Yo(x.props.children,_.mode,O,x.key),w.return=_,_=w):(O=Sd(x.type,x.key,x.props,null,_.mode,O),O.ref=$l(_,w,x),O.return=_,_=O)}return a(_);case Va:e:{for(P=x.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(_,w.sibling),w=i(w,x.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Dg(x,_.mode,O),w.return=_,_=w}return a(_);case Di:return P=x._init,b(_,w,P(x._payload),O)}if(Zl(x))return g(_,w,x,O);if(Nl(x))return v(_,w,x,O);Vf(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,x),w.return=_,_=w):(n(_,w),w=Mg(x,_.mode,O),w.return=_,_=w),a(_)):n(_,w)}return b}var vs=Vk(!0),Fk=Vk(!1),qd=vo(null),Kd=null,Ka=null,Db=null;function $b(){Db=Ka=Kd=null}function Lb(t){var e=qd.current;at(qd),t._currentValue=e}function tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function os(t,e){Kd=t,Db=Ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(Db!==t)if(t={context:t,memoizedValue:e,next:null},Ka===null){if(Kd===null)throw Error(te(308));Ka=t,Kd.dependencies={lanes:0,firstContext:t}}else Ka=Ka.next=t;return e}var Bo=null;function Vb(t){Bo===null?Bo=[t]:Bo.push(t)}function Bk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vb(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Fb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vb(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tb(t,n)}}function L1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(h=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=dt({},f,h);break e;case 2:$i=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);oa|=a,t.lanes=a,t.memoizedState=f}}function V1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var $c={},Mr=vo($c),$u=vo($c),Lu=vo($c);function Uo(t){if(t===$c)throw Error(te(174));return t}function Bb(t,e){switch(et(Lu,e),et($u,t),et(Mr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:My(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=My(e,t)}at(Mr),et(Mr,e)}function bs(){at(Mr),at($u),at(Lu)}function zk(t){Uo(Lu.current);var e=Uo(Mr.current),n=My(e,t.type);e!==n&&(et($u,t),et(Mr,n))}function Ub(t){$u.current===t&&(at(Mr),at($u))}var ct=vo(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kg=[];function zb(){for(var t=0;t<kg.length;t++)kg[t]._workInProgressVersionPrimary=null;kg.length=0}var vd=Ti.ReactCurrentDispatcher,Og=Ti.ReactCurrentBatchConfig,ia=0,ft=null,It=null,Vt=null,Qd=!1,du=!1,Vu=0,z$=0;function an(){throw Error(te(321))}function Wb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function Gb(t,e,n,r,i,o){if(ia=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vd.current=t===null||t.memoizedState===null?q$:K$,t=n(r,i),du){o=0;do{if(du=!1,Vu=0,25<=o)throw Error(te(301));o+=1,Vt=It=null,e.updateQueue=null,vd.current=X$,t=n(r,i)}while(du)}if(vd.current=Jd,e=It!==null&&It.next!==null,ia=0,Vt=It=ft=null,Qd=!1,e)throw Error(te(300));return t}function Hb(){var t=Vu!==0;return Vu=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function sr(){if(It===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Vt===null?ft.memoizedState:Vt.next;if(e!==null)Vt=e,It=t;else{if(t===null)throw Error(te(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Fu(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=sr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((ia&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ft.lanes|=d,oa|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ar(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,oa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ng(t){var e=sr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ar(o,e.memoizedState)||(In=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Wk(){}function Gk(t,e){var n=ft,r=sr(),i=e(),o=!Ar(r.memoizedState,i);if(o&&(r.memoizedState=i,In=!0),r=r.queue,qb(Kk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Bu(9,qk.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(te(349));ia&30||Hk(n,e,i)}return i}function Hk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qk(t,e,n,r){e.value=n,e.getSnapshot=r,Xk(e)&&Yk(t)}function Kk(t,e,n){return n(function(){Xk(e)&&Yk(t)})}function Xk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function Yk(t){var e=mi(t,1);e!==null&&Er(e,t,1,-1)}function F1(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=H$.bind(null,ft,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qk(){return sr().memoizedState}function bd(t,e,n,r){var i=kr();ft.flags|=t,i.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function kp(t,e,n,r){var i=sr();r=r===void 0?null:r;var o=void 0;if(It!==null){var a=It.memoizedState;if(o=a.destroy,r!==null&&Wb(r,a.deps)){i.memoizedState=Bu(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Bu(1|e,n,o,r)}function B1(t,e){return bd(8390656,8,t,e)}function qb(t,e){return kp(2048,8,t,e)}function Jk(t,e){return kp(4,2,t,e)}function Zk(t,e){return kp(4,4,t,e)}function eO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tO(t,e,n){return n=n!=null?n.concat([t]):null,kp(4,4,eO.bind(null,e,t),n)}function Kb(){}function nO(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rO(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iO(t,e,n){return ia&21?(Ar(n,e)||(n=uk(),ft.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function W$(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Og.transition;Og.transition={};try{t(!1),e()}finally{Ue=n,Og.transition=r}}function oO(){return sr().memoizedState}function G$(t,e,n){var r=no(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aO(t))sO(e,n);else if(n=Bk(t,e,n,r),n!==null){var i=xn();Er(n,t,r,i),lO(n,e,r)}}function H$(t,e,n){var r=no(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aO(t))sO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,a)){var l=e.interleaved;l===null?(i.next=i,Vb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Bk(t,e,i,r),n!==null&&(i=xn(),Er(n,t,r,i),lO(n,e,r))}}function aO(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function sO(t,e){du=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tb(t,n)}}var Jd={readContext:ar,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},q$={readContext:ar,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:B1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bd(4194308,4,eO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G$.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:F1,useDebugValue:Kb,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=F1(!1),e=t[0];return t=W$.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=kr();if(st){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Bt===null)throw Error(te(349));ia&30||Hk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,B1(Kk.bind(null,r,o,t),[t]),r.flags|=2048,Bu(9,qk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kr(),e=Bt.identifierPrefix;if(st){var n=Zr,r=Jr;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K$={readContext:ar,useCallback:nO,useContext:ar,useEffect:qb,useImperativeHandle:tO,useInsertionEffect:Jk,useLayoutEffect:Zk,useMemo:rO,useReducer:Cg,useRef:Qk,useState:function(){return Cg(Fu)},useDebugValue:Kb,useDeferredValue:function(t){var e=sr();return iO(e,It.memoizedState,t)},useTransition:function(){var t=Cg(Fu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Wk,useSyncExternalStore:Gk,useId:oO,unstable_isNewReconciler:!1},X$={readContext:ar,useCallback:nO,useContext:ar,useEffect:qb,useImperativeHandle:tO,useInsertionEffect:Jk,useLayoutEffect:Zk,useMemo:rO,useReducer:Ng,useRef:Qk,useState:function(){return Ng(Fu)},useDebugValue:Kb,useDeferredValue:function(t){var e=sr();return It===null?e.memoizedState=t:iO(e,It.memoizedState,t)},useTransition:function(){var t=Ng(Fu)[0],e=sr().memoizedState;return[t,e]},useMutableSource:Wk,useSyncExternalStore:Gk,useId:oO,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Op={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=no(t),o=si(r,i);o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Er(e,t,i,r),yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=no(t),o=si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=eo(t,o,i),e!==null&&(Er(e,t,i,r),yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=no(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,r),e!==null&&(Er(e,t,r,n),yd(e,t,r))}};function U1(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(i,o):!0}function uO(t,e,n){var r=!1,i=ho,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=Cn(e)?na:mn.current,r=e.contextTypes,o=(r=r!=null)?gs(t,i):ho),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Op.enqueueReplaceState(e,e.state,null)}function rv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=Cn(e)?na:mn.current,i.context=gs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(nv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Op.enqueueReplaceState(i,i.state,null),Xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ws(t,e){try{var n="",r=e;do n+=SD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y$=typeof WeakMap=="function"?WeakMap:Map;function cO(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,pv=r),iv(t,e)},n}function fO(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cL.bind(null,t,e,n),e.then(t,t))}function G1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,eo(n,e,1))),n.lanes|=1),t)}var Q$=Ti.ReactCurrentOwner,In=!1;function bn(t,e,n,r){e.child=t===null?Fk(e,null,n,r):vs(e,t.child,n,r)}function q1(t,e,n,r,i){n=n.render;var o=e.ref;return os(e,i),r=Gb(t,e,n,r,o,i),n=Hb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(st&&n&&jb(e),e.flags|=1,bn(t,e,r,i),e.child)}function K1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!nw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dO(t,e,o,r,i)):(t=Sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(a,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ro(o,r),t.ref=e.ref,t.return=e,e.child=t}function dO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ju(o,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,gi(t,e,i)}return ov(t,e,n,r,i)}function hO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ya,Vn),Vn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Ya,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Ya,Vn),Vn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Ya,Vn),Vn|=r;return bn(t,e,i,n),e.child}function pO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,n,r,i){var o=Cn(n)?na:mn.current;return o=gs(e,o),os(e,i),n=Gb(t,e,n,r,o,i),r=Hb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(st&&r&&jb(e),e.flags|=1,bn(t,e,n,i),e.child)}function X1(t,e,n,r,i){if(Cn(n)){var o=!0;Wd(e)}else o=!1;if(os(e,i),e.stateNode===null)wd(t,e),uO(e,n,r),rv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Cn(n)?na:mn.current,u=gs(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&z1(e,a,r,u),$i=!1;var h=e.memoizedState;a.state=h,Xd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||On.current||$i?(typeof d=="function"&&(nv(e,n,d,r),l=e.memoizedState),(s=$i||U1(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Uk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Cn(n)?na:mn.current,l=gs(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&z1(e,a,r,l),$i=!1,h=e.memoizedState,a.state=h,Xd(e,r,a,i);var g=e.memoizedState;s!==f||h!==g||On.current||$i?(typeof m=="function"&&(nv(e,n,m,r),g=e.memoizedState),(u=$i||U1(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return av(t,e,n,r,o,i)}function av(t,e,n,r,i,o){pO(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&R1(e,n,!1),gi(t,e,o);r=e.stateNode,Q$.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=vs(e,t.child,null,o),e.child=vs(e,null,s,o)):bn(t,e,s,o),e.memoizedState=r.state,i&&R1(e,n,!0),e.child}function mO(t){var e=t.stateNode;e.pendingContext?j1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j1(t,e.context,!1),Bb(t,e.containerInfo)}function Y1(t,e,n,r,i){return ys(),Mb(i),e.flags|=256,bn(t,e,n,r),e.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function lv(t){return{baseLanes:t,cachePool:null,transitions:null}}function gO(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ct,i&1),t===null)return ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=jp(a,r,0,null),t=Yo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=lv(n),e.memoizedState=sv,t):Xb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return J$(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ro(s,o):(o=Yo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?lv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=sv,r}return o=t.child,t=o.sibling,r=ro(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xb(t,e){return e=jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ff(t,e,n,r){return r!==null&&Mb(r),vs(e,t.child,null,n),t=Xb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J$(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=jg(Error(te(422))),Ff(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jp({mode:"visible",children:r.children},i,0,null),o=Yo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&vs(e,t.child,null,a),e.child.memoizedState=lv(a),e.memoizedState=sv,o);if(!(e.mode&1))return Ff(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=jg(o,r,void 0),Ff(t,e,a,r)}if(s=(a&t.childLanes)!==0,In||s){if(r=Bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mi(t,i),Er(r,t,i,-1))}return tw(),r=jg(Error(te(421))),Ff(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fL.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Un=Zi(i.nextSibling),Wn=e,st=!0,br=null,t!==null&&(Jn[Zn++]=Jr,Jn[Zn++]=Zr,Jn[Zn++]=ra,Jr=t.id,Zr=t.overflow,ra=e),e=Xb(e,r.children),e.flags|=4096,e)}function Q1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tv(t.return,e,n)}function Rg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function yO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q1(t,n,e);else if(t.tag===19)Q1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rg(e,!0,n,null,o);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z$(t,e,n){switch(e.tag){case 3:mO(e),ys();break;case 5:zk(e);break;case 1:Cn(e.type)&&Wd(e);break;case 4:Bb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?gO(t,e,n):(et(ct,ct.current&1),t=gi(t,e,n),t!==null?t.sibling:null);et(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,hO(t,e,n)}return gi(t,e,n)}var vO,uv,bO,wO;vO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};bO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo(Mr.current);var o=null;switch(n){case"input":i=Cy(t,i),r=Cy(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=Ry(t,i),r=Ry(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ud)}Dy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Au.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Au.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};wO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eL(t,e,n){var r=e.pendingProps;switch(Rb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Cn(e.type)&&zd(),sn(e),null;case 3:return r=e.stateNode,bs(),at(On),at(mn),zb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(yv(br),br=null))),uv(t,e),sn(e),null;case 5:Ub(e);var i=Uo(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)bO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return sn(e),null}if(t=Uo(Mr.current),Lf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Nr]=e,r[Du]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)rt(tu[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":a1(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":l1(r,o),rt("invalid",r)}Dy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$f(r.textContent,s,t),i=["children",""+s]):Au.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":kf(r),s1(r,o,!0);break;case"textarea":kf(r),u1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ud)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Nr]=e,t[Du]=r,vO(t,e,!1,!1),e.stateNode=t;e:{switch(a=$y(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)rt(tu[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":a1(t,r),i=Cy(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":l1(t,r),i=Ry(t,r),rt("invalid",t);break;default:i=r}Dy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?QI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pu(t,l):typeof l=="number"&&Pu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Au.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&bb(t,o,l,a))}switch(n){case"input":kf(t),s1(t,r,!1);break;case"textarea":kf(t),u1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ts(t,!!r.multiple,o,!1):r.defaultValue!=null&&ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)wO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Uo(Lu.current),Uo(Mr.current),Lf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(o=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return sn(e),null;case 13:if(at(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Un!==null&&e.mode&1&&!(e.flags&128))Lk(),ys(),e.flags|=98560,o=!1;else if(o=Lf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Nr]=e}else ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else br!==null&&(yv(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ot===0&&(Ot=3):tw())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return bs(),uv(t,e),t===null&&Ru(e.stateNode.containerInfo),sn(e),null;case 10:return Lb(e.type._context),sn(e),null;case 17:return Cn(e.type)&&zd(),sn(e),null;case 19:if(at(ct),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ll(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yd(t),a!==null){for(e.flags|=128,Ll(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>_s&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!st)return sn(e),null}else 2*vt()-o.renderingStartTime>_s&&n!==1073741824&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=ct.current,et(ct,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return ew(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function tL(t,e){switch(Rb(e),e.tag){case 1:return Cn(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bs(),at(On),at(mn),zb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ub(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return bs(),null;case 10:return Lb(e.type._context),null;case 22:case 23:return ew(),null;case 24:return null;default:return null}}var Bf=!1,fn=!1,nL=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Xa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function cv(t,e,n){try{n()}catch(r){mt(t,e,r)}}var J1=!1;function rL(t,e){if(qy=Vd,t=Tk(),Nb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ky={focusedElem:t,selectionRange:n},Vd=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:mr(e.type,v),b);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(O){mt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=J1,J1=!1,g}function hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&cv(e,n,o)}i=i.next}while(i!==r)}}function Cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _O(t){var e=t.alternate;e!==null&&(t.alternate=null,_O(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[Du],delete e[Qy],delete e[V$],delete e[F$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xO(t){return t.tag===5||t.tag===3||t.tag===4}function Z1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ud));else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}function hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hv(t,e,n),t=t.sibling;t!==null;)hv(t,e,n),t=t.sibling}var qt=null,gr=!1;function Ri(t,e,n){for(n=n.child;n!==null;)SO(t,e,n),n=n.sibling}function SO(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Sp,n)}catch{}switch(n.tag){case 5:fn||Xa(n,e);case 6:var r=qt,i=gr;qt=null,Ri(t,e,n),qt=r,gr=i,qt!==null&&(gr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(gr?(t=qt,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),Cu(t)):Pg(qt,n.stateNode));break;case 4:r=qt,i=gr,qt=n.stateNode.containerInfo,gr=!0,Ri(t,e,n),qt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cv(n,e,a),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!fn&&(Xa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){mt(n,e,s)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Ri(t,e,n),fn=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function eS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nL),e.forEach(function(r){var i=dL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:qt=s.stateNode,gr=!1;break e;case 3:qt=s.stateNode.containerInfo,gr=!0;break e;case 4:qt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(qt===null)throw Error(te(160));SO(o,a,i),qt=null,gr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EO(e,t),e=e.sibling}function EO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Ir(t),r&4){try{hu(3,t,t.return),Cp(3,t)}catch(v){mt(t,t.return,v)}try{hu(5,t,t.return)}catch(v){mt(t,t.return,v)}}break;case 1:dr(e,t),Ir(t),r&512&&n!==null&&Xa(n,n.return);break;case 5:if(dr(e,t),Ir(t),r&512&&n!==null&&Xa(n,n.return),t.flags&32){var i=t.stateNode;try{Pu(i,"")}catch(v){mt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&HI(i,o),$y(s,a);var u=$y(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?QI(i,f):d==="dangerouslySetInnerHTML"?XI(i,f):d==="children"?Pu(i,f):bb(i,d,f,u)}switch(s){case"input":Ny(i,o);break;case"textarea":qI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ts(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?ts(i,!!o.multiple,o.defaultValue,!0):ts(i,!!o.multiple,o.multiple?[]:"",!1))}i[Du]=o}catch(v){mt(t,t.return,v)}}break;case 6:if(dr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){mt(t,t.return,v)}}break;case 3:if(dr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(v){mt(t,t.return,v)}break;case 4:dr(e,t),Ir(t);break;case 13:dr(e,t),Ir(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jb=vt())),r&4&&eS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||d,dr(e,t),fn=u):dr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:hu(4,h,h.return);break;case 1:Xa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){mt(r,n,v)}}break;case 5:Xa(h,h.return);break;case 22:if(h.memoizedState!==null){nS(f);continue}}m!==null?(m.return=h,ce=m):nS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=YI("display",a))}catch(v){mt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){mt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dr(e,t),Ir(t),r&4&&eS(t);break;case 21:break;default:dr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xO(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pu(i,""),r.flags&=-33);var o=Z1(t);hv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Z1(t);dv(t,s,a);break;default:throw Error(te(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iL(t,e,n){ce=t,TO(t)}function TO(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||fn;s=Bf;var u=fn;if(Bf=a,(fn=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?rS(i):l!==null?(l.return=a,ce=l):rS(i);for(;o!==null;)ce=o,TO(o),o=o.sibling;ce=i,Bf=s,fn=u}tS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):tS(t)}}function tS(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Cp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&V1(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V1(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}fn||e.flags&512&&fv(e)}catch(h){mt(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function nS(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function rS(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cp(4,e)}catch(l){mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){mt(e,i,l)}}var o=e.return;try{fv(e)}catch(l){mt(e,o,l)}break;case 5:var a=e.return;try{fv(e)}catch(l){mt(e,a,l)}}}catch(l){mt(e,e.return,l)}if(e===t){ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ce=s;break}ce=e.return}}var oL=Math.ceil,Zd=Ti.ReactCurrentDispatcher,Yb=Ti.ReactCurrentOwner,nr=Ti.ReactCurrentBatchConfig,je=0,Bt=null,Et=null,Jt=0,Vn=0,Ya=vo(0),Ot=0,Uu=null,oa=0,Np=0,Qb=0,pu=null,An=null,Jb=0,_s=1/0,Xr=null,eh=!1,pv=null,to=null,Uf=!1,qi=null,th=0,mu=0,mv=null,_d=-1,xd=0;function xn(){return je&6?vt():_d!==-1?_d:_d=vt()}function no(t){return t.mode&1?je&2&&Jt!==0?Jt&-Jt:U$.transition!==null?(xd===0&&(xd=uk()),xd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:gk(t.type)),t):1}function Er(t,e,n,r){if(50<mu)throw mu=0,mv=null,Error(te(185));Rc(t,n,r),(!(je&2)||t!==Bt)&&(t===Bt&&(!(je&2)&&(Np|=n),Ot===4&&Bi(t,Jt)),Nn(t,r),n===1&&je===0&&!(e.mode&1)&&(_s=vt()+500,Ip&&bo()))}function Nn(t,e){var n=t.callbackNode;UD(t,e);var r=Ld(t,t===Bt?Jt:0);if(r===0)n!==null&&d1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d1(n),e===1)t.tag===0?B$(iS.bind(null,t)):Mk(iS.bind(null,t)),$$(function(){!(je&6)&&bo()}),n=null;else{switch(ck(r)){case 1:n=Eb;break;case 4:n=sk;break;case 16:n=$d;break;case 536870912:n=lk;break;default:n=$d}n=jO(n,AO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AO(t,e){if(_d=-1,xd=0,je&6)throw Error(te(327));var n=t.callbackNode;if(as()&&t.callbackNode!==n)return null;var r=Ld(t,t===Bt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var i=je;je|=2;var o=IO();(Bt!==t||Jt!==e)&&(Xr=null,_s=vt()+500,Xo(t,e));do try{lL();break}catch(s){PO(t,s)}while(1);$b(),Zd.current=o,je=i,Et!==null?e=0:(Bt=null,Jt=0,e=Ot)}if(e!==0){if(e===2&&(i=Uy(t),i!==0&&(r=i,e=gv(t,i))),e===1)throw n=Uu,Xo(t,0),Bi(t,r),Nn(t,vt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!aL(i)&&(e=nh(t,r),e===2&&(o=Uy(t),o!==0&&(r=o,e=gv(t,o))),e===1))throw n=Uu,Xo(t,0),Bi(t,r),Nn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Mo(t,An,Xr);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=Jb+500-vt(),10<e)){if(Ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yy(Mo.bind(null,t,An,Xr),e);break}Mo(t,An,Xr);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Sr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oL(r/1960))-r,10<r){t.timeoutHandle=Yy(Mo.bind(null,t,An,Xr),r);break}Mo(t,An,Xr);break;case 5:Mo(t,An,Xr);break;default:throw Error(te(329))}}}return Nn(t,vt()),t.callbackNode===n?AO.bind(null,t):null}function gv(t,e){var n=pu;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=nh(t,e),t!==2&&(e=An,An=n,e!==null&&yv(e)),t}function yv(t){An===null?An=t:An.push.apply(An,t)}function aL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ar(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Qb,e&=~Np,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function iS(t){if(je&6)throw Error(te(327));as();var e=Ld(t,0);if(!(e&1))return Nn(t,vt()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=Uy(t);r!==0&&(e=r,n=gv(t,r))}if(n===1)throw n=Uu,Xo(t,0),Bi(t,e),Nn(t,vt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,An,Xr),Nn(t,vt()),null}function Zb(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(_s=vt()+500,Ip&&bo())}}function aa(t){qi!==null&&qi.tag===0&&!(je&6)&&as();var e=je;je|=1;var n=nr.transition,r=Ue;try{if(nr.transition=null,Ue=1,t)return t()}finally{Ue=r,nr.transition=n,je=e,!(je&6)&&bo()}}function ew(){Vn=Ya.current,at(Ya)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D$(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Rb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:bs(),at(On),at(mn),zb();break;case 5:Ub(r);break;case 4:bs();break;case 13:at(ct);break;case 19:at(ct);break;case 10:Lb(r.type._context);break;case 22:case 23:ew()}n=n.return}if(Bt=t,Et=t=ro(t.current,null),Jt=Vn=e,Ot=0,Uu=null,Qb=Np=oa=0,An=pu=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Bo=null}return t}function PO(t,e){do{var n=Et;try{if($b(),vd.current=Jd,Qd){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qd=!1}if(ia=0,Vt=It=ft=null,du=!1,Vu=0,Yb.current=null,n===null||n.return===null){Ot=1,Uu=e,Et=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=G1(a);if(m!==null){m.flags&=-257,H1(m,a,s,o,e),m.mode&1&&W1(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){W1(o,u,e),tw();break e}l=Error(te(426))}}else if(st&&s.mode&1){var b=G1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),H1(b,a,s,o,e),Mb(ws(l,s));break e}}o=l=ws(l,s),Ot!==4&&(Ot=2),pu===null?pu=[o]:pu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=cO(o,l,e);L1(o,_);break e;case 1:s=l;var w=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(to===null||!to.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=fO(o,s,e);L1(o,O);break e}}o=o.return}while(o!==null)}OO(n)}catch(T){e=T,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function IO(){var t=Zd.current;return Zd.current=Jd,t===null?Jd:t}function tw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||!(oa&268435455)&&!(Np&268435455)||Bi(Bt,Jt)}function nh(t,e){var n=je;je|=2;var r=IO();(Bt!==t||Jt!==e)&&(Xr=null,Xo(t,e));do try{sL();break}catch(i){PO(t,i)}while(1);if($b(),je=n,Zd.current=r,Et!==null)throw Error(te(261));return Bt=null,Jt=0,Ot}function sL(){for(;Et!==null;)kO(Et)}function lL(){for(;Et!==null&&!jD();)kO(Et)}function kO(t){var e=NO(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?OO(t):Et=e,Yb.current=null}function OO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tL(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Et=null;return}}else if(n=eL(n,e,Vn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ot===0&&(Ot=5)}function Mo(t,e,n){var r=Ue,i=nr.transition;try{nr.transition=null,Ue=1,uL(t,e,n,r)}finally{nr.transition=i,Ue=r}return null}function uL(t,e,n,r){do as();while(qi!==null);if(je&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(zD(t,o),t===Bt&&(Et=Bt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uf||(Uf=!0,jO($d,function(){return as(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var a=Ue;Ue=1;var s=je;je|=4,Yb.current=null,rL(t,n),EO(n,t),k$(Ky),Vd=!!qy,Ky=qy=null,t.current=n,iL(n),RD(),je=s,Ue=a,nr.transition=o}else t.current=n;if(Uf&&(Uf=!1,qi=t,th=i),o=t.pendingLanes,o===0&&(to=null),$D(n.stateNode),Nn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eh)throw eh=!1,t=pv,pv=null,t;return th&1&&t.tag!==0&&as(),o=t.pendingLanes,o&1?t===mv?mu++:(mu=0,mv=t):mu=0,bo(),null}function as(){if(qi!==null){var t=ck(th),e=nr.transition,n=Ue;try{if(nr.transition=null,Ue=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,th=0,je&6)throw Error(te(331));var i=je;for(je|=4,ce=t.current;ce!==null;){var o=ce,a=o.child;if(ce.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:hu(8,d,o)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,m=d.return;if(_O(d),d===u){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ce=a;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ce=_;break e}ce=o.return}}var w=t.current;for(ce=w;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=w;ce!==null;){if(s=ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Cp(9,s)}}catch(T){mt(s,s.return,T)}if(s===a){ce=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ce=O;break e}ce=s.return}}if(je=i,bo(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Sp,t)}catch{}r=!0}return r}finally{Ue=n,nr.transition=e}}return!1}function oS(t,e,n){e=ws(n,e),e=cO(t,e,1),t=eo(t,e,1),e=xn(),t!==null&&(Rc(t,1,e),Nn(t,e))}function mt(t,e,n){if(t.tag===3)oS(t,t,n);else for(;e!==null;){if(e.tag===3){oS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){t=ws(n,t),t=fO(e,t,1),e=eo(e,t,1),t=xn(),e!==null&&(Rc(e,1,t),Nn(e,t));break}}e=e.return}}function cL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Jt&n)===n&&(Ot===4||Ot===3&&(Jt&130023424)===Jt&&500>vt()-Jb?Xo(t,0):Qb|=n),Nn(t,e)}function CO(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=xn();t=mi(t,e),t!==null&&(Rc(t,e,n),Nn(t,n))}function fL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CO(t,n)}function dL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),CO(t,n)}var NO;NO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,Z$(t,e,n);In=!!(t.flags&131072)}else In=!1,st&&e.flags&1048576&&Dk(e,Hd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wd(t,e),t=e.pendingProps;var i=gs(e,mn.current);os(e,n),i=Gb(null,e,r,t,i,n);var o=Hb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,Wd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fb(e),i.updater=Op,e.stateNode=i,i._reactInternals=e,rv(e,r,t,n),e=av(null,e,r,!0,o,n)):(e.tag=0,st&&o&&jb(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pL(r),t=mr(r,t),i){case 0:e=ov(null,e,r,t,n);break e;case 1:e=X1(null,e,r,t,n);break e;case 11:e=q1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,mr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),ov(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),X1(t,e,r,i,n);case 3:e:{if(mO(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Uk(t,e),Xd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ws(Error(te(423)),e),e=Y1(t,e,r,n,i);break e}else if(r!==i){i=ws(Error(te(424)),e),e=Y1(t,e,r,n,i);break e}else for(Un=Zi(e.stateNode.containerInfo.firstChild),Wn=e,st=!0,br=null,n=Fk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===i){e=gi(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return zk(e),t===null&&ev(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Xy(r,i)?a=null:o!==null&&Xy(r,o)&&(e.flags|=32),pO(t,e),bn(t,e,a,n),e.child;case 6:return t===null&&ev(e),null;case 13:return gO(t,e,n);case 4:return Bb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vs(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),q1(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(qd,r._currentValue),r._currentValue=a,o!==null)if(Ar(o.value,a)){if(o.children===i.children&&!On.current){e=gi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=si(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,os(e,n),i=ar(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),K1(t,e,r,i,n);case 15:return dO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),wd(t,e),e.tag=1,Cn(r)?(t=!0,Wd(e)):t=!1,os(e,n),uO(e,r,i),rv(e,r,i,n),av(null,e,r,!0,t,n);case 19:return yO(t,e,n);case 22:return hO(t,e,n)}throw Error(te(156,e.tag))};function jO(t,e){return ak(t,e)}function hL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new hL(t,e,n,r)}function nw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pL(t){if(typeof t=="function")return nw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_b)return 11;if(t===xb)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")nw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fa:return Yo(n.children,i,o,e);case wb:a=8,i|=8;break;case Py:return t=er(12,n,e,i|2),t.elementType=Py,t.lanes=o,t;case Iy:return t=er(13,n,e,i),t.elementType=Iy,t.lanes=o,t;case ky:return t=er(19,n,e,i),t.elementType=ky,t.lanes=o,t;case zI:return jp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BI:a=10;break e;case UI:a=9;break e;case _b:a=11;break e;case xb:a=14;break e;case Di:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=er(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yo(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function jp(t,e,n,r){return t=er(22,t,r,e),t.elementType=zI,t.lanes=n,t.stateNode={isHidden:!1},t}function Mg(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gg(0),this.expirationTimes=gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rw(t,e,n,r,i,o,a,s,l){return t=new mL(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=er(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fb(o),t}function gL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RO(t){if(!t)return ho;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Cn(n))return Rk(t,n,e)}return e}function MO(t,e,n,r,i,o,a,s,l){return t=rw(n,r,!0,t,i,o,a,s,l),t.context=RO(null),n=t.current,r=xn(),i=no(n),o=si(r,i),o.callback=e??null,eo(n,o,i),t.current.lanes=i,Rc(t,i,r),Nn(t,r),t}function Rp(t,e,n,r){var i=e.current,o=xn(),a=no(i);return n=RO(n),e.context===null?e.context=n:e.pendingContext=n,e=si(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=eo(i,e,a),t!==null&&(Er(t,i,a,o),yd(t,i,a)),a}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iw(t,e){aS(t,e),(t=t.alternate)&&aS(t,e)}function yL(){return null}var DO=typeof reportError=="function"?reportError:function(t){console.error(t)};function ow(t){this._internalRoot=t}Mp.prototype.render=ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Rp(t,e,null,null)};Mp.prototype.unmount=ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Rp(null,t,null,null)}),e[pi]=null}};function Mp(t){this._internalRoot=t}Mp.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&mk(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sS(){}function vL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rh(a);o.call(u)}}var a=MO(e,r,t,0,null,!1,!1,"",sS);return t._reactRootContainer=a,t[pi]=a.current,Ru(t.nodeType===8?t.parentNode:t),aa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=rh(l);s.call(u)}}var l=rw(t,0,!1,null,null,!1,!1,"",sS);return t._reactRootContainer=l,t[pi]=l.current,Ru(t.nodeType===8?t.parentNode:t),aa(function(){Rp(e,l,n,r)}),l}function $p(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rh(a);s.call(l)}}Rp(e,a,t,i)}else a=vL(n,e,t,i,r);return rh(a)}fk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Tb(e,n|1),Nn(e,vt()),!(je&6)&&(_s=vt()+500,bo()))}break;case 13:aa(function(){var r=mi(t,1);if(r!==null){var i=xn();Er(r,t,1,i)}}),iw(t,1)}};Ab=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=xn();Er(e,t,134217728,n)}iw(t,134217728)}};dk=function(t){if(t.tag===13){var e=no(t),n=mi(t,e);if(n!==null){var r=xn();Er(n,t,e,r)}iw(t,e)}};hk=function(){return Ue};pk=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Vy=function(t,e,n){switch(e){case"input":if(Ny(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pp(r);if(!i)throw Error(te(90));GI(r),Ny(r,i)}}}break;case"textarea":qI(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};ek=Zb;tk=aa;var bL={usingClientEntryPoint:!1,Events:[Dc,Wa,Pp,JI,ZI,Zb]},Vl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wL={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ik(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||yL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Sp=zf.inject(wL),Rr=zf}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bL;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(te(200));return gL(t,e,null,n)};qn.createRoot=function(t,e){if(!aw(t))throw Error(te(299));var n=!1,r="",i=DO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rw(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,Ru(t.nodeType===8?t.parentNode:t),new ow(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=ik(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return aa(t)};qn.hydrate=function(t,e,n){if(!Dp(e))throw Error(te(200));return $p(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=DO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=MO(e,null,t,1,n??null,i,!1,o,a),t[pi]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mp(e)};qn.render=function(t,e,n){if(!Dp(e))throw Error(te(200));return $p(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!Dp(t))throw Error(te(40));return t._reactRootContainer?(aa(function(){$p(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};qn.unstable_batchedUpdates=Zb;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dp(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return $p(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function $O(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($O)}catch(t){console.error(t)}}$O(),$I.exports=qn;var _L=$I.exports,lS=_L;Ty.createRoot=lS.createRoot,Ty.hydrateRoot=lS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},VO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,a||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new SL;const h=o<<2|s>>4;if(r.push(h),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EL=function(t){const e=LO(t);return VO.encodeByteArray(e,!0)},ih=function(t){return EL(t).replace(/\./g,"")},FO=function(t){try{return VO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>TL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FO(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return AL()||PL()||IL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BO=t=>{var e,n;return(n=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kL=t=>{const e=BO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UO=()=>{var t;return(t=Lp())===null||t===void 0?void 0:t.config},zO=t=>{var e;return(e=Lp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[ih(JSON.stringify(n)),ih(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function jL(){var t;const e=(t=Lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ML(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $L(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LL(){return!jL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VL(){try{return typeof indexedDB=="object"}catch{return!1}}function FL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BL,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?UL(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Ai(i,s,r)}}function UL(t,e){return t.replace(zL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zL=/\{\$([^}]+)}/g;function WL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(uS(o)&&uS(a)){if(!oh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GL(t,e){const n=new HL(t,e);return n.subscribe.bind(n)}class HL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$g),i.error===void 0&&(i.error=$g),i.complete===void 0&&(i.complete=$g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YL(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XL(t){return t===Do?void 0:t}function YL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const JL={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},ZL=Oe.INFO,e4={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},t4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=e4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sw{constructor(e){this.name=e,this._logLevel=ZL,this._logHandler=t4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const n4=(t,e)=>e.some(n=>t instanceof n);let cS,fS;function r4(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i4(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WO=new WeakMap,vv=new WeakMap,GO=new WeakMap,Lg=new WeakMap,lw=new WeakMap;function o4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(io(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&WO.set(n,t)}).catch(()=>{}),lw.set(e,t),e}function a4(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});vv.set(t,e)}let bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s4(t){bv=t(bv)}function l4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vg(this),e,...n);return GO.set(r,e.sort?e.sort():[e]),io(r)}:i4().includes(t)?function(...e){return t.apply(Vg(this),e),io(WO.get(this))}:function(...e){return io(t.apply(Vg(this),e))}}function u4(t){return typeof t=="function"?l4(t):(t instanceof IDBTransaction&&a4(t),n4(t,r4())?new Proxy(t,bv):t)}function io(t){if(t instanceof IDBRequest)return o4(t);if(Lg.has(t))return Lg.get(t);const e=u4(t);return e!==t&&(Lg.set(t,e),lw.set(e,t)),e}const Vg=t=>lw.get(t);function c4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=io(a);return r&&a.addEventListener("upgradeneeded",l=>{r(io(a.result),l.oldVersion,l.newVersion,io(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const f4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],Fg=new Map;function dS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Fg.set(e,o),o}s4(t=>({...t,get:(e,n,r)=>dS(e,n)||t.get(e,n,r),has:(e,n)=>!!dS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wv="@firebase/app",hS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new sw("@firebase/app"),m4="@firebase/app-compat",g4="@firebase/analytics-compat",y4="@firebase/analytics",v4="@firebase/app-check-compat",b4="@firebase/app-check",w4="@firebase/auth",_4="@firebase/auth-compat",x4="@firebase/database",S4="@firebase/data-connect",E4="@firebase/database-compat",T4="@firebase/functions",A4="@firebase/functions-compat",P4="@firebase/installations",I4="@firebase/installations-compat",k4="@firebase/messaging",O4="@firebase/messaging-compat",C4="@firebase/performance",N4="@firebase/performance-compat",j4="@firebase/remote-config",R4="@firebase/remote-config-compat",M4="@firebase/storage",D4="@firebase/storage-compat",$4="@firebase/firestore",L4="@firebase/vertexai-preview",V4="@firebase/firestore-compat",F4="firebase",B4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="[DEFAULT]",U4={[wv]:"fire-core",[m4]:"fire-core-compat",[y4]:"fire-analytics",[g4]:"fire-analytics-compat",[b4]:"fire-app-check",[v4]:"fire-app-check-compat",[w4]:"fire-auth",[_4]:"fire-auth-compat",[x4]:"fire-rtdb",[S4]:"fire-data-connect",[E4]:"fire-rtdb-compat",[T4]:"fire-fn",[A4]:"fire-fn-compat",[P4]:"fire-iid",[I4]:"fire-iid-compat",[k4]:"fire-fcm",[O4]:"fire-fcm-compat",[C4]:"fire-perf",[N4]:"fire-perf-compat",[j4]:"fire-rc",[R4]:"fire-rc-compat",[M4]:"fire-gcs",[D4]:"fire-gcs-compat",[$4]:"fire-fst",[V4]:"fire-fst-compat",[L4]:"fire-vertex","fire-js":"fire-js",[F4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,z4=new Map,xv=new Map;function pS(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xs(t){const e=t.name;if(xv.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(const n of ah.values())pS(n,t);for(const n of z4.values())pS(n,t);return!0}function uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Lc("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=B4;function HO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=UO()),!n)throw oo.create("no-options");const o=ah.get(i);if(o){if(oh(n,o.options)&&oh(r,o.config))return o;throw oo.create("duplicate-app",{appName:i})}const a=new QL(i);for(const l of xv.values())a.addComponent(l);const s=new G4(n,r,a);return ah.set(i,s),s}function qO(t=_v){const e=ah.get(t);if(!e&&t===_v&&UO())return HO();if(!e)throw oo.create("no-app",{appName:t});return e}function ao(t,e,n){var r;let i=(r=U4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(s.join(" "));return}xs(new sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebase-heartbeat-database",q4=1,zu="firebase-heartbeat-store";let Bg=null;function KO(){return Bg||(Bg=c4(H4,q4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Bg}async function K4(t){try{const n=(await KO()).transaction(zu),r=await n.objectStore(zu).get(XO(t));return await n.done,r}catch(e){if(e instanceof Ai)yi.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function mS(t,e){try{const r=(await KO()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,XO(t)),await r.done}catch(n){if(n instanceof Ai)yi.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function XO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=1024,Y4=30*24*60*60*1e3;class Q4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=Y4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gS(),{heartbeatsToSend:r,unsentEntries:i}=J4(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yi.warn(n),""}}}function gS(){return new Date().toISOString().substring(0,10)}function J4(t,e=X4){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),yS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VL()?FL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yS(t){return ih(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){xs(new sa("platform-logger",e=>new h4(e),"PRIVATE")),xs(new sa("heartbeat",e=>new Q4(e),"PRIVATE")),ao(wv,hS,t),ao(wv,hS,"esm2017"),ao("fire-js","")}e3("");var t3="firebase",n3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(t3,n3,"app");var vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,YO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,k,j){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return E.prototype[k].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)C[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],k=S.g[2];var j=S.g[3],N=E+(j^I&(k^j))+C[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=j+(k^E&(I^k))+C[1]+3905402710&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(I^j&(E^I))+C[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(E^k&(j^E))+C[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(j^I&(k^j))+C[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(k^E&(I^k))+C[5]+1200080426&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(I^j&(E^I))+C[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(E^k&(j^E))+C[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(j^I&(k^j))+C[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(k^E&(I^k))+C[9]+2336552879&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(I^j&(E^I))+C[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(E^k&(j^E))+C[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(j^I&(k^j))+C[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=j+(k^E&(I^k))+C[13]+4254626195&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(I^j&(E^I))+C[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(E^k&(j^E))+C[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^j&(I^k))+C[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(E^I))+C[6]+3225465664&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(j^E))+C[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(k^j))+C[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(I^k))+C[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(E^I))+C[10]+38016083&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(j^E))+C[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(k^j))+C[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(I^k))+C[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(E^I))+C[14]+3275163606&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(j^E))+C[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(k^j))+C[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(I^k))+C[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(E^I))+C[2]+4243563512&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(j^E))+C[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^E&(k^j))+C[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^j)+C[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^k)+C[8]+2272392833&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^I)+C[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^E)+C[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^j)+C[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^k)+C[4]+1272893353&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^I)+C[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^E)+C[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^j)+C[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^k)+C[0]+3936430074&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^I)+C[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^E)+C[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^j)+C[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=j+(E^I^k)+C[12]+3873151461&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^I)+C[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^E)+C[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~j))+C[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~k))+C[7]+1126891415&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~I))+C[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~E))+C[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~j))+C[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~k))+C[3]+2399980690&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~I))+C[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~E))+C[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~j))+C[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~k))+C[15]+4264355552&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~I))+C[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~E))+C[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~j))+C[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=j+(I^(E|~k))+C[11]+3174756917&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~I))+C[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,C=this.B,k=this.h,j=0;j<E;){if(k==0)for(;j<=I;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<E;)if(C[k++]=S.charCodeAt(j++),k==this.blockSize){i(this,C),k=0;break}}else for(;j<E;)if(C[k++]=S[j++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)S[I++]=this.g[E]>>>C&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],C=!0,k=S.length-1;0<=k;k--){var j=S[k]|0;C&&j==E||(I[k]=j,C=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(u(-S));for(var E=[],I=1,C=0;S>=I;C++)E[C]=S/I|0,I*=4294967296;return new a(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),C=f,k=0;k<S.length;k+=8){var j=Math.min(8,S.length-k),N=parseInt(S.substring(k,k+j),E);8>j?(j=u(Math.pow(E,j)),C=C.j(j).add(u(N))):(C=C.j(I),C=C.add(u(N)))}return C}var f=l(0),h=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-b(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(v(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,C="";;){var k=O(I,E).g;I=_(I,k.j(E));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=k,g(I))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=_(this,S),v(S)?-1:g(S)?0:1};function b(S){for(var E=S.g.length,I=[],C=0;C<E;C++)I[C]=~S.g[C];return new a(I,~S.h).add(h)}t.abs=function(){return v(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0,k=0;k<=E;k++){var j=C+(this.i(k)&65535)+(S.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);C=N>>>16,j&=65535,N&=65535,I[k]=N<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(b(E))}t.j=function(S){if(g(this)||g(S))return f;if(v(this))return v(S)?b(this).j(b(S)):b(b(this).j(S));if(v(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<S.g.length;k++){var j=this.i(C)>>>16,N=this.i(C)&65535,U=S.i(k)>>>16,z=S.i(k)&65535;I[2*C+2*k]+=N*z,w(I,2*C+2*k),I[2*C+2*k+1]+=j*z,w(I,2*C+2*k+1),I[2*C+2*k+1]+=N*U,w(I,2*C+2*k+1),I[2*C+2*k+2]+=j*U,w(I,2*C+2*k+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new a(I,0)};function w(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function O(S,E){if(g(E))throw Error("division by zero");if(g(S))return new x(f,f);if(v(S))return E=O(b(S),E),new x(b(E.g),b(E.h));if(v(E))return E=O(S,b(E)),new x(b(E.g),E.h);if(30<S.g.length){if(v(S)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=h,C=E;0>=C.l(S);)I=T(I),C=T(C);var k=P(I,1),j=P(C,1);for(C=P(C,2),I=P(I,2);!g(C);){var N=j.add(C);0>=N.l(S)&&(k=k.add(I),j=N),C=P(C,1),I=P(I,1)}return E=_(S,k.j(E)),new x(k,E)}for(k=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=u(I),N=j.j(E);v(N)||0<N.l(S);)I-=C,j=u(I),N=j.j(E);g(j)&&(j=h),k=k.add(j),S=_(S,N)}return new x(k,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&S.i(C);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|S.i(C);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^S.i(C);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],C=0;C<E;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(I,S.h)}function P(S,E){var I=E>>5;E%=32;for(var C=S.g.length-I,k=[],j=0;j<C;j++)k[j]=0<E?S.i(j+I)>>>E|S.i(j+I+1)<<32-E:S.i(j+I);return new a(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Qo=a}).apply(typeof vS<"u"?vS:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QO,nu,JO,Ed,Sv,ZO,e2,t2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var V=c[R];if(!(V in A))break e;A=A[V]}c=c[c.length-1],R=A[c],y=y(R),y!=R&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function o(c,y){c instanceof String&&(c+="");var A=0,R=!1,V={next:function(){if(!R&&A<c.length){var W=A++;return{value:y(W,c[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return o(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function u(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,A){return c.call.apply(c.bind,arguments)}function f(c,y,A){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),c.apply(y,V)}}return function(){return c.apply(y,arguments)}}function h(c,y,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function g(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(R,V,W){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return y.prototype[V].apply(R,oe)}}function v(c){const y=c.length;if(0<y){const A=Array(y);for(let R=0;R<y;R++)A[R]=c[R];return A}return[]}function b(c,y){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const V=c.length||0,W=R.length||0;c.length=V+W;for(let oe=0;oe<W;oe++)c[V+oe]=R[oe]}else c.push(R)}}class _{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(c,y,A){for(const R in c)y.call(A,c[R],R,c)}function S(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function E(c){const y={};for(const A in c)y[A]=c[A];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let A,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(A in R)c[A]=R[A];for(let W=0;W<I.length;W++)A=I[W],Object.prototype.hasOwnProperty.call(R,A)&&(c[A]=R[A])}}function k(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function j(c){s.setTimeout(()=>{throw c},0)}function N(){var c=H;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class U{constructor(){this.h=this.g=null}add(y,A){const R=z.get();R.set(y,A),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new _(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,H=new U,Q=()=>{const c=s.Promise.resolve(void 0);K=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){j(A)}var y=z;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}F=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};s.addEventListener("test",A,y),s.removeEventListener("test",A,y)}catch{}return c}();function se(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(T){e:{try{O(y.nodeName);var V=!0;break e}catch{}V=!1}V||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:de[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&se.aa.h.call(this)}}g(se,Y);var de={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ie(c,y,A,R,V){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!R,this.ha=V,this.key=++Be,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function X(c){this.src=c,this.g={},this.h=0}X.prototype.add=function(c,y,A,R,V){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=re(c,y,R,V);return-1<oe?(y=c[oe],A||(y.fa=!1)):(y=new ie(y,this.src,W,!!R,V),y.fa=A,c.push(y)),y};function L(c,y){var A=y.type;if(A in c.g){var R=c.g[A],V=Array.prototype.indexOf.call(R,y,void 0),W;(W=0<=V)&&Array.prototype.splice.call(R,V,1),W&&(ge(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function re(c,y,A,R){for(var V=0;V<c.length;++V){var W=c[V];if(!W.da&&W.listener==y&&W.capture==!!A&&W.ha==R)return V}return-1}var he="closure_lm_"+(1e6*Math.random()|0),Ee={};function Te(c,y,A,R,V){if(R&&R.once)return Mt(c,y,A,R,V);if(Array.isArray(y)){for(var W=0;W<y.length;W++)Te(c,y[W],A,R,V);return null}return A=Ta(A),c&&c[ve]?c.K(y,A,u(R)?!!R.capture:!!R,V):Ye(c,y,A,!1,R,V)}function Ye(c,y,A,R,V,W){if(!y)throw Error("Invalid event type");var oe=u(V)?!!V.capture:!!V,He=zt(c);if(He||(c[he]=He=new X(c)),A=He.add(y,A,R,oe,W),A.proxy)return A;if(R=Rt(),A.proxy=R,R.src=c,R.listener=A,c.addEventListener)Z||(V=oe),V===void 0&&(V=!1),c.addEventListener(y.toString(),R,V);else if(c.attachEvent)c.attachEvent(Le(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Rt(){function c(A){return y.call(c.src,c.listener,A)}const y=tt;return c}function Mt(c,y,A,R,V){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Mt(c,y[W],A,R,V);return null}return A=Ta(A),c&&c[ve]?c.L(y,A,u(R)?!!R.capture:!!R,V):Ye(c,y,A,!0,R,V)}function Mn(c,y,A,R,V){if(Array.isArray(y))for(var W=0;W<y.length;W++)Mn(c,y[W],A,R,V);else R=u(R)?!!R.capture:!!R,A=Ta(A),c&&c[ve]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],A=re(W,A,R,V),-1<A&&(ge(W[A]),Array.prototype.splice.call(W,A,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=zt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=re(y,A,R,V)),(A=-1<c?y[c]:null)&&Qe(A))}function Qe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])L(y.i,c);else{var A=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(A,R,c.capture):y.detachEvent?y.detachEvent(Le(A),R):y.addListener&&y.removeListener&&y.removeListener(R),(A=zt(y))?(L(A,c),A.h==0&&(A.src=null,y[he]=null)):ge(c)}}}function Le(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function tt(c,y){if(c.da)c=!0;else{y=new se(y,this);var A=c.listener,R=c.ha||c.src;c.fa&&Qe(c),c=A.call(R,y)}return c}function zt(c){return c=c[he],c instanceof X?c:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(c){return typeof c=="function"?c:(c[Oi]||(c[Oi]=function(y){return c.handleEvent(y)}),c[Oi])}function Dt(){B.call(this),this.i=new X(this),this.M=this,this.F=null}g(Dt,B),Dt.prototype[ve]=!0,Dt.prototype.removeEventListener=function(c,y,A,R){Mn(this,c,y,A,R)};function Wt(c,y){var A,R=c.F;if(R)for(A=[];R;R=R.F)A.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var V=y;y=new Y(R,c),C(y,V)}if(V=!0,A)for(var W=A.length-1;0<=W;W--){var oe=y.g=A[W];V=Aa(oe,R,!0,y)&&V}if(oe=y.g=c,V=Aa(oe,R,!0,y)&&V,V=Aa(oe,R,!1,y)&&V,A)for(W=0;W<A.length;W++)oe=y.g=A[W],V=Aa(oe,R,!1,y)&&V}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],R=0;R<A.length;R++)ge(A[R]);delete c.g[y],c.h--}}this.F=null},Dt.prototype.K=function(c,y,A,R){return this.i.add(String(c),y,!1,A,R)},Dt.prototype.L=function(c,y,A,R){return this.i.add(String(c),y,!0,A,R)};function Aa(c,y,A,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var V=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==A){var He=oe.listener,Gt=oe.ha||oe.src;oe.fa&&L(c.i,oe),V=He.call(Gt,R)!==!1&&V}}return V&&!R.defaultPrevented}function lf(c,y,A){if(typeof c=="function")A&&(c=h(c,A));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(c,y||0)}function uf(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,uf(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ym extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:uf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(c){B.call(this),this.h=c,this.g={}}g(Ao,B);var cf=[];function wt(c){P(c.g,function(y,A){this.g.hasOwnProperty(A)&&Qe(y)},c),c.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),wt(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wl=s.JSON.stringify,M=s.JSON.parse,ue=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function Ve(){}Ve.prototype.h=null;function yn(c){return c.h||(c.h=c.i())}function _t(){}var le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qm(){Y.call(this,"d")}g(Qm,Y);function Jm(){Y.call(this,"c")}g(Jm,Y);var Po={},fx=null;function ff(){return fx=fx||new Dt}Po.La="serverreachability";function dx(c){Y.call(this,Po.La,c)}g(dx,Y);function _l(c){const y=ff();Wt(y,new dx(y))}Po.STAT_EVENT="statevent";function hx(c,y){Y.call(this,Po.STAT_EVENT,c),this.stat=y}g(hx,Y);function vn(c){const y=ff();Wt(y,new hx(y,c))}Po.Ma="timingevent";function px(c,y){Y.call(this,Po.Ma,c),this.size=y}g(px,Y);function xl(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},y)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function PM(c,y,A,R,V,W){c.info(function(){if(c.g)if(W)for(var oe="",He=W.split("&"),Gt=0;Gt<He.length;Gt++){var Me=He[Gt].split("=");if(1<Me.length){var rn=Me[0];Me=Me[1];var on=rn.split("_");oe=2<=on.length&&on[1]=="type"?oe+(rn+"="+Me+"&"):oe+(rn+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+y+`
`+A+`
`+oe})}function IM(c,y,A,R,V,W,oe){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+y+`
`+A+`
`+W+" "+oe})}function Pa(c,y,A,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+OM(c,A)+(R?" "+R:"")})}function kM(c,y){c.info(function(){return"TIMEOUT: "+y})}Sl.prototype.info=function(){};function OM(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var R=A[c];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var W=V[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<V.length;oe++)V[oe]=""}}}}return wl(A)}catch{return y}}var df={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zm;function hf(){}g(hf,Ve),hf.prototype.g=function(){return new XMLHttpRequest},hf.prototype.i=function(){return{}},Zm=new hf;function Ci(c,y,A,R){this.j=c,this.i=y,this.l=A,this.R=R||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gx}function gx(){this.i=null,this.g="",this.h=!1}var yx={},eg={};function tg(c,y,A){c.L=1,c.v=yf(Hr(y)),c.m=A,c.P=!0,vx(c,null)}function vx(c,y){c.F=Date.now(),pf(c),c.A=Hr(c.v);var A=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Nx(A.i,"t",R),c.C=0,A=c.j.J,c.h=new gx,c.g=Yx(c.j,A?y:null,!c.m),0<c.O&&(c.M=new Ym(h(c.Y,c,c.g),c.O)),y=c.U,A=c.g,R=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(cf[0]=V.toString()),V=cf);for(var W=0;W<V.length;W++){var oe=Te(A,V[W],R||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_l(),PM(c.i,c.u,c.A,c.l,c.R,c.m)}Ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&qr(c)==3?y.j():this.Y(c)},Ci.prototype.Y=function(c){try{if(c==this.g)e:{const on=qr(this.g);var y=this.g.Ba();const Oa=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Vx(this.g)))){this.J||on!=4||y==7||(y==8||0>=Oa?_l(3):_l(2)),ng(this);var A=this.g.Z();this.X=A;t:if(bx(this)){var R=Vx(this.g);c="";var V=R.length,W=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),El(this);var oe="";break t}this.h.i=new s.TextDecoder}for(y=0;y<V;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(W&&y==V-1)});R.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=A==200,IM(this.i,this.u,this.A,this.l,this.R,on,A),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Gt=this.g;if((He=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(He)){var Me=He;break t}}Me=null}if(A=Me)Pa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,A);else{this.o=!1,this.s=3,vn(12),Io(this),El(this);break e}}if(this.P){A=!0;let fr;for(;!this.J&&this.C<oe.length;)if(fr=CM(this,oe),fr==eg){on==4&&(this.s=4,vn(14),A=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==yx){this.s=4,vn(15),Pa(this.i,this.l,oe,"[Invalid Chunk]"),A=!1;break}else Pa(this.i,this.l,fr,null),rg(this,fr);if(bx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||oe.length!=0||this.h.h||(this.s=1,vn(16),A=!1),this.o=this.o&&A,!A)Pa(this.i,this.l,oe,"[Invalid Chunked Response]"),Io(this),El(this);else if(0<oe.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ug(rn),rn.M=!0,vn(11))}}else Pa(this.i,this.l,oe,null),rg(this,oe);on==4&&Io(this),this.o&&!this.J&&(on==4?Hx(this.j,this):(this.o=!1,pf(this)))}else KM(this.g),A==400&&0<oe.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Io(this),El(this)}}}catch{}finally{}};function bx(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function CM(c,y){var A=c.C,R=y.indexOf(`
`,A);return R==-1?eg:(A=Number(y.substring(A,R)),isNaN(A)?yx:(R+=1,R+A>y.length?eg:(y=y.slice(R,R+A),c.C=R+A,y)))}Ci.prototype.cancel=function(){this.J=!0,Io(this)};function pf(c){c.S=Date.now()+c.I,wx(c,c.I)}function wx(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xl(h(c.ba,c),y)}function ng(c){c.B&&(s.clearTimeout(c.B),c.B=null)}Ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(kM(this.i,this.A),this.L!=2&&(_l(),vn(17)),Io(this),this.s=2,El(this)):wx(this,this.S-c)};function El(c){c.j.G==0||c.J||Hx(c.j,c)}function Io(c){ng(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,wt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function rg(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||ig(A.h,c))){if(!c.K&&ig(A.h,c)&&A.G==3){try{var R=A.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)Sf(A),_f(A);else break e;lg(A),vn(18)}}else A.za=V[1],0<A.za-A.T&&37500>V[2]&&A.F&&A.v==0&&!A.C&&(A.C=xl(h(A.Za,A),6e3));if(1>=Sx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Oo(A,11)}else if((c.K||A.g==c)&&Sf(A),!w(y))for(V=A.Da.g.parse(y),y=0;y<V.length;y++){let Me=V[y];if(A.T=Me[0],Me=Me[1],A.G==2)if(Me[0]=="c"){A.K=Me[1],A.ia=Me[2];const rn=Me[3];rn!=null&&(A.la=rn,A.j.info("VER="+A.la));const on=Me[4];on!=null&&(A.Aa=on,A.j.info("SVER="+A.Aa));const Oa=Me[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(R=1.5*Oa,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const fr=c.g;if(fr){const Tf=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tf){var W=R.h;W.g||Tf.indexOf("spdy")==-1&&Tf.indexOf("quic")==-1&&Tf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(og(W,W.h),W.h=null))}if(R.D){const cg=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(R.ya=cg,nt(R.I,R.D,cg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var oe=c;if(R.qa=Xx(R,R.J?R.ia:null,R.W),oe.K){Ex(R.h,oe);var He=oe,Gt=R.L;Gt&&(He.I=Gt),He.B&&(ng(He),pf(He)),R.g=oe}else Wx(R);0<A.i.length&&xf(A)}else Me[0]!="stop"&&Me[0]!="close"||Oo(A,7);else A.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Oo(A,7):sg(A):Me[0]!="noop"&&A.l&&A.l.ta(Me),A.v=0)}}_l(4)}catch{}}var NM=class{constructor(c,y){this.g=c,this.map=y}};function _x(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sx(c){return c.h?1:c.g?c.g.size:0}function ig(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function og(c,y){c.g?c.g.add(y):c.h=y}function Ex(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_x.prototype.cancel=function(){if(this.i=Tx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tx(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return v(c.i)}function jM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,R=0;R<A;R++)y.push(c[R]);return y}y=[],A=0;for(R in c)y[A++]=c[R];return y}function RM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const R in c)y[A++]=R;return y}}}function Ax(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=RM(c),R=jM(c),V=R.length,W=0;W<V;W++)y.call(void 0,R[W],A&&A[W],c)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MM(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var R=c[A].indexOf("="),V=null;if(0<=R){var W=c[A].substring(0,R);V=c[A].substring(R+1)}else W=c[A];y(W,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ko(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ko){this.h=c.h,mf(this,c.j),this.o=c.o,this.g=c.g,gf(this,c.s),this.l=c.l;var y=c.i,A=new Pl;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Ix(this,A),this.m=c.m}else c&&(y=String(c).match(Px))?(this.h=!1,mf(this,y[1]||"",!0),this.o=Tl(y[2]||""),this.g=Tl(y[3]||"",!0),gf(this,y[4]),this.l=Tl(y[5]||"",!0),Ix(this,y[6]||"",!0),this.m=Tl(y[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}ko.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Al(y,kx,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Al(y,kx,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Al(A,A.charAt(0)=="/"?LM:$M,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Al(A,FM)),c.join("")};function Hr(c){return new ko(c)}function mf(c,y,A){c.j=A?Tl(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gf(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ix(c,y,A){y instanceof Pl?(c.i=y,BM(c.i,c.h)):(A||(y=Al(y,VM)),c.i=new Pl(y,c.h))}function nt(c,y,A){c.i.set(y,A)}function yf(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tl(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Al(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,DM),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kx=/[#\/\?@]/g,$M=/[#\?:]/g,LM=/[#\?]/g,VM=/[#\?@]/g,FM=/#/g;function Pl(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&MM(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=Pl.prototype,t.add=function(c,y){Ni(this),this.i=null,c=Ia(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function Ox(c,y){Ni(c),y=Ia(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Cx(c,y){return Ni(c),y=Ia(c,y),c.g.has(y)}t.forEach=function(c,y){Ni(this),this.g.forEach(function(A,R){A.forEach(function(V){c.call(y,V,R,this)},this)},this)},t.na=function(){Ni(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let R=0;R<y.length;R++){const V=c[R];for(let W=0;W<V.length;W++)A.push(y[R])}return A},t.V=function(c){Ni(this);let y=[];if(typeof c=="string")Cx(this,c)&&(y=y.concat(this.g.get(Ia(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return Ni(this),this.i=null,c=Ia(this,c),Cx(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Nx(c,y,A){Ox(c,y),0<A.length&&(c.i=null,c.g.set(Ia(c,y),v(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var R=y[A];const W=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var V=W;oe[R]!==""&&(V+="="+encodeURIComponent(String(oe[R]))),c.push(V)}}return this.i=c.join("&")};function Ia(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function BM(c,y){y&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(A,R){var V=R.toLowerCase();R!=V&&(Ox(this,R),Nx(this,V,A))},c)),c.j=y}function UM(c,y){const A=new Sl;if(s.Image){const R=new Image;R.onload=m(ji,A,"TestLoadImage: loaded",!0,y,R),R.onerror=m(ji,A,"TestLoadImage: error",!1,y,R),R.onabort=m(ji,A,"TestLoadImage: abort",!1,y,R),R.ontimeout=m(ji,A,"TestLoadImage: timeout",!1,y,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function zM(c,y){const A=new Sl,R=new AbortController,V=setTimeout(()=>{R.abort(),ji(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(W=>{clearTimeout(V),W.ok?ji(A,"TestPingServer: ok",!0,y):ji(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),ji(A,"TestPingServer: error",!1,y)})}function ji(c,y,A,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(A)}catch{}}function WM(){this.g=new ue}function GM(c,y,A){const R=A||"";try{Ax(c,function(V,W){let oe=V;u(V)&&(oe=wl(V)),y.push(R+W+"="+encodeURIComponent(oe))})}catch(V){throw y.push(R+"type="+encodeURIComponent("_badmap")),V}}function vf(c){this.l=c.Ub||null,this.j=c.eb||!1}g(vf,Ve),vf.prototype.g=function(){return new bf(this.l,this.j)},vf.prototype.i=function(c){return function(){return c}}({});function bf(c,y){Dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(bf,Dt),t=bf.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,kl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Il(this):kl(this),this.readyState==3&&jx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Il(this))},t.Qa=function(c){this.g&&(this.response=c,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kl(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function kl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rx(c){let y="";return P(c,function(A,R){y+=R,y+=":",y+=A,y+=`\r
`}),y}function ag(c,y,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=Rx(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):nt(c,y,A))}function pt(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pt,Dt);var HM=/^https?$/i,qM=["POST","PUT"];t=pt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zm.g(),this.v=this.o?yn(this.o):yn(Zm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Mx(this,W);return}if(c=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)A.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())A.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(W=>W.toLowerCase()=="content-type"),V=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(qM,y,void 0))||R||V||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of A)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lx(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Mx(this,W)}};function Mx(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Dx(c),wf(c)}function Dx(c){c.A||(c.A=!0,Wt(c,"complete"),Wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Wt(this,"complete"),Wt(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$x(this):this.bb())},t.bb=function(){$x(this)};function $x(c){if(c.h&&typeof a<"u"&&(!c.v[1]||qr(c)!=4||c.Z()!=2)){if(c.u&&qr(c)==4)lf(c.Ea,0,c);else if(Wt(c,"readystatechange"),qr(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var R;if(R=oe===0){var V=String(c.D).match(Px)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),R=!HM.test(V?V.toLowerCase():"")}A=R}if(A)Wt(c,"complete"),Wt(c,"success");else{c.m=6;try{var W=2<qr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Dx(c)}}finally{wf(c)}}}}function wf(c,y){if(c.g){Lx(c);const A=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Wt(c,"ready");try{A.onreadystatechange=R}catch{}}}function Lx(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),M(y)}};function Vx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function KM(c){const y={};c=(c.g&&2<=qr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(w(c[R]))continue;var A=k(c[R]);const V=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const W=y[V]||[];y[V]=W,W.push(A)}S(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function Fx(c){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ol("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ol("baseRetryDelayMs",5e3,c),this.cb=Ol("retryDelaySeedMs",1e4,c),this.Wa=Ol("forwardChannelMaxRetries",2,c),this.wa=Ol("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _x(c&&c.concurrentRequestLimit),this.Da=new WM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fx.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,R){vn(0),this.W=c,this.H=y||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=Xx(this,null,this.W),xf(this)};function sg(c){if(Bx(c),c.G==3){var y=c.U++,A=Hr(c.I);if(nt(A,"SID",c.K),nt(A,"RID",y),nt(A,"TYPE","terminate"),Cl(c,A),y=new Ci(c,c.j,y),y.L=2,y.v=yf(Hr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=y.v,A=!0),A||(y.g=Yx(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pf(y)}Kx(c)}function _f(c){c.g&&(ug(c),c.g.cancel(),c.g=null)}function Bx(c){_f(c),c.u&&(s.clearTimeout(c.u),c.u=null),Sf(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function xf(c){if(!xx(c.h)&&!c.s){c.s=!0;var y=c.Ga;K||Q(),F||(K(),F=!0),H.add(y,c),c.B=0}}function XM(c,y){return Sx(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xl(h(c.Ga,c,y),qx(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Ci(this,this.j,c);let W=this.o;if(this.S&&(W?(W=E(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(V.H=W,W=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=zx(this,V,y),A=Hr(this.I),nt(A,"RID",c),nt(A,"CVER",22),this.D&&nt(A,"X-HTTP-Session-Id",this.D),Cl(this,A),W&&(this.O?y="headers="+encodeURIComponent(String(Rx(W)))+"&"+y:this.m&&ag(A,this.m,W)),og(this.h,V),this.Ua&&nt(A,"TYPE","init"),this.P?(nt(A,"$req",y),nt(A,"SID","null"),V.T=!0,tg(V,A,null)):tg(V,A,y),this.G=2}}else this.G==3&&(c?Ux(this,c):this.i.length==0||xx(this.h)||Ux(this))};function Ux(c,y){var A;y?A=y.l:A=c.U++;const R=Hr(c.I);nt(R,"SID",c.K),nt(R,"RID",A),nt(R,"AID",c.T),Cl(c,R),c.m&&c.o&&ag(R,c.m,c.o),A=new Ci(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zx(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),og(c.h,A),tg(A,R,y)}function Cl(c,y){c.H&&P(c.H,function(A,R){nt(y,R,A)}),c.l&&Ax({},function(A,R){nt(y,R,A)})}function zx(c,y,A){A=Math.min(c.i.length,A);var R=c.l?h(c.l.Na,c.l,c):null;e:{var V=c.i;let W=-1;for(;;){const oe=["count="+A];W==-1?0<A?(W=V[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let He=!0;for(let Gt=0;Gt<A;Gt++){let Me=V[Gt].g;const rn=V[Gt].map;if(Me-=W,0>Me)W=Math.max(0,V[Gt].g-100),He=!1;else try{GM(rn,oe,"req"+Me+"_")}catch{R&&R(rn)}}if(He){R=oe.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,R}function Wx(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;K||Q(),F||(K(),F=!0),H.add(y,c),c.v=0}}function lg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xl(h(c.Fa,c),qx(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),_f(this),Gx(this))};function ug(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function Gx(c){c.g=new Ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Hr(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Cl(c,y),c.m&&c.o&&ag(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=yf(Hr(y)),A.m=null,A.P=!0,vx(A,c)}t.Za=function(){this.C!=null&&(this.C=null,_f(this),lg(this),vn(19))};function Sf(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Hx(c,y){var A=null;if(c.g==y){Sf(c),ug(c),c.g=null;var R=2}else if(ig(c.h,y))A=y.D,Ex(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var V=c.B;R=ff(),Wt(R,new px(R,A)),xf(c)}else Wx(c);else if(V=y.s,V==3||V==0&&0<y.X||!(R==1&&XM(c,y)||R==2&&lg(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),V){case 1:Oo(c,5);break;case 4:Oo(c,10);break;case 3:Oo(c,6);break;default:Oo(c,2)}}}function qx(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function Oo(c,y){if(c.j.info("Error code "+y),y==2){var A=h(c.fb,c),R=c.Xa;const V=!R;R=new ko(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||mf(R,"https"),yf(R),V?UM(R.toString(),A):zM(R.toString(),A)}else vn(2);c.G=0,c.l&&c.l.sa(y),Kx(c),Bx(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function Kx(c){if(c.G=0,c.ka=[],c.l){const y=Tx(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Xx(c,y,A){var R=A instanceof ko?Hr(A):new ko(A);if(R.g!="")y&&(R.g=y+"."+R.g),gf(R,R.s);else{var V=s.location;R=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;var W=new ko(null);R&&mf(W,R),y&&(W.g=y),V&&gf(W,V),A&&(W.l=A),R=W}return A=c.D,y=c.ya,A&&y&&nt(R,A,y),nt(R,"VER",c.la),Cl(c,R),R}function Yx(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new vf({eb:A})):new pt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qx(){}t=Qx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ef(){}Ef.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){Dt.call(this),this.g=new Fx(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!w(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ka(this)}g(Dn,Dt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){sg(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=wl(c),c=A);y.i.push(new NM(y.Ya++,c)),y.G==3&&xf(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,Dn.aa.N.call(this)};function Jx(c){Qm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}g(Jx,Qm);function Zx(){Jm.call(this),this.status=1}g(Zx,Jm);function ka(c){this.g=c}g(ka,Qx),ka.prototype.ua=function(){Wt(this.g,"a")},ka.prototype.ta=function(c){Wt(this.g,new Jx(c))},ka.prototype.sa=function(c){Wt(this.g,new Zx)},ka.prototype.ra=function(){Wt(this.g,"b")},Ef.prototype.createWebChannel=Ef.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,t2=function(){return new Ef},e2=function(){return ff()},ZO=Po,Sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},df.NO_ERROR=0,df.TIMEOUT=8,df.HTTP_ERROR=6,Ed=df,mx.COMPLETE="complete",JO=mx,_t.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,nu=_t,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,QO=pt}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new sw("@firebase/firestore");function Fl(){return la.logLevel}function pe(t,...e){if(la.logLevel<=Oe.DEBUG){const n=e.map(cw);la.debug(`Firestore (${il}): ${t}`,...n)}}function vi(t,...e){if(la.logLevel<=Oe.ERROR){const n=e.map(cw);la.error(`Firestore (${il}): ${t}`,...n)}}function Ss(t,...e){if(la.logLevel<=Oe.WARN){const n=e.map(cw);la.warn(`Firestore (${il}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function ze(t,e){t||_e()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class i3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o3{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new li;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new li,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new n2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new cn(e)}}class a3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class s3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new l3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=c3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Nt(0,0))}static max(){return new xe(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Wu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const f3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Wu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return f3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}function d3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new po(i,ye.empty(),e)}function h3(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(xe.min(),ye.empty(),-1)}static max(){return new po(xe.max(),ye.empty(),-1)}}function p3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==m3)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function y3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fw.oe=-1;function Vp(t){return t==null}function sh(t){return t===0&&1/t==-1/0}function v3(t){return typeof t=="number"&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _S(this.data.getIterator())}getIteratorFrom(e){return new _S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class _S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new o2("Invalid base64 string: "+o):o}}(e);return new nn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const b3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(ze(!!t),typeof t=="string"){let e=0;const n=b3.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hw(t){const e=t.mapValue.fields.__previous_value__;return dw(e)?hw(e):e}function Gu(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dw(t)?4:x3(t)?9007199254740991:_3(t)?10:11:_e()}function Br(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=mo(i.timestampValue),s=mo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ua(i.bytesValue).isEqual(ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return yt(i.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yt(i.integerValue)===yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=yt(i.doubleValue),s=yt(o.doubleValue);return a===s?sh(a)===sh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Es(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(wS(a)!==wS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Br(a[l],s[l])))return!1;return!0}(t,e);default:return _e()}}function qu(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=yt(o.integerValue||o.doubleValue),l=yt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return xS(t.timestampValue,e.timestampValue);case 4:return xS(Gu(t),Gu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ua(o),l=ua(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=De(s[u],l[u]);if(d!==0)return d}return De(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=De(yt(o.latitude),yt(a.latitude));return s!==0?s:De(yt(o.longitude),yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,d;const f=o.fields||{},h=a.fields||{},m=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=De(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:SS(m,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Hf.mapValue&&a===Hf.mapValue)return 0;if(o===Hf.mapValue)return 1;if(a===Hf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=De(l[f],d[f]);if(h!==0)return h;const m=Ts(s[l[f]],u[d[f]]);if(m!==0)return m}return De(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _e()}}function xS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=mo(t),r=mo(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function SS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ts(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function As(t){return Ev(t)}function Ev(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ev(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ev(n.fields[a])}`;return i+"}"}(t.mapValue):_e()}function Tv(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function ES(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function _3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=gu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(gu(this.value))}}function a2(t){const e=[];return ba(t.fields,(n,r)=>{const i=new Yt([n]);if(Td(r)){const o=a2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new dn(e,0,xe.min(),xe.min(),xe.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,xe.min(),xe.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,xe.min(),xe.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function AS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Ts(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function S3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{}class kt extends s2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T3(e,n,r):n==="array-contains"?new I3(e,r):n==="in"?new k3(e,r):n==="not-in"?new O3(e,r):n==="array-contains-any"?new C3(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A3(e,r):new P3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends s2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ur(e,n)}matches(e){return l2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function l2(t){return t.op==="and"}function u2(t){return E3(t)&&l2(t)}function E3(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function Av(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+As(t.value);if(u2(t))return t.filters.map(e=>Av(e)).join(",");{const e=t.filters.map(n=>Av(n)).join(",");return`${t.op}(${e})`}}function c2(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Br(r.value,i.value)}(t,e):t instanceof Ur?function(r,i){return i instanceof Ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&c2(a,i.filters[s]),!0):!1}(t,e):void _e()}function f2(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${As(n.value)}`}(t):t instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(f2).join(" ,")+"}"}(t):"Filter"}class T3 extends kt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class A3 extends kt{constructor(e,n){super(e,"in",n),this.keys=d2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P3 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=d2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class I3 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pw(n)&&qu(n.arrayValue,this.value)}}class k3 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class O3 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class C3 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function IS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new N3(t,e,n,r,i,o,a)}function mw(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Av(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>As(r)).join(",")),e.ue=n}return e.ue}function gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PS(t.startAt,e.startAt)&&PS(t.endAt,e.endAt)}function Pv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j3(t,e,n,r,i,o,a,s){return new Fp(t,e,n,r,i,o,a,s)}function Bp(t){return new Fp(t)}function kS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R3(t){return t.collectionGroup!==null}function yu(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Zt(Yt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new uh(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new uh(Yt.keyField(),r))}return e.ce}function Dr(t){const e=Se(t);return e.le||(e.le=M3(e,yu(t))),e.le}function M3(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new uh(i.field,o)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e,n){return new Fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return gw(Dr(t),Dr(e))&&t.limitType===e.limitType}function h2(t){return`${mw(Dr(t))}|lt:${t.limitType}`}function Da(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>f2(i)).join(", ")}]`),Vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>As(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>As(i)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=AS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,yu(r),i)||r.endAt&&!function(a,s,l){const u=AS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,yu(r),i))}(t,e)}function D3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p2(t){return(e,n)=>{let r=!1;for(const i of yu(t)){const o=$3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ts(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return i2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new ht(ye.comparator);function bi(){return L3}const m2=new ht(ye.comparator);function ru(...t){let e=m2;for(const n of t)e=e.insert(n.key,n);return e}function g2(t){let e=m2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return vu()}function y2(){return vu()}function vu(){return new ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const V3=new ht(ye.comparator),F3=new Zt(ye.comparator);function ke(...t){let e=F3;for(const n of t)e=e.add(n);return e}const B3=new Zt(De);function U3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function b2(t,e){return v3(e)?v2(e):yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function z3(t,e,n){return t instanceof ch?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dw(o)&&(o=hw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Ku?_2(t,e):t instanceof Xu?x2(t,e):function(i,o){const a=w2(i,o),s=OS(a)+OS(i.Pe);return Tv(a)&&Tv(i.Pe)?v2(s):yw(i.serializer,s)}(t,e)}function W3(t,e,n){return t instanceof Ku?_2(t,e):t instanceof Xu?x2(t,e):n}function w2(t,e){return t instanceof Yu?function(r){return Tv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ch extends Wp{}class Ku extends Wp{constructor(e){super(),this.elements=e}}function _2(t,e){const n=S2(e);for(const r of t.elements)n.some(i=>Br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xu extends Wp{constructor(e){super(),this.elements=e}}function x2(t,e){let n=S2(e);for(const r of t.elements)n=n.filter(i=>!Br(i,r));return{arrayValue:{values:n}}}class Yu extends Wp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function OS(t){return yt(t.integerValue||t.doubleValue)}function S2(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.field=e,this.transform=n}}function H3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Xu&&i instanceof Xu?Es(r.elements,i.elements,Br):r instanceof Yu&&i instanceof Yu?Br(r.Pe,i.Pe):r instanceof ch&&i instanceof ch}(t.transform,e.transform)}class q3{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gp{}function E2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vw(t.key,rr.none()):new Uc(t.key,t.data,rr.none());{const n=t.data,r=Pn.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new wo(t.key,r,new zn(i.toArray()),rr.none())}}function K3(t,e,n){t instanceof Uc?function(i,o,a){const s=i.value.clone(),l=NS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,o,a){if(!Ad(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=NS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(T2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function bu(t,e,n,r){return t instanceof Uc?function(o,a,s,l){if(!Ad(o.precondition,a))return s;const u=o.value.clone(),d=jS(o.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(o,a,s,l){if(!Ad(o.precondition,a))return s;const u=jS(o.fieldTransforms,l,a),d=a.data;return d.setAll(T2(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Ad(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function X3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=w2(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function CS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Es(r,i,(o,a)=>H3(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Gp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Gp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function T2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NS(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,W3(a,s,n[i]))}return r}function jS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,z3(o,a,e))}return r}class vw extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y3 extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&K3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=y2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=E2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(n,r)=>CS(n,r))&&Es(this.baseMutations,e.baseMutations,(n,r)=>CS(n,r))}}class bw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return V3}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new bw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ne;function eV(t){switch(t){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function A2(t){if(t===void 0)return vi("GRPC error has no .code"),J.UNKNOWN;switch(t){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Ne=xt||(xt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Qo([4294967295,4294967295],0);function RS(t){const e=tV().encode(t),n=new YO;return n.update(e),new Uint8Array(n.digest())}function MS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,o],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(nV)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=RS(e),[r,i]=MS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ww(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=RS(e),[r,i]=MS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hp(xe.min(),i,new ht(De),bi(),ke())}}class zc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class P2{constructor(e,n){this.targetId=e,this.me=n}}class I2{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DS{constructor(){this.fe=0,this.ge=LS(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rV{constructor(e){this.Le=e,this.Be=new Map,this.ke=bi(),this.qe=$S(),this.Qe=new ht(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Pv(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,dn.newNoDocument(a,xe.min()))}else ze(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ua(r).toUint8Array()}catch(l){if(l instanceof o2)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new ww(a,i,o)}catch(l){return Ss(l instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Pv(s.target)){const l=new ye(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,dn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=ke();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Hp(e,n,this.Qe,this.ke,r);return this.ke=bi(),this.qe=$S(),this.Qe=new ht(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $S(){return new ht(ye.comparator)}function LS(){return new ht(ye.comparator)}const iV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),aV=(()=>({and:"AND",or:"OR"}))();class sV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kv(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return fh(t,e.toTimestamp())}function $r(t){return ze(!!t),xe.fromTimestamp(function(n){const r=mo(n);return new Nt(r.seconds,r.nanos)}(t))}function _w(t,e){return Ov(t,e).canonicalString()}function Ov(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O2(t){const e=lt.fromString(t);return ze(M2(e)),e}function Cv(t,e){return _w(t.databaseId,e.path)}function Ug(t,e){const n=O2(e);if(n.get(1)!==t.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(N2(n))}function C2(t,e){return _w(t.databaseId,e)}function uV(t){const e=O2(t);return e.length===4?lt.emptyPath():N2(e)}function Nv(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N2(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VS(t,e,n){return{name:Cv(t,e),fields:n.value.mapValue.fields}}function cV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ze(d===void 0||typeof d=="string"),nn.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?J.UNKNOWN:A2(u.code);return new me(d,u.message||"")}(a);n=new I2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ug(t,r.document.name),o=$r(r.document.updateTime),a=r.document.createTime?$r(r.document.createTime):xe.min(),s=new Pn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Pd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ug(t,r.document),o=r.readTime?$r(r.readTime):xe.min(),a=dn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Pd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ug(t,r.document),o=r.removedTargetIds||[];n=new Pd([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Z3(i,o),s=r.targetId;n=new P2(s,a)}}return n}function fV(t,e){let n;if(e instanceof Uc)n={update:VS(t,e.key,e.value)};else if(e instanceof vw)n={delete:Cv(t,e.key)};else if(e instanceof wo)n={update:VS(t,e.key,e.data),updateMask:wV(e.fieldMask)};else{if(!(e instanceof Y3))return _e();n={verify:Cv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Xu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Yu)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function dV(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?$r(i.updateTime):$r(o);return a.isEqual(xe.min())&&(a=$r(o)),new q3(a,i.transformResults||[])}(n,e))):[]}function hV(t,e){return{documents:[C2(t,e.path)]}}function pV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=C2(t,i);const o=function(u){if(u.length!==0)return R2(Ur.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:$a(h.field),direction:yV(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=kv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function mV(t){let e=uV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=j2(f);return h instanceof Ur&&u2(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(g){return new uh(La(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Vp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new lh(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new lh(m,h)}(n.endAt)),j3(e,i,a,o,s,"F",l,u)}function gV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=La(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=La(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=La(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=La(n.unaryFilter.field);return kt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(La(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ur.create(n.compositeFilter.filters.map(r=>j2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function yV(t){return iV[t]}function vV(t){return oV[t]}function bV(t){return aV[t]}function $a(t){return{fieldPath:t.canonicalString()}}function La(t){return Yt.fromServerFormat(t.fieldPath)}function R2(t){return t instanceof kt?function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(ES(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(ES(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:vV(n.op),value:n.value}}}(t):t instanceof Ur?function(n){const r=n.getFilters().map(i=>R2(i));return r.length===1?r[0]:{compositeFilter:{op:bV(n.op),filters:r}}}(t):_e()}function wV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r,i,o=xe.min(),a=xe.min(),s=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.ct=e}}function xV(t){const e=mV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.un=new EV}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(po.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class EV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ps(0)}static kn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bu(r.mutation,i,zn.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=ru();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=bi();const a=vu(),s=function(){return vu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof wo)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),bu(d.mutation,u,d.mutation.getFieldMask(),Nt.now())):a.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new AV(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=vu();let i=new ht((a,s)=>a-s),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||zn.empty();d=s.applyToLocalView(u,d),r.set(l,d);const f=(i.get(s.batchId)||ke()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=y2();d.forEach(h=>{if(!o.has(h)){const m=E2(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(zo());let s=-1,l=o;return a.next(u=>ee.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ke())).next(d=>({batchId:s,changes:g2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ru();return this.indexManager.getCollectionParents(e,o).next(s=>ee.forEach(s,l=>{const u=function(f,h){return new Fp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,dn.newInvalidDocument(d)))});let s=ru();return a.forEach((l,u)=>{const d=o.get(l);d!==void 0&&bu(d.mutation,u,zn.empty(),Nt.now()),zp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:xV(i.bundledQuery),readTime:$r(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.overlays=new ht(ye.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=zo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=zo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return ee.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new J3(n,r));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Tr=new Zt($t.Er),this.dr=new Zt($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new lt([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new lt([])),r=new $t(n,e),i=new $t(n,e+1);let o=ke();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt($t.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Q3(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new $t(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(De);return n.forEach(i=>{const o=new $t(i,0),a=new $t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new $t(new ye(o),0);let s=new Zt(De);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),ee.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $t(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.Mr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=bi();const a=n.path,s=new ye(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||p3(h3(d),r)<=0||(i.has(d.key)||zp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jV(this)}getSize(e){return ee.resolve(this.size)}}class jV extends TV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.persistence=e,this.Nr=new ol(n=>mw(n),gw),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xw,this.targetCount=0,this.kr=Ps.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ps(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fw(0),this.Kr=!1,this.Kr=!0,this.$r=new OV,this.referenceDelegate=e(this),this.Ur=new RV(this),this.indexManager=new SV,this.remoteDocumentCache=function(i){return new NV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _V(n),this.Gr=new IV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new DV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class DV extends g3{constructor(e){super(),this.currentSequenceNumber=e}}class Sw{constructor(e){this.persistence=e,this.Jr=new xw,this.Yr=null}static Zr(e){return new Sw(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ew(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return LL()?8:y3(gn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new $V;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fl()<=Oe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Fl()<=Oe.DEBUG&&pe("QueryEngine","Query:",Da(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fl()<=Oe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):ee.resolve())}Yi(e,n){if(kS(n))return ee.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iv(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ke(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Iv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return kS(n)||i.isEqual(xe.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?ee.resolve(null):(Fl()<=Oe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Da(n)),this.rs(e,a,n,d3(i,-1)).next(s=>s))})}ts(e,n){let r=new Zt(p2(e));return n.forEach((i,o)=>{zp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Fl()<=Oe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Da(n)),this.Ji.getDocumentsMatchingQuery(e,n,po.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(De),this._s=new ol(o=>mw(o),gw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function FV(t,e,n,r){return new VV(t,e,n,r)}async function D2(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=ke();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function BV(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const f=u.batch,h=f.keys();let m=ee.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(v=>{const b=u.docVersions.get(g);ze(b!==null),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ke();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $2(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function UV(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(v,b,_){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,d)&&s.push(n.Ur.updateTargetData(o,m))});let l=bi(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(zV(o,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(xe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return ee.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function zV(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=bi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):pe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function WV(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GV(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ki(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jv(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bc(a))throw a;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function FS(t,e,n){const r=Se(t);let i=xe.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=Se(l),h=f._s.get(d);return h!==void 0?ee.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,a,Dr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:xe.min(),n?o:ke())).next(s=>(HV(r,D3(e),s),{documents:s,Ts:o})))}function HV(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class BS{constructor(){this.activeTargetIds=U3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qV{constructor(){this.so=new BS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new BS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function zg(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class QV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=zg(),l=this.xo(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(d=>(pe("RestConnection",`Received RPC '${n}' ${s}: `,d),d),d=>{throw Ss("RestConnection",`RPC '${n}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=XV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=zg();return new Promise((a,s)=>{const l=new QO;l.setWithCredentials(!0),l.listenOnce(JO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ed.NO_ERROR:const d=l.getResponseJson();pe(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Ed.TIMEOUT:pe(ln,`RPC '${e}' ${o} timed out`),s(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const f=l.getStatus();if(pe(ln,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(m.status);s(new me(g,m.message))}else s(new me(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new me(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{pe(ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);pe(ln,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=zg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=t2(),s=e2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");pe(ln,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,m=!1;const g=new YV({Io:b=>{m?pe(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(pe(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),pe(ln,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),v=(b,_,w)=>{b.listen(_,x=>{try{w(x)}catch(O){setTimeout(()=>{throw O},0)}})};return v(f,nu.EventType.OPEN,()=>{m||(pe(ln,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,nu.EventType.CLOSE,()=>{m||(m=!0,pe(ln,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,nu.EventType.ERROR,b=>{m||(m=!0,Ss(ln,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new me(J.UNAVAILABLE,"The operation could not be completed")))}),v(f,nu.EventType.MESSAGE,b=>{var _;if(!m){const w=b.data[0];ze(!!w);const x=w,O=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(O){pe(ln,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let P=function(I){const C=xt[I];if(C!==void 0)return A2(C)}(T),S=O.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+T+" with message "+O.message),m=!0,g.So(new me(P,S)),f.close()}else pe(ln,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),v(s,ZO.STAT_EVENT,b=>{b.stat===Sv.PROXY?pe(ln,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Sv.NOPROXY&&pe(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new sV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new L2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new me(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JV extends V2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=cV(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?$r(a.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Pv(l)?{documents:hV(o,l)}:{query:pV(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=k2(o,a.resumeToken);const u=kv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(xe.min())>0){s.readTime=fh(o,a.snapshotVersion.toTimestamp());const u=kv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=gV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nv(this.serializer),n.removeTarget=e,this.a_(n)}}class ZV extends V2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=dV(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Ov(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Ov(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{wa(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.L_.add(4),await Wc(u),u.q_.set("Unknown"),u.L_.delete(4),await Kp(u)}(this))})}),this.q_=new tF(r,i)}}async function Kp(t){if(wa(t))for(const e of t.B_)await e(!0)}async function Wc(t){for(const e of t.B_)await e(!1)}function F2(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Iw(n)?Pw(n):al(n).r_()&&Aw(n,e))}function Tw(t,e){const n=Se(t),r=al(n);n.N_.delete(e),r.r_()&&B2(n,e),n.N_.size===0&&(r.r_()?r.o_():wa(n)&&n.q_.set("Unknown"))}function Aw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).A_(e)}function B2(t,e){t.Q_.xe(e),al(t).R_(e)}function Pw(t){t.Q_=new rV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.q_.v_()}function Iw(t){return wa(t)&&!al(t).n_()&&t.N_.size>0}function wa(t){return Se(t).L_.size===0}function U2(t){t.Q_=void 0}async function rF(t){t.q_.set("Online")}async function iF(t){t.N_.forEach((e,n)=>{Aw(t,e)})}async function oF(t,e){U2(t),Iw(t)?(t.q_.M_(e),Pw(t)):t.q_.set("Unknown")}async function aF(t,e,n){if(t.q_.set("Online"),e instanceof I2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof Pd?t.Q_.Ke(e):e instanceof P2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await $2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),B2(o,l);const f=new Ki(d.target,l,u,d.sequenceNumber);Aw(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Bc(e))throw e;t.L_.add(1),await Wc(t),t.q_.set("Offline"),n||(n=()=>$2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kp(t)})}function z2(t,e){return e().catch(n=>dh(t,n,e))}async function Xp(t){const e=Se(t),n=go(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sF(e);)try{const i=await WV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,lF(e,i)}catch(i){await dh(e,i)}W2(e)&&G2(e)}function sF(t){return wa(t)&&t.O_.length<10}function lF(t,e){t.O_.push(e);const n=go(t);n.r_()&&n.V_&&n.m_(e.mutations)}function W2(t){return wa(t)&&!go(t).n_()&&t.O_.length>0}function G2(t){go(t).start()}async function uF(t){go(t).p_()}async function cF(t){const e=go(t);for(const n of t.O_)e.m_(n.mutations)}async function fF(t,e,n){const r=t.O_.shift(),i=bw.from(r,e,n);await z2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xp(t)}async function dF(t,e){e&&go(t).V_&&await async function(r,i){if(function(a){return eV(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();go(r).s_(),await z2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xp(r)}}(t,e),W2(t)&&G2(t)}async function zS(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=wa(n);n.L_.add(3),await Wc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kp(n)}async function hF(t,e){const n=Se(t);e?(n.L_.delete(2),await Kp(n)):e||(n.L_.add(2),await Wc(n),n.q_.set("Unknown"))}function al(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new JV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:rF.bind(null,t),Ro:iF.bind(null,t),mo:oF.bind(null,t),d_:aF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Iw(t)?Pw(t):t.q_.set("Unknown")):(await t.K_.stop(),U2(t))})),t.K_}function go(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new ZV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uF.bind(null,t),mo:dF.bind(null,t),f_:cF.bind(null,t),g_:fF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xp(t)):(await t.U_.stop(),t.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new kw(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ow(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Bc(t))return new me(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new ss(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ss)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ss;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.W_=new ht(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Is{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Is(e,n,ss.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class mF{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=GS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function GS(){return new ol(t=>h2(t),Up)}async function Cw(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new pF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Ow(a,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&jw(n)}async function Nw(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gF(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&jw(n)}function yF(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function jw(t){t.Y_.forEach(e=>{e.next()})}var Rv,HS;(HS=Rv||(Rv={})).ea="default",HS.Cache="cache";class Rw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.key=e}}class q2{constructor(e){this.key=e}}class vF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=p2(e),this.Ra=new ss(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new WS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=zp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;h&&m?h.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),b=!0):this.ga(h,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),b=!0):h&&!m&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(m?(a=a.add(m),o=v?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(m,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return v(m)-v(g)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Is(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new WS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new q2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new H2(r))}),n}ba(e){this.Ta=e.Ts,this.da=ke();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Is.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wF{constructor(e){this.key=e,this.va=!1}}class _F{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ol(s=>h2(s),Up),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ye.comparator),this.Na=new Map,this.La=new xw,this.Ba={},this.ka=new Map,this.qa=Ps.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xF(t,e,n=!0){const r=Z2(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await K2(r,e,n,!0),i}async function SF(t,e){const n=Z2(t);await K2(n,e,!0,!1)}async function K2(t,e,n,r){const i=await GV(t.localStore,Dr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await EF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&F2(t.remoteStore,i),s}async function EF(t,e,n,r,i){t.Ka=(f,h,m)=>async function(v,b,_,w){let x=b.view.ma(_);x.ns&&(x=await FS(v.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,x)));const O=w&&w.targetChanges.get(b.targetId),T=w&&w.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(x,v.isPrimaryClient,O,T);return KS(v,b.targetId,P.wa),P.snapshot}(t,f,h,m);const o=await FS(t.localStore,e,!0),a=new vF(e,o.Ts),s=a.ma(o.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);KS(t,n,u.wa);const d=new bF(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function TF(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Up(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Tw(r.remoteStore,i.targetId),Mv(r,i.targetId)}).catch(Fc)):(Mv(r,i.targetId),await jv(r.localStore,i.targetId,!0))}async function AF(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tw(n.remoteStore,r.targetId))}async function PF(t,e,n){const r=RF(t);try{const i=await function(a,s){const l=Se(a),u=Nt.now(),d=s.reduce((m,g)=>m.add(g.key),ke());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=bi(),v=ke();return l.cs.getEntries(m,d).next(b=>{g=b,g.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{f=b;const _=[];for(const w of s){const x=X3(w,f.get(w.key).overlayedDocument);x!=null&&_.push(new wo(w.key,x,a2(x.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,s)}).next(b=>{h=b;const _=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:h.batchId,changes:g2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ht(De)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Gc(r,i.changes),await Xp(r.remoteStore)}catch(i){const o=Ow(i,"Failed to persist write");n.reject(o)}}async function X2(t,e){const n=Se(t);try{const r=await UV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?ze(a.va):i.removedDocuments.size>0&&(ze(a.va),a.va=!1))}),await Gc(n,r,e)}catch(r){await Fc(r)}}function qS(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Se(a);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&jw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IF(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ht(ye.comparator);a=a.insert(o,dn.newNoDocument(o,xe.min()));const s=ke().add(o),l=new Hp(xe.min(),new Map,new ht(De),a,s);await X2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Mw(r)}else await jv(r.localStore,e,!1).then(()=>Mv(r,e,n)).catch(Fc)}async function kF(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await BV(n.localStore,e);Q2(n,r,null),Y2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,i)}catch(i){await Fc(i)}}async function OF(t,e,n){const r=Se(t);try{const i=await function(a,s){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(ze(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Q2(r,e,n),Y2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,i)}catch(i){await Fc(i)}}function Y2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Q2(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||J2(t,r)})}function J2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Tw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mw(t))}function KS(t,e,n){for(const r of n)r instanceof H2?(t.La.addReference(r.key,e),CF(t,r)):r instanceof q2?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||J2(t,r.key)):_e()}function CF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mw(t))}function Mw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new wF(n)),t.Oa=t.Oa.insert(n,r),F2(t.remoteStore,new Ki(Dr(Bp(n.path)),r,"TargetPurposeLimboResolution",fw.oe))}}async function Gc(t,e,n){const r=Se(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Ew.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const d=Se(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,h=>ee.forEach(h.$i,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ee.forEach(h.Ui,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Bc(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.os.get(h),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(h,v)}}}(r.localStore,o))}async function NF(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await D2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new me(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.hs)}}function jF(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return ke().add(r.key);{let i=ke();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function Z2(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IF.bind(null,e),e.Ca.d_=gF.bind(null,e.eventManager),e.Ca.$a=yF.bind(null,e.eventManager),e}function RF(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OF.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return FV(this.persistence,new LV,e.initialUser,this.serializer)}Ga(e){return new MV(Sw.Zr,this.serializer)}Wa(e){return new qV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class Dv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NF.bind(null,this.syncEngine),await hF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mF}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(o){return new QV(o)}(e.databaseInfo);return function(o,a,s,l){return new eF(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new nF(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>qS(this.syncEngine,n,0),function(){return US.D()?new US:new KV}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,d){const f=new _F(i,o,a,s,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Wc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dv.provider={build:()=>new Dv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=r2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DF(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zS(e.remoteStore,i)),t._onlineComponents=e}async function DF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await Gg(t,new hh)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await Gg(t,new hh);return t._offlineComponents}async function eC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await XS(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await XS(t,new Dv))),t._onlineComponents}function $F(t){return eC(t).then(e=>e.syncEngine)}async function ph(t){const e=await eC(t),n=e.eventManager;return n.onListen=xF.bind(null,e.syncEngine),n.onUnlisten=TF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AF.bind(null,e.syncEngine),n}function LF(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Dw({next:h=>{d.Za(),a.enqueueAndForget(()=>Nw(o,f));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Rw(Bp(s.path),d,{includeMetadataChanges:!0,_a:!0});return Cw(o,f)}(await ph(t),t.asyncQueue,e,n,r)),r.promise}function VF(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const d=new Dw({next:h=>{d.Za(),a.enqueueAndForget(()=>Nw(o,f)),h.fromCache&&l.source==="server"?u.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Rw(s,d,{includeMetadataChanges:!0,_a:!0});return Cw(o,f)}(await ph(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){if(!n)throw new me(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FF(t,e,n,r){if(e===!0&&r===!0)throw new me(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QS(t){if(!ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(ye.isDocumentKey(t))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $w(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$w(t);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r3;switch(r.type){case"firstParty":return new s3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YS.get(n);r&&(pe("ComponentProvider","Removing Datastore"),YS.delete(n),r.terminate())}(this),Promise.resolve()}}function BF(t,e,n,r={}){var i;const o=(t=jn(t,Yp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=cn.MOCK_USER;else{s=CL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cn(u)}t._authCredentials=new i3(new n2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hc(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class so extends Hc{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new ye(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function hr(t,e,...n){if(t=tn(t),nC("collection","path",e),t instanceof Yp){const r=lt.fromString(e,...n);return JS(r),new so(t,null,r)}{if(!(t instanceof Sn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return JS(r),new so(t.firestore,null,r)}}function Ft(t,e,...n){if(t=tn(t),arguments.length===1&&(e=r2.newId()),nC("doc","path",e),t instanceof Yp){const r=lt.fromString(e,...n);return QS(r),new Sn(t,null,new ye(r))}{if(!(t instanceof Sn||t instanceof so))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return QS(r),new Sn(t.firestore,t instanceof so?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new L2(this,"async_queue_retry"),this.Vu=()=>{const r=Wg();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bc(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=kw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function tE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends Yp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function UF(t,e){const n=typeof t=="object"?t:qO(),r=typeof t=="string"?t:e||"(default)",i=uw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=kL("firestore");o&&BF(i,...o)}return i}function Qp(t){if(t._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zF(t),t._firestoreClient}function zF(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,d){return new w3(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(nn.fromBase64String(e))}catch(n){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^__.*__$/;class GF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class rC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Fw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iC(this.Cu)&&WF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class HF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Qu(e,n,r,i=!1){return new Fw({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bw(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new HF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oC(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);zw("Data must be an object, but it was:",a,r);const s=aC(r,a);let l,u;if(o.merge)l=new zn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=$v(e,f,n);if(!a.contains(h))throw new me(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lC(d,h)||d.push(h)}l=new zn(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new GF(new Pn(s),l,u)}class em extends Zp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}class Uw extends Zp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Yu(e.serializer,b2(e.serializer,this.$u));return new G3(e.path,n)}isEqual(e){return e instanceof Uw&&this.$u===e.$u}}function qF(t,e,n,r){const i=t.Qu(1,e,n);zw("Data must be an object, but it was:",i,r);const o=[],a=Pn.empty();ba(r,(l,u)=>{const d=Ww(e,l,n);u=tn(u);const f=i.Nu(d);if(u instanceof em)o.push(d);else{const h=tm(u,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new zn(o);return new rC(a,s,i.fieldTransforms)}function KF(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[$v(e,r,n)],l=[i];if(o.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push($v(e,o[h])),l.push(o[h+1]);const u=[],d=Pn.empty();for(let h=s.length-1;h>=0;--h)if(!lC(u,s[h])){const m=s[h];let g=l[h];g=tn(g);const v=a.Nu(m);if(g instanceof em)u.push(m);else{const b=tm(g,v);b!=null&&(u.push(m),d.set(m,b))}}const f=new zn(u);return new rC(d,f,a.fieldTransforms)}function tm(t,e){if(sC(t=tn(t)))return zw("Unsupported field value:",e,t),aC(t,e);if(t instanceof Zp)return function(r,i){if(!iC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=tm(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Nt.fromDate(r);return{timestampValue:fh(i.serializer,o)}}if(r instanceof Nt){const o=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,o)}}if(r instanceof Lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:k2(i.serializer,r._byteString)};if(r instanceof Sn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_w(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return yw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$w(r)}`)}(t,e)}function aC(t,e){const n={};return i2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{const o=tm(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function sC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Lw||t instanceof ks||t instanceof Sn||t instanceof Zp||t instanceof Vw)}function zw(t,e,n){if(!sC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$w(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $v(t,e,n){if((e=tn(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return Ww(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const XF=new RegExp("[~\\*/\\[\\]]");function Ww(t,e,n){if(e.search(XF)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new me(J.INVALID_ARGUMENT,s+t+l)}function lC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YF extends uC{data(){return super.data()}}function cC(t,e){return typeof e=="string"?Ww(t,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QF{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>yt(a.doubleValue));return new Vw(o)}convertGeoPoint(e){return new Lw(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=mo(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);ze(M2(r));const i=new Hu(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hC extends uC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends hC{data(e={}){return super.data(e)}}class pC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Id(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Id(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ou(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:JF(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){t=jn(t,Sn);const e=jn(t.firestore,wi);return LF(Qp(e),t._key).then(n=>gC(e,t,n))}class Gw extends QF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function nE(t){t=jn(t,Hc);const e=jn(t.firestore,wi),n=Qp(e),r=new Gw(e);return fC(t._query),VF(n,t._query).then(i=>new pC(e,r,t,i))}function ZF(t,e,n){t=jn(t,Sn);const r=jn(t.firestore,wi),i=dC(t.converter,e,n);return nm(r,[oC(Bw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function Or(t,e,n,...r){t=jn(t,Sn);const i=jn(t.firestore,wi),o=Bw(i);let a;return a=typeof(e=tn(e))=="string"||e instanceof Jp?KF(o,"updateDoc",t._key,e,n,r):qF(o,"updateDoc",t._key,e),nm(i,[a.toMutation(t._key,rr.exists(!0))])}function Kf(t){return nm(jn(t.firestore,wi),[new vw(t._key,rr.none())])}function Bl(t,e){const n=jn(t.firestore,wi),r=Ft(t),i=dC(t.converter,e);return nm(n,[oC(Bw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function Qa(t,...e){var n,r,i;t=tn(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||tE(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tE(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Sn)u=jn(t.firestore,wi),d=Bp(t._key.path),l={next:f=>{e[a]&&e[a](gC(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=jn(t,Hc);u=jn(f.firestore,wi),d=f._query;const h=new Gw(u);l={next:m=>{e[a]&&e[a](new pC(u,h,f,m))},error:e[a+1],complete:e[a+2]},fC(t._query)}return function(h,m,g,v){const b=new Dw(v),_=new Rw(m,b,g);return h.asyncQueue.enqueueAndForget(async()=>Cw(await ph(h),_)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>Nw(await ph(h),_))}}(Qp(u),d,s,l)}function nm(t,e){return function(r,i){const o=new li;return r.asyncQueue.enqueueAndForget(async()=>PF(await $F(r),i,o)),o.promise}(Qp(t),e)}function gC(t,e,n){const r=n.docs.get(e._key),i=new Gw(t);return new hC(t,i,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function Co(t){return new Uw("increment",t)}(function(e,n=!0){(function(i){il=i})(rl),xs(new sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new wi(new o3(r.getProvider("auth-internal")),new u3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ao(bS,"4.7.3",e),ao(bS,"4.7.3","esm2017")})();function Hw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e5=yC,vC=new Lc("auth","Firebase",yC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new sw("@firebase/auth");function t5(t,...e){gh.logLevel<=Oe.WARN&&gh.warn(`Auth (${rl}): ${t}`,...e)}function kd(t,...e){gh.logLevel<=Oe.ERROR&&gh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw Kw(t,...e)}function Tr(t,...e){return Kw(t,...e)}function qw(t,e,n){const r=Object.assign(Object.assign({},e5()),{[e]:n});return new Lc("auth","Firebase",r).create(e,{appName:t.name})}function Jo(t){return qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zr(t,"argument-error"),qw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vC.create(t,...e)}function we(t,e,...n){if(!t)throw Kw(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function _i(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r5(){return rE()==="http:"||rE()==="https:"}function rE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r5()||ML()||"connection"in navigator)?navigator.onLine:!0}function o5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=NL()||DL()}get(){return i5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new qc(3e4,6e4);function Yw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sl(t,e,n,r,i={}){return wC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Vc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return RL()||(u.referrerPolicy="no-referrer"),bC.fetch()(_C(t,t.config.apiHost,n,s),u)})}async function wC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},a5),e);try{const i=new u5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Xf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Xf(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qw(t,d,u);zr(t,d)}}catch(i){if(i instanceof Ai)throw i;zr(t,"network-request-failed",{message:String(i)})}}async function l5(t,e,n,r,i={}){const o=await sl(t,e,n,r,i);return"mfaPendingCredential"in o&&zr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _C(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`}class u5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),s5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function xC(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f5(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=Qw(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wu(Hg(i.auth_time)),issuedAtTime:wu(Hg(i.iat)),expirationTime:wu(Hg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hg(t){return Number(t)*1e3}function Qw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=FO(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iE(t){const e=Qw(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&d5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qu(t,xC(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SC(o.providerUserInfo):[],s=m5(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vv(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function p5(t){const e=tn(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SC(t){return t.map(e=>{var{providerId:n}=e,r=Hw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){const n=await wC(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=_C(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",bC.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y5(t,e){return sl(t,"POST","/v2/accounts:revokeToken",Yw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await g5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new ls;return r&&(we(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ls,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f5(this,e)}reload(){return p5(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await Qu(this,c5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:O,isAnonymous:T,providerData:P,stsTokenManager:S}=n;we(x&&S,e,"internal-error");const E=ls.fromJSON(this.name,S);we(typeof x=="string",e,"internal-error"),Mi(f,e.name),Mi(h,e.name),we(typeof O=="boolean",e,"internal-error"),we(typeof T=="boolean",e,"internal-error"),Mi(m,e.name),Mi(g,e.name),Mi(v,e.name),Mi(b,e.name),Mi(_,e.name),Mi(w,e.name);const I=new ni({uid:x,auth:e,email:h,emailVerified:O,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:E,createdAt:_,lastLoginAt:w});return P&&Array.isArray(P)&&(I.providerData=P.map(C=>Object.assign({},C))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ls;i.updateFromServerResponse(n);const o=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new ls;s.updateFromIdToken(r);const l=new ni({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function ri(t){_i(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EC.type="NONE";const aE=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class us{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,o),this.fullPersistenceKey=Od("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new us(ri(aE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ri(aE);const a=Od(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){const f=ni._fromJSON(e,d);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new us(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new us(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OC(e))return"Blackberry";if(CC(e))return"Webos";if(AC(e))return"Safari";if((e.includes("chrome/")||PC(e))&&!e.includes("edge/"))return"Chrome";if(kC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TC(t=gn()){return/firefox\//i.test(t)}function AC(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PC(t=gn()){return/crios\//i.test(t)}function IC(t=gn()){return/iemobile/i.test(t)}function kC(t=gn()){return/android/i.test(t)}function OC(t=gn()){return/blackberry/i.test(t)}function CC(t=gn()){return/webos/i.test(t)}function Jw(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v5(t=gn()){var e;return Jw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b5(){return $L()&&document.documentMode===10}function NC(t=gn()){return Jw(t)||kC(t)||CC(t)||OC(t)||/windows phone/i.test(t)||IC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t,e=[]){let n;switch(t){case"Browser":n=sE(gn());break;case"Worker":n=`${sE(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e={}){return sl(t,"GET","/v2/passwordPolicy",Yw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6;class S5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:x5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new w5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await us.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xC(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Jo(this));const n=e?tn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _5(this),n=new S5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&t5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rm(t){return tn(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=GL(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T5(t){Zw=t}function A5(t){return Zw.loadJS(t)}function P5(){return Zw.gapiScript}function I5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e){const n=uw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(oh(o,e??{}))return i;zr(i,"already-initialized")}return n.initialize({options:e})}function O5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C5(t,e,n){const r=rm(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=RC(e),{host:a,port:s}=N5(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j5()}function RC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N5(t){const e=RC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:uE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:uE(a)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(t,e){return l5(t,"POST","/v1/accounts:signInWithIdp",Yw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="http://localhost";class fa extends MC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Hw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new fa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cs(e,n)}buildRequest(){const e={requestUri:R5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Kc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Kc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Kc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ni._fromIdTokenResponse(e,r,i),a=cE(r);return new Os({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vh(e,n,r,i)}}function DC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,o,e,r):o})}async function M5(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t,e,n=!1){const{auth:r}=t;if(ei(r.app))return Promise.reject(Jo(r));const i="reauthenticate";try{const o=await Qu(t,DC(r,i,e,t),n);we(o.idToken,r,"internal-error");const a=Qw(o.idToken);we(a,r,"internal-error");const{sub:s}=a;return we(t.uid===s,r,"user-mismatch"),Os._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e,n=!1){if(ei(t.app))return Promise.reject(Jo(t));const r="signIn",i=await DC(t,r,e),o=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function L5(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function V5(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function F5(t,e,n,r){return tn(t).onAuthStateChanged(e,n,r)}function fE(t){return tn(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=1e3,U5=10;class LC extends $C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);b5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LC.type="LOCAL";const z5=LC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends $C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VC.type="SESSION";const FC=VC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await W5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=t_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function H5(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function q5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X5(){return BC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="firebaseLocalStorageDb",Y5=1,wh="firebaseLocalStorage",zC="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function Q5(){const t=indexedDB.deleteDatabase(UC);return new Xc(t).toPromise()}function Fv(){const t=indexedDB.open(UC,Y5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wh,{keyPath:zC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await Q5(),e(await Fv()))})})}async function dE(t,e,n){const r=om(t,!0).put({[zC]:e,value:n});return new Xc(r).toPromise()}async function J5(t,e){const n=om(t,!1).get(e),r=await new Xc(n).toPromise();return r===void 0?null:r.value}function hE(t,e){const n=om(t,!0).delete(e);return new Xc(n).toPromise()}const Z5=800,e6=3;class WC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>e6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(X5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q5(),!this.activeServiceWorker)return;this.sender=new G5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fv();return await dE(e,bh,"1"),await hE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=om(i,!1).getAll();return new Xc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WC.type="LOCAL";const t6=WC;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){return e?ri(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends MC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n6(t){return $5(t.auth,new n_(t),t.bypassAuthState)}function r6(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),D5(n,new n_(t),t.bypassAuthState)}async function i6(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),M5(n,new n_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n6;case"linkViaPopup":case"linkViaRedirect":return i6;case"reauthViaPopup":case"reauthViaRedirect":return r6;default:zr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new qc(2e3,1e4);async function a6(t,e,n){if(ei(t.app))return Promise.reject(Tr(t,"operation-not-supported-in-this-environment"));const r=rm(t);n5(t,e,e_);const i=GC(r,n);return new Wo(r,"signInViaPopup",e,i).executeNotNull()}class Wo extends HC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o6.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="pendingRedirect",Cd=new Map;class l6 extends HC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await u6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u6(t,e){const n=d6(e),r=f6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c6(t,e){Cd.set(t._key(),e)}function f6(t){return ri(t._redirectPersistence)}function d6(t){return Od(s6,t.config.apiKey,t.name)}async function h6(t,e,n=!1){if(ei(t.app))return Promise.reject(Jo(t));const r=rm(t),i=GC(r,e),a=await new l6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=10*60*1e3;class m6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p6&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b6=/^https?/;async function w6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y6(t);for(const n of e)try{if(_6(n))return}catch{}zr(t,"unauthorized-domain")}function _6(t){const e=Lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!b6.test(n))return!1;if(v6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new qc(3e4,6e4);function mE(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S6(t){return new Promise((e,n)=>{var r,i,o;function a(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Tr(t,"network-request-failed"))},timeout:x6.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Lr().gapi)===null||o===void 0)&&o.load)a();else{const s=I5("iframefcb");return Lr()[s]=()=>{gapi.load?a():n(Tr(t,"network-request-failed"))},A5(`${P5()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function E6(t){return Nd=Nd||S6(t),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new qc(5e3,15e3),A6="__/auth/iframe",P6="emulator/auth/iframe",I6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xw(e,P6):`https://${t.config.authDomain}/${A6}`,r={apiKey:e.apiKey,appName:t.name,v:rl},i=k6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vc(r).slice(1)}`}async function C6(t){const e=await E6(t),n=Lr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:O6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Tr(t,"network-request-failed"),s=Lr().setTimeout(()=>{o(a)},T6.get());function l(){Lr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j6=500,R6=600,M6="_blank",D6="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $6(t,e,n,r=j6,i=R6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},N6),{width:r.toString(),height:i.toString(),top:o,left:a}),u=gn().toLowerCase();n&&(s=PC(u)?M6:n),TC(u)&&(e=e||D6,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(v5(u)&&s!=="_self")return L6(e||"",s),new gE(null);const f=window.open(e||"",s,d);we(f,t,"popup-blocked");try{f.focus()}catch{}return new gE(f)}function L6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="__/auth/handler",F6="emulator/auth/handler",B6=encodeURIComponent("fac");async function yE(t,e,n,r,i,o){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:i};if(e instanceof e_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",WL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof Kc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${B6}=${encodeURIComponent(l)}`:"";return`${U6(t)}?${Vc(s).slice(1)}${u}`}function U6({config:t}){return t.emulator?Xw(t,F6):`https://${t.authDomain}/${V6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class z6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FC,this._completeRedirectFn=h6,this._overrideRedirectResult=c6}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await yE(e,n,r,Lv(),i);return $6(e,a,t_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yE(e,n,r,Lv(),i);return H5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C6(e),r=new m6(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[qg];a!==void 0&&n(!!a),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NC()||AC()||Jw()}}const W6=z6;var vE="@firebase/auth",bE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q6(t){xs(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;we(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jC(t)},u=new E5(r,i,o,l);return O5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xs(new sa("auth-internal",e=>{const n=rm(e.getProvider("auth").getImmediate());return(r=>new G6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ao(vE,bE,H6(t)),ao(vE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=5*60,X6=zO("authIdTokenMaxAge")||K6;let wE=null;const Y6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X6)return;const i=n==null?void 0:n.token;wE!==i&&(wE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q6(t=qO()){const e=uw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k5(t,{popupRedirectResolver:W6,persistence:[t6,z5,FC]}),r=zO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Y6(o.toString());V5(n,a,()=>a(n.currentUser)),L5(n,s=>a(s))}}const i=BO("auth");return i&&C5(n,`http://${i}`),n}function J6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}T5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Tr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",J6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q6("Browser");const Z6={apiKey:"AIzaSyCR6PTJ8tfCJy9qZWcp8dW-9UH4ko0yL4M",authDomain:"sahil-stats-tracker.firebaseapp.com",projectId:"sahil-stats-tracker",storageBucket:"sahil-stats-tracker.appspot.com",messagingSenderId:"203118165866",appId:"1:203118165866:web:8524979c64e4dfdad32f13",measurementId:"G-R14NR52088"},KC=HO(Z6),Je=UF(KC),Yf=Q6(KC),XC=new Qr;XC.setCustomParameters({prompt:"select_account"});const eB=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),tB=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"12",r:"6"}),p.jsx("circle",{cx:"12",cy:"12",r:"2"})]});function nB({teams:t=[],stats:e=[],onSubmit:n,onAddTeam:r}){const[i,o]=D.useState({teamName:"",opponent:"",location:"",gameFormat:localStorage.getItem("gameFormat")||"periods",periodLength:parseInt(localStorage.getItem("periodLength"))||10,numPeriods:4,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),[a,s]=D.useState(""),[l,u]=D.useState(!1),[d,f]=D.useState(!1),[h,m]=D.useState(""),g=D.useMemo(()=>{const k=new Map;for(const j of t)j&&j.id&&!k.has(j.name.toLowerCase())&&k.set(j.name.toLowerCase(),j);return Array.from(k.values())},[t]),v=D.useMemo(()=>[...new Set(e.map(j=>j.opponent).filter(Boolean))],[e]),b=D.useMemo(()=>[...new Set(e.map(j=>j.location).filter(Boolean))].sort(),[e]);D.useEffect(()=>{g.length>0&&!i.teamName&&o(k=>({...k,teamName:g[0].name}))},[g,i.teamName]);const _=async()=>{if(!h.trim())return;if(g.some(j=>j.name.toLowerCase()===h.toLowerCase())){alert("Team already exists!");return}try{const j=await r(h.trim());j&&(o(N=>({...N,teamName:j.name})),m(""),f(!1))}catch(j){console.error("Error adding team:",j),alert("Failed to add team. Please try again.")}},w=k=>{const j=k.target.value;o(N=>({...N,opponent:j}))},x=k=>{const j=k.target.value;o(N=>({...N,location:j}))},O=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}u(!0),navigator.geolocation.getCurrentPosition(async k=>{try{const{latitude:j,longitude:N}=k.coords,z=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${j}&longitude=${N}&localityLanguage=en`)).json(),G=z.locality||z.city||z.principalSubdivision||`${j.toFixed(4)}, ${N.toFixed(4)}`;o(K=>({...K,location:G})),u(!1)}catch(j){console.error("Error getting location name:",j),o(N=>({...N,location:`${k.coords.latitude.toFixed(4)}, ${k.coords.longitude.toFixed(4)}`})),u(!1)}},k=>{console.error("Error getting location:",k),alert("Unable to get your location. Please enter manually."),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},T=v.some(k=>k.toLowerCase()===i.opponent.toLowerCase()),P=v.find(k=>i.opponent.length>=2&&k.toLowerCase().includes(i.opponent.toLowerCase())&&k.toLowerCase()!==i.opponent.toLowerCase()),S=b.filter(k=>i.location.length>=2&&k.toLowerCase().includes(i.location.toLowerCase())&&k.toLowerCase()!==i.location.toLowerCase()).slice(0,3),E=k=>{const{name:j,value:N}=k.target;o(U=>({...U,[j]:N}))},I=k=>{const j=k.target.value;j==="__ADD_NEW_TEAM__"?f(!0):o(N=>({...N,teamName:j}))},C=k=>{if(!i.teamName||!i.opponent){s("Please enter a team name and opponent name.");return}s("");const j=new Date(`${i.date}T${i.time}`).toISOString();typeof n=="function"?n({...i,timestamp:j},k):s("Internal error: Game submit not available.")};return p.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"date",name:"date",value:i.date,onChange:E,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"}),p.jsx("input",{type:"time",name:"time",value:i.time,onChange:E,className:"bg-gray-50 dark:bg-gray-700 rounded-lg px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm outline-none"})]})}),a&&p.jsx("p",{className:"text-red-500 bg-red-100 dark:bg-red-900/50 p-3 rounded-md mb-4 text-center",children:a}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sahil's Team"}),d?p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",placeholder:"Enter new team name",value:h,onChange:k=>m(k.target.value),className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",onKeyDown:k=>{k.key==="Enter"&&_(),k.key==="Escape"&&(f(!1),m(""))},autoFocus:!0}),p.jsx("button",{type:"button",onClick:_,disabled:!h.trim(),className:"px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded font-medium",children:"Add"}),p.jsx("button",{type:"button",onClick:()=>{f(!1),m("")},className:"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}):p.jsxs("select",{name:"teamName",value:i.teamName,onChange:I,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full appearance-none",children:[p.jsx("option",{value:"",disabled:!0,children:"Select Team"}),g.map(k=>p.jsx("option",{value:k.name,children:k.name},k.id)),p.jsx("option",{value:"__ADD_NEW_TEAM__",className:"font-medium text-blue-600",children:"➕ Add New Team..."})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent's Team"}),p.jsx("input",{type:"text",name:"opponent",placeholder:"e.g., Oakland Soldiers",value:i.opponent,onChange:w,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none w-full",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),i.opponent&&p.jsx("div",{className:"mt-2 text-sm",children:T?p.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Played before"]}):P?p.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Did you mean:",p.jsx("button",{type:"button",onClick:()=>o(k=>({...k,opponent:P})),className:"ml-1 text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300",children:P}),"?"]}):p.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New opponent"]})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[p.jsx(eB,{className:"inline w-4 h-4 mr-1"}),"Location"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",name:"location",placeholder:"e.g., Oakland Rec Center, Home Court",value:i.location,onChange:x,className:"flex-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 border border-gray-300 dark:border-gray-600 rounded p-3 focus:ring-orange-500 focus:ring-2 outline-none",autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),p.jsx("button",{type:"button",onClick:O,disabled:l,className:"px-3 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center justify-center",title:"Auto-detect location",children:l?p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):p.jsx(tB,{className:"w-4 h-4"})})]}),S.length>0&&p.jsxs("div",{className:"mt-2 text-sm",children:[p.jsx("div",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Previous locations:"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(k=>p.jsx("button",{type:"button",onClick:()=>o(j=>({...j,location:k})),className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:k},k))})]}),i.location&&!b.includes(i.location)&&p.jsx("div",{className:"mt-2 text-sm",children:p.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New location"]})})]}),p.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6 space-y-4",children:[p.jsx("button",{onClick:()=>C("live"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg",title:"Start Live Game & Track Stats",children:"Start Live Game & Track Stats"}),p.jsx("button",{onClick:()=>C("final"),className:"w-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-lg border border-gray-300 dark:border-gray-600",children:"Enter Final Stats Only"})]})]})]})}function YC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YC(t))&&(r&&(r+=" "),r+=e);return r}var rB=Array.isArray,Rn=rB,iB=typeof Af=="object"&&Af&&Af.Object===Object&&Af,QC=iB,oB=QC,aB=typeof self=="object"&&self&&self.Object===Object&&self,sB=oB||aB||Function("return this")(),Gr=sB,lB=Gr,uB=lB.Symbol,Yc=uB,_E=Yc,JC=Object.prototype,cB=JC.hasOwnProperty,fB=JC.toString,Ul=_E?_E.toStringTag:void 0;function dB(t){var e=cB.call(t,Ul),n=t[Ul];try{t[Ul]=void 0;var r=!0}catch{}var i=fB.call(t);return r&&(e?t[Ul]=n:delete t[Ul]),i}var hB=dB,pB=Object.prototype,mB=pB.toString;function gB(t){return mB.call(t)}var yB=gB,xE=Yc,vB=hB,bB=yB,wB="[object Null]",_B="[object Undefined]",SE=xE?xE.toStringTag:void 0;function xB(t){return t==null?t===void 0?_B:wB:SE&&SE in Object(t)?vB(t):bB(t)}var Pi=xB;function SB(t){return t!=null&&typeof t=="object"}var Ii=SB,EB=Pi,TB=Ii,AB="[object Symbol]";function PB(t){return typeof t=="symbol"||TB(t)&&EB(t)==AB}var ll=PB,IB=Rn,kB=ll,OB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CB=/^\w*$/;function NB(t,e){if(IB(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kB(t)?!0:CB.test(t)||!OB.test(t)||e!=null&&t in Object(e)}var r_=NB;function jB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _o=jB;const ul=Xe(_o);var RB=Pi,MB=_o,DB="[object AsyncFunction]",$B="[object Function]",LB="[object GeneratorFunction]",VB="[object Proxy]";function FB(t){if(!MB(t))return!1;var e=RB(t);return e==$B||e==LB||e==DB||e==VB}var i_=FB;const Ae=Xe(i_);var BB=Gr,UB=BB["__core-js_shared__"],zB=UB,Kg=zB,EE=function(){var t=/[^.]+$/.exec(Kg&&Kg.keys&&Kg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WB(t){return!!EE&&EE in t}var GB=WB,HB=Function.prototype,qB=HB.toString;function KB(t){if(t!=null){try{return qB.call(t)}catch{}try{return t+""}catch{}}return""}var ZC=KB,XB=i_,YB=GB,QB=_o,JB=ZC,ZB=/[\\^$.*+?()[\]{}|]/g,e9=/^\[object .+?Constructor\]$/,t9=Function.prototype,n9=Object.prototype,r9=t9.toString,i9=n9.hasOwnProperty,o9=RegExp("^"+r9.call(i9).replace(ZB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function a9(t){if(!QB(t)||YB(t))return!1;var e=XB(t)?o9:e9;return e.test(JB(t))}var s9=a9;function l9(t,e){return t==null?void 0:t[e]}var u9=l9,c9=s9,f9=u9;function d9(t,e){var n=f9(t,e);return c9(n)?n:void 0}var _a=d9,h9=_a,p9=h9(Object,"create"),am=p9,TE=am;function m9(){this.__data__=TE?TE(null):{},this.size=0}var g9=m9;function y9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var v9=y9,b9=am,w9="__lodash_hash_undefined__",_9=Object.prototype,x9=_9.hasOwnProperty;function S9(t){var e=this.__data__;if(b9){var n=e[t];return n===w9?void 0:n}return x9.call(e,t)?e[t]:void 0}var E9=S9,T9=am,A9=Object.prototype,P9=A9.hasOwnProperty;function I9(t){var e=this.__data__;return T9?e[t]!==void 0:P9.call(e,t)}var k9=I9,O9=am,C9="__lodash_hash_undefined__";function N9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=O9&&e===void 0?C9:e,this}var j9=N9,R9=g9,M9=v9,D9=E9,$9=k9,L9=j9;function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=R9;cl.prototype.delete=M9;cl.prototype.get=D9;cl.prototype.has=$9;cl.prototype.set=L9;var V9=cl;function F9(){this.__data__=[],this.size=0}var B9=F9;function U9(t,e){return t===e||t!==t&&e!==e}var o_=U9,z9=o_;function W9(t,e){for(var n=t.length;n--;)if(z9(t[n][0],e))return n;return-1}var sm=W9,G9=sm,H9=Array.prototype,q9=H9.splice;function K9(t){var e=this.__data__,n=G9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():q9.call(e,n,1),--this.size,!0}var X9=K9,Y9=sm;function Q9(t){var e=this.__data__,n=Y9(e,t);return n<0?void 0:e[n][1]}var J9=Q9,Z9=sm;function eU(t){return Z9(this.__data__,t)>-1}var tU=eU,nU=sm;function rU(t,e){var n=this.__data__,r=nU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var iU=rU,oU=B9,aU=X9,sU=J9,lU=tU,uU=iU;function fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fl.prototype.clear=oU;fl.prototype.delete=aU;fl.prototype.get=sU;fl.prototype.has=lU;fl.prototype.set=uU;var lm=fl,cU=_a,fU=Gr,dU=cU(fU,"Map"),a_=dU,AE=V9,hU=lm,pU=a_;function mU(){this.size=0,this.__data__={hash:new AE,map:new(pU||hU),string:new AE}}var gU=mU;function yU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vU=yU,bU=vU;function wU(t,e){var n=t.__data__;return bU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var um=wU,_U=um;function xU(t){var e=_U(this,t).delete(t);return this.size-=e?1:0,e}var SU=xU,EU=um;function TU(t){return EU(this,t).get(t)}var AU=TU,PU=um;function IU(t){return PU(this,t).has(t)}var kU=IU,OU=um;function CU(t,e){var n=OU(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var NU=CU,jU=gU,RU=SU,MU=AU,DU=kU,$U=NU;function dl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dl.prototype.clear=jU;dl.prototype.delete=RU;dl.prototype.get=MU;dl.prototype.has=DU;dl.prototype.set=$U;var s_=dl,eN=s_,LU="Expected a function";function l_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(LU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(l_.Cache||eN),n}l_.Cache=eN;var tN=l_;const VU=Xe(tN);var FU=tN,BU=500;function UU(t){var e=FU(t,function(r){return n.size===BU&&n.clear(),r}),n=e.cache;return e}var zU=UU,WU=zU,GU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HU=/\\(\\)?/g,qU=WU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(GU,function(n,r,i,o){e.push(i?o.replace(HU,"$1"):r||n)}),e}),KU=qU;function XU(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var u_=XU,PE=Yc,YU=u_,QU=Rn,JU=ll,ZU=1/0,IE=PE?PE.prototype:void 0,kE=IE?IE.toString:void 0;function nN(t){if(typeof t=="string")return t;if(QU(t))return YU(t,nN)+"";if(JU(t))return kE?kE.call(t):"";var e=t+"";return e=="0"&&1/t==-ZU?"-0":e}var ez=nN,tz=ez;function nz(t){return t==null?"":tz(t)}var rN=nz,rz=Rn,iz=r_,oz=KU,az=rN;function sz(t,e){return rz(t)?t:iz(t,e)?[t]:oz(az(t))}var iN=sz,lz=ll,uz=1/0;function cz(t){if(typeof t=="string"||lz(t))return t;var e=t+"";return e=="0"&&1/t==-uz?"-0":e}var cm=cz,fz=iN,dz=cm;function hz(t,e){e=fz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dz(e[n++])];return n&&n==r?t:void 0}var c_=hz,pz=c_;function mz(t,e,n){var r=t==null?void 0:pz(t,e);return r===void 0?n:r}var oN=mz;const ir=Xe(oN);function gz(t){return t==null}var yz=gz;const Pe=Xe(yz);var vz=Pi,bz=Rn,wz=Ii,_z="[object String]";function xz(t){return typeof t=="string"||!bz(t)&&wz(t)&&vz(t)==_z}var Sz=xz;const da=Xe(Sz);var aN={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=Symbol.for("react.element"),d_=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),Ez=Symbol.for("react.server_context"),gm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),Tz=Symbol.for("react.offscreen"),sN;sN=Symbol.for("react.module.reference");function ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f_:switch(t=t.type,t){case fm:case hm:case dm:case ym:case vm:return t;default:switch(t=t&&t.$$typeof,t){case Ez:case mm:case gm:case wm:case bm:case pm:return t;default:return e}}case d_:return e}}}We.ContextConsumer=mm;We.ContextProvider=pm;We.Element=f_;We.ForwardRef=gm;We.Fragment=fm;We.Lazy=wm;We.Memo=bm;We.Portal=d_;We.Profiler=hm;We.StrictMode=dm;We.Suspense=ym;We.SuspenseList=vm;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return ur(t)===mm};We.isContextProvider=function(t){return ur(t)===pm};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f_};We.isForwardRef=function(t){return ur(t)===gm};We.isFragment=function(t){return ur(t)===fm};We.isLazy=function(t){return ur(t)===wm};We.isMemo=function(t){return ur(t)===bm};We.isPortal=function(t){return ur(t)===d_};We.isProfiler=function(t){return ur(t)===hm};We.isStrictMode=function(t){return ur(t)===dm};We.isSuspense=function(t){return ur(t)===ym};We.isSuspenseList=function(t){return ur(t)===vm};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fm||t===hm||t===dm||t===ym||t===vm||t===Tz||typeof t=="object"&&t!==null&&(t.$$typeof===wm||t.$$typeof===bm||t.$$typeof===pm||t.$$typeof===mm||t.$$typeof===gm||t.$$typeof===sN||t.getModuleId!==void 0)};We.typeOf=ur;aN.exports=We;var Az=aN.exports,Pz=Pi,Iz=Ii,kz="[object Number]";function Oz(t){return typeof t=="number"||Iz(t)&&Pz(t)==kz}var lN=Oz;const Cz=Xe(lN);var Nz=lN;function jz(t){return Nz(t)&&t!=+t}var Rz=jz;const Qc=Xe(Rz);var xr=function(e){return e===0?0:e>0?1:-1},Go=function(e){return da(e)&&e.indexOf("%")===e.length-1},ae=function(e){return Cz(e)&&!Qc(e)},Mz=function(e){return Pe(e)},Ct=function(e){return ae(e)||da(e)},Dz=0,Jc=function(e){var n=++Dz;return"".concat(e||"").concat(n)},ha=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!da(e))return r;var o;if(Go(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Qc(o)&&(o=r),i&&o>n&&(o=n),o},Gi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$z=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wr=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function _h(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ir(r,e))===n})}var Lz=function(e,n){return ae(e)&&ae(n)?e-n:da(e)&&da(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}var Vz=["viewBox","children"],Fz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OE=["points","pathLength"],Xg={svg:Vz,polygon:OE,polyline:OE},h_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!ul(r))return null;var i={};return Object.keys(r).forEach(function(o){h_.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Bz=function(e,n,r){return function(i){return e(n,r,i),null}},Sh=function(e,n,r){if(!ul(e)||Bv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];h_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Bz(a,n,r))}),i},Uz=["children"],zz=["children"];function CE(t,e){if(t==null)return{};var n=Wz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var NE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ui=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jE=null,Yg=null,p_=function t(e){if(e===jE&&Array.isArray(Yg))return Yg;var n=[];return D.Children.forEach(e,function(r){Pe(r)||(Az.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Yg=n,jE=e,n};function or(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ui(i)}):r=[ui(e)],p_(t).forEach(function(i){var o=ir(i,"type.displayName")||ir(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Fn(t,e){var n=or(t,e);return n&&n[0]}var RE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},Gz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hz=function(e){return e&&e.type&&da(e.type)&&Gz.indexOf(e.type)>=0},qz=function(e){return e&&Uv(e)==="object"&&"clipDot"in e},Kz=function(e,n,r,i){var o,a=(o=Xg==null?void 0:Xg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ae(e)&&(i&&a.includes(n)||Fz.includes(n))||r&&h_.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!ul(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Kz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},zv=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ME(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!ME(o,a))return!1}return!0},ME=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,o=CE(r,Uz),a=n.props||{},s=a.children,l=CE(a,zz);return i&&s?fs(o,l)&&zv(i,s):!i&&!s?fs(o,l):!1}return!1},DE=function(e,n){var r=[],i={};return p_(e).forEach(function(o,a){if(Hz(o))r.push(o);else if(o){var s=ui(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Xz=function(e){var n=e&&e.type;return n&&NE[n]?NE[n]:null},Yz=function(e,n){return p_(n).indexOf(e)},Qz=["children","width","height","viewBox","className","style","title","desc"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function Jz(t,e){if(t==null)return{};var n=Zz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Jz(t,Qz),d=i||{width:n,height:r,x:0,y:0},f=Re("recharts-surface",o);return $.createElement("svg",Wv({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var e8=["children","className"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function t8(t,e){if(t==null)return{};var n=n8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bt=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=t8(t,e8),o=Re("recharts-layer",r);return $.createElement("g",Hv({className:o},Ce(i,!0),{ref:e}),n)}),ci=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function r8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var i8=r8,o8=i8;function a8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:o8(t,e,n)}var s8=a8,l8="\\ud800-\\udfff",u8="\\u0300-\\u036f",c8="\\ufe20-\\ufe2f",f8="\\u20d0-\\u20ff",d8=u8+c8+f8,h8="\\ufe0e\\ufe0f",p8="\\u200d",m8=RegExp("["+p8+l8+d8+h8+"]");function g8(t){return m8.test(t)}var uN=g8;function y8(t){return t.split("")}var v8=y8,cN="\\ud800-\\udfff",b8="\\u0300-\\u036f",w8="\\ufe20-\\ufe2f",_8="\\u20d0-\\u20ff",x8=b8+w8+_8,S8="\\ufe0e\\ufe0f",E8="["+cN+"]",qv="["+x8+"]",Kv="\\ud83c[\\udffb-\\udfff]",T8="(?:"+qv+"|"+Kv+")",fN="[^"+cN+"]",dN="(?:\\ud83c[\\udde6-\\uddff]){2}",hN="[\\ud800-\\udbff][\\udc00-\\udfff]",A8="\\u200d",pN=T8+"?",mN="["+S8+"]?",P8="(?:"+A8+"(?:"+[fN,dN,hN].join("|")+")"+mN+pN+")*",I8=mN+pN+P8,k8="(?:"+[fN+qv+"?",qv,dN,hN,E8].join("|")+")",O8=RegExp(Kv+"(?="+Kv+")|"+k8+I8,"g");function C8(t){return t.match(O8)||[]}var N8=C8,j8=v8,R8=uN,M8=N8;function D8(t){return R8(t)?M8(t):j8(t)}var $8=D8,L8=s8,V8=uN,F8=$8,B8=rN;function U8(t){return function(e){e=B8(e);var n=V8(e)?F8(e):void 0,r=n?n[0]:e.charAt(0),i=n?L8(n,1).join(""):e.slice(1);return r[t]()+i}}var z8=U8,W8=z8,G8=W8("toUpperCase"),H8=G8;const _m=Xe(H8);function Ze(t){return function(){return t}}const gN=Math.cos,Eh=Math.sin,Pr=Math.sqrt,Th=Math.PI,xm=2*Th,Xv=Math.PI,Yv=2*Xv,$o=1e-6,q8=Yv-$o;function yN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function K8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yN;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yN:K8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$o)if(!(Math.abs(f*l-u*d)>$o)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-s,v=l*l+u*u,b=m*m+g*g,_=Math.sqrt(v),w=Math.sqrt(h),x=o*Math.tan((Xv-Math.acos((v+h-b)/(2*_*w)))/2),O=x/w,T=x/_;Math.abs(O-1)>$o&&this._append`L${e+O*d},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*m>d*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$o||Math.abs(this._y1-d)>$o)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Yv+Yv),h>q8?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>$o&&this._append`A${r},${r},0,${+(h>=Xv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function m_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X8(e)}function g_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vN(t){this._context=t}vN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sm(t){return new vN(t)}function bN(t){return t[0]}function wN(t){return t[1]}function _N(t,e){var n=Ze(!0),r=null,i=Sm,o=null,a=m_(s);t=typeof t=="function"?t:t===void 0?bN:Ze(t),e=typeof e=="function"?e:e===void 0?wN:Ze(e);function s(l){var u,d=(l=g_(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Qf(t,e,n){var r=null,i=Ze(!0),o=null,a=Sm,s=null,l=m_(u);t=typeof t=="function"?t:t===void 0?bN:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wN:Ze(+n);function u(f){var h,m,g,v=(f=g_(f)).length,b,_=!1,w,x=new Array(v),O=new Array(v);for(o==null&&(s=a(w=l())),h=0;h<=v;++h){if(!(h<v&&i(b=f[h],h,f))===_)if(_=!_)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(x[g],O[g]);s.lineEnd(),s.areaEnd()}_&&(x[h]=+t(b,h,f),O[h]=+e(b,h,f),s.point(r?+r(b,h,f):x[h],n?+n(b,h,f):O[h]))}if(w)return s=null,w+""||null}function d(){return _N().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ze(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class xN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y8(t){return new xN(t,!0)}function Q8(t){return new xN(t,!1)}const y_={draw(t,e){const n=Pr(e/Th);t.moveTo(n,0),t.arc(0,0,n,0,xm)}},J8={draw(t,e){const n=Pr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SN=Pr(1/3),Z8=SN*2,e7={draw(t,e){const n=Pr(e/Z8),r=n*SN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},t7={draw(t,e){const n=Pr(e),r=-n/2;t.rect(r,r,n,n)}},n7=.8908130915292852,EN=Eh(Th/10)/Eh(7*Th/10),r7=Eh(xm/10)*EN,i7=-gN(xm/10)*EN,o7={draw(t,e){const n=Pr(e*n7),r=r7*n,i=i7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=xm*o/5,s=gN(a),l=Eh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Qg=Pr(3),a7={draw(t,e){const n=-Pr(e/(Qg*3));t.moveTo(0,n*2),t.lineTo(-Qg*n,-n),t.lineTo(Qg*n,-n),t.closePath()}},Xn=-.5,Yn=Pr(3)/2,Qv=1/Pr(12),s7=(Qv/2+1)*3,l7={draw(t,e){const n=Pr(e/s7),r=n/2,i=n*Qv,o=r,a=n*Qv+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Xn*r-Yn*i,Yn*r+Xn*i),t.lineTo(Xn*o-Yn*a,Yn*o+Xn*a),t.lineTo(Xn*s-Yn*l,Yn*s+Xn*l),t.lineTo(Xn*r+Yn*i,Xn*i-Yn*r),t.lineTo(Xn*o+Yn*a,Xn*a-Yn*o),t.lineTo(Xn*s+Yn*l,Xn*l-Yn*s),t.closePath()}};function u7(t,e){let n=null,r=m_(i);t=typeof t=="function"?t:Ze(t||y_),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ah(){}function Ph(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TN(t){this._context=t}TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ph(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c7(t){return new TN(t)}function AN(t){this._context=t}AN.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f7(t){return new AN(t)}function PN(t){this._context=t}PN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d7(t){return new PN(t)}function IN(t){this._context=t}IN.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function h7(t){return new IN(t)}function $E(t){return t<0?-1:1}function LE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return($E(o)+$E(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function VE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ih(t){this._context=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,VE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,VE(this,n=LE(this,t,e)),n);break;default:Jg(this,this._t0,n=LE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kN(t){this._context=new ON(t)}(kN.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)};function ON(t){this._context=t}ON.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function p7(t){return new Ih(t)}function m7(t){return new kN(t)}function CN(t){this._context=t}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FE(t),i=FE(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FE(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function g7(t){return new CN(t)}function Em(t,e){this._context=t,this._t=e}Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function y7(t){return new Em(t,.5)}function v7(t){return new Em(t,0)}function b7(t){return new Em(t,1)}function Cs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function w7(t,e){return t[e]}function _7(t){const e=[];return e.key=t,e}function x7(){var t=Ze([]),e=Jv,n=Cs,r=w7;function i(o){var a=Array.from(t.apply(this,arguments),_7),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=g_(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Jv:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Cs,i):n},i}function S7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Cs(t,e)}}function E7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Cs(t,e)}}function T7(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var v=t[e[g]],b=v[r][1]||0,_=v[r-1][1]||0;m+=b-_}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Cs(t,e)}}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var A7=["type","size","sizeType"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){P7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P7(t,e,n){return e=I7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t){var e=k7(t,"string");return Ju(e)=="symbol"?e:e+""}function k7(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O7(t,e){if(t==null)return{};var n=C7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NN={symbolCircle:y_,symbolCross:J8,symbolDiamond:e7,symbolSquare:t7,symbolStar:o7,symbolTriangle:a7,symbolWye:l7},N7=Math.PI/180,j7=function(e){var n="symbol".concat(_m(e));return NN[n]||y_},R7=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*N7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},M7=function(e,n){NN["symbol".concat(_m(e))]=n},v_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=O7(e,A7),u=UE(UE({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=j7(r),_=u7().type(b).size(R7(o,s,r));return _()},f=u.className,h=u.cx,m=u.cy,g=Ce(u,!0);return h===+h&&m===+m&&o===+o?$.createElement("path",Zv({},g,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};v_.registerSymbol=M7;function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){Zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RN(r.key),r)}}function L7(t,e,n){return e&&WE(t.prototype,e),n&&WE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V7(t,e,n){return e=kh(e),F7(t,jN()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function F7(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7(t)}function B7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jN=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function U7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t0(t,e)}function Zu(t,e,n){return e=RN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RN(t){var e=z7(t,"string");return Ns(e)=="symbol"?e:e+""}function z7(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qn=32,b_=function(t){function e(){return $7(this,e),V7(this,e,arguments)}return U7(e,t),L7(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Qn/2,a=Qn/6,s=Qn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Qn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Qn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-Qn,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=D7({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(v_,{fill:l,cx:o,cy:o,size:Qn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Qn,height:Qn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var v=m.formatter||l,b=Re(Zu(Zu({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Ae(m.value)?null:m.value;ci(!Ae(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return $.createElement("li",e0({className:b,style:f,key:"legend-item-".concat(g)},Sh(r.props,m,g)),$.createElement(Gv,{width:a,height:a,viewBox:d,style:h},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(_,m,g):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Zu(b_,"displayName","Legend");Zu(b_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var W7=lm;function G7(){this.__data__=new W7,this.size=0}var H7=G7;function q7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var K7=q7;function X7(t){return this.__data__.get(t)}var Y7=X7;function Q7(t){return this.__data__.has(t)}var J7=Q7,Z7=lm,eW=a_,tW=s_,nW=200;function rW(t,e){var n=this.__data__;if(n instanceof Z7){var r=n.__data__;if(!eW||r.length<nW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tW(r)}return n.set(t,e),this.size=n.size,this}var iW=rW,oW=lm,aW=H7,sW=K7,lW=Y7,uW=J7,cW=iW;function hl(t){var e=this.__data__=new oW(t);this.size=e.size}hl.prototype.clear=aW;hl.prototype.delete=sW;hl.prototype.get=lW;hl.prototype.has=uW;hl.prototype.set=cW;var MN=hl,fW="__lodash_hash_undefined__";function dW(t){return this.__data__.set(t,fW),this}var hW=dW;function pW(t){return this.__data__.has(t)}var mW=pW,gW=s_,yW=hW,vW=mW;function Oh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gW;++e<n;)this.add(t[e])}Oh.prototype.add=Oh.prototype.push=yW;Oh.prototype.has=vW;var DN=Oh;function bW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $N=bW;function wW(t,e){return t.has(e)}var LN=wW,_W=DN,xW=$N,SW=LN,EW=1,TW=2;function AW(t,e,n,r,i,o){var a=n&EW,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&TW?new _W:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],v=e[f];if(r)var b=a?r(v,g,f,e,t,o):r(g,v,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!xW(e,function(_,w){if(!SW(m,w)&&(g===_||i(g,_,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var VN=AW,PW=Gr,IW=PW.Uint8Array,kW=IW;function OW(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var CW=OW;function NW(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var w_=NW,GE=Yc,HE=kW,jW=o_,RW=VN,MW=CW,DW=w_,$W=1,LW=2,VW="[object Boolean]",FW="[object Date]",BW="[object Error]",UW="[object Map]",zW="[object Number]",WW="[object RegExp]",GW="[object Set]",HW="[object String]",qW="[object Symbol]",KW="[object ArrayBuffer]",XW="[object DataView]",qE=GE?GE.prototype:void 0,Zg=qE?qE.valueOf:void 0;function YW(t,e,n,r,i,o,a){switch(n){case XW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KW:return!(t.byteLength!=e.byteLength||!o(new HE(t),new HE(e)));case VW:case FW:case zW:return jW(+t,+e);case BW:return t.name==e.name&&t.message==e.message;case WW:case HW:return t==e+"";case UW:var s=MW;case GW:var l=r&$W;if(s||(s=DW),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=LW,a.set(t,e);var d=RW(s(t),s(e),r,i,o,a);return a.delete(t),d;case qW:if(Zg)return Zg.call(t)==Zg.call(e)}return!1}var QW=YW;function JW(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var FN=JW,ZW=FN,eG=Rn;function tG(t,e,n){var r=e(t);return eG(t)?r:ZW(r,n(t))}var nG=tG;function rG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var iG=rG;function oG(){return[]}var aG=oG,sG=iG,lG=aG,uG=Object.prototype,cG=uG.propertyIsEnumerable,KE=Object.getOwnPropertySymbols,fG=KE?function(t){return t==null?[]:(t=Object(t),sG(KE(t),function(e){return cG.call(t,e)}))}:lG,dG=fG;function hG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pG=hG,mG=Pi,gG=Ii,yG="[object Arguments]";function vG(t){return gG(t)&&mG(t)==yG}var bG=vG,XE=bG,wG=Ii,BN=Object.prototype,_G=BN.hasOwnProperty,xG=BN.propertyIsEnumerable,SG=XE(function(){return arguments}())?XE:function(t){return wG(t)&&_G.call(t,"callee")&&!xG.call(t,"callee")},__=SG,Ch={exports:{}};function EG(){return!1}var TG=EG;Ch.exports;(function(t,e){var n=Gr,r=TG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ch,Ch.exports);var UN=Ch.exports,AG=9007199254740991,PG=/^(?:0|[1-9]\d*)$/;function IG(t,e){var n=typeof t;return e=e??AG,!!e&&(n=="number"||n!="symbol"&&PG.test(t))&&t>-1&&t%1==0&&t<e}var x_=IG,kG=9007199254740991;function OG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kG}var S_=OG,CG=Pi,NG=S_,jG=Ii,RG="[object Arguments]",MG="[object Array]",DG="[object Boolean]",$G="[object Date]",LG="[object Error]",VG="[object Function]",FG="[object Map]",BG="[object Number]",UG="[object Object]",zG="[object RegExp]",WG="[object Set]",GG="[object String]",HG="[object WeakMap]",qG="[object ArrayBuffer]",KG="[object DataView]",XG="[object Float32Array]",YG="[object Float64Array]",QG="[object Int8Array]",JG="[object Int16Array]",ZG="[object Int32Array]",eH="[object Uint8Array]",tH="[object Uint8ClampedArray]",nH="[object Uint16Array]",rH="[object Uint32Array]",it={};it[XG]=it[YG]=it[QG]=it[JG]=it[ZG]=it[eH]=it[tH]=it[nH]=it[rH]=!0;it[RG]=it[MG]=it[qG]=it[DG]=it[KG]=it[$G]=it[LG]=it[VG]=it[FG]=it[BG]=it[UG]=it[zG]=it[WG]=it[GG]=it[HG]=!1;function iH(t){return jG(t)&&NG(t.length)&&!!it[CG(t)]}var oH=iH;function aH(t){return function(e){return t(e)}}var zN=aH,Nh={exports:{}};Nh.exports;(function(t,e){var n=QC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Nh,Nh.exports);var sH=Nh.exports,lH=oH,uH=zN,YE=sH,QE=YE&&YE.isTypedArray,cH=QE?uH(QE):lH,WN=cH,fH=pG,dH=__,hH=Rn,pH=UN,mH=x_,gH=WN,yH=Object.prototype,vH=yH.hasOwnProperty;function bH(t,e){var n=hH(t),r=!n&&dH(t),i=!n&&!r&&pH(t),o=!n&&!r&&!i&&gH(t),a=n||r||i||o,s=a?fH(t.length,String):[],l=s.length;for(var u in t)(e||vH.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mH(u,l)))&&s.push(u);return s}var wH=bH,_H=Object.prototype;function xH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_H;return t===n}var SH=xH;function EH(t,e){return function(n){return t(e(n))}}var GN=EH,TH=GN,AH=TH(Object.keys,Object),PH=AH,IH=SH,kH=PH,OH=Object.prototype,CH=OH.hasOwnProperty;function NH(t){if(!IH(t))return kH(t);var e=[];for(var n in Object(t))CH.call(t,n)&&n!="constructor"&&e.push(n);return e}var jH=NH,RH=i_,MH=S_;function DH(t){return t!=null&&MH(t.length)&&!RH(t)}var Zc=DH,$H=wH,LH=jH,VH=Zc;function FH(t){return VH(t)?$H(t):LH(t)}var Tm=FH,BH=nG,UH=dG,zH=Tm;function WH(t){return BH(t,zH,UH)}var GH=WH,JE=GH,HH=1,qH=Object.prototype,KH=qH.hasOwnProperty;function XH(t,e,n,r,i,o){var a=n&HH,s=JE(t),l=s.length,u=JE(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:KH.call(e,h)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var _=t[h],w=e[h];if(r)var x=a?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(x===void 0?_===w||i(_,w,n,r,o):x)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(v=!1)}return o.delete(t),o.delete(e),v}var YH=XH,QH=_a,JH=Gr,ZH=QH(JH,"DataView"),eq=ZH,tq=_a,nq=Gr,rq=tq(nq,"Promise"),iq=rq,oq=_a,aq=Gr,sq=oq(aq,"Set"),HN=sq,lq=_a,uq=Gr,cq=lq(uq,"WeakMap"),fq=cq,n0=eq,r0=a_,i0=iq,o0=HN,a0=fq,qN=Pi,pl=ZC,ZE="[object Map]",dq="[object Object]",eT="[object Promise]",tT="[object Set]",nT="[object WeakMap]",rT="[object DataView]",hq=pl(n0),pq=pl(r0),mq=pl(i0),gq=pl(o0),yq=pl(a0),Lo=qN;(n0&&Lo(new n0(new ArrayBuffer(1)))!=rT||r0&&Lo(new r0)!=ZE||i0&&Lo(i0.resolve())!=eT||o0&&Lo(new o0)!=tT||a0&&Lo(new a0)!=nT)&&(Lo=function(t){var e=qN(t),n=e==dq?t.constructor:void 0,r=n?pl(n):"";if(r)switch(r){case hq:return rT;case pq:return ZE;case mq:return eT;case gq:return tT;case yq:return nT}return e});var vq=Lo,ey=MN,bq=VN,wq=QW,_q=YH,iT=vq,oT=Rn,aT=UN,xq=WN,Sq=1,sT="[object Arguments]",lT="[object Array]",Jf="[object Object]",Eq=Object.prototype,uT=Eq.hasOwnProperty;function Tq(t,e,n,r,i,o){var a=oT(t),s=oT(e),l=a?lT:iT(t),u=s?lT:iT(e);l=l==sT?Jf:l,u=u==sT?Jf:u;var d=l==Jf,f=u==Jf,h=l==u;if(h&&aT(t)){if(!aT(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new ey),a||xq(t)?bq(t,e,n,r,i,o):wq(t,e,l,n,r,i,o);if(!(n&Sq)){var m=d&&uT.call(t,"__wrapped__"),g=f&&uT.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,b=g?e.value():e;return o||(o=new ey),i(v,b,n,r,o)}}return h?(o||(o=new ey),_q(t,e,n,r,i,o)):!1}var Aq=Tq,Pq=Aq,cT=Ii;function KN(t,e,n,r,i){return t===e?!0:t==null||e==null||!cT(t)&&!cT(e)?t!==t&&e!==e:Pq(t,e,n,r,KN,i)}var E_=KN,Iq=MN,kq=E_,Oq=1,Cq=2;function Nq(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Iq;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?kq(d,u,Oq|Cq,r,f):h))return!1}}return!0}var jq=Nq,Rq=_o;function Mq(t){return t===t&&!Rq(t)}var XN=Mq,Dq=XN,$q=Tm;function Lq(t){for(var e=$q(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Dq(i)]}return e}var Vq=Lq;function Fq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var YN=Fq,Bq=jq,Uq=Vq,zq=YN;function Wq(t){var e=Uq(t);return e.length==1&&e[0][2]?zq(e[0][0],e[0][1]):function(n){return n===t||Bq(n,t,e)}}var Gq=Wq;function Hq(t,e){return t!=null&&e in Object(t)}var qq=Hq,Kq=iN,Xq=__,Yq=Rn,Qq=x_,Jq=S_,Zq=cm;function eK(t,e,n){e=Kq(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Zq(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Jq(i)&&Qq(a,i)&&(Yq(t)||Xq(t)))}var tK=eK,nK=qq,rK=tK;function iK(t,e){return t!=null&&rK(t,e,nK)}var oK=iK,aK=E_,sK=oN,lK=oK,uK=r_,cK=XN,fK=YN,dK=cm,hK=1,pK=2;function mK(t,e){return uK(t)&&cK(e)?fK(dK(t),e):function(n){var r=sK(n,t);return r===void 0&&r===e?lK(n,t):aK(e,r,hK|pK)}}var gK=mK;function yK(t){return t}var ml=yK;function vK(t){return function(e){return e==null?void 0:e[t]}}var bK=vK,wK=c_;function _K(t){return function(e){return wK(e,t)}}var xK=_K,SK=bK,EK=xK,TK=r_,AK=cm;function PK(t){return TK(t)?SK(AK(t)):EK(t)}var IK=PK,kK=Gq,OK=gK,CK=ml,NK=Rn,jK=IK;function RK(t){return typeof t=="function"?t:t==null?CK:typeof t=="object"?NK(t)?OK(t[0],t[1]):kK(t):jK(t)}var xo=RK;function MK(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var QN=MK;function DK(t){return t!==t}var $K=DK;function LK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var VK=LK,FK=QN,BK=$K,UK=VK;function zK(t,e,n){return e===e?UK(t,e,n):FK(t,BK,n)}var WK=zK,GK=WK;function HK(t,e){var n=t==null?0:t.length;return!!n&&GK(t,e,0)>-1}var qK=HK;function KK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var XK=KK;function YK(){}var QK=YK,ty=HN,JK=QK,ZK=w_,eX=1/0,tX=ty&&1/ZK(new ty([,-0]))[1]==eX?function(t){return new ty(t)}:JK,nX=tX,rX=DN,iX=qK,oX=XK,aX=LN,sX=nX,lX=w_,uX=200;function cX(t,e,n){var r=-1,i=iX,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=oX;else if(o>=uX){var u=e?null:sX(t);if(u)return lX(u);a=!1,i=aX,l=new rX}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var fX=cX,dX=xo,hX=fX;function pX(t,e){return t&&t.length?hX(t,dX(e)):[]}var mX=pX;const fT=Xe(mX);function JN(t,e,n){return e===!0?fT(t,n):Ae(e)?fT(t,e):t}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var gX=["ref"];function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ej(r.key),r)}}function vX(t,e,n){return e&&hT(t.prototype,e),n&&hT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bX(t,e,n){return e=jh(e),wX(t,ZN()?Reflect.construct(e,n||[],jh(t).constructor):e.apply(t,n))}function wX(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _X(t)}function _X(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZN=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(t)}function xX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s0(t,e)}function Am(t,e,n){return e=ej(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ej(t){var e=SX(t,"string");return js(e)=="symbol"?e:e+""}function SX(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EX(t,e){if(t==null)return{};var n=TX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AX(t){return t.value}function PX(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=EX(e,gX);return $.createElement(b_,n)}var pT=1,Zo=function(t){function e(){var n;yX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bX(this,e,[].concat(i)),Am(n,"lastBoundingBox",{width:-1,height:-1}),n}return xX(e,t),vX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pT||Math.abs(i.height-this.lastBoundingBox.height)>pT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Kr(Kr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Kr(Kr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},PX(o,Kr(Kr({},this.props),{},{payload:JN(d,u,AX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Kr(Kr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Am(Zo,"displayName","Legend");Am(Zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mT=Yc,IX=__,kX=Rn,gT=mT?mT.isConcatSpreadable:void 0;function OX(t){return kX(t)||IX(t)||!!(gT&&t&&t[gT])}var CX=OX,NX=FN,jX=CX;function tj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=jX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?tj(s,e-1,n,r,i):NX(i,s):r||(i[i.length]=s)}return i}var nj=tj;function RX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var MX=RX,DX=MX,$X=DX(),LX=$X,VX=LX,FX=Tm;function BX(t,e){return t&&VX(t,e,FX)}var rj=BX,UX=Zc;function zX(t,e){return function(n,r){if(n==null)return n;if(!UX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var WX=zX,GX=rj,HX=WX,qX=HX(GX),T_=qX,KX=T_,XX=Zc;function YX(t,e){var n=-1,r=XX(t)?Array(t.length):[];return KX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var ij=YX;function QX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var JX=QX,yT=ll;function ZX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=yT(t),a=e!==void 0,s=e===null,l=e===e,u=yT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var eY=ZX,tY=eY;function nY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=tY(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var rY=nY,ny=u_,iY=c_,oY=xo,aY=ij,sY=JX,lY=zN,uY=rY,cY=ml,fY=Rn;function dY(t,e,n){e.length?e=ny(e,function(o){return fY(o)?function(a){return iY(a,o.length===1?o[0]:o)}:o}):e=[cY];var r=-1;e=ny(e,lY(oY));var i=aY(t,function(o,a,s){var l=ny(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return sY(i,function(o,a){return uY(o,a,n)})}var hY=dY;function pY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mY=pY,gY=mY,vT=Math.max;function yY(t,e,n){return e=vT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=vT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),gY(t,this,s)}}var vY=yY;function bY(t){return function(){return t}}var wY=bY,_Y=_a,xY=function(){try{var t=_Y(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oj=xY,SY=wY,bT=oj,EY=ml,TY=bT?function(t,e){return bT(t,"toString",{configurable:!0,enumerable:!1,value:SY(e),writable:!0})}:EY,AY=TY,PY=800,IY=16,kY=Date.now;function OY(t){var e=0,n=0;return function(){var r=kY(),i=IY-(r-n);if(n=r,i>0){if(++e>=PY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var CY=OY,NY=AY,jY=CY,RY=jY(NY),MY=RY,DY=ml,$Y=vY,LY=MY;function VY(t,e){return LY($Y(t,e,DY),t+"")}var FY=VY,BY=o_,UY=Zc,zY=x_,WY=_o;function GY(t,e,n){if(!WY(n))return!1;var r=typeof e;return(r=="number"?UY(n)&&zY(e,n.length):r=="string"&&e in n)?BY(n[e],t):!1}var Pm=GY,HY=nj,qY=hY,KY=FY,wT=Pm,XY=KY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wT(t,e[0],e[1])?e=[]:n>2&&wT(e[0],e[1],e[2])&&(e=[e[0]]),qY(t,HY(e,1),[])}),YY=XY;const A_=Xe(YY);function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function QY(t,e){return tQ(t)||eQ(t,e)||ZY(t,e)||JY()}function JY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return _T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(t,e)}}function _T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tQ(t){if(Array.isArray(t))return t}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){nQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nQ(t,e,n){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=iQ(t,"string");return ec(e)=="symbol"?e:e+""}function iQ(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t){return Array.isArray(t)&&Ct(t[0])&&Ct(t[1])?t.join(" ~ "):t}var aQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,v=e.label,b=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,x=function(){if(d&&d.length){var j={padding:0,margin:0},N=(h?A_(d,h):d).map(function(U,z){if(U.type==="none")return null;var G=ry({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),K=U.formatter||f||oQ,F=U.value,H=U.name,Q=F,ne=H;if(K&&Q!=null&&ne!=null){var B=K(F,H,U,z,d);if(Array.isArray(B)){var Y=QY(B,2);Q=Y[0],ne=Y[1]}else Q=B}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},Ct(ne)?$.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ct(ne)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Q),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},O=ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=ry({margin:0},u),P=!Pe(v),S=P?v:"",E=Re("recharts-default-tooltip",m),I=Re("recharts-tooltip-label",g);P&&b&&d!==void 0&&d!==null&&(S=b(v,d));var C=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",l0({className:E,style:O},C),$.createElement("p",{className:I,style:T},$.isValidElement(S)?S:"".concat(S)),x())};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Zf(t,e,n){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return tc(e)=="symbol"?e:e+""}function lQ(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zl="recharts-tooltip-wrapper",uQ={visibility:"hidden"};function cQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(zl,Zf(Zf(Zf(Zf({},"".concat(zl,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(zl,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(zl,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(zl,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function ST(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var g=f+s,v=l[r]+u;return g>v?Math.max(d,l[r]):Math.max(f,l[r])}function fQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function dQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=ST({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=ST({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=fQ({translateX:d,translateY:f,useTranslate3d:s})):u=uQ,{cssProperties:u,cssClasses:cQ({translateX:d,translateY:f,coordinate:n})}}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sj(r.key),r)}}function pQ(t,e,n){return e&&AT(t.prototype,e),n&&AT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mQ(t,e,n){return e=Rh(e),gQ(t,aj()?Reflect.construct(e,n||[],Rh(t).constructor):e.apply(t,n))}function gQ(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQ(t)}function yQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aj=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(t)}function vQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u0(t,e)}function c0(t,e,n){return e=sj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t){var e=bQ(t,"string");return Rs(e)=="symbol"?e:e+""}function bQ(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PT=1,wQ=function(t){function e(){var n;hQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mQ(this,e,[].concat(i)),c0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return vQ(e,t),pQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PT||Math.abs(r.height-this.state.lastBoundingBox.height)>PT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,x=dQ({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),O=x.cssClasses,T=x.cssProperties,P=TT(TT({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(E){r.wrapperNode=E}},u)}}])}(D.PureComponent),_Q=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:_Q(),get:function(e){return fi[e]},set:function(e,n){if(typeof e=="string")fi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){fi[i]=e[i]})}}};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uj(r.key),r)}}function SQ(t,e,n){return e&&OT(t.prototype,e),n&&OT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EQ(t,e,n){return e=Mh(e),TQ(t,lj()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function TQ(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AQ(t)}function AQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lj=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function PQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f0(t,e)}function P_(t,e,n){return e=uj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=IQ(t,"string");return Ms(e)=="symbol"?e:e+""}function IQ(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kQ(t){return t.dataKey}function OQ(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(aQ,e)}var Cr=function(t){function e(){return xQ(this,e),EQ(this,e,arguments)}return PQ(e,t),SQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,v=i.payloadUniqBy,b=i.position,_=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,T=g??[];f&&T.length&&(T=JN(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),v,kQ));var P=T.length>0;return $.createElement(wQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:m,position:b,reverseDirection:_,useTranslate3d:w,viewBox:x,wrapperStyle:O},OQ(u,kT(kT({},this.props),{},{payload:T})))}}])}(D.PureComponent);P_(Cr,"displayName","Tooltip");P_(Cr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var CQ=Gr,NQ=function(){return CQ.Date.now()},jQ=NQ,RQ=/\s/;function MQ(t){for(var e=t.length;e--&&RQ.test(t.charAt(e)););return e}var DQ=MQ,$Q=DQ,LQ=/^\s+/;function VQ(t){return t&&t.slice(0,$Q(t)+1).replace(LQ,"")}var FQ=VQ,BQ=FQ,CT=_o,UQ=ll,NT=0/0,zQ=/^[-+]0x[0-9a-f]+$/i,WQ=/^0b[01]+$/i,GQ=/^0o[0-7]+$/i,HQ=parseInt;function qQ(t){if(typeof t=="number")return t;if(UQ(t))return NT;if(CT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=BQ(t);var n=WQ.test(t);return n||GQ.test(t)?HQ(t.slice(2),n?2:8):zQ.test(t)?NT:+t}var cj=qQ,KQ=_o,iy=jQ,jT=cj,XQ="Expected a function",YQ=Math.max,QQ=Math.min;function JQ(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(XQ);e=jT(e)||0,KQ(n)&&(d=!!n.leading,f="maxWait"in n,o=f?YQ(jT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(P){var S=r,E=i;return r=i=void 0,u=P,a=t.apply(E,S),a}function g(P){return u=P,s=setTimeout(_,e),d?m(P):a}function v(P){var S=P-l,E=P-u,I=e-S;return f?QQ(I,o-E):I}function b(P){var S=P-l,E=P-u;return l===void 0||S>=e||S<0||f&&E>=o}function _(){var P=iy();if(b(P))return w(P);s=setTimeout(_,v(P))}function w(P){return s=void 0,h&&r?m(P):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:w(iy())}function T(){var P=iy(),S=b(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(_,e),m(l)}return s===void 0&&(s=setTimeout(_,e)),a}return T.cancel=x,T.flush=O,T}var ZQ=JQ,eJ=ZQ,tJ=_o,nJ="Expected a function";function rJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(nJ);return tJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),eJ(t,e,{leading:r,maxWait:e,trailing:i})}var iJ=rJ;const fj=Xe(iJ);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=sJ(t,"string");return nc(e)=="symbol"?e:e+""}function sJ(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t,e){return dJ(t)||fJ(t,e)||cJ(t,e)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dJ(t){if(Array.isArray(t))return t}var hJ=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,v=g===void 0?0:g,b=t.id,_=t.className,w=t.onResize,x=t.style,O=x===void 0?{}:x,T=D.useRef(null),P=D.useRef();P.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),E=lJ(S,2),I=E[0],C=E[1],k=D.useCallback(function(N,U){C(function(z){var G=Math.round(N),K=Math.round(U);return z.containerWidth===G&&z.containerHeight===K?z:{containerWidth:G,containerHeight:K}})},[]);D.useEffect(function(){var N=function(H){var Q,ne=H[0].contentRect,B=ne.width,Y=ne.height;k(B,Y),(Q=P.current)===null||Q===void 0||Q.call(P,B,Y)};v>0&&(N=fj(N,v,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),z=T.current.getBoundingClientRect(),G=z.width,K=z.height;return k(G,K),U.observe(T.current),function(){U.disconnect()}},[k,v]);var j=D.useMemo(function(){var N=I.containerWidth,U=I.containerHeight;if(N<0||U<0)return null;ci(Go(a)||Go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ci(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Go(a)?N:a,G=Go(l)?U:l;n&&n>0&&(z?G=z/n:G&&(z=G*n),h&&G>h&&(G=h)),ci(z>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,G,a,l,d,f,n);var K=!Array.isArray(m)&&ui(m.type).endsWith("Chart");return $.Children.map(m,function(F){return $.isValidElement(F)?D.cloneElement(F,ed({width:z,height:G},K?{style:ed({height:"100%",width:"100%",maxHeight:G,maxWidth:z},F.props.style)}:{})):F})},[n,m,l,h,f,d,I,a]);return $.createElement("div",{id:b?"".concat(b):void 0,className:Re("recharts-responsive-container",_),style:ed(ed({},O),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:T},j)}),dj=function(e){return null};dj.displayName="Cell";function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){pJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pJ(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return rc(e)=="symbol"?e:e+""}function gJ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Na={widthCache:{},cacheCount:0},yJ=2e3,vJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$T="recharts_measurement_span";function bJ(t){var e=d0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _u=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fi.isSsr)return{width:0,height:0};var r=bJ(n),i=JSON.stringify({text:e,copyStyle:r});if(Na.widthCache[i])return Na.widthCache[i];try{var o=document.getElementById($T);o||(o=document.createElement("span"),o.setAttribute("id",$T),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=d0(d0({},vJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Na.widthCache[i]=l,++Na.cacheCount>yJ&&(Na.cacheCount=0,Na.widthCache={}),l}catch{return{width:0,height:0}}},wJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Dh(t,e){return EJ(t)||SJ(t,e)||xJ(t,e)||_J()}function _J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function EJ(t){if(Array.isArray(t))return t}function TJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PJ(r.key),r)}}function AJ(t,e,n){return e&&VT(t.prototype,e),n&&VT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PJ(t){var e=IJ(t,"string");return ic(e)=="symbol"?e:e+""}function IJ(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CJ=Object.keys(hj),Ja="NaN";function NJ(t,e){return t*hj[e]}var td=function(){function t(e,n){TJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kJ.test(n)&&(this.num=NaN,this.unit=""),CJ.includes(n)&&(this.num=NJ(e,n),this.unit="px")}return AJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=OJ.exec(n))!==null&&r!==void 0?r:[],o=Dh(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function pj(t){if(t.includes(Ja))return Ja;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FT.exec(e))!==null&&n!==void 0?n:[],i=Dh(r,4),o=i[1],a=i[2],s=i[3],l=td.parse(o??""),u=td.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ja;e=e.replace(FT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BT.exec(e))!==null&&f!==void 0?f:[],m=Dh(h,4),g=m[1],v=m[2],b=m[3],_=td.parse(g??""),w=td.parse(b??""),x=v==="+"?_.add(w):_.subtract(w);if(x.isNaN())return Ja;e=e.replace(BT,x.toString())}return e}var UT=/\(([^()]*)\)/;function jJ(t){for(var e=t;e.includes("(");){var n=UT.exec(e),r=Dh(n,2),i=r[1];e=e.replace(UT,pj(i))}return e}function RJ(t){var e=t.replace(/\s+/g,"");return e=jJ(e),e=pj(e),e}function MJ(t){try{return RJ(t)}catch{return Ja}}function oy(t){var e=MJ(t.slice(5,-1));return e===Ja?"":e}var DJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$J=["dx","dy","angle","className","breakAll"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(this,arguments)}function zT(t,e){if(t==null)return{};var n=LJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WT(t,e){return UJ(t)||BJ(t,e)||FJ(t,e)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FJ(t,e){if(t){if(typeof t=="string")return GT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(t,e)}}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function UJ(t){if(Array.isArray(t))return t}var mj=/[ \f\n\r\t\v\u2028\u2029]+/,gj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Pe(n)||(r?o=n.toString().split(""):o=n.toString().split(mj));var a=o.map(function(l){return{word:l,width:_u(l,i).width}}),s=r?0:_u(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},zJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ae(a),f=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,K){var F=K.word,H=K.width,Q=G[G.length-1];if(Q&&(i==null||o||Q.width+H+r<Number(i)))Q.words.push(F),Q.width+=H+r;else{var ne={words:[F],width:H};G.push(ne)}return G},[])},m=h(n),g=function(z){return z.reduce(function(G,K){return G.width>K.width?G:K})};if(!d)return m;for(var v="…",b=function(z){var G=f.slice(0,z),K=gj({breakAll:u,style:l,children:G+v}).wordsWithComputedWidth,F=h(K),H=F.length>a||g(F).width>Number(i);return[H,F]},_=0,w=f.length-1,x=0,O;_<=w&&x<=f.length-1;){var T=Math.floor((_+w)/2),P=T-1,S=b(P),E=WT(S,2),I=E[0],C=E[1],k=b(T),j=WT(k,1),N=j[0];if(!I&&!N&&(_=T+1),I&&N&&(w=T-1),!I&&N){O=C;break}x++}return O||m},HT=function(e){var n=Pe(e)?[]:e.toString().split(mj);return[{words:n}]},WJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!fi.isSsr){var l,u,d=gj({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return HT(i);return zJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return HT(i)},qT="#808080",$h=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,b=e.fill,_=b===void 0?qT:b,w=zT(e,DJ),x=D.useMemo(function(){return WJ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),O=w.dx,T=w.dy,P=w.angle,S=w.className,E=w.breakAll,I=zT(w,$J);if(!Ct(r)||!Ct(o))return null;var C=r+(ae(O)?O:0),k=o+(ae(T)?T:0),j;switch(v){case"start":j=oy("calc(".concat(u,")"));break;case"middle":j=oy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=oy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=x[0].width,z=w.width;N.push("scale(".concat((ae(z)?z/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(C,", ").concat(k,")")),N.length&&(I.transform=N.join(" ")),$.createElement("text",h0({},Ce(I,!0),{x:C,y:k,className:Re("recharts-text",S),textAnchor:m,fill:_.includes("url")?qT:_}),x.map(function(G,K){var F=G.words.join(E?"":" ");return $.createElement("tspan",{x:C,dy:K===0?j:s,key:"".concat(F,"-").concat(K)},F)}))};function lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I_(t){let e,n,r;t.length!==2?(e=lo,n=(s,l)=>lo(t(s),l),r=(s,l)=>t(s)-l):(e=t===lo||t===GJ?t:HJ,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function HJ(){return 0}function yj(t){return t===null?NaN:+t}function*qJ(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const KJ=I_(lo),XJ=KJ.right;I_(yj).center;const ef=XJ;class KT extends Map{constructor(e,n=JJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XT(this,e))}has(e){return super.has(XT(this,e))}set(e,n){return super.set(YJ(this,e),n)}delete(e){return super.delete(QJ(this,e))}}function XT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function QJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZJ(t=lo){if(t===lo)return vj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function vj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eZ=Math.sqrt(50),tZ=Math.sqrt(10),nZ=Math.sqrt(2);function Lh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=eZ?10:o>=tZ?5:o>=nZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Lh(t,e,n*2):[s,l,u]}function p0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Lh(e,t,n):Lh(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function m0(t,e,n){return e=+e,t=+t,n=+n,Lh(t,e,n)[2]}function g0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?m0(e,t,n):m0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function QT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function bj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?vj:ZJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));bj(t,e,m,g,i)}const o=t[e];let a=n,s=r;for(Wl(t,n,e),i(t[r],o)>0&&Wl(t,n,r);a<s;){for(Wl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Wl(t,n,s):(++s,Wl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Wl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rZ(t,e,n){if(t=Float64Array.from(qJ(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QT(t);if(e>=1)return YT(t);var r,i=(r-1)*e,o=Math.floor(i),a=YT(bj(t,o).subarray(0,o+1)),s=QT(t.subarray(o+1));return a+(s-a)*(i-o)}}function iZ(t,e,n=yj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function oZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ki(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const y0=Symbol("implicit");function k_(){var t=new KT,e=[],n=[],r=y0;function i(o){let a=t.get(o);if(a===void 0){if(r!==y0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new KT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return k_(e,n).unknown(r)},cr.apply(i,arguments),i}function oc(){var t=k_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,g=m?i:r,v=m?r:i;o=(v-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(v-g-o*(h-l))*d,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var b=oZ(h).map(function(_){return g+o*_});return n(m?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return oc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},cr.apply(f(),arguments)}function wj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wj(e())},t}function xu(){return wj(oc.apply(null,arguments).paddingInner(1))}function O_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _j(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tf(){}var ac=.7,Vh=1/ac,ds="\\s*([+-]?\\d+)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aZ=/^#([0-9a-f]{3,8})$/,sZ=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),lZ=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),uZ=new RegExp(`^rgba\\(${ds},${ds},${ds},${sc}\\)$`),cZ=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${sc}\\)$`),fZ=new RegExp(`^hsl\\(${sc},${Vr},${Vr}\\)$`),dZ=new RegExp(`^hsla\\(${sc},${Vr},${Vr},${sc}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O_(tf,lc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZT,formatHex:ZT,formatHex8:hZ,formatHsl:pZ,formatRgb:eA,toString:eA});function ZT(){return this.rgb().formatHex()}function hZ(){return this.rgb().formatHex8()}function pZ(){return xj(this).formatHsl()}function eA(){return this.rgb().formatRgb()}function lc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tA(e):n===3?new kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sZ.exec(t))?new kn(e[1],e[2],e[3],1):(e=lZ.exec(t))?new kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uZ.exec(t))?nd(e[1],e[2],e[3],e[4]):(e=cZ.exec(t))?nd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fZ.exec(t))?iA(e[1],e[2]/100,e[3]/100,1):(e=dZ.exec(t))?iA(e[1],e[2]/100,e[3]/100,e[4]):JT.hasOwnProperty(t)?tA(JT[t]):t==="transparent"?new kn(NaN,NaN,NaN,0):null}function tA(t){return new kn(t>>16&255,t>>8&255,t&255,1)}function nd(t,e,n,r){return r<=0&&(t=e=n=NaN),new kn(t,e,n,r)}function mZ(t){return t instanceof tf||(t=lc(t)),t?(t=t.rgb(),new kn(t.r,t.g,t.b,t.opacity)):new kn}function v0(t,e,n,r){return arguments.length===1?mZ(t):new kn(t,e,n,r??1)}function kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}O_(kn,v0,_j(tf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kn(ea(this.r),ea(this.g),ea(this.b),Fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nA,formatHex:nA,formatHex8:gZ,formatRgb:rA,toString:rA}));function nA(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function gZ(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function rA(){const t=Fh(this.opacity);return`${t===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${t===1?")":`, ${t})`}`}function Fh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ea(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ho(t){return t=ea(t),(t<16?"0":"")+t.toString(16)}function iA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _r(t,e,n,r)}function xj(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof tf||(t=lc(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new _r(a,s,l,t.opacity)}function yZ(t,e,n,r){return arguments.length===1?xj(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}O_(_r,yZ,_j(tf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ac:Math.pow(ac,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kn(ay(t>=240?t-240:t+120,i,r),ay(t,i,r),ay(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _r(oA(this.h),rd(this.s),rd(this.l),Fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fh(this.opacity);return`${t===1?"hsl(":"hsla("}${oA(this.h)}, ${rd(this.s)*100}%, ${rd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oA(t){return t=(t||0)%360,t<0?t+360:t}function rd(t){return Math.max(0,Math.min(1,t||0))}function ay(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const C_=t=>()=>t;function vZ(t,e){return function(n){return t+n*e}}function bZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wZ(t){return(t=+t)==1?Sj:function(e,n){return n-e?bZ(e,n,t):C_(isNaN(e)?n:e)}}function Sj(t,e){var n=e-t;return n?vZ(t,n):C_(isNaN(t)?e:t)}const aA=function t(e){var n=wZ(e);function r(i,o){var a=n((i=v0(i)).r,(o=v0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Sj(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function _Z(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function xZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=gl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function EZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(b0.source,"g");function AZ(t){return function(){return t}}function PZ(t){return function(e){return t(e)+""}}function IZ(t,e){var n=b0.lastIndex=sy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=b0.exec(t))&&(i=sy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Bh(r,i)})),n=sy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?PZ(l[0].x):AZ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function gl(t,e){var n=typeof e,r;return e==null||n==="boolean"?C_(e):(n==="number"?Bh:n==="string"?(r=lc(e))?(e=r,aA):IZ:e instanceof lc?aA:e instanceof Date?EZ:xZ(e)?_Z:Array.isArray(e)?SZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TZ:Bh)(t,e)}function N_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kZ(t,e){e===void 0&&(e=t,t=gl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function OZ(t){return function(){return t}}function Uh(t){return+t}var sA=[0,1];function _n(t){return t}function w0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:OZ(isNaN(e)?NaN:.5)}function CZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function NZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=w0(i,r),o=n(a,o)):(r=w0(r,i),o=n(o,a)),function(s){return o(r(s))}}function jZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=w0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=ef(t,s,1,r)-1;return o[l](i[l](s))}}function nf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Im(){var t=sA,e=sA,n=gl,r,i,o,a=_n,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==_n&&(a=CZ(t[0],t[h-1])),s=h>2?jZ:NZ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Bh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Uh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=N_,d()},f.clamp=function(h){return arguments.length?(a=h?!0:_n,d()):a!==_n},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function j_(){return Im()(_n,_n)}function RZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ds(t){return t=zh(Math.abs(t)),t?t[1]:NaN}function MZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function DZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(t){if(!(e=$Z.exec(t)))throw new Error("invalid format: "+t);var e;return new R_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uc.prototype=R_.prototype;function R_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}R_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ej;function VZ(t,e){var n=zh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ej=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zh(t,Math.max(0,e+o-1))[0]}function lA(t,e){var n=zh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lA(t*100,e),r:lA,s:VZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cA(t){return t}var fA=Array.prototype.map,dA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function FZ(t){var e=t.grouping===void 0||t.thousands===void 0?cA:MZ(fA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?cA:DZ(fA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=uc(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,b=f.zero,_=f.width,w=f.comma,x=f.precision,O=f.trim,T=f.type;T==="n"?(w=!0,T="g"):uA[T]||(x===void 0&&(x=12),O=!0,T="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=v==="$"?r:/[%p]/.test(T)?a:"",E=uA[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(k){var j=P,N=S,U,z,G;if(T==="c")N=E(k)+N,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:E(Math.abs(k),x),O&&(k=LZ(k)),K&&+k==0&&g!=="+"&&(K=!1),j=(K?g==="("?g:s:g==="-"||g==="("?"":g)+j,N=(T==="s"?dA[8+Ej/3]:"")+N+(K&&g==="("?")":""),I){for(U=-1,z=k.length;++U<z;)if(G=k.charCodeAt(U),48>G||G>57){N=(G===46?i+k.slice(U+1):k.slice(U))+N,k=k.slice(0,U);break}}}w&&!b&&(k=e(k,1/0));var F=j.length+k.length+N.length,H=F<_?new Array(_-F+1).join(h):"";switch(w&&b&&(k=e(H+k,H.length?_-N.length:1/0),H=""),m){case"<":k=j+k+N+H;break;case"=":k=j+H+k+N;break;case"^":k=H.slice(0,F=H.length>>1)+j+k+N+H.slice(F);break;default:k=H+j+k+N;break}return o(k)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=uc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ds(h)/3)))*3,v=Math.pow(10,-g),b=dA[8+g/3];return function(_){return m(v*_)+b}}return{format:u,formatPrefix:d}}var id,M_,Tj;BZ({thousands:",",grouping:[3],currency:["$",""]});function BZ(t){return id=FZ(t),M_=id.format,Tj=id.formatPrefix,id}function UZ(t){return Math.max(0,-Ds(Math.abs(t)))}function zZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ds(e)/3)))*3-Ds(Math.abs(t)))}function WZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ds(e)-Ds(t))+1}function Aj(t,e,n,r){var i=g0(t,e,n),o;switch(r=uc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=zZ(i,a))&&(r.precision=o),Tj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=WZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=UZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return M_(r)}function So(t){var e=t.domain;return t.ticks=function(n){var r=e();return p0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Aj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=m0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Wh(){var t=j_();return t.copy=function(){return nf(t,Wh())},cr.apply(t,arguments),So(t)}function Pj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Uh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Pj(t).unknown(e)},t=arguments.length?Array.from(t,Uh):[0,1],So(n)}function Ij(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function hA(t){return Math.log(t)}function pA(t){return Math.exp(t)}function GZ(t){return-Math.log(-t)}function HZ(t){return-Math.exp(-t)}function qZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KZ(t){return t===10?qZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function XZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mA(t){return(e,n)=>-t(-e,n)}function D_(t){const e=t(hA,pA),n=e.domain;let r=10,i,o;function a(){return i=XZ(r),o=KZ(r),n()[0]<0?(i=mA(i),o=mA(o),t(GZ,HZ)):t(hA,pA),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,v;const b=s==null?10:+s;let _=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(v=h<0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;_.push(v)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/o(-h):g*o(h),!(v<u)){if(v>d)break;_.push(v)}_.length*2<b&&(_=p0(u,d,b))}else _=p0(h,m,Math.min(m-h,b)).map(o);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uc(l)).precision==null&&(l.trim=!0),l=M_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(Ij(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function kj(){const t=D_(Im()).domain([1,10]);return t.copy=()=>nf(t,kj()).base(t.base()),cr.apply(t,arguments),t}function gA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $_(t){var e=1,n=t(gA(e),yA(e));return n.constant=function(r){return arguments.length?t(gA(e=+r),yA(e)):e},So(n)}function Oj(){var t=$_(Im());return t.copy=function(){return nf(t,Oj()).constant(t.constant())},cr.apply(t,arguments)}function vA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QZ(t){return t<0?-t*t:t*t}function L_(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(YZ,QZ):t(vA(n),vA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},So(e)}function V_(){var t=L_(Im());return t.copy=function(){return nf(t,V_()).exponent(t.exponent())},cr.apply(t,arguments),t}function JZ(){return V_.apply(null,arguments).exponent(.5)}function bA(t){return Math.sign(t)*t*t}function ZZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Cj(){var t=j_(),e=[0,1],n=!1,r;function i(o){var a=ZZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(bA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Uh)).map(bA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Cj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},cr.apply(i,arguments),So(i)}function Nj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=iZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[ef(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(lo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Nj().domain(t).range(e).unknown(r)},cr.apply(o,arguments)}function jj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ef(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return jj().domain([t,e]).range(i).unknown(o)},cr.apply(So(a),arguments)}function Rj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[ef(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Rj().domain(t).range(e).unknown(n)},cr.apply(i,arguments)}const ly=new Date,uy=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>jt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ly.setTime(+o),uy.setTime(+a),t(ly),t(uy),Math.floor(n(ly,uy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Gh=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Gh);Gh.range;const ii=1e3,tr=ii*60,oi=tr*60,xi=oi*24,F_=xi*7,wA=xi*30,cy=xi*365,qo=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCSeconds());qo.range;const B_=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getMinutes());B_.range;const U_=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getUTCMinutes());U_.range;const z_=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii-t.getMinutes()*tr)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());z_.range;const W_=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());W_.range;const rf=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tr)/xi,t=>t.getDate()-1);rf.range;const km=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>t.getUTCDate()-1);km.range;const Mj=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>Math.floor(t/xi));Mj.range;function xa(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*tr)/F_)}const Om=xa(0),Hh=xa(1),eee=xa(2),tee=xa(3),$s=xa(4),nee=xa(5),ree=xa(6);Om.range;Hh.range;eee.range;tee.range;$s.range;nee.range;ree.range;function Sa(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/F_)}const Cm=Sa(0),qh=Sa(1),iee=Sa(2),oee=Sa(3),Ls=Sa(4),aee=Sa(5),see=Sa(6);Cm.range;qh.range;iee.range;oee.range;Ls.range;aee.range;see.range;const G_=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());G_.range;const H_=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());H_.range;const Si=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Si.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Si.range;const Ei=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ei.range;function Dj(t,e,n,r,i,o){const a=[[qo,1,ii],[qo,5,5*ii],[qo,15,15*ii],[qo,30,30*ii],[o,1,tr],[o,5,5*tr],[o,15,15*tr],[o,30,30*tr],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[r,1,xi],[r,2,2*xi],[n,1,F_],[e,1,wA],[e,3,3*wA],[t,1,cy]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,m=I_(([,,b])=>b).right(a,h);if(m===a.length)return t.every(g0(u/cy,d/cy,f));if(m===0)return Gh.every(Math.max(g0(u,d,f),1));const[g,v]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(v)}return[s,l]}const[lee,uee]=Dj(Ei,H_,Cm,Mj,W_,U_),[cee,fee]=Dj(Si,G_,Om,rf,z_,B_);function fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Hl(i),d=ql(i),f=Hl(o),h=ql(o),m=Hl(a),g=ql(a),v=Hl(s),b=ql(s),_=Hl(l),w=ql(l),x={a:K,A:F,b:H,B:Q,c:null,d:AA,e:AA,f:Mee,g:Gee,G:qee,H:Nee,I:jee,j:Ree,L:$j,m:Dee,M:$ee,p:ne,q:B,Q:kA,s:OA,S:Lee,u:Vee,U:Fee,V:Bee,w:Uee,W:zee,x:null,X:null,y:Wee,Y:Hee,Z:Kee,"%":IA},O={a:Y,A:Z,b:se,B:de,c:null,d:PA,e:PA,f:Jee,g:lte,G:cte,H:Xee,I:Yee,j:Qee,L:Vj,m:Zee,M:ete,p:ve,q:Be,Q:kA,s:OA,S:tte,u:nte,U:rte,V:ite,w:ote,W:ate,x:null,X:null,y:ste,Y:ute,Z:fte,"%":IA},T={a:C,A:k,b:j,B:N,c:U,d:EA,e:EA,f:Iee,g:SA,G:xA,H:TA,I:TA,j:Eee,L:Pee,m:See,M:Tee,p:I,q:xee,Q:Oee,s:Cee,S:Aee,u:yee,U:vee,V:bee,w:gee,W:wee,x:z,X:G,y:SA,Y:xA,Z:_ee,"%":kee};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),O.x=P(n,O),O.X=P(r,O),O.c=P(e,O);function P(ie,ge){return function(X){var L=[],re=-1,he=0,Ee=ie.length,Te,Ye,Rt;for(X instanceof Date||(X=new Date(+X));++re<Ee;)ie.charCodeAt(re)===37&&(L.push(ie.slice(he,re)),(Ye=_A[Te=ie.charAt(++re)])!=null?Te=ie.charAt(++re):Ye=Te==="e"?" ":"0",(Rt=ge[Te])&&(Te=Rt(X,Ye)),L.push(Te),he=re+1);return L.push(ie.slice(he,re)),L.join("")}}function S(ie,ge){return function(X){var L=Gl(1900,void 0,1),re=E(L,ie,X+="",0),he,Ee;if(re!=X.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ge&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(he=dy(Gl(L.y,0,1)),Ee=he.getUTCDay(),he=Ee>4||Ee===0?qh.ceil(he):qh(he),he=km.offset(he,(L.V-1)*7),L.y=he.getUTCFullYear(),L.m=he.getUTCMonth(),L.d=he.getUTCDate()+(L.w+6)%7):(he=fy(Gl(L.y,0,1)),Ee=he.getDay(),he=Ee>4||Ee===0?Hh.ceil(he):Hh(he),he=rf.offset(he,(L.V-1)*7),L.y=he.getFullYear(),L.m=he.getMonth(),L.d=he.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ee="Z"in L?dy(Gl(L.y,0,1)).getUTCDay():fy(Gl(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ee+5)%7:L.w+L.U*7-(Ee+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,dy(L)):fy(L)}}function E(ie,ge,X,L){for(var re=0,he=ge.length,Ee=X.length,Te,Ye;re<he;){if(L>=Ee)return-1;if(Te=ge.charCodeAt(re++),Te===37){if(Te=ge.charAt(re++),Ye=T[Te in _A?ge.charAt(re++):Te],!Ye||(L=Ye(ie,X,L))<0)return-1}else if(Te!=X.charCodeAt(L++))return-1}return L}function I(ie,ge,X){var L=u.exec(ge.slice(X));return L?(ie.p=d.get(L[0].toLowerCase()),X+L[0].length):-1}function C(ie,ge,X){var L=m.exec(ge.slice(X));return L?(ie.w=g.get(L[0].toLowerCase()),X+L[0].length):-1}function k(ie,ge,X){var L=f.exec(ge.slice(X));return L?(ie.w=h.get(L[0].toLowerCase()),X+L[0].length):-1}function j(ie,ge,X){var L=_.exec(ge.slice(X));return L?(ie.m=w.get(L[0].toLowerCase()),X+L[0].length):-1}function N(ie,ge,X){var L=v.exec(ge.slice(X));return L?(ie.m=b.get(L[0].toLowerCase()),X+L[0].length):-1}function U(ie,ge,X){return E(ie,e,ge,X)}function z(ie,ge,X){return E(ie,n,ge,X)}function G(ie,ge,X){return E(ie,r,ge,X)}function K(ie){return a[ie.getDay()]}function F(ie){return o[ie.getDay()]}function H(ie){return l[ie.getMonth()]}function Q(ie){return s[ie.getMonth()]}function ne(ie){return i[+(ie.getHours()>=12)]}function B(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return a[ie.getUTCDay()]}function Z(ie){return o[ie.getUTCDay()]}function se(ie){return l[ie.getUTCMonth()]}function de(ie){return s[ie.getUTCMonth()]}function ve(ie){return i[+(ie.getUTCHours()>=12)]}function Be(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=P(ie+="",x);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=S(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=P(ie+="",O);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=S(ie+="",!0);return ge.toString=function(){return ie},ge}}}var _A={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,hee=/^%/,pee=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function mee(t){return t.replace(pee,"\\$&")}function Hl(t){return new RegExp("^(?:"+t.map(mee).join("|")+")","i")}function ql(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gee(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bee(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xA(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SA(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _ee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xee(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function See(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EA(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function TA(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pee(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Iee(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kee(t,e,n){var r=hee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Oee(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Cee(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AA(t,e){return $e(t.getDate(),e,2)}function Nee(t,e){return $e(t.getHours(),e,2)}function jee(t,e){return $e(t.getHours()%12||12,e,2)}function Ree(t,e){return $e(1+rf.count(Si(t),t),e,3)}function $j(t,e){return $e(t.getMilliseconds(),e,3)}function Mee(t,e){return $j(t,e)+"000"}function Dee(t,e){return $e(t.getMonth()+1,e,2)}function $ee(t,e){return $e(t.getMinutes(),e,2)}function Lee(t,e){return $e(t.getSeconds(),e,2)}function Vee(t){var e=t.getDay();return e===0?7:e}function Fee(t,e){return $e(Om.count(Si(t)-1,t),e,2)}function Lj(t){var e=t.getDay();return e>=4||e===0?$s(t):$s.ceil(t)}function Bee(t,e){return t=Lj(t),$e($s.count(Si(t),t)+(Si(t).getDay()===4),e,2)}function Uee(t){return t.getDay()}function zee(t,e){return $e(Hh.count(Si(t)-1,t),e,2)}function Wee(t,e){return $e(t.getFullYear()%100,e,2)}function Gee(t,e){return t=Lj(t),$e(t.getFullYear()%100,e,2)}function Hee(t,e){return $e(t.getFullYear()%1e4,e,4)}function qee(t,e){var n=t.getDay();return t=n>=4||n===0?$s(t):$s.ceil(t),$e(t.getFullYear()%1e4,e,4)}function Kee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function PA(t,e){return $e(t.getUTCDate(),e,2)}function Xee(t,e){return $e(t.getUTCHours(),e,2)}function Yee(t,e){return $e(t.getUTCHours()%12||12,e,2)}function Qee(t,e){return $e(1+km.count(Ei(t),t),e,3)}function Vj(t,e){return $e(t.getUTCMilliseconds(),e,3)}function Jee(t,e){return Vj(t,e)+"000"}function Zee(t,e){return $e(t.getUTCMonth()+1,e,2)}function ete(t,e){return $e(t.getUTCMinutes(),e,2)}function tte(t,e){return $e(t.getUTCSeconds(),e,2)}function nte(t){var e=t.getUTCDay();return e===0?7:e}function rte(t,e){return $e(Cm.count(Ei(t)-1,t),e,2)}function Fj(t){var e=t.getUTCDay();return e>=4||e===0?Ls(t):Ls.ceil(t)}function ite(t,e){return t=Fj(t),$e(Ls.count(Ei(t),t)+(Ei(t).getUTCDay()===4),e,2)}function ote(t){return t.getUTCDay()}function ate(t,e){return $e(qh.count(Ei(t)-1,t),e,2)}function ste(t,e){return $e(t.getUTCFullYear()%100,e,2)}function lte(t,e){return t=Fj(t),$e(t.getUTCFullYear()%100,e,2)}function ute(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function cte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ls(t):Ls.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function fte(){return"+0000"}function IA(){return"%"}function kA(t){return+t}function OA(t){return Math.floor(+t/1e3)}var ja,Bj,Uj;dte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dte(t){return ja=dee(t),Bj=ja.format,ja.parse,Uj=ja.utcFormat,ja.utcParse,ja}function hte(t){return new Date(t)}function pte(t){return t instanceof Date?+t:+new Date(+t)}function q_(t,e,n,r,i,o,a,s,l,u){var d=j_(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),w=u("%b %d"),x=u("%B"),O=u("%Y");function T(P){return(l(P)<P?m:s(P)<P?g:a(P)<P?v:o(P)<P?b:r(P)<P?i(P)<P?_:w:n(P)<P?x:O)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,pte)):h().map(hte)},d.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},d.tickFormat=function(P,S){return S==null?T:u(S)},d.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(Ij(S,P)):d},d.copy=function(){return nf(d,q_(t,e,n,r,i,o,a,s,l,u))},d}function mte(){return cr.apply(q_(cee,fee,Si,G_,Om,rf,z_,B_,qo,Bj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gte(){return cr.apply(q_(lee,uee,Ei,H_,Cm,km,W_,U_,qo,Uj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nm(){var t=0,e=1,n,r,i,o,a=_n,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(gl),u.rangeRound=d(N_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zj(){var t=So(Nm()(_n));return t.copy=function(){return Eo(t,zj())},ki.apply(t,arguments)}function Wj(){var t=D_(Nm()).domain([1,10]);return t.copy=function(){return Eo(t,Wj()).base(t.base())},ki.apply(t,arguments)}function Gj(){var t=$_(Nm());return t.copy=function(){return Eo(t,Gj()).constant(t.constant())},ki.apply(t,arguments)}function K_(){var t=L_(Nm());return t.copy=function(){return Eo(t,K_()).exponent(t.exponent())},ki.apply(t,arguments)}function yte(){return K_.apply(null,arguments).exponent(.5)}function Hj(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((ef(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>rZ(t,o/r))},n.copy=function(){return Hj(e).domain(t)},ki.apply(n,arguments)}function jm(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=_n,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(b){var _,w,x;return arguments.length?([_,w,x]=b,u=kZ(v,[_,w,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(gl),m.rangeRound=g(N_),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function qj(){var t=So(jm()(_n));return t.copy=function(){return Eo(t,qj())},ki.apply(t,arguments)}function Kj(){var t=D_(jm()).domain([.1,1,10]);return t.copy=function(){return Eo(t,Kj()).base(t.base())},ki.apply(t,arguments)}function Xj(){var t=$_(jm());return t.copy=function(){return Eo(t,Xj()).constant(t.constant())},ki.apply(t,arguments)}function X_(){var t=L_(jm());return t.copy=function(){return Eo(t,X_()).exponent(t.exponent())},ki.apply(t,arguments)}function vte(){return X_.apply(null,arguments).exponent(.5)}const CA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:qj,scaleDivergingLog:Kj,scaleDivergingPow:X_,scaleDivergingSqrt:vte,scaleDivergingSymlog:Xj,scaleIdentity:Pj,scaleImplicit:y0,scaleLinear:Wh,scaleLog:kj,scaleOrdinal:k_,scalePoint:xu,scalePow:V_,scaleQuantile:Nj,scaleQuantize:jj,scaleRadial:Cj,scaleSequential:zj,scaleSequentialLog:Wj,scaleSequentialPow:K_,scaleSequentialQuantile:Hj,scaleSequentialSqrt:yte,scaleSequentialSymlog:Gj,scaleSqrt:JZ,scaleSymlog:Oj,scaleThreshold:Rj,scaleTime:mte,scaleUtc:gte,tickFormat:Aj},Symbol.toStringTag,{value:"Module"}));var bte=ll;function wte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!bte(a):n(a,s)))var s=a,l=o}return l}var Yj=wte;function _te(t,e){return t>e}var xte=_te,Ste=Yj,Ete=xte,Tte=ml;function Ate(t){return t&&t.length?Ste(t,Tte,Ete):void 0}var Pte=Ate;const Rm=Xe(Pte);function Ite(t,e){return t<e}var kte=Ite,Ote=Yj,Cte=kte,Nte=ml;function jte(t){return t&&t.length?Ote(t,Nte,Cte):void 0}var Rte=jte;const Mm=Xe(Rte);var Mte=u_,Dte=xo,$te=ij,Lte=Rn;function Vte(t,e){var n=Lte(t)?Mte:$te;return n(t,Dte(e))}var Fte=Vte,Bte=nj,Ute=Fte;function zte(t,e){return Bte(Ute(t,e),1)}var Wte=zte;const Gte=Xe(Wte);var Hte=E_;function qte(t,e){return Hte(t,e)}var Kte=qte;const Dm=Xe(Kte);var yl=1e9,Xte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q_,ut=!0,lr="[DecimalError] ",ta=lr+"Invalid argument: ",Y_=lr+"Exponent out of range: ",vl=Math.floor,Vo=Math.pow,Yte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Lt=1e7,ot=7,Qj=9007199254740991,Kh=vl(Qj/ot),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return di(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return Ke(di(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Tt(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bn))throw Error(lr+"NaN");if(n.s<1)throw Error(lr+(n.s?"NaN":"-Infinity"));return n.eq(Bn)?new r(0):(ut=!1,e=di(cc(n,o),cc(t,o),o),ut=!0,Ke(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eR(e,t):Jj(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(lr+"NaN");return n.s?(ut=!1,e=di(n,t,0,1).times(t),ut=!0,n.minus(e)):Ke(new r(n),i)};fe.naturalExponential=fe.exp=function(){return Zj(this)};fe.naturalLogarithm=fe.ln=function(){return cc(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jj(e,t):eR(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ta+t);if(e=Tt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lr+"NaN")}for(t=Tt(s),ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=jr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(di(s,o,a+2)).times(.5),jr(o.d).slice(0,a)===(e=jr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ut=!0,Ke(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%Lt|0,e=s/Lt|0;o[i]=(o[i]+e)%Lt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Ke(t,f.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wr(t,0,yl),e===void 0?e=r.rounding:Wr(e,0,8),Ke(n,t+Tt(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pa(r,!0):(Wr(t,0,yl),e===void 0?e=i.rounding:Wr(e,0,8),r=Ke(new i(r),t+1,e),n=pa(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?pa(i):(Wr(t,0,yl),e===void 0?e=o.rounding:Wr(e,0,8),r=Ke(new o(i),t+Tt(i)+1,e),n=pa(r.abs(),!1,t+Tt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Tt(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Bn);if(s=new l(s),!s.s){if(t.s<1)throw Error(lr+"Infinity");return s}if(s.eq(Bn))return s;if(r=l.precision,t.eq(Bn))return Ke(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=Qj){for(i=new l(Bn),e=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(s),jA(i.d,e)),n=vl(n/2),n!==0;)s=s.times(s),jA(s.d,e);return ut=!0,t.s<0?new l(Bn).div(i):Ke(i,r)}}else if(o<0)throw Error(lr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ut=!1,i=t.times(cc(s,r+u)),ut=!0,i=Zj(i),i.s=o,i};fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Tt(i),r=pa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wr(t,1,yl),e===void 0?e=o.rounding:Wr(e,0,8),i=Ke(new o(i),t,e),n=Tt(i),r=pa(i,t<=n||n<=o.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wr(t,1,yl),e===void 0?e=r.rounding:Wr(e,0,8)),Ke(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),n=t.constructor;return pa(t,e<=n.toExpNeg||e>=n.toExpPos)};function Jj(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ut?Ke(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ot),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Lt|0,l[o]%=Lt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ut?Ke(e,f):e}function Wr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ta+t)}function jr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=Li(n)),o+=r;a=t[e],r=a+"",n=ot-r.length,n&&(o+=Li(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var di=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Lt|0,a=o/Lt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Lt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,m,g,v,b,_,w,x,O,T,P,S,E,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(lr+"Division by zero");for(l=r.e-i.e,S=j.length,T=k.length,m=new I(C),g=m.d=[],u=0;j[u]==(k[u]||0);)++u;if(j[u]>(k[u]||0)&&--l,o==null?w=o=I.precision:a?w=o+(Tt(r)-Tt(i))+1:w=o,w<0)return new I(0);if(w=w/ot+2|0,u=0,S==1)for(d=0,j=j[0],w++;(u<T||d)&&w--;u++)x=d*Lt+(k[u]||0),g[u]=x/j|0,d=x%j|0;else{for(d=Lt/(j[0]+1)|0,d>1&&(j=t(j,d),k=t(k,d),S=j.length,T=k.length),O=S,v=k.slice(0,S),b=v.length;b<S;)v[b++]=0;E=j.slice(),E.unshift(0),P=j[0],j[1]>=Lt/2&&++P;do d=0,s=e(j,v,S,b),s<0?(_=v[0],S!=b&&(_=_*Lt+(v[1]||0)),d=_/P|0,d>1?(d>=Lt&&(d=Lt-1),f=t(j,d),h=f.length,b=v.length,s=e(f,v,h,b),s==1&&(d--,n(f,S<h?E:j,h))):(d==0&&(s=d=1),f=j.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=e(j,v,S,b),s<1&&(d++,n(v,S<b?E:j,b))),b=v.length):s===0&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[b++]=k[O]||0:(v=[k[O]],b=1);while((O++<T||v[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,Ke(m,a?o+Tt(m)+1:o)}}();function Zj(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(Tt(t)>16)throw Error(Y_+Tt(t));if(!t.s)return new d(Bn);for(e==null?(ut=!1,s=f):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Vo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Bn),d.precision=s;;){if(i=Ke(i.times(t),s),n=n.times(++l),a=o.plus(di(i,n,s)),jr(a.d).slice(0,s)===jr(o.d).slice(0,s)){for(;u--;)o=Ke(o.times(o),s);return d.precision=f,e==null?(ut=!0,Ke(o,f)):o}o=a}}function Tt(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function hy(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(lr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function Li(t){for(var e="";t--;)e+="0";return e}function cc(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,m=t,g=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(lr+(m.s?"NaN":"-Infinity"));if(m.eq(Bn))return new v(0);if(e==null?(ut=!1,u=b):u=e,m.eq(10))return e==null&&(ut=!0),hy(v,u);if(u+=h,v.precision=u,n=jr(g),r=n.charAt(0),o=Tt(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=jr(m.d),r=n.charAt(0),f++;o=Tt(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1))}else return l=hy(v,u+2,b).times(o+""),m=cc(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=b,e==null?(ut=!0,Ke(m,b)):m;for(s=a=m=di(m.minus(Bn),m.plus(Bn),u),d=Ke(m.times(m),u),i=3;;){if(a=Ke(a.times(d),u),l=s.plus(di(a,new v(i),u)),jr(l.d).slice(0,u)===jr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(hy(v,u+2,b).times(o+""))),s=di(s,new v(f),u),v.precision=b,e==null?(ut=!0,Ke(s,b)):s;s=l,i+=2}}function NA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vl(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>Kh||t.e<-Kh))throw Error(Y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ot,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ot),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=ot,i=r-ot+a}if(n!==void 0&&(o=Vo(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Vo(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Tt(t),f.length=1,e=e-o-1,f[0]=Vo(10,(ot-e%ot)%ot),t.e=vl(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Vo(10,ot-r),f[d]=i>0?(u/Vo(10,a-i)%Vo(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Lt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Lt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>Kh||t.e<-Kh))throw Error(Y_+Tt(t));return t}function eR(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ut?Ke(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/ot),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Lt-1;--l[o],l[i]+=Lt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Ke(e,m):e):new h(0)}function pa(t,e,n){var r,i=Tt(t),o=jr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Li(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Li(-i-1)+o,n&&(r=n-a)>0&&(o+=Li(r))):i>=a?(o+=Li(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Li(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Li(r))),t.s<0?"-"+o:o}function jA(t,e){if(t.length>e)return t.length=e,!0}function tR(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ta+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return NA(a,o.toString())}else if(typeof o!="string")throw Error(ta+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Yte.test(o))NA(a,o);else throw Error(ta+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tR,i.config=i.set=Qte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Qte(t){if(!t||typeof t!="object")throw Error(lr+"Object expected");var e,n,r,i=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ta+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ta+n+": "+r);return this}var Q_=tR(Xte);Bn=new Q_(1);const Ge=Q_;function Jte(t){return nne(t)||tne(t)||ene(t)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return _0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _0(t,e)}}function tne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nne(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rne=function(e){return e},nR={"@@functional/placeholder":!0},rR=function(e){return e===nR},RA=function(e){return function n(){return arguments.length===0||arguments.length===1&&rR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ine=function t(e,n){return e===1?n:RA(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==nR}).length;return a>=e?n.apply(void 0,i):t(e-a,RA(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return rR(f)?l.shift():f});return n.apply(void 0,Jte(d).concat(l))}))})},$m=function(e){return ine(e.length,e)},x0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},one=$m(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ane=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},S0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function sne(t){var e;return t===0?e=1:e=Math.floor(new Ge(t).abs().log(10).toNumber())+1,e}function lne(t,e,n){for(var r=new Ge(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var une=$m(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),cne=$m(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),fne=$m(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Lm={rangeStep:lne,getDigitCount:sne,interpolateNumber:une,uninterpolateNumber:cne,uninterpolateTruncation:fne};function E0(t){return pne(t)||hne(t)||oR(t)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pne(t){if(Array.isArray(t))return T0(t)}function fc(t,e){return yne(t)||gne(t,e)||oR(t,e)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oR(t,e){if(t){if(typeof t=="string")return T0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T0(t,e)}}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function yne(t){if(Array.isArray(t))return t}function aR(t){var e=fc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function sR(t,e,n){if(t.lte(0))return new Ge(0);var r=Lm.getDigitCount(t.toNumber()),i=new Ge(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ge(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ge(Math.ceil(l))}function vne(t,e,n){var r=1,i=new Ge(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ge(10).pow(Lm.getDigitCount(t)-1),i=new Ge(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ge(Math.floor(t)))}else t===0?i=new Ge(Math.floor((e-1)/2)):n||(i=new Ge(Math.floor(t)));var a=Math.floor((e-1)/2),s=ane(one(function(l){return i.add(new Ge(l-a).mul(r)).toNumber()}),x0);return s(0,e)}function lR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=sR(new Ge(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ge(0):(a=new Ge(t).add(e).div(2),a=a.sub(new Ge(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ge(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?lR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ge(s).mul(o)),tickMax:a.add(new Ge(l).mul(o))})}function bne(t){var e=fc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=aR([n,r]),l=fc(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(E0(x0(0,i-1).map(function(){return 1/0}))):[].concat(E0(x0(0,i-1).map(function(){return-1/0})),[d]);return n>r?S0(f):f}if(u===d)return vne(u,i,o);var h=lR(u,d,a,o),m=h.step,g=h.tickMin,v=h.tickMax,b=Lm.rangeStep(g,v.add(new Ge(.1).mul(m)),m);return n>r?S0(b):b}function wne(t,e){var n=fc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=aR([r,i]),s=fc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=sR(new Ge(u).sub(l).div(d-1),o,0),h=[].concat(E0(Lm.rangeStep(new Ge(l),new Ge(u).sub(new Ge(.99).mul(f)),f)),[u]);return r>i?S0(h):h}var _ne=iR(bne),xne=iR(wne),Sne=!0,py="Invariant failed";function ma(t,e){if(!t){if(Sne)throw new Error(py);var n=typeof e=="function"?e():e,r=n?"".concat(py,": ").concat(n):py;throw new Error(r)}}var Ene=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function Tne(t,e){return kne(t)||Ine(t,e)||Pne(t,e)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pne(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ine(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kne(t){if(Array.isArray(t))return t}function One(t,e){if(t==null)return{};var n=Cne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fR(r.key),r)}}function jne(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rne(t,e,n){return e=Yh(e),Mne(t,uR()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function Mne(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dne(t)}function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(t)}function $ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A0(t,e)}function cR(t,e,n){return e=fR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fR(t){var e=Lne(t,"string");return Vs(e)=="symbol"?e:e+""}function Lne(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of=function(t){function e(){return Nne(this,e),Rne(this,e,arguments)}return $ne(e,t),jne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=One(r,Ene),m=Ce(h,!1);this.props.direction==="x"&&d.type!=="number"&&ma(!1);var g=l.map(function(v){var b=u(v,s),_=b.x,w=b.y,x=b.value,O=b.errorVal;if(!O)return null;var T=[],P,S;if(Array.isArray(O)){var E=Tne(O,2);P=E[0],S=E[1]}else P=S=O;if(o==="vertical"){var I=d.scale,C=w+i,k=C+a,j=C-a,N=I(x-P),U=I(x+S);T.push({x1:U,y1:k,x2:U,y2:j}),T.push({x1:N,y1:C,x2:U,y2:C}),T.push({x1:N,y1:k,x2:N,y2:j})}else if(o==="horizontal"){var z=f.scale,G=_+i,K=G-a,F=G+a,H=z(x-P),Q=z(x+S);T.push({x1:K,y1:Q,x2:F,y2:Q}),T.push({x1:G,y1:H,x2:G,y2:Q}),T.push({x1:K,y1:H,x2:F,y2:H})}return $.createElement(bt,Xh({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),T.map(function(ne){return $.createElement("line",Xh({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return $.createElement(bt,{className:"recharts-errorBars"},g)}}])}($.Component);cR(of,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cR(of,"displayName","ErrorBar");function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=Bne(t,"string");return dc(e)=="symbol"?e:e+""}function Bne(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Fn(n,Zo);if(!a)return null;var s=Zo.defaultProps,l=s!==void 0?No(No({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?No(No({},h),f.props):{},g=m.dataKey,v=m.name,b=m.legendType,_=m.hide;return{inactive:_,dataKey:g,type:l.iconType||b||"square",color:J_(f),value:v||g,payload:m}}),No(No(No({},l),Zo.getWithHeight(a,i)),{},{payload:u,item:a})};function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function LA(t){return Gne(t)||Wne(t)||zne(t)||Une()}function Une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return P0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P0(t,e)}}function Wne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gne(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){hs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hs(t,e,n){return e=Hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=qne(t,"string");return hc(e)=="symbol"?e:e+""}function qne(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hn(t,e,n){return Pe(t)||Pe(e)?n:Ct(e)?ir(t,e,n):Ae(e)?e(t):n}function Su(t,e,n,r){var i=Gte(t,function(s){return Hn(s,e)});if(n==="number"){var o=i.filter(function(s){return ae(s)||parseFloat(s)});return o.length?[Mm(o),Rm(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Pe(s)}):i;return a.map(function(s){return Ct(s)||s instanceof Date?s:""})}var Kne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(xr(f-d)!==xr(h-f)){var g=[];if(xr(h-f)===xr(l[1]-l[0])){m=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{m=d;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(d,h),x=Math.max(d,h);if(e>(w+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},J_=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Xne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],v=g.items,b=g.cateAxisId,_=v.filter(function(S){return ui(S.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,x=w!==void 0?gt(gt({},w),_[0].props):_[0].props,O=x.barSize,T=x[b];a[T]||(a[T]=[]);var P=Pe(O)?n:O;a[T].push({item:_[0],stackList:_.slice(1),barSize:Pe(P)?void 0:ha(P,r,0)})}}return a},Yne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ha(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(O,T){return O+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var v=(i-g)/2>>0,b={offset:v-u,size:0};d=a.reduce(function(O,T){var P={item:T.item,position:{offset:b.offset+b.size+u,size:h?m:T.barSize}},S=[].concat(LA(O),[P]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var _=ha(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var w=(i-2*_-(l-1)*u)/l;w>1&&(w>>=0);var x=s===+s?Math.min(w,s):w;d=a.reduce(function(O,T,P){var S=[].concat(LA(O),[{item:T.item,position:{offset:_+(w+u)*P+(w-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return d},Qne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=dR({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&m!=="center"&&ae(e[m]))return gt(gt({},e),{},hs({},m,e[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&g!=="middle"&&ae(e[g]))return gt(gt({},e),{},hs({},g,e[g]+(h||0)))}return e},Jne=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hR=function(e,n,r,i,o){var a=n.props.children,s=or(a,of).filter(function(u){return Jne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Hn(d,r);if(Pe(f))return u;var h=Array.isArray(f)?[Mm(f),Rm(f)]:[f,f],m=l.reduce(function(g,v){var b=Hn(d,v,0),_=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Zne=function(e,n,r,i,o){var a=n.map(function(s){return hR(e,s,r,o,i)}).filter(function(s){return!Pe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},pR=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&hR(e,l,u,i)||Su(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},mR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ai=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},my=new WeakMap,od=function(e,n){if(typeof n!="function")return e;my.has(e)||my.set(e,new WeakMap);var r=my.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ere=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:oc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Wh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xu(),realScaleType:"point"}:o==="category"?{scale:oc(),realScaleType:"band"}:{scale:Wh(),realScaleType:"linear"};if(da(i)){var l="scale".concat(_m(i));return{scale:(CA[l]||xu)(),realScaleType:CA[l]?l:"point"}}return Ae(i)?{scale:i}:{scale:xu(),realScaleType:"point"}},FA=1e-4,tre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-FA,a=Math.max(i[0],i[1])+FA,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},nre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},rre=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ire=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Qc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},ore=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Qc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},are={sign:ire,expand:S7,none:Cs,silhouette:E7,wiggle:T7,positive:ore},sre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=are[r],a=x7().keys(i).value(function(s,l){return+Hn(s,l,0)}).order(Jv).offset(o);return a(e)},lre=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?gt(gt({},h.type.defaultProps),h.props):h.props,v=g.stackId,b=g.hide;if(b)return f;var _=g[r],w=f[_]||{hasStack:!1,stackGroups:{}};if(Ct(v)){var x=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),w.hasStack=!0,w.stackGroups[v]=x}else w.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return gt(gt({},f),{},hs({},_,w))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,b){var _=m.stackGroups[b];return gt(gt({},v),{},hs({},b,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:sre(e,_.items,o)}))},g)}return gt(gt({},f),{},hs({},h,m))},d)},ure=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=_ne(u,o,s);return e.domain([Mm(d),Rm(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=xne(f,o,s);return{niceTicks:h}}return null};function BA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pe(i[e.dataKey])){var s=_h(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Hn(i,Pe(a)?e.dataKey:a);return Pe(l)?null:e.scale(l)}var UA=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Hn(a,n.dataKey,n.domain[s]);return Pe(l)?null:n.scale(l)-o/2+i},cre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},fre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ct(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},dre=function(e){return e.reduce(function(n,r){return[Mm(r.concat([n[0]]).filter(ae)),Rm(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},yR=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=dre(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I0=function(e,n,r){if(Ae(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(zA.test(e[0])){var o=+zA.exec(e[0])[1];i[0]=n[0]-o}else Ae(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(WA.test(e[1])){var a=+WA.exec(e[1])[1];i[1]=n[1]+a}else Ae(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Qh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=A_(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},GA=function(e,n,r){return!e||!e.length||Dm(e,ir(r,"type.defaultProps.domain"))?n:e},vR=function(e,n){var r=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return gt(gt({},Ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:J_(e),value:Hn(n,i),type:l,payload:n,chartType:u,hide:d})};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return e=pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return pc(e)=="symbol"?e:e+""}function mre(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jh=Math.PI/180,gre=function(e){return e*180/Math.PI},Qt=function(e,n,r,i){return{x:e+Math.cos(-Jh*i)*r,y:n+Math.sin(-Jh*i)*r}},yre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},vre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=yre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:gre(u),angleInRadian:u}},bre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},wre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},KA=function(e,n){var r=e.x,i=e.y,o=vre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=bre(n),f=d.startAngle,h=d.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?qA(qA({},n),{},{radius:a,angle:wre(m,n)}):null};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}var _re=["offset"];function xre(t){return Are(t)||Tre(t)||Ere(t)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ere(t,e){if(t){if(typeof t=="string")return k0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k0(t,e)}}function Tre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Are(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pre(t,e){if(t==null)return{};var n=Ire(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ire(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Cre(t,"string");return mc(e)=="symbol"?e:e+""}function Cre(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Nre=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return Ae(r)?r(i):i},jre=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Rre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,v=l.clockWise,b=(f+h)/2,_=jre(m,g),w=_>=0?1:-1,x,O;i==="insideStart"?(x=m+w*a,O=v):i==="insideEnd"?(x=g-w*a,O=!v):i==="end"&&(x=g+w*a,O=v),O=_<=0?O:!O;var T=Qt(u,d,b,x),P=Qt(u,d,b,x+(O?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Pe(e.id)?Jc("recharts-radial-line-"):e.id;return $.createElement("text",gc({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:E,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Mre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Qt(a,s,u+r,h),g=m.x,v=m.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,_=Qt(a,s,b,h),w=_.x,x=_.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Dre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,b=v*i,_=v>0?"end":"start",w=v>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Pt(Pt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return Pt(Pt({},O),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var T={x:s-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Pt(Pt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:s+u+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Pt(Pt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return o==="insideLeft"?Pt({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?Pt({x:s+u-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideTop"?Pt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?Pt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},S):o==="insideTopLeft"?Pt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:g},S):o==="insideTopRight"?Pt({x:s+u-b,y:l+h,textAnchor:_,verticalAnchor:g},S):o==="insideBottomLeft"?Pt({x:s+b,y:l+d-h,textAnchor:w,verticalAnchor:m},S):o==="insideBottomRight"?Pt({x:s+u-b,y:l+d-h,textAnchor:_,verticalAnchor:m},S):ul(o)&&(ae(o.x)||Go(o.x))&&(ae(o.y)||Go(o.y))?Pt({x:s+ha(o.x,u),y:l+ha(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):Pt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},$re=function(e){return"cx"in e&&ae(e.cx)};function hn(t){var e=t.offset,n=e===void 0?5:e,r=Pre(t,_re),i=Pt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Pe(s)&&Pe(l)&&!D.isValidElement(u)&&!Ae(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var m;if(Ae(u)){if(m=D.createElement(u,i),D.isValidElement(m))return m}else m=Nre(i);var g=$re(o),v=Ce(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Rre(i,m,v);var b=g?Mre(i):Dre(i);return $.createElement($h,gc({className:Re("recharts-label",f)},v,b,{breakAll:h}),m)}hn.displayName="Label";var bR=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,g=e.left,v=e.width,b=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(ae(v)&&ae(b)){if(ae(f)&&ae(h))return{x:f,y:h,width:v,height:b};if(ae(m)&&ae(g))return{x:m,y:g,width:v,height:b}}return ae(f)&&ae(h)?{x:f,y:h,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Lre=function(e,n){return e?e===!0?$.createElement(hn,{key:"label-implicit",viewBox:n}):Ct(e)?$.createElement(hn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===hn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(hn,{key:"label-implicit",content:e,viewBox:n}):Ae(e)?$.createElement(hn,{key:"label-implicit",content:e,viewBox:n}):ul(e)?$.createElement(hn,gc({viewBox:n},e,{key:"label-implicit"})):null:null},Vre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=bR(e),a=or(i,hn).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Lre(e.label,n||o);return[s].concat(xre(a))};hn.parseViewBox=bR;hn.renderCallByParent=Vre;function Fre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Bre=Fre;const Ure=Xe(Bre);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var zre=["valueAccessor"],Wre=["data","dataKey","clockWise","id","textBreakAll"];function Gre(t){return Xre(t)||Kre(t)||qre(t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(t,e){if(t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xre(t){if(Array.isArray(t))return O0(t)}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Jre(t,"string");return yc(e)=="symbol"?e:e+""}function Jre(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JA(t,e){if(t==null)return{};var n=Zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eie=function(e){return Array.isArray(e.value)?Ure(e.value):e.value};function uo(t){var e=t.valueAccessor,n=e===void 0?eie:e,r=JA(t,zre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=JA(r,Wre);return!i||!i.length?null:$.createElement(bt,{className:"recharts-label-list"},i.map(function(d,f){var h=Pe(o)?n(d,f):Hn(d&&d.payload,o),m=Pe(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(hn,Zh({},Ce(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:hn.parseViewBox(Pe(a)?d:QA(QA({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}uo.displayName="LabelList";function tie(t,e){return t?t===!0?$.createElement(uo,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ae(t)?$.createElement(uo,{key:"labelList-implicit",data:e,content:t}):ul(t)?$.createElement(uo,Zh({data:e},t,{key:"labelList-implicit"})):null:null}function nie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=or(r,uo).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=tie(t.label,e);return[o].concat(Gre(i))}uo.renderCallByParent=nie;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return e=iie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=oie(t,"string");return vc(e)=="symbol"?e:e+""}function oie(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aie=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ad=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Jh,h=u?o:o+a*f,m=Qt(n,r,d,h),g=Qt(n,r,i,h),v=u?o-a*f:o,b=Qt(n,r,d*Math.cos(f*Jh),v);return{center:m,circleTangency:g,lineTangency:b,theta:f}},wR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=aie(a,s),u=a+l,d=Qt(n,r,o,a),f=Qt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Qt(n,r,i,a),g=Qt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},sie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=xr(d-u),h=ad({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,v=h.theta,b=ad({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,w=b.lineTangency,x=b.theta,O=l?Math.abs(u-d):Math.abs(u-d)-v-x;if(O<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):wR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=ad({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=P.circleTangency,E=P.lineTangency,I=P.theta,C=ad({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=C.circleTangency,j=C.lineTangency,N=C.theta,U=l?Math.abs(u-d):Math.abs(u-d)-I-N;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},lie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_R=function(e){var n=eP(eP({},lie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var m=Re("recharts-sector",h),g=a-o,v=ha(s,g,0,!0),b;return v>0&&Math.abs(d-f)<360?b=sie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=wR({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),$.createElement("path",C0({},Ce(n,!0),{className:m,d:b,role:"img"}))};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uie(t,e,n){return e=cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=fie(t,"string");return bc(e)=="symbol"?e:e+""}function fie(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rP={curveBasisClosed:f7,curveBasisOpen:d7,curveBasis:c7,curveBumpX:Y8,curveBumpY:Q8,curveLinearClosed:h7,curveLinear:Sm,curveMonotoneX:p7,curveMonotoneY:m7,curveNatural:g7,curveStep:y7,curveStepAfter:b7,curveStepBefore:v7},sd=function(e){return e.x===+e.x&&e.y===+e.y},Kl=function(e){return e.x},Xl=function(e){return e.y},die=function(e,n){if(Ae(e))return e;var r="curve".concat(_m(e));return(r==="curveMonotone"||r==="curveBump")&&n?rP["".concat(r).concat(n==="vertical"?"Y":"X")]:rP[r]||Sm},hie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=die(r,s),f=u?o.filter(function(v){return sd(v)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(v){return sd(v)}):a,g=f.map(function(v,b){return nP(nP({},v),{},{base:m[b]})});return s==="vertical"?h=Qf().y(Xl).x1(Kl).x0(function(v){return v.base.x}):h=Qf().x(Kl).y1(Xl).y0(function(v){return v.base.y}),h.defined(sd).curve(d),h(g)}return s==="vertical"&&ae(a)?h=Qf().y(Xl).x1(Kl).x0(a):ae(a)?h=Qf().x(Kl).y1(Xl).y0(a):h=_N().x(Kl).y(Xl),h.defined(sd).curve(d),h(f)},j0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?hie(e):i;return D.createElement("path",N0({},Ce(e,!1),xh(e),{className:Re("recharts-curve",n),d:a,ref:o}))},xR={exports:{}},pie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mie=pie,gie=mie;function SR(){}function ER(){}ER.resetWarningCache=SR;var yie=function(){function t(r,i,o,a,s,l){if(l!==gie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ER,resetWarningCache:SR};return n.PropTypes=n,n};xR.exports=yie();var vie=xR.exports;const Fe=Xe(vie);var bie=Object.getOwnPropertyNames,wie=Object.getOwnPropertySymbols,_ie=Object.prototype.hasOwnProperty;function iP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ld(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function oP(t){return bie(t).concat(wie(t))}var xie=Object.hasOwn||function(t,e){return _ie.call(t,e)};function Ea(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Sie="__v",Eie="__o",Tie="_owner",aP=Object.getOwnPropertyDescriptor,sP=Object.keys;function Aie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Pie(t,e){return Ea(t.getTime(),e.getTime())}function Iie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kie(t,e){return t===e}function lP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Oie=Ea;function Cie(t,e,n){var r=sP(t),i=r.length;if(sP(e).length!==i)return!1;for(;i-- >0;)if(!TR(t,e,n,r[i]))return!1;return!0}function Yl(t,e,n){var r=oP(t),i=r.length;if(oP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!TR(t,e,n,o)||(a=aP(t,o),s=aP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Nie(t,e){return Ea(t.valueOf(),e.valueOf())}function jie(t,e){return t.source===e.source&&t.flags===e.flags}function uP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Rie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TR(t,e,n,r){return(r===Tie||r===Eie||r===Sie)&&(t.$$typeof||e.$$typeof)?!0:xie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Die="[object Arguments]",$ie="[object Boolean]",Lie="[object Date]",Vie="[object Error]",Fie="[object Map]",Bie="[object Number]",Uie="[object Object]",zie="[object RegExp]",Wie="[object Set]",Gie="[object String]",Hie="[object URL]",qie=Array.isArray,cP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fP=Object.assign,Kie=Object.prototype.toString.call.bind(Object.prototype.toString);function Xie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var _=typeof g;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?a(g,v,b):_==="function"?i(g,v,b):!1;var w=g.constructor;if(w!==v.constructor)return!1;if(w===Object)return s(g,v,b);if(qie(g))return e(g,v,b);if(cP!=null&&cP(g))return f(g,v,b);if(w===Date)return n(g,v,b);if(w===RegExp)return u(g,v,b);if(w===Map)return o(g,v,b);if(w===Set)return d(g,v,b);var x=Kie(g);return x===Lie?n(g,v,b):x===zie?u(g,v,b):x===Fie?o(g,v,b):x===Wie?d(g,v,b):x===Uie?typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,b):x===Hie?h(g,v,b):x===Vie?r(g,v,b):x===Die?s(g,v,b):x===$ie||x===Bie||x===Gie?l(g,v,b):!1}}function Yie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Yl:Aie,areDatesEqual:Pie,areErrorsEqual:Iie,areFunctionsEqual:kie,areMapsEqual:r?iP(lP,Yl):lP,areNumbersEqual:Oie,areObjectsEqual:r?Yl:Cie,arePrimitiveWrappersEqual:Nie,areRegExpsEqual:jie,areSetsEqual:r?iP(uP,Yl):uP,areTypedArraysEqual:r?Yl:Rie,areUrlsEqual:Mie};if(n&&(i=fP({},i,n(i))),e){var o=ld(i.areArraysEqual),a=ld(i.areMapsEqual),s=ld(i.areObjectsEqual),l=ld(i.areSetsEqual);i=fP({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Qie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Jie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Zie=To();To({strict:!0});To({circular:!0});To({circular:!0,strict:!0});To({createInternalComparator:function(){return Ea}});To({strict:!0,createInternalComparator:function(){return Ea}});To({circular:!0,createInternalComparator:function(){return Ea}});To({circular:!0,createInternalComparator:function(){return Ea},strict:!0});function To(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Yie(t),l=Xie(s),u=r?r(l):Qie(l);return Jie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function eoe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):eoe(i)};requestAnimationFrame(r)}function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function toe(t){return ooe(t)||ioe(t)||roe(t)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ooe(t){if(Array.isArray(t))return t}function aoe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=toe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){dP(i.bind(null,u),l);return}i(l),dP(i.bind(null,u));return}R0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){AR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AR(t,e,n){return e=soe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=loe(t,"string");return wc(e)==="symbol"?e:String(e)}function loe(t,e){if(wc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uoe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},coe=function(e){return e},foe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Eu=function(e,n){return Object.keys(n).reduce(function(r,i){return mP(mP({},r),{},AR({},i,e(i,n[i])))},{})},gP=function(e,n,r){return e.map(function(i){return"".concat(foe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function doe(t,e){return moe(t)||poe(t,e)||PR(t,e)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function moe(t){if(Array.isArray(t))return t}function goe(t){return boe(t)||voe(t)||PR(t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PR(t,e){if(t){if(typeof t=="string")return M0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M0(t,e)}}function voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function boe(t){if(Array.isArray(t))return M0(t)}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ep=1e-4,IR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},kR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yP=function(e,n){return function(r){var i=IR(e,n);return kR(i,r)}},woe=function(e,n){return function(r){var i=IR(e,n),o=[].concat(goe(i.map(function(a,s){return a*s}).slice(1)),[0]);return kR(o,r)}},vP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=doe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=yP(i,a),h=yP(o,s),m=woe(i,a),g=function(_){return _>1?1:_<0?0:_},v=function(_){for(var w=_>1?1:_,x=w,O=0;O<8;++O){var T=f(x)-w,P=m(x);if(Math.abs(T-w)<ep||P<ep)return h(x);x=g(x-T/P)}return h(x)};return v.isStepper=!1,v},_oe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var m=-(d-f)*r,g=h*o,v=h+(m-g)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<ep&&Math.abs(v)<ep?[f,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},xoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vP(i);case"spring":return _oe();default:if(i.split("(")[0]==="cubic-bezier")return vP(i)}return typeof i=="function"?i:null};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function bP(t){return Toe(t)||Eoe(t)||OR(t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Toe(t){if(Array.isArray(t))return $0(t)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0(t,e,n){return e=Aoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Poe(t,"string");return _c(e)==="symbol"?e:String(e)}function Poe(t,e){if(_c(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ioe(t,e){return Coe(t)||Ooe(t,e)||OR(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(t,e){if(t){if(typeof t=="string")return $0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(t,e)}}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Coe(t){if(Array.isArray(t))return t}var tp=function(e,n,r){return e+(n-e)*r},L0=function(e){var n=e.from,r=e.to;return n!==r},Noe=function t(e,n,r){var i=Eu(function(o,a){if(L0(a)){var s=e(a.from,a.to,a.velocity),l=Ioe(s,2),u=l[0],d=l[1];return Ht(Ht({},a),{},{from:u,velocity:d})}return a},n);return r<1?Eu(function(o,a){return L0(a)?Ht(Ht({},a),{},{velocity:tp(a.velocity,i[o].velocity,r),from:tp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const joe=function(t,e,n,r,i){var o=uoe(t,e),a=o.reduce(function(b,_){return Ht(Ht({},b),{},D0({},_,[t[_],e[_]]))},{}),s=o.reduce(function(b,_){return Ht(Ht({},b),{},D0({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Eu(function(_,w){return w.from},s)},m=function(){return!Object.values(s).filter(L0).length},g=function(_){u||(u=_);var w=_-u,x=w/n.dt;s=Noe(n,s,x),i(Ht(Ht(Ht({},t),e),h())),u=_,m()||(l=requestAnimationFrame(f))},v=function(_){d||(d=_);var w=(_-d)/r,x=Eu(function(T,P){return tp.apply(void 0,bP(P).concat([n(w)]))},a);if(i(Ht(Ht(Ht({},t),e),x)),w<1)l=requestAnimationFrame(f);else{var O=Eu(function(T,P){return tp.apply(void 0,bP(P).concat([n(1)]))},a);i(Ht(Ht(Ht({},t),e),O))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}var Roe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Moe(t,e){if(t==null)return{};var n=Doe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Doe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gy(t){return Foe(t)||Voe(t)||Loe(t)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return V0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V0(t,e)}}function Voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Foe(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function au(t,e,n){return e=CR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CR(r.key),r)}}function Uoe(t,e,n){return e&&xP(t.prototype,e),n&&xP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CR(t){var e=zoe(t,"string");return Fs(e)==="symbol"?e:String(e)}function zoe(t,e){if(Fs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F0(t,e)}function Goe(t){var e=Hoe();return function(){var r=np(t),i;if(e){var o=np(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return B0(this,i)}}function B0(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U0(t)}function U0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}var Vm=function(t){Woe(n,t);var e=Goe(n);function n(r,i){var o;Boe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(U0(o)),o.changeStyle=o.changeStyle.bind(U0(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),B0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},B0(o);o.state={style:l?au({},l,u):u}}else o.state={style:{}};return o}return Uoe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?au({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(Zie(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var b={style:l?au({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(b)}this.runAnimation(pr(pr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=joe(a,s,xoe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(v,b,_){if(_===0)return v;var w=b.duration,x=b.easing,O=x===void 0?"ease":x,T=b.style,P=b.properties,S=b.onAnimationEnd,E=_>0?a[_-1]:b,I=P||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(gy(v),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:w,easing:O}),w]);var C=gP(I,w,O),k=pr(pr(pr({},E.style),T),{},{transition:C});return[].concat(gy(v),[k,w,S]).filter(coe)};return this.manager.start([l].concat(gy(a.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aoe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?au({},s,l):l,b=gP(Object.keys(v),a,u);g.start([d,o,pr(pr({},v),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Moe(i,Roe),u=D.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(m){var g=m.props,v=g.style,b=v===void 0?{}:v,_=g.className,w=D.cloneElement(m,pr(pr({},l),{},{style:pr(pr({},b),d),className:_}));return w};return u===1?f(D.Children.only(o)):$.createElement("div",null,D.Children.map(o,function(h){return f(h)}))}}]),n}(D.PureComponent);Vm.displayName="Animate";Vm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vm.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};const Bs=Vm;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function qoe(t,e){return Qoe(t)||Yoe(t,e)||Xoe(t,e)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qoe(t){if(Array.isArray(t))return t}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Joe(t,e,n){return e=Zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=eae(t,"string");return xc(e)=="symbol"?e:e+""}function eae(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AP=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);d="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},tae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},nae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z_=function(e){var n=TP(TP({},nae),e),r=D.useRef(),i=D.useState(-1),o=qoe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Re("recharts-rectangle",m);return w?$.createElement(Bs,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:w},function(O){var T=O.width,P=O.height,S=O.x,E=O.y;return $.createElement(Bs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:_,easing:g},$.createElement("path",rp({},Ce(n,!0),{className:x,d:AP(S,E,T,P,h),ref:r})))}):$.createElement("path",rp({},Ce(n,!0),{className:x,d:AP(l,u,d,f,h)}))};function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}var ex=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Re("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",z0({},Ce(e,!1),xh(e),{className:a,cx:n,cy:r,r:i})):null};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var rae=["x","y","top","left","width","height","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return e=aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=sae(t,"string");return Sc(e)=="symbol"?e:e+""}function sae(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e){if(t==null)return{};var n=uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},fae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,g=e.className,v=lae(e,rae),b=iae({x:r,y:o,top:s,left:u,width:f,height:m},v);return!ae(r)||!ae(o)||!ae(f)||!ae(m)||!ae(s)||!ae(u)?null:$.createElement("path",W0({},Ce(b,!0),{className:Re("recharts-cross",g),d:cae(r,o,f,m,s,u)}))},dae=GN,hae=dae(Object.getPrototypeOf,Object),pae=hae,mae=Pi,gae=pae,yae=Ii,vae="[object Object]",bae=Function.prototype,wae=Object.prototype,NR=bae.toString,_ae=wae.hasOwnProperty,xae=NR.call(Object);function Sae(t){if(!yae(t)||mae(t)!=vae)return!1;var e=gae(t);if(e===null)return!0;var n=_ae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NR.call(n)==xae}var Eae=Sae;const Tae=Xe(Eae);var Aae=Pi,Pae=Ii,Iae="[object Boolean]";function kae(t){return t===!0||t===!1||Pae(t)&&Aae(t)==Iae}var Oae=kae;const Cae=Xe(Oae);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function Nae(t,e){return Dae(t)||Mae(t,e)||Rae(t,e)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return IP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(t,e)}}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dae(t){if(Array.isArray(t))return t}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return Ec(e)=="symbol"?e:e+""}function Vae(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Fae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bae=function(e){var n=OP(OP({},Fae),e),r=D.useRef(),i=D.useState(-1),o=Nae(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,v=n.animationDuration,b=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Re("recharts-trapezoid",m);return _?$.createElement(Bs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:_},function(x){var O=x.upperWidth,T=x.lowerWidth,P=x.height,S=x.x,E=x.y;return $.createElement(Bs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:g},$.createElement("path",ip({},Ce(n,!0),{className:w,d:CP(S,E,O,T,P),ref:r})))}):$.createElement("g",null,$.createElement("path",ip({},Ce(n,!0),{className:w,d:CP(l,u,d,f,h)})))},Uae=["option","shapeType","propTransformer","activeClassName","isActive"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function zae(t,e){if(t==null)return{};var n=Wae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=qae(t,"string");return Tc(e)=="symbol"?e:e+""}function qae(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kae(t,e){return op(op({},e),t)}function Xae(t,e){return t==="symbols"}function jP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(Z_,n);case"trapezoid":return $.createElement(Bae,n);case"sector":return $.createElement(_R,n);case"symbols":if(Xae(e))return $.createElement(v_,n);break;default:return null}}function Yae(t){return D.isValidElement(t)?t.props:t}function Qae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Kae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=zae(t,Uae),u;if(D.isValidElement(e))u=D.cloneElement(e,op(op({},l),Yae(e)));else if(Ae(e))u=e(l);else if(Tae(e)&&!Cae(e)){var d=i(e,l);u=$.createElement(jP,{shapeType:n,elementProps:d})}else{var f=l;u=$.createElement(jP,{shapeType:n,elementProps:f})}return s?$.createElement(bt,{className:a},u):u}function Fm(t,e){return e!=null&&"trapezoids"in t.props}function Bm(t,e){return e!=null&&"sectors"in t.props}function Ac(t,e){return e!=null&&"points"in t.props}function Jae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Zae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ese(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function tse(t,e){var n;return Fm(t,e)?n=Jae:Bm(t,e)?n=Zae:Ac(t,e)&&(n=ese),n}function nse(t,e){var n;return Fm(t,e)?n="trapezoids":Bm(t,e)?n="sectors":Ac(t,e)&&(n="points"),n}function rse(t,e){if(Fm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ac(t,e)?e.payload:{}}function ise(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=nse(n,e),o=rse(n,e),a=r.filter(function(l,u){var d=Dm(o,l),f=n.props[i].filter(function(g){var v=tse(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var ose=Math.ceil,ase=Math.max;function sse(t,e,n,r){for(var i=-1,o=ase(ose((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var lse=sse,use=cj,RP=1/0,cse=17976931348623157e292;function fse(t){if(!t)return t===0?t:0;if(t=use(t),t===RP||t===-RP){var e=t<0?-1:1;return e*cse}return t===t?t:0}var jR=fse,dse=lse,hse=Pm,yy=jR;function pse(t){return function(e,n,r){return r&&typeof r!="number"&&hse(e,n,r)&&(n=r=void 0),e=yy(e),n===void 0?(n=e,e=0):n=yy(n),r=r===void 0?e<n?1:-1:yy(r),dse(e,n,r,t)}}var mse=pse,gse=mse,yse=gse(),vse=yse;const ap=Xe(vse);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){RR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RR(t,e,n){return e=bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=wse(t,"string");return Pc(e)=="symbol"?e:e+""}function wse(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _se=["Webkit","Moz","O","ms"],xse=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=_se.reduce(function(o,a){return DP(DP({},o),{},RR({},a+r,n))},{});return i[e]=n,i};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function Ese(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tse(t,e,n){return e=lp(e),Ase(t,MR()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Ase(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pse(t)}function Pse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Ise(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function Ln(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DR(t){var e=kse(t,"string");return Us(e)=="symbol"?e:e+""}function kse(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ose=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xu().domain(ap(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},VP=function(e){return e.changedTouches&&!!e.changedTouches.length},zs=function(t){function e(n){var r;return Sse(this,e),r=Tse(this,e,[n]),Ln(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ln(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ln(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ln(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ln(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ln(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ln(r,"handleSlideDragStart",function(i){var o=VP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ise(e,t),Ese(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Hn(o[r],s,r);return Ae(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+d-f-s,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-s));var b=this.getIndex({startX:a+v,endX:s+v});(b.startIndex!==h||b.endIndex!==m)&&g&&g(b),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=VP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,v=d.gap,b=d.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),_[a]=u+w;var x=this.getIndex(_),O=x.startIndex,T=x.endIndex,P=function(){var E=b.length-1;return a==="startX"&&(s>l?O%v===0:T%v===0)||s<l&&T===E||a==="endX"&&(s>l?T%v===0:O%v===0)||s>l&&T===E};this.setState(Ln(Ln({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&P()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ln({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?$.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,v=l.startIndex,b=l.endIndex,_=Math.max(r,this.props.x),w=vy(vy({},Ce(this.props,!1)),{},{x:_,y:u,width:d,height:f}),x=m||"Min value: ".concat((o=g[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[b])===null||a===void 0?void 0:a.name);return $.createElement(bt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return $.createElement(bt,{className:"recharts-brush-texts"},$.createElement($h,sp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},g),this.getTextOfTick(i)),$.createElement($h,sp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,v=h.isTextActive,b=h.isSlideMoving,_=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ae(s)||!ae(l)||!ae(u)||!ae(d)||u<=0||d<=0)return null;var x=Re("recharts-brush",o),O=$.Children.count(a)===1,T=xse("userSelect","none");return $.createElement(bt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(v||b||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Ae(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return vy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ose({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);Ln(zs,"displayName","Brush");Ln(zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cse=T_;function Nse(t,e){var n;return Cse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var jse=Nse,Rse=$N,Mse=xo,Dse=jse,$se=Rn,Lse=Pm;function Vse(t,e,n){var r=$se(t)?Rse:Dse;return n&&Lse(t,e,n)&&(e=void 0),r(t,Mse(e))}var Fse=Vse;const Bse=Xe(Fse);var Fr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},FP=oj;function Use(t,e,n){e=="__proto__"&&FP?FP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zse=Use,Wse=zse,Gse=rj,Hse=xo;function qse(t,e){var n={};return e=Hse(e),Gse(t,function(r,i,o){Wse(n,i,e(r,i,o))}),n}var Kse=qse;const Xse=Xe(Kse);function Yse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Qse=Yse,Jse=T_;function Zse(t,e){var n=!0;return Jse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ele=Zse,tle=Qse,nle=ele,rle=xo,ile=Rn,ole=Pm;function ale(t,e,n){var r=ile(t)?tle:nle;return n&&ole(t,e,n)&&(e=void 0),r(t,rle(e))}var sle=ale;const $R=Xe(sle);var lle=["x","y"];function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return e=cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=fle(t,"string");return Ic(e)=="symbol"?e:e+""}function fle(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dle(t,e){if(t==null)return{};var n=hle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ple(t,e){var n=t.x,r=t.y,i=dle(t,lle),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ql(Ql(Ql(Ql(Ql({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function UP(t){return $.createElement(Qae,H0({shapeType:"rectangle",propTransformer:ple,activeClassName:"recharts-active-bar"},t))}var mle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ae(r)||Mz(r);return o?e(r,i):(o||ma(!1),n)}},gle=["value","background"],LR;function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function yle(t,e){if(t==null)return{};var n=vle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function wle(t,e,n){return e&&WP(t.prototype,e),n&&WP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _le(t,e,n){return e=cp(e),xle(t,VR()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function xle(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sle(t)}function Sle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function Ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q0(t,e)}function Xi(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=Tle(t,"string");return Ws(e)=="symbol"?e:e+""}function Tle(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var af=function(t){function e(){var n;ble(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_le(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!1}),Xi(n,"id",Jc("recharts-bar-")),Xi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Xi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Ele(e,t),wle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Ce(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:a,v=St(St(St({},d),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(bt,up({className:"recharts-bar-rectangle"},Sh(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(UP,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(Bs,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,v=o.map(function(b,_){var w=h&&h[_];if(w){var x=wr(w.x,b.x),O=wr(w.y,b.y),T=wr(w.width,b.width),P=wr(w.height,b.height);return St(St({},b),{},{x:x(g),y:O(g),width:T(g),height:P(g)})}if(a==="horizontal"){var S=wr(0,b.height),E=S(g);return St(St({},b),{},{y:b.y+b.height-E,height:E})}var I=wr(0,b.width),C=I(g);return St(St({},b),{},{width:C})});return $.createElement(bt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Dm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=yle(u,gle);if(!f)return null;var m=St(St(St(St(St({},h),{},{fill:"#eee"},f),l),Sh(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(UP,up({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=or(d,of);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(b,_){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Hn(b,_)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(bt,g,f.map(function(v){return $.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,v=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=Re("recharts-bar",a),w=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=w||x,T=Pe(v)?this.id:v;return $.createElement(bt,{className:_},w||x?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:w?u:u-f/2,y:x?d:d-h/2,width:w?f:f*2,height:x?h:h*2}))):null,$.createElement(bt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!m||b)&&uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);LR=af;Xi(af,"displayName","Bar");Xi(af,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xi(af,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=nre(r,n);if(!m)return null;var g=e.layout,v=n.type.defaultProps,b=v!==void 0?St(St({},v),n.props):n.props,_=b.dataKey,w=b.children,x=b.minPointSize,O=g==="horizontal"?a:o,T=u?O.scale.domain():null,P=cre({numericAxis:O}),S=or(w,dj),E=f.map(function(I,C){var k,j,N,U,z,G;u?k=rre(u[d+C],T):(k=Hn(I,_),Array.isArray(k)||(k=[P,k]));var K=mle(x,LR.defaultProps.minPointSize)(k[1],C);if(g==="horizontal"){var F,H=[a.scale(k[0]),a.scale(k[1])],Q=H[0],ne=H[1];j=UA({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:I,index:C}),N=(F=ne??Q)!==null&&F!==void 0?F:void 0,U=m.size;var B=Q-ne;if(z=Number.isNaN(B)?0:B,G={x:j,y:a.y,width:U,height:a.height},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var Y=xr(z||K)*(Math.abs(K)-Math.abs(z));N-=Y,z+=Y}}else{var Z=[o.scale(k[0]),o.scale(k[1])],se=Z[0],de=Z[1];if(j=se,N=UA({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:I,index:C}),U=de-se,z=m.size,G={x:o.x,y:N,width:o.width,height:z},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var ve=xr(U||K)*(Math.abs(K)-Math.abs(U));U+=ve}}return St(St(St({},I),{},{x:j,y:N,width:U,height:z,value:u?k:k[1],payload:I,background:G},S&&S[C]&&S[C].props),{},{tooltipPayload:[vR(n,I)],tooltipPosition:{x:j+U/2,y:N+z/2}})});return St({data:E,layout:g},h)});function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function Ple(t,e,n){return e&&GP(t.prototype,e),n&&GP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n){return e=BR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BR(t){var e=Ile(t,"string");return kc(e)=="symbol"?e:e+""}function Ile(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kle=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Fn(u,af);return d.reduce(function(m,g){var v=n[g],b=v.orientation,_=v.domain,w=v.padding,x=w===void 0?{}:w,O=v.mirror,T=v.reversed,P="".concat(b).concat(O?"Mirror":""),S,E,I,C,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var j=_[1]-_[0],N=1/0,U=v.categoricalDomain.sort(Lz);if(U.forEach(function(Z,se){se>0&&(N=Math.min((Z||0)-(U[se-1]||0),N))}),Number.isFinite(N)){var z=N/j,G=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(S=z*G/2),v.padding==="no-gap"){var K=ha(e.barCategoryGap,z*G),F=z*G/2;S=F-K-(F-K)/G*K}}}i==="xAxis"?E=[r.left+(x.left||0)+(S||0),r.left+r.width-(x.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(S||0),r.top+r.height-(x.bottom||0)-(S||0)]:E=v.range,T&&(E=[E[1],E[0]]);var H=ere(v,o,h),Q=H.scale,ne=H.realScaleType;Q.domain(_).range(E),tre(Q);var B=ure(Q,yr(yr({},v),{},{realScaleType:ne}));i==="xAxis"?(k=b==="top"&&!O||b==="bottom"&&O,I=r.left,C=f[P]-k*v.height):i==="yAxis"&&(k=b==="left"&&!O||b==="right"&&O,I=f[P]-k*v.width,C=r.top);var Y=yr(yr(yr({},v),B),{},{realScaleType:ne,x:I,y:C,scale:Q,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Y.bandSize=Qh(Y,B),!v.hide&&i==="xAxis"?f[P]+=(k?-1:1)*Y.height:v.hide||(f[P]+=(k?-1:1)*Y.width),yr(yr({},m),{},Um({},g,Y))},{})},UR=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ole=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return UR({x:n,y:r},{x:i,y:o})},zR=function(){function t(e){Ale(this,t),this.scale=e}return Ple(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Um(zR,"EPS",1e-4);var tx=function(e){var n=Object.keys(e).reduce(function(r,i){return yr(yr({},r),{},Um({},i,zR.create(e[i])))},{});return yr(yr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Xse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return $R(i,function(o,a){return n[a].isInRange(o)})}})};function Cle(t){return(t%180+180)%180}var Nle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Cle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},jle=xo,Rle=Zc,Mle=Tm;function Dle(t){return function(e,n,r){var i=Object(e);if(!Rle(e)){var o=jle(n);e=Mle(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var $le=Dle,Lle=jR;function Vle(t){var e=Lle(t),n=e%1;return e===e?n?e-n:e:0}var Fle=Vle,Ble=QN,Ule=xo,zle=Fle,Wle=Math.max;function Gle(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:zle(n);return i<0&&(i=Wle(r+i,0)),Ble(t,Ule(e),i)}var Hle=Gle,qle=$le,Kle=Hle,Xle=qle(Kle),Yle=Xle;const Qle=Xe(Yle);var Jle=VU(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nx=D.createContext(void 0),rx=D.createContext(void 0),WR=D.createContext(void 0),GR=D.createContext({}),HR=D.createContext(void 0),qR=D.createContext(0),KR=D.createContext(0),qP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Jle(o);return $.createElement(nx.Provider,{value:r},$.createElement(rx.Provider,{value:i},$.createElement(GR.Provider,{value:o},$.createElement(WR.Provider,{value:d},$.createElement(HR.Provider,{value:a},$.createElement(qR.Provider,{value:u},$.createElement(KR.Provider,{value:l},s)))))))},Zle=function(){return D.useContext(HR)},XR=function(e){var n=D.useContext(nx);n==null&&ma(!1);var r=n[e];return r==null&&ma(!1),r},eue=function(){var e=D.useContext(nx);return Gi(e)},tue=function(){var e=D.useContext(rx),n=Qle(e,function(r){return $R(r.domain,Number.isFinite)});return n||Gi(e)},YR=function(e){var n=D.useContext(rx);n==null&&ma(!1);var r=n[e];return r==null&&ma(!1),r},nue=function(){var e=D.useContext(WR);return e},rue=function(){return D.useContext(GR)},ix=function(){return D.useContext(KR)},ox=function(){return D.useContext(qR)};function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JR(r.key),r)}}function oue(t,e,n){return e&&KP(t.prototype,e),n&&KP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aue(t,e,n){return e=fp(e),sue(t,QR()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function sue(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(t)}function lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ax(t,e,n){return e=JR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t){var e=cue(t,"string");return Gs(e)=="symbol"?e:e+""}function cue(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e){return mue(t)||pue(t,e)||hue(t,e)||due()}function due(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return QP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(t,e)}}function QP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mue(t){if(Array.isArray(t))return t}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var gue=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ae(e)?r=e(n):r=$.createElement("line",X0({},n,{className:"recharts-reference-line-line"})),r},yue=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Fr(u,"discard")&&!e.y.isInRange(v))return null;var b=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?b.reverse():b}if(n){var _=u.x,w=e.x.apply(_,{position:a});if(Fr(u,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:f+m},{x:w,y:f}];return s==="top"?x.reverse():x}if(i){var O=u.segment,T=O.map(function(P){return e.apply(P,{position:a})});return Fr(u,"discard")&&Bse(T,function(P){return!e.isInRange(P)})?null:T}return null};function vue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Zle(),d=XR(i),f=YR(o),h=nue();if(!u||!h)return null;ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tx({x:d.scale,y:f.scale}),g=Ct(e),v=Ct(n),b=r&&r.length===2,_=yue(m,g,v,b,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var w=fue(_,2),x=w[0],O=x.x,T=x.y,P=w[1],S=P.x,E=P.y,I=Fr(t,"hidden")?"url(#".concat(u,")"):void 0,C=YP(YP({clipPath:I},Ce(t,!0)),{},{x1:O,y1:T,x2:S,y2:E});return $.createElement(bt,{className:Re("recharts-reference-line",s)},gue(a,C),hn.renderCallByParent(t,Ole({x1:O,y1:T,x2:S,y2:E})))}var sx=function(t){function e(){return iue(this,e),aue(this,e,arguments)}return uue(e,t),oue(e,[{key:"render",value:function(){return $.createElement(vue,this.props)}}])}($.Component);ax(sx,"displayName","ReferenceLine");ax(sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eM(r.key),r)}}function wue(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,n){return e=dp(e),xue(t,ZR()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function xue(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sue(t)}function Sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q0(t,e)}function zm(t,e,n){return e=eM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eM(t){var e=Tue(t,"string");return Hs(e)=="symbol"?e:e+""}function Tue(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=tx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Fr(e,"discard")&&!a.isInRange(s)?null:s},Wm=function(t){function e(){return bue(this,e),_ue(this,e,arguments)}return Eue(e,t),wue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ct(i),d=Ct(o);if(ci(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Aue(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,v=g.shape,b=g.className,_=Fr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=ZP(ZP({clipPath:_},Ce(this.props,!0)),{},{cx:h,cy:m});return $.createElement(bt,{className:Re("recharts-reference-dot",b)},e.renderDot(v,w),hn.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}($.Component);zm(Wm,"displayName","ReferenceDot");zm(Wm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zm(Wm,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(ex,Y0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nM(r.key),r)}}function Iue(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,n){return e=hp(e),Oue(t,tM()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function Gm(t,e,n){return e=nM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t){var e=jue(t,"string");return qs(e)=="symbol"?e:e+""}function jue(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=tx({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Fr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:UR(m,g)},Hm=function(t){function e(){return Pue(this,e),kue(this,e,arguments)}return Nue(e,t),Iue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ct(i),h=Ct(o),m=Ct(a),g=Ct(s),v=this.props.shape;if(!f&&!h&&!m&&!g&&!v)return null;var b=Rue(f,h,m,g,this.props);if(!b&&!v)return null;var _=Fr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(bt,{className:Re("recharts-reference-area",l)},e.renderRect(v,nI(nI({clipPath:_},Ce(this.props,!0)),b)),hn.renderCallByParent(this.props,b))}}])}($.Component);Gm(Hm,"displayName","ReferenceArea");Gm(Hm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gm(Hm,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(Z_,J0({},e,{className:"recharts-reference-area-rect"})),n});function rM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Mue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nle(r,n)}function Due(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function pp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function $ue(t,e){return rM(t,e+1)}function Lue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:rM(r,u)};var v=l,b,_=function(){return b===void 0&&(b=n(g,v)),b},w=g.coordinate,x=l===0||pp(t,w,_,d,s);x||(l=0,d=a,u+=1),x&&(d=w+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return e=Fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Bue(t,"string");return Oc(e)=="symbol"?e:e+""}function Bue(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],g,v=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var b=t*(m.coordinate+t*v()/2-l);o[h]=m=un(un({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else o[h]=m=un(un({},m),{},{tickCoord:m.coordinate});var _=pp(t,m.tickCoord,v,s,l);_&&(l=m.tickCoord-t*(v()/2+i),o[h]=un(un({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function zue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=un(un({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=pp(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),a[s-1]=un(un({},d),{},{isShow:!0}))}for(var g=o?s-1:s,v=function(w){var x=a[w],O,T=function(){return O===void 0&&(O=n(x,w)),O};if(w===0){var P=t*(x.coordinate-t*T()/2-l);a[w]=x=un(un({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[w]=x=un(un({},x),{},{tickCoord:x.coordinate});var S=pp(t,x.tickCoord,T,l,u);S&&(l=x.tickCoord+t*(T()/2+i),a[w]=un(un({},x),{},{isShow:!0}))},b=0;b<g;b++)v(b);return a}function lx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||fi.isSsr)return $ue(i,typeof l=="number"&&ae(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?_u(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(x,O){var T=Ae(u)?u(x.value,O):x.value;return m==="width"?Mue(_u(T,{fontSize:e,letterSpacing:n}),g,f):_u(T,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,_=Due(o,b,m);return l==="equidistantPreserveStart"?Lue(b,_,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=zue(b,_,v,i,a,l==="preserveStartEnd"):h=Uue(b,_,v,i,a),h.filter(function(w){return w.isShow}))}var Wue=["viewBox"],Gue=["viewBox"],Hue=["ticks"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function by(t,e){if(t==null)return{};var n=que(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function que(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function Xue(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yue(t,e,n){return e=mp(e),Que(t,iM()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function Que(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jue(t)}function Jue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iM=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Zue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function ux(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t){var e=ece(t,"string");return Ks(e)=="symbol"?e:e+""}function ece(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bl=function(t){function e(n){var r;return Kue(this,e),r=Yue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Zue(e,t),Xue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=by(r,Wue),s=this.props,l=s.viewBox,u=by(s,Gue);return!fs(o,l)||!fs(a,u)||!fs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,v,b,_,w,x=f?-1:1,O=r.tickSize||d,T=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,b=a+ +!f*l,v=b-x*O,w=v-x*h,_=T;break;case"left":v=b=r.coordinate,g=o+ +!f*s,m=g-x*O,_=m-x*h,w=T;break;case"right":v=b=r.coordinate,g=o+ +f*s,m=g+x*O,_=m+x*h,w=T;break;default:m=g=r.coordinate,b=a+ +f*l,v=b+x*O,w=v+x*h,_=T;break}return{line:{x1:m,y1:v,x2:g,y2:b},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=At(At(At({},Ce(this.props,!1)),Ce(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=At(At({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=At(At({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return $.createElement("line",Za({},f,{className:Re("recharts-cartesian-axis-line",ir(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=lx(At(At({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Ce(this.props,!1),_=Ce(d,!1),w=At(At({},b),{},{fill:"none"},Ce(l,!1)),x=m.map(function(O,T){var P=a.getTickLineCoord(O),S=P.line,E=P.tick,I=At(At(At(At({textAnchor:g,verticalAnchor:v},b),{},{stroke:"none",fill:u},_),E),{},{index:T,payload:O,visibleTicksCount:m.length,tickFormatter:f});return $.createElement(bt,Za({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Sh(a.props,O,T)),l&&$.createElement("line",Za({},w,S,{className:Re("recharts-cartesian-axis-tick-line",ir(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(Ae(f)?f(O.value,T):O.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=by(f,Hue),g=h;return Ae(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:$.createElement(bt,{className:Re("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Re(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?a=$.cloneElement(r,At(At({},i),{},{className:s})):Ae(r)?a=r(At(At({},i),{},{className:s})):a=$.createElement($h,Za({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);ux(bl,"displayName","CartesianAxis");ux(bl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tce=["x1","y1","x2","y2","key"],nce=["offset"];function ga(t){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rce(t,e,n){return e=ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=oce(t,"string");return ga(e)=="symbol"?e:e+""}function oce(t,e){if(ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function lI(t,e){if(t==null)return{};var n=ace(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aM(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ae(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=lI(e,tce),u=Ce(l,!1);u.offset;var d=lI(u,nce);n=$.createElement("line",Ko({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function lce(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=pn(pn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return aM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function uce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=pn(pn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return aM(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function cce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?i+a-h:d[m+1]-h;if(v<=0)return null;var b=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:v,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?o+s-h:d[m+1]-h;if(v<=0)return null;var b=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:v,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var dce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return gR(lx(pn(pn(pn({},bl.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},hce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return gR(lx(pn(pn(pn({},bl.defaultProps),r),{},{ticks:ai(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ra={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sM(t){var e,n,r,i,o,a,s=ix(),l=ox(),u=rue(),d=pn(pn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ra.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ra.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ra.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ra.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ra.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ra.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,v=d.syncWithTicks,b=d.horizontalValues,_=d.verticalValues,w=eue(),x=tue();if(!ae(m)||m<=0||!ae(g)||g<=0||!ae(f)||f!==+f||!ae(h)||h!==+h)return null;var O=d.verticalCoordinatesGenerator||dce,T=d.horizontalCoordinatesGenerator||hce,P=d.horizontalPoints,S=d.verticalPoints;if((!P||!P.length)&&Ae(T)){var E=b&&b.length,I=T({yAxis:x?pn(pn({},x),{},{ticks:E?b:x.ticks}):void 0,width:s,height:l,offset:u},E?!0:v);ci(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ga(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Ae(O)){var C=_&&_.length,k=O({xAxis:w?pn(pn({},w),{},{ticks:C?_:w.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);ci(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ga(k),"]")),Array.isArray(k)&&(S=k)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(sce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(lce,Ko({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:x})),$.createElement(uce,Ko({},d,{offset:u,verticalPoints:S,xAxis:w,yAxis:x})),$.createElement(cce,Ko({},d,{horizontalPoints:P})),$.createElement(fce,Ko({},d,{verticalPoints:S})))}sM.displayName="CartesianGrid";var pce=["type","layout","connectNulls","ref"],mce=["key"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function uI(t,e){if(t==null)return{};var n=gce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ma(t){return wce(t)||bce(t)||vce(t)||yce()}function yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function bce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wce(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function xce(t,e,n){return e&&fI(t.prototype,e),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,n){return e=gp(e),Ece(t,lM()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Ece(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tce(t)}function Tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function vr(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Pce(t,"string");return Xs(e)=="symbol"?e:e+""}function Pce(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf=function(t){function e(){var n;_ce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sce(this,e,[].concat(i)),vr(n,"state",{isAnimationFinished:!0,totalLength:0}),vr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),vr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,w){return _+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,m=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){m=[].concat(Ma(l.slice(0,g)),[f-v]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Ma(e.repeat(l,d)),Ma(m),b).map(function(_){return"".concat(_,"px")}).join(", ")}),vr(n,"id",Jc("recharts-line-")),vr(n,"pathRef",function(a){n.mainCurve=a}),vr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),vr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ace(e,t),xce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=or(d,of);if(!f)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Hn(v.payload,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(bt,m,f.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Ce(this.props,!1),h=Ce(l,!0),m=u.map(function(v,b){var _=$n($n($n({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(l,_)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(bt,Tu({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=uI(s,pce),h=$n($n($n({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return $.createElement(j0,Tu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,g=a.animateNewValues,v=a.width,b=a.height,_=this.state,w=_.prevPoints,x=_.totalLength;return $.createElement(Bs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(w){var P=w.length/s.length,S=s.map(function(j,N){var U=Math.floor(N*P);if(w[U]){var z=w[U],G=wr(z.x,j.x),K=wr(z.y,j.y);return $n($n({},j),{},{x:G(T),y:K(T)})}if(g){var F=wr(v*2,j.x),H=wr(b/2,j.y);return $n($n({},j),{},{x:F(T),y:H(T)})}return $n($n({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(S,r,i)}var E=wr(0,x),I=E(T),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});C=o.getStrokeDasharray(I,x,k)}else C=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!Dm(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,g=i.height,v=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,w=s.length===1,x=Re("recharts-line",l),O=u&&u.allowDataOverflow,T=d&&d.allowDataOverflow,P=O||T,S=Pe(b)?this.id:b,E=(r=Ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=E.r,C=I===void 0?3:I,k=E.strokeWidth,j=k===void 0?2:k,N=qz(a)?a:{},U=N.clipDot,z=U===void 0?!0:U,G=C*2+j;return $.createElement(bt,{className:x},O||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:O?h:h-m/2,y:T?f:f-g/2,width:O?m:m*2,height:T?g:g*2})),!z&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:h-G/2,y:f-G/2,width:m+G,height:g+G}))):null,!w&&this.renderCurve(P,S),this.renderErrorBar(P,S),(w||a)&&this.renderDots(P,z,S),(!v||_)&&uo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ma(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ma(a),Ma(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(Ae(r))o=r(i);else{var a=i.key,s=uI(i,mce),l=Re("recharts-line-dot",typeof r!="boolean"?r.className:"");o=$.createElement(ex,Tu({key:a},s,{className:l}))}return o}}])}(D.PureComponent);vr(sf,"displayName","Line");vr(sf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});vr(sf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var g=Hn(h,a);return d==="horizontal"?{x:BA({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Pe(g)?null:r.scale(g),value:g,payload:h}:{x:Pe(g)?null:n.scale(g),y:BA({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:g,payload:h}});return $n({points:f,layout:d},u)});function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dM(r.key),r)}}function kce(t,e,n){return e&&dI(t.prototype,e),n&&dI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oce(t,e,n){return e=yp(e),Cce(t,cM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Cce(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nce(t)}function Nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function fM(t,e,n){return e=dM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t){var e=Rce(t,"string");return Ys(e)=="symbol"?e:e+""}function Rce(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function Mce(t){var e=t.xAxisId,n=ix(),r=ox(),i=XR(e);return i==null?null:D.createElement(bl,ib({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ai(a,!0)}}))}var qm=function(t){function e(){return Ice(this,e),Oce(this,e,arguments)}return jce(e,t),kce(e,[{key:"render",value:function(){return D.createElement(Mce,this.props)}}])}(D.Component);fM(qm,"displayName","XAxis");fM(qm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mM(r.key),r)}}function $ce(t,e,n){return e&&hI(t.prototype,e),n&&hI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lce(t,e,n){return e=vp(e),Vce(t,hM()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function pM(t,e,n){return e=mM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mM(t){var e=Uce(t,"string");return Qs(e)=="symbol"?e:e+""}function Uce(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}var zce=function(e){var n=e.yAxisId,r=ix(),i=ox(),o=YR(n);return o==null?null:D.createElement(bl,ab({},o,{className:Re("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ai(s,!0)}}))},Km=function(t){function e(){return Dce(this,e),Lce(this,e,arguments)}return Bce(e,t),$ce(e,[{key:"render",value:function(){return D.createElement(zce,this.props)}}])}(D.Component);pM(Km,"displayName","YAxis");pM(Km,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pI(t){return qce(t)||Hce(t)||Gce(t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function Hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qce(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lb=function(e,n,r,i,o){var a=or(e,sx),s=or(e,Wm),l=[].concat(pI(a),pI(s)),u=or(e,Hm),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,b){if(b.props[d]===r&&Fr(b.props,"extendDomain")&&ae(b.props[f])){var _=b.props[f];return[Math.min(v[0],_),Math.max(v[1],_)]}return v},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,b){if(b.props[d]===r&&Fr(b.props,"extendDomain")&&ae(b.props[m])&&ae(b.props[g])){var _=b.props[m],w=b.props[g];return[Math.min(v[0],_,w),Math.max(v[1],_,w)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,b){return ae(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},gM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],_=arguments.length,w,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,g),!0}for(x=1,w=new Array(_-1);x<_;x++)w[x-1]=arguments[x];b.fn.apply(b.context,w)}else{var O=b.length,T;for(x=0;x<O;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),_){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,f);break;case 4:b[x].fn.call(b[x].context,d,f,h);break;default:if(!w)for(T=1,w=new Array(_-1);T<_;T++)w[T-1]=arguments[T];b[x].fn.apply(b[x].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var v=0,b=[],_=g.length;v<_;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(gM);var Kce=gM.exports;const Xce=Xe(Kce);var wy=new Xce,_y="recharts.syncMouseEvents";function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yM(r.key),r)}}function Qce(t,e,n){return e&&mI(t.prototype,e),n&&mI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xy(t,e,n){return e=yM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yM(t){var e=Jce(t,"string");return Cc(e)=="symbol"?e:e+""}function Jce(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zce=function(){function t(){Yce(this,t),xy(this,"activeIndex",0),xy(this,"coordinateList",[]),xy(this,"layout","horizontal")}return Qce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function efe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function tfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Qt(e,n,r,i),s=Qt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function nfe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Qt(s,l,u,f),m=Qt(s,l,d,f);r=h.x,i=h.y,o=m.x,a=m.y}else return vM(e);return[{x:r,y:i},{x:o,y:a}]}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return e=ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=ofe(t,"string");return Nc(e)=="symbol"?e:e+""}function ofe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=j0;if(h==="ScatterChart")g=a,v=fae;else if(h==="BarChart")g=tfe(f,a,l,d),v=Z_;else if(f==="radial"){var b=vM(a),_=b.cx,w=b.cy,x=b.radius,O=b.startAngle,T=b.endAngle;g={cx:_,cy:w,startAngle:O,endAngle:T,innerRadius:x,outerRadius:x},v=_R}else g={points:nfe(f,a,l)},v=j0;var P=ud(ud(ud(ud({stroke:"#ccc",pointerEvents:"none"},l),g),Ce(m,!1)),{},{payload:s,payloadIndex:u,className:Re("recharts-tooltip-cursor",m.className)});return D.isValidElement(m)?D.cloneElement(m,P):D.createElement(v,P)}var sfe=["item"],lfe=["children","className","width","height","style","compact","title","desc"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(this,arguments)}function yI(t,e){return ffe(t)||cfe(t,e)||wM(t,e)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ffe(t){if(Array.isArray(t))return t}function vI(t,e){if(t==null)return{};var n=dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_M(r.key),r)}}function pfe(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mfe(t,e,n){return e=bp(e),gfe(t,bM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function gfe(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yfe(t)}function yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function vfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function Zs(t){return _fe(t)||wfe(t)||wM(t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wM(t,e){if(t){if(typeof t=="string")return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function wfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _fe(t){if(Array.isArray(t))return cb(t)}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function be(t,e,n){return e=_M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _M(t){var e=xfe(t,"string");return Js(e)=="symbol"?e:e+""}function xfe(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sfe={xAxis:["bottom","top"],yAxis:["left","right"]},Efe={width:"100%",height:"100%"},xM={x:0,y:0};function cd(t){return t}var Tfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Afe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),Qt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),Qt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return xM},Xm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Zs(s),Zs(u)):s},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function SM(t){return t==="number"?[0,"auto"]:void 0}var fb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Xm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=_h(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Zs(l),[vR(u,h)]):l},[])},_I=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Tfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Kne(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=fb(e,n,d,f),m=Afe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Pfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=mR(d,o);return r.reduce(function(g,v){var b,_=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,w=_.type,x=_.dataKey,O=_.allowDataOverflow,T=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,E=_.includeHidden,I=_[a];if(g[I])return g;var C=Xm(e.data,{graphicalItems:i.filter(function(B){var Y,Z=a in B.props?B.props[a]:(Y=B.type.defaultProps)===null||Y===void 0?void 0:Y[a];return Z===I}),dataStartIndex:l,dataEndIndex:u}),k=C.length,j,N,U;efe(_.domain,O,w)&&(j=I0(_.domain,null,O),m&&(w==="number"||P!=="auto")&&(U=Su(C,x,"category")));var z=SM(w);if(!j||j.length===0){var G,K=(G=_.domain)!==null&&G!==void 0?G:z;if(x){if(j=Su(C,x,w),w==="category"&&m){var F=$z(j);T&&F?(N=j,j=ap(0,k)):T||(j=GA(K,j,v).reduce(function(B,Y){return B.indexOf(Y)>=0?B:[].concat(Zs(B),[Y])},[]))}else if(w==="category")T?j=j.filter(function(B){return B!==""&&!Pe(B)}):j=GA(K,j,v).reduce(function(B,Y){return B.indexOf(Y)>=0||Y===""||Pe(Y)?B:[].concat(Zs(B),[Y])},[]);else if(w==="number"){var H=Zne(C,i.filter(function(B){var Y,Z,se=a in B.props?B.props[a]:(Y=B.type.defaultProps)===null||Y===void 0?void 0:Y[a],de="hide"in B.props?B.props.hide:(Z=B.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return se===I&&(E||!de)}),x,o,d);H&&(j=H)}m&&(w==="number"||P!=="auto")&&(U=Su(C,x,"category"))}else m?j=ap(0,k):s&&s[I]&&s[I].hasStack&&w==="number"?j=h==="expand"?[0,1]:yR(s[I].stackGroups,l,u):j=pR(C,i.filter(function(B){var Y=a in B.props?B.props[a]:B.type.defaultProps[a],Z="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return Y===I&&(E||!Z)}),w,d,!0);if(w==="number")j=lb(f,j,I,o,S),K&&(j=I0(K,j,O));else if(w==="category"&&K){var Q=K,ne=j.every(function(B){return Q.indexOf(B)>=0});ne&&(j=Q)}}return q(q({},g),{},be({},I,q(q({},_),{},{axisType:o,domain:j,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=_.domain)!==null&&b!==void 0?b:z,isCategorical:m,layout:d})))},{})},Ife=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Xm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=mR(d,o),v=-1;return r.reduce(function(b,_){var w=_.type.defaultProps!==void 0?q(q({},_.type.defaultProps),_.props):_.props,x=w[a],O=SM("number");if(!b[x]){v++;var T;return g?T=ap(0,m):s&&s[x]&&s[x].hasStack?(T=yR(s[x].stackGroups,l,u),T=lb(f,T,x,o)):(T=I0(O,pR(h,r.filter(function(P){var S,E,I=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],C="hide"in P.props?P.props.hide:(E=P.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===x&&!C}),"number",d),i.defaultProps.allowDataOverflow),T=lb(f,T,x,o)),q(q({},b),{},be({},x,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:ir(Sfe,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:O,isCategorical:g,layout:d})))}return b},{})},kfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=or(d,o),m={};return h&&h.length?m=Pfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Ife(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Ofe=function(e){var n=Gi(e),r=ai(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:A_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Qh(n,r)}},xI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fn(n,zs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Cfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ui(n&&n.type);return r&&r.indexOf("Bar")>=0})},SI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Fn(f,zs),g=Fn(f,Zo),v=Object.keys(l).reduce(function(T,P){var S=l[P],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},be({},E,T[E]+S.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(T,P){var S=a[P],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},be({},E,ir(T,"".concat(E))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=q(q({},b),v),w=_.bottom;m&&(_.bottom+=m.props.height||zs.defaultProps.height),g&&n&&(_=Qne(_,i,r,n));var x=u-_.left-_.right,O=d-_.top-_.bottom;return q(q({brushBottom:w},_),{},{width:Math.max(x,0),height:Math.max(O,0)})},jfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Rfe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,w){var x=w.graphicalItems,O=w.stackGroups,T=w.offset,P=w.updateId,S=w.dataStartIndex,E=w.dataEndIndex,I=_.barSize,C=_.layout,k=_.barGap,j=_.barCategoryGap,N=_.maxBarSize,U=SI(C),z=U.numericAxisName,G=U.cateAxisName,K=Cfe(x),F=[];return x.forEach(function(H,Q){var ne=Xm(_.data,{graphicalItems:[H],dataStartIndex:S,dataEndIndex:E}),B=H.type.defaultProps!==void 0?q(q({},H.type.defaultProps),H.props):H.props,Y=B.dataKey,Z=B.maxBarSize,se=B["".concat(z,"Id")],de=B["".concat(G,"Id")],ve={},Be=l.reduce(function(Qe,Le){var tt=w["".concat(Le.axisType,"Map")],zt=B["".concat(Le.axisType,"Id")];tt&&tt[zt]||Le.axisType==="zAxis"||ma(!1);var Oi=tt[zt];return q(q({},Qe),{},be(be({},Le.axisType,Oi),"".concat(Le.axisType,"Ticks"),ai(Oi)))},ve),ie=Be[G],ge=Be["".concat(G,"Ticks")],X=O&&O[se]&&O[se].hasStack&&fre(H,O[se].stackGroups),L=ui(H.type).indexOf("Bar")>=0,re=Qh(ie,ge),he=[],Ee=K&&Xne({barSize:I,stackGroups:O,totalSize:jfe(Be,G)});if(L){var Te,Ye,Rt=Pe(Z)?N:Z,Mt=(Te=(Ye=Qh(ie,ge,!0))!==null&&Ye!==void 0?Ye:Rt)!==null&&Te!==void 0?Te:0;he=Yne({barGap:k,barCategoryGap:j,bandSize:Mt!==re?Mt:re,sizeList:Ee[de],maxBarSize:Rt}),Mt!==re&&(he=he.map(function(Qe){return q(q({},Qe),{},{position:q(q({},Qe.position),{},{offset:Qe.position.offset-Mt/2})})}))}var Mn=H&&H.type&&H.type.getComposedData;Mn&&F.push({props:q(q({},Mn(q(q({},Be),{},{displayedData:ne,props:_,dataKey:Y,item:H,bandSize:re,barPosition:he,offset:T,stackedData:X,layout:C,dataStartIndex:S,dataEndIndex:E}))),{},be(be(be({key:H.key||"item-".concat(Q)},z,Be[z]),G,Be[G]),"animationId",P)),childIndex:Yz(H,_.children),item:H})}),F},m=function(_,w){var x=_.props,O=_.dataStartIndex,T=_.dataEndIndex,P=_.updateId;if(!RE({props:x}))return null;var S=x.children,E=x.layout,I=x.stackOffset,C=x.data,k=x.reverseStackOrder,j=SI(E),N=j.numericAxisName,U=j.cateAxisName,z=or(S,r),G=lre(C,z,"".concat(N,"Id"),"".concat(U,"Id"),I,k),K=l.reduce(function(B,Y){var Z="".concat(Y.axisType,"Map");return q(q({},B),{},be({},Z,kfe(x,q(q({},Y),{},{graphicalItems:z,stackGroups:Y.axisType===N&&G,dataStartIndex:O,dataEndIndex:T}))))},{}),F=Nfe(q(q({},K),{},{props:x,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(K).forEach(function(B){K[B]=d(x,K[B],F,B.replace("Map",""),n)});var H=K["".concat(U,"Map")],Q=Ofe(H),ne=h(x,q(q({},K),{},{dataStartIndex:O,dataEndIndex:T,updateId:P,graphicalItems:z,stackGroups:G,offset:F}));return q(q({formattedGraphicalItems:ne,graphicalItems:z,offset:F,stackGroups:G},Q),K)},g=function(b){function _(w){var x,O,T;return hfe(this,_),T=mfe(this,_,[w]),be(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),be(T,"accessibilityManager",new Zce),be(T,"handleLegendBBoxUpdate",function(P){if(P){var S=T.state,E=S.dataStartIndex,I=S.dataEndIndex,C=S.updateId;T.setState(q({legendBBox:P},m({props:T.props,dataStartIndex:E,dataEndIndex:I,updateId:C},q(q({},T.state),{},{legendBBox:P}))))}}),be(T,"handleReceiveSyncEvent",function(P,S,E){if(T.props.syncId===P){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),be(T,"handleBrushChange",function(P){var S=P.startIndex,E=P.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return q({dataStartIndex:S,dataEndIndex:E},m({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),be(T,"handleMouseEnter",function(P){var S=T.getMouseInfo(P);if(S){var E=q(q({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseEnter;Ae(I)&&I(E,P)}}),be(T,"triggeredAfterMouseMove",function(P){var S=T.getMouseInfo(P),E=S?q(q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var I=T.props.onMouseMove;Ae(I)&&I(E,P)}),be(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),be(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),be(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),be(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;Ae(E)&&E(S,P)}),be(T,"handleOuterEvent",function(P){var S=Xz(P),E=ir(T.props,"".concat(S));if(S&&Ae(E)){var I,C;/.*touch.*/i.test(S)?C=T.getMouseInfo(P.changedTouches[0]):C=T.getMouseInfo(P),E((I=C)!==null&&I!==void 0?I:{},P)}}),be(T,"handleClick",function(P){var S=T.getMouseInfo(P);if(S){var E=q(q({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var I=T.props.onClick;Ae(I)&&I(E,P)}}),be(T,"handleMouseDown",function(P){var S=T.props.onMouseDown;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),be(T,"handleMouseUp",function(P){var S=T.props.onMouseUp;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),be(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),be(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),be(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),be(T,"handleDoubleClick",function(P){var S=T.props.onDoubleClick;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),be(T,"handleContextMenu",function(P){var S=T.props.onContextMenu;if(Ae(S)){var E=T.getMouseInfo(P);S(E,P)}}),be(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&wy.emit(_y,T.props.syncId,P,T.eventEmitterSymbol)}),be(T,"applySyncEvent",function(P){var S=T.props,E=S.layout,I=S.syncMethod,C=T.state.updateId,k=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(q({dataStartIndex:k,dataEndIndex:j},m({props:T.props,dataStartIndex:k,dataEndIndex:j,updateId:C},T.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,z=P.activeTooltipIndex,G=T.state,K=G.offset,F=G.tooltipTicks;if(!K)return;if(typeof I=="function")z=I(F,P);else if(I==="value"){z=-1;for(var H=0;H<F.length;H++)if(F[H].value===P.activeLabel){z=H;break}}var Q=q(q({},K),{},{x:K.left,y:K.top}),ne=Math.min(N,Q.x+Q.width),B=Math.min(U,Q.y+Q.height),Y=F[z]&&F[z].value,Z=fb(T.state,T.props.data,z),se=F[z]?{x:E==="horizontal"?F[z].coordinate:ne,y:E==="horizontal"?B:F[z].coordinate}:xM;T.setState(q(q({},P),{},{activeLabel:Y,activeCoordinate:se,activePayload:Z,activeTooltipIndex:z}))}else T.setState(P)}),be(T,"renderCursor",function(P){var S,E=T.state,I=E.isTooltipActive,C=E.activeCoordinate,k=E.activePayload,j=E.offset,N=E.activeTooltipIndex,U=E.tooltipAxisBandSize,z=T.getTooltipEventType(),G=(S=P.props.active)!==null&&S!==void 0?S:I,K=T.props.layout,F=P.key||"_recharts-cursor";return $.createElement(afe,{key:F,activeCoordinate:C,activePayload:k,activeTooltipIndex:N,chartName:n,element:P,isActive:G,layout:K,offset:j,tooltipAxisBandSize:U,tooltipEventType:z})}),be(T,"renderPolarAxis",function(P,S,E){var I=ir(P,"type.axisType"),C=ir(T.state,"".concat(I,"Map")),k=P.type.defaultProps,j=k!==void 0?q(q({},k),P.props):P.props,N=C&&C[j["".concat(I,"Id")]];return D.cloneElement(P,q(q({},N),{},{className:Re(I,N.className),key:P.key||"".concat(S,"-").concat(E),ticks:ai(N,!0)}))}),be(T,"renderPolarGrid",function(P){var S=P.props,E=S.radialLines,I=S.polarAngles,C=S.polarRadius,k=T.state,j=k.radiusAxisMap,N=k.angleAxisMap,U=Gi(j),z=Gi(N),G=z.cx,K=z.cy,F=z.innerRadius,H=z.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(I)?I:ai(z,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(C)?C:ai(U,!0).map(function(Q){return Q.coordinate}),cx:G,cy:K,innerRadius:F,outerRadius:H,key:P.key||"polar-grid",radialLines:E})}),be(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,S=T.props,E=S.children,I=S.width,C=S.height,k=T.props.margin||{},j=I-(k.left||0)-(k.right||0),N=dR({children:E,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!N)return null;var U=N.item,z=vI(N,sfe);return D.cloneElement(U,q(q({},z),{},{chartWidth:I,chartHeight:C,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),be(T,"renderTooltip",function(){var P,S=T.props,E=S.children,I=S.accessibilityLayer,C=Fn(E,Cr);if(!C)return null;var k=T.state,j=k.isTooltipActive,N=k.activeCoordinate,U=k.activePayload,z=k.activeLabel,G=k.offset,K=(P=C.props.active)!==null&&P!==void 0?P:j;return D.cloneElement(C,{viewBox:q(q({},G),{},{x:G.left,y:G.top}),active:K,label:z,payload:K?U:[],coordinate:N,accessibilityLayer:I})}),be(T,"renderBrush",function(P){var S=T.props,E=S.margin,I=S.data,C=T.state,k=C.offset,j=C.dataStartIndex,N=C.dataEndIndex,U=C.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:od(T.handleBrushChange,P.props.onChange),data:I,x:ae(P.props.x)?P.props.x:k.left,y:ae(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:ae(P.props.width)?P.props.width:k.width,startIndex:j,endIndex:N,updateId:"brush-".concat(U)})}),be(T,"renderReferenceElement",function(P,S,E){if(!P)return null;var I=T,C=I.clipPathId,k=T.state,j=k.xAxisMap,N=k.yAxisMap,U=k.offset,z=P.type.defaultProps||{},G=P.props,K=G.xAxisId,F=K===void 0?z.xAxisId:K,H=G.yAxisId,Q=H===void 0?z.yAxisId:H;return D.cloneElement(P,{key:P.key||"".concat(S,"-").concat(E),xAxis:j[F],yAxis:N[Q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),be(T,"renderActivePoints",function(P){var S=P.item,E=P.activePoint,I=P.basePoint,C=P.childIndex,k=P.isRange,j=[],N=S.props.key,U=S.item.type.defaultProps!==void 0?q(q({},S.item.type.defaultProps),S.item.props):S.item.props,z=U.activeDot,G=U.dataKey,K=q(q({index:C,dataKey:G,cx:E.x,cy:E.y,r:4,fill:J_(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ce(z,!1)),xh(z));return j.push(_.renderActiveDot(z,K,"".concat(N,"-activePoint-").concat(C))),I?j.push(_.renderActiveDot(z,q(q({},K),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(C))):k&&j.push(null),j}),be(T,"renderGraphicChild",function(P,S,E){var I=T.filterFormatItem(P,S,E);if(!I)return null;var C=T.getTooltipEventType(),k=T.state,j=k.isTooltipActive,N=k.tooltipAxis,U=k.activeTooltipIndex,z=k.activeLabel,G=T.props.children,K=Fn(G,Cr),F=I.props,H=F.points,Q=F.isRange,ne=F.baseLine,B=I.item.type.defaultProps!==void 0?q(q({},I.item.type.defaultProps),I.item.props):I.item.props,Y=B.activeDot,Z=B.hide,se=B.activeBar,de=B.activeShape,ve=!!(!Z&&j&&K&&(Y||se||de)),Be={};C!=="axis"&&K&&K.props.trigger==="click"?Be={onClick:od(T.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(Be={onMouseLeave:od(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:od(T.handleItemMouseEnter,P.props.onMouseEnter)});var ie=D.cloneElement(P,q(q({},I.props),Be));function ge(Le){return typeof N.dataKey=="function"?N.dataKey(Le.payload):null}if(ve)if(U>=0){var X,L;if(N.dataKey&&!N.allowDuplicatedCategory){var re=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());X=_h(H,re,z),L=Q&&ne&&_h(ne,re,z)}else X=H==null?void 0:H[U],L=Q&&ne&&ne[U];if(de||se){var he=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[D.cloneElement(P,q(q(q({},I.props),Be),{},{activeIndex:he})),null,null]}if(!Pe(X))return[ie].concat(Zs(T.renderActivePoints({item:I,activePoint:X,basePoint:L,childIndex:U,isRange:Q})))}else{var Ee,Te=(Ee=T.getItemByXY(T.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ie},Ye=Te.graphicalItem,Rt=Ye.item,Mt=Rt===void 0?P:Rt,Mn=Ye.childIndex,Qe=q(q(q({},I.props),Be),{},{activeIndex:Mn});return[D.cloneElement(Mt,Qe),null,null]}return Q?[ie,null,null]:[ie,null]}),be(T,"renderCustomized",function(P,S,E){return D.cloneElement(P,q(q({key:"recharts-customized-".concat(E)},T.props),T.state))}),be(T,"renderMap",{CartesianGrid:{handler:cd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:cd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:cd},YAxis:{handler:cd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:Jc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=fj(T.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return vfe(_,b),pfe(_,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,T=x.data,P=x.height,S=x.layout,E=Fn(O,Cr);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=fb(this.state,T,I,C),j=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,U=S==="horizontal",z=U?{x:j,y:N}:{y:j,x:N},G=this.state.formattedGraphicalItems.find(function(F){var H=F.item;return H.type.name==="Scatter"});G&&(z=q(q({},z),G.props.points[I].tooltipPosition),k=G.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:z};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){zv([Fn(x.children,Cr)],[Fn(this.props.children,Cr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Fn(this.props.children,Cr);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),P=wJ(T),S={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},E=T.width/O.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,E);if(!I)return null;var C=this.state,k=C.xAxisMap,j=C.yAxisMap,N=this.getTooltipEventType(),U=_I(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&k&&j){var z=Gi(k).scale,G=Gi(j).scale,K=z&&z.invert?z.invert(S.chartX):null,F=G&&G.invert?G.invert(S.chartY):null;return q(q({},S),{},{xValue:K,yValue:F},U)}return U?q(q({},S),U):null}},{key:"inRange",value:function(x,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=x/T,E=O/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,C=S>=I.left&&S<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return C?{x:S,y:E}:null}var k=this.state,j=k.angleAxisMap,N=k.radiusAxisMap;if(j&&N){var U=Gi(j);return KA({x:S,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),T=Fn(x,Cr),P={};T&&O==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=xh(this.props,this.handleOuterEvent);return q(q({},S),P)}},{key:"addListener",value:function(){wy.on(_y,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wy.removeListener(_y,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,T){for(var P=this.state.formattedGraphicalItems,S=0,E=P.length;S<E;S++){var I=P[S];if(I.item===x||I.props.key===x.key||O===ui(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,T=O.left,P=O.top,S=O.height,E=O.width;return $.createElement("defs",null,$.createElement("clipPath",{id:x},$.createElement("rect",{x:T,y:P,height:S,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,T){var P=yI(T,2),S=P[0],E=P[1];return q(q({},O),{},be({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,T){var P=yI(T,2),S=P[0],E=P[1];return q(q({},O),{},be({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,T=O.formattedGraphicalItems,P=O.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var I=T[S],C=I.props,k=I.item,j=k.type.defaultProps!==void 0?q(q({},k.type.defaultProps),k.props):k.props,N=ui(k.type);if(N==="Bar"){var U=(C.data||[]).find(function(F){return tae(x,F)});if(U)return{graphicalItem:I,payload:U}}else if(N==="RadialBar"){var z=(C.data||[]).find(function(F){return KA(x,F)});if(z)return{graphicalItem:I,payload:z}}else if(Fm(I,P)||Bm(I,P)||Ac(I,P)){var G=ise({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),K=j.activeIndex===void 0?G:j.activeIndex;return{graphicalItem:q(q({},I),{},{childIndex:K}),payload:Ac(I,P)?j.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var x=this;if(!RE(this))return null;var O=this.props,T=O.children,P=O.className,S=O.width,E=O.height,I=O.style,C=O.compact,k=O.title,j=O.desc,N=vI(O,lfe),U=Ce(N,!1);if(C)return $.createElement(qP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Gv,es({},U,{width:S,height:E,title:k,desc:j}),this.renderClipPath(),DE(T,this.renderMap)));if(this.props.accessibilityLayer){var z,G;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(F){x.accessibilityManager.keyboardEvent(F)},U.onFocus=function(){x.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return $.createElement(qP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",es({className:Re("recharts-wrapper",P),style:q({position:"relative",cursor:"default",width:S,height:E},I)},K,{ref:function(H){x.container=H}}),$.createElement(Gv,es({},U,{width:S,height:E,title:k,desc:j,style:Efe}),this.renderClipPath(),DE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);be(g,"displayName",n),be(g,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),be(g,"getDerivedStateFromProps",function(b,_){var w=b.dataKey,x=b.data,O=b.children,T=b.width,P=b.height,S=b.layout,E=b.stackOffset,I=b.margin,C=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var j=xI(b);return q(q(q({},j),{},{updateId:0},m(q(q({props:b},j),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(w!==_.prevDataKey||x!==_.prevData||T!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||E!==_.prevStackOffset||!fs(I,_.prevMargin)){var N=xI(b),U={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},z=q(q({},_I(_,x,S)),{},{updateId:_.updateId+1}),G=q(q(q({},N),U),z);return q(q(q({},G),m(q({props:b},G),_)),{},{prevDataKey:w,prevData:x,prevWidth:T,prevHeight:P,prevLayout:S,prevStackOffset:E,prevMargin:I,prevChildren:O})}if(!zv(O,_.prevChildren)){var K,F,H,Q,ne=Fn(O,zs),B=ne&&(K=(F=ne.props)===null||F===void 0?void 0:F.startIndex)!==null&&K!==void 0?K:C,Y=ne&&(H=(Q=ne.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&H!==void 0?H:k,Z=B!==C||Y!==k,se=!Pe(x),de=se&&!Z?_.updateId:_.updateId+1;return q(q({updateId:de},m(q(q({props:b},_),{},{updateId:de,dataStartIndex:B,dataEndIndex:Y}),_)),{},{prevChildren:O,dataStartIndex:B,dataEndIndex:Y})}return null}),be(g,"renderActiveDot",function(b,_,w){var x;return D.isValidElement(b)?x=D.cloneElement(b,_):Ae(b)?x=b(_):x=$.createElement(ex,_),$.createElement(bt,{className:"recharts-active-dot",key:w},x)});var v=D.forwardRef(function(_,w){return $.createElement(g,es({},_,{ref:w}))});return v.displayName=g.displayName,v},Mfe=Rfe({chartName:"LineChart",GraphicalChild:sf,axisComponents:[{axisType:"xAxis",AxisComp:qm},{axisType:"yAxis",AxisComp:Km}],formatAxisMap:kle});const Dfe=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),$fe=({className:t=""})=>p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"12",r:"3"}),p.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Lfe=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("circle",{cx:"12",cy:"8",r:"4"}),p.jsx("path",{d:"M4 20c0-4 4-7 8-7s8 3 8 7"})]}),EM=({className:t=""})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"orange",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("path",{d:"M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07M12 2a10 10 0 000 20V2zM2 12h20"})]}),Vfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[p.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),p.jsx("polyline",{points:"16 6 12 2 8 6"}),p.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),Ffe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Bfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[p.jsx("circle",{cx:"12",cy:"12",r:"5"}),p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),p.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),p.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),p.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),p.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),p.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Ufe=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:p.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),zfe=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[p.jsx("path",{d:"M3 3v18h18"}),p.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Wfe=({className:t=""})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-5 w-5 transition-transform ${t}`,children:p.jsx("polyline",{points:"9 18 15 12 9 6"})}),wp=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),TM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Gfe({graphData:t,onClose:e}){if(!t)return null;const{statName:n,data:r}=t;return p.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-3xl border border-gray-200 dark:border-gray-700",onClick:i=>i.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-2xl font-bold text-orange-500",children:[n," Over Time"]}),p.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:p.jsx(TM,{})})]}),p.jsx("div",{style:{width:"100%",height:300},children:p.jsx(hJ,{children:p.jsxs(Mfe,{data:r,margin:{top:5,right:20,left:0,bottom:25},children:[p.jsx(sM,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(qm,{dataKey:"date",stroke:"#6b7280",tick:{fontSize:12},interval:"preserveEnd"}),p.jsx(Km,{stroke:"#6b7280"}),p.jsx(Cr,{content:({active:i,payload:o,label:a})=>{if(!i||!(o!=null&&o.length))return null;const s=o[0].payload;return p.jsxs("div",{className:"rounded bg-gray-900 text-gray-100 px-4 py-2 text-xs border border-gray-800",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Date:"})," ",s.date]}),s.team&&s.opponent&&p.jsxs("div",{children:[p.jsx("strong",{children:"Teams:"})," ",s.team," vs ",s.opponent]}),p.jsxs("div",{children:[p.jsxs("strong",{children:[n,":"]})," ",s.value]})]})}}),p.jsx(Zo,{wrapperStyle:{color:"#e2e8f0"}}),p.jsx(sf,{type:"monotone",dataKey:"value",name:n,stroke:"#f97316",strokeWidth:2,dot:{r:4,fill:"#f97316"},activeDot:{r:8,fill:"#f97316"}})]})})})]})})}const Hfe={DOUBLE_DIGITS:{id:"double_digits",name:"Double Digits",emoji:"🏀",description:"10+ points in a game",check:t=>(t.points||0)>=10},BIG_GAME:{id:"big_game",name:"Big Game",emoji:"🔥",description:"20+ points in a game",check:t=>(t.points||0)>=20},PERFECT_SHOOTER:{id:"perfect_shooter",name:"Perfect Shooter",emoji:"💯",description:"100% shooting (3+ attempts)",check:t=>{const e=(t.fg2m||0)+(t.fg3m||0),n=(t.fg2a||0)+(t.fg3a||0);return n>=3&&e===n}},PERFECT_FREE_THROWS:{id:"perfect_free_throws",name:"Perfect Free Throws",emoji:"🎯",description:"100% free throws (3+ attempts)",check:t=>{const e=t.ftm||0,n=t.fta||0;return n>=3&&e===n}},SHARPSHOOTER:{id:"sharpshooter",name:"Sharpshooter",emoji:"🎯",description:"3+ three-pointers made",check:t=>(t.fg3m||0)>=3},PLAYMAKER:{id:"playmaker",name:"Playmaker",emoji:"🤝",description:"5+ assists in a game",check:t=>(t.assists||0)>=5},DEFENDER:{id:"defender",name:"Defender",emoji:"🛡️",description:"3+ steals or blocks",check:t=>(t.steals||0)+(t.blocks||0)>=3},HUSTLE:{id:"hustle",name:"Hustle",emoji:"💪",description:"10+ rebounds in a game",check:t=>(t.rebounds||0)>=10},TRIPLE_DOUBLE:{id:"triple_double",name:"Triple Double",emoji:"⭐",description:"10+ in three stat categories",check:t=>[t.points||0,t.rebounds||0,t.assists||0,t.steals||0,t.blocks||0].filter(n=>n>=10).length>=3},NO_TURNOVERS:{id:"no_turnovers",name:"Clean Game",emoji:"✨",description:"Zero turnovers",check:t=>(t.turnovers||0)===0},ASSIST_MACHINE:{id:"assist_machine",name:"Assist Machine",emoji:"🎪",description:"8+ assists in a game",check:t=>(t.assists||0)>=8}},qfe=t=>{const e=[];return Object.values(Hfe).forEach(n=>{n.check(t)&&e.push(n)}),e},Kfe=({badge:t,size:e="sm"})=>{const n={xs:"text-xs px-1 py-0.5",sm:"text-sm px-2 py-1",md:"text-base px-3 py-1.5",lg:"text-lg px-4 py-2"};return p.jsxs("span",{className:`inline-flex items-center gap-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full font-medium ${n[e]}`,title:t.description,children:[p.jsx("span",{children:t.emoji}),p.jsx("span",{className:"hidden sm:inline",children:t.name})]})},Xfe=({badges:t})=>t.length===0?null:p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"🏆"}),p.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:[t.length," achievement",t.length!==1?"s":""]}),p.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,3).map((e,n)=>p.jsx("span",{className:"text-sm",title:e.name,children:e.emoji},e.id)),t.length>3&&p.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-3]})]})]}),Yfe=({badges:t})=>t.length===0?p.jsx("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-800 rounded text-center text-gray-500 dark:text-gray-400 text-sm",children:"No achievements this game"}):p.jsxs("div",{className:"mt-3",children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"🏆 Achievements"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>p.jsx(Kfe,{badge:e,size:"sm"},e.id))})]}),Qfe=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Jfe=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Zfe=({gameId:t,photos:e=[],onPhotosUpdate:n})=>{const[r,i]=D.useState(!1),[o,a]=D.useState(""),[s,l]=D.useState(""),u=()=>{if(!o.trim())return;try{new URL(o.trim())}catch{alert("Please enter a valid URL");return}const f=o.includes("icloud.com"),h={id:Date.now()+Math.random(),url:o.trim(),description:s.trim()||"Game photo",timestamp:new Date().toISOString(),isICloudLink:f};if(!(f&&!window.confirm(`⚠️ iCloud links only work for people signed into your iCloud account.

For family sharing, consider:
• Google Photos (shareable links)
• iCloud Shared Albums
• Dropbox/OneDrive public links

Continue with iCloud link anyway?`)))try{const m=[...e,h];n(t,m),a(""),l(""),i(!1)}catch(m){console.error("Error adding photo:",m),alert("Error adding photo. Please try again.")}},d=f=>{const h=e.filter(m=>m.id!==f);n(t,h)};return p.jsxs("div",{className:"mt-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"📸 Game Photos"}),p.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded",children:[p.jsx(Jfe,{className:"w-3 h-3"}),"Add Photo"]})]}),r&&p.jsxs("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg space-y-2",children:[p.jsx("input",{type:"url",placeholder:"Paste photo URL (Google Photos, iCloud, etc.)",value:o,onChange:f=>a(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),p.jsx("input",{type:"text",placeholder:"Photo description (optional)",value:s,onChange:f=>l(f.target.value),className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:u,disabled:!o.trim(),className:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded",children:"Add"}),p.jsx("button",{onClick:()=>{i(!1),a(""),l("")},className:"px-3 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}),p.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",p.jsx("strong",{children:"Best for family sharing:"})," Google Photos, iCloud Shared Albums, Dropbox",p.jsx("br",{}),"📱 ",p.jsx("strong",{children:"iCloud links:"})," Only work for people signed into your iCloud account"]})]}),e.length>0&&p.jsx("div",{className:"space-y-2",children:e.map(f=>p.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[p.jsx("img",{src:f.url,alt:f.description,className:"w-12 h-12 object-cover rounded cursor-pointer",onClick:()=>window.open(f.url,"_blank"),onError:h=>{h.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzYiIGZpbGw9IiNEMUQ1REIiLz4KPC9zdmc+"}}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[f.description,f.isICloudLink&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",title:"iCloud link - only visible to account owner",children:"☁️"})]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleDateString()})]}),p.jsx("button",{onClick:()=>d(f.id),className:"p-1 text-red-400 hover:text-red-600 rounded",children:"×"})]},f.id))}),e.length===0&&!r&&p.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-xs",children:"No photos yet. Add some game memories!"})]})},ede=({photos:t=[]})=>t.length===0?null:p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx(Qfe,{className:"w-3 h-3 text-gray-500"}),p.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[t.length," photo",t.length!==1?"s":""]}),p.jsxs("div",{className:"flex gap-0.5",children:[t.slice(0,2).map(e=>p.jsx("img",{src:e.url,alt:e.description,className:"w-4 h-4 object-cover rounded cursor-pointer",onClick:n=>{n.stopPropagation(),window.open(e.url,"_blank")},onError:n=>{n.target.style.display="none"}},e.id)),t.length>2&&p.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.length-2]})]})]}),tde=Zfe,nde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function rde({games:t=[],filters:e,onFiltersChange:n,onClose:r,className:i=""}){const o=D.useRef(null);D.useEffect(()=>{const f=h=>{o.current&&!o.current.contains(h.target)&&(h.target.closest("[data-filter-button]")||r&&r())};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const a=[...new Set(t.map(f=>f.opponent).filter(Boolean))].sort(),s=[...new Set(t.map(f=>f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:f.date?f.date:null).filter(Boolean))].sort().reverse(),l=e.searchTerm||e.dateFilter||e.outcomeFilter,u=()=>{n({searchTerm:"",dateFilter:"",outcomeFilter:""}),setTimeout(()=>r&&r(),100)},d=(f,h)=>{const m={...e,[f]:h};n(m),setTimeout(()=>r&&r(),400)};return p.jsx("div",{ref:o,className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 transform transition-all duration-300 ease-out opacity-100 scale-100",children:p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filter Games"}),l&&p.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-orange-500 hover:text-orange-600 transition-colors",children:[p.jsx(nde,{className:"w-3 h-3"}),"Clear"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opponent"}),p.jsxs("select",{value:e.searchTerm||"",onChange:f=>d("searchTerm",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All opponents"}),a.map((f,h)=>p.jsx("option",{value:f,children:f},h))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Game Date"}),p.jsxs("select",{value:e.dateFilter||"",onChange:f=>d("dateFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All dates"}),s.map((f,h)=>p.jsx("option",{value:f,children:new Date(f).toLocaleDateString()},h))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Result"}),p.jsxs("select",{value:e.outcomeFilter||"",onChange:f=>d("outcomeFilter",f.target.value),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded p-2 text-sm focus:ring-orange-500 focus:ring-1 outline-none transition-colors",children:[p.jsx("option",{value:"",children:"All games"}),p.jsx("option",{value:"W",children:"Wins"}),p.jsx("option",{value:"L",children:"Losses"}),p.jsx("option",{value:"T",children:"Ties"})]})]}),l&&p.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Active filters:"}),e.searchTerm&&p.jsxs("span",{className:"block",children:["• Opponent: ",e.searchTerm]}),e.dateFilter&&p.jsxs("span",{className:"block",children:["• Date: ",new Date(e.dateFilter).toLocaleDateString()]}),e.outcomeFilter&&p.jsxs("span",{className:"block",children:["• Result: ",e.outcomeFilter==="W"?"Wins":e.outcomeFilter==="L"?"Losses":"Ties"]})]})]})})}function ide({game:t,onClose:e}){if(!t)return null;const n=t.fg2m*2+t.fg3m*3+t.ftm,r=t.periodBreakdown||ode(t),i=t.gameFormat==="halves"||t.numPeriods===2,o=i?"Half":"Period",a=i?2:4;return p.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700",onClick:s=>s.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold text-orange-500",children:"Points Breakdown"}),p.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:p.jsx(TM,{})})]}),p.jsxs("div",{className:"mb-4 text-center",children:[p.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:[t.teamName," vs ",t.opponent]}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(t.timestamp).toLocaleDateString()})]}),p.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 mb-4 text-center",children:[p.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:n}),p.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Points"})]}),p.jsxs("div",{className:"space-y-3 mb-4",children:[p.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:[o," Breakdown"]}),Array.from({length:a},(s,l)=>{const u=l+1,d=r[u]||0;return p.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o," ",u]}),p.jsxs("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:[d," pts"]})]},u)})]}),p.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[p.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Shooting Breakdown"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:t.fg2m*2||0}),p.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"2-Pointers"}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[t.fg2m||0,"/",t.fg2a||0]})]}),p.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:t.fg3m*3||0}),p.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"3-Pointers"}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[t.fg3m||0,"/",t.fg3a||0]})]}),p.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:t.ftm||0}),p.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Free Throws"}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[t.ftm||0,"/",t.fta||0]})]})]})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg",children:"Close"})})]})})}function ode(t){const e=t.fg2m*2+t.fg3m*3+t.ftm,n=t.gameFormat==="halves"||t.numPeriods===2,r=n?2:4,i={};if(e===0){for(let s=1;s<=r;s++)i[s]=0;return i}const o=n?[.45,.55]:[.22,.28,.24,.26];let a=e;for(let s=0;s<r-1;s++){const l=Math.round(e*o[s]);i[s+1]=Math.min(l,a),a-=i[s+1]}return i[r]=a,i}const ade=["niyengar@gmail.com","goofygal1@gmail.com","maighnaj@gmail.com","syon.iyengar@gmail.com"],co=t=>!t||!t.email||t.isAnonymous?!1:ade.includes(t.email.toLowerCase()),Vi=t=>co(t),_p=t=>co(t),sde=t=>co(t),Sy=t=>co(t),lde=t=>!t||t.isAnonymous?"guest":co(t)?"admin":"viewer",Kt=(t="perform this action")=>{alert(`Access denied. Only administrators can ${t}.`)},AM=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),db=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),jd=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6m0 12L6 6"})}),Ey=({className:t=""})=>p.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ude=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),cde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),fde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),dde=({className:t=""})=>p.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),hde=({isExpanded:t,className:e=""})=>p.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`}),qe=({label:t,value:e,onClick:n,clickable:r,onEdit:i,editable:o,isEditing:a,editValue:s,onEditChange:l,onSave:u,onCancel:d,gameId:f})=>p.jsxs("div",{className:`bg-gray-100 dark:bg-gray-700 flex flex-col rounded-lg p-2 items-center min-w-[70px] transition cursor-pointer ${r?"hover:shadow-lg hover:bg-orange-50 dark:hover:bg-orange-900":""} ${a?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-600":""}`,onClick:r?n:void 0,children:[p.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[p.jsx("span",{className:"text-xs text-orange-500",children:t}),o&&!a&&p.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-0.5 text-gray-400 hover:text-blue-500 transition",title:`Edit ${t}`,children:p.jsx(AM,{className:"w-2 h-2"})})]}),a?p.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[p.jsx("input",{type:"number",value:s===0?"":s,onChange:h=>l(h.target.value===""?0:parseInt(h.target.value)||0),className:"w-full text-center text-sm px-1 py-0.5 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"0",onClick:h=>h.stopPropagation(),onFocus:h=>h.target.select(),onKeyDown:h=>{h.key==="Enter"&&(h.stopPropagation(),u()),h.key==="Escape"&&(h.stopPropagation(),d())},autoFocus:!0}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:"p-0.5 text-green-500 hover:text-green-600 bg-green-50 dark:bg-green-900/20 rounded",title:"Save",children:p.jsx(db,{className:"w-3 h-3"})}),p.jsx("button",{onClick:h=>{h.stopPropagation(),d()},className:"p-0.5 text-gray-500 hover:text-gray-600 bg-gray-50 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(jd,{className:"w-3 h-3"})})]})]}):p.jsx("span",{className:"text-2xl font-bold text-black dark:text-white",children:e})]});function pde(t){const e=new Date("2016-11-01"),n={};return t.forEach(r=>{if(!r.timestamp)return;const i=new Date(r.timestamp);let o=i.getFullYear()-e.getFullYear();(i.getMonth()<10||i.getMonth()===10&&i.getDate()<1)&&(o-=1),!(o<8)&&(n[o]||(n[o]={value:0,date:`Age ${o}`,team:r.teamName,opponent:r.opponent}),n[o].value+=1)}),Object.entries(n).map(([r,i])=>({...i,date:i.date})).sort((r,i)=>Number(r.date.split(" ")[1])-Number(i.date.split(" ")[1]))}function mde({user:t,stats:e=[],teams:n=[],onDeleteGame:r,onUpdateGamePhotos:i,onUpdateGame:o,onDeleteTeam:a,onAddTeam:s,externalFilters:l={},isUserAdmin:u=!1}){D.useState("");const[d,f]=D.useState(null),[h,m]=D.useState(""),[g,v]=D.useState(""),[b,_]=D.useState(""),[w,x]=D.useState(!1),[O,T]=D.useState([]),[P,S]=D.useState(!0),[E,I]=D.useState(1),[C,k]=D.useState(null),[j,N]=D.useState(null);D.useState(!1);const[U,z]=D.useState([]),[G,K]=D.useState(!1),[F,H]=D.useState(!1),[Q,ne]=D.useState(null),[B,Y]=D.useState(null),[Z,se]=D.useState({}),[de,ve]=D.useState(null),Be=4,[ie,ge]=D.useState(null),X=D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ue=>{ue.opponent&&M.add(ue.opponent.trim())}),Array.from(M)},[e]);D.useMemo(()=>{const M=new Set;return(e||[]).forEach(ue=>{ue.location&&M.add(ue.location.trim())}),Array.from(M)},[e]),D.useMemo(()=>{const M=new Map;for(const ue of n)ue&&ue.id&&!M.has(ue.name.toLowerCase())&&M.set(ue.name.toLowerCase(),ue);return Array.from(M.values())},[n]),D.useMemo(()=>h?X.filter(M=>M.toLowerCase().includes(h.toLowerCase())).slice(0,7):[],[X,h]);const L=(e||[]).reduce((M,ue)=>(M.points=(M.points||0)+(parseInt(ue.points,10)||0),M.fg2m=(M.fg2m||0)+(parseInt(ue.fg2m,10)||0),M.fg2a=(M.fg2a||0)+(parseInt(ue.fg2a,10)||0),M.fg3m=(M.fg3m||0)+(parseInt(ue.fg3m,10)||0),M.fg3a=(M.fg3a||0)+(parseInt(ue.fg3a,10)||0),M.ftm=(M.ftm||0)+(parseInt(ue.ftm,10)||0),M.fta=(M.fta||0)+(parseInt(ue.fta,10)||0),M.rebounds=(M.rebounds||0)+(parseInt(ue.rebounds,10)||0),M.assists=(M.assists||0)+(parseInt(ue.assists,10)||0),M.steals=(M.steals||0)+(parseInt(ue.steals,10)||0),M.blocks=(M.blocks||0)+(parseInt(ue.blocks,10)||0),M.fouls=(M.fouls||0)+(parseInt(ue.fouls,10)||0),M.turnovers=(M.turnovers||0)+(parseInt(ue.turnovers,10)||0),M.gamesPlayed=(M.gamesPlayed||0)+1,M),{}),re=(L.fg2m||0)+(L.fg3m||0),he=(L.fg2a||0)+(L.fg3a||0),Ee=(M,ue)=>!ue||ue===0?"0%":`${Math.round(M/ue*100)}%`,Te=(M,ue)=>!ue||ue===0?M>0?`${M.toFixed(1)}`:"0.0":(M/ue).toFixed(2),Ye=D.useMemo(()=>{let M=[...e||[]];return h&&(M=M.filter(ue=>(ue.opponent||"").toLowerCase().includes(h.toLowerCase()))),g&&(M=M.filter(ue=>{let Ve="";return ue.timestamp?Ve=new Date(ue.timestamp).toISOString().split("T")[0]:ue.date&&(Ve=ue.date),Ve===g})),b&&(M=M.filter(ue=>ue.outcome===b)),M.sort((ue,Ve)=>ue.timestamp<Ve.timestamp?1:ue.timestamp>Ve.timestamp?-1:0),M},[e,h,g,b]),Rt=D.useMemo(()=>{const M=(E-1)*Be;return Ye.slice(M,M+Be)},[Ye,E]),Mt=Math.ceil(Ye.length/Be),Mn=(M,ue,Ve={})=>{if(!Vi(t)){Kt("edit games");return}ne(M),Y(ue),se(Ve),ve(null)},Qe=(M,ue,Ve)=>{if(!Vi(t)){Kt("edit stats");return}ne(M),Y("stats"),ve(ue),se({[ue]:Ve})},Le=()=>{ne(null),Y(null),se({}),ve(null)},tt=async()=>{if(!(!Q||!o))try{if(B==="stats"){const M={...Z};if(["fg2m","fg3m","ftm"].some(ue=>ue in M)){const ue=e.find(Ve=>Ve.id===Q);if(ue){const Ve={...ue,...M};M.points=Ve.fg2m*2+Ve.fg3m*3+Ve.ftm}}await o(Q,M)}else await o(Q,Z);Le()}catch(M){console.error("Error updating game:",M),alert("Failed to update game. Please try again.")}},zt=(M,ue)=>{if(M==="gamesPlayed")f({statKey:M,statName:"Games Played per Age",data:pde(e)});else{const Ve=[...e].sort((yn,_t)=>(yn.timestamp||0)-(_t.timestamp||0)).map(yn=>({value:M==="assistTurnoverRatio"?yn.turnovers?(yn.assists/yn.turnovers).toFixed(2):"0.00":yn[M]||0,date:new Date(yn.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),team:yn.teamName,opponent:yn.opponent}));f({statKey:M,statName:ue,data:Ve})}},Oi=()=>{if(!u){Kt("select and delete games");return}K(!G),z([])},Ta=M=>{u&&z(ue=>ue.includes(M)?ue.filter(Ve=>Ve!==M):[...ue,M])},Dt=()=>{if(!u)return;const M=Rt.map(ue=>ue.id);z(M)},Wt=()=>{z([])},Aa=()=>{if(!_p(t)){Kt("delete games");return}H(!0)},lf=()=>{U.forEach(M=>{r(M)}),z([]),K(!1),H(!1)},uf=M=>{if(!_p(t)){Kt("delete games");return}k(M)},Ym=()=>{C&&(r(C),k(null))},Ao=()=>{j&&(a(j),N(null))},cf=M=>{G||T(ue=>ue.includes(M)?ue.filter(Ve=>Ve!==M):[...ue,M])},wt=M=>M==null||M===""?0:M,wl=M=>{if(!M)return"No date";const ue=new Date(M);return ue.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+ue.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})};return p.jsxs("div",{children:[d&&p.jsx(Gfe,{graphData:d,onClose:()=>f(null)}),ie&&p.jsx(ide,{game:ie,onClose:()=>ge(null)}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-1 space-y-6",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-500",children:"Career Totals"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[p.jsx(qe,{label:"Games Played",value:L.gamesPlayed||0}),p.jsx(qe,{label:"Points",value:L.points||0,clickable:!0,onClick:()=>zt("points","Points")}),p.jsx(qe,{label:"Rebounds",value:L.rebounds||0,clickable:!0,onClick:()=>zt("rebounds","Rebounds")}),p.jsx(qe,{label:"Assists",value:L.assists||0,clickable:!0,onClick:()=>zt("assists","Assists")}),p.jsx(qe,{label:"Steals",value:L.steals||0,clickable:!0,onClick:()=>zt("steals","Steals")}),p.jsx(qe,{label:"Blocks",value:L.blocks||0,clickable:!0,onClick:()=>zt("blocks","Blocks")}),p.jsx(qe,{label:"Fouls",value:L.fouls||0,clickable:!0,onClick:()=>zt("fouls","Fouls")}),p.jsx(qe,{label:"Turnovers",value:L.turnovers||0,clickable:!0,onClick:()=>zt("turnovers","Turnovers")}),p.jsx(qe,{label:"A/T Ratio",value:Te(L.assists,L.turnovers)})]}),p.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4"}),p.jsx("h4",{className:"text-lg font-bold mb-3 text-orange-500",children:"Shooting"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[p.jsx(qe,{label:"FG%",value:Ee(re,he)}),p.jsx(qe,{label:"FT%",value:Ee(L.ftm,L.fta)}),p.jsx(qe,{label:"2-Point %",value:Ee(L.fg2m,L.fg2a)}),p.jsx(qe,{label:"3-Point %",value:Ee(L.fg3m,L.fg3a)})]})]})}),p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col items-center mb-4 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>S(!P),children:[p.jsx(hde,{isExpanded:P}),p.jsx("h2",{className:"text-2xl font-bold text-orange-500 mt-2",children:"Game History"}),(h||g||b)&&p.jsxs("div",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:["Showing ",Ye.length," of ",(e||[]).length," games",h&&p.jsxs("span",{className:"block text-xs",children:["• Opponent: ",h]}),g&&p.jsxs("span",{className:"block text-xs",children:["• Date: ",new Date(g).toLocaleDateString()]}),b&&p.jsxs("span",{className:"block text-xs",children:["• Result: ",b==="W"?"Wins":b==="L"?"Losses":"Ties"]})]})]}),P&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"flex items-center gap-2",children:u&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:Oi,className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${G?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:G?"Cancel selection":"Select multiple games",children:[G?p.jsx(jd,{className:"h-4 w-4 sm:h-3 sm:w-3"}):p.jsx(ude,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:G?"Cancel":"Select"}),p.jsx("span",{className:"hidden sm:inline",children:G?"Cancel":"Select"})]}),G&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:Dt,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Select all games on this page",children:[p.jsx(cde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"All"}),p.jsx("span",{className:"hidden sm:inline",children:"All"})]}),p.jsxs("button",{onClick:Wt,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-gray-500 text-white hover:bg-gray-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Clear selection",children:[p.jsx(fde,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Clear"}),p.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[u&&G&&U.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[U.length," selected"]}),p.jsxs("button",{onClick:Aa,className:"px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs bg-red-500 text-white hover:bg-red-600 flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Delete selected games",children:[p.jsx(wp,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Delete"}),p.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{"data-filter-button":"true",onClick:M=>{M.stopPropagation(),x(!w)},className:`px-3 py-2 sm:px-2 sm:py-1 rounded text-sm sm:text-xs font-medium transition-colors flex items-center gap-2 sm:gap-1 min-h-[44px] sm:min-h-auto ${h||g||b?"bg-orange-500 text-white shadow-sm":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,title:"Filter games",children:[p.jsx(Dfe,{className:"h-4 w-4 sm:h-3 sm:w-3"}),p.jsx("span",{className:"sm:hidden",children:"Filter"}),p.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),w&&p.jsx(rde,{games:e,filters:{searchTerm:h,dateFilter:g,outcomeFilter:b},onFiltersChange:M=>{m(M.searchTerm||""),v(M.dateFilter||""),_(M.outcomeFilter||""),I(1)},onClose:()=>x(!1)})]})]})]}),p.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-2",children:Rt.length>0?Rt.map(M=>{const ue=O.includes(M.id),Ve=U.includes(M.id),yn=qfe(M),_t=Q===M.id;return p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[p.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>G&&u?Ta(M.id):cf(M.id),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[G&&u&&p.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 transition-colors ${Ve?"bg-orange-500 border-orange-500":"border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,onClick:le=>{le.stopPropagation(),Ta(M.id)},children:Ve&&p.jsx(dde,{className:"w-3 h-3 text-white"})}),(!G||!u)&&p.jsx(Wfe,{className:`transition-transform duration-200 text-black dark:text-white ${ue?"rotate-90":""}`,style:{minWidth:20}}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white",children:wl(M.timestamp)}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("p",{className:"font-bold text-lg text-orange-500",children:[M.teamName," vs ",M.opponent]})}),M.location&&p.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 italic",children:[p.jsx(Ey,{className:"w-3 h-3"}),p.jsx("span",{children:M.location})]}),p.jsx("div",{className:"flex items-center gap-2 mt-1",children:M.adminName&&p.jsxs("p",{className:"italic text-xs text-gray-700 dark:text-gray-200",children:["Scored by ",M.adminName]})}),p.jsx(Xfe,{badges:yn}),p.jsx(ede,{photos:M.photos})]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${M.outcome==="W"?"bg-green-100 text-green-800":M.outcome==="L"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-800"}`,children:[M.outcome||"T"," ",wt(M.myTeamScore),"-",wt(M.opponentScore)]}),u&&!G&&p.jsx("button",{className:"p-1 text-red-300 hover:text-red-500 rounded transition",onClick:le=>{le.stopPropagation(),uf(M.id)},title:"Delete Game",children:p.jsx(wp,{className:"w-4 h-4"})})]})]}),ue&&!G&&p.jsxs("div",{className:"p-4 pt-2 relative",children:[u&&p.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-600",children:p.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_t&&B==="score"?p.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 dark:bg-orange-900/30 p-2 rounded-lg border border-orange-200 dark:border-orange-600",children:[p.jsx("input",{type:"number",value:Z.myTeamScore===0?"":Z.myTeamScore,onChange:le=>se({...Z,myTeamScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),autoFocus:!0}),p.jsx("span",{className:"text-sm font-bold",children:"-"}),p.jsx("input",{type:"number",value:Z.opponentScore===0?"":Z.opponentScore,onChange:le=>se({...Z,opponentScore:le.target.value===""?0:parseInt(le.target.value)||0}),className:"w-16 text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-center text-gray-900 dark:text-white",placeholder:"0",onClick:le=>le.stopPropagation(),onFocus:le=>le.target.select(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),tt()),le.key==="Escape"&&(le.stopPropagation(),Le())}}),p.jsx("button",{onClick:le=>{le.stopPropagation(),tt()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:p.jsx(db,{className:"w-4 h-4"})}),p.jsx("button",{onClick:le=>{le.stopPropagation(),Le()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(jd,{className:"w-4 h-4"})})]}):p.jsxs("button",{onClick:le=>{le.stopPropagation(),Mn(M.id,"score",{myTeamScore:M.myTeamScore||0,opponentScore:M.opponentScore||0})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Score",children:[p.jsx(AM,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),_t&&B==="location"?p.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/30 p-2 rounded-lg border border-green-200 dark:border-green-600",children:[p.jsx("input",{type:"text",value:Z.location||"",onChange:le=>se({...Z,location:le.target.value}),className:"text-sm px-2 py-1 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[120px]",onClick:le=>le.stopPropagation(),onKeyDown:le=>{le.key==="Enter"&&(le.stopPropagation(),tt()),le.key==="Escape"&&(le.stopPropagation(),Le())},onFocus:le=>le.target.select(),placeholder:"Location",autoFocus:!0}),p.jsx("button",{onClick:le=>{le.stopPropagation(),tt()},className:"p-1 text-green-500 hover:text-green-600 bg-green-100 dark:bg-green-900/30 rounded",title:"Save",children:p.jsx(db,{className:"w-4 h-4"})}),p.jsx("button",{onClick:le=>{le.stopPropagation(),Le()},className:"p-1 text-gray-500 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded",title:"Cancel",children:p.jsx(jd,{className:"w-4 h-4"})})]}):M.location?p.jsxs("button",{onClick:le=>{le.stopPropagation(),Mn(M.id,"location",{location:M.location})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/40 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Edit Location",children:[p.jsx(Ey,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Location"})]}):p.jsxs("button",{onClick:le=>{le.stopPropagation(),Mn(M.id,"location",{location:""})},className:"px-2 py-2 sm:px-3 sm:py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors flex items-center gap-0 sm:gap-1 min-h-[44px] sm:min-h-auto",title:"Add Location",children:[p.jsx(Ey,{className:"w-4 h-4 sm:w-3 sm:h-3"}),p.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[p.jsx(qe,{label:"Points",value:wt(M.points),clickable:!0,onClick:()=>ge(M),editable:u,isEditing:_t&&B==="stats"&&de==="points",editValue:Z.points,onEdit:()=>Qe(M.id,"points",M.points||0),onEditChange:le=>se({...Z,points:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"2PT Made",value:wt(M.fg2m),editable:u,isEditing:_t&&B==="stats"&&de==="fg2m",editValue:Z.fg2m,onEdit:()=>Qe(M.id,"fg2m",M.fg2m||0),onEditChange:le=>se({...Z,fg2m:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"2PT Att",value:wt(M.fg2a),editable:u,isEditing:_t&&B==="stats"&&de==="fg2a",editValue:Z.fg2a,onEdit:()=>Qe(M.id,"fg2a",M.fg2a||0),onEditChange:le=>se({...Z,fg2a:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"3PT Made",value:wt(M.fg3m),editable:u,isEditing:_t&&B==="stats"&&de==="fg3m",editValue:Z.fg3m,onEdit:()=>Qe(M.id,"fg3m",M.fg3m||0),onEditChange:le=>se({...Z,fg3m:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"3PT Att",value:wt(M.fg3a),editable:u,isEditing:_t&&B==="stats"&&de==="fg3a",editValue:Z.fg3a,onEdit:()=>Qe(M.id,"fg3a",M.fg3a||0),onEditChange:le=>se({...Z,fg3a:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"FT Made",value:wt(M.ftm),editable:u,isEditing:_t&&B==="stats"&&de==="ftm",editValue:Z.ftm,onEdit:()=>Qe(M.id,"ftm",M.ftm||0),onEditChange:le=>se({...Z,ftm:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"FT Att",value:wt(M.fta),editable:u,isEditing:_t&&B==="stats"&&de==="fta",editValue:Z.fta,onEdit:()=>Qe(M.id,"fta",M.fta||0),onEditChange:le=>se({...Z,fta:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Rebounds",value:wt(M.rebounds),editable:u,isEditing:_t&&B==="stats"&&de==="rebounds",editValue:Z.rebounds,onEdit:()=>Qe(M.id,"rebounds",M.rebounds||0),onEditChange:le=>se({...Z,rebounds:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Assists",value:wt(M.assists),editable:u,isEditing:_t&&B==="stats"&&de==="assists",editValue:Z.assists,onEdit:()=>Qe(M.id,"assists",M.assists||0),onEditChange:le=>se({...Z,assists:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Steals",value:wt(M.steals),editable:u,isEditing:_t&&B==="stats"&&de==="steals",editValue:Z.steals,onEdit:()=>Qe(M.id,"steals",M.steals||0),onEditChange:le=>se({...Z,steals:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Blocks",value:wt(M.blocks),editable:u,isEditing:_t&&B==="stats"&&de==="blocks",editValue:Z.blocks,onEdit:()=>Qe(M.id,"blocks",M.blocks||0),onEditChange:le=>se({...Z,blocks:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Fouls",value:wt(M.fouls),editable:u,isEditing:_t&&B==="stats"&&de==="fouls",editValue:Z.fouls,onEdit:()=>Qe(M.id,"fouls",M.fouls||0),onEditChange:le=>se({...Z,fouls:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"Turnovers",value:wt(M.turnovers),editable:u,isEditing:_t&&B==="stats"&&de==="turnovers",editValue:Z.turnovers,onEdit:()=>Qe(M.id,"turnovers",M.turnovers||0),onEditChange:le=>se({...Z,turnovers:le}),onSave:tt,onCancel:Le,gameId:M.id}),p.jsx(qe,{label:"A/T Ratio",value:Te(wt(M.assists),wt(M.turnovers)),editable:!1})]}),p.jsx(Yfe,{badges:yn}),u&&p.jsx(tde,{gameId:M.id,photos:M.photos||[],onPhotosUpdate:i||(()=>console.error("onUpdateGamePhotos not provided"))})]})]},M.id)}):p.jsx("div",{className:"text-center py-10 text-gray-400",children:"No games found."})}),Mt>1&&p.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[p.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>I(M=>Math.max(1,M-1)),disabled:E===1,children:"Prev"}),p.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",E," of ",Mt]}),p.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded disabled:opacity-50",onClick:()=>I(M=>Math.min(Mt,M+1)),disabled:E===Mt,children:"Next"})]})]})]})]}),u&&F&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 text-red-500",children:["Delete ",U.length," Games?"]}),p.jsxs("p",{className:"mb-6 text-gray-900 dark:text-white",children:["Are you sure you want to delete ",U.length," selected game",U.length!==1?"s":"","? This cannot be undone."]}),p.jsxs("div",{className:"flex gap-4 justify-end",children:[p.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white",onClick:()=>H(!1),children:"Cancel"}),p.jsxs("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:lf,children:["Delete ",U.length," Game",U.length!==1?"s":""]})]})]})}),u&&C&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Game?"}),p.jsx("p",{className:"mb-6 text-gray-900 dark:text-white",children:"Are you sure you want to delete this game? This cannot be undone."}),p.jsxs("div",{className:"flex gap-4 justify-end",children:[p.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>k(null),children:"Cancel"}),p.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Ym,children:"Delete"})]})]})}),u&&j&&p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-sm mx-auto",children:[p.jsx("h3",{className:"text-lg font-bold mb-4 text-red-500",children:"Delete Team?"}),p.jsx("p",{className:"mb-6",children:"Are you sure you want to delete this team?"}),p.jsx("div",{className:"flex gap-4 justify-end",children:p.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-bold",onClick:Ao,children:"Delete"})})]})})]})}const gde=({active:t})=>p.jsx("span",{className:`inline-block rounded-full transition
      ${t?"bg-red-500 animate-pulse":"bg-gray-400"}
    `,style:{width:12,height:12,marginRight:6,verticalAlign:"middle"}});function fd({user:t,onSignOut:e,setPage:n,theme:r,toggleTheme:i,page:o,liveGameId:a,goToLiveGame:s,openSettingsModal:l,onSignIn:u,isUserAdmin:d=!1}){D.useState(0);const f=!!a,h=()=>d?"bg-gray-100 dark:bg-gray-900":"bg-slate-50/80 dark:bg-slate-800/80",m=()=>{f&&(o==="live_admin"&&d?window.confirm(`You are currently scoring the game. If you leave, you may lose unsaved progress.
Continue to live viewer?`)&&s():s())},g=p.jsxs("button",{disabled:!f,className:`flex items-center gap-1 px-3 py-1.5 font-semibold text-sm rounded-full transition-all
        ${f?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse cursor-pointer hover:bg-red-200 dark:hover:bg-red-800 shadow-md":"bg-gray-200 dark:bg-gray-800 text-gray-400 cursor-not-allowed"}`,onClick:m,title:f?"Watch Live Game":"No Live Game In Progress",children:[p.jsx(gde,{active:f}),p.jsx("span",{className:"font-bold tracking-wide",children:"LIVE"})]}),v=()=>{if(!d){alert("Access denied. Only administrators can access settings.");return}l()};return p.jsx("header",{className:`${h()} backdrop-blur-sm sticky top-0 z-20 transition-all duration-500`,children:p.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{n(d?"game_setup":"dashboard")},children:[p.jsx("div",{className:"flex items-center justify-center text-lg",children:p.jsx("span",{className:"animate-spin-slow group-hover:scale-110 transition-transform duration-300 text-xl sm:text-2xl",children:"🏀"})}),p.jsx("div",{className:"hidden sm:flex flex-col",children:p.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent",children:"Sahil's Stats"})})]}),g]}),p.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[p.jsx("button",{onClick:v,disabled:!d,className:`flex items-center justify-center rounded-lg p-2 transition-all ${d?"bg-gray-500 hover:bg-gray-600 text-white cursor-pointer shadow-md hover:shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,title:d?"Settings":"Settings (Admin Only)",children:p.jsx($fe,{className:"h-5 w-5 sm:h-5 sm:w-5"})}),p.jsx("button",{onClick:()=>n("dashboard"),className:"flex items-center justify-center rounded-lg p-2 transition-all bg-gray-500 hover:bg-gray-600 text-white cursor-pointer shadow-md hover:shadow-lg",title:"Dashboard",children:p.jsx(zfe,{className:"h-5 w-5"})}),t&&!t.isAnonymous?p.jsx("button",{onClick:e,className:"rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg",title:"Sign Out",children:p.jsx(Ffe,{className:"h-5 w-5"})}):u&&p.jsx("button",{onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white rounded-lg p-2 flex items-center justify-center border-2 border-transparent transition-all shadow-md hover:shadow-lg",title:"Sign In with Google",children:p.jsx(Lfe,{className:"h-5 w-5"})})]})]})})})}function yde({onSignIn:t}){return p.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:p.jsxs("div",{className:"text-center p-8 max-w-md mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx(EM,{className:"h-12 w-12 text-orange-500 animate-spin-slow mx-auto"}),p.jsx("h1",{className:"text-4xl font-bold text-orange-500 mt-4",children:"Sahil's Stats"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 mb-6",children:"Track stats, progress, and share with family."}),p.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:p.jsx("strong",{children:"🏀 Welcome to Sahil's Stats!"})}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"• Anyone can view games and stats • Family admins can sign in to create and manage games • Click the basketball logo above to view the dashboard"})]}),p.jsxs("button",{onClick:t,className:"w-full bg-white dark:bg-gray-100 hover:bg-gray-50 dark:hover:bg-gray-200 text-gray-700 dark:text-gray-800 font-medium py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center border border-gray-300 dark:border-gray-400 shadow-sm",children:[p.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[p.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),p.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),p.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),p.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 35.24 44 30.022 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),"Sign in with Google"]}),p.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"No sign-in required to view live games"})]})})}function wn({label:t,value:e,onIncrement:n,onDecrement:r}){return p.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center leading-tight min-h-[32px] flex items-center",children:t}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{type:"button",onClick:r,className:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",disabled:e<=0,children:"−"}),p.jsx("span",{className:"font-mono w-10 text-center text-lg font-bold text-gray-900 dark:text-white",children:e}),p.jsx("button",{type:"button",onClick:n,className:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})}function ps({label:t,madeValue:e,attValue:n,onStatChange:r,madeKey:i,attKey:o,singleStat:a=!1}){return p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("h4",{className:"text-md font-bold text-center mb-3 text-gray-900 dark:text-white",children:t}),p.jsx("div",{className:"flex justify-center items-center gap-4",children:a?p.jsx(wn,{label:"Total",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}):p.jsxs(p.Fragment,{children:[p.jsx(wn,{label:"Made",value:e||0,onIncrement:()=>r(i,1),onDecrement:()=>r(i,-1)}),p.jsx(wn,{label:"Attempted",value:n||0,onIncrement:()=>r(o,1),onDecrement:()=>r(o,-1)})]})})]})}function cx({status:t}){return t==="saving"?p.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-400 animate-pulse ml-2"}):t==="success"?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400 ml-2",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}):t==="error"?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 ml-2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):null}const vde=({className:t=""})=>p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:[p.jsx("circle",{cx:"8",cy:"5",r:"1.5"}),p.jsx("rect",{x:"6.5",y:"7",width:"3",height:"3",rx:"0.5"}),p.jsx("rect",{x:"7",y:"10",width:"0.8",height:"3",rx:"0.4"}),p.jsx("rect",{x:"8.2",y:"10",width:"0.8",height:"3",rx:"0.4"}),p.jsx("rect",{x:"3",y:"9.5",width:"14",height:"1",rx:"0.5"}),p.jsx("rect",{x:"4",y:"10.5",width:"0.5",height:"2",rx:"0.25"}),p.jsx("rect",{x:"15.5",y:"10.5",width:"0.5",height:"2",rx:"0.25"})]}),bde=({isExpanded:t,className:e=""})=>p.jsx("div",{className:`w-12 h-1 bg-gray-400 rounded-full transition-all duration-200 ${t?"bg-orange-500":""} ${e}`});function wde({db:t,gameId:e,user:n,onEndGame:r}){var Q,ne;const[i,o]=D.useState(null),[a,s]=D.useState(""),[l,u]=D.useState(!1),[d,f]=D.useState(null),[h,m]=D.useState(0),[g,v]=D.useState(0),b=D.useRef(null),_=D.useRef(null);D.useEffect(()=>{const B=Qa(Ft(t,"liveGames",e),Y=>{if(Y.exists()){const Z={id:Y.id,...Y.data()};_.current=Z.period,o(Z);const se=Date.now();if(Z.isRunning&&Z.clockStartTime){const de=se-Z.clockStartTime,ve=Math.floor(de/1e3),Be=Math.max(0,Z.clockAtStart-ve),ie=Math.max(0,Z.clockAtStart*1e3-de)/100;m(Be),v(ie)}else m(Z.clock||0),v((Z.clock||0)*10)}else o(null),m(0)});return()=>{B(),b.current&&(clearInterval(b.current),b.current=null)}},[t,e]),D.useEffect(()=>{if(!i||!e)return;(async()=>{try{await Or(Ft(t,"liveGames",e),{sahilOnBench:l})}catch(Y){console.error("Error updating bench status:",Y)}})()},[l,e]),D.useEffect(()=>{if(i){if(i.isRunning&&i.clockStartTime){const B=h<=60?100:1e3;b.current=setInterval(()=>{const Z=Date.now()-i.clockStartTime,se=Math.floor(Z/1e3),de=Math.max(0,i.clockAtStart-se),ve=Math.max(0,i.clockAtStart*1e3-Z)/100;m(de),v(ve),de<=0&&i.isRunning&&w()},B)}else b.current&&(clearInterval(b.current),b.current=null);return()=>{b.current&&(clearInterval(b.current),b.current=null)}}},[i==null?void 0:i.isRunning,i==null?void 0:i.clockStartTime,i==null?void 0:i.clockAtStart,i==null?void 0:i.period,i==null?void 0:i.gameFormat,h,e]);const w=()=>{if(!i)return;const Y=i.gameFormat==="halves"?2:4;i.period===Y?Or(Ft(t,"liveGames",e),{isRunning:!1,clock:0,clockStartTime:null,clockAtStart:0}):Or(Ft(t,"liveGames",e),{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},x=(B,Y)=>{if(!i)return;const Z=B==="home"?"homeScore":"awayScore";if(Y<0&&i[Z]<=0)return;const se={[Z]:Co(Y)};if(!i.isRunning){const ve=Date.now();se.isRunning=!0,se.clockStartTime=ve,se.clockAtStart=i.clock||i.periodLength*60}const de=Or(Ft(t,"liveGames",e),se);T(de)},O=(B,Y)=>{const Z=Ft(t,"liveGames",e),se=i.playerStats,de=Math.max(0,se[B]+Y),ve={[`playerStats.${B}`]:de};if(!i.isRunning){const ie=Date.now();ve.isRunning=!0,ve.clockStartTime=ie,ve.clockAtStart=i.clock||i.periodLength*60}Y>0?(B==="fg2m"&&(ve.homeScore=Co(2)),B==="fg3m"&&(ve.homeScore=Co(3)),B==="ftm"&&(ve.homeScore=Co(1))):Y<0&&(B==="fg2m"&&se.fg2m>0&&(ve.homeScore=Co(-2)),B==="fg3m"&&se.fg3m>0&&(ve.homeScore=Co(-3)),B==="ftm"&&se.ftm>0&&(ve.homeScore=Co(-1))),B==="fg2m"&&(Y>0?ve["playerStats.fg2a"]=se.fg2a+Y:Y<0&&(ve["playerStats.fg2a"]=Math.max(de,se.fg2a+Y))),B==="fg3m"&&(Y>0?ve["playerStats.fg3a"]=se.fg3a+Y:Y<0&&(ve["playerStats.fg3a"]=Math.max(de,se.fg3a+Y))),B==="ftm"&&(Y>0?ve["playerStats.fta"]=se.fta+Y:Y<0&&(ve["playerStats.fta"]=Math.max(de,se.fta+Y))),B==="fg2a"&&Y<0&&(ve["playerStats.fg2m"]=Math.min(se.fg2m,de)),B==="fg3a"&&Y<0&&(ve["playerStats.fg3m"]=Math.min(se.fg3m,de)),B==="fta"&&Y<0&&(ve["playerStats.ftm"]=Math.min(se.ftm,de));const Be=Or(Z,ve);T(Be)},T=async B=>{f("saving");try{await B,f("success")}catch(Y){f("error"),console.error("Save error:",Y)}finally{setTimeout(()=>{f(null)},1200)}},P=()=>{if(!i)return;const B=Date.now();let Y;if(i.isRunning){const se=i.clockStartTime?Math.floor((B-i.clockStartTime)/1e3):0,de=Math.max(0,i.clockAtStart-se);Y={isRunning:!1,clock:de,clockStartTime:null,clockAtStart:de}}else Y={isRunning:!0,clockStartTime:B,clockAtStart:i.clock||i.periodLength*60};const Z=Or(Ft(t,"liveGames",e),Y);T(Z)},S=()=>{const B=Ft(t,"liveGames",e),Z=i.gameFormat==="halves"?2:4;i.period===Z?typeof r=="function"&&r(e):Or(B,{isRunning:!1,period:i.period+1,clock:i.periodLength*60,clockStartTime:null,clockAtStart:i.periodLength*60})},E=()=>{const B=`${window.location.origin}${window.location.pathname}?liveGameId=${e}`;navigator.clipboard.writeText(B),s("Copied!"),setTimeout(()=>s(""),2e3)};if(!i)return p.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const I=(B,Y)=>{if(B<=59){const Z=Math.floor(Y/10),se=Math.floor(Y%10);return`${Z}.${se}`}else return`${String(Math.floor(B/60)).padStart(2,"0")}:${String(B%60).padStart(2,"0")}`},C=i.playerStats||{},k=i.gameFormat==="halves"?"Half":"Period",N=i.gameFormat==="halves"?2:4,U=i.period===N,z=U&&h===0&&!i.isRunning,G=z||U?"End Game":"Next",K=h<=120||U&&h===0,F=h<=60&&h>0,H=Math.max(((Q=i.teamName)==null?void 0:Q.length)||1,((ne=i.opponent)==null?void 0:ne.length)||1);return p.jsxs("div",{className:"h-screen flex flex-col",children:[z&&p.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200 px-4 py-3 text-center",children:[p.jsx("strong",{children:"Game Over!"}),' Press "End Game" when ready to finish.']}),p.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:p.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx(cx,{status:d})}),p.jsx("div",{className:"flex justify-center items-center text-center mb-4 text-gray-900 dark:text-white",children:p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx("span",{className:`text-4xl font-mono tracking-wider transition-all duration-300 ${F?"text-red-500 animate-pulse scale-110 font-bold":K?"text-red-500 animate-pulse":""}`,children:I(h,g)}),p.jsxs("span",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[k," ",i.period]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(H,6)))}px`},children:i.teamName}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[p.jsx("button",{onClick:()=>x("home",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.homeScore<=0,children:"−"}),p.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.homeScore}),p.jsx("button",{onClick:()=>x("home",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-bold text-center leading-tight break-words hyphens-auto px-1 mb-2 text-gray-900 dark:text-white",style:{fontSize:`${Math.max(18,Math.min(20,120/Math.max(H,6)))}px`},children:i.opponent}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-3 rounded-lg w-full",children:[p.jsx("button",{onClick:()=>x("away",-1),className:"bg-red-500 hover:bg-red-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md disabled:opacity-50 transition-all active:scale-95",disabled:i.awayScore<=0,children:"−"}),p.jsx("span",{className:"font-semibold text-3xl px-2 text-center flex-1 text-gray-900 dark:text-white font-mono",children:i.awayScore}),p.jsx("button",{onClick:()=>x("away",1),className:"bg-green-500 hover:bg-green-600 text-white w-9 h-9 rounded-md text-lg font-bold flex items-center justify-center shadow-md transition-all active:scale-95",children:"+"})]})]})]})]})})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsxs("div",{className:"w-full max-w-md mx-auto p-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx("div",{className:"flex flex-col items-center p-4 border-b border-gray-200 dark:border-gray-700",children:p.jsxs("button",{onClick:()=>u(!l),className:"flex flex-col items-center gap-2 w-full",children:[p.jsx(bde,{isExpanded:!l}),p.jsx("div",{className:"flex items-center gap-2",children:l?p.jsxs(p.Fragment,{children:[p.jsx(vde,{className:"w-5 h-5 text-orange-500"}),p.jsx("h3",{className:"text-lg font-bold text-orange-500",children:"Sahil on Bench"})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-lg",children:"🏀"}),p.jsx("h3",{className:"text-lg font-bold text-orange-500",children:"Live Stats"})]})}),l&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Tap to expand when Sahil is back in the game"})]})}),!l&&p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(ps,{label:"2-Pointers",madeValue:C.fg2m,attValue:C.fg2a,onStatChange:O,madeKey:"fg2m",attKey:"fg2a"}),p.jsx(ps,{label:"3-Pointers",madeValue:C.fg3m,attValue:C.fg3a,onStatChange:O,madeKey:"fg3m",attKey:"fg3a"}),p.jsx(ps,{label:"Free Throws",madeValue:C.ftm,attValue:C.fta,onStatChange:O,madeKey:"ftm",attKey:"fta"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx(wn,{label:"Rebounds",value:C.rebounds,onIncrement:()=>O("rebounds",1),onDecrement:()=>O("rebounds",-1)}),p.jsx(wn,{label:"Assists",value:C.assists,onIncrement:()=>O("assists",1),onDecrement:()=>O("assists",-1)}),p.jsx(wn,{label:"Steals",value:C.steals,onIncrement:()=>O("steals",1),onDecrement:()=>O("steals",-1)}),p.jsx(wn,{label:"Blocks",value:C.blocks,onIncrement:()=>O("blocks",1),onDecrement:()=>O("blocks",-1)}),p.jsx(wn,{label:"Fouls",value:C.fouls,onIncrement:()=>O("fouls",1),onDecrement:()=>O("fouls",-1)}),p.jsx(wn,{label:"Turnovers",value:C.turnovers,onIncrement:()=>O("turnovers",1),onDecrement:()=>O("turnovers",-1)})]})]})]}),p.jsx("div",{className:"h-20"})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50",children:p.jsx("div",{className:"w-full max-w-md mx-auto p-3",children:p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx("button",{onClick:E,className:"w-full py-3 rounded-lg font-bold text-lg flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white",title:"Share live game link",children:a||p.jsx(Vfe,{})}),p.jsx("button",{onClick:P,className:`w-full py-3 rounded-lg font-bold text-lg ${i.isRunning?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,disabled:z,children:i.isRunning?"Pause":"Start"}),p.jsx("button",{onClick:S,className:`w-full font-bold py-3 rounded-lg text-lg text-white transition-all duration-300 transform hover:scale-105 ${U?"bg-red-600 hover:bg-red-700 shadow-red-500/50 shadow-lg hover:shadow-red-500/70 hover:shadow-xl animate-pulse":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/50 shadow-lg hover:shadow-orange-500/70 hover:shadow-xl"}`,style:{boxShadow:U?"0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2)":"0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(249, 115, 22, 0.2)"},children:G})]})})})]})}const EI=({className:t=""})=>p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:[p.jsx("circle",{cx:"8",cy:"5",r:"1.5"}),p.jsx("rect",{x:"6.5",y:"7",width:"3",height:"3",rx:"0.5"}),p.jsx("rect",{x:"7",y:"10",width:"0.8",height:"3",rx:"0.4"}),p.jsx("rect",{x:"8.2",y:"10",width:"0.8",height:"3",rx:"0.4"}),p.jsx("rect",{x:"3",y:"9.5",width:"14",height:"1",rx:"0.5"}),p.jsx("rect",{x:"4",y:"10.5",width:"0.5",height:"2",rx:"0.25"}),p.jsx("rect",{x:"15.5",y:"10.5",width:"0.5",height:"2",rx:"0.25"})]});function TI({db:t,gameId:e,user:n}){const[r,i]=D.useState(null),[o,a]=D.useState(null),[s,l]=D.useState(0),[u,d]=D.useState(0),f=D.useRef(null);if(D.useEffect(()=>{if(!t||!e)return;const x=Ft(t,"liveGames",e),O=Qa(x,T=>{if(T.exists()){const P=T.data();i(P);const S=Date.now();if(P.isRunning&&P.clockStartTime){const E=S-P.clockStartTime,I=Math.floor(E/1e3),C=Math.max(0,P.clockAtStart-I),k=Math.max(0,P.clockAtStart*1e3-E)/100;l(C),d(k)}else l(P.clock||0),d((P.clock||0)*10)}else a("This game is no longer live.")});return()=>{O(),f.current&&(clearInterval(f.current),f.current=null)}},[t,e]),D.useEffect(()=>{if(r){if(r.isRunning&&r.clockStartTime){const x=s<=60?100:1e3;f.current=setInterval(()=>{const T=Date.now()-r.clockStartTime,P=Math.floor(T/1e3),S=Math.max(0,r.clockAtStart-P),E=Math.max(0,r.clockAtStart*1e3-T)/100;l(S),d(E)},x)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&(clearInterval(f.current),f.current=null)}}},[r==null?void 0:r.isRunning,r==null?void 0:r.clockStartTime,r==null?void 0:r.clockAtStart,s]),o)return p.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl",children:[p.jsx(EM,{className:"hover:animate-spin-slow transition-transform"}),p.jsx("h2",{className:"text-2xl font-bold text-red-500 mt-4",children:"Game Not Found"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:o})]});if(!r)return p.jsx("div",{className:"text-center p-10",children:"Loading Live Game..."});const h=r.playerStats||r.sahilStats||{},g=[{label:"Points",value:(Number(h.fg2m)||0)*2+(Number(h.fg3m)||0)*3+(Number(h.ftm)||0)},{label:"2PT Made",value:h.fg2m??0},{label:"2PT Attempted",value:h.fg2a??0},{label:"3PT Made",value:h.fg3m??0},{label:"3PT Attempted",value:h.fg3a??0},{label:"FT Made",value:h.ftm??0},{label:"FT Attempted",value:h.fta??0},{label:"Assists",value:h.assists??0},{label:"Rebounds",value:h.rebounds??0},{label:"Steals",value:h.steals??0},{label:"Fouls",value:h.fouls??0}],v=(x,O)=>{if(x<=59){const T=Math.floor(O/10),P=Math.floor(O%10);return`${T}.${P}`}else return`${String(Math.floor(x/60)).padStart(2,"0")}:${String(x%60).padStart(2,"0")}`},b=r.gameFormat==="halves"?"Half":"Period",_=s<=120,w=s<=60&&s>0;return p.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-center text-orange-500",children:"Live Game"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:p.jsxs("div",{className:"flex justify-around items-center text-center",children:[p.jsxs("div",{className:"w-1/3",children:[p.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.teamName}),p.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.homeScore})]}),p.jsx("div",{className:"w-1/3",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("p",{className:`text-4xl font-mono tracking-wider  text-gray-900 dark:text-white transition-all duration-300  ${w?"text-red-500 animate-pulse scale-110 font-bold":_?"text-red-500 animate-pulse":""}`,children:v(s,u)}),p.jsxs("p",{className:"text-base font-medium text-gray-700 dark:text-gray-300 mt-1 capitalize",children:[b," ",r.period]})]})}),p.jsxs("div",{className:"w-1/3",children:[p.jsx("h3",{className:"text-xl md:text-2xl font-bold truncate text-gray-900 dark:text-white",children:r.opponent}),p.jsx("p",{className:"text-5xl md:text-7xl font-mono text-gray-900 dark:text-white",children:r.awayScore})]})]})}),r.sahilOnBench&&p.jsxs("div",{className:"mt-3 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700 rounded-lg text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-700 dark:text-orange-300",children:[p.jsx(EI,{className:"w-6 h-6"}),p.jsx("span",{className:"text-sm font-medium",children:"Sahil is on the bench"})]}),p.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Stats will resume when he's back in the game"})]}),p.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:p.jsxs("p",{children:["Live game updates automatically.",!n&&" Sign in (top-right) if you're a family admin."]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[p.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[r.sahilOnBench?p.jsx(EI,{className:"w-5 h-5 text-orange-500"}):p.jsx("span",{className:"text-lg",children:"🏀"}),p.jsx("span",{className:"font-bold text-orange-500 text-lg",children:r.sahilOnBench?"Bench Stats":"Live Stats"})]}),r.sahilOnBench&&p.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900/30 px-2 py-1 rounded",children:"On Bench"})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:g.map(x=>p.jsxs("div",{className:`rounded-lg p-3 flex flex-col items-center transition-opacity ${r.sahilOnBench?"bg-gray-50 dark:bg-gray-800 opacity-75":"bg-gray-100 dark:bg-gray-900"}`,children:[p.jsx("span",{className:"text-xs text-orange-500 font-semibold",children:x.label}),p.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.value})]},x.label))}),r.sahilOnBench&&p.jsx("div",{className:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400",children:"💡 Current stats shown - updates paused while on bench"})]})]})}function _de({gameConfig:t,isLive:e=!1,onSave:n,onCancel:r,onShare:i,saveStatus:o,shareMessage:a}){const[s,l]=D.useState({myTeamScore:0,opponentScore:0,fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0});D.useEffect(()=>{var m,g,v,b,_,w,x,O,T,P,S,E;t&&l({myTeamScore:t.myTeamScore||t.homeScore||0,opponentScore:t.opponentScore||t.awayScore||0,fg2m:t.fg2m||((m=t.playerStats)==null?void 0:m.fg2m)||0,fg2a:t.fg2a||((g=t.playerStats)==null?void 0:g.fg2a)||0,fg3m:t.fg3m||((v=t.playerStats)==null?void 0:v.fg3m)||0,fg3a:t.fg3a||((b=t.playerStats)==null?void 0:b.fg3a)||0,ftm:t.ftm||((_=t.playerStats)==null?void 0:_.ftm)||0,fta:t.fta||((w=t.playerStats)==null?void 0:w.fta)||0,rebounds:t.rebounds||((x=t.playerStats)==null?void 0:x.rebounds)||0,assists:t.assists||((O=t.playerStats)==null?void 0:O.assists)||0,steals:t.steals||((T=t.playerStats)==null?void 0:T.steals)||0,blocks:t.blocks||((P=t.playerStats)==null?void 0:P.blocks)||0,fouls:t.fouls||((S=t.playerStats)==null?void 0:S.fouls)||0,turnovers:t.turnovers||((E=t.playerStats)==null?void 0:E.turnovers)||0})},[t]);const u=s.fg2m*2+s.fg3m*3+s.ftm,d=(m,g)=>{const v=m==="home"?"myTeamScore":"opponentScore";l(b=>({...b,[v]:Math.max(0,b[v]+g)}))},f=(m,g)=>{l(v=>{const b={...v},_=Math.max(0,v[m]+g);return b[m]=_,m==="fg2m"&&(g>0?b.fg2a=v.fg2a+g:g<0&&(b.fg2a=Math.max(_,v.fg2a+g))),m==="fg3m"&&(g>0?b.fg3a=v.fg3a+g:g<0&&(b.fg3a=Math.max(_,v.fg3a+g))),m==="ftm"&&(g>0?b.fta=v.fta+g:g<0&&(b.fta=Math.max(_,v.fta+g))),m==="fg2a"&&g<0&&(b.fg2m=Math.min(v.fg2m,_)),m==="fg3a"&&g<0&&(b.fg3m=Math.min(v.fg3m,_)),m==="fta"&&g<0&&(b.ftm=Math.min(v.ftm,_)),b})},h=()=>{n(s)};return t?p.jsxs("div",{className:"max-w-md mx-auto space-y-4 pb-24",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 relative",children:[p.jsx("div",{className:"absolute top-2 right-2",children:o&&p.jsx(cx,{status:o})}),p.jsxs("div",{className:"flex justify-around items-center text-center mb-4",children:[p.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[p.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.teamName}),p.jsx("div",{className:"flex items-center",children:p.jsx("span",{className:"text-5xl font-mono",children:s.myTeamScore})})]}),p.jsxs("div",{className:"w-1/3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"Final Stats"}),p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.opponent})]}),p.jsxs("div",{className:"w-1/3 flex flex-col items-center relative",children:[p.jsx("span",{className:"text-lg font-bold truncate text-center",children:t.opponent}),p.jsx("div",{className:"flex items-center",children:p.jsx("span",{className:"text-5xl font-mono",children:s.opponentScore})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[p.jsx("button",{onClick:()=>d("home",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.myTeamScore<=0,children:"-"}),p.jsx("span",{className:"font-semibold text-sm px-1",children:t.teamName}),p.jsx("button",{onClick:()=>d("home",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]}),p.jsxs("div",{className:"flex justify-between items-center bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:[p.jsx("button",{onClick:()=>d("away",-1),className:"bg-red-500 w-7 h-7 rounded-md text-lg font-bold disabled:opacity-50",disabled:s.opponentScore<=0,children:"-"}),p.jsx("span",{className:"font-semibold text-sm px-1",children:t.opponent}),p.jsx("button",{onClick:()=>d("away",1),className:"bg-green-500 w-7 h-7 rounded-md text-lg font-bold",children:"+"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-lg font-bold text-center text-orange-500 mb-4",children:"Sahil's Stats"}),p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u}),p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Points"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(ps,{label:"2-Pointers",madeValue:s.fg2m,attValue:s.fg2a,onStatChange:f,madeKey:"fg2m",attKey:"fg2a"}),p.jsx(ps,{label:"3-Pointers",madeValue:s.fg3m,attValue:s.fg3a,onStatChange:f,madeKey:"fg3m",attKey:"fg3a"}),p.jsx(ps,{label:"Free Throws",madeValue:s.ftm,attValue:s.fta,onStatChange:f,madeKey:"ftm",attKey:"fta"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx(wn,{label:"Rebounds",value:s.rebounds,onIncrement:()=>f("rebounds",1),onDecrement:()=>f("rebounds",-1)}),p.jsx(wn,{label:"Assists",value:s.assists,onIncrement:()=>f("assists",1),onDecrement:()=>f("assists",-1)}),p.jsx(wn,{label:"Steals",value:s.steals,onIncrement:()=>f("steals",1),onDecrement:()=>f("steals",-1)}),p.jsx(wn,{label:"Blocks",value:s.blocks,onIncrement:()=>f("blocks",1),onDecrement:()=>f("blocks",-1)}),p.jsx(wn,{label:"Fouls",value:s.fouls,onIncrement:()=>f("fouls",1),onDecrement:()=>f("fouls",-1)}),p.jsx(wn,{label:"Turnovers",value:s.turnovers,onIncrement:()=>f("turnovers",1),onDecrement:()=>f("turnovers",-1)})]})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 border-t border-gray-200 dark:border-gray-700 z-10",children:p.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[p.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-bold text-lg bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Cancel"}),p.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg font-bold text-lg bg-green-500 hover:bg-green-600 text-white",children:"Save Stats"})]})})]}):p.jsx("div",{className:"max-w-md mx-auto text-center p-10",children:p.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading..."})})}function xde({open:t,onClose:e,teams:n=[],onAddTeam:r,onDeleteTeam:i,gameFormat:o,setGameFormat:a,theme:s,toggleTheme:l,periodLength:u,setPeriodLength:d,onDeleteAllLiveGames:f,isUserAdmin:h=!1}){const[m,g]=D.useState(""),[v,b]=D.useState(u.toString()),[_,w]=D.useState("");D.useEffect(()=>{b(u.toString())},[u]);const x=Array.from(new Map(n.map(C=>[C.id,C])).values()),O=async C=>{const k=C.trim();if(k){if(n.some(j=>j.name.toLowerCase()===k.toLowerCase())){g("error"),setTimeout(()=>g(""),1200);return}g("saving");try{await r(k),g("success"),w("")}catch(j){console.error("Error adding team:",j),g("error")}setTimeout(()=>g(""),1200)}},T=async C=>{g("saving");try{await a(C),g("success")}catch(k){console.error("Error updating game format:",k),g("error")}setTimeout(()=>g(""),1200)},P=async C=>{b(C);const k=parseInt(C)||0;if(k>0){g("saving");try{await d(k),g("success")}catch(j){console.error("Error updating period length:",j),g("error")}setTimeout(()=>g(""),1200)}},S=()=>{const C=parseInt(v)||10;C!==u&&(b(C.toString()),P(C.toString()))},E=()=>{l(),g("success"),setTimeout(()=>g(""),1200)},I=async()=>{if(window.confirm("Are you sure you want to delete all live games? This cannot be undone.")){g("saving");try{await f(),g("success"),setTimeout(()=>{g(""),e()},300)}catch{g("error"),setTimeout(()=>g(""),1200)}}};return t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl shadow-xl max-w-md w-full mx-2 p-6 relative max-h-[90vh] overflow-y-auto",children:[p.jsx("button",{className:"absolute top-2 right-3 text-2xl text-gray-500 hover:text-orange-500",onClick:e,children:"×"}),p.jsxs("h2",{className:"text-2xl font-bold text-orange-500 mb-6 flex items-center",children:["Settings",p.jsx(cx,{status:m})]}),h&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Teams"}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[p.jsx("input",{type:"text",placeholder:"Add new team",className:"flex-1 rounded bg-gray-100 dark:bg-gray-800 p-2 outline-none border border-gray-300 dark:border-gray-600",value:_,onChange:C=>w(C.target.value),onKeyDown:C=>{C.key==="Enter"&&_.trim()&&O(_.trim())}}),p.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-4 py-2 rounded disabled:opacity-50",onClick:()=>O(_),disabled:!_.trim(),children:"Add"})]}),p.jsx("ul",{className:"space-y-2 max-h-32 overflow-y-auto",children:x.map(C=>p.jsxs("li",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:[p.jsx("span",{children:C.name}),p.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 rounded",onClick:()=>i(C.id),title:"Delete Team",children:p.jsx(wp,{className:"h-5 w-5"})})]},C.id))}),x.length===0&&p.jsx("div",{className:"text-center py-2 text-gray-500 dark:text-gray-400 text-sm",children:"No teams created yet."})]}),h&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Game Format"}),p.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[p.jsxs("label",{children:[p.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"periods",checked:o==="periods",onChange:()=>T("periods")}),"Periods"]}),p.jsxs("label",{children:[p.jsx("input",{type:"radio",className:"mr-1",name:"gameFormat",value:"halves",checked:o==="halves",onChange:()=>T("halves")}),"Halves"]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Length (minutes per ",o==="halves"?"half":"period",")"]}),p.jsx("input",{type:"text",min:"1",max:"30",className:"bg-gray-100 dark:bg-gray-800 p-2 rounded border border-gray-300 dark:border-gray-600 w-24 text-gray-900 dark:text-white",value:v,onChange:C=>{b(C.target.value)},onBlur:S,onKeyDown:C=>{C.key==="Enter"&&S()},placeholder:"10"})]})]}),p.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h&&p.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",title:"Delete All Live Games",children:[p.jsx(wp,{className:"w-4 h-4"}),"Delete Live Games"]}),p.jsx("button",{onClick:E,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 ml-auto",title:"Switch theme",children:s==="dark"?p.jsx(Bfe,{className:"h-6 w-6"}):p.jsx(Ufe,{className:"h-6 w-6"})})]})]})}):null}const jo={gameFormat:"halves",periodLength:20,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Sde=async t=>{if(!t||!t.uid)return{gameFormat:localStorage.getItem("gameFormat")||jo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||jo.periodLength};try{const e=Ft(Je,"userSettings",t.uid),n=await mC(e);if(n.exists()){const r=n.data();return localStorage.setItem("gameFormat",r.gameFormat),localStorage.setItem("periodLength",r.periodLength.toString()),r}else{const r=localStorage.getItem("gameFormat"),i=localStorage.getItem("periodLength"),o={...jo,gameFormat:r||jo.gameFormat,periodLength:i?parseInt(i):jo.periodLength};return await ZF(e,o),o}}catch(e){return console.error("Error getting user settings:",e),{gameFormat:localStorage.getItem("gameFormat")||jo.gameFormat,periodLength:parseInt(localStorage.getItem("periodLength"))||jo.periodLength}}},Ede=async(t,e)=>{const n={...e,updatedAt:new Date().toISOString()};if(e.gameFormat&&localStorage.setItem("gameFormat",e.gameFormat),e.periodLength&&localStorage.setItem("periodLength",e.periodLength.toString()),!t||!t.uid)return console.log("No authenticated user, settings saved to localStorage only"),n;try{const r=Ft(Je,"userSettings",t.uid);return await Or(r,n),console.log("Settings updated in Firebase and localStorage"),n}catch(r){return console.error("Error updating user settings:",r),n}};function Tde(){const[t,e]=D.useState(null),[n,r]=D.useState(!1),[i,o]=D.useState(()=>localStorage.getItem("theme")||"light"),[a,s]=D.useState(!0),[l,u]=D.useState(!0),[d,f]=D.useState("game_setup"),[h,m]=D.useState([]),[g,v]=D.useState([]),[b,_]=D.useState([]),[w,x]=D.useState(null),[O,T]=D.useState(null),[P,S]=D.useState(!1),[E,I]=D.useState("halves"),[C,k]=D.useState(20),[j,N]=D.useState(2),[U,z]=D.useState(!1);D.useEffect(()=>F5(Yf,async L=>{if(e(L),r(co(L)),L&&co(L))try{const re=await Sde(L);I(re.gameFormat),k(re.periodLength),N(re.gameFormat==="halves"?2:4),console.log("Loaded admin settings from Firebase:",re)}catch(re){console.error("Error loading user settings:",re),I(localStorage.getItem("gameFormat")||"halves"),k(parseInt(localStorage.getItem("periodLength"))||20),N(2)}else I(localStorage.getItem("gameFormat")||"halves"),k(parseInt(localStorage.getItem("periodLength"))||20),N(2);z(!0),s(!1)}),[]);const G=D.useCallback(async X=>{if(!n||!t){X.gameFormat&&(localStorage.setItem("gameFormat",X.gameFormat),I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&(localStorage.setItem("periodLength",X.periodLength.toString()),k(X.periodLength));return}try{await Ede(t,X),X.gameFormat&&(I(X.gameFormat),N(X.gameFormat==="halves"?2:4)),X.periodLength&&k(X.periodLength),console.log("Settings updated successfully across devices")}catch(L){console.error("Error updating settings:",L),alert("Failed to save settings. Please try again.")}},[t,n]);D.useEffect(()=>{document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)},[i]);const K=D.useCallback(()=>o(X=>X==="dark"?"light":"dark"),[]);D.useEffect(()=>{if(!t)return;const X=hr(Je,"teams");return Qa(X,re=>{m(re.docs.map(he=>({id:he.id,...he.data()})))},re=>{console.error("Error loading teams:",re),alert("Error loading teams. Please check your internet connection.")})},[t]),D.useEffect(()=>{if(!t)return;const X=hr(Je,"games");return Qa(X,re=>{const he=re.docs.map(Ee=>({id:Ee.id,...Ee.data()}));v(he)},re=>{console.error("Error loading games:",re),alert("Error loading games. Please check your internet connection.")})},[t]),D.useEffect(()=>{if(!t)return;const X=hr(Je,"stats");return Qa(X,re=>{const he=re.docs.map(Ee=>({id:Ee.id,...Ee.data()}));_(he)},re=>{console.error("Error loading stats:",re),alert("Error loading stats. Please check your internet connection.")})},[t]),D.useEffect(()=>{u(!0);const X=hr(Je,"liveGames"),L=Qa(X,re=>{re.empty?x(null):x(re.docs[0].id),u(!1)},re=>{console.error("Error loading live games:",re),u(!1)});return()=>L()},[d]),D.useEffect(()=>{!t&&w&&d!=="live_viewer"&&f("live_viewer")},[t,w,d]);const F=async(X,L)=>{if(!Vi(t)){Kt("update game photos");return}try{await Or(Ft(Je,"games",X),{photos:L}),v(re=>re.map(he=>he.id===X?{...he,photos:L}:he))}catch(re){console.error("Error updating game photos:",re),alert("Failed to update photos. Please check your internet connection and try again.")}},H=D.useCallback(async X=>{if(!_p(t)){Kt("delete teams");return}try{await Kf(Ft(Je,"teams",X)),console.log("Team deleted:",X)}catch(L){console.error("Error deleting team:",L),alert("Failed to delete team. Please check your internet connection and try again.")}},[t]),Q=async X=>{if(!Vi(t))return Kt("add teams"),null;if(h.some(re=>re.name.toLowerCase()===X.toLowerCase()))return null;try{const re=await Bl(hr(Je,"teams"),{name:X});return console.log("Team added with ID:",re.id),{name:X,id:re.id}}catch(re){return console.error("Error adding team:",re),alert("Failed to add team. Please check your internet connection and try again."),null}},ne=D.useCallback(async X=>{if(!Vi(t)){Kt("add games");return}try{const L=await Bl(hr(Je,"games"),X);console.log("Game added with ID:",L.id)}catch(L){console.error("Error adding game:",L),alert("Failed to add game. Please check your internet connection and try again.")}},[t]),B=D.useCallback(async X=>{if(!Vi(t)){Kt("add statistics");return}const L=X.fg2m*2+X.fg3m*3+X.ftm;let re="T";X.myTeamScore>X.opponentScore?re="W":X.myTeamScore<X.opponentScore&&(re="L");const he={...O,...X,points:L,outcome:re,status:"final",createdAt:new Date().toISOString(),adminName:t!=null&&t.displayName?t.displayName.split(" ")[0]:""};try{const Ee=await Bl(hr(Je,"games"),he);console.log("Game saved with ID:",Ee.id),T(null),f("dashboard")}catch(Ee){console.error("Error saving game:",Ee),alert("Failed to save game. Please check your internet connection and try again.")}},[O,t]),Y=D.useCallback(async X=>{if(!_p(t)){Kt("delete games");return}try{await Kf(Ft(Je,"games",X)),console.log("Game deleted:",X)}catch(L){console.error("Error deleting game:",L),alert("Failed to delete game. Please check your internet connection and try again.")}},[t]),Z=D.useCallback(async(X,L)=>{if(!Vi(t)){Kt("update games");return}try{if(L.myTeamScore!==void 0&&L.opponentScore!==void 0){let re="T";L.myTeamScore>L.opponentScore?re="W":L.myTeamScore<L.opponentScore&&(re="L"),L.outcome=re}L.editedAt=new Date().toISOString(),L.editedBy=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",await Or(Ft(Je,"games",X),L),v(re=>re.map(he=>he.id===X?{...he,...L}:he))}catch(re){throw console.error("Error updating game:",re),alert("Failed to update game. Please check your internet connection and try again."),re}},[t]),se=async X=>{if(!Sy(t)){Kt("manage live games");return}try{const L=Ft(Je,"liveGames",X),re=await mC(L);if(!re.exists()){console.log("Live game not found for endGame, id:",X);return}const he=t!=null&&t.displayName?t.displayName.split(" ")[0]:"",Ee=re.data(),Te=Ee.playerStats||{},Ye=Ee.homeScore??0,Rt=Ee.awayScore??0;let Mt="T";Ye>Rt?Mt="W":Ye<Rt&&(Mt="L");const Mn={...Ee,myTeamScore:Ye,opponentScore:Rt,outcome:Mt,points:(Te.fg2m??0)*2+(Te.fg3m??0)*3+(Te.ftm??0)*1,fg2m:Te.fg2m??0,fg2a:Te.fg2a??0,fg3m:Te.fg3m??0,fg3a:Te.fg3a??0,ftm:Te.ftm??0,fta:Te.fta??0,rebounds:Te.rebounds??0,assists:Te.assists??0,steals:Te.steals??0,blocks:Te.blocks??0,fouls:Te.fouls??0,turnovers:Te.turnovers??0,endedAt:new Date().toISOString(),status:"final",adminName:he,isRunning:!1},Qe=await Bl(hr(Je,"games"),Mn);await Kf(L),x(null),f("game_setup");const Le=hr(Je,"games"),tt=await nE(Le);v(tt.docs.map(zt=>({id:zt.id,...zt.data()})))}catch(L){console.error("Failed to save/end game:",L),alert("Failed to end game. Please check your internet connection and try again.")}},de=async()=>{if(!Sy(t)){Kt("delete live games");return}try{const X=await nE(hr(Je,"liveGames"));for(let L of X.docs)await Kf(Ft(Je,"liveGames",L.id));x(null)}catch(X){console.error("Error deleting live games:",X),alert("Failed to delete live games. Please check your internet connection and try again.")}},ve=async()=>{try{const L=(await a6(Yf,XC)).user;if(!co(L)){await fE(Yf),alert(`Access denied. Only family administrators can sign in.

Your email: ${L.email}

To view games, you can browse without signing in.`);return}}catch(X){if(console.error("Sign in error:",X),X.code==="auth/popup-closed-by-user")return;alert("Sign in failed. Please try again.")}},Be=async()=>{try{d==="live_admin"&&w&&n&&await se(w),await fE(Yf),e(null),r(!1),f("game_setup"),x(null),v([]),_([])}catch(X){console.error("Error signing out:",X)}},ie=async(X,L)=>{if(!Vi(t)){Kt("create games");return}const re={...X,createdBy:(t==null?void 0:t.uid)||null,createdAt:new Date().toISOString(),status:L==="live"?"live":"final",playerStats:{fg2m:0,fg2a:0,fg3m:0,fg3a:0,ftm:0,fta:0,rebounds:0,assists:0,steals:0,blocks:0,fouls:0,turnovers:0},homeScore:0,awayScore:0,isRunning:!1,clock:C?C*60:600,period:1,gameFormat:E||"halves",periodLength:C||20,numPeriods:E==="halves"?2:4};if(L==="live"){if(!Sy(t)){Kt("start live games");return}try{const he=await Bl(hr(Je,"liveGames"),re);x(he.id),f("live_admin")}catch(he){console.error("Error creating live game:",he),alert("Failed to create live game. Please check your internet connection and try again.")}}else T(re),f("add_stat")},ge=()=>{if(!sde(t)){Kt("access settings");return}S(!0)};return a||l||!U?p.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[p.jsx("span",{className:"text-orange-500 font-bold text-3xl animate-spin-slow",children:"🏀"}),p.jsx("span",{className:"ml-4",children:"Loading App..."})]}):!t&&d==="live_viewer"?w?p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(fd,{user:null,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:K,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:de,openSettingsModal:ge,onSignIn:ve,isUserAdmin:!1}),p.jsx("main",{className:"flex-1",children:p.jsx(TI,{db:Je,user:null,gameId:w,setPage:f,teams:h,stats:b,games:g})})]}):p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(fd,{user:null,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:K,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:de,openSettingsModal:ge,isUserAdmin:!1}),p.jsx("main",{className:"flex-1 flex items-center justify-center",children:p.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No live game in progress."})})]}):!t&&d!=="live_viewer"?p.jsx(yde,{onSignIn:ve}):t&&!n&&(d==="game_setup"||d==="add_stat"||d==="live_admin")?p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(fd,{user:t,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:K,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:de,openSettingsModal:ge,isUserAdmin:n}),p.jsx("main",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"max-w-md mx-auto text-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Restricted"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"You don't have permission to access this feature. Only administrators can create and manage games."}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["User role: ",p.jsx("span",{className:"font-medium",children:lde(t)})]}),p.jsx("button",{onClick:()=>f("dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Dashboard"})]})})]}):p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[p.jsx(fd,{user:t,db:Je,onSignOut:Be,setPage:f,theme:i,toggleTheme:K,page:d,liveGameId:w,goToLiveGame:()=>f("live_viewer"),onDeleteAllLiveGames:de,openSettingsModal:ge,isUserAdmin:n}),p.jsx(xde,{open:P,onClose:()=>S(!1),teams:h,onAddTeam:Q,onDeleteTeam:H,gameFormat:E,setGameFormat:X=>G({gameFormat:X}),periodLength:C,setPeriodLength:X=>G({periodLength:X}),theme:i,toggleTheme:K,setPage:f,onDeleteAllLiveGames:de,isUserAdmin:n}),p.jsxs("main",{className:"flex-1",children:[t&&n&&d==="game_setup"&&p.jsx(nB,{user:t,teams:h,stats:g,onAddTeam:Q,setPage:f,games:g,onAddGame:ne,setLiveGameId:x,onSubmit:ie,gameFormat:E,periodLength:C,numPeriods:j}),t&&d==="dashboard"&&p.jsx(mde,{user:t,teams:h,stats:g,onDeleteGame:Y,onDeleteTeam:H,onAddTeam:Q,onUpdateGamePhotos:F,onUpdateGame:Z,isUserAdmin:n}),t&&n&&d==="add_stat"&&O&&p.jsx(_de,{gameConfig:O,isLive:!1,onSave:B,onCancel:()=>{T(null),f("game_setup")}}),t&&n&&d==="live_admin"&&w&&p.jsx(wde,{user:t,db:Je,gameId:w,setPage:f,teams:h,stats:b,games:g,onEndGame:se}),t&&d==="live_viewer"&&w&&p.jsx(TI,{db:Je,user:t,gameId:w,setPage:f,teams:h,stats:b,games:g})]})]})}Ty.createRoot(document.getElementById("root")).render(p.jsx($.StrictMode,{children:p.jsx(Tde,{})}));
